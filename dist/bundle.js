/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={206:(t,e,r)=>{"use strict";var i,n,o,s,a,h,u,l,c,d,p,f,_,m,y,v,g;r.d(e,{iw:()=>f,T$:()=>s,V0:()=>o,yl:()=>_,lg:()=>a,Vi:()=>i,I2:()=>h,UN:()=>m,A7:()=>v,WB:()=>p,G5:()=>g,cB:()=>y,N3:()=>n,aH:()=>c,sp:()=>u,vK:()=>l,Nt:()=>d}),function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(i||(i={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(n||(n={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(o||(o={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(s||(s={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(a||(a={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(h||(h={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(u||(u={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(l||(l={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(c||(c={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(d||(d={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(p||(p={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(f||(f={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(_||(_={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(m||(m={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(y||(y={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(v||(v={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(g||(g={}))},903:(t,e,r)=>{"use strict";r.d(e,{eo:()=>fe,M4:()=>y,I8:()=>se,$N:()=>v,ah:()=>B,bg:()=>g,jd:()=>I,VL:()=>m,a$:()=>ce,JZ:()=>me,TJ:()=>ge,Bv:()=>be,Zk:()=>_e,Sj:()=>et,Ie:()=>de,lW:()=>G,qm:()=>f,Y8:()=>b,lH:()=>it,TA:()=>x,wn:()=>Bt,jV:()=>Z,kV:()=>Q,AI:()=>w,WB:()=>st,tT:()=>nt,Ei:()=>Zt,fy:()=>re,ZX:()=>V,TO:()=>ut,W1:()=>Kt,e_:()=>u,_w:()=>S,PA:()=>T,HI:()=>lt,zj:()=>kt,bO:()=>tt,$r:()=>Lt,NW:()=>Vt,lD:()=>z,ud:()=>W,TI:()=>N,uW:()=>F,J$:()=>qt,Th:()=>ae,_z:()=>p,pX:()=>E,id:()=>Ht,ex:()=>Nt,p:()=>Qt,z9:()=>Xt,ZM:()=>Ft,zI:()=>te,Ld:()=>Yt,xP:()=>R,xE:()=>D,wr:()=>ee,UX:()=>Gt,CT:()=>ie,aF:()=>M,oo:()=>K,eH:()=>A,Rv:()=>pe,e6:()=>he,pb:()=>l,a7:()=>Mt,Y9:()=>le,kP:()=>ue,Jb:()=>xe,eG:()=>Ae,sg:()=>Ot});var i=r(131),n=r(206),o=r(430),s=r(955),a=r(92),h=r(805);i.X.PREFER_ENV=o.isMobile.any?n.Vi.WEBGL:n.Vi.WEBGL2,i.X.STRICT_TEXTURE_CACHE=!1;var u=[];function l(t,e){if(!t)return null;var r="";if("string"==typeof t){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);i&&(r=i[1].toLowerCase())}for(var n=u.length-1;n>=0;--n){var o=u[n];if(o.test&&o.test(t,r))return new o(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function d(t,e){function r(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var p=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new s.R("setRealSize"),this.onUpdate=new s.R("update"),this.onError=new s.R("onError")}return t.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},t.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(t,e,r){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(t,e){return!1},t}(),f=function(t){function e(e,r){var i=this,n=r||{},o=n.width,s=n.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return(i=t.call(this,o,s)||this).data=e,i}return d(e,t),e.prototype.upload=function(t,e,r){var i=t.gl;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===n.iw.UNPACK),r.width===e.width&&r.height===e.height?i.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,i.texImage2D(e.target,0,r.internalFormat,e.width,e.height,0,e.format,r.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(p),_={scaleMode:n.aH.NEAREST,format:n.I2.RGBA,alphaMode:n.iw.NPM},m=function(t){function e(e,r){void 0===e&&(e=null),void 0===r&&(r=null);var s=t.call(this)||this,a=(r=r||{}).alphaMode,h=r.mipmap,u=r.anisotropicLevel,c=r.scaleMode,d=r.width,f=r.height,_=r.wrapMode,m=r.format,y=r.type,v=r.target,g=r.resolution,b=r.resourceOptions;return!e||e instanceof p||((e=l(e,b)).internal=!0),s.width=d||0,s.height=f||0,s.resolution=g||i.X.RESOLUTION,s.mipmap=void 0!==h?h:i.X.MIPMAP_TEXTURES,s.anisotropicLevel=void 0!==u?u:i.X.ANISOTROPIC_LEVEL,s.wrapMode=_||i.X.WRAP_MODE,s.scaleMode=void 0!==c?c:i.X.SCALE_MODE,s.format=m||n.I2.RGBA,s.type=y||n.vK.UNSIGNED_BYTE,s.target=v||n.sp.TEXTURE_2D,s.alphaMode=void 0!==a?a:n.iw.UNPACK,s.uid=(0,o.uid)(),s.touched=0,s.isPowerOfTwo=!1,s._refreshPOT(),s._glTextures={},s.dirtyId=0,s.dirtyStyleId=0,s.cacheId=null,s.valid=d>0&&f>0,s.textureCacheIds=[],s.destroyed=!1,s.resource=null,s._batchEnabled=0,s._batchLocation=0,s.parentTextureArray=null,s.setResource(e),s}return d(e,t),Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(t,e){var r;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=(0,o.isPow2)(this.realWidth)&&(0,o.isPow2)(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT()),this},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete o.BaseTextureCache[this.cacheId],delete o.TextureCache[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(t,r,n){void 0===n&&(n=i.X.STRICT_TEXTURE_CACHE);var s="string"==typeof t,a=null;if(s)a=t;else{if(!t._pixiId){var h=r&&r.pixiIdPrefix||"pixiid";t._pixiId=h+"_"+(0,o.uid)()}a=t._pixiId}var u=o.BaseTextureCache[a];if(s&&n&&!u)throw new Error('The cacheId "'+a+'" does not exist in BaseTextureCache.');return u||((u=new e(t,r)).cacheId=a,e.addToCache(u,a)),u},e.fromBuffer=function(t,r,i,o){t=t||new Float32Array(r*i*4);var s=new f(t,{width:r,height:i}),a=t instanceof Float32Array?n.vK.FLOAT:n.vK.UNSIGNED_BYTE;return new e(s,Object.assign(_,o||{width:r,height:i,type:a}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),o.BaseTextureCache[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),o.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=o.BaseTextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete o.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete o.BaseTextureCache[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},e._globalBatch=0,e}(o.EventEmitter),y=function(t){function e(e,r){var i=this,n=r||{},o=n.width,s=n.height;(i=t.call(this,o,s)||this).items=[],i.itemDirtyIds=[];for(var a=0;a<e;a++){var h=new m;i.items.push(h),i.itemDirtyIds.push(-2)}return i.length=e,i._load=null,i.baseTexture=null,i}return d(e,t),e.prototype.initFromArray=function(t,e){for(var r=0;r<this.length;r++)t[r]&&(t[r].castToBaseTexture?this.addBaseTextureAt(t[r].castToBaseTexture(),r):t[r]instanceof p?this.addResourceAt(t[r],r):this.addResourceAt(l(t[r],e),r))},e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})).filter((function(t){return t})).map((function(t){return t.load()}));return this._load=Promise.all(e).then((function(){var e=t.items[0],r=e.realWidth,i=e.realHeight;return t.resize(r,i),Promise.resolve(t)})),this._load},e}(p),v=function(t){function e(e,r){var i,n,o=this,s=r||{},a=s.width,h=s.height;return Array.isArray(e)?(i=e,n=e.length):n=e,o=t.call(this,n,{width:a,height:h})||this,i&&o.initFromArray(i,r),o}return d(e,t),e.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=n.sp.TEXTURE_2D_ARRAY},e.prototype.upload=function(t,e,r){var i=this,n=i.length,o=i.itemDirtyIds,s=i.items,a=t.gl;r.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,n,0,e.format,e.type,null);for(var h=0;h<n;h++){var u=s[h];o[h]<u.dirtyId&&(o[h]=u.dirtyId,u.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,h,u.resource.width,u.resource.height,1,e.format,e.type,u.resource.source))}return!0},e}(y),g=function(t){function e(e){var r=this,i=e,n=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return(r=t.call(this,n,o)||this).source=e,r.noSubImage=!1,r}return d(e,t),e.crossOrigin=function(t,e,r){void 0===r&&0!==e.indexOf("data:")?t.crossOrigin=(0,o.determineCrossOrigin)(e):!1!==r&&(t.crossOrigin="string"==typeof r?r:"anonymous")},e.prototype.upload=function(t,e,r,i){var o=t.gl,s=e.realWidth,a=e.realHeight;return i=i||this.source,o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===n.iw.UNPACK),this.noSubImage||e.target!==o.TEXTURE_2D||r.width!==s||r.height!==a?(r.width=s,r.height=a,o.texImage2D(e.target,0,e.format,e.format,e.type,i)):o.texSubImage2D(o.TEXTURE_2D,0,0,0,e.format,e.type,i),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source,r=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;this.resize(r,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(p),b=function(t){function e(e){return t.call(this,e)||this}return d(e,t),e.test=function(t){var e=self.OffscreenCanvas;return!!(e&&t instanceof e)||self.HTMLCanvasElement&&t instanceof HTMLCanvasElement},e}(g),x=function(t){function e(r,i){var o=this,s=i||{},a=s.width,h=s.height,u=s.autoLoad,l=s.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");o=t.call(this,6,{width:a,height:h})||this;for(var c=0;c<e.SIDES;c++)o.items[c].target=n.sp.TEXTURE_CUBE_MAP_POSITIVE_X+c;return o.linkBaseTexture=!1!==l,r&&o.initFromArray(r,i),!1!==u&&o.load(),o}return d(e,t),e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=n.sp.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(t,e,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=n.sp.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},e.prototype.upload=function(t,r,i){for(var n=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];n[o]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(t,s,i),n[o]=s.dirtyId):n[o]<-1&&(t.gl.texImage2D(s.target,0,i.internalFormat,r.realWidth,r.realHeight,0,r.format,i.type,null),n[o]=-1))}return!0},e.test=function(t){return Array.isArray(t)&&t.length===e.SIDES},e.SIDES=6,e}(y),T=function(t){function e(e,r){var n=this;if(r=r||{},!(e instanceof HTMLImageElement)){var o=new Image;g.crossOrigin(o,e,r.crossorigin),o.src=e,e=o}return n=t.call(this,e)||this,!e.complete&&n._width&&n._height&&(n._width=0,n._height=0),n.url=e.src,n._process=null,n.preserveBitmap=!1,n.createBitmap=(void 0!==r.createBitmap?r.createBitmap:i.X.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,n.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,n.bitmap=null,n._load=null,!1!==r.autoLoad&&n.load(),n}return d(e,t),e.prototype.load=function(t){var e=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise((function(t,r){var i=e.source;e.url=i.src;var n=function(){e.destroyed||(i.onload=null,i.onerror=null,e.resize(i.width,i.height),e._load=null,e.createBitmap?t(e.process()):t(e))};i.complete&&i.src?n():(i.onload=n,i.onerror=function(t){r(t),e.onError.emit(t)})}))),this._load},e.prototype.process=function(){var t=this,e=this.source;return null!==this._process?this._process:null===this.bitmap&&self.createImageBitmap?(this._process=self.createImageBitmap(e,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===n.iw.UNPACK?"premultiply":"none"}).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process):Promise.resolve(this)},e.prototype.upload=function(e,r,i){if("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,r,i,this.bitmap),!this.preserveBitmap){var n=!0,o=r._glTextures;for(var s in o){var a=o[s];if(a!==i&&a.dirtyId!==r.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},e}(g),E=function(t){function e(e,r){var i=this;return r=r||{},(i=t.call(this,document.createElement("canvas"))||this)._width=0,i._height=0,i.svg=e,i.scale=r.scale||1,i._overrideWidth=r.width,i._overrideHeight=r.height,i._resolve=null,i._crossorigin=r.crossorigin,i._load=null,!1!==r.autoLoad&&i.load(),i}return d(e,t),e.prototype.load=function(){var t=this;return this._load||(this._load=new Promise((function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}))),this._load},e.prototype._loadSvg=function(){var t=this,e=new Image;g.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=function(r){t._resolve&&(e.onerror=null,t.onError.emit(r))},e.onload=function(){if(t._resolve){var r=e.width,i=e.height;if(!r||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=r*t.scale,s=i*t.scale;(t._overrideWidth||t._overrideHeight)&&(n=t._overrideWidth||t._overrideHeight/i*r,s=t._overrideHeight||t._overrideWidth/r*i),n=Math.round(n),s=Math.round(s);var a=t.source;a.width=n,a.height=s,a._pixiId="canvas_"+(0,o.uid)(),a.getContext("2d").drawImage(e,0,0,r,i,0,0,n,s),t._resolve(),t._resolve=null}}},e.getSize=function(t){var r=e.SVG_SIZE.exec(t),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)||"string"==typeof t&&0===t.indexOf("<svg")},e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(g),A=function(t){function e(r,i){var n=this;if(i=i||{},!(r instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof r&&(r=[r]);var s=r[0].src||r[0];g.crossOrigin(o,s,i.crossorigin);for(var a=0;a<r.length;++a){var h=document.createElement("source"),u=r[a],l=u.src,c=u.mime,d=(l=l||r[a]).split("?").shift().toLowerCase(),p=d.substr(d.lastIndexOf(".")+1);c=c||e.MIME_TYPES[p]||"video/"+p,h.src=l,h.type=c,o.appendChild(h)}r=o}return(n=t.call(this,r)||this).noSubImage=!0,n._autoUpdate=!0,n._isConnectedToTicker=!1,n._updateFPS=i.updateFPS||0,n._msToNextUpdate=0,n.autoPlay=!1!==i.autoPlay,n._load=null,n._resolve=null,n._onCanPlay=n._onCanPlay.bind(n),n._onError=n._onError.bind(n),!1!==i.autoLoad&&n.load(),n}return d(e,t),e.prototype.update=function(e){if(!this.destroyed){var r=a.vB.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(r){t.valid?r(t):(t._resolve=r,e.load())})),this._load},e.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(a.vB.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(a.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&a.vB.shared.remove(this.update,this);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(a.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(a.vB.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),e.test=function(t,r){return self.HTMLVideoElement&&t instanceof HTMLVideoElement||e.TYPES.indexOf(r)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(g),S=function(t){function e(e){return t.call(this,e)||this}return d(e,t),e.test=function(t){return!!self.createImageBitmap&&t instanceof ImageBitmap},e}(g);u.push(T,S,b,A,E,f,x,v);var O={__proto__:null,Resource:p,BaseImageResource:g,INSTALLED:u,autoDetectResource:l,AbstractMultiResource:y,ArrayResource:v,BufferResource:f,CanvasResource:b,CubeResource:x,ImageResource:T,SVGResource:E,VideoResource:A,ImageBitmapResource:S},R=function(){function t(t){this.renderer=t}return t.prototype.destroy=function(){this.renderer=null},t}(),P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.upload=function(t,e,r){var i=t.gl;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===n.iw.UNPACK),r.width===e.width&&r.height===e.height?i.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,i.texImage2D(e.target,0,1===t.context.webGLVersion?i.DEPTH_COMPONENT:i.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},e}(f),w=function(){function t(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new s.R("disposeFramebuffer"),this.multisample=n.G5.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new m(null,{scaleMode:n.aH.NEAREST,resolution:1,mipmap:n.WB.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(t){return this.depthTexture=t||new m(new P(null,{width:this.width,height:this.height}),{scaleMode:n.aH.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:n.WB.OFF,format:n.I2.DEPTH_COMPONENT,type:n.vK.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r],n=i.resolution;i.setSize(t/n,e/n)}this.depthTexture&&(n=this.depthTexture.resolution,this.depthTexture.setSize(t/n,e/n))}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),I=function(t){function e(e){var r=this;if("number"==typeof e){var i=arguments[0],n=arguments[1],o=arguments[2],s=arguments[3];e={width:i,height:n,scaleMode:o,resolution:s}}r=t.call(this,null,e)||this;var a=e||{},h=a.width,u=a.height;return r.mipmap=0,r.width=Math.ceil(h)||100,r.height=Math.ceil(u)||100,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new w(r.width*r.resolution,r.height*r.resolution).addColorTexture(0,r),r.maskStack=[],r.filterStack=[{}],r}return d(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(m),M=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,r){var i=e.width,n=e.height;if(r){var o=t.width/2/i,s=t.height/2/n,a=t.x/i+o,u=t.y/n+s;r=h.Lv.add(r,h.Lv.NW),this.x0=a+o*h.Lv.uX(r),this.y0=u+s*h.Lv.uY(r),r=h.Lv.add(r,2),this.x1=a+o*h.Lv.uX(r),this.y1=u+s*h.Lv.uY(r),r=h.Lv.add(r,2),this.x2=a+o*h.Lv.uX(r),this.y2=u+s*h.Lv.uY(r),r=h.Lv.add(r,2),this.x3=a+o*h.Lv.uX(r),this.y3=u+s*h.Lv.uY(r)}else this.x0=t.x/i,this.y0=t.y/n,this.x1=(t.x+t.width)/i,this.y1=t.y/n,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/n,this.x3=t.x/i,this.y3=(t.y+t.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},t}(),C=new M,D=function(t){function e(r,i,n,o,s,a){var u=t.call(this)||this;if(u.noFrame=!1,i||(u.noFrame=!0,i=new h.Ae(0,0,1,1)),r instanceof e&&(r=r.baseTexture),u.baseTexture=r,u._frame=i,u.trim=o,u.valid=!1,u._uvs=C,u.uvMatrix=null,u.orig=n||i,u._rotate=Number(s||0),!0===s)u._rotate=2;else if(u._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return u.defaultAnchor=a?new h.E9(a.x,a.y):new h.E9(0,0),u._updateID=0,u.textureCacheIds=[],r.valid?u.noFrame?r.valid&&u.onBaseTextureUpdated(r):u.frame=i:r.once("loaded",u.onBaseTextureUpdated,u),u.noFrame&&r.on("update",u.onBaseTextureUpdated,u),u}return d(e,t),e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var r=this.baseTexture.resource;r&&r.url&&o.TextureCache[r.url]&&e.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===C&&(this._uvs=new M),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,r,n){void 0===r&&(r={}),void 0===n&&(n=i.X.STRICT_TEXTURE_CACHE);var s="string"==typeof t,a=null;if(s)a=t;else{if(!t._pixiId){var h=r&&r.pixiIdPrefix||"pixiid";t._pixiId=h+"_"+(0,o.uid)()}a=t._pixiId}var u=o.TextureCache[a];if(s&&n&&!u)throw new Error('The cacheId "'+a+'" does not exist in TextureCache.');return u||(r.resolution||(r.resolution=(0,o.getResolutionOfUrl)(t)),(u=new e(new m(t,r))).baseTexture.cacheId=a,m.addToCache(u.baseTexture,a),e.addToCache(u,a)),u},e.fromURL=function(t,r){var i=Object.assign({autoLoad:!1},null==r?void 0:r.resourceOptions),n=e.from(t,Object.assign({resourceOptions:i},r),!1),o=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):o.load().then((function(){return Promise.resolve(n)}))},e.fromBuffer=function(t,r,i,n){return new e(m.fromBuffer(t,r,i,n))},e.fromLoader=function(t,r,n,s){var a=new m(t,Object.assign({scaleMode:i.X.SCALE_MODE,resolution:(0,o.getResolutionOfUrl)(r)},s)),h=a.resource;h instanceof T&&(h.url=r);var u=new e(a);return n||(n=r),m.addToCache(u.baseTexture,n),e.addToCache(u,n),n!==r&&(m.addToCache(u.baseTexture,r),e.addToCache(u,r)),u.baseTexture.valid?Promise.resolve(u):new Promise((function(t){u.baseTexture.once("loaded",(function(){return t(u)}))}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),o.TextureCache[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),o.TextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=o.TextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete o.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)o.TextureCache[t.textureCacheIds[i]]===t&&delete o.TextureCache[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,i=t.width,n=t.height,o=e+i>this.baseTexture.width,s=r+n>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",h="X: "+e+" + "+i+" = "+(e+i)+" > "+this.baseTexture.width,u="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+h+" "+a+" "+u)}this.valid=i&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},e}(o.EventEmitter);function L(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}D.EMPTY=new D(new m),L(D.EMPTY),L(D.EMPTY.baseTexture),D.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new D(new m(new b(t)))}(),L(D.WHITE),L(D.WHITE.baseTexture);var N=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return d(e,t),Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e,r){void 0===r&&(r=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){for(var r=arguments,i=[],n=1;n<arguments.length;n++)i[n-1]=r[n];return"number"==typeof t&&((0,o.deprecation)("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),t={width:t,height:i[0],scaleMode:i[1],resolution:i[2]}),new e(new I(t))},e}(D),F=function(){function t(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(t,e){var r=new I(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new N(r)},t.prototype.getOptimalTexture=function(e,r,i){void 0===i&&(i=1);var n=t.SCREEN_KEY;e*=i,r*=i,this.enableFullScreen&&e===this._pixelsWidth&&r===this._pixelsHeight||(n=(65535&(e=(0,o.nextPow2)(e)))<<16|65535&(r=(0,o.nextPow2)(r))),this.texturePool[n]||(this.texturePool[n]=[]);var s=this.texturePool[n].pop();return s||(s=this.createTexture(e,r)),s.filterPoolKey=n,s.setResolution(i),s},t.prototype.getFilterTexture=function(t,e){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution);return r.filterFrame=t.filterFrame,r},t.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},t.prototype.returnFilterTexture=function(t){this.returnTexture(t)},t.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){var r=t.SCREEN_KEY,i=this.texturePool[r];if(this.enableFullScreen=e.width>0&&e.height>0,i)for(var n=0;n<i.length;n++)i[n].destroy(!0);this.texturePool[r]=[],this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY="screen",t}(),B=function(){function t(t,e,r,i,n,o,s){void 0===e&&(e=0),void 0===r&&(r=!1),void 0===i&&(i=5126),this.buffer=t,this.size=e,this.normalized=r,this.type=i,this.stride=n,this.start=o,this.instance=s}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,i,n,o){return new t(e,r,i,n,o)},t}(),U=0,G=function(){function t(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=U++,this.disposeRunner=new s.R("disposeBuffer")}return t.prototype.update=function(t){this.data=t||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}();function X(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var k={Float32Array,Uint32Array,Int32Array,Uint8Array},j={5126:4,5123:2,5121:1},H=0,Y={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},V=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=H++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new s.R("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(t,e,r,i,n,o,s,a){if(void 0===r&&(r=0),void 0===i&&(i=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof G||(e instanceof Array&&(e=new Float32Array(e)),e=new G(e));var h=t.split("|");if(h.length>1){for(var u=0;u<h.length;u++)this.addAttribute(h[u],e,r,i,n);return this}var l=this.buffers.indexOf(e);return-1===l&&(this.buffers.push(e),l=this.buffers.length-1),this.attributes[t]=new B(l,r,i,n,o,s,a),this.instanced=this.instanced||a,this},t.prototype.getAttribute=function(t){return this.attributes[t]},t.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},t.prototype.addIndex=function(t){return t instanceof G||(t instanceof Array&&(t=new Uint16Array(t)),t=new G(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],r=[],i=new G;for(t in this.attributes){var n=this.attributes[t],o=this.buffers[n.buffer];e.push(o.data),r.push(n.size*j[n.type]/4),n.buffer=0}for(i.data=function(t,e){for(var r=0,i=0,n={},o=0;o<t.length;o++)i+=e[o],r+=t[o].length;var s=new ArrayBuffer(4*r),a=null,h=0;for(o=0;o<t.length;o++){var u=e[o],l=t[o],c=X(l);n[c]||(n[c]=new k[c](s)),a=n[c];for(var d=0;d<l.length;d++)a[(d/u|0)*i+h+d%u]=l[d];h+=u}return new Float32Array(s)}(e,r),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new G(this.buffers[r].data.slice(0));for(var r in this.attributes){var i=this.attributes[r];e.attributes[r]=new B(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.index=!0),e},t.merge=function(e){for(var r,i=new t,n=[],o=[],s=[],a=0;a<e.length;a++){r=e[a];for(var h=0;h<r.buffers.length;h++)o[h]=o[h]||0,o[h]+=r.buffers[h].data.length,s[h]=0}for(a=0;a<r.buffers.length;a++)n[a]=new(Y[X(r.buffers[a].data)])(o[a]),i.buffers[a]=new G(n[a]);for(a=0;a<e.length;a++)for(r=e[a],h=0;h<r.buffers.length;h++)n[h].set(r.buffers[h].data,s[h]),s[h]+=r.buffers[h].data.length;if(i.attributes=r.attributes,r.indexBuffer){i.indexBuffer=i.buffers[r.buffers.indexOf(r.indexBuffer)],i.indexBuffer.index=!0;var u=0,l=0,c=0,d=0;for(a=0;a<r.buffers.length;a++)if(r.buffers[a]!==r.indexBuffer){d=a;break}for(var a in r.attributes){var p=r.attributes[a];(0|p.buffer)===d&&(l+=p.size*j[p.type]/4)}for(a=0;a<e.length;a++){var f=e[a].indexBuffer.data;for(h=0;h<f.length;h++)i.indexBuffer.data[h+c]+=u;u+=r.buffers[d].data.length/l,c+=f.length}}return i},t}(),z=function(t){function e(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return d(e,t),e}(V),W=function(t){function e(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new G(e.vertices),e.uvBuffer=new G(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return d(e,t),e.prototype.map=function(t,e){var r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+e.width/t.width,this.uvs[3]=i,this.uvs[4]=r+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=r,this.uvs[7]=i+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(V),q=0,K=function(){function t(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=q++,this.static=!!e}return t.prototype.update=function(){this.dirtyId++},t.prototype.add=function(e,r,i){this.uniforms[e]=new t(r,i)},t.from=function(e,r){return new t(e,r)},t}(),Z=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new h.Ae,this.destinationFrame=new h.Ae,this.bindingSourceFrame=new h.Ae,this.bindingDestinationFrame=new h.Ae,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),$=[new h.E9,new h.E9,new h.E9,new h.E9],J=new h.y3,Q=function(t){function e(e){var r=t.call(this,e)||this;return r.defaultFilterStack=[{}],r.texturePool=new F,r.texturePool.setScreenSize(e.view),r.statePool=[],r.quad=new z,r.quadUv=new W,r.tempRect=new h.Ae,r.activeState={},r.globalUniforms=new K({outputFrame:new h.Ae,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),r.forceClear=!1,r.useMaxPadding=!1,r}return d(e,t),e.prototype.push=function(t,e){for(var r=this.renderer,i=this.defaultFilterStack,n=this.statePool.pop()||new Z,o=this.renderer.renderTexture,s=e[0].resolution,a=e[0].padding,h=e[0].autoFit,u=e[0].legacy,l=1;l<e.length;l++){var c=e[l];s=Math.min(s,c.resolution),a=this.useMaxPadding?Math.max(a,c.padding):a+c.padding,h=h&&c.autoFit,u=u||c.legacy}if(1===i.length&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(n),n.resolution=s,n.legacy=u,n.target=t,n.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),n.sourceFrame.pad(a),h){var d=this.tempRect.copyFrom(o.sourceFrame);r.projection.transform&&this.transformAABB(J.copyFrom(r.projection.transform).invert(),d),n.sourceFrame.fit(d)}this.roundFrame(n.sourceFrame,o.current?o.current.resolution:r.resolution,o.sourceFrame,o.destinationFrame,r.projection.transform),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,s),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height;var p=this.tempRect;p.x=0,p.y=0,p.width=n.sourceFrame.width,p.height=n.sourceFrame.height,n.renderTexture.filterFrame=n.sourceFrame,n.bindingSourceFrame.copyFrom(o.sourceFrame),n.bindingDestinationFrame.copyFrom(o.destinationFrame),n.transform=r.projection.transform,r.projection.transform=null,o.bind(n.renderTexture,n.sourceFrame,p),r.framebuffer.clear(0,0,0,0)},e.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;var i=this.globalUniforms.uniforms;i.outputFrame=e.sourceFrame,i.resolution=e.resolution;var o=i.inputSize,s=i.inputPixel,a=i.inputClamp;if(o[0]=e.destinationFrame.width,o[1]=e.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],s[0]=o[0]*e.resolution,s[1]=o[1]*e.resolution,s[2]=1/s[0],s[3]=1/s[1],a[0]=.5*s[2],a[1]=.5*s[3],a[2]=e.sourceFrame.width*o[2]-.5*s[2],a[3]=e.sourceFrame.height*o[3]-.5*s[3],e.legacy){var h=i.filterArea;h[0]=e.destinationFrame.width,h[1]=e.destinationFrame.height,h[2]=e.sourceFrame.x,h[3]=e.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var u=t[t.length-1];if(e.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,e.renderTexture,u.renderTexture,n.yl.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var l=e.renderTexture,c=this.getOptimalFilterTexture(l.width,l.height,e.resolution);c.filterFrame=l.filterFrame;var d=0;for(d=0;d<r.length-1;++d){r[d].apply(this,l,c,n.yl.CLEAR,e);var p=l;l=c,c=p}r[d].apply(this,l,u.renderTexture,n.yl.BLEND,e),this.returnFilterTexture(l),this.returnFilterTexture(c)}e.clear(),this.statePool.push(e)},e.prototype.bindAndClear=function(t,e){void 0===e&&(e=n.yl.CLEAR);var r=this.renderer,i=r.renderTexture,o=r.state;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t&&t.filterFrame){var s=this.tempRect;s.x=0,s.y=0,s.width=t.filterFrame.width,s.height=t.filterFrame.height,i.bind(t,t.filterFrame,s)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var a=1&o.stateId||this.forceClear;(e===n.yl.CLEAR||e===n.yl.BLIT&&a)&&this.renderer.framebuffer.clear(0,0,0,0)},e.prototype.applyFilter=function(t,e,r,i){var o=this.renderer;o.state.set(t.state),this.bindAndClear(r,i),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(n.lg.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(n.lg.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.activeState,i=r.sourceFrame,n=r.destinationFrame,o=e._texture.orig,s=t.set(n.width,0,0,n.height,i.x,i.y),a=e.worldTransform.copyTo(h.y3.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(e.anchor.x,e.anchor.y),s},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,e,r){return void 0===r&&(r=1),this.texturePool.getOptimalTexture(t,e,r)},e.prototype.getFilterTexture=function(t,e){if("number"==typeof t){var r=t;t=e,e=r}t=t||this.activeState.renderTexture;var i=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return i.filterFrame=t.filterFrame,i},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e.prototype.transformAABB=function(t,e){var r=$[0],i=$[1],n=$[2],o=$[3];r.set(e.left,e.top),i.set(e.left,e.bottom),n.set(e.right,e.top),o.set(e.right,e.bottom),t.apply(r,r),t.apply(i,i),t.apply(n,n),t.apply(o,o);var s=Math.min(r.x,i.x,n.x,o.x),a=Math.min(r.y,i.y,n.y,o.y),h=Math.max(r.x,i.x,n.x,o.x),u=Math.max(r.y,i.y,n.y,o.y);e.x=s,e.y=a,e.width=h-s,e.height=u-a},e.prototype.roundFrame=function(t,e,r,i,n){if(n){var o=n.a,s=n.b,a=n.c,h=n.d;if(!(0===s&&0===a||0===o&&0===h))return}(n=n?J.copyFrom(n):J.identity()).translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(n,t),t.ceil(e),this.transformAABB(n.invert(),t)},e}(R),tt=function(){function t(t){this.renderer=t}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(t){},t}(),et=function(t){function e(e){var r=t.call(this,e)||this;return r.emptyRenderer=new tt(e),r.currentRenderer=r.emptyRenderer,r}return d(e,t),e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,e){for(var r=this.renderer.texture.boundTextures,i=e-1;i>=0;--i)t[i]=r[i]||null,t[i]&&(t[i]._batchLocation=i)},e.prototype.boundArray=function(t,e,r,i){for(var n=t.elements,o=t.ids,s=t.count,a=0,h=0;h<s;h++){var u=n[h],l=u._batchLocation;if(l>=0&&l<i&&e[l]===u)o[h]=l;else for(;a<i;){var c=e[a];if(!c||c._batchEnabled!==r||c._batchLocation!==a){o[h]=a,u._batchLocation=a,e[a]=u;break}a++}}},e}(R),rt=0,it=function(t){function e(e){var r=t.call(this,e)||this;return r.webGLVersion=1,r.extensions={},r.supports={uint32Indices:!1},r.handleContextLost=r.handleContextLost.bind(r),r.handleContextRestored=r.handleContextRestored.bind(r),e.view.addEventListener("webglcontextlost",r.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",r.handleContextRestored,!1),r}return d(e,t),Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=rt++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=rt++,this.renderer.runners.contextChange.emit(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var r;if(i.X.PREFER_ENV>=n.Vi.WEBGL2&&(r=t.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){var e=t.getContextAttributes(),r="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext;r&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=r||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(R),nt=function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=n.G5.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},ot=new h.Ae,st=function(t){function e(e){var r=t.call(this,e)||this;return r.managedFramebuffers=[],r.unknownFramebuffer=new w(10,10),r.msaaSamples=null,r}return d(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new h.Ae,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;i.X.PREFER_ENV===n.Vi.WEBGL_LEGACY&&(e=null,r=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},e.prototype.bind=function(t,e){var r=this.gl;if(t){var i=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.dirtyId!==t.dirtyId&&(i.dirtyId=t.dirtyId,i.dirtyFormat!==t.dirtyFormat?(i.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):i.dirtySize!==t.dirtySize&&(i.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var n=0;n<t.colorTextures.length;n++){var o=t.colorTextures[n];this.renderer.texture.unbind(o.parentTextureArray||o)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,r,i){var n=this.viewport;n.width===r&&n.height===i&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=r,n.height=i,this.gl.viewport(t,e,r,i))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(t,e,r,i,o){void 0===o&&(o=n.V0.COLOR|n.V0.DEPTH);var s=this.gl;s.clearColor(t,e,r,i),s.clear(o)},e.prototype.initFramebuffer=function(t){var e=this.gl,r=new nt(e.createFramebuffer());return r.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(t),t.disposeRunner.add(this),r},e.prototype.resizeFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID];r.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var i=t.colorTextures,n=0;n<i.length;n++)this.renderer.texture.bind(i[n],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],i=t.colorTextures.length;e.drawBuffers||(i=Math.min(i,1)),r.multisample>1&&(r.msaaBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.RGBA8,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,r.msaaBuffer));for(var n=[],o=0;o<i;o++)if(!(0===o&&r.multisample>1)){var s=t.colorTextures[o],a=s.parentTextureArray||s;this.renderer.texture.bind(a,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,s.target,a._glTextures[this.CONTEXT_UID].texture,0),n.push(e.COLOR_ATTACHMENT0+o)}if(n.length>1&&e.drawBuffers(n),t.depthTexture&&this.writeDepthTexture){var h=t.depthTexture;this.renderer.texture.bind(h,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,0)}r.stencil||!t.stencil&&!t.depth||(r.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,r.stencil))},e.prototype.detectSamples=function(t){var e=this.msaaSamples,r=n.G5.NONE;if(t<=1||null===e)return r;for(var i=0;i<e.length;i++)if(e[i]<=t){r=e[i];break}return 1===r&&(r=n.G5.NONE),r},e.prototype.blit=function(t,e,r){var i=this,n=i.current,o=i.renderer,s=i.gl,a=i.CONTEXT_UID;if(2===o.context.webGLVersion&&n){var h=n.glFramebuffers[a];if(h){if(!t){if(h.multisample<=1)return;h.blitFramebuffer||(h.blitFramebuffer=new w(n.width,n.height),h.blitFramebuffer.addColorTexture(0,n.colorTextures[0])),(t=h.blitFramebuffer).width=n.width,t.height=n.height}e||((e=ot).width=n.width,e.height=n.height),r||(r=e);var u=e.width===r.width&&e.height===r.height;this.bind(t),s.bindFramebuffer(s.READ_FRAMEBUFFER,h.framebuffer),s.blitFramebuffer(e.x,e.y,e.width,e.height,r.x,r.y,r.width,r.height,s.COLOR_BUFFER_BIT,u?s.NEAREST:s.LINEAR)}}},e.prototype.disposeFramebuffer=function(t,e){var r=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(r){delete t.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(t);n>=0&&this.managedFramebuffers.splice(n,1),t.disposeRunner.remove(this),e||(i.deleteFramebuffer(r.framebuffer),r.stencil&&i.deleteRenderbuffer(r.stencil))}},e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)},e.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.enableStencil();var r=t.width,i=t.height,n=this.gl,o=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,o),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r,i),e.stencil=o,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,o)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new h.Ae},e}(R),at=function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},ht={5126:4,5123:2,5121:1},ut=function(t){function e(e){var r=t.call(this,e)||this;return r._activeGeometry=null,r._activeVao=null,r.hasVao=!0,r.hasInstance=!0,r.canUseUInt32ElementIndex=!1,r.managedGeometries={},r.managedBuffers={},r}return d(e,t),e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var r=this.renderer.context.extensions.vertexArrayObject;i.X.PREFER_ENV===n.Vi.WEBGL_LEGACY&&(r=null),r?(t.createVertexArray=function(){return r.createVertexArrayOES()},t.bindVertexArray=function(t){return r.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return r.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var o=t.getExtension("ANGLE_instanced_arrays");o?(t.vertexAttribDivisor=function(t,e){return o.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,r,i,n){return o.drawElementsInstancedANGLE(t,e,r,i,n)},t.drawArraysInstanced=function(t,e,r,i){return o.drawArraysInstancedANGLE(t,e,r,i)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var r=this.gl,i=t.glVertexArrayObjects[this.CONTEXT_UID],n=!1;i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={},n=!0);var o=i[e.program.id]||this.initGeometryVao(t,e.program,n);this._activeGeometry=t,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,r=0;r<t.buffers.length;r++){var i=t.buffers[r],n=i._glBuffers[this.CONTEXT_UID];if(i._updateID!==n.updateID){n.updateID=i._updateID;var o=i.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(o,n.buffer),this._boundBuffer=n,n.byteLength>=i.data.byteLength)e.bufferSubData(o,0,i.data);else{var s=i.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;n.byteLength=i.data.byteLength,e.bufferData(o,i.data,s)}}}},e.prototype.checkCompatibility=function(t,e){var r=t.attributes,i=e.attributeData;for(var n in i)if(!r[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},e.prototype.getSignature=function(t,e){var r=t.attributes,i=e.attributeData,n=["g",t.id];for(var o in r)i[o]&&n.push(o);return n.join("-")},e.prototype.initGeometryVao=function(t,e,r){void 0===r&&(r=!0),this.checkCompatibility(t,e);var i=this.gl,n=this.CONTEXT_UID,o=this.getSignature(t,e),s=t.glVertexArrayObjects[this.CONTEXT_UID],a=s[o];if(a)return s[e.id]=a,a;var h=t.buffers,u=t.attributes,l={},c={};for(var d in h)l[d]=0,c[d]=0;for(var d in u)!u[d].size&&e.attributeData[d]?u[d].size=e.attributeData[d].size:u[d].size||console.warn("PIXI Geometry attribute '"+d+"' size cannot be determined (likely the bound shader does not have the attribute)"),l[u[d].buffer]+=u[d].size*ht[u[d].type];for(var d in u){var p=u[d],f=p.size;void 0===p.stride&&(l[p.buffer]===f*ht[p.type]?p.stride=0:p.stride=l[p.buffer]),void 0===p.start&&(p.start=c[p.buffer],c[p.buffer]+=f*ht[p.type])}a=i.createVertexArray(),i.bindVertexArray(a);for(var _=0;_<h.length;_++){var m=h[_];m._glBuffers[n]||(m._glBuffers[n]=new at(i.createBuffer()),this.managedBuffers[m.id]=m,m.disposeRunner.add(this)),r&&m._glBuffers[n].refCount++}return this.activateVao(t,e),this._activeVao=a,s[e.id]=a,s[o]=a,a},e.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),r&&(e||i.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,n=t.buffers;if(t.disposeRunner.remove(this),r){for(var o=0;o<n.length;o++){var s=n[o]._glBuffers[this.CONTEXT_UID];s.refCount--,0!==s.refCount||e||this.disposeBuffer(n[o],e)}if(!e)for(var a in r)if("g"===a[0]){var h=r[a];this._activeVao===h&&this.unbind(),i.deleteVertexArray(h)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t);for(e=Object.keys(this.managedBuffers),r=0;r<e.length;r++)this.disposeBuffer(this.managedBuffers[e[r]],t)},e.prototype.activateVao=function(t,e){var r=this.gl,i=this.CONTEXT_UID,n=t.buffers,o=t.attributes;t.indexBuffer&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[i].buffer);var s=null;for(var a in o){var h=o[a],u=n[h.buffer]._glBuffers[i];if(e.attributeData[a]){s!==u&&(r.bindBuffer(r.ARRAY_BUFFER,u.buffer),s=u);var l=e.attributeData[a].location;if(r.enableVertexAttribArray(l),r.vertexAttribPointer(l,h.size,h.type||r.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(l,1)}}}},e.prototype.draw=function(t,e,r,i){var n=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,a=2===s?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?o.instanced?n.drawElementsInstanced(t,e||o.indexBuffer.data.length,a,(r||0)*s,i||1):n.drawElements(t,e||o.indexBuffer.data.length,a,(r||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?n.drawArraysInstanced(t,r,e||o.getSize(),i||1):n.drawArrays(t,r,e||o.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(R),lt=function(){function t(t){void 0===t&&(t=null),this.type=n.A7.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=n.A7.NONE,this.autoDetect=!0),this._target=null},t.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function ct(t,e,r){var i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),i}function dt(t,e,r,i){var n=ct(t,t.VERTEX_SHADER,e),o=ct(t,t.FRAGMENT_SHADER,r),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,o),i)for(var a in i)t.bindAttribLocation(s,i[a],a);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||(console.warn(e),console.error(t.getShaderInfoLog(n))),t.getShaderParameter(o,t.COMPILE_STATUS)||(console.warn(r),console.error(t.getShaderInfoLog(o))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(n),t.deleteShader(o),s}function pt(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function ft(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return pt(2*e);case"bvec3":return pt(3*e);case"bvec4":return pt(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var _t,mt={},yt=mt;function vt(){if(yt===mt||yt&&yt.isContextLost()){var t=document.createElement("canvas"),e=void 0;i.X.PREFER_ENV>=n.Vi.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),yt=e}return yt}function gt(t,e,r){if("precision"!==t.substring(0,9)){var i=e;return e===n.cB.HIGH&&r!==n.cB.HIGH&&(i=n.cB.MEDIUM),"precision "+i+" float;\n"+t}return r!==n.cB.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var bt={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function xt(t){return bt[t]}var Tt=null,Et={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function At(t,e){if(!Tt){var r=Object.keys(Et);Tt={};for(var i=0;i<r.length;++i){var n=r[i];Tt[t[n]]=Et[n]}}return Tt[e]}var St,Ot=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Rt={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",uint:"gl.uniform1ui(location, v)",uvec2:"gl.uniform2ui(location, v[0], v[1])",uvec3:"gl.uniform3ui(location, v[0], v[1], v[2])",uvec4:"gl.uniform4ui(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Pt={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},wt=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function It(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}function Mt(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var i=wt.replace(/%forloop%/gi,It(t));if(e.shaderSource(r,i),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return t}var Ct=0,Dt={},Lt=function(){function t(e,r,o){void 0===o&&(o="pixi-shader"),this.id=Ct++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(o=o.replace(/\s+/g,"-"),Dt[o]?(Dt[o]++,o+="-"+Dt[o]):Dt[o]=1,this.vertexSrc="#define SHADER_NAME "+o+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+o+"\n"+this.fragmentSrc,this.vertexSrc=gt(this.vertexSrc,i.X.PRECISION_VERTEX,n.cB.HIGH),this.fragmentSrc=gt(this.fragmentSrc,i.X.PRECISION_FRAGMENT,function(){if(!_t){_t=n.cB.MEDIUM;var t=vt();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);_t=e.precision?n.cB.HIGH:n.cB.MEDIUM}}return _t}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return t.prototype.extractData=function(t,e){var r=vt();if(r){var i=dt(r,t,e);this.attributeData=this.getAttributeData(i,r),this.uniformData=this.getUniformData(i,r),r.deleteProgram(i)}else this.uniformData={},this.attributeData={}},t.prototype.getAttributeData=function(t,e){for(var r={},i=[],n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<n;o++){var s=e.getActiveAttrib(t,o),a=At(e,s.type),h={type:a,name:s.name,size:xt(a),location:0};r[s.name]=h,i.push(h)}for(i.sort((function(t,e){return t.name>e.name?1:-1})),o=0;o<i.length;o++)i[o].location=o;return r},t.prototype.getUniformData=function(t,e){for(var r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<i;n++){var o=e.getActiveUniform(t,n),s=o.name.replace(/\[.*?\]$/,""),a=o.name.match(/\[.*?\]$/),h=At(e,o.type);r[s]={type:h,size:o.size,isArray:a,value:ft(h,o.size)}}return r},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),t.from=function(e,r,i){var n=e+r,s=o.ProgramCache[n];return s||(o.ProgramCache[n]=s=new t(e,r,i)),s},t}(),Nt=function(){function t(t,e){for(var r in this.program=t,this.uniformGroup=e?e instanceof K?e:new K(e):new K({}),t.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))}return t.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var r in e.uniforms){var i=e.uniforms[r];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,i){return new t(Lt.from(e,r),i)},t}(),Ft=function(){function t(){this.data=0,this.blendMode=n.T$.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==n.T$.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),Bt=function(t){function e(r,n,o){var s=this,a=Lt.from(r||e.defaultVertexSrc,n||e.defaultFragmentSrc);return(s=t.call(this,a,o)||this).padding=0,s.resolution=i.X.FILTER_RESOLUTION,s.enabled=!0,s.autoFit=!0,s.legacy=!!s.program.attributeData.aTextureCoord,s.state=new Ft,s}return d(e,t),e.prototype.apply=function(t,e,r,i,n){t.applyFilter(this,e,r,i)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),e}(Nt),Ut=new h.y3,Gt=function(){function t(t,e){this._texture=t,this.mapCoord=new h.y3,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var n=t[i],o=t[i+1];e[i]=n*r.a+o*r.c+r.tx,e[i+1]=n*r.b+o*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=e.orig,n=e.trim;n&&(Ut.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(Ut));var o=e.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(e._frame.x+a+h)/o.width,s[1]=(e._frame.y+a+h)/o.height,s[2]=(e._frame.x+e._frame.width-a+h)/o.width,s[3]=(e._frame.y+e._frame.height-a+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},t}(),Xt=function(t){function e(e){var r=this,i=new h.y3;return r=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this,e.renderable=!1,r.maskSprite=e,r.maskMatrix=i,r}return d(e,t),e.prototype.apply=function(t,e,r,i){var n=this.maskSprite,o=n._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Gt(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,e,r,i))},e}(Bt),kt=function(t){function e(e){var r=t.call(this,e)||this;return r.enableScissor=!0,r.alphaMaskPool=[],r.maskDataPool=[],r.maskStack=[],r.alphaMaskIndex=0,r}return d(e,t),e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,e){var r=e;if(!r.isMaskData){var i=this.maskDataPool.pop()||new lt;i.pooled=!0,i.maskObject=e,r=i}switch(r.autoDetect&&this.detect(r),r.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),r._target=t,r.type){case n.A7.SCISSOR:this.maskStack.push(r),this.renderer.scissor.push(r);break;case n.A7.STENCIL:this.maskStack.push(r),this.renderer.stencil.push(r);break;case n.A7.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r),this.maskStack.push(r)}},e.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){switch(e.type){case n.A7.SCISSOR:this.renderer.scissor.pop();break;case n.A7.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case n.A7.SPRITE:this.popSpriteMask()}e.reset(),e.pooled&&this.maskDataPool.push(e)}},e.prototype.detect=function(t){var e=t.maskObject;if(e.isSprite)t.type=n.A7.SPRITE;else if(t.type=n.A7.STENCIL,this.enableScissor&&e.isFastRect&&e.isFastRect()){var r=e.worldTransform,i=Math.atan2(r.b,r.a),o=Math.atan2(r.d,r.c);i=Math.round(i*(180/Math.PI)*100),o=((o=Math.round(o*(180/Math.PI)*100)-i)%18e3+18e3)%18e3,0==(i=(i%9e3+9e3)%9e3)&&9e3===o&&(t.type=n.A7.SCISSOR)}},e.prototype.pushSpriteMask=function(t){var e=t.maskObject,r=t._target,i=this.alphaMaskPool[this.alphaMaskIndex];i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new Xt(e)]),i[0].resolution=this.renderer.resolution,i[0].maskSprite=e;var n=r.filterArea;r.filterArea=e.getBounds(!0),this.renderer.filter.push(r,i),r.filterArea=n,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e}(R),jt=function(t){function e(e){var r=t.call(this,e)||this;return r.maskStack=[],r.glConst=0,r}return d(e,t),e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var e=this.renderer.gl,r=this.getStackLength();this.maskStack=t;var i=this.getStackLength();i!==r&&(0===i?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.maskStack=null},e}(R),Ht=function(t){function e(e){var r=t.call(this,e)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return d(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var r=t._scissorRect,i=e.getBounds(!0),n=this.renderer.gl;e.renderable=!1,r?i.fit(r):n.enable(n.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=i,this._useCurrent()},e.prototype.pop=function(){var t=this.renderer.gl;this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,r=this.renderer.projection,i=r.transform,n=r.sourceFrame,o=r.destinationFrame,s=e?e.resolution:this.renderer.resolution,a=o.width/n.width,h=o.height/n.height,u=((t.x-n.x)*a+o.x)*s,l=((t.y-n.y)*h+o.y)*s,c=t.width*a*s,d=t.height*h*s;i&&(u+=i.tx*s,l+=i.ty*s),e||(l=this.renderer.height-d-l),this.renderer.gl.scissor(u,l,c,d)},e}(jt),Yt=function(t){function e(e){var r=t.call(this,e)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return d(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var e=t.maskObject,r=this.renderer.gl,i=t._stencilCounter;0===i&&(this.renderer.framebuffer.forceStencil(),r.enable(r.STENCIL_TEST)),t._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,i,this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),this.renderer.framebuffer.blit(),e.renderable=!1,this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},e}(jt),Vt=function(t){function e(e){var r=t.call(this,e)||this;return r.destinationFrame=null,r.sourceFrame=null,r.defaultFrame=null,r.projectionMatrix=new h.y3,r.transform=null,r}return d(e,t),e.prototype.update=function(t,e,r,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,r,i){var n=this.projectionMatrix,o=i?-1:1;n.identity(),n.a=1/e.width*2,n.d=o*(1/e.height*2),n.tx=-1-e.x*n.a,n.ty=-o-e.y*n.d},e.prototype.setTransform=function(t){},e}(R),zt=new h.Ae,Wt=new h.Ae,qt=function(t){function e(e){var r=t.call(this,e)||this;return r.clearColor=e._backgroundColorRgba,r.defaultMaskStack=[],r.current=null,r.sourceFrame=new h.Ae,r.destinationFrame=new h.Ae,r.viewportFrame=new h.Ae,r}return d(e,t),e.prototype.bind=function(t,e,r){void 0===t&&(t=null);var i,n,o,s=this.renderer;this.current=t,t?(o=(i=t.baseTexture).resolution,e||(zt.width=t.frame.width,zt.height=t.frame.height,e=zt),r||(Wt.x=t.frame.x,Wt.y=t.frame.y,Wt.width=e.width,Wt.height=e.height,r=Wt),n=i.framebuffer):(o=s.resolution,e||(zt.width=s.screen.width,zt.height=s.screen.height,e=zt),r||((r=zt).width=e.width,r.height=e.height));var a=this.viewportFrame;a.x=r.x*o,a.y=r.y*o,a.width=r.width*o,a.height=r.height*o,t||(a.y=s.view.height-(a.y+a.height)),this.renderer.framebuffer.bind(n,a),this.renderer.projection.update(r,e,o,!n),t?this.renderer.mask.setMaskStack(i.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(r)},e.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var r=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,n=r.width!==i.width||r.height!==i.height;if(n){var o=this.viewportFrame,s=o.x,a=o.y,h=o.width,u=o.height;this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(s,a,h,u)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),n&&this.renderer.scissor.pop()},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(R),Kt=function(){},Zt=function(){function t(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},t}(),$t=0,Jt={textureCount:0},Qt=function(t){function e(e){var r=t.call(this,e)||this;return r.destroyed=!1,r.systemCheck(),r.gl=null,r.shader=null,r.program=null,r.cache={},r.id=$t++,r}return d(e,t),e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof St)return St;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");St=!0===t({a:"b"},"a","b")}catch(t){St=!1}return St}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),e||(Jt.textureCount=0,this.syncUniformGroup(t.uniformGroup,Jt)),i},e.prototype.setUniforms=function(t){var e=this.shader.program,r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t,e){var r=this.getglProgram();t.static&&t.dirtyId===r.uniformGroups[t.id]||(r.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,e))},e.prototype.syncUniforms=function(t,e,r){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,r)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var r=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var i in t.uniforms){var n=e[i];if(n){for(var o=t.uniforms[i],s=!1,a=0;a<Ot.length;a++)if(Ot[a].test(n,o)){r.push(Ot[a].code(i,o)),s=!0;break}if(!s){var h=(1===n.size?Rt:Pt)[n.type].replace("location",'ud["'+i+'"].location');r.push('\n            cv = ud["'+i+'"].value;\n            v = uv["'+i+'"];\n            '+h+";")}}else t.uniforms[i].group&&r.push('\n                    renderer.shader.syncUniformGroup(uv["'+i+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var r=t.uniforms,i=[];for(var n in r)i.push(n),e[n]&&i.push(e[n].type);return i.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,r=t.program,i={};for(var n in r.attributeData)i[n]=r.attributeData[n].location;var o=dt(e,r.vertexSrc,r.fragmentSrc,i),s={};for(var n in r.uniformData){var a=r.uniformData[n];s[n]={location:e.getUniformLocation(o,n),value:ft(a.type,a.size)}}var h=new Zt(o,s);return r.glPrograms[this.renderer.CONTEXT_UID]=h,h},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(R),te=function(t){function e(e){var r=t.call(this,e)||this;return r.gl=null,r.stateId=0,r.polygonOffset=0,r.blendMode=n.T$.NONE,r._blendEq=!1,r.map=[],r.map[0]=r.setBlend,r.map[1]=r.setOffset,r.map[2]=r.setCullFace,r.map[3]=r.setDepthTest,r.map[4]=r.setFrontFace,r.map[5]=r.setDepthMask,r.checks=[],r.defaultState=new Ft,r.defaultState.blend=!0,r}return d(e,t),e.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[n.T$.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.T$.ADD]=[t.ONE,t.ONE],e[n.T$.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.T$.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.T$.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.T$.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.T$.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.T$.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.T$.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.T$.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.T$.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.T$.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.T$.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.T$.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.T$.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.T$.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.T$.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.T$.NONE]=[0,0],e[n.T$.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.T$.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[n.T$.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.T$.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[n.T$.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[n.T$.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[n.T$.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[n.T$.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[n.T$.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[n.T$.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[n.T$.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[n.T$.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,r=0;e;)1&e&&this.map[r].call(this,!!(t.data&1<<r)),e>>=1,r++;this.stateId=t.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setDepthMask=function(t){this.gl.depthMask(t)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],r=this.gl;2===e.length?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var r=this.checks.indexOf(t);e&&-1===r?this.checks.push(t):e||-1===r||this.checks.splice(r,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},e}(R),ee=function(t){function e(e){var r=t.call(this,e)||this;return r.count=0,r.checkCount=0,r.maxIdle=i.X.GC_MAX_IDLE,r.checkCountMax=i.X.GC_MAX_CHECK_COUNT,r.mode=i.X.GC_MODE,r}return d(e,t),e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==n.UN.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,r=!1,i=0;i<e.length;i++){var n=e[i];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[i]=null,r=!0)}if(r){var o=0;for(i=0;i<e.length;i++)null!==e[i]&&(e[o++]=e[i]);e.length=o}},e.prototype.unload=function(t){var e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},e}(R),re=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},ie=function(t){function e(e){var r=t.call(this,e)||this;return r.boundTextures=[],r.currentLocation=-1,r.managedTextures=[],r._unknownBoundTextures=!1,r.unknownTexture=new m,r}return d(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var r=0;r<e;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new re(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new re(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),r=0;r<6;r++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),r=0;r<this.boundTextures.length;r++)this.bind(null,r)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var r=this.gl;if(t){if((t=t.castToBaseTexture()).parentTextureArray)return;if(t.valid){t.touched=this.renderer.textureGC.count;var i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var e=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(i=0;i<r.length;i++)r[i]===t&&(this.currentLocation!==i&&(e.activeTexture(e.TEXTURE0+i),this.currentLocation=i),e.bindTexture(t.target,this.emptyTextures[t.target].texture),r[i]=null)},e.prototype.initTexture=function(t){var e=new re(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.initTextureType=function(t,e){if(e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion){var r=this.renderer.gl;t.type===r.FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA32F),t.type===n.vK.HALF_FLOAT&&(e.type=r.HALF_FLOAT),e.type===r.HALF_FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA16F)}},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var r=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(r,t,e));else{var i=t.realWidth,n=t.realHeight,o=r.gl;(e.width!==i||e.height!==n||e.dirtyId<0)&&(e.width=i,e.height=n,o.texImage2D(t.target,0,e.internalFormat,i,n,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,e){var r=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var i=this.managedTextures.indexOf(t);-1!==i&&(0,o.removeItems)(this.managedTextures,i,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==n.WB.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=n.Nt.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var r=this.gl;if(e.mipmap&&t.mipmap!==n.WB.ON_MANUAL&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===n.aH.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===n.aH.LINEAR){var o=Math.min(t.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===n.aH.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===n.aH.LINEAR?r.LINEAR:r.NEAREST)},e}(R),ne={__proto__:null,FilterSystem:Q,BatchSystem:et,ContextSystem:it,FramebufferSystem:st,GeometrySystem:ut,MaskSystem:kt,ScissorSystem:Ht,StencilSystem:Yt,ProjectionSystem:Vt,RenderTextureSystem:qt,ShaderSystem:Qt,StateSystem:te,TextureGCSystem:ee,TextureSystem:ie},oe=new h.y3,se=function(t){function e(e,r){void 0===e&&(e=n.N3.UNKNOWN);var s=t.call(this)||this;return r=Object.assign({},i.X.RENDER_OPTIONS,r),s.options=r,s.type=e,s.screen=new h.Ae(0,0,r.width,r.height),s.view=r.view||document.createElement("canvas"),s.resolution=r.resolution||i.X.RESOLUTION,s.useContextAlpha=r.useContextAlpha,s.autoDensity=!!r.autoDensity,s.preserveDrawingBuffer=r.preserveDrawingBuffer,s.clearBeforeRender=r.clearBeforeRender,s._backgroundColor=0,s._backgroundColorRgba=[0,0,0,1],s._backgroundColorString="#000000",s.backgroundColor=r.backgroundColor||s._backgroundColor,s.backgroundAlpha=r.backgroundAlpha,void 0!==r.transparent&&((0,o.deprecation)("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),s.useContextAlpha=r.transparent,s.backgroundAlpha=r.transparent?0:1),s._lastObjectRendered=null,s.plugins={},s}return d(e,t),e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px"),this.emit("resize",t,e)},e.prototype.generateTexture=function(t,e,r,i){0===(i=i||t.getLocalBounds(null,!0)).width&&(i.width=1),0===i.height&&(i.height=1);var n=N.create({width:0|i.width,height:0|i.height,scaleMode:e,resolution:r});return oe.tx=-i.x,oe.ty=-i.y,this.render(t,{renderTexture:n,clear:!1,transform:oe,skipUpdateTransform:!!t.parent}),n},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=n.N3.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,o.hex2string)(t),(0,o.hex2rgb)(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(t){this._backgroundColorRgba[3]=t},enumerable:!1,configurable:!0}),e}(o.EventEmitter),ae=function(t){function e(r){var i=t.call(this,n.N3.WEBGL,r)||this;return r=i.options,i.gl=null,i.CONTEXT_UID=0,i.runners={destroy:new s.R("destroy"),contextChange:new s.R("contextChange"),reset:new s.R("reset"),update:new s.R("update"),postrender:new s.R("postrender"),prerender:new s.R("prerender"),resize:new s.R("resize")},i.globalUniforms=new K({projectionMatrix:new h.y3},!0),i.addSystem(kt,"mask").addSystem(it,"context").addSystem(te,"state").addSystem(Qt,"shader").addSystem(ie,"texture").addSystem(ut,"geometry").addSystem(st,"framebuffer").addSystem(Ht,"scissor").addSystem(Yt,"stencil").addSystem(Vt,"projection").addSystem(ee,"textureGC").addSystem(Q,"filter").addSystem(qt,"renderTexture").addSystem(et,"batch"),i.initPlugins(e.__plugins),r.context?i.context.initFromContext(r.context):i.context.initFromOptions({alpha:!!i.useContextAlpha,antialias:r.antialias,premultipliedAlpha:i.useContextAlpha&&"notMultiplied"!==i.useContextAlpha,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:i.options.powerPreference}),i.renderingToScreen=!0,(0,o.sayHello)(2===i.context.webGLVersion?"WebGL 2":"WebGL 1"),i.resize(i.options.width,i.options.height),i}return d(e,t),e.create=function(t){if((0,o.isWebGLSupported)())return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,e){e||(e=t.name);var r=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var i in this[e]=r,this.runners)this.runners[i].add(r);return this},e.prototype.render=function(t,e){var r,i,n,s;if(e&&(e instanceof N?((0,o.deprecation)("6.0.0","Renderer#render arguments changed, use options instead."),r=e,i=arguments[2],n=arguments[3],s=arguments[4]):(r=e.renderTexture,i=e.clear,n=e.transform,s=e.skipUpdateTransform)),this.renderingToScreen=!r,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=n,!this.context.isLost){if(r||(this._lastObjectRendered=t),!s){var a=t.enableTempParent();t.updateTransform(),t.disableTempParent(a)}this.renderTexture.bind(r),this.batch.currentRenderer.start(),(void 0!==i?i:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),r&&r.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.runners.resize.emit(e,r)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(e){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();t.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return(0,o.deprecation)("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(t,r){e.__plugins=e.__plugins||{},e.__plugins[t]=r},e}(se);function he(t){return ae.create(t)}var ue="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",le="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",ce=function(){this.texArray=null,this.blend=0,this.type=n.lg.TRIANGLES,this.start=0,this.size=0,this.data=null},de=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},t}(),pe=function(){function t(t){"number"==typeof t?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(t){return this[t+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},t}(),fe=function(t){function e(e){var r=t.call(this,e)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=Ft.for2d(),r.size=4*i.X.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),e.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return d(e,t),e.prototype.contextChange=function(){var t=this.renderer.gl;i.X.PREFER_ENV===n.Vi.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),i.X.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Mt(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,r=e._textureArrayPool,i=this.size/4,n=Math.floor(i/this.MAX_TEXTURES)+1;t.length<i;)t.push(new ce);for(;r.length<n;)r.push(new de);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,r=this.MAX_TEXTURES,i=e._textureArrayPool,n=this.renderer.batch,o=this._tempBoundTextures,s=this.renderer.textureGC.count,a=++m._globalBatch,h=0,u=i[0],l=0;n.copyBoundTextures(o,r);for(var c=0;c<this._bufferSize;++c){var d=t[c];t[c]=null,d._batchEnabled!==a&&(u.count>=r&&(n.boundArray(u,o,a,r),this.buildDrawCalls(u,l,c),l=c,u=i[++h],++a),d._batchEnabled=a,d.touched=s,u.elements[u.count++]=d)}for(u.count>0&&(n.boundArray(u,o,a,r),this.buildDrawCalls(u,l,this._bufferSize),++h,++a),c=0;c<o.length;c++)o[c]=null;m._globalBatch=a},e.prototype.buildDrawCalls=function(t,r,i){var n=this,s=n._bufferedElements,a=n._attributeBuffer,h=n._indexBuffer,u=n.vertexSize,l=e._drawCallPool,c=this._dcIndex,d=this._aIndex,p=this._iIndex,f=l[c];f.start=this._iIndex,f.texArray=t;for(var _=r;_<i;++_){var m=s[_],y=m._texture.baseTexture,v=o.premultiplyBlendMode[y.alphaMode?1:0][m.blendMode];s[_]=null,r<_&&f.blend!==v&&(f.size=p-f.start,r=_,(f=l[++c]).texArray=t,f.start=p),this.packInterleavedGeometry(m,a,h,d,p),d+=m.vertexData.length/2*u,p+=m.indices.length,f.blend=v}r<i&&(f.size=p-f.start,++c),this._dcIndex=c,this._aIndex=d,this._iIndex=p},e.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this,e=t._packedGeometries,r=t._attributeBuffer,n=t._indexBuffer;i.X.CAN_UPLOAD_SAME_BUFFER?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,r=this.renderer,i=r.gl,n=r.state,o=e._drawCallPool,s=null,a=0;a<t;a++){var h=o[a],u=h.texArray,l=h.type,c=h.size,d=h.start,p=h.blend;s!==u&&(s=u,this.bindAndClearTexArray(u)),this.state.blendMode=p,n.set(this.state),i.drawElements(l,c,i.UNSIGNED_SHORT,2*d)}},e.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),i.X.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=(0,o.nextPow2)(Math.ceil(t/8)),r=(0,o.log2)(e),i=8*e;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._aBuffers[i];return n||(this._aBuffers[i]=n=new pe(i*this.vertexSize*4)),n},e.prototype.getIndexBuffer=function(t){var e=(0,o.nextPow2)(Math.ceil(t/12)),r=(0,o.log2)(e),i=12*e;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._iBuffers[r];return n||(this._iBuffers[r]=n=new Uint16Array(i)),n},e.prototype.packInterleavedGeometry=function(t,e,r,i,n){for(var s=e.uint32View,a=e.float32View,h=i/this.vertexSize,u=t.uvs,l=t.indices,c=t.vertexData,d=t._texture.baseTexture._batchLocation,p=Math.min(t.worldAlpha,1),f=p<1&&t._texture.baseTexture.alphaMode?(0,o.premultiplyTint)(t._tintRGB,p):t._tintRGB+(255*p<<24),_=0;_<c.length;_+=2)a[i++]=c[_],a[i++]=c[_+1],a[i++]=u[_],a[i++]=u[_+1],s[i++]=f,a[i++]=d;for(_=0;_<l.length;_++)r[n++]=h+l[_]},e._drawCallPool=[],e._textureArrayPool=[],e}(tt),_e=function(){function t(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),r=0;r<t;r++)e[r]=r;this.defaultGroupCache[t]=K.from({uSamplers:e},!0);var i=this.fragTemplate;i=(i=i.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Lt(this.vertexSrc,i)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new h.y3,default:this.defaultGroupCache[t]};return new Nt(this.programCache[t],n)},t.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},t}(),me=function(t){function e(e){void 0===e&&(e=!1);var r=t.call(this)||this;return r._buffer=new G(null,e,!1),r._indexBuffer=new G(null,e,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,n.vK.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,n.vK.FLOAT).addAttribute("aColor",r._buffer,4,!0,n.vK.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,n.vK.FLOAT).addIndex(r._indexBuffer),r}return d(e,t),e}(V),ye="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",ve="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",ge=function(){function t(){}return t.create=function(t){var e=Object.assign({vertex:ye,fragment:ve,geometryClass:me,vertexSize:6},t),r=e.vertex,i=e.fragment,n=e.vertexSize,o=e.geometryClass;return function(t){function e(e){var s=t.call(this,e)||this;return s.shaderGenerator=new _e(r,i),s.geometryClass=o,s.vertexSize=n,s}return d(e,t),e}(fe)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return ye},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return ve},enumerable:!1,configurable:!0}),t}(),be=ge.create(),xe={},Te=function(t){Object.defineProperty(xe,t,{get:function(){return(0,o.deprecation)("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),O[t]}})};for(var Ee in O)Te(Ee);var Ae={},Se=function(t){Object.defineProperty(Ae,t,{get:function(){return(0,o.deprecation)("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),ne[t]}})};for(var Ee in ne)Se(Ee)},291:(t,e,r)=>{"use strict";r.d(e,{LP:()=>R,aN:()=>O,kC:()=>P,dp:()=>S});var i=r(95),n=r.n(i),o=r(816),s=r.n(o);function a(){}function h(t,e,r,i){var n=0,o=t.length;!function s(a){a||n===o?r&&r(a):i?setTimeout((function(){e(t[n++],s)}),1):e(t[n++],s)}()}function u(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}var l={};function c(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e,r){return e&&c(t.prototype,e),r&&c(t,r),t}var p=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),f=null;function _(){}var m=function(){function t(e,r,i){if("string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=_,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new(s()),this.onProgress=new(s()),this.onComplete=new(s()),this.onAfterMiddleware=new(s())}t.setExtensionLoadType=function(e,r){y(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){y(t._xhrTypeMap,e,r)};var e=t.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(r)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:p&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e._hasFlag=function(t){return 0!=(this._flags&t)},e._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},e._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},e._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},e._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=r,i},e._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var t=this.xhr;this.abort(v(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e._xhrOnTimeout=function(){var t=this.xhr;this.abort(v(t)+" Request timed out.")},e._xhrOnAbort=function(){var t=this.xhr;this.abort(v(t)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var e=this.xhr,r="",i=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===i&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2==(i/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},e._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,f||(f=document.createElement("a")),f.href=t;var r=!(t=n()(f.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,i=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&i===e.protocol?"":"anonymous"},e._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},e._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var i=t.indexOf("?"),n=t.indexOf("#"),o=Math.min(i>-1?i:t.length,n>-1?n:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},e._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},d(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function y(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function v(t){return t.toString().replace("object ","")}m.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},m.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},m.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},m.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},m._loadTypeMap={gif:m.LOAD_TYPE.IMAGE,png:m.LOAD_TYPE.IMAGE,bmp:m.LOAD_TYPE.IMAGE,jpg:m.LOAD_TYPE.IMAGE,jpeg:m.LOAD_TYPE.IMAGE,tif:m.LOAD_TYPE.IMAGE,tiff:m.LOAD_TYPE.IMAGE,webp:m.LOAD_TYPE.IMAGE,tga:m.LOAD_TYPE.IMAGE,svg:m.LOAD_TYPE.IMAGE,"svg+xml":m.LOAD_TYPE.IMAGE,mp3:m.LOAD_TYPE.AUDIO,ogg:m.LOAD_TYPE.AUDIO,wav:m.LOAD_TYPE.AUDIO,mp4:m.LOAD_TYPE.VIDEO,webm:m.LOAD_TYPE.VIDEO},m._xhrTypeMap={xhtml:m.XHR_RESPONSE_TYPE.DOCUMENT,html:m.XHR_RESPONSE_TYPE.DOCUMENT,htm:m.XHR_RESPONSE_TYPE.DOCUMENT,xml:m.XHR_RESPONSE_TYPE.DOCUMENT,tmx:m.XHR_RESPONSE_TYPE.DOCUMENT,svg:m.XHR_RESPONSE_TYPE.DOCUMENT,tsx:m.XHR_RESPONSE_TYPE.DOCUMENT,gif:m.XHR_RESPONSE_TYPE.BLOB,png:m.XHR_RESPONSE_TYPE.BLOB,bmp:m.XHR_RESPONSE_TYPE.BLOB,jpg:m.XHR_RESPONSE_TYPE.BLOB,jpeg:m.XHR_RESPONSE_TYPE.BLOB,tif:m.XHR_RESPONSE_TYPE.BLOB,tiff:m.XHR_RESPONSE_TYPE.BLOB,webp:m.XHR_RESPONSE_TYPE.BLOB,tga:m.XHR_RESPONSE_TYPE.BLOB,json:m.XHR_RESPONSE_TYPE.JSON,text:m.XHR_RESPONSE_TYPE.TEXT,txt:m.XHR_RESPONSE_TYPE.TEXT,ttf:m.XHR_RESPONSE_TYPE.BUFFER,otf:m.XHR_RESPONSE_TYPE.BUFFER},m.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var g=window.URL||window.webkitURL,b={caching:function(t,e){var r=this;l[t.url]?(t.data=l[t.url],t.complete()):t.onComplete.once((function(){return l[r.url]=r.data})),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===m.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=g.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=m.TYPE.IMAGE,void(t.data.onload=function(){g.revokeObjectURL(r),t.data.onload=null,e()})}}else{var i=t.xhr.getResponseHeader("content-type");if(i&&0===i.indexOf("image"))return t.data=new Image,t.data.src="data:"+i+";base64,"+function(t){for(var e="",r=0;r<t.length;){for(var i=[0,0,0],n=[0,0,0,0],o=0;o<i.length;++o)r<t.length?i[o]=255&t.charCodeAt(r++):i[o]=0;switch(n[0]=i[0]>>2,n[1]=(3&i[0])<<4|i[1]>>4,n[2]=(15&i[1])<<2|i[2]>>6,n[3]=63&i[2],r-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(var s=0;s<n.length;++s)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n[s])}return e}(t.xhr.responseText),t.type=m.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},x=/(#[\w-]+)?$/,T=function(){function t(e,r){var i=this;void 0===e&&(e=""),void 0===r&&(r=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return i._loadResource(t,e)},this._queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,i={_tasks:[],concurrency:e,saturated:a,unsaturated:a,buffer:e/4,empty:a,drain:a,error:a,started:!1,paused:!1,push:function(t,e){n(t,!1,e)},kill:function(){r=0,i.drain=a,i.started=!1,i._tasks=[]},unshift:function(t,e){n(t,!0,e)},process:function(){for(;!i.paused&&r<i.concurrency&&i._tasks.length;){var e=i._tasks.shift();0===i._tasks.length&&i.empty(),(r+=1)===i.concurrency&&i.saturated(),t(e.data,u(o(e)))}},length:function(){return i._tasks.length},running:function(){return r},idle:function(){return i._tasks.length+r===0},pause:function(){!0!==i.paused&&(i.paused=!0)},resume:function(){if(!1!==i.paused){i.paused=!1;for(var t=1;t<=i.concurrency;t++)i.process()}}};function n(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(i.started=!0,null==t&&i.idle())setTimeout((function(){return i.drain()}),1);else{var n={data:t,callback:"function"==typeof r?r:a};e?i._tasks.unshift(n):i._tasks.push(n),setTimeout((function(){return i.process()}),1)}}function o(t){return function(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&i.error(arguments[0],t.data),r<=i.concurrency-i.buffer&&i.unsaturated(),i.idle()&&i.drain(),i.process()}}return i}(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new(s()),this.onError=new(s()),this.onLoad=new(s()),this.onStart=new(s()),this.onComplete=new(s());for(var n=0;n<t._defaultBeforeMiddleware.length;++n)this.pre(t._defaultBeforeMiddleware[n]);for(var o=0;o<t._defaultAfterMiddleware.length;++o)this.use(t._defaultAfterMiddleware[o])}var e=t.prototype;return e.add=function(t,e,r,i){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(i=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new m(t,e,r),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var o=r.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var h=o.progressChunk*(s.length+1)/(s.length+2);o.children.push(this.resources[t]),o.progressChunk=h;for(var u=0;u<s.length;++u)s[u].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},e.pre=function(t){return this._beforeMiddleware.push(t),this},e.use=function(t){return this._afterMiddleware.push(t),this},e.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},e.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(t){var e,r=n()(t,{strictMode:!0});if(e=r.protocol||!r.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var i=x.exec(e)[0];-1!==(e=e.substr(0,e.length-i.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=i}return e},e._loadResource=function(t,e){var r=this;t._dequeue=e,h(this._beforeMiddleware,(function(e,i){e.call(r,t,(function(){i(t.isComplete?{}:null)}))}),(function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())}),!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),h(this._afterMiddleware,(function(r,i){r.call(e,t,i)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},d(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();T._defaultBeforeMiddleware=[],T._defaultAfterMiddleware=[],T.pre=function(t){return T._defaultBeforeMiddleware.push(t),T},T.use=function(t){return T._defaultAfterMiddleware.push(t),T};var E=r(903),A=function(t,e){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},S=function(){function t(){}return t.add=function(){m.setExtensionLoadType("svg",m.LOAD_TYPE.XHR),m.setExtensionXhrType("svg",m.XHR_RESPONSE_TYPE.TEXT)},t.use=function(t,e){if(!t.data||t.type!==m.TYPE.IMAGE&&"svg"!==t.extension)e();else{var r=t.data,i=t.url,n=t.name,o=t.metadata;E.xE.fromLoader(r,i,n,o).then((function(r){t.texture=r,e()})).catch(e)}},t}(),O=function(t){function e(r,i){for(var n=t.call(this,r,i)||this,o=0;o<e._plugins.length;++o){var s=e._plugins[o],a=s.pre,h=s.use;a&&n.pre(a),h&&n.use(h)}return n._protected=!1,n}return function(t,e){function r(){this.constructor=t}A(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return e._plugins.push(t),t.add&&t.add(),e},e._plugins=[],e}(T);O.registerPlugin({use:b.parsing}),O.registerPlugin(S);var R=function(){function t(){}return t.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?O.shared:new O},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),P=m},805:(t,e,r)=>{"use strict";r.d(e,{Cd:()=>h,ZX:()=>s,Pj:()=>u,y3:()=>f,AB:()=>p,_b:()=>n,E9:()=>d,mg:()=>l,jl:()=>o,Ae:()=>a,c9:()=>c,HS:()=>i,wx:()=>E,Lv:()=>T});var i,n=2*Math.PI,o=180/Math.PI,s=Math.PI/180;!function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(i||(i={}));var a=function(){function t(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(n),this.type=i.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},t.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(r-e,0),this.y=i,this.height=Math.max(n-i,0),this},t.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*t)/t,i=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=r-e,this.y=i,this.height=n-i,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),h=function(){function t(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=i.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,i=this.x-t,n=this.y-e;return(i*=i)+(n*=n)<=r},t.prototype.getBounds=function(){return new a(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),u=function(){function t(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),this.x=t,this.y=e,this.width=r,this.height=n,this.type=i.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(e-this.y)/this.height;return(r*=r)+(i*=i)<=1},t.prototype.getBounds=function(){return new a(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),l=function(){function t(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];var n=Array.isArray(e[0])?e[0]:e;if("number"!=typeof n[0]){for(var o=[],s=0,a=n.length;s<a;s++)o.push(n[s].x,n[s].y);n=o}this.points=n,this.type=i.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(t,e){for(var r=!1,i=this.points.length/2,n=0,o=i-1;n<i;o=n++){var s=this.points[2*n],a=this.points[2*n+1],h=this.points[2*o],u=this.points[2*o+1];a>e!=u>e&&t<(e-a)/(u-a)*(h-s)+s&&(r=!r)}return r},t.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce((function(t,e){return t+", "+e}),"")+"]"},t}(),c=function(){function t(t,e,r,n,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),void 0===o&&(o=20),this.x=t,this.y=e,this.width=r,this.height=n,this.radius=o,this.type=i.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),i=e-(this.y+this.radius),n=this.radius*this.radius;if(r*r+i*i<=n)return!0;if((r=t-(this.x+this.width-this.radius))*r+i*i<=n)return!0;if(r*r+(i=e-(this.y+this.height-this.radius))*i<=n)return!0;if((r=t-(this.x+this.radius))*r+i*i<=n)return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},t}(),d=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),p=function(){function t(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0),this._x=r,this._y=i,this.cb=t,this.scope=e}return t.prototype.clone=function(e,r){return void 0===e&&(e=this.cb),void 0===r&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),f=function(){function t(t,e,r,i,n,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,i,n,o){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new d;var r=t.x,i=t.y;return e.x=this.a*r+this.c*i+this.tx,e.y=this.b*r+this.d*i+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new d;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,n=t.y;return e.x=this.d*r*i+-this.c*r*n+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*n+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),i=this.a,n=this.c,o=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=n*e-this.d*r,this.d=n*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,n=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty,this},t.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){return this.a=Math.cos(s+h)*n,this.b=Math.sin(s+h)*n,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(r*this.a+i*this.c),this.ty=e-(r*this.b+i*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,i=this.c,o=this.d,s=t.pivot,a=-Math.atan2(-i,o),h=Math.atan2(r,e),u=Math.abs(a+h);return u<1e-5||Math.abs(n-u)<1e-5?(t.rotation=h,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=h),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(i*i+o*o),t.position.x=this.tx+(s.x*e+s.y*i),t.position.y=this.ty+(s.x*r+s.y*o),t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,i=this.d,n=this.tx,o=t*i-e*r;return this.a=i/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-i*n)/o,this.ty=-(t*this.ty-e*n)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),_=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],m=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],y=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],v=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],g=[],b=[],x=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];g.push(e);for(var r=0;r<16;r++)for(var i=x(_[t]*_[r]+y[t]*m[r]),n=x(m[t]*_[r]+v[t]*m[r]),o=x(_[t]*y[r]+y[t]*v[r]),s=x(m[t]*y[r]+v[t]*v[r]),a=0;a<16;a++)if(_[a]===i&&m[a]===n&&y[a]===o&&v[a]===s){e.push(a);break}}for(t=0;t<16;t++){var h=new f;h.set(_[t],m[t],y[t],v[t],0,0),b.push(h)}}();var T={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return _[t]},uY:function(t){return m[t]},vX:function(t){return y[t]},vY:function(t){return v[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return g[t][e]},sub:function(t,e){return g[t][T.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?T.S:T.N:2*Math.abs(e)<=Math.abs(t)?t>0?T.E:T.W:e>0?t>0?T.SE:T.SW:t>0?T.NE:T.NW},matrixAppendRotationInv:function(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var n=b[T.inv(e)];n.tx=r,n.ty=i,t.append(n)}},E=function(){function t(){this.worldTransform=new f,this.localTransform=new f,this.position=new p(this.onChange,this,0,0),this.scale=new p(this.onChange,this,1,1),this.pivot=new p(this.onChange,this,0,0),this.skew=new p(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}()},955:(t,e,r)=>{"use strict";r.d(e,{R:()=>i});var i=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,r,i,n,o,s,a){if(arguments.length>8)throw new Error("max arguments reached");var h=this,u=h.name,l=h.items;this._aliasCount++;for(var c=0,d=l.length;c<d;c++)l[c][u](t,e,r,i,n,o,s,a);return l===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(i.prototype,{dispatch:{value:i.prototype.emit},run:{value:i.prototype.emit}})},131:(t,e,r)=>{"use strict";r.d(e,{t:()=>g,X:()=>b});var i=/iPhone/i,n=/iPod/i,o=/iPad/i,s=/\biOS-universal(?:.+)Mac\b/i,a=/\bAndroid(?:.+)Mobile\b/i,h=/Android/i,u=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,l=/Silk/i,c=/Windows Phone/i,d=/\bWindows(?:.+)ARM\b/i,p=/BlackBerry/i,f=/BB10/i,_=/Opera Mini/i,m=/\b(CriOS|Chrome)(?:.+)Mobile/i,y=/Mobile(?:.+)Firefox\b/i,v=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream},g=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=e.userAgent,g=r.split("[FBAN");void 0!==g[1]&&(r=g[0]),void 0!==(g=r.split("Twitter"))[1]&&(r=g[0]);var b=function(t){return function(e){return e.test(t)}}(r),x={apple:{phone:b(i)&&!b(c),ipod:b(n),tablet:!b(i)&&(b(o)||v(e))&&!b(c),universal:b(s),device:(b(i)||b(n)||b(o)||b(s)||v(e))&&!b(c)},amazon:{phone:b(u),tablet:!b(u)&&b(l),device:b(u)||b(l)},android:{phone:!b(c)&&b(u)||!b(c)&&b(a),tablet:!b(c)&&!b(u)&&!b(a)&&(b(l)||b(h)),device:!b(c)&&(b(u)||b(l)||b(a)||b(h))||b(/\bokhttp\b/i)},windows:{phone:b(c),tablet:b(d),device:b(c)||b(d)},other:{blackberry:b(p),blackberry10:b(f),opera:b(_),firefox:b(y),chrome:b(m),device:b(p)||b(f)||b(_)||b(y)||b(m)},any:!1,phone:!1,tablet:!1};return x.any=x.apple.device||x.android.device||x.windows.device||x.other.device,x.phone=x.apple.phone||x.android.phone||x.windows.phone,x.tablet=x.apple.tablet||x.android.tablet||x.windows.tablet,x}(self.navigator),b={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(t){var e,r=!0;(g.tablet||g.phone)&&(g.apple.device&&(e=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(e[1],10)<11&&(r=!1),g.android.device&&(e=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(e[1],10)<7&&(r=!1));return r?32:4}(),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:g.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!g.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1}},92:(t,e,r)=>{"use strict";r.d(e,{vB:()=>s,Sb:()=>a,uF:()=>i});var i,n=r(131);n.X.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(i||(i={}));var o=function(){function t(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=0),void 0===i&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=r,this.once=i}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),s=function(){function t(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new o(null,null,1/0),this.deltaMS=1/n.X.TARGET_FPMS,this.elapsedMS=1/n.X.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e,r){return void 0===r&&(r=i.NORMAL),this._addListener(new o(t,e,r))},t.prototype.addOnce=function(t,e,r){return void 0===r&&(r=i.NORMAL),this._addListener(new o(t,e,r,!0))},t.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*n.X.TARGET_FPMS;for(var i=this._head,o=i.next;o;)o=o.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,n.X.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),a=function(){function t(){}return t.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,i.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?s.shared:new s,t.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},t}()},430:(t,e,r)=>{"use strict";r.r(e),r.d(e,{isMobile:()=>i.t,EventEmitter:()=>o.a,earcut:()=>a.a,BaseTextureCache:()=>X,CanvasRenderTarget:()=>H,DATA_URI:()=>z,ProgramCache:()=>U,TextureCache:()=>G,clearTextureCache:()=>j,correctBlendMode:()=>x,createIndicesForQuads:()=>S,decomposeDataUri:()=>W,deprecation:()=>B,destroyTextureCache:()=>k,determineCrossOrigin:()=>q,getBufferType:()=>O,getResolutionOfUrl:()=>K,hex2rgb:()=>m,hex2string:()=>y,interleaveTypedArrays:()=>P,isPow2:()=>I,isWebGLSupported:()=>f,log2:()=>M,nextPow2:()=>w,premultiplyBlendMode:()=>b,premultiplyRgba:()=>T,premultiplyTint:()=>E,premultiplyTintToRgba:()=>A,removeItems:()=>C,rgb2hex:()=>g,sayHello:()=>p,sign:()=>D,skipHello:()=>d,string2hex:()=>v,trimCanvas:()=>Y,uid:()=>N,url:()=>Z});var i=r(131),n=r(651),o=r.n(n),s=r(283),a=r.n(s),h=r(40),u=r(206);i.X.RETINA_PREFIX=/@([0-9\.]+)x/,i.X.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var l,c=!1;function d(){c=!0}function p(t){var e;if(!c){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=["\n %c %c %c PixiJS 6.0.0 - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=self.console).log.apply(e,r)}else self.console&&self.console.log("PixiJS 6.0.0 - "+t+" - http://www.pixijs.com/");c=!0}}function f(){return void 0===l&&(l=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:i.X.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!r||!r.getContextAttributes().stencil);if(r){var o=r.getExtension("WEBGL_lose_context");o&&o.loseContext()}return r=null,n}catch(t){return!1}}()),l}var _={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function m(t,e){return void 0===e&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function y(t){var e=t.toString(16);return"#"+("000000".substr(0,6-e.length)+e)}function v(t){return"string"==typeof t&&"#"===(t=_[t.toLowerCase()]||t)[0]&&(t=t.substr(1)),parseInt(t,16)}function g(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}var b=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[u.T$.NORMAL_NPM]=u.T$.NORMAL,t[u.T$.ADD_NPM]=u.T$.ADD,t[u.T$.SCREEN_NPM]=u.T$.SCREEN,e[u.T$.NORMAL]=u.T$.NORMAL_NPM,e[u.T$.ADD]=u.T$.ADD_NPM,e[u.T$.SCREEN]=u.T$.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i}();function x(t,e){return b[e?1:0][t]}function T(t,e,r,i){return r=r||new Float32Array(4),i||void 0===i?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function E(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,i=t>>8&255,n=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((i=i*e+.5|0)<<8)+(n*e+.5|0)}function A(t,e,r,i){return(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(i||void 0===i)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function S(t,e){void 0===e&&(e=null);var r=6*t;if((e=e||new Uint16Array(r)).length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var i=0,n=0;i<r;i+=6,n+=4)e[i+0]=n+0,e[i+1]=n+1,e[i+2]=n+2,e[i+3]=n+0,e[i+4]=n+2,e[i+5]=n+3;return e}function O(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var R={Float32Array,Uint32Array,Int32Array,Uint8Array};function P(t,e){for(var r=0,i=0,n={},o=0;o<t.length;o++)i+=e[o],r+=t[o].length;var s=new ArrayBuffer(4*r),a=null,h=0;for(o=0;o<t.length;o++){var u=e[o],l=t[o],c=O(l);n[c]||(n[c]=new R[c](s)),a=n[c];for(var d=0;d<l.length;d++)a[(d/u|0)*i+h+d%u]=l[d];h+=u}return new Float32Array(s)}function w(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)}function I(t){return!(t&t-1||!t)}function M(t){var e=(t>65535?1:0)<<4,r=((t>>>=e)>255?1:0)<<3;return e|=r,e|=r=((t>>>=r)>15?1:0)<<2,(e|=r=((t>>>=r)>3?1:0)<<1)|(t>>>=r)>>1}function C(t,e,r){var i,n=t.length;if(!(e>=n||0===r)){var o=n-(r=e+r>n?n-e:r);for(i=e;i<o;++i)t[i]=t[i+r];t.length=o}}function D(t){return 0===t?0:t<0?-1:1}var L=0;function N(){return++L}var F={};function B(t,e,r){if(void 0===r&&(r=3),!F[e]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(i=i.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(i))),F[e]=!0}}var U={},G=Object.create(null),X=Object.create(null);function k(){var t;for(t in G)G[t].destroy();for(t in X)X[t].destroy()}function j(){var t;for(t in G)delete G[t];for(t in X)delete X[t]}var H=function(){function t(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||i.X.RESOLUTION,this.resize(t,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!1,configurable:!0}),t}();function Y(t){var e,r,i,n=t.width,o=t.height,s=t.getContext("2d"),a=s.getImageData(0,0,n,o).data,h=a.length,u={top:null,left:null,right:null,bottom:null},l=null;for(e=0;e<h;e+=4)0!==a[e+3]&&(r=e/4%n,i=~~(e/4/n),null===u.top&&(u.top=i),(null===u.left||r<u.left)&&(u.left=r),(null===u.right||u.right<r)&&(u.right=r+1),(null===u.bottom||u.bottom<i)&&(u.bottom=i));return null!==u.top&&(n=u.right-u.left,o=u.bottom-u.top+1,l=s.getImageData(u.left,u.top,n,o)),{height:o,width:n,data:l}}var V,z=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function W(t){var e=z.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function q(t,e){if(void 0===e&&(e=self.location),0===t.indexOf("data:"))return"";e=e||self.location,V||(V=document.createElement("a")),V.href=t;var r=(0,h.Qc)(V.href),i=!r.port&&""===e.port||r.port===e.port;return r.hostname===e.hostname&&i&&r.protocol===e.protocol?"":"anonymous"}function K(t,e){var r=i.X.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1}var Z={parse:h.Qc,format:h.WU,resolve:h.DB}},320:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Grid=void 0;const i=r(428);e.Grid=class{constructor(t,e,r){this.activeX=1,this.activeY=1,this.tailLength=3,this.activeIndex=200,this.foodIndex=63,this.activeTailIndexes=[],this.stage=new i.Container,this.cells=[],this.sizeX=t,this.sizeY=e,this.cellSize=r}generate(){const{sizeX:t,sizeY:e,stage:r,cellSize:n}=this;for(let r=0;r<t;r++)for(let t=0;t<e;t++){const o=r+t*e,s=r*n,a=t*n+1,h=new i.Container;h.x=s,h.y=a,this.cells[o]=h}r.addChild(...this.cells)}placeFood(){const t=Math.floor(Math.random()*this.cells.length);this.activeTailIndexes.includes(t)||t===this.activeIndex?this.placeFood():this.foodIndex=t}draw(){const{sizeX:t,sizeY:e,cells:r,activeIndex:n,activeTailIndexes:o,cellSize:s,foodIndex:a}=this;for(let h=0;h<t;h++)for(let t=0;t<e;t++){const u=h+t*e,l=new i.Graphics,c=r[u];c.removeChildren(),n===u&&(this.activeX=h,this.activeY=t),u!==a?n===u?l.beginFill(8037334):o.includes(u)?l.beginFill(6131650,o.indexOf(u)/o.length+.2):(l.beginFill(),l.lineStyle(1,1842204,1)):((h<1||h>20||t<1||t>20)&&this.placeFood(),l.beginFill(11796438)),l.drawRect(1,-1,s,s),l.endFill(),c.addChild(l)}}}},892:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=o(r(428)),h=s(r(795));r.g.PIXI=a,window.PIXI=a;const u=r(320),l=461;let c=0;const d=window.localStorage.getItem("deaths");new class{constructor(){this.hasPrintedSettings=!1,this.startButton=document.getElementById("start-button"),this.noms=[h.default.Sound.from("./public/eat1.wav"),h.default.Sound.from("./public/eat2.wav"),h.default.Sound.from("./public/eat3.wav")],this.dead=h.default.Sound.from("./public/dead.wav"),this.move=h.default.Sound.from("./public/move.wav"),this.app=new a.Application(l,l,{sharedTicker:!1,autoStart:!1}),this.grid=new u.Grid(22,22,23),this.activeKey=null,this.score=0,this.deaths=d&&"string"==typeof d?parseInt(d):0,this.deathKeep=document.getElementById("deaths"),this.scoreKeep=document.getElementById("score"),this.isResetting=!0,this.direction={x:1,y:0},document.body.appendChild(this.app.view),this.startButton=document.getElementById("start-button"),this.app.view.width=l,this.app.view.height=l,document.body.onkeydown=t=>{this.isResetting?["Enter","Space"].includes(t.code)&&(this.actuallyReset(),setTimeout((()=>{var t;this.isResetting=!1,null===(t=this.startButton)||void 0===t||t.classList.add("hidden")}),120)):this.activeKey=t.code},this.start()}actuallyReset(){this.direction.x=1,this.direction.y=0,this.grid.tailLength=3,this.grid.activeIndex=200,this.grid.activeTailIndexes=[]}tick(t){const e=1e3/(window.GLOBAL_SPEED||10)|0;requestAnimationFrame(this.tick.bind(this));const r=0|performance.now(),i=r-c;if(!(i<e)){switch(this.activeKey){default:break;case"ArrowUp":1!==this.direction.y&&(this.direction.y=-1,this.direction.x=0);break;case"ArrowDown":-1!==this.direction.y&&(this.direction.y=1,this.direction.x=0);break;case"ArrowLeft":1!==this.direction.x&&(this.direction.x=-1,this.direction.y=0);break;case"ArrowRight":-1!==this.direction.x&&(this.direction.x=1,this.direction.y=0)}this.update(t),c=r-i%e}}start(){this.grid.stage.x=-23,this.grid.stage.y=-23,this.app.stage.addChild(this.grid.stage),this.grid.generate(),this.tick(0);const t=document.getElementById("loading");t&&(t.style.display="none")}reset(){this.startButton&&(this.startButton.innerText="Reset",this.startButton.classList.remove("hidden")),this.dead.play(),this.isResetting=!0,this.deaths+=1,window.localStorage.setItem("deaths",String(this.deaths))}handleMovement(){return this.grid.activeTailIndexes.includes(this.grid.activeIndex)||this.grid.activeY<1||this.grid.activeY>20||this.grid.activeX<1||this.grid.activeX>20?this.reset():(this.grid.activeIndex===this.grid.foodIndex&&(this.noms[Math.floor(Math.random()*this.noms.length)].play(),this.grid.placeFood(),this.grid.tailLength+=3),this.grid.activeTailIndexes.push(this.grid.activeIndex),this.grid.activeTailIndexes.length>this.grid.tailLength&&this.grid.activeTailIndexes.splice(0,1),-1===this.direction.y&&(this.grid.activeIndex-=22),1===this.direction.y&&(this.grid.activeIndex+=22),-1===this.direction.x&&(this.grid.activeIndex-=1),1===this.direction.x&&(this.grid.activeIndex+=1),this.move.play(),void(this.activeKey=null))}updateScore(){this.scoreKeep&&this.score!==this.grid.tailLength&&(this.score=this.grid.tailLength,this.scoreKeep.innerText=String(this.score)),this.deathKeep&&this.deaths!==Number(this.deathKeep.innerText)&&(this.deathKeep.innerText=String(this.deaths))}update(t){this.hasPrintedSettings||(this.hasPrintedSettings=!0,console.log("Hello gamer!\n  Settings:\n%c|    GLOBAL_SPEED = 10    |\n","color: white; background-color: black;")),this.isResetting||this.handleMovement(),this.updateScore(),this.grid.draw(),this.startButton||(this.startButton=document.getElementById("start-button"),this.startButton&&(this.startButton.onclick=()=>{this.actuallyReset(),setTimeout((()=>{var t;this.isResetting=!1,null===(t=this.startButton)||void 0===t||t.classList.add("hidden")}),120)}))}}},283:t=>{"use strict";function e(t,e,o){o=o||2;var s,a,h,c,d,f,_,m=e&&e.length,y=m?e[0]*o:t.length,v=r(t,0,y,o,!0),g=[];if(!v||v.next===v.prev)return g;if(m&&(v=function(t,e,n,o){var s,a,h,c=[];for(s=0,a=e.length;s<a;s++)(h=r(t,e[s]*o,s<a-1?e[s+1]*o:t.length,o,!1))===h.next&&(h.steiner=!0),c.push(p(h));for(c.sort(u),s=0;s<c.length;s++)l(c[s],n),n=i(n,n.next);return n}(t,e,v,o)),t.length>80*o){s=h=t[0],a=c=t[1];for(var b=o;b<y;b+=o)(d=t[b])<s&&(s=d),(f=t[b+1])<a&&(a=f),d>h&&(h=d),f>c&&(c=f);_=0!==(_=Math.max(h-s,c-a))?1/_:0}return n(v,g,o,s,a,_),g}function r(t,e,r,i,n){var o,s;if(n===O(t,e,r,i)>0)for(o=e;o<r;o+=i)s=E(o,t[o],t[o+1],s);else for(o=r-i;o>=e;o-=i)s=E(o,t[o],t[o+1],s);return s&&y(s,s.next)&&(A(s),s=s.next),s}function i(t,e){if(!t)return t;e||(e=t);var r,i=t;do{if(r=!1,i.steiner||!y(i,i.next)&&0!==m(i.prev,i,i.next))i=i.next;else{if(A(i),(i=e=i.prev)===i.next)break;r=!0}}while(r||i!==e);return e}function n(t,e,r,u,l,c,p){if(t){!p&&c&&function(t,e,r,i){var n=t;do{null===n.z&&(n.z=d(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,r,i,n,o,s,a,h,u=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,i=r,a=0,e=0;e<u&&(a++,i=i.nextZ);e++);for(h=u;a>0||h>0&&i;)0!==a&&(0===h||!i||r.z<=i.z)?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,h--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;r=i}o.nextZ=null,u*=2}while(s>1)}(n)}(t,u,l,c);for(var f,_,m=t;t.prev!==t.next;)if(f=t.prev,_=t.next,c?s(t,u,l,c):o(t))e.push(f.i/r),e.push(t.i/r),e.push(_.i/r),A(t),t=_.next,m=_.next;else if((t=_)===m){p?1===p?n(t=a(i(t),e,r),e,r,u,l,c,2):2===p&&h(t,e,r,u,l,c):n(i(t),e,r,u,l,c,1);break}}}function o(t){var e=t.prev,r=t,i=t.next;if(m(e,r,i)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(f(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&m(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function s(t,e,r,i){var n=t.prev,o=t,s=t.next;if(m(n,o,s)>=0)return!1;for(var a=n.x<o.x?n.x<s.x?n.x:s.x:o.x<s.x?o.x:s.x,h=n.y<o.y?n.y<s.y?n.y:s.y:o.y<s.y?o.y:s.y,u=n.x>o.x?n.x>s.x?n.x:s.x:o.x>s.x?o.x:s.x,l=n.y>o.y?n.y>s.y?n.y:s.y:o.y>s.y?o.y:s.y,c=d(a,h,e,r,i),p=d(u,l,e,r,i),_=t.prevZ,y=t.nextZ;_&&_.z>=c&&y&&y.z<=p;){if(_!==t.prev&&_!==t.next&&f(n.x,n.y,o.x,o.y,s.x,s.y,_.x,_.y)&&m(_.prev,_,_.next)>=0)return!1;if(_=_.prevZ,y!==t.prev&&y!==t.next&&f(n.x,n.y,o.x,o.y,s.x,s.y,y.x,y.y)&&m(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;_&&_.z>=c;){if(_!==t.prev&&_!==t.next&&f(n.x,n.y,o.x,o.y,s.x,s.y,_.x,_.y)&&m(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;y&&y.z<=p;){if(y!==t.prev&&y!==t.next&&f(n.x,n.y,o.x,o.y,s.x,s.y,y.x,y.y)&&m(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function a(t,e,r){var n=t;do{var o=n.prev,s=n.next.next;!y(o,s)&&v(o,n,n.next,s)&&x(o,s)&&x(s,o)&&(e.push(o.i/r),e.push(n.i/r),e.push(s.i/r),A(n),A(n.next),n=t=s),n=n.next}while(n!==t);return i(n)}function h(t,e,r,o,s,a){var h=t;do{for(var u=h.next.next;u!==h.prev;){if(h.i!==u.i&&_(h,u)){var l=T(h,u);return h=i(h,h.next),l=i(l,l.next),n(h,e,r,o,s,a),void n(l,e,r,o,s,a)}u=u.next}h=h.next}while(h!==t)}function u(t,e){return t.x-e.x}function l(t,e){if(e=function(t,e){var r,i=e,n=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=n&&a>s){if(s=a,a===n){if(o===i.y)return i;if(o===i.next.y)return i.next}r=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!r)return null;if(n===s)return r;var h,u=r,l=r.x,d=r.y,p=1/0;i=r;do{n>=i.x&&i.x>=l&&n!==i.x&&f(o<d?n:s,o,l,d,o<d?s:n,o,i.x,i.y)&&(h=Math.abs(o-i.y)/(n-i.x),x(i,t)&&(h<p||h===p&&(i.x>r.x||i.x===r.x&&c(r,i)))&&(r=i,p=h)),i=i.next}while(i!==u);return r}(t,e)){var r=T(e,t);i(e,e.next),i(r,r.next)}}function c(t,e){return m(t.prev,t,e.prev)<0&&m(e.next,t,t.next)<0}function d(t,e,r,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function f(t,e,r,i,n,o,s,a){return(n-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(n-s)*(i-a)>=0}function _(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&v(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(x(t,e)&&x(e,t)&&function(t,e){var r=t,i=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&n<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next}while(r!==t);return i}(t,e)&&(m(t.prev,t,e.prev)||m(t,e.prev,e))||y(t,e)&&m(t.prev,t,t.next)>0&&m(e.prev,e,e.next)>0)}function m(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function y(t,e){return t.x===e.x&&t.y===e.y}function v(t,e,r,i){var n=b(m(t,e,r)),o=b(m(t,e,i)),s=b(m(r,i,t)),a=b(m(r,i,e));return n!==o&&s!==a||!(0!==n||!g(t,r,e))||!(0!==o||!g(t,i,e))||!(0!==s||!g(r,t,i))||!(0!==a||!g(r,e,i))}function g(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function b(t){return t>0?1:t<0?-1:0}function x(t,e){return m(t.prev,t,t.next)<0?m(t,e,t.next)>=0&&m(t,t.prev,e)>=0:m(t,e,t.prev)<0||m(t,t.next,e)<0}function T(t,e){var r=new S(t.i,t.x,t.y),i=new S(e.i,e.x,e.y),n=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,o.next=i,i.prev=o,i}function E(t,e,r,i){var n=new S(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function A(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function S(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(t,e,r,i){for(var n=0,o=e,s=r-i;o<r;o+=i)n+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return n}t.exports=e,t.exports.default=e,e.deviation=function(t,e,r,i){var n=e&&e.length,o=n?e[0]*r:t.length,s=Math.abs(O(t,0,o,r));if(n)for(var a=0,h=e.length;a<h;a++){var u=e[a]*r,l=a<h-1?e[a+1]*r:t.length;s-=Math.abs(O(t,u,l,r))}var c=0;for(a=0;a<i.length;a+=3){var d=i[a]*r,p=i[a+1]*r,f=i[a+2]*r;c+=Math.abs((t[d]-t[f])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[f+1]-t[d+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},e.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[n][o][s]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r}},651:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function i(){}function n(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(t,e,i,o,s){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new n(i,o||t,s),h=r?r+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,i,n=[];if(0===this._eventsCount)return n;for(i in t=this._events)e.call(t,i)&&n.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t){var e=r?r+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,o=i.length,s=new Array(o);n<o;n++)s[n]=i[n].fn;return s},a.prototype.listenerCount=function(t){var e=r?r+t:t,i=this._events[e];return i?i.fn?1:i.length:0},a.prototype.emit=function(t,e,i,n,o,s){var a=r?r+t:t;if(!this._events[a])return!1;var h,u,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,i),!0;case 4:return l.fn.call(l.context,e,i,n),!0;case 5:return l.fn.call(l.context,e,i,n,o),!0;case 6:return l.fn.call(l.context,e,i,n,o,s),!0}for(u=1,h=new Array(c-1);u<c;u++)h[u-1]=arguments[u];l.fn.apply(l.context,h)}else{var d,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),c){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,i);break;case 4:l[u].fn.call(l[u].context,e,i,n);break;default:if(!h)for(d=1,h=new Array(c-1);d<c;d++)h[d-1]=arguments[d];l[u].fn.apply(l[u].context,h)}}return!0},a.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,i,n){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||n&&!a.once||i&&a.context!==i||s(this,o);else{for(var h=0,u=[],l=a.length;h<l;h++)(a[h].fn!==e||n&&!a[h].once||i&&a[h].context!==i)&&u.push(a[h]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&s(this,e)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a},816:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(e,r,n){void 0===r&&(r=!1),i(this,t),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return r(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function o(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var s=function(){function t(){i(this,t),this._head=this._tail=void 0}return r(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof n))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new n(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new n(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof n))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();s.MiniSignalBinding=n,e.default=s,t.exports=e.default},538:t=>{"use strict";var e=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function n(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,o){for(var s,a,h=n(t),u=1;u<arguments.length;u++){for(var l in s=Object(arguments[u]))r.call(s,l)&&(h[l]=s[l]);if(e){a=e(s);for(var c=0;c<a.length;c++)i.call(s,a[c])&&(h[a[c]]=s[a[c]])}}return h}},95:t=>{"use strict";t.exports=function(t,e){if(t){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=r.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[r.key[o]]=i[o]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,(function(t,e,i){e&&(n[r.q.name][e]=i)})),n}}},795:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>H});var i=r(291),n=r(92),o=r(430),s=r(903),a=function(){function t(t,e){this._output=e,this._input=t}return Object.defineProperty(t.prototype,"destination",{get:function(){return this._input},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filters",{get:function(){return this._filters},set:function(t){var e=this;if(this._filters&&(this._filters.forEach((function(t){t&&t.disconnect()})),this._filters=null,this._input.connect(this._output)),t&&t.length){this._filters=t.slice(0),this._input.disconnect();var r=null;t.forEach((function(t){null===r?e._input.connect(t.destination):r.connect(t.destination),r=t})),r.connect(this._output)}},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.filters=null,this._input=null,this._output=null},t}(),h=function(){function t(t,e){this.init(t,e)}return t.prototype.init=function(t,e){this.destination=t,this.source=e||t},t.prototype.connect=function(t){this.source.connect(t)},t.prototype.disconnect=function(){this.source.disconnect()},t.prototype.destroy=function(){this.disconnect(),this.destination=null,this.source=null},t}(),u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function l(t,e){function r(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var c,d=function(){return(d=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function p(){return c}var f,_,m,y,v=function(){function t(){}return t.setParamValue=function(t,e){if(t.setValueAtTime){var r=p().context;t.setValueAtTime(e,r.audioContext.currentTime)}else t.value=e;return e},t}(),g=0,b=function(t){function e(e){var r=t.call(this)||this;return r.id=g++,r._media=null,r._paused=!1,r._muted=!1,r._elapsed=0,r.init(e),r}return l(e,t),e.prototype.set=function(t,e){if(void 0===this[t])throw new Error("Property with name "+t+" does not exist.");return this[t]=e,this},e.prototype.stop=function(){this._source&&(this._internalStop(),this.emit("stop"))},Object.defineProperty(e.prototype,"speed",{get:function(){return this._speed},set:function(t){this._speed=t,this.refresh(),this._update(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=t,this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this._muted},set:function(t){this._muted=t,this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this.refresh()},enumerable:!0,configurable:!0}),e.prototype.refresh=function(){if(this._source){var t=this._media.context,e=this._media.parent;this._source.loop=this._loop||e.loop;var r=t.volume*(t.muted?0:1),i=e.volume*(e.muted?0:1),n=this._volume*(this._muted?0:1);v.setParamValue(this._gain.gain,n*i*r),v.setParamValue(this._source.playbackRate,this._speed*e.speed*t.speed)}},e.prototype.refreshPaused=function(){var t=this._media.context,e=this._media.parent,r=this._paused||e.paused||t.paused;r!==this._pausedReal&&(this._pausedReal=r,r?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._elapsed%this._duration,end:this._end,speed:this._speed,loop:this._loop,volume:this._volume})),this.emit("pause",r))},e.prototype.play=function(t){var e=t.start,r=t.end,i=t.speed,n=t.loop,o=t.volume,s=t.muted;this._paused=!1;var a=this._media.nodes.cloneBufferSource(),h=a.source,u=a.gain;this._source=h,this._gain=u,this._speed=i,this._volume=o,this._loop=!!n,this._muted=s,this.refresh();var l=this._source.buffer.duration;this._duration=l,this._end=r,this._lastUpdate=this._now(),this._elapsed=e,this._source.onended=this._onComplete.bind(this),this._loop?(this._source.loopEnd=r,this._source.loopStart=e,this._source.start(0,e)):r?this._source.start(0,e,r-e):this._source.start(0,e),this.emit("start"),this._update(!0),this._enabled=!0},e.prototype._toSec=function(t){return t>10&&(t/=1e3),t||0},Object.defineProperty(e.prototype,"_enabled",{set:function(t){n.vB.shared.remove(this._updateListener,this),t&&n.vB.shared.add(this._updateListener,this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"progress",{get:function(){return this._progress},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this._paused},set:function(t){this._paused=t,this.refreshPaused()},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.removeAllListeners(),this._internalStop(),this._gain&&(this._gain.disconnect(),this._gain=null),this._media&&(this._media.context.events.off("refresh",this.refresh,this),this._media.context.events.off("refreshPaused",this.refreshPaused,this),this._media=null),this._end=null,this._speed=1,this._volume=1,this._loop=!1,this._elapsed=0,this._duration=0,this._paused=!1,this._muted=!1,this._pausedReal=!1},e.prototype.toString=function(){return"[WebAudioInstance id="+this.id+"]"},e.prototype._now=function(){return this._media.context.audioContext.currentTime},e.prototype._updateListener=function(){this._update()},e.prototype._update=function(t){if(void 0===t&&(t=!1),this._source){var e=this._now(),r=e-this._lastUpdate;if(r>0||t){var i=this._source.playbackRate.value;this._elapsed+=r*i,this._lastUpdate=e;var n=this._duration,o=void 0;if(this._source.loopStart){var s=this._source.loopEnd-this._source.loopStart;o=(this._source.loopStart+this._elapsed%s)/n}else o=this._elapsed%n/n;this._progress=o,this.emit("progress",this._progress,n)}}},e.prototype.init=function(t){this._media=t,t.context.events.on("refresh",this.refresh,this),t.context.events.on("refreshPaused",this.refreshPaused,this)},e.prototype._internalStop=function(){this._source&&(this._enabled=!1,this._source.onended=null,this._source.stop(0),this._source.disconnect(),this._source=null)},e.prototype._onComplete=function(){this._source&&(this._enabled=!1,this._source.onended=null,this._source.disconnect()),this._source=null,this._progress=1,this.emit("progress",1,this._duration),this.emit("end",this)},e}(o.EventEmitter),x=function(t){function e(e){var r=this,i=e.audioContext,n=i.createBufferSource(),o=i.createGain(),s=i.createAnalyser();return n.connect(s),s.connect(o),o.connect(e.destination),(r=t.call(this,s,o)||this).context=e,r.bufferSource=n,r.gain=o,r.analyser=s,r}return l(e,t),Object.defineProperty(e.prototype,"script",{get:function(){return this._script||(this._script=this.context.audioContext.createScriptProcessor(e.BUFFER_SIZE),this._script.connect(this.context.destination)),this._script},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.bufferSource.disconnect(),this._script&&this._script.disconnect(),this.gain.disconnect(),this.analyser.disconnect(),this.bufferSource=null,this._script=null,this.gain=null,this.analyser=null,this.context=null},e.prototype.cloneBufferSource=function(){var t=this.bufferSource,e=this.context.audioContext.createBufferSource();e.buffer=t.buffer,v.setParamValue(e.playbackRate,t.playbackRate.value),e.loop=t.loop;var r=this.context.audioContext.createGain();return e.connect(r),r.connect(this.destination),{source:e,gain:r}},Object.defineProperty(e.prototype,"bufferSize",{get:function(){return this.script.bufferSize},enumerable:!0,configurable:!0}),e.BUFFER_SIZE=0,e}(a),T=function(){function t(){}return t.prototype.init=function(t){this.parent=t,this._nodes=new x(this.context),this._source=this._nodes.bufferSource,this.source=t.options.source},t.prototype.destroy=function(){this.parent=null,this._nodes.destroy(),this._nodes=null,this._source=null,this.source=null},t.prototype.create=function(){return new b(this)},Object.defineProperty(t.prototype,"context",{get:function(){return this.parent.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPlayable",{get:function(){return!!this._source&&!!this._source.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filters",{get:function(){return this._nodes.filters},set:function(t){this._nodes.filters=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._source.buffer.duration},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"buffer",{get:function(){return this._source.buffer},set:function(t){this._source.buffer=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nodes",{get:function(){return this._nodes},enumerable:!0,configurable:!0}),t.prototype.load=function(t){this.source?this._decode(this.source,t):this.parent.url?this._loadUrl(t):t&&t(new Error("sound.url or sound.source must be set"))},t.prototype._loadUrl=function(t){var e=this,r=new XMLHttpRequest,i=this.parent.url;r.open("GET",i,!0),r.responseType="arraybuffer",r.onload=function(){e.source=r.response,e._decode(r.response,t)},r.send()},t.prototype._decode=function(t,e){var r=this;this.parent.context.decode(t,(function(t,i){if(t)e&&e(t);else{r.parent.isLoaded=!0,r.buffer=i;var n=r.parent.autoPlayStart();e&&e(null,r.parent,n)}}))},t}(),E=function(t){function e(){var r=this,i=window,n=new e.AudioContext,s=n.createDynamicsCompressor(),a=n.createAnalyser();return a.connect(s),s.connect(n.destination),(r=t.call(this,a,s)||this)._ctx=n,r._offlineCtx=new e.OfflineAudioContext(1,2,i.OfflineAudioContext?n.sampleRate:44100),r._unlocked=!1,r.compressor=s,r.analyser=a,r.events=new o.EventEmitter,r.volume=1,r.speed=1,r.muted=!1,r.paused=!1,"running"!==n.state&&(r._unlock(),r._unlock=r._unlock.bind(r),document.addEventListener("mousedown",r._unlock,!0),document.addEventListener("touchstart",r._unlock,!0),document.addEventListener("touchend",r._unlock,!0)),r}return l(e,t),e.prototype._unlock=function(){this._unlocked||(this.playEmptySound(),"running"===this._ctx.state&&(document.removeEventListener("mousedown",this._unlock,!0),document.removeEventListener("touchend",this._unlock,!0),document.removeEventListener("touchstart",this._unlock,!0),this._unlocked=!0))},e.prototype.playEmptySound=function(){var t=this._ctx.createBufferSource();t.buffer=this._ctx.createBuffer(1,1,22050),t.connect(this._ctx.destination),t.start(0,0,0),"suspended"===t.context.state&&t.context.resume()},Object.defineProperty(e,"AudioContext",{get:function(){var t=window;return t.AudioContext||t.webkitAudioContext||null},enumerable:!0,configurable:!0}),Object.defineProperty(e,"OfflineAudioContext",{get:function(){var t=window;return t.OfflineAudioContext||t.webkitOfflineAudioContext||null},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this);var e=this._ctx;void 0!==e.close&&e.close(),this.events.removeAllListeners(),this.analyser.disconnect(),this.compressor.disconnect(),this.analyser=null,this.compressor=null,this.events=null,this._offlineCtx=null,this._ctx=null},Object.defineProperty(e.prototype,"audioContext",{get:function(){return this._ctx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offlineContext",{get:function(){return this._offlineCtx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this._paused},set:function(t){t&&"running"===this._ctx.state?this._ctx.suspend():t||"suspended"!==this._ctx.state||this._ctx.resume(),this._paused=t},enumerable:!0,configurable:!0}),e.prototype.refresh=function(){this.events.emit("refresh")},e.prototype.refreshPaused=function(){this.events.emit("refreshPaused")},e.prototype.toggleMute=function(){return this.muted=!this.muted,this.refresh(),this.muted},e.prototype.togglePause=function(){return this.paused=!this.paused,this.refreshPaused(),this._paused},e.prototype.decode=function(t,e){this._offlineCtx.decodeAudioData(t,(function(t){e(null,t)}),(function(t){e(new Error(t.message||"Unable to decode file"))}))},e}(a),A={WebAudioMedia:T,WebAudioInstance:b,WebAudioNodes:x,WebAudioContext:E,WebAudioUtils:v},S={Filter:h,EqualizerFilter:function(t){function e(r,i,n,o,s,a,h,u,l,c){void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===h&&(h=0),void 0===u&&(u=0),void 0===l&&(l=0),void 0===c&&(c=0);var d=this;if(!p().useLegacy){var f=[{f:e.F32,type:"lowshelf",gain:r},{f:e.F64,type:"peaking",gain:i},{f:e.F125,type:"peaking",gain:n},{f:e.F250,type:"peaking",gain:o},{f:e.F500,type:"peaking",gain:s},{f:e.F1K,type:"peaking",gain:a},{f:e.F2K,type:"peaking",gain:h},{f:e.F4K,type:"peaking",gain:u},{f:e.F8K,type:"peaking",gain:l},{f:e.F16K,type:"highshelf",gain:c}].map((function(t){var e=p().context.audioContext.createBiquadFilter();return e.type=t.type,v.setParamValue(e.Q,1),e.frequency.value=t.f,v.setParamValue(e.gain,t.gain),e}));(d=t.call(this,f[0],f[f.length-1])||this).bands=f,d.bandsMap={};for(var _=0;_<d.bands.length;_++){var m=d.bands[_];_>0&&d.bands[_-1].connect(m),d.bandsMap[m.frequency.value]=m}return d}d=t.call(this,null)||this}return l(e,t),e.prototype.setGain=function(t,e){if(void 0===e&&(e=0),!this.bandsMap[t])throw new Error("No band found for frequency "+t);v.setParamValue(this.bandsMap[t].gain,e)},e.prototype.getGain=function(t){if(!this.bandsMap[t])throw new Error("No band found for frequency "+t);return this.bandsMap[t].gain.value},Object.defineProperty(e.prototype,"f32",{get:function(){return this.getGain(e.F32)},set:function(t){this.setGain(e.F32,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f64",{get:function(){return this.getGain(e.F64)},set:function(t){this.setGain(e.F64,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f125",{get:function(){return this.getGain(e.F125)},set:function(t){this.setGain(e.F125,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f250",{get:function(){return this.getGain(e.F250)},set:function(t){this.setGain(e.F250,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f500",{get:function(){return this.getGain(e.F500)},set:function(t){this.setGain(e.F500,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f1k",{get:function(){return this.getGain(e.F1K)},set:function(t){this.setGain(e.F1K,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f2k",{get:function(){return this.getGain(e.F2K)},set:function(t){this.setGain(e.F2K,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f4k",{get:function(){return this.getGain(e.F4K)},set:function(t){this.setGain(e.F4K,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f8k",{get:function(){return this.getGain(e.F8K)},set:function(t){this.setGain(e.F8K,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f16k",{get:function(){return this.getGain(e.F16K)},set:function(t){this.setGain(e.F16K,t)},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.bands.forEach((function(t){v.setParamValue(t.gain,0)}))},e.prototype.destroy=function(){this.bands.forEach((function(t){t.disconnect()})),this.bands=null,this.bandsMap=null},e.F32=32,e.F64=64,e.F125=125,e.F250=250,e.F500=500,e.F1K=1e3,e.F2K=2e3,e.F4K=4e3,e.F8K=8e3,e.F16K=16e3,e}(h),DistortionFilter:function(t){function e(e){void 0===e&&(e=0);var r=this;if(!p().useLegacy){var i=p().context.audioContext.createWaveShaper();return(r=t.call(this,i)||this)._distortion=i,r.amount=e,r}r=t.call(this,null)||this}return l(e,t),Object.defineProperty(e.prototype,"amount",{get:function(){return this._amount},set:function(t){t*=1e3,this._amount=t;for(var e,r=new Float32Array(44100),i=Math.PI/180,n=0;n<44100;++n)e=2*n/44100-1,r[n]=(3+t)*e*20*i/(Math.PI+t*Math.abs(e));this._distortion.curve=r,this._distortion.oversample="4x"},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._distortion=null,t.prototype.destroy.call(this)},e}(h),StereoFilter:function(t){function e(e){void 0===e&&(e=0);var r=this;if(!p().useLegacy){var i,n,o,s=p().context.audioContext;return s.createStereoPanner?o=i=s.createStereoPanner():((n=s.createPanner()).panningModel="equalpower",o=n),(r=t.call(this,o)||this)._stereo=i,r._panner=n,r.pan=e,r}r=t.call(this,null)||this}return l(e,t),Object.defineProperty(e.prototype,"pan",{get:function(){return this._pan},set:function(t){this._pan=t,this._stereo?v.setParamValue(this._stereo.pan,t):this._panner.setPosition(t,0,1-Math.abs(t))},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._stereo=null,this._panner=null},e}(h),ReverbFilter:function(t){function e(e,r,i){void 0===e&&(e=3),void 0===r&&(r=2),void 0===i&&(i=!1);var n=this;if(!p().useLegacy)return(n=t.call(this,null)||this)._seconds=n._clamp(e,1,50),n._decay=n._clamp(r,0,100),n._reverse=i,n._rebuild(),n;n=t.call(this,null)||this}return l(e,t),e.prototype._clamp=function(t,e,r){return Math.min(r,Math.max(e,t))},Object.defineProperty(e.prototype,"seconds",{get:function(){return this._seconds},set:function(t){this._seconds=this._clamp(t,1,50),this._rebuild()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"decay",{get:function(){return this._decay},set:function(t){this._decay=this._clamp(t,0,100),this._rebuild()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reverse",{get:function(){return this._reverse},set:function(t){this._reverse=t,this._rebuild()},enumerable:!0,configurable:!0}),e.prototype._rebuild=function(){for(var t,e=p().context.audioContext,r=e.sampleRate,i=r*this._seconds,n=e.createBuffer(2,i,r),o=n.getChannelData(0),s=n.getChannelData(1),a=0;a<i;a++)t=this._reverse?i-a:a,o[a]=(2*Math.random()-1)*Math.pow(1-t/i,this._decay),s[a]=(2*Math.random()-1)*Math.pow(1-t/i,this._decay);var h=p().context.audioContext.createConvolver();h.buffer=n,this.init(h)},e}(h),MonoFilter:function(t){function e(){var e=this;if(!p().useLegacy){var r=p().context.audioContext,i=r.createChannelSplitter(),n=r.createChannelMerger();return n.connect(i),(e=t.call(this,n,i)||this)._merger=n,e}e=t.call(this,null)||this}return l(e,t),e.prototype.destroy=function(){this._merger.disconnect(),this._merger=null,t.prototype.destroy.call(this)},e}(h),TelephoneFilter:function(t){function e(){if(!p().useLegacy){var e=p().context.audioContext,r=e.createBiquadFilter(),i=e.createBiquadFilter(),n=e.createBiquadFilter(),o=e.createBiquadFilter();return r.type="lowpass",v.setParamValue(r.frequency,2e3),i.type="lowpass",v.setParamValue(i.frequency,2e3),n.type="highpass",v.setParamValue(n.frequency,500),o.type="highpass",v.setParamValue(o.frequency,500),r.connect(i),i.connect(n),n.connect(o),t.call(this,r,o)||this}t.call(this,null)}return l(e,t),e}(h)},O=0,R=function(t){function e(e){var r=t.call(this)||this;return r.id=O++,r.init(e),r}return l(e,t),e.prototype.set=function(t,e){if(void 0===this[t])throw new Error("Property with name "+t+" does not exist.");return this[t]=e,this},Object.defineProperty(e.prototype,"progress",{get:function(){return this._source.currentTime/this._duration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this._paused},set:function(t){this._paused=t,this.refreshPaused()},enumerable:!0,configurable:!0}),e.prototype._onPlay=function(){this._playing=!0},e.prototype._onPause=function(){this._playing=!1},e.prototype.init=function(t){this._playing=!1,this._duration=t.source.duration;var e=this._source=t.source.cloneNode(!1);e.src=t.parent.url,e.onplay=this._onPlay.bind(this),e.onpause=this._onPause.bind(this),t.context.on("refresh",this.refresh,this),t.context.on("refreshPaused",this.refreshPaused,this),this._media=t},e.prototype._internalStop=function(){this._source&&this._playing&&(this._source.onended=null,this._source.pause())},e.prototype.stop=function(){this._internalStop(),this._source&&this.emit("stop")},Object.defineProperty(e.prototype,"speed",{get:function(){return this._speed},set:function(t){this._speed=t,this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=t,this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this._muted},set:function(t){this._muted=t,this.refresh()},enumerable:!0,configurable:!0}),e.prototype.refresh=function(){var t=this._media.context,e=this._media.parent;this._source.loop=this._loop||e.loop;var r=t.volume*(t.muted?0:1),i=e.volume*(e.muted?0:1),n=this._volume*(this._muted?0:1);this._source.volume=n*r*i,this._source.playbackRate=this._speed*t.speed*e.speed},e.prototype.refreshPaused=function(){var t=this._media.context,e=this._media.parent,r=this._paused||e.paused||t.paused;r!==this._pausedReal&&(this._pausedReal=r,r?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._source.currentTime,end:this._end,volume:this._volume,speed:this._speed,loop:this._loop})),this.emit("pause",r))},e.prototype.play=function(t){var r=this,i=t.start,o=t.end,s=t.speed,a=t.loop,h=t.volume,u=t.muted;this._speed=s,this._volume=h,this._loop=!!a,this._muted=u,this.refresh(),this.loop&&null!==o&&(this.loop=!1),this._start=i,this._end=o||this._duration,this._start=Math.max(0,this._start-e.PADDING),this._end=Math.min(this._end+e.PADDING,this._duration),this._source.onloadedmetadata=function(){r._source&&(r._source.currentTime=i,r._source.onloadedmetadata=null,r.emit("progress",i,r._duration),n.vB.shared.add(r._onUpdate,r))},this._source.onended=this._onComplete.bind(this),this._source.play(),this.emit("start")},e.prototype._onUpdate=function(){this.emit("progress",this.progress,this._duration),this._source.currentTime>=this._end&&!this._source.loop&&this._onComplete()},e.prototype._onComplete=function(){n.vB.shared.remove(this._onUpdate,this),this._internalStop(),this.emit("progress",1,this._duration),this.emit("end",this)},e.prototype.destroy=function(){n.vB.shared.remove(this._onUpdate,this),this.removeAllListeners();var t=this._source;t&&(t.onended=null,t.onplay=null,t.onpause=null,this._internalStop()),this._source=null,this._speed=1,this._volume=1,this._loop=!1,this._end=null,this._start=0,this._duration=0,this._playing=!1,this._pausedReal=!1,this._paused=!1,this._muted=!1,this._media&&(this._media.context.off("refresh",this.refresh,this),this._media.context.off("refreshPaused",this.refreshPaused,this),this._media=null)},e.prototype.toString=function(){return"[HTMLAudioInstance id="+this.id+"]"},e.PADDING=.1,e}(o.EventEmitter),P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.init=function(t){this.parent=t,this._source=t.options.source||new Audio,t.url&&(this._source.src=t.url)},e.prototype.create=function(){return new R(this)},Object.defineProperty(e.prototype,"isPlayable",{get:function(){return!!this._source&&4===this._source.readyState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._source.duration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this.parent.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filters",{get:function(){return null},set:function(t){},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.removeAllListeners(),this.parent=null,this._source&&(this._source.src="",this._source.load(),this._source=null)},Object.defineProperty(e.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),e.prototype.load=function(t){var e=this._source,r=this.parent;if(4!==e.readyState){if(!r.url)return t(new Error("sound.url or sound.source must be set"));e.src=r.url;var i=function(){e.removeEventListener("canplaythrough",n),e.removeEventListener("load",n),e.removeEventListener("abort",o),e.removeEventListener("error",s)},n=function(){i(),r.isLoaded=!0;var e=r.autoPlayStart();t&&t(null,r,e)},o=function(){i(),t&&t(new Error("Sound loading has been aborted"))},s=function(){i();var r="Failed to load audio element (code: "+e.error.code+")";t&&t(new Error(r))};e.addEventListener("canplaythrough",n,!1),e.addEventListener("load",n,!1),e.addEventListener("abort",o,!1),e.addEventListener("error",s,!1),e.load()}else{r.isLoaded=!0;var a=r.autoPlayStart();t&&setTimeout((function(){t(null,r,a)}),0)}},e}(o.EventEmitter),w=function(t){function e(){var e=t.call(this)||this;return e.speed=1,e.volume=1,e.muted=!1,e.paused=!1,e}return l(e,t),e.prototype.refresh=function(){this.emit("refresh")},e.prototype.refreshPaused=function(){this.emit("refreshPaused")},Object.defineProperty(e.prototype,"filters",{get:function(){return null},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"audioContext",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.toggleMute=function(){return this.muted=!this.muted,this.refresh(),this.muted},e.prototype.togglePause=function(){return this.paused=!this.paused,this.refreshPaused(),this.paused},e.prototype.destroy=function(){this.removeAllListeners()},e}(o.EventEmitter),I={HTMLAudioMedia:P,HTMLAudioInstance:R,HTMLAudioContext:w},M=["mp3","ogg","oga","opus","mpeg","wav","m4a","aiff","wma","mid"],C=(f={m4a:"mp4",oga:"ogg"},_=document.createElement("audio"),m={},y=/^no$/,M.forEach((function(t){var e=f[t]||t,r=_.canPlayType("audio/"+t).replace(y,""),i=_.canPlayType("audio/"+e).replace(y,"");m[t]=!!r||!!i})),Object.freeze(m)),D=/\.(\{([^\}]+)\})(\?.*)?$/;function L(t){var e=D,r="string"==typeof t?t:t.url;if(e.test(r)){for(var i=e.exec(r),n=i[2].split(","),o=n[n.length-1],s=0,a=n.length;s<a;s++){var h=n[s];if(C[h]){o=h;break}}var u=r.replace(i[1],o);return"string"!=typeof t&&(t.extension=o,t.url=u),u}return r}var N,F=function(){function t(){}return t.add=function(){t.legacy=p().useLegacy},Object.defineProperty(t,"legacy",{set:function(t){var e=M;t?e.forEach((function(t){i.kC.setExtensionXhrType(t,i.kC.XHR_RESPONSE_TYPE.DEFAULT),i.kC.setExtensionLoadType(t,i.kC.LOAD_TYPE.AUDIO)})):e.forEach((function(t){i.kC.setExtensionXhrType(t,i.kC.XHR_RESPONSE_TYPE.BUFFER),i.kC.setExtensionLoadType(t,i.kC.LOAD_TYPE.XHR)}))},enumerable:!0,configurable:!0}),t.pre=function(t,e){L(t),e()},t.use=function(t,e){t.data&&M.indexOf(t.extension)>-1?t.sound=p().add(t.name,{loaded:e,preload:!0,url:t.url,source:t.data}):e()},t}(),B=function(){function t(t,e){this.parent=t,Object.assign(this,e),this.duration=this.end-this.start}return t.prototype.play=function(t){return this.parent.play({complete:t,speed:this.speed||this.parent.speed,end:this.end,start:this.start,loop:this.loop})},t.prototype.destroy=function(){this.parent=null},t}(),U=function(){function t(t,e){this.media=t,this.options=e,this._instances=[],this._sprites={},this.media.init(this);var r=e.complete;this._autoPlayOptions=r?{complete:r}:null,this.isLoaded=!1,this.isPlaying=!1,this.autoPlay=e.autoPlay,this.singleInstance=e.singleInstance,this.preload=e.preload||this.autoPlay,this.url=e.url,this.speed=e.speed,this.volume=e.volume,this.loop=e.loop,e.sprites&&this.addSprites(e.sprites),this.preload&&this._preload(e.loaded)}return t.from=function(e){var r={};return"string"==typeof e?r.url=e:e instanceof ArrayBuffer||e instanceof HTMLAudioElement?r.source=e:r=e,(r=d({autoPlay:!1,singleInstance:!1,url:null,source:null,preload:!1,volume:1,speed:1,complete:null,loaded:null,loop:!1},r)).url&&(r.url=L(r.url)),Object.freeze(r),new t(p().useLegacy?new P:new T,r)},Object.defineProperty(t.prototype,"context",{get:function(){return p().context},enumerable:!0,configurable:!0}),t.prototype.pause=function(){return this.isPlaying=!1,this.paused=!0,this},t.prototype.resume=function(){return this.isPlaying=this._instances.length>0,this.paused=!1,this},Object.defineProperty(t.prototype,"paused",{get:function(){return this._paused},set:function(t){this._paused=t,this.refreshPaused()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"speed",{get:function(){return this._speed},set:function(t){this._speed=t,this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filters",{get:function(){return this.media.filters},set:function(t){this.media.filters=t},enumerable:!0,configurable:!0}),t.prototype.addSprites=function(t,e){if("object"==typeof t){var r={};for(var i in t)r[i]=this.addSprites(i,t[i]);return r}if("string"==typeof t){var n=new B(this,e);return this._sprites[t]=n,n}},t.prototype.destroy=function(){this._removeInstances(),this.removeSprites(),this.media.destroy(),this.media=null,this._sprites=null,this._instances=null},t.prototype.removeSprites=function(t){if(t){var e=this._sprites[t];void 0!==e&&(e.destroy(),delete this._sprites[t])}else for(var r in this._sprites)this.removeSprites(r);return this},Object.defineProperty(t.prototype,"isPlayable",{get:function(){return this.isLoaded&&this.media&&this.media.isPlayable},enumerable:!0,configurable:!0}),t.prototype.stop=function(){if(!this.isPlayable)return this.autoPlay=!1,this._autoPlayOptions=null,this;this.isPlaying=!1;for(var t=this._instances.length-1;t>=0;t--)this._instances[t].stop();return this},t.prototype.play=function(t,e){var r,i=this;if("string"==typeof t?r={sprite:o=t,loop:this.loop,complete:e}:"function"==typeof t?(r={}).complete=t:r=t,(r=d({complete:null,loaded:null,sprite:null,end:null,start:0,volume:1,speed:1,muted:!1,loop:!1},r||{})).sprite){var n=r.sprite,o=this._sprites[n];r.start=o.start,r.end=o.end,r.speed=o.speed||1,r.loop=o.loop||r.loop,delete r.sprite}if(r.offset&&(r.start=r.offset),!this.isLoaded)return new Promise((function(t,e){i.autoPlay=!0,i._autoPlayOptions=r,i._preload((function(i,n,o){i?e(i):(r.loaded&&r.loaded(i,n,o),t(o))}))}));this.singleInstance&&this._removeInstances();var s=this._createInstance();return this._instances.push(s),this.isPlaying=!0,s.once("end",(function(){r.complete&&r.complete(i),i._onComplete(s)})),s.once("stop",(function(){i._onComplete(s)})),s.play(r),s},t.prototype.refresh=function(){for(var t=this._instances.length,e=0;e<t;e++)this._instances[e].refresh()},t.prototype.refreshPaused=function(){for(var t=this._instances.length,e=0;e<t;e++)this._instances[e].refreshPaused()},Object.defineProperty(t.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=t,this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"muted",{get:function(){return this._muted},set:function(t){this._muted=t,this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this.refresh()},enumerable:!0,configurable:!0}),t.prototype._preload=function(t){this.media.load(t)},Object.defineProperty(t.prototype,"instances",{get:function(){return this._instances},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sprites",{get:function(){return this._sprites},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this.media.duration},enumerable:!0,configurable:!0}),t.prototype.autoPlayStart=function(){var t;return this.autoPlay&&(t=this.play(this._autoPlayOptions)),t},t.prototype._removeInstances=function(){for(var t=this._instances.length-1;t>=0;t--)this._poolInstance(this._instances[t]);this._instances.length=0},t.prototype._onComplete=function(t){if(this._instances){var e=this._instances.indexOf(t);e>-1&&this._instances.splice(e,1),this.isPlaying=this._instances.length>0}this._poolInstance(t)},t.prototype._createInstance=function(){if(t._pool.length>0){var e=t._pool.pop();return e.init(this.media),e}return this.media.create()},t.prototype._poolInstance=function(e){e.destroy(),t._pool.indexOf(e)<0&&t._pool.push(e)},t._pool=[],t}(),G=function(){function t(){this.init()}return t.prototype.init=function(){return this.supported&&(this._webAudioContext=new E),this._htmlAudioContext=new w,this._sounds={},this.useLegacy=!this.supported,this},Object.defineProperty(t.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filtersAll",{get:function(){return this.useLegacy?[]:this._context.filters},set:function(t){this.useLegacy||(this._context.filters=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"supported",{get:function(){return null!==E.AudioContext},enumerable:!0,configurable:!0}),t.prototype.add=function(t,e){if("object"==typeof t){var r={};for(var i in t){var n=this._getOptions(t[i],e);r[i]=this.add(i,n)}return r}if("string"==typeof t){if(e instanceof U)return this._sounds[t]=e,e;n=this._getOptions(e);var o=U.from(n);return this._sounds[t]=o,o}},t.prototype._getOptions=function(t,e){var r;return r="string"==typeof t?{url:t}:t instanceof ArrayBuffer||t instanceof HTMLAudioElement?{source:t}:t,d({},r,e||{})},Object.defineProperty(t.prototype,"useLegacy",{get:function(){return this._useLegacy},set:function(t){F.legacy=t,this._useLegacy=t,this._context=!t&&this.supported?this._webAudioContext:this._htmlAudioContext},enumerable:!0,configurable:!0}),t.prototype.remove=function(t){return this.exists(t,!0),this._sounds[t].destroy(),delete this._sounds[t],this},Object.defineProperty(t.prototype,"volumeAll",{get:function(){return this._context.volume},set:function(t){this._context.volume=t,this._context.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"speedAll",{get:function(){return this._context.speed},set:function(t){this._context.speed=t,this._context.refresh()},enumerable:!0,configurable:!0}),t.prototype.togglePauseAll=function(){return this._context.togglePause()},t.prototype.pauseAll=function(){return this._context.paused=!0,this._context.refreshPaused(),this},t.prototype.resumeAll=function(){return this._context.paused=!1,this._context.refreshPaused(),this},t.prototype.toggleMuteAll=function(){return this._context.toggleMute()},t.prototype.muteAll=function(){return this._context.muted=!0,this._context.refresh(),this},t.prototype.unmuteAll=function(){return this._context.muted=!1,this._context.refresh(),this},t.prototype.removeAll=function(){for(var t in this._sounds)this._sounds[t].destroy(),delete this._sounds[t];return this},t.prototype.stopAll=function(){for(var t in this._sounds)this._sounds[t].stop();return this},t.prototype.exists=function(t,e){return void 0===e&&(e=!1),!!this._sounds[t]},t.prototype.find=function(t){return this.exists(t,!0),this._sounds[t]},t.prototype.play=function(t,e){return this.find(t).play(e)},t.prototype.stop=function(t){return this.find(t).stop()},t.prototype.pause=function(t){return this.find(t).pause()},t.prototype.resume=function(t){return this.find(t).resume()},t.prototype.volume=function(t,e){var r=this.find(t);return void 0!==e&&(r.volume=e),r.volume},t.prototype.speed=function(t,e){var r=this.find(t);return void 0!==e&&(r.speed=e),r.speed},t.prototype.duration=function(t){return this.find(t).duration},t.prototype.close=function(){return this.removeAll(),this._sounds=null,this._webAudioContext&&(this._webAudioContext.destroy(),this._webAudioContext=null),this._htmlAudioContext&&(this._htmlAudioContext.destroy(),this._htmlAudioContext=null),this._context=null,this},t}(),X=0,k={get PLAY_ID(){return X},playOnce:function(t,e){var r="alias"+X++;return p().add(r,{url:t,preload:!0,autoPlay:!0,loaded:function(t){t&&(p().remove(r),e&&e(t))},complete:function(){p().remove(r),e&&e(null)}}),r},render:function(t,e){var r=document.createElement("canvas");e=d({width:512,height:128,fill:"black"},e||{}),r.width=e.width,r.height=e.height;var i=s.VL.from(r);if(!(t.media instanceof T))return i;var n=t.media,o=r.getContext("2d");o.fillStyle=e.fill;for(var a=n.buffer.getChannelData(0),h=Math.ceil(a.length/e.width),u=e.height/2,l=0;l<e.width;l++){for(var c=1,p=-1,f=0;f<h;f++){var _=a[l*h+f];_<c&&(c=_),_>p&&(p=_)}o.fillRect(l,(1+c)*u,1,Math.max(1,(p-c)*u))}return i},resolveUrl:L,sineTone:function(t,e){void 0===t&&(t=200),void 0===e&&(e=1);var r=U.from({singleInstance:!0});if(!(r.media instanceof T))return r;for(var i=r.media,n=r.context.audioContext.createBuffer(1,48e3*e,48e3),o=n.getChannelData(0),s=0;s<o.length;s++){var a=t*(s/n.sampleRate)*Math.PI;o[s]=2*Math.sin(a)}return i.buffer=n,r.isLoaded=!0,r},extensions:M,supported:C},j=(N=new G,c=N,N);i.aN.registerPlugin(F),Object.defineProperties(j,{Filterable:{get:function(){return a}},filters:{get:function(){return S}},htmlaudio:{get:function(){return I}},Sound:{get:function(){return U}},SoundLibrary:{get:function(){return G}},SoundSprite:{get:function(){return B}},utils:{get:function(){return k}},webaudio:{get:function(){return A}},sound:{get:function(){return j}}});const H=j},428:(t,e,r)=>{"use strict";r.r(e),r.d(e,{ALPHA_MODES:()=>Z.iw,AbstractBatchRenderer:()=>j.eo,AbstractMultiResource:()=>j.M4,AbstractRenderer:()=>j.I8,AccessibilityManager:()=>C,AnimatedSprite:()=>ei,AppLoaderPlugin:()=>K.LP,Application:()=>H,ArrayResource:()=>j.$N,Attribute:()=>j.ah,BLEND_MODES:()=>Z.T$,BUFFER_BITS:()=>Z.V0,BaseImageResource:()=>j.bg,BasePrepare:()=>Re,BaseRenderTexture:()=>j.jd,BaseTexture:()=>j.VL,BatchDrawCall:()=>j.a$,BatchGeometry:()=>j.JZ,BatchPluginFactory:()=>j.TJ,BatchRenderer:()=>j.Bv,BatchShaderGenerator:()=>j.Zk,BatchSystem:()=>j.Sj,BatchTextureArray:()=>j.Ie,BitmapFont:()=>or,BitmapFontData:()=>$e,BitmapFontLoader:()=>ur,BitmapText:()=>hr,BlobResource:()=>rt,Bounds:()=>A,Buffer:()=>j.lW,BufferResource:()=>j.qm,CLEAR_MODES:()=>Z.yl,CanvasResource:()=>j.Y8,Circle:()=>E.Cd,CompressedTextureLoader:()=>nt,CompressedTextureResource:()=>it,Container:()=>I,ContextSystem:()=>j.lH,CountLimiter:()=>ge,CubeResource:()=>j.TA,DDSLoader:()=>pt,DEG_TO_RAD:()=>E.ZX,DRAW_MODES:()=>Z.lg,DisplayObject:()=>R,ENV:()=>Z.Vi,Ellipse:()=>E.Pj,Extract:()=>q,FORMATS:()=>Z.I2,FORMATS_TO_COMPONENTS:()=>mt,FillStyle:()=>Rt,Filter:()=>j.wn,FilterState:()=>j.jV,FilterSystem:()=>j.kV,Framebuffer:()=>j.AI,FramebufferSystem:()=>j.WB,GC_MODES:()=>Z.UN,GLFramebuffer:()=>j.tT,GLProgram:()=>j.Ei,GLTexture:()=>j.fy,GRAPHICS_CURVES:()=>Ot,Geometry:()=>j.ZX,GeometrySystem:()=>j.TO,Graphics:()=>ee,GraphicsData:()=>qt,GraphicsGeometry:()=>$t,IGLUniformData:()=>j.W1,INSTALLED:()=>j.e_,INTERNAL_FORMATS:()=>z,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:()=>$,ImageBitmapResource:()=>j._w,ImageResource:()=>j.PA,InteractionData:()=>L,InteractionEvent:()=>F,InteractionManager:()=>k,InteractionTrackingData:()=>B,KTXLoader:()=>vt,LINE_CAP:()=>Tt,LINE_JOIN:()=>xt,LineStyle:()=>Jt,Loader:()=>K.aN,LoaderResource:()=>K.kC,MASK_TYPES:()=>Z.A7,MIPMAP_MODES:()=>Z.WB,MSAA_QUALITY:()=>Z.G5,MaskData:()=>j.HI,MaskSystem:()=>j.zj,Matrix:()=>E.y3,Mesh:()=>We,MeshBatchUvs:()=>Ye,MeshGeometry:()=>Ke,MeshMaterial:()=>qe,NineSlicePlane:()=>Jr,ObjectRenderer:()=>j.bO,ObservablePoint:()=>E.AB,PI_2:()=>E._b,PRECISION:()=>Z.cB,ParticleContainer:()=>Et,ParticleRenderer:()=>St,PlaneGeometry:()=>Wr,Point:()=>E.E9,Polygon:()=>E.mg,Prepare:()=>Me,Program:()=>j.$r,ProjectionSystem:()=>j.NW,Quad:()=>j.lD,QuadUv:()=>j.ud,RAD_TO_DEG:()=>E.jl,RENDERER_TYPE:()=>Z.N3,Rectangle:()=>E.Ae,RenderTexture:()=>j.TI,RenderTexturePool:()=>j.uW,RenderTextureSystem:()=>j.J$,Renderer:()=>j.Th,Resource:()=>j._z,RopeGeometry:()=>qr,RoundedRectangle:()=>E.c9,Runner:()=>Qr.R,SCALE_MODES:()=>Z.aH,SHAPES:()=>E.HS,SVGResource:()=>j.pX,ScissorSystem:()=>j.id,Shader:()=>j.ex,ShaderSystem:()=>j.p,SimpleMesh:()=>$r,SimplePlane:()=>Zr,SimpleRope:()=>Kr,Sprite:()=>se,SpriteMaskFilter:()=>j.z9,Spritesheet:()=>De,SpritesheetLoader:()=>Le,State:()=>j.ZM,StateSystem:()=>j.zI,StencilSystem:()=>j.Ld,System:()=>j.xP,TARGETS:()=>Z.sp,TEXT_GRADIENT:()=>Xt,TYPES:()=>Z.vK,TYPES_TO_BYTES_PER_COMPONENT:()=>_t,TYPES_TO_BYTES_PER_PIXEL:()=>yt,TemporaryDisplayObject:()=>P,Text:()=>ye,TextMetrics:()=>fe,TextStyle:()=>le,Texture:()=>j.xE,TextureGCSystem:()=>j.wr,TextureLoader:()=>K.dp,TextureMatrix:()=>j.UX,TextureSystem:()=>j.CT,TextureUvs:()=>j.aF,Ticker:()=>D.vB,TickerPlugin:()=>D.Sb,TilingSprite:()=>Ue,TilingSpriteRenderer:()=>ke,TimeLimiter:()=>Ce,Transform:()=>E.wx,UPDATE_PRIORITY:()=>D.uF,UniformGroup:()=>j.oo,VERSION:()=>ri,VideoResource:()=>j.eH,ViewableBuffer:()=>j.Rv,WRAP_MODES:()=>Z.Nt,accessibleTarget:()=>M,autoDetectRenderer:()=>j.e6,autoDetectResource:()=>j.pb,checkMaxIfStatementsInShader:()=>j.a7,defaultFilterVertex:()=>j.Y9,defaultVertex:()=>j.kP,filters:()=>ii,graphicsUtils:()=>re,groupD8:()=>E.Lv,interactiveTarget:()=>G,isMobile:()=>T.t,resources:()=>j.Jb,settings:()=>T.X,systems:()=>j.eG,uniformParsers:()=>j.sg,utils:()=>x});var i=setTimeout;function n(t){return Boolean(t&&void 0!==t.length)}function o(){}function s(t){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,s._immediateFn((function(){var r=1===t._state?e.onFulfilled:e.onRejected;if(null!==r){var i;try{i=r(t._value)}catch(t){return void u(e.promise,t)}h(e.promise,i)}else(1===t._state?h:u)(e.promise,t._value)}))):t._deferreds.push(e)}function h(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var r=e.then;if(e instanceof s)return t._state=3,t._value=e,void l(t);if("function"==typeof r)return void d((i=r,n=e,function(){i.apply(n,arguments)}),t)}t._state=1,t._value=e,l(t)}catch(e){u(t,e)}var i,n}function u(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&s._immediateFn((function(){t._handled||s._unhandledRejectionFn(t._value)}));for(var e=0,r=t._deferreds.length;e<r;e++)a(t,t._deferreds[e]);t._deferreds=null}function c(t,e,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=r}function d(t,e){var r=!1;try{t((function(t){r||(r=!0,h(e,t))}),(function(t){r||(r=!0,u(e,t))}))}catch(t){if(r)return;r=!0,u(e,t)}}s.prototype.catch=function(t){return this.then(null,t)},s.prototype.then=function(t,e){var r=new this.constructor(o);return a(this,new c(t,e,r)),r},s.prototype.finally=function(t){var e=this.constructor;return this.then((function(r){return e.resolve(t()).then((function(){return r}))}),(function(r){return e.resolve(t()).then((function(){return e.reject(r)}))}))},s.all=function(t){return new s((function(e,r){if(!n(t))return r(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var o=i.length;function s(t,n){try{if(n&&("object"==typeof n||"function"==typeof n)){var a=n.then;if("function"==typeof a)return void a.call(n,(function(e){s(t,e)}),r)}i[t]=n,0==--o&&e(i)}catch(t){r(t)}}for(var a=0;a<i.length;a++)s(a,i[a])}))},s.allSettled=function(t){return new this((function(e,r){if(!t||void 0===t.length)return r(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var n=i.length;function o(t,r){if(r&&("object"==typeof r||"function"==typeof r)){var s=r.then;if("function"==typeof s)return void s.call(r,(function(e){o(t,e)}),(function(r){i[t]={status:"rejected",reason:r},0==--n&&e(i)}))}i[t]={status:"fulfilled",value:r},0==--n&&e(i)}for(var s=0;s<i.length;s++)o(s,i[s])}))},s.resolve=function(t){return t&&"object"==typeof t&&t.constructor===s?t:new s((function(e){e(t)}))},s.reject=function(t){return new s((function(e,r){r(t)}))},s.race=function(t){return new s((function(e,r){if(!n(t))return r(new TypeError("Promise.race accepts an array"));for(var i=0,o=t.length;i<o;i++)s.resolve(t[i]).then(e,r)}))},s._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){i(t,0)},s._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};const p=s;var f=r(538),_=r.n(f);if(self.Promise||(self.Promise=p),Object.assign||(Object.assign=_()),Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!self.performance||!self.performance.now){var m=Date.now();self.performance||(self.performance={}),self.performance.now=function(){return Date.now()-m}}for(var y=Date.now(),v=["ms","moz","webkit","o"],g=0;g<v.length&&!self.requestAnimationFrame;++g){var b=v[g];self.requestAnimationFrame=self[b+"RequestAnimationFrame"],self.cancelAnimationFrame=self[b+"CancelAnimationFrame"]||self[b+"CancelRequestAnimationFrame"]}self.requestAnimationFrame||(self.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+y-e;return r<0&&(r=0),y=e,self.setTimeout((function(){y=Date.now(),t(performance.now())}),r)}),self.cancelAnimationFrame||(self.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),self.ArrayBuffer||(self.ArrayBuffer=Array),self.Float32Array||(self.Float32Array=Array),self.Uint32Array||(self.Uint32Array=Array),self.Uint16Array||(self.Uint16Array=Array),self.Uint8Array||(self.Uint8Array=Array),self.Int32Array||(self.Int32Array=Array);var x=r(430),T=r(131),E=r(805);T.X.SORTABLE_CHILDREN=!1;var A=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?E.Ae.EMPTY:((t=t||new E.Ae(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addPointMatrix=function(t,e){var r=t.a,i=t.b,n=t.c,o=t.d,s=t.tx,a=t.ty,h=r*e.x+n*e.y+s,u=i*e.x+o*e.y+a;this.minX=Math.min(this.minX,h),this.maxX=Math.max(this.maxX,h),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},t.prototype.addQuad=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY,o=t[0],s=t[1];e=o<e?o:e,r=s<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[2])<e?o:e,r=(s=t[3])<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[4])<e?o:e,r=(s=t[5])<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[6])<e?o:e,r=(s=t[7])<r?s:r,i=o>i?o:i,n=s>n?s:n,this.minX=e,this.minY=r,this.maxX=i,this.maxY=n},t.prototype.addFrame=function(t,e,r,i,n){this.addFrameMatrix(t.worldTransform,e,r,i,n)},t.prototype.addFrameMatrix=function(t,e,r,i,n){var o=t.a,s=t.b,a=t.c,h=t.d,u=t.tx,l=t.ty,c=this.minX,d=this.minY,p=this.maxX,f=this.maxY,_=o*e+a*r+u,m=s*e+h*r+l;c=_<c?_:c,d=m<d?m:d,p=_>p?_:p,f=m>f?m:f,c=(_=o*i+a*r+u)<c?_:c,d=(m=s*i+h*r+l)<d?m:d,p=_>p?_:p,f=m>f?m:f,c=(_=o*e+a*n+u)<c?_:c,d=(m=s*e+h*n+l)<d?m:d,p=_>p?_:p,f=m>f?m:f,c=(_=o*i+a*n+u)<c?_:c,d=(m=s*i+h*n+l)<d?m:d,p=_>p?_:p,f=m>f?m:f,this.minX=c,this.minY=d,this.maxX=p,this.maxY=f},t.prototype.addVertexData=function(t,e,r){for(var i=this.minX,n=this.minY,o=this.maxX,s=this.maxY,a=e;a<r;a+=2){var h=t[a],u=t[a+1];i=h<i?h:i,n=u<n?u:n,o=h>o?h:o,s=u>s?u:s}this.minX=i,this.minY=n,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(t,e,r,i){this.addVerticesMatrix(t.worldTransform,e,r,i)},t.prototype.addVerticesMatrix=function(t,e,r,i,n,o){void 0===n&&(n=0),void 0===o&&(o=n);for(var s=t.a,a=t.b,h=t.c,u=t.d,l=t.tx,c=t.ty,d=this.minX,p=this.minY,f=this.maxX,_=this.maxY,m=r;m<i;m+=2){var y=e[m],v=e[m+1],g=s*y+h*v+l,b=u*v+a*y+c;d=Math.min(d,g-n),f=Math.max(f,g+n),p=Math.min(p,b-o),_=Math.max(_,b+o)}this.minX=d,this.minY=p,this.maxX=f,this.maxY=_},t.prototype.addBounds=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>n?t.maxY:n},t.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,i=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=n&&i<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},t.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,i=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=n&&i<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}},t.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(t,e,r,i,n,o){t-=n,e-=o,r+=n,i+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>i?this.maxY:i},t}(),S=function(t,e){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function O(t,e){function r(){this.constructor=t}S(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var R=function(t){function e(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new E.wx,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new A,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return O(e,t),e.mixin=function(t){for(var r=Object.keys(t),i=0;i<r.length;++i){var n=r[i];Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t,n))}},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new E.Ae),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new E.Ae),t=this._localBoundsRect),this._localBounds||(this._localBounds=new A);var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var i=this._bounds,n=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,t);return this.parent=r,this.transform=e,this._bounds=i,this._bounds.updateID+=this._boundsID-n,o},e.prototype.toGlobal=function(t,e,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,i){return e&&(t=e.toGlobal(t,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=h,this},e.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new P),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},e.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*E.jl},set:function(t){this.transform.rotation=t*E.ZX},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask&&((e=this._mask.maskObject||this._mask).renderable=!0,e.isMask=!1),this._mask=t,this._mask&&((e=this._mask.maskObject||this._mask).renderable=!1,e.isMask=!0)},enumerable:!1,configurable:!0}),e}(x.EventEmitter),P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return O(e,t),e}(R);function w(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}R.prototype.displayObjectUpdateTransform=R.prototype.updateTransform;var I=function(t){function e(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=T.X.SORTABLE_CHILDREN,e.sortDirty=!1,e}return O(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(e.length>1)for(var i=0;i<e.length;i++)this.addChild(e[i]);else{var n=e[0];n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.push(n),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this)}return e[0]},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),i=this.getChildIndex(e);this.children[r]=e,this.children[i]=t,this.onChildrenChange(r<i?r:i)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);(0,x.removeItems)(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(e.length>1)for(var i=0;i<e.length;i++)this.removeChild(e[i]);else{var n=e[0],o=this.children.indexOf(n);if(-1===o)return null;n.parent=null,n.transform._parentID=-1,(0,x.removeItems)(this.children,o,1),this._boundsID++,this.onChildrenChange(o),n.emit("removed",this),this.emit("childRemoved",n,this,o)}return e[0]},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,x.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var r,i=t,n=e-i;if(n>0&&n<=e){r=this.children.splice(i,n);for(var o=0;o<r.length;++o)r[o].parent=null,r[o].transform&&(r[o].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(t),o=0;o<r.length;++o)r[o].emit("removed",this),this.emit("childRemoved",r[o],this,o);return r}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,r=this.children.length;e<r;++e){var i=this.children[e];i._lastSortedIndex=e,t||0===i.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(w),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var r=e._mask.maskObject||e._mask;r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(e,r){void 0===r&&(r=!1);var i=t.prototype.getLocalBounds.call(this,e);if(!r)for(var n=0,o=this.children.length;n<o;++n){var s=this.children[n];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var i=0;i<e.length;i++)e[i].enabled&&this._enabledFilters.push(e[i]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}r&&t.mask.push(this,this._mask),this._render(t),i=0;for(var n=this.children.length;i<n;i++)this.children[i].render(t);t.batch.flush(),r&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"==typeof e?e:e&&e.children,i=this.removeChildren(0,this.children.length);if(r)for(var n=0;n<i.length;++n)i[n].destroy(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),e}(R);I.prototype.containerUpdateTransform=I.prototype.updateTransform;var M={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};R.mixin(M);var C=function(){function t(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(x.isMobile.tablet||x.isMobile.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),self.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",(function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,self.document.addEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(t=this.renderer.view.parentNode)||void 0===t||t.appendChild(this.div))},t.prototype.deactivate=function(){var t;this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(t=this.div.parentNode)||void 0===t||t.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},t.prototype.update=function(){var t=performance.now();if(!(x.isMobile.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=e.left,i=e.top,n=e.width,o=e.height,s=this.renderer,a=s.width,h=s.height,u=s.resolution,l=n/a*u,c=o/h*u,d=this.div;d.style.left=r+"px",d.style.top=i+"px",d.style.width=a+"px",d.style.height=h+"px";for(var p=0;p<this.children.length;p++){var f=this.children[p];if(f.renderId!==this.renderId)f._accessibleActive=!1,(0,x.removeItems)(this.children,p,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,p--;else{d=f._accessibleDiv;var _=f.hitArea,m=f.worldTransform;f.hitArea?(d.style.left=(m.tx+_.x*m.a)*l+"px",d.style.top=(m.ty+_.y*m.d)*c+"px",d.style.width=_.width*m.a*l+"px",d.style.height=_.height*m.d*c+"px"):(_=f.getBounds(),this.capHitArea(_),d.style.left=_.x*l+"px",d.style.top=_.y*c+"px",d.style.width=_.width*l+"px",d.style.height=_.height*c+"px",d.title!==f.accessibleTitle&&null!==f.accessibleTitle&&(d.title=f.accessibleTitle),d.getAttribute("aria-label")!==f.accessibleHint&&null!==f.accessibleHint&&d.setAttribute("aria-label",f.accessibleHint)),f.accessibleTitle===d.title&&f.tabIndex===d.tabIndex||(d.title=f.accessibleTitle,d.tabIndex=f.tabIndex,this.debug&&this.updateDebugHTML(d))}}this.renderId++}},t.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var e=this.renderer,r=e.width,i=e.height;t.x+t.width>r&&(t.width=r-t.x),t.y+t.height>i&&(t.height=i-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction,r=t.target.displayObject,i=e.eventData;e.dispatchEvent(r,"click",i),e.dispatchEvent(r,"pointertap",i),e.dispatchEvent(r,"tap",i)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction,r=t.target.displayObject,i=e.eventData;e.dispatchEvent(r,"mouseover",i)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction,r=t.target.displayObject,i=e.eventData;e.dispatchEvent(r,"mouseout",i)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}(),D=r(92),L=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new E.E9,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},t.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}(),N=function(t,e){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},F=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),B=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return 0!=(this._flags&t.FLAGS.OVER)},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return 0!=(this._flags&t.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return 0!=(this._flags&t.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),U=function(){function t(){this._tempPoint=new E.E9}return t.prototype.recursiveFindHit=function(t,e,r,i,n){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=n=e.interactive||n,h=!0;if(e.hitArea?(i&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,h=!1)),a=!1):e._mask&&i&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(i=!1)),h&&e.interactiveChildren&&e.children)for(var u=e.children,l=u.length-1;l>=0;l--){var c=u[l],d=this.recursiveFindHit(t,c,r,i,a);if(d){if(!c.parent)continue;a=!1,d&&(t.target&&(i=!1),s=!0)}}return n&&(i&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),r&&r(t,e,!!s))),s},t.prototype.findHit=function(t,e,r,i){this.recursiveFindHit(t,e,r,i,!1)},t}(),G={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};R.mixin(G);var X={target:null,data:{global:null}},k=function(t){function e(e,r){var i=t.call(this)||this;return r=r||{},i.renderer=e,i.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,i.interactionFrequency=r.interactionFrequency||10,i.mouse=new L,i.mouse.identifier=1,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[1]=i.mouse,i.interactionDataPool=[],i.eventData=new F,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in self),i.supportsTouchEvents="ontouchstart"in self,i.supportsPointerEvents=!!self.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new U,i._tempDisplayObject=new P,i._useSystemTicker=void 0===r.useSystemTicker||r.useSystemTicker,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return function(t,e){function r(){this.constructor=t}N(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(t,e){return X.target=null,X.data.global=t,e||(e=this.lastObjectRendered),this.processInteractive(X,e,null,!0),X.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(D.vB.system.add(this.tickerUpdate,this,D.uF.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(D.vB.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(self.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),self.addEventListener("pointercancel",this.onPointerCancel,!0),self.addEventListener("pointerup",this.onPointerUp,!0)):(self.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),self.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(self.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),self.removeEventListener("pointercancel",this.onPointerCancel,!0),self.removeEventListener("pointerup",this.onPointerUp,!0)):(self.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),self.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var e=this.activeInteractionData[t];if(e.originalEvent&&"touch"!==e.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e);this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){t=t||"default";var e=!0;if(self.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(e=!1),this.currentCursorMode!==t){this.currentCursorMode=t;var r=this.cursorStyles[t];if(r)switch(typeof r){case"string":e&&(this.interactionDOMElement.style.cursor=r);break;case"function":r(t);break;case"object":e&&Object.assign(this.interactionDOMElement.style,r)}else e&&"string"==typeof t&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,r){r.stopPropagationHint&&t!==r.stopsPropagatingAt||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.delayDispatchEvent=function(t,e,r){this.delayedEvents.push({displayObject:t,eventString:e,eventData:r})},e.prototype.mapPositionToPoint=function(t,e,r){var i;i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var n=1/this.resolution;t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)*n,t.y=(r-i.top)*(this.interactionDOMElement.height/i.height)*n},e.prototype.processInteractive=function(t,e,r,i){var n=this.search.findHit(t,e,r,i),o=this.delayedEvents;if(!o.length)return n;t.stopPropagationHint=!1;var s=o.length;this.delayedEvents=[];for(var a=0;a<s;a++){var h=o[a],u=h.displayObject,l=h.eventString,c=h.eventData;c.stopsPropagatingAt===u&&(c.stopPropagationHint=!0),this.dispatchEvent(u,l,c)}return n},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);if(s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType)this.emit("touchstart",s);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,r){var i=t.data,n=t.data.identifier;if(r)if(e.trackedPointers[n]||(e.trackedPointers[n]=new B(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===i.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===i.pointerType||"pen"===i.pointerType){var o=2===i.button;o?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var i=this.normalizeToPointerData(t),n=i.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<n;s++){var a=i[s],h=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,h);if(u.data.originalEvent=t,this.processInteractive(u,this.lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,u),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+o:"mouseup"+o,u)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,u),this.releaseInteractionDataForPointerId(a.pointerId))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data,i=t.data.identifier;void 0!==e.trackedPointers[i]&&(delete e.trackedPointers[i],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var i=t.data,n=t.data.identifier,o=e.trackedPointers[n],s="touch"===i.pointerType,a="mouse"===i.pointerType||"pen"===i.pointerType,h=!1;if(a){var u=2===i.button,l=B.FLAGS,c=u?l.RIGHT_DOWN:l.LEFT_DOWN,d=void 0!==o&&o.flags&c;r?(this.dispatchEvent(e,u?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,u?"rightclick":"click",t),h=!0)):d&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),o&&(u?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(a&&!h||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[n]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,r){var i=t.data,n="touch"===i.pointerType,o="mouse"===i.pointerType||"pen"===i.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",i),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",i):this.releaseInteractionDataForPointerId(r.identifier)}},e.prototype.processPointerOverOut=function(t,e,r){var i=t.data,n=t.data.identifier,o="mouse"===i.pointerType||"pen"===i.pointerType,s=e.trackedPointers[n];r&&!s&&(s=e.trackedPointers[n]=new B(n)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.delayDispatchEvent(e,"pointerover",t),o&&this.delayDispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[n]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",i),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",i)},e.prototype.getInteractionDataForPointerId=function(t){var e,r=t.pointerId;return 1===r||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[r]?e=this.activeInteractionData[r]:((e=this.interactionDataPool.pop()||new L).identifier=r,this.activeInteractionData[r]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,i=t.changedTouches.length;r<i;r++){var n=t.changedTouches[r];void 0===n.button&&(n.button=t.touches.length?1:0),void 0===n.buttons&&(n.buttons=t.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),void 0===n.twist&&(n.twist=0),void 0===n.tangentialPressure&&(n.tangentialPressure=0),void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,e.push(n)}else if(!self.MouseEvent||t instanceof MouseEvent&&!(this.supportsPointerEvents&&t instanceof self.PointerEvent)){var o=t;void 0===o.isPrimary&&(o.isPrimary=!0),void 0===o.width&&(o.width=1),void 0===o.height&&(o.height=1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="mouse"),void 0===o.pointerId&&(o.pointerId=1),void 0===o.pressure&&(o.pressure=.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),o.isNormalized=!0,e.push(o)}else e.push(t);return e},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(x.EventEmitter),j=r(903),H=function(){function t(e){var r=this;this.stage=new I,e=Object.assign({forceCanvas:!1},e),this.renderer=(0,j.e6)(e),t._plugins.forEach((function(t){t.init.call(r,e)}))}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var i=this,n=t._plugins.slice(0);n.reverse(),n.forEach((function(t){t.destroy.call(i)})),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}(),Y=function(){function t(){}return t.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){self.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(self.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame((function(){return e.resize()})))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var t,r;if(e.cancelResize(),e._resizeTo===self)t=self.innerWidth,r=self.innerHeight;else{var i=e._resizeTo;t=i.clientWidth,r=i.clientHeight}e.renderer.resize(t,r)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},t.destroy=function(){this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();H.registerPlugin(Y);var V,z,W=new E.Ae,q=function(){function t(t){this.renderer=t}return t.prototype.image=function(t,e,r){var i=new Image;return i.src=this.base64(t,e,r),i},t.prototype.base64=function(t,e,r){return this.canvas(t).toDataURL(e,r)},t.prototype.canvas=function(e){var r,i,n,o=this.renderer,s=!1,a=!1;e&&(e instanceof j.TI?n=e:(n=this.renderer.generateTexture(e),a=!0)),n?(r=n.baseTexture.resolution,i=n.frame,s=!1,o.renderTexture.bind(n)):(r=this.renderer.resolution,s=!0,(i=W).width=this.renderer.width,i.height=this.renderer.height,o.renderTexture.bind(null));var h=Math.floor(i.width*r+1e-4),u=Math.floor(i.height*r+1e-4),l=new x.CanvasRenderTarget(h,u,1),c=new Uint8Array(4*h*u),d=o.gl;d.readPixels(i.x*r,i.y*r,h,u,d.RGBA,d.UNSIGNED_BYTE,c);var p=l.context.getImageData(0,0,h,u);if(t.arrayPostDivide(c,p.data),l.context.putImageData(p,0,0),s){var f=new x.CanvasRenderTarget(l.width,l.height,1);f.context.scale(1,-1),f.context.drawImage(l.canvas,0,-u),l.destroy(),l=f}return a&&n.destroy(!0),l.canvas},t.prototype.pixels=function(e){var r,i,n,o=this.renderer,s=!1;e&&(e instanceof j.TI?n=e:(n=this.renderer.generateTexture(e),s=!0)),n?(r=n.baseTexture.resolution,i=n.frame,o.renderTexture.bind(n)):(r=o.resolution,(i=W).width=o.width,i.height=o.height,o.renderTexture.bind(null));var a=i.width*r,h=i.height*r,u=new Uint8Array(4*a*h),l=o.gl;return l.readPixels(i.x*r,i.y*r,a,h,l.RGBA,l.UNSIGNED_BYTE,u),s&&n.destroy(!0),t.arrayPostDivide(u,u),u},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(t,e){for(var r=0;r<t.length;r+=4){var i=e[r+3]=t[r+3];0!==i?(e[r]=Math.round(Math.min(255*t[r]/i,255)),e[r+1]=Math.round(Math.min(255*t[r+1]/i,255)),e[r+2]=Math.round(Math.min(255*t[r+2]/i,255))):(e[r]=t[r],e[r+1]=t[r+1],e[r+2]=t[r+2])}},t}(),K=r(291),Z=r(206);!function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37493]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37494]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37495]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37496]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37497]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"}(z||(z={}));var $=((V={})[z.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,V[z.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,V[z.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,V[z.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,V[z.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,V[z.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,V[z.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,V[z.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,V[z.COMPRESSED_R11_EAC]=.5,V[z.COMPRESSED_SIGNED_R11_EAC]=.5,V[z.COMPRESSED_RG11_EAC]=1,V[z.COMPRESSED_SIGNED_RG11_EAC]=1,V[z.COMPRESSED_RGB8_ETC2]=.5,V[z.COMPRESSED_RGBA8_ETC2_EAC]=.5,V[z.COMPRESSED_SRGB8_ETC2]=.5,V[z.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=.5,V[z.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,V[z.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,V[z.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,V[z.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,V[z.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,V[z.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,V[z.COMPRESSED_RGB_ETC1_WEBGL]=.5,V[z.COMPRESSED_RGB_ATC_WEBGL]=.5,V[z.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,V[z.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,V),J=function(t,e){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Q(t,e){function r(){this.constructor=t}J(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var tt,et,rt=function(t){function e(e,r){void 0===r&&(r={width:1,height:1,autoLoad:!0});var i,n,o=this;return"string"==typeof e?(i=e,n=new Uint8Array):(i=null,n=e),(o=t.call(this,n,r)||this).origin=i,o.buffer=n?new j.Rv(n):null,o.origin&&!1!==r.autoLoad&&o.load(),n&&n.length&&(o.loaded=!0,o.onBlobLoaded(o.buffer.rawBinaryData)),o}return Q(e,t),e.prototype.onBlobLoaded=function(t){},e.prototype.load=function(){return t=this,void 0,r=function(){var t;return function(t,e){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){switch(e.label){case 0:return[4,fetch(this.origin)];case 1:return[4,e.sent().blob()];case 2:return[4,e.sent().arrayBuffer()];case 3:return t=e.sent(),this.data=new Uint32Array(t),this.buffer=new j.Rv(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),[2,this]}}))},new((e=Promise)||(e=Promise))((function(i,n){function o(t){try{a(r.next(t))}catch(t){n(t)}}function s(t){try{a(r.throw(t))}catch(t){n(t)}}function a(t){t.done?i(t.value):new e((function(e){e(t.value)})).then(o,s)}a((r=r.apply(t,[])).next())}));var t,e,r},e}(j.qm),it=function(t){function e(r,i){var n=t.call(this,r,i)||this;return n.format=i.format,n.levels=i.levels||1,n._width=i.width,n._height=i.height,n._extension=e._formatToExtension(n.format),(i.levelBuffers||n.buffer)&&(n._levelBuffers=i.levelBuffers||e._createLevelBuffers(r instanceof Uint8Array?r:n.buffer.uint8View,n.format,n.levels,4,4,n.width,n.height)),n}return Q(e,t),e.prototype.upload=function(t,e,r){var i=t.gl;if(!t.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var n=0,o=this.levels;n<o;n++){var s=this._levelBuffers[n],a=s.levelID,h=s.levelWidth,u=s.levelHeight,l=s.levelBuffer;i.compressedTexImage2D(i.TEXTURE_2D,a,this.format,h,u,0,l)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t>=36196)return"etc1";if(t>=35986&&t<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(t,e,r,i,n,o,s){for(var a=new Array(r),h=t.byteOffset,u=o,l=s,c=u+i-1&~(i-1),d=l+n-1&~(n-1),p=c*d*$[e],f=0;f<r;f++)a[f]={levelID:f,levelWidth:r>1?u:c,levelHeight:r>1?l:d,levelBuffer:new Uint8Array(t.buffer,h,p)},h+=p,p=(c=(u=u>>1||1)+i-1&~(i-1))*(d=(l=l>>1||1)+n-1&~(n-1))*$[e];return a},e}(rt),nt=function(){function t(){}return t.use=function(e,r){var i=e.data;if(t.textureExtensions||t.autoDetectExtensions(),e.type===K.kC.TYPE.JSON&&i&&i.cacheID&&i.textures){for(var n=i.textures,o=void 0,s=void 0,a=0,h=n.length;a<h;a++){var u=n[a],l=u.src,c=u.format;if(c||(s=l),t.textureFormats[c]){o=l;break}}if(!(o=o||s))throw new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback");if(o===e.url)throw new Error("URL of compressed texture cannot be the same as the manifest's URL");var d={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e};this.add(i.cacheID,o,d,(function(){r()}))}else r()},t.autoDetectExtensions=function(e){if(!e){var r=document.createElement("canvas").getContext("webgl");if(!r)return void console.error("WebGL not available for compressed textures. Silently failing.");e={s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")}}for(var i in t.textureExtensions=e,t.textureFormats={},e){var n=e[i];n&&Object.assign(t.textureFormats,Object.getPrototypeOf(n))}},t}();function ot(t,e){e&&e.forEach((function(e,r){var i=new j.VL(e,{mipmap:Z.WB.OFF,alphaMode:Z.iw.NO_PREMULTIPLIED_ALPHA}),n=t+"-"+(r+1);j.VL.addToCache(i,n),j.xE.addToCache(new j.xE(i),n),0===r&&(j.VL.addToCache(i,t),j.xE.addToCache(new j.xE(i),t))}))}K.kC.setExtensionXhrType("dds",K.kC.XHR_RESPONSE_TYPE.BUFFER);var st,at;!function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"}(st||(st={})),function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"}(at||(at={}));var ht,ut,lt,ct=((tt={})[827611204]=z.COMPRESSED_RGBA_S3TC_DXT1_EXT,tt[861165636]=z.COMPRESSED_RGBA_S3TC_DXT3_EXT,tt[894720068]=z.COMPRESSED_RGBA_S3TC_DXT5_EXT,tt),dt=((et={})[st.DXGI_FORMAT_BC1_TYPELESS]=z.COMPRESSED_RGBA_S3TC_DXT1_EXT,et[st.DXGI_FORMAT_BC1_UNORM]=z.COMPRESSED_RGBA_S3TC_DXT1_EXT,et[st.DXGI_FORMAT_BC2_TYPELESS]=z.COMPRESSED_RGBA_S3TC_DXT3_EXT,et[st.DXGI_FORMAT_BC2_UNORM]=z.COMPRESSED_RGBA_S3TC_DXT3_EXT,et[st.DXGI_FORMAT_BC3_TYPELESS]=z.COMPRESSED_RGBA_S3TC_DXT5_EXT,et[st.DXGI_FORMAT_BC3_UNORM]=z.COMPRESSED_RGBA_S3TC_DXT5_EXT,et[st.DXGI_FORMAT_BC1_UNORM_SRGB]=z.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,et[st.DXGI_FORMAT_BC2_UNORM_SRGB]=z.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,et[st.DXGI_FORMAT_BC3_UNORM_SRGB]=z.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,et),pt=function(){function t(){}return t.use=function(e,r){"dds"===e.extension&&e.data&&ot(e.name||e.url,t.parse(e.data)),r()},t.parse=function(t){var e=new Uint32Array(t);if(542327876!==e[0])throw new Error("Invalid DDS file magic word");var r=new Uint32Array(t,0,124/Uint32Array.BYTES_PER_ELEMENT),i=r[3],n=r[4],o=r[7],s=new Uint32Array(t,19*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),a=s[1];if(4&a){var h=s[2];if(808540228!==h){var u=ct[h],l=new Uint8Array(t,128);return[new it(l,{format:u,width:n,height:i,levels:o})]}var c=new Uint32Array(e.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),d=c[0],p=c[1],f=c[2],_=c[3],m=dt[d];if(void 0===m)throw new Error("DDSLoader cannot parse texture data with DXGI format "+d);if(4===f)throw new Error("DDSLoader does not support cubemap textures");if(p===at.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var y=new Array;if(1===_)y.push(new Uint8Array(t,148));else{for(var v=$[m],g=0,b=n,x=i,T=0;T<o;T++)g+=Math.max(1,b+3&-4)*Math.max(1,x+3&-4)*v,b>>>=1,x>>>=1;var E=148;for(T=0;T<_;T++)y.push(new Uint8Array(t,E,g)),E+=g}return y.map((function(t){return new it(t,{format:m,width:n,height:i,levels:o})}))}if(64&a)throw new Error("DDSLoader does not support uncompressed texture data.");if(512&a)throw new Error("DDSLoader does not supported YUV uncompressed texture data.");if(131072&a)throw new Error("DDSLoader does not support single-channel (lumninance) texture data!");if(2&a)throw new Error("DDSLoader does not support single-channel (alpha) texture data!");throw new Error("DDSLoader failed to load a texture file due to an unknown reason!")},t}();K.kC.setExtensionXhrType("ktx",K.kC.XHR_RESPONSE_TYPE.BUFFER);var ft=[171,75,84,88,32,49,49,187,13,10,26,10],_t=((ht={})[Z.vK.UNSIGNED_BYTE]=1,ht[Z.vK.UNSIGNED_SHORT]=2,ht[Z.vK.FLOAT]=4,ht[Z.vK.HALF_FLOAT]=8,ht),mt=((ut={})[Z.I2.RGBA]=4,ut[Z.I2.RGB]=3,ut[Z.I2.LUMINANCE]=1,ut[Z.I2.LUMINANCE_ALPHA]=2,ut[Z.I2.ALPHA]=1,ut),yt=((lt={})[Z.vK.UNSIGNED_SHORT_4_4_4_4]=2,lt[Z.vK.UNSIGNED_SHORT_5_5_5_1]=2,lt[Z.vK.UNSIGNED_SHORT_5_6_5]=2,lt),vt=function(){function t(){}return t.use=function(e,r){"ktx"===e.extension&&e.data&&t.parse(e.name||e.url,e.data),r()},t.parse=function(e,r){var i=new DataView(r);if(t.validate(e,i)){var n=67305985===i.getUint32(12,!0),o=i.getUint32(16,n),s=i.getUint32(24,n),a=i.getUint32(28,n),h=i.getUint32(36,n),u=i.getUint32(40,n)||1,l=i.getUint32(44,n)||1,c=i.getUint32(48,n)||1,d=i.getUint32(52,n),p=i.getUint32(56,n),f=i.getUint32(60,n);if(0===u||1!==l)throw new Error("Only 2D textures are supported");if(1!==d)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==c)throw new Error("WebGL does not support array textures");var _,m=h+3&-4,y=u+3&-4,v=new Array(c),g=h*u;if(0===o&&(g=m*y),void 0===(_=0!==o?_t[o]?_t[o]*mt[s]:yt[o]:$[a]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var b=g*_,x=h,T=u,E=m,A=y,S=64+f,O=0;O<p;O++){for(var R=i.getUint32(S,n),P=S+4,w=0;w<c;w++){var I=v[w];I||(I=v[w]=new Array(p)),I[O]={levelID:O,levelWidth:p>1?x:E,levelHeight:p>1?T:A,levelBuffer:new Uint8Array(r,P,b)},P+=b}S=(S+=R+4)%4!=0?S+4-S%4:S,b=(E=(x=x>>1||1)+4-1&-4)*(A=(T=T>>1||1)+4-1&-4)*_}if(0!==o)throw new Error("TODO: Uncompressed");ot(e,v.map((function(t){return new it(null,{format:a,width:h,height:u,levels:p,levelBuffers:t})})))}},t.validate=function(t,e){for(var r=0;r<ft.length;r++)if(e.getUint8(r)!==ft[r])return console.error(t+" is not a valid *.ktx file!"),!1;return!0},t}(),gt=function(t,e){return(gt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function bt(t,e){function r(){this.constructor=t}gt(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var xt,Tt,Et=function(t){function e(e,r,i,n){void 0===e&&(e=1500),void 0===i&&(i=16384),void 0===n&&(n=!1);var o=t.call(this)||this;return i>16384&&(i=16384),o._properties=[!1,!0,!1,!1,!1],o._maxSize=e,o._batchSize=i,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=Z.T$.NORMAL,o.autoResize=n,o.roundPixels=!0,o.baseTexture=null,o.setProperties(r),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return bt(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,(0,x.hex2rgb)(t,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(I),At=function(){function t(t,e,r){this.geometry=new j.ZX,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var n=t[i];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||Z.vK.FLOAT,offset:n.offset},e[i]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new j.lW((0,x.createIndicesForQuads)(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r)(s=this.dynamicProperties[r]).offset=e,e+=s.size,this.dynamicStride+=s.size;var i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new j.lW(this.dynamicData,!1,!1);var n=0;for(this.staticStride=0,r=0;r<this.staticProperties.length;++r)(s=this.staticProperties[r]).offset=n,n+=s.size,this.staticStride+=s.size;var o=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new j.lW(this.staticData,!0,!1),r=0;r<this.dynamicProperties.length;++r){var s=this.dynamicProperties[r];t.addAttribute(s.attributeName,this.dynamicBuffer,0,s.type===Z.vK.UNSIGNED_BYTE,s.type,4*this.dynamicStride,4*s.offset)}for(r=0;r<this.staticProperties.length;++r)s=this.staticProperties[r],t.addAttribute(s.attributeName,this.staticBuffer,0,s.type===Z.vK.UNSIGNED_BYTE,s.type,4*this.staticStride,4*s.offset)},t.prototype.uploadDynamic=function(t,e,r){for(var i=0;i<this.dynamicProperties.length;i++){var n=this.dynamicProperties[i];n.uploadFunction(t,e,r,n.type===Z.vK.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(t,e,r){for(var i=0;i<this.staticProperties.length;i++){var n=this.staticProperties[i];n.uploadFunction(t,e,r,n.type===Z.vK.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),St=function(t){function e(e){var r=t.call(this,e)||this;return r.shader=null,r.properties=null,r.tempMatrix=new E.y3,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Z.vK.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=j.ex.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),r.state=j.ZM.for2d(),r}return bt(e,t),e.prototype.render=function(t){var e=t.children,r=t._maxSize,i=t._batchSize,n=this.renderer,o=e.length;if(0!==o){o>r&&!t.autoResize&&(o=r);var s=t._buffers;s||(s=t._buffers=this.generateBuffers(t));var a=e[0]._texture.baseTexture;this.state.blendMode=(0,x.correctBlendMode)(t.blendMode,a.alphaMode),n.state.set(this.state);var h=n.gl,u=t.worldTransform.copyTo(this.tempMatrix);u.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=u.toArray(!0),this.shader.uniforms.uColor=(0,x.premultiplyRgba)(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,a.alphaMode),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var l=!1,c=0,d=0;c<o;c+=i,d+=1){var p=o-c;p>i&&(p=i),d>=s.length&&s.push(this._generateOneMoreBuffer(t));var f=s[d];f.uploadDynamic(e,c,p);var _=t._bufferUpdateIDs[d]||0;(l=l||f._updateID<_)&&(f._updateID=t._updateID,f.uploadStatic(e,c,p)),n.geometry.bind(f.geometry),h.drawElements(h.TRIANGLES,6*p,h.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],r=t._maxSize,i=t._batchSize,n=t._properties,o=0;o<r;o+=i)e.push(new At(this.properties,n,i));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,r=t._properties;return new At(this.properties,r,e)},e.prototype.uploadVertices=function(t,e,r,i,n,o){for(var s=0,a=0,h=0,u=0,l=0;l<r;++l){var c=t[e+l],d=c._texture,p=c.scale.x,f=c.scale.y,_=d.trim,m=d.orig;_?(s=(a=_.x-c.anchor.x*m.width)+_.width,h=(u=_.y-c.anchor.y*m.height)+_.height):(s=m.width*(1-c.anchor.x),a=m.width*-c.anchor.x,h=m.height*(1-c.anchor.y),u=m.height*-c.anchor.y),i[o]=a*p,i[o+1]=u*f,i[o+n]=s*p,i[o+n+1]=u*f,i[o+2*n]=s*p,i[o+2*n+1]=h*f,i[o+3*n]=a*p,i[o+3*n+1]=h*f,o+=4*n}},e.prototype.uploadPosition=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].position;i[o]=a.x,i[o+1]=a.y,i[o+n]=a.x,i[o+n+1]=a.y,i[o+2*n]=a.x,i[o+2*n+1]=a.y,i[o+3*n]=a.x,i[o+3*n+1]=a.y,o+=4*n}},e.prototype.uploadRotation=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;i[o]=a,i[o+n]=a,i[o+2*n]=a,i[o+3*n]=a,o+=4*n}},e.prototype.uploadUvs=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(i[o]=a.x0,i[o+1]=a.y0,i[o+n]=a.x1,i[o+n+1]=a.y1,i[o+2*n]=a.x2,i[o+2*n+1]=a.y2,i[o+3*n]=a.x3,i[o+3*n+1]=a.y3,o+=4*n):(i[o]=0,i[o+1]=0,i[o+n]=0,i[o+n+1]=0,i[o+2*n]=0,i[o+2*n+1]=0,i[o+3*n]=0,i[o+3*n+1]=0,o+=4*n)}},e.prototype.uploadTint=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s],h=a._texture.baseTexture.alphaMode>0,u=a.alpha,l=u<1&&h?(0,x.premultiplyTint)(a._tintRGB,u):a._tintRGB+(255*u<<24);i[o]=l,i[o+n]=l,i[o+2*n]=l,i[o+3*n]=l,o+=4*n}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(j.bO);!function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"}(xt||(xt={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(Tt||(Tt={}));var Ot={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},Rt=function(){function t(){this.color=16777215,this.alpha=1,this.texture=j.xE.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=j.xE.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),Pt=function(t,e){return(Pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function wt(t,e){function r(){this.constructor=t}Pt(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var It={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,i=t.holes,n=e.points,o=e.indices;if(r.length>=6){for(var s=[],a=0;a<i.length;a++){var h=i[a];s.push(r.length/2),r=r.concat(h.points)}var u=(0,x.earcut)(r,s,2);if(!u)return;var l=n.length/2;for(a=0;a<u.length;a+=3)o.push(u[a]+l),o.push(u[a+1]+l),o.push(u[a+2]+l);for(a=0;a<r.length;a++)n.push(r[a])}}},Mt={build:function(t){var e,r,i=t.shape,n=t.points,o=i.x,s=i.y;if(n.length=0,t.type===E.HS.CIRC)e=i.radius,r=i.radius;else{var a=t.shape;e=a.width,r=a.height}if(0!==e&&0!==r){var h=Math.floor(30*Math.sqrt(i.radius))||Math.floor(15*Math.sqrt(e+r));h/=2.3;for(var u=2*Math.PI/h,l=0;l<h-.5;l++)n.push(o+Math.sin(-u*l)*e,s+Math.cos(-u*l)*r);n.push(n[0],n[1])}},triangulate:function(t,e){var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=o,a=t.shape,h=t.matrix,u=a.x,l=a.y;i.push(t.matrix?h.a*u+h.c*l+h.tx:u,t.matrix?h.b*u+h.d*l+h.ty:l);for(var c=0;c<r.length;c+=2)i.push(r[c],r[c+1]),n.push(o++,s,o)}},Ct={build:function(t){var e=t.shape,r=e.x,i=e.y,n=e.width,o=e.height,s=t.points;s.length=0,s.push(r,i,r+n,i,r+n,i+o,r,i+o)},triangulate:function(t,e){var r=t.points,i=e.points,n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}};function Dt(t,e,r){return t+(e-t)*r}function Lt(t,e,r,i,n,o,s){void 0===s&&(s=[]);for(var a=s,h=0,u=0,l=0,c=0,d=0,p=0,f=0,_=0;f<=20;++f)h=Dt(t,r,_=f/20),u=Dt(e,i,_),l=Dt(r,n,_),c=Dt(i,o,_),d=Dt(h,l,_),p=Dt(u,c,_),a.push(d,p);return a}var Nt={build:function(t){var e=t.shape,r=t.points,i=e.x,n=e.y,o=e.width,s=e.height,a=Math.max(0,Math.min(e.radius,Math.min(o,s)/2));r.length=0,a?(Lt(i,n+a,i,n,i+a,n,r),Lt(i+o-a,n,i+o,n,i+o,n+a,r),Lt(i+o,n+s-a,i+o,n+s,i+o-a,n+s,r),Lt(i+a,n+s,i,n+s,i,n+s-a,r)):r.push(i,n,i+o,n,i+o,n+s,i,n+s)},triangulate:function(t,e){for(var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=(0,x.earcut)(r,null,2),a=0,h=s.length;a<h;a+=3)n.push(s[a]+o),n.push(s[a+1]+o),n.push(s[a+2]+o);for(a=0,h=r.length;a<h;a++)i.push(r[a],r[++a])}};function Ft(t,e,r,i,n,o,s,a){var h,u;s?(h=i,u=-r):(h=-i,u=r);var l=t-r*n+h,c=e-i*n+u,d=t+r*o+h,p=e+i*o+u;return a.push(l,c),a.push(d,p),2}function Bt(t,e,r,i,n,o,s,a){var h=r-t,u=i-e,l=Math.atan2(h,u),c=Math.atan2(n-t,o-e);a&&l<c?l+=2*Math.PI:!a&&l>c&&(c+=2*Math.PI);var d=l,p=c-l,f=Math.abs(p),_=Math.sqrt(h*h+u*u),m=1+(15*f*Math.sqrt(_)/Math.PI>>0),y=p/m;if(d+=y,a){s.push(t,e),s.push(r,i);for(var v=1,g=d;v<m;v++,g+=y)s.push(t,e),s.push(t+Math.sin(g)*_,e+Math.cos(g)*_);s.push(t,e),s.push(n,o)}else{for(s.push(r,i),s.push(t,e),v=1,g=d;v<m;v++,g+=y)s.push(t+Math.sin(g)*_,e+Math.cos(g)*_),s.push(t,e);s.push(n,o),s.push(t,e)}return 2*m}function Ut(t,e){t.lineStyle.native?function(t,e){var r=0,i=t.shape,n=t.points||i.points,o=i.type!==E.HS.POLY||i.closeStroke;if(0!==n.length){var s=e.points,a=e.indices,h=n.length/2,u=s.length/2,l=u;for(s.push(n[0],n[1]),r=1;r<h;r++)s.push(n[2*r],n[2*r+1]),a.push(l,l+1),l++;o&&a.push(l,u)}}(t,e):function(t,e){var r=t.shape,i=t.points||r.points.slice(),n=e.closePointEps;if(0!==i.length){var o=t.lineStyle,s=new E.E9(i[0],i[1]),a=new E.E9(i[i.length-2],i[i.length-1]),h=r.type!==E.HS.POLY||r.closeStroke,u=Math.abs(s.x-a.x)<n&&Math.abs(s.y-a.y)<n;if(h){i=i.slice(),u&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));var l=.5*(s.x+a.x),c=.5*(a.y+s.y);i.unshift(l,c),i.push(l,c)}var d=e.points,p=i.length/2,f=i.length,_=d.length/2,m=o.width/2,y=m*m,v=o.miterLimit*o.miterLimit,g=i[0],b=i[1],x=i[2],T=i[3],A=0,S=0,O=-(b-T),R=g-x,P=0,w=0,I=Math.sqrt(O*O+R*R);O/=I,R/=I,O*=m,R*=m;var M=o.alignment,C=2*(1-M),D=2*M;h||(o.cap===Tt.ROUND?f+=Bt(g-O*(C-D)*.5,b-R*(C-D)*.5,g-O*C,b-R*C,g+O*D,b+R*D,d,!0)+2:o.cap===Tt.SQUARE&&(f+=Ft(g,b,O,R,C,D,!0,d))),d.push(g-O*C,b-R*C),d.push(g+O*D,b+R*D);for(var L=1;L<p-1;++L){g=i[2*(L-1)],b=i[2*(L-1)+1],x=i[2*L],T=i[2*L+1],A=i[2*(L+1)],S=i[2*(L+1)+1],O=-(b-T),R=g-x,O/=I=Math.sqrt(O*O+R*R),R/=I,O*=m,R*=m,P=-(T-S),w=x-A,P/=I=Math.sqrt(P*P+w*w),w/=I,P*=m,w*=m;var N=x-g,F=b-T,B=x-A,U=S-T,G=F*B-U*N,X=G<0;if(Math.abs(G)<.1)d.push(x-O*C,T-R*C),d.push(x+O*D,T+R*D);else{var k=(-O+g)*(-R+T)-(-O+x)*(-R+b),j=(-P+A)*(-w+T)-(-P+x)*(-w+S),H=(N*j-B*k)/G,Y=(U*k-F*j)/G,V=(H-x)*(H-x)+(Y-T)*(Y-T),z=x+(H-x)*C,W=T+(Y-T)*C,q=x-(H-x)*D,K=T-(Y-T)*D,Z=X?C:D;V<=Math.min(N*N+F*F,B*B+U*U)+Z*Z*y?o.join===xt.BEVEL||V/y>v?(X?(d.push(z,W),d.push(x+O*D,T+R*D),d.push(z,W),d.push(x+P*D,T+w*D)):(d.push(x-O*C,T-R*C),d.push(q,K),d.push(x-P*C,T-w*C),d.push(q,K)),f+=2):o.join===xt.ROUND?X?(d.push(z,W),d.push(x+O*D,T+R*D),f+=Bt(x,T,x+O*D,T+R*D,x+P*D,T+w*D,d,!0)+4,d.push(z,W),d.push(x+P*D,T+w*D)):(d.push(x-O*C,T-R*C),d.push(q,K),f+=Bt(x,T,x-O*C,T-R*C,x-P*C,T-w*C,d,!1)+4,d.push(x-P*C,T-w*C),d.push(q,K)):(d.push(z,W),d.push(q,K)):(d.push(x-O*C,T-R*C),d.push(x+O*D,T+R*D),o.join===xt.BEVEL||V/y>v||(o.join===xt.ROUND?f+=X?Bt(x,T,x+O*D,T+R*D,x+P*D,T+w*D,d,!0)+2:Bt(x,T,x-O*C,T-R*C,x-P*C,T-w*C,d,!1)+2:(X?(d.push(q,K),d.push(q,K)):(d.push(z,W),d.push(z,W)),f+=2)),d.push(x-P*C,T-w*C),d.push(x+P*D,T+w*D),f+=2)}}g=i[2*(p-2)],b=i[2*(p-2)+1],x=i[2*(p-1)],O=-(b-(T=i[2*(p-1)+1])),R=g-x,O/=I=Math.sqrt(O*O+R*R),R/=I,O*=m,R*=m,d.push(x-O*C,T-R*C),d.push(x+O*D,T+R*D),h||(o.cap===Tt.ROUND?f+=Bt(x-O*(C-D)*.5,T-R*(C-D)*.5,x-O*C,T-R*C,x+O*D,T+R*D,d,!1)+2:o.cap===Tt.SQUARE&&(f+=Ft(x,T,O,R,C,D,!1,d)));var $=e.indices,J=Ot.epsilon*Ot.epsilon;for(L=_;L<f+_-2;++L)g=d[2*L],b=d[2*L+1],x=d[2*(L+1)],T=d[2*(L+1)+1],A=d[2*(L+2)],S=d[2*(L+2)+1],Math.abs(g*(T-S)+x*(S-b)+A*(b-T))<J||$.push(L,L+1,L+2)}}(t,e)}var Gt,Xt,kt=function(){function t(){}return t.curveTo=function(t,e,r,i,n,o){var s=o[o.length-2],a=o[o.length-1]-e,h=s-t,u=i-e,l=r-t,c=Math.abs(a*l-h*u);if(c<1e-8||0===n)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var d=a*a+h*h,p=u*u+l*l,f=a*u+h*l,_=n*Math.sqrt(d)/c,m=n*Math.sqrt(p)/c,y=_*f/d,v=m*f/p,g=_*l+m*h,b=_*u+m*a,x=h*(m+y),T=a*(m+y),E=l*(_+v),A=u*(_+v);return{cx:g+t,cy:b+e,radius:n,startAngle:Math.atan2(T-b,x-g),endAngle:Math.atan2(A-b,E-g),anticlockwise:h*u>l*a}},t.arc=function(t,e,r,i,n,o,s,a,h){for(var u=s-o,l=Ot._segmentsCount(Math.abs(u)*n,40*Math.ceil(Math.abs(u)/E._b)),c=u/(2*l),d=2*c,p=Math.cos(c),f=Math.sin(c),_=l-1,m=_%1/_,y=0;y<=_;++y){var v=c+o+d*(y+m*y),g=Math.cos(v),b=-Math.sin(v);h.push((p*g+f*b)*n+r,(p*-b+f*g)*n+i)}},t}(),jt=function(){function t(){}return t.curveLength=function(t,e,r,i,n,o,s,a){for(var h=0,u=0,l=0,c=0,d=0,p=0,f=0,_=0,m=0,y=0,v=0,g=t,b=e,x=1;x<=10;++x)y=g-(_=(f=(p=(d=1-(u=x/10))*d)*d)*t+3*p*u*r+3*d*(l=u*u)*n+(c=l*u)*s),v=b-(m=f*e+3*p*u*i+3*d*l*o+c*a),g=_,b=m,h+=Math.sqrt(y*y+v*v);return h},t.curveTo=function(e,r,i,n,o,s,a){var h=a[a.length-2],u=a[a.length-1];a.length-=2;var l=Ot._segmentsCount(t.curveLength(h,u,e,r,i,n,o,s)),c=0,d=0,p=0,f=0,_=0;a.push(h,u);for(var m=1,y=0;m<=l;++m)p=(d=(c=1-(y=m/l))*c)*c,_=(f=y*y)*y,a.push(p*h+3*d*y*e+3*c*f*i+_*o,p*u+3*d*y*r+3*c*f*n+_*s)},t}(),Ht=function(){function t(){}return t.curveLength=function(t,e,r,i,n,o){var s=t-2*r+n,a=e-2*i+o,h=2*r-2*t,u=2*i-2*e,l=4*(s*s+a*a),c=4*(s*h+a*u),d=h*h+u*u,p=2*Math.sqrt(l+c+d),f=Math.sqrt(l),_=2*l*f,m=2*Math.sqrt(d),y=c/f;return(_*p+f*c*(p-m)+(4*d*l-c*c)*Math.log((2*f+y+p)/(y+m)))/(4*_)},t.curveTo=function(e,r,i,n,o){for(var s=o[o.length-2],a=o[o.length-1],h=Ot._segmentsCount(t.curveLength(s,a,e,r,i,n)),u=0,l=0,c=1;c<=h;++c){var d=c/h;u=s+(e-s)*d,l=a+(r-a)*d,o.push(u+(e+(i-e)*d-u)*d,l+(r+(n-r)*d-l)*d)}},t}(),Yt=function(){function t(){this.reset()}return t.prototype.begin=function(t,e,r){this.reset(),this.style=t,this.start=e,this.attribStart=r},t.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),Vt=((Gt={})[E.HS.POLY]=It,Gt[E.HS.CIRC]=Mt,Gt[E.HS.ELIP]=Mt,Gt[E.HS.RECT]=Ct,Gt[E.HS.RREC]=Nt,Gt),zt=[],Wt=[],qt=function(){function t(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null),this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=i,this.type=t.type,this.points=[],this.holes=[]}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),Kt=new E.E9,Zt=new A,$t=function(t){function e(){var e=t.call(this)||this;return e.uvsFloat32=null,e.indicesUint16=null,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.dirty=0,e.batchDirty=-1,e.cacheDirty=-1,e.clearDirty=0,e.drawCalls=[],e.batches=[],e.shapeIndex=0,e._bounds=new A,e.boundsDirty=-1,e.boundsPadding=0,e.batchable=!1,e.indicesUint16=null,e.uvsFloat32=null,e.closePointEps=1e-4,e}return wt(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Wt.push(this.drawCalls[t]);for(this.drawCalls.length=0,t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),zt.push(e)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null);var n=new qt(t,e,r,i);return this.graphicsData.push(n),this.dirty++,this},e.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var r=new qt(t,null,null,e),i=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=i.lineStyle,i.holes.push(r),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,r=0;r<e.length;++r){var i=e[r];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(t,Kt):Kt.copyFrom(t),i.shape.contains(Kt.x,Kt.y))){var n=!1;if(i.holes)for(var o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(Kt.x,Kt.y)){n=!0;break}if(!n)return!0}}return!1},e.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,r=this.graphicsData,i=null,n=null;this.batches.length>0&&(n=(i=this.batches[this.batches.length-1]).style);for(var o=this.shapeIndex;o<r.length;o++){this.shapeIndex++;var s=r[o],a=s.fillStyle,h=s.lineStyle;Vt[s.type].build(s),s.matrix&&this.transformPoints(s.points,s.matrix);for(var u=0;u<2;u++){var l=0===u?a:h;if(l.visible){var c=l.texture.baseTexture,d=this.indices.length,p=this.points.length/2;c.wrapMode=Z.Nt.REPEAT,0===u?this.processFill(s):this.processLine(s);var f=this.points.length/2-p;0!==f&&(i&&!this._compareStyles(n,l)&&(i.end(d,p),i=null),i||((i=zt.pop()||new Yt).begin(l,d,p),this.batches.push(i),n=l),this.addUvs(this.points,e,l.texture,p,f,l.matrix))}}}var _=this.indices.length,m=this.points.length/2;if(i&&i.end(_,m),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var y=m>65535&&t;this.indicesUint16=y?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&t.texture.baseTexture===e.texture.baseTexture&&t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var r=this.graphicsData[t],i=r.fillStyle,n=r.lineStyle;if(i&&!i.texture.baseTexture.valid)return!1;if(n&&!n.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,r=t.length;e<r;e++)for(var i=t[e],n=0;n<i.size;n++){var o=i.start+n;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,r=0;r<t.length;r++)if(t[r].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++j.VL._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Wt.push(this.drawCalls[e]);this.drawCalls.length=0;var r=this.colors,i=this.textureIds,n=Wt.pop();n||((n=new j.a$).texArray=new j.Ie),n.texArray.count=0,n.start=0,n.size=0,n.type=Z.lg.TRIANGLES;var o=0,s=null,a=0,h=!1,u=Z.lg.TRIANGLES,l=0;for(this.drawCalls.push(n),e=0;e<this.batches.length;e++){var c=this.batches[e],d=c.style,p=d.texture.baseTexture;h!==!!d.native&&(u=(h=!!d.native)?Z.lg.LINES:Z.lg.TRIANGLES,s=null,o=8,t++),s!==p&&(s=p,p._batchEnabled!==t&&(8===o&&(t++,o=0,n.size>0&&((n=Wt.pop())||((n=new j.a$).texArray=new j.Ie),this.drawCalls.push(n)),n.start=l,n.size=0,n.texArray.count=0,n.type=u),p.touched=1,p._batchEnabled=t,p._batchLocation=o,p.wrapMode=10497,n.texArray.elements[n.texArray.count++]=p,o++)),n.size+=c.size,l+=c.size,a=p._batchLocation,this.addColors(r,d.color,d.alpha,c.attribSize),this.addTextureIds(i,a,c.attribSize)}j.VL._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,r=this.colors,i=this.textureIds,n=new ArrayBuffer(3*t.length*4),o=new Float32Array(n),s=new Uint32Array(n),a=0,h=0;h<t.length/2;h++)o[a++]=t[2*h],o[a++]=t[2*h+1],o[a++]=e[2*h],o[a++]=e[2*h+1],s[a++]=r[h],o[a++]=i[h];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),It.triangulate(t,this)):Vt[t.type].triangulate(t,this)},e.prototype.processLine=function(t){Ut(t,this);for(var e=0;e<t.holes.length;e++)Ut(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e];Vt[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds,e=Zt,r=E.y3.IDENTITY;this._bounds.clear(),e.clear();for(var i=0;i<this.graphicsData.length;i++){var n=this.graphicsData[i],o=n.shape,s=n.type,a=n.lineStyle,h=n.matrix||E.y3.IDENTITY,u=0;if(a&&a.visible){var l=a.alignment;u=a.width,s===E.HS.POLY?u*=.5+Math.abs(.5-l):u*=Math.max(0,l)}if(r!==h&&(e.isEmpty()||(t.addBoundsMatrix(e,r),e.clear()),r=h),s===E.HS.RECT||s===E.HS.RREC){var c=o;e.addFramePad(c.x,c.y,c.x+c.width,c.y+c.height,u,u)}else if(s===E.HS.CIRC){var d=o;e.addFramePad(d.x,d.y,d.x,d.y,d.radius+u,d.radius+u)}else if(s===E.HS.ELIP){var p=o;e.addFramePad(p.x,p.y,p.x,p.y,p.width+u,p.height+u)}else{var f=o;t.addVerticesMatrix(r,f.points,0,f.points.length,u,u)}}e.isEmpty()||t.addBoundsMatrix(e,r),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var i=t[2*r],n=t[2*r+1];t[2*r]=e.a*i+e.c*n+e.tx,t[2*r+1]=e.b*i+e.d*n+e.ty}},e.prototype.addColors=function(t,e,r,i){for(var n=(e>>16)+(65280&e)+((255&e)<<16),o=(0,x.premultiplyTint)(n,r);i-- >0;)t.push(o)},e.prototype.addTextureIds=function(t,e,r){for(;r-- >0;)t.push(e)},e.prototype.addUvs=function(t,e,r,i,n,o){void 0===o&&(o=null);for(var s=0,a=e.length,h=r.frame;s<n;){var u=t[2*(i+s)],l=t[2*(i+s)+1];if(o){var c=o.a*u+o.c*l+o.tx;l=o.b*u+o.d*l+o.ty,u=c}s++,e.push(u/h.width,l/h.height)}var d=r.baseTexture;(h.width<d.width||h.height<d.height)&&this.adjustUvs(e,r,a,n)},e.prototype.adjustUvs=function(t,e,r,i){for(var n=e.baseTexture,o=1e-6,s=r+2*i,a=e.frame,h=a.width/n.width,u=a.height/n.height,l=a.x/a.width,c=a.y/a.height,d=Math.floor(t[r]+o),p=Math.floor(t[r+1]+o),f=r+2;f<s;f+=2)d=Math.min(d,Math.floor(t[f]+o)),p=Math.min(p,Math.floor(t[f+1]+o));for(l-=d,c-=p,f=r;f<s;f+=2)t[f]=(t[f]+l)*h,t[f+1]=(t[f+1]+c)*u},e.BATCHABLE_SIZE=100,e}(j.JZ),Jt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=Tt.BUTT,e.join=xt.MITER,e.miterLimit=10,e}return wt(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(Rt),Qt=new Float32Array(3),te={},ee=function(t){function e(e){void 0===e&&(e=null);var r=t.call(this)||this;return r._geometry=e||new $t,r._geometry.refCount++,r.shader=null,r.state=j.ZM.for2d(),r._fillStyle=new Rt,r._lineStyle=new Jt,r._matrix=null,r._holeMode=!1,r.currentPath=null,r.batches=[],r.batchTint=-1,r.batchDirty=-1,r.vertexData=null,r.pluginName="batch",r._transformID=-1,r.tint=16777215,r.blendMode=Z.T$.NORMAL,r}return wt(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(t,e,r,i,n){return void 0===t&&(t=null),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=.5),void 0===n&&(n=!1),"number"==typeof t&&(t={width:t,color:e,alpha:r,alignment:i,native:n}),this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){t=Object.assign({width:0,texture:j.xE.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Tt.BUTT,join:xt.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new E.mg,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new E.mg,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,i=r[r.length-2],n=r[r.length-1];return i===t&&n===e||r.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,r,i){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),Ht.curveTo(t,e,r,i,n),this},e.prototype.bezierCurveTo=function(t,e,r,i,n,o){return this._initCurve(),jt.curveTo(t,e,r,i,n,o,this.currentPath.points),this},e.prototype.arcTo=function(t,e,r,i,n){this._initCurve(t,e);var o=this.currentPath.points,s=kt.curveTo(t,e,r,i,n,o);if(s){var a=s.cx,h=s.cy,u=s.radius,l=s.startAngle,c=s.endAngle,d=s.anticlockwise;this.arc(a,h,u,l,c,d)}return this},e.prototype.arc=function(t,e,r,i,n,o){if(void 0===o&&(o=!1),i===n)return this;if(!o&&n<=i?n+=E._b:o&&i<=n&&(i+=E._b),0==n-i)return this;var s=t+Math.cos(i)*r,a=e+Math.sin(i)*r,h=this._geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){var l=Math.abs(u[u.length-2]-s),c=Math.abs(u[u.length-1]-a);l<h&&c<h||u.push(s,a)}else this.moveTo(s,a),u=this.currentPath.points;return kt.arc(s,a,t,e,r,i,n,o,u),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:j.xE.WHITE,color:t,alpha:e})},e.prototype.beginTextureFill=function(t){t=Object.assign({texture:j.xE.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,r,i){return this.drawShape(new E.Ae(t,e,r,i))},e.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new E.c9(t,e,r,i,n))},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new E.Cd(t,e,r))},e.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new E.Pj(t,e,r,i))},e.prototype.drawPolygon=function(){for(var t,e=arguments,r=[],i=0;i<arguments.length;i++)r[i]=e[i];var n=!0,o=r[0];o.points?(n=o.closeStroke,t=o.points):t=Array.isArray(r[0])?r[0]:r;var s=new E.mg(t);return s.closeStroke=n,this.drawShape(s),this},e.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return 1===t.length&&t[0].shape.type===E.HS.RECT&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},e.prototype._render=function(t){this.finishPoly();var e=this._geometry,r=t.context.supports.uint32Indices;e.updateBatches(r),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(var i=0;i<r;i++){var n=t.batches[i],o=n.style.color,s=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(t.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),h={vertexData:s,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:(0,x.hex2rgb)(o),_tintRGB:o,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[i]=h}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,r=this.batches.length;e<r;e++){var i=this.batches[e];i.worldAlpha=this.worldAlpha*i.alpha,t.plugins[this.pluginName].render(i)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),r=this._geometry,i=this.tint,n=this.worldAlpha,o=e.uniforms,s=r.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(i>>16&255)/255*n,o.tint[1]=(i>>8&255)/255*n,o.tint[2]=(255&i)/255*n,o.tint[3]=n,t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(var a=0,h=s.length;a<h;a++)this._renderDrawCallDirect(t,r.drawCalls[a])},e.prototype._renderDrawCallDirect=function(t,e){for(var r=e.texArray,i=e.type,n=e.size,o=e.start,s=r.count,a=0;a<s;a++)t.texture.bind(r.elements[a],a);t.geometry.draw(i,n,o)},e.prototype._resolveDirectShader=function(t){var e=this.shader,r=this.pluginName;if(!e){if(!te[r]){for(var i=t.plugins.batch.MAX_TEXTURES,n=new Int32Array(i),o=0;o<i;o++)n[o]=o;var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new E.y3,default:j.oo.from({uSamplers:n},!0)},a=t.plugins[r]._shader.program;te[r]=new j.ex(a,s)}e=te[r]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,r=e.minX,i=e.minY,n=e.maxX,o=e.maxY;this._bounds.addFrame(this.transform,r,i,n,o)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=(0,x.hex2rgb)(this.tint,Qt),e=0;e<this.batches.length;e++){var r=this.batches[e],i=r._batchRGB,n=(t[0]*i[0]*255<<16)+(t[1]*i[1]*255<<8)+(0|t[2]*i[2]*255);r._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},e.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this._geometry.points,u=this.vertexData,l=0,c=0;c<h.length;c+=2){var d=h[c],p=h[c+1];u[l++]=r*d+n*p+s,u[l++]=o*p+i*d+a}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},e._TEMP_POINT=new E.E9,e}(I),re={buildPoly:It,buildCircle:Mt,buildRectangle:Ct,buildRoundedRectangle:Nt,buildLine:Ut,ArcUtils:kt,BezierUtils:jt,QuadraticUtils:Ht,BatchPart:Yt,FILL_COMMANDS:Vt,BATCH_POOL:zt,DRAW_CALL_POOL:Wt},ie=function(t,e){return(ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},ne=new E.E9,oe=new Uint16Array([0,1,2,0,2,3]),se=function(t){function e(e){var r=t.call(this)||this;return r._anchor=new E.AB(r._onAnchorUpdate,r,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=Z.T$.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=e||j.xE.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=oe,r.pluginName="batch",r.isSprite=!0,r._roundPixels=T.X.ROUND_PIXELS,r}return function(t,e){function r(){this.constructor=t}ie(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=(0,x.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,x.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this.vertexData,u=t.trim,l=t.orig,c=this._anchor,d=0,p=0,f=0,_=0;if(u?(d=(p=u.x-c._x*l.width)+u.width,f=(_=u.y-c._y*l.height)+u.height):(d=(p=-c._x*l.width)+l.width,f=(_=-c._y*l.height)+l.height),h[0]=r*p+n*_+s,h[1]=o*_+i*p+a,h[2]=r*d+n*_+s,h[3]=o*_+i*d+a,h[4]=r*d+n*f+s,h[5]=o*f+i*d+a,h[6]=r*p+n*f+s,h[7]=o*f+i*p+a,this._roundPixels)for(var m=T.X.RESOLUTION,y=0;y<h.length;++y)h[y]=Math.round((h[y]*m|0)/m)}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,i=this._anchor,n=this.transform.worldTransform,o=n.a,s=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,c=-i._x*r.width,d=c+r.width,p=-i._y*r.height,f=p+r.height;e[0]=o*c+a*p+u,e[1]=h*p+s*c+l,e[2]=o*d+a*p+u,e[3]=h*p+s*d+l,e[4]=o*d+a*f+u,e[5]=h*f+s*d+l,e[6]=o*c+a*f+u,e[7]=h*f+s*c+l},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new E.Ae),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,ne);var e=this._texture.orig.width,r=this._texture.orig.height,i=-e*this.anchor.x,n=0;return ne.x>=i&&ne.x<i+e&&(n=-r*this.anchor.y,ne.y>=n&&ne.y<n+r)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var r="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null},e.from=function(t,r){return new e(t instanceof j.xE?t:j.xE.from(t,r))},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,x.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,x.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||j.xE.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(I),ae=function(t,e){return(ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};!function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(Xt||(Xt={}));var he={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Xt.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},ue=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],le=function(){function t(t){this.styleID=0,this.reset(),pe(this,t,t)}return t.prototype.clone=function(){var e={};return pe(e,this,he),new t(e)},t.prototype.reset=function(){pe(this,he,he)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=de(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=de(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=de(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var i=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&ue.indexOf(i)<0&&(i='"'+i+'"'),e[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},t}();function ce(t){return"number"==typeof t?(0,x.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function de(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=ce(t[e]);return t}return ce(t)}function pe(t,e,r){for(var i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}var fe=function(){function t(t,e,r,i,n,o,s,a,h){this.text=t,this.style=e,this.width=r,this.height=i,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=h}return t.measureText=function(e,r,i,n){void 0===n&&(n=t._canvas),i=null==i?r.wordWrap:i;var o=r.toFontString(),s=t.measureFont(o);0===s.fontSize&&(s.fontSize=r.fontSize,s.ascent=r.fontSize);var a=n.getContext("2d");a.font=o;for(var h=(i?t.wordWrap(e,r,n):e).split(/(?:\r\n|\r|\n)/),u=new Array(h.length),l=0,c=0;c<h.length;c++){var d=a.measureText(h[c]).width+(h[c].length-1)*r.letterSpacing;u[c]=d,l=Math.max(l,d)}var p=l+r.strokeThickness;r.dropShadow&&(p+=r.dropShadowDistance);var f=r.lineHeight||s.fontSize+r.strokeThickness,_=Math.max(f,s.fontSize+r.strokeThickness)+(h.length-1)*(f+r.leading);return r.dropShadow&&(_+=r.dropShadowDistance),new t(e,r,p,_,h,u,f+r.leading,l,s)},t.wordWrap=function(e,r,i){void 0===i&&(i=t._canvas);for(var n=i.getContext("2d"),o=0,s="",a="",h=Object.create(null),u=r.letterSpacing,l=r.whiteSpace,c=t.collapseSpaces(l),d=t.collapseNewlines(l),p=!c,f=r.wordWrapWidth+u,_=t.tokenize(e),m=0;m<_.length;m++){var y=_[m];if(t.isNewline(y)){if(!d){a+=t.addLine(s),p=!c,s="",o=0;continue}y=" "}if(c){var v=t.isBreakingSpace(y),g=t.isBreakingSpace(s[s.length-1]);if(v&&g)continue}var b=t.getFromCache(y,u,h,n);if(b>f)if(""!==s&&(a+=t.addLine(s),s="",o=0),t.canBreakWords(y,r.breakWords))for(var x=t.wordWrapSplit(y),T=0;T<x.length;T++){for(var E=x[T],A=1;x[T+A];){var S=x[T+A],O=E[E.length-1];if(t.canBreakChars(O,S,y,T,r.breakWords))break;E+=S,A++}T+=E.length-1;var R=t.getFromCache(E,u,h,n);R+o>f&&(a+=t.addLine(s),p=!1,s="",o=0),s+=E,o+=R}else{s.length>0&&(a+=t.addLine(s),s="",o=0);var P=m===_.length-1;a+=t.addLine(y,!P),p=!1,s="",o=0}else b+o>f&&(p=!1,a+=t.addLine(s),s="",o=0),(s.length>0||!t.isBreakingSpace(y)||p)&&(s+=y,o+=b)}return a+t.addLine(s,!1)},t.addLine=function(e,r){return void 0===r&&(r=!0),e=t.trimRight(e),r?e+"\n":e},t.getFromCache=function(t,e,r,i){var n=r[t];if("number"!=typeof n){var o=t.length*e;n=i.measureText(t).width+o,r[t]=n}return n},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var r=e.length-1;r>=0;r--){var i=e[r];if(!t.isBreakingSpace(i))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,r){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],i="";if("string"!=typeof e)return r;for(var n=0;n<e.length;n++){var o=e[n],s=e[n+1];t.isBreakingSpace(o,s)||t.isNewline(o)?(""!==i&&(r.push(i),i=""),r.push(o)):i+=o}return""!==i&&r.push(i),r},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,r,i,n){return!0},t.wordWrapSplit=function(t){return t.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},i=t._canvas,n=t._context;n.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,s=Math.ceil(n.measureText(o).width),a=Math.ceil(n.measureText(t.BASELINE_SYMBOL).width),h=t.HEIGHT_MULTIPLIER*a;a=a*t.BASELINE_MULTIPLIER|0,i.width=s,i.height=h,n.fillStyle="#f00",n.fillRect(0,0,s,h),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(o,0,a);var u=n.getImageData(0,0,s,h).data,l=u.length,c=4*s,d=0,p=0,f=!1;for(d=0;d<a;++d){for(var _=0;_<c;_+=4)if(255!==u[p+_]){f=!0;break}if(f)break;p+=c}for(r.ascent=a-d,p=l-c,f=!1,d=h;d>a;--d){for(_=0;_<c;_+=4)if(255!==u[p+_]){f=!0;break}if(f)break;p-=c}return r.descent=d-a,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){void 0===e&&(e=""),e?delete t._fonts[e]:t._fonts={}},t}(),_e=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();_e.width=_e.height=10,fe._canvas=_e,fe._context=_e.getContext("2d"),fe._fonts={},fe.METRICS_STRING="|ÉqÅ",fe.BASELINE_SYMBOL="M",fe.BASELINE_MULTIPLIER=1.4,fe.HEIGHT_MULTIPLIER=2,fe._newlines=[10,13],fe._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var me={texture:!0,children:!1,baseTexture:!0},ye=function(t){function e(e,r,i){var n=this,o=!1;i||(i=document.createElement("canvas"),o=!0),i.width=3,i.height=3;var s=j.xE.from(i);return s.orig=new E.Ae,s.trim=new E.Ae,(n=t.call(this,s)||this)._ownCanvas=o,n.canvas=i,n.context=n.canvas.getContext("2d"),n._resolution=T.X.RESOLUTION,n._autoResolution=!0,n._text=null,n._style=null,n._styleListener=null,n._font="",n.text=e,n.style=r,n.localStyleID=-1,n}return function(t,e){function r(){this.constructor=t}ae(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r,i,n=this.context,o=fe.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=o.width,a=o.height,h=o.lines,u=o.lineHeight,l=o.lineWidths,c=o.maxLineWidth,d=o.fontProperties;this.canvas.width=Math.ceil((Math.max(1,s)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,a)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;for(var p=e.dropShadow?2:1,f=0;f<p;++f){var _=e.dropShadow&&0===f,m=_?Math.ceil(Math.max(1,a)+2*e.padding):0,y=m*this._resolution;if(_){n.fillStyle="black",n.strokeStyle="black";var v=e.dropShadowColor,g=(0,x.hex2rgb)("number"==typeof v?v:(0,x.string2hex)(v));n.shadowColor="rgba("+255*g[0]+","+255*g[1]+","+255*g[2]+","+e.dropShadowAlpha+")",n.shadowBlur=e.dropShadowBlur,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+y}else n.fillStyle=this._generateFillStyle(e,h,o),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;for(var b=0;b<h.length;b++)r=e.strokeThickness/2,i=e.strokeThickness/2+b*u+d.ascent,"right"===e.align?r+=c-l[b]:"center"===e.align&&(r+=(c-l[b])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(h[b],r+e.padding,i+e.padding-m,!0),e.fill&&this.drawLetterSpacing(h[b],r+e.padding,i+e.padding-m)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r,i){void 0===i&&(i=!1);var n=this._style.letterSpacing;if(0!==n)for(var o=e,s=Array.from?Array.from(t):t.split(""),a=this.context.measureText(t).width,h=0,u=0;u<s.length;++u){var l=s[u];i?this.context.strokeText(l,o,r):this.context.fillText(l,o,r),o+=a-(h=this.context.measureText(t.substring(u+1)).width)+n,a=h}else i?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,x.trimCanvas)(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var r=this._texture,i=this._style,n=i.trim?0:i.padding,o=r.baseTexture;r.trim.width=r._frame.width=Math.ceil(t.width/this._resolution),r.trim.height=r._frame.height=Math.ceil(t.height/this._resolution),r.trim.x=-n,r.trim.y=-n,r.orig.width=r._frame.width-2*n,r.orig.height=r._frame.height-2*n,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(t,e,r){var i,n=t.fill;if(!Array.isArray(n))return n;if(1===n.length)return n[0];var o=t.dropShadow?t.dropShadowDistance:0,s=t.padding||0,a=Math.ceil(this.canvas.width/this._resolution)-o-2*s,h=Math.ceil(this.canvas.height/this._resolution)-o-2*s,u=n.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var c=u.length+1,d=1;d<c;++d)l.push(d/c);if(u.unshift(n[0]),l.unshift(0),u.push(n[n.length-1]),l.push(1),t.fillGradientType===Xt.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,s,a/2,h+s);var p=(r.fontProperties.fontSize+t.strokeThickness)/h;for(d=0;d<e.length;d++)for(var f=r.lineHeight*d,_=0;_<u.length;_++){var m;m="number"==typeof l[_]?l[_]:_/u.length;var y=Math.min(1,Math.max(0,f/h+m*p));y=Number(y.toFixed(5)),i.addColorStop(y,u[_])}}else{i=this.context.createLinearGradient(s,h/2,a+s,h/2);var v=u.length+1,g=1;for(d=0;d<u.length;d++){var b;b="number"==typeof l[d]?l[d]:g/v,i.addColorStop(b,u[d]),g++}}return i},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},me,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,x.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,x.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof le?t:new le(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e}(se);T.X.UPLOADS_PER_FRAME=4;var ve=function(t,e){return(ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},ge=function(){function t(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function be(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var i=0;i<t._textures.length;i++)if(t._textures[i]instanceof j.xE){var n=t._textures[i].baseTexture;-1===e.indexOf(n)&&(e.push(n),r=!0)}return r}function xe(t,e){if(t.baseTexture instanceof j.VL){var r=t.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function Te(t,e){if(t._texture&&t._texture instanceof j.xE){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function Ee(t,e){return e instanceof ye&&(e.updateText(!0),!0)}function Ae(t,e){if(e instanceof le){var r=e.toFontString();return fe.measureFont(r),!0}return!1}function Se(t,e){if(t instanceof ye){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function Oe(t,e){return t instanceof le&&(-1===e.indexOf(t)&&e.push(t),!0)}var Re=function(){function t(t){var e=this;this.limiter=new ge(T.X.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(Se),this.registerFindHook(Oe),this.registerFindHook(be),this.registerFindHook(xe),this.registerFindHook(Te),this.registerUploadHook(Ee),this.registerUploadHook(Ae)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,D.vB.system.addOnce(this.tick,this,D.uF.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)D.vB.system.addOnce(this.tick,this,D.uF.UTILITY);else{this.ticking=!1;var n=this.completes.slice(0);for(this.completes.length=0,r=0,i=n.length;r<i;r++)n[r]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof I)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},t.prototype.destroy=function(){this.ticking&&D.vB.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function Pe(t,e){return e instanceof j.VL&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function we(t,e){if(!(e instanceof ee))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var i=r.batches,n=0;n<i.length;n++){var o=i[n].style.texture;o&&Pe(t,o.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function Ie(t,e){return t instanceof ee&&(e.push(t),!0)}var Me=function(t){function e(e){var r=t.call(this,e)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(Ie),r.registerUploadHook(Pe),r.registerUploadHook(we),r}return function(t,e){function r(){this.constructor=t}ve(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e}(Re),Ce=function(){function t(t){this.maxMilliseconds=t,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}(),De=function(){function t(t,e,r){void 0===r&&(r=null),this._texture=t instanceof j.xE?t:null,this.baseTexture=t instanceof j.VL?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var i=this.baseTexture.resource;this.resolution=this._updateResolution(r||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,r=(0,x.getResolutionOfUrl)(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&this.baseTexture.setResolution(r),r},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,i=t.BATCH_SIZE;r-e<i&&r<this._frameKeys.length;){var n=this._frameKeys[r],o=this._frames[n],s=o.frame;if(s){var a,h=null,u=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,l=new E.Ae(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);a=o.rotated?new E.Ae(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new E.Ae(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(h=new E.Ae(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new j.xE(this.baseTexture,a,l,h,o.rotated?2:0,o.anchor),j.xE.addToCache(this.textures[n],n)}r++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var r=0;r<t[e].length;r++){var i=t[e][r];this.animations[e].push(this.textures[i])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout((function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())}),0)},t.prototype.destroy=function(t){var e;for(var r in void 0===t&&(t=!1),this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}(),Le=function(){function t(){}return t.use=function(e,r){var i,n,o=this,s=e.name+"_image";if(e.data&&e.type===K.kC.TYPE.JSON&&e.data.frames&&!o.resources[s]){var a=null===(n=null===(i=e.data)||void 0===i?void 0:i.meta)||void 0===n?void 0:n.related_multi_packs;if(Array.isArray(a))for(var h=function(t){if("string"!=typeof t)return"continue";var r=t.replace(".json",""),i=x.url.resolve(e.url.replace(o.baseUrl,""),t);if(o.resources[r]||Object.values(o.resources).some((function(t){return x.url.format(x.url.parse(t.url))===i})))return"continue";var n={crossOrigin:e.crossOrigin,loadType:K.kC.LOAD_TYPE.XHR,xhrType:K.kC.XHR_RESPONSE_TYPE.JSON,parentResource:e};o.add(r,i,n)},u=0,l=a;u<l.length;u++)h(l[u]);var c={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},d=t.getResourcePath(e,o.baseUrl);o.add(s,d,c,(function(t){if(t.error)r(t.error);else{var i=new De(t.texture,e.data,e.url);i.parse((function(){e.spritesheet=i,e.textures=i.textures,r()}))}}))}else r()},t.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:x.url.resolve(t.url.replace(e,""),t.data.meta.image)},t}(),Ne=function(t,e){return(Ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Fe(t,e){function r(){this.constructor=t}Ne(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Be=new E.E9,Ue=function(t){function e(e,r,i){void 0===r&&(r=100),void 0===i&&(i=100);var n=t.call(this,e)||this;return n.tileTransform=new E.wx,n._width=r,n._height=i,n.uvMatrix=n.texture.uvMatrix||new j.UX(e),n.pluginName="tilingSprite",n.uvRespectAnchor=!1,n}return Fe(e,t),Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,i)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new E.Ae),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Be);var e=this._width,r=this._height,i=-e*this.anchor._x;if(Be.x>=i&&Be.x<i+e){var n=-r*this.anchor._y;if(Be.y>=n&&Be.y<n+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,r){return new e(j.xE.from(t,r),r.width,r.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),e}(se),Ge="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Xe=new E.y3,ke=function(t){function e(e){var r=t.call(this,e)||this,i={globals:r.renderer.globalUniforms};return r.shader=j.ex.from(Ge,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",i),r.simpleShader=j.ex.from(Ge,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",i),r.quad=new j.ud,r.state=j.ZM.for2d(),r}return Fe(e,t),e.prototype.render=function(t){var e=this.renderer,r=this.quad,i=r.vertices;i[0]=i[6]=t._width*-t.anchor.x,i[1]=i[3]=t._height*-t.anchor.y,i[2]=i[4]=t._width*(1-t.anchor.x),i[5]=i[7]=t._height*(1-t.anchor.y);var n=t.uvRespectAnchor?t.anchor.x:0,o=t.uvRespectAnchor?t.anchor.y:0;(i=r.uvs)[0]=i[6]=-n,i[1]=i[3]=-o,i[2]=i[4]=1-n,i[5]=i[7]=1-o,r.invalidate();var s=t._texture,a=s.baseTexture,h=t.tileTransform.localTransform,u=t.uvMatrix,l=a.isPowerOfTwo&&s.frame.width===a.width&&s.frame.height===a.height;l&&(a._glTextures[e.CONTEXT_UID]?l=a.wrapMode!==Z.Nt.CLAMP:a.wrapMode===Z.Nt.CLAMP&&(a.wrapMode=Z.Nt.REPEAT));var c=l?this.simpleShader:this.shader,d=s.width,p=s.height,f=t._width,_=t._height;Xe.set(h.a*d/f,h.b*d/_,h.c*p/f,h.d*p/_,h.tx/f,h.ty/_),Xe.invert(),l?Xe.prepend(u.mapCoord):(c.uniforms.uMapCoord=u.mapCoord.toArray(!0),c.uniforms.uClampFrame=u.uClampFrame,c.uniforms.uClampOffset=u.uClampOffset),c.uniforms.uTransform=Xe.toArray(!0),c.uniforms.uColor=(0,x.premultiplyTintToRgba)(t.tint,t.worldAlpha,c.uniforms.uColor,a.alphaMode),c.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),c.uniforms.uSampler=s,e.shader.bind(c),e.geometry.bind(r),this.state.blendMode=(0,x.correctBlendMode)(t.blendMode,a.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(j.bO),je=function(t,e){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function He(t,e){function r(){this.constructor=t}je(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Ye=function(){function t(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}(),Ve=new E.E9,ze=new E.mg,We=function(t){function e(e,r,i,n){void 0===n&&(n=Z.lg.TRIANGLES);var o=t.call(this)||this;return o.geometry=e,e.refCount++,o.shader=r,o.state=i||j.ZM.for2d(),o.drawMode=n,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=0,o._transformID=-1,o._roundPixels=T.X.ROUND_PIXELS,o.batchUvs=null,o}return He(e,t),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),e.prototype._render=function(t){var r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Z.lg.TRIANGLES&&r.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;var i=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[i]),t.plugins[i].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var r=this.transform.worldTransform,i=r.a,n=r.b,o=r.c,s=r.d,a=r.tx,h=r.ty,u=this.vertexData,l=0;l<u.length/2;l++){var c=e[2*l],d=e[2*l+1];u[2*l]=i*c+o*d+a,u[2*l+1]=n*c+s*d+h}if(this._roundPixels){var p=T.X.RESOLUTION;for(l=0;l<u.length;++l)u[l]=Math.round((u[l]*p|0)/p)}this.vertexDirty=t.vertexDirtyId}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new Ye(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Ve);for(var e=this.geometry.getBuffer("aVertexPosition").data,r=ze.points,i=this.geometry.getIndex().data,n=i.length,o=4===this.drawMode?3:1,s=0;s+2<n;s+=o){var a=2*i[s],h=2*i[s+1],u=2*i[s+2];if(r[0]=e[a],r[1]=e[a+1],r[2]=e[h],r[3]=e[h+1],r[4]=e[u],r[5]=e[u+1],ze.contains(Ve.x,Ve.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(I),qe=function(t){function e(e,r){var i=this,n={uSampler:e,alpha:1,uTextureMatrix:E.y3.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(n,r.uniforms),(i=t.call(this,r.program||j.$r.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),n)||this)._colorDirty=!1,i.uvMatrix=new j.UX(e),i.batchable=void 0===r.program,i.pluginName=r.pluginName,i.tint=r.tint,i.alpha=r.alpha,i}return He(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;(0,x.premultiplyTintToRgba)(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(j.ex),Ke=function(t){function e(e,r,i){var n=t.call(this)||this,o=new j.lW(e),s=new j.lW(r,!0),a=new j.lW(i,!0,!0);return n.addAttribute("aVertexPosition",o,2,!1,Z.vK.FLOAT).addAttribute("aTextureCoord",s,2,!1,Z.vK.FLOAT).addIndex(a),n._updateId=-1,n}return He(e,t),Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(j.ZX),Ze=function(t,e){return(Ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},$e=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},Je=function(){function t(){}return t.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},t.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var i in e){var n=e[i].match(/^[a-z]+/gm)[0],o=e[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var a in o){var h=o[a].split("="),u=h[0],l=h[1].replace(/"/gm,""),c=parseFloat(l),d=isNaN(c)?l:c;s[u]=d}r[n].push(s)}var p=new $e;return r.info.forEach((function(t){return p.info.push({face:t.face,size:parseInt(t.size,10)})})),r.common.forEach((function(t){return p.common.push({lineHeight:parseInt(t.lineHeight,10)})})),r.page.forEach((function(t){return p.page.push({id:parseInt(t.id,10),file:t.file})})),r.char.forEach((function(t){return p.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})})),r.kerning.forEach((function(t){return p.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})})),p},t}(),Qe=function(){function t(){}return t.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},t.parse=function(t){for(var e=new $e,r=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),n=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),s=t.getElementsByTagName("kerning"),a=0;a<r.length;a++)e.info.push({face:r[a].getAttribute("face"),size:parseInt(r[a].getAttribute("size"),10)});for(a=0;a<i.length;a++)e.common.push({lineHeight:parseInt(i[a].getAttribute("lineHeight"),10)});for(a=0;a<n.length;a++)e.page.push({id:parseInt(n[a].getAttribute("id"),10)||0,file:n[a].getAttribute("file")});for(a=0;a<o.length;a++){var h=o[a];e.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(a=0;a<s.length;a++)e.kerning.push({first:parseInt(s[a].getAttribute("first"),10),second:parseInt(s[a].getAttribute("second"),10),amount:parseInt(s[a].getAttribute("amount"),10)});return e},t}(),tr=function(){function t(){}return t.test=function(t){if("string"==typeof t&&t.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(t,"text/xml");return Qe.test(e)}return!1},t.parse=function(t){var e=(new self.DOMParser).parseFromString(t,"text/xml");return Qe.parse(e)},t}(),er=[Je,Qe,tr];function rr(t){for(var e=0;e<er.length;e++)if(er[e].test(t))return er[e];return null}function ir(t,e,r,i,n,o){var s,a=r.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];var h=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,l=Math.ceil(t.width/i)-h-2*u,c=Math.ceil(t.height/i)-h-2*u,d=a.slice(),p=r.fillGradientStops.slice();if(!p.length)for(var f=d.length+1,_=1;_<f;++_)p.push(_/f);if(d.unshift(a[0]),p.unshift(0),d.push(a[a.length-1]),p.push(1),r.fillGradientType===Xt.LINEAR_VERTICAL){s=e.createLinearGradient(l/2,u,l/2,c+u);var m=0,y=(o.fontProperties.fontSize+r.strokeThickness)/c;for(_=0;_<n.length;_++)for(var v=o.lineHeight*_,g=0;g<d.length;g++){var b=v/c+("number"==typeof p[g]?p[g]:g/d.length)*y,x=Math.max(m,b);x=Math.min(x,1),s.addColorStop(x,d[g]),m=x}}else{s=e.createLinearGradient(u,c/2,l+u,c/2);var T=d.length+1,E=1;for(_=0;_<d.length;_++){var A;A="number"==typeof p[_]?p[_]:E/T,s.addColorStop(A,d[_]),E++}}return s}function nr(t,e,r,i,n,o,s){var a=r.text,h=r.fontProperties;e.translate(i,n),e.scale(o,o);var u=s.strokeThickness/2,l=-s.strokeThickness/2;e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=ir(t,e,s,o,[a],r),e.strokeStyle=s.stroke,e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=ir(t,e,s,o,[a],r),e.strokeStyle=s.stroke;var c=s.dropShadowColor,d=(0,x.hex2rgb)("number"==typeof c?c:(0,x.string2hex)(c));s.dropShadow?(e.shadowColor="rgba("+255*d[0]+","+255*d[1]+","+255*d[2]+","+s.dropShadowAlpha+")",e.shadowBlur=s.dropShadowBlur,e.shadowOffsetX=Math.cos(s.dropShadowAngle)*s.dropShadowDistance,e.shadowOffsetY=Math.sin(s.dropShadowAngle)*s.dropShadowDistance):(e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),s.stroke&&s.strokeThickness&&e.strokeText(a,u,l+r.lineHeight-h.descent),s.fill&&e.fillText(a,u,l+r.lineHeight-h.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}var or=function(){function t(t,e){var r=t.info[0],i=t.common[0],n=t.page[0],o=(0,x.getResolutionOfUrl)(n.file),s={};this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/o,this.chars={},this.pageTextures=s;for(var a=0;a<t.page.length;a++){var h=t.page[a],u=h.id,l=h.file;s[u]=e instanceof Array?e[a]:e[l]}for(a=0;a<t.char.length;a++){var c=t.char[a],d=(u=c.id,c.page),p=t.char[a],f=p.x,_=p.y,m=p.width,y=p.height,v=p.xoffset,g=p.yoffset,b=p.xadvance;f/=o,_/=o,m/=o,y/=o,v/=o,g/=o,b/=o;var T=new E.Ae(f+s[d].frame.x/o,_+s[d].frame.y/o,m,y);this.chars[u]={xOffset:v,yOffset:g,xAdvance:b,kerning:{},texture:new j.xE(s[d].baseTexture,T),page:d}}for(a=0;a<t.kerning.length;a++){var A=t.kerning[a],S=A.first,O=A.second,R=A.amount;S/=o,O/=o,R/=o,this.chars[O]&&(this.chars[O].kerning[S]=R)}}return t.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r){var i;if(e instanceof $e)i=e;else{var n=rr(e);if(!n)throw new Error("Unrecognized data format for font.");i=n.parse(e)}r instanceof j.xE&&(r=[r]);var o=new t(i,r);return t.available[o.font]=o,o},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,i){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var n=Object.assign({},t.defaultOptions,i),o=n.chars,s=n.padding,a=n.resolution,h=n.textureWidth,u=n.textureHeight,l=function(t){"string"==typeof t&&(t=[t]);for(var e=[],r=0,i=t.length;r<i;r++){var n=t[r];if(Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var o=n[0].charCodeAt(0),s=n[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(var a=o,h=s;a<=h;a++)e.push(String.fromCharCode(a))}else e.push.apply(e,n.split(""))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(o),c=r instanceof le?r:new le(r),d=h,p=new $e;p.info[0]={face:c.fontFamily,size:c.fontSize},p.common[0]={lineHeight:c.fontSize};for(var f,_,m,y=0,v=0,g=0,b=[],x=0;x<l.length;x++){f||((f=document.createElement("canvas")).width=h,f.height=u,_=f.getContext("2d"),m=new j.VL(f,{resolution:a}),b.push(new j.xE(m)),p.page.push({id:b.length-1,file:""}));var T=fe.measureText(l[x],c,!1,f),E=T.width,A=Math.ceil(T.height),S=Math.ceil(("italic"===c.fontStyle?2:1)*E);if(v>=u-A*a){if(0===v)throw new Error("[BitmapFont] textureHeight "+u+"px is too small for "+c.fontSize+"px fonts");--x,f=null,_=null,m=null,v=0,y=0,g=0}else if(g=Math.max(A+T.fontProperties.descent,g),S*a+y>=d)--x,v+=g*a,v=Math.ceil(v),y=0,g=0;else{nr(f,_,T,y,v,a,c);var O=T.text.charCodeAt(0);p.char.push({id:O,page:b.length-1,x:y/a,y:v/a,width:S,height:A,xoffset:0,yoffset:0,xadvance:Math.ceil(E-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0))}),y+=(S+2*s)*a,y=Math.ceil(y)}}x=0;for(var R=l.length;x<R;x++)for(var P=l[x],w=0;w<R;w++){var I=l[w],M=_.measureText(P).width,C=_.measureText(I).width,D=_.measureText(P+I).width-(M+C);D&&p.kerning.push({first:P.charCodeAt(0),second:I.charCodeAt(0),amount:D})}var L=new t(p,b);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=L,L},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),sr=[],ar=[],hr=function(t){function e(r,i){void 0===i&&(i={});var n=t.call(this)||this;n._tint=16777215;var o=Object.assign({},e.styleDefaults,i),s=o.align,a=o.tint,h=o.maxWidth,u=o.letterSpacing,l=o.fontName,c=o.fontSize;if(!or.available[l])throw new Error('Missing BitmapFont "'+l+'"');return n._activePagesMeshData=[],n._textWidth=0,n._textHeight=0,n._align=s,n._tint=a,n._fontName=l,n._fontSize=c||or.available[l].size,n._text=r,n._maxWidth=h,n._maxLineHeight=0,n._letterSpacing=u,n._anchor=new E.AB((function(){n.dirty=!0}),n,0,0),n._roundPixels=T.X.ROUND_PIXELS,n.dirty=!0,n._textureCache={},n}return function(t,e){function r(){this.constructor=t}Ze(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.updateText=function(){for(var t,e=or.available[this._fontName],r=this._fontSize/e.size,i=new E.E9,n=[],o=[],s=[],a=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",h=a.length,u=this._maxWidth*e.size/this._fontSize,l=null,c=0,d=0,p=0,f=-1,_=0,m=0,y=0,v=0,g=0;g<h;g++){var b=a.charCodeAt(g),T=a.charAt(g);if(/(?:\s)/.test(T)&&(f=g,_=c,v++),"\r"!==T&&"\n"!==T){var A=e.chars[b];if(A){l&&A.kerning[l]&&(i.x+=A.kerning[l]);var S=ar.pop()||{texture:j.xE.EMPTY,line:0,charCode:0,prevSpaces:0,position:new E.E9};S.texture=A.texture,S.line=p,S.charCode=b,S.position.x=i.x+A.xOffset+this._letterSpacing/2,S.position.y=i.y+A.yOffset,S.prevSpaces=v,n.push(S),i.x+=A.xAdvance+this._letterSpacing,c=i.x,y=Math.max(y,A.yOffset+A.texture.height),l=b,-1!==f&&u>0&&i.x>u&&(++m,(0,x.removeItems)(n,1+f-m,1+g-f),g=f,f=-1,o.push(_),s.push(n.length>0?n[n.length-1].prevSpaces:0),d=Math.max(d,_),p++,i.x=0,i.y+=e.lineHeight,l=null,v=0)}}else o.push(c),s.push(-1),d=Math.max(d,c),++p,++m,i.x=0,i.y+=e.lineHeight,l=null,v=0}var O=a.charAt(a.length-1);"\r"!==O&&"\n"!==O&&(/(?:\s)/.test(O)&&(c=_),o.push(c),d=Math.max(d,c),s.push(-1));var R=[];for(g=0;g<=p;g++){var P=0;"right"===this._align?P=d-o[g]:"center"===this._align?P=(d-o[g])/2:"justify"===this._align&&(P=s[g]<0?0:(d-o[g])/s[g]),R.push(P)}var w=n.length,I={},M=[],C=this._activePagesMeshData;for(g=0;g<C.length;g++)sr.push(C[g]);for(g=0;g<w;g++){var D=(H=n[g].texture).baseTexture.uid;if(!I[D]){if(!(Z=sr.pop())){var L=new Ke,N=new qe(j.xE.EMPTY);Z={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new We(L,N),vertices:null,uvs:null,indices:null}}Z.index=0,Z.indexCount=0,Z.vertexCount=0,Z.uvsCount=0,Z.total=0;var F=this._textureCache;F[D]=F[D]||new j.xE(H.baseTexture),Z.mesh.texture=F[D],Z.mesh.tint=this._tint,M.push(Z),I[D]=Z}I[D].total++}for(g=0;g<C.length;g++)-1===M.indexOf(C[g])&&this.removeChild(C[g].mesh);for(g=0;g<M.length;g++)M[g].mesh.parent!==this&&this.addChild(M[g].mesh);for(var g in this._activePagesMeshData=M,I){var B=(Z=I[g]).total;if(!((null===(t=Z.indices)||void 0===t?void 0:t.length)>6*B)||Z.vertices.length<2*We.BATCHABLE_SIZE)Z.vertices=new Float32Array(8*B),Z.uvs=new Float32Array(8*B),Z.indices=new Uint16Array(6*B);else for(var U=Z.total,G=Z.vertices,X=4*U*2;X<G.length;X++)G[X]=0;Z.mesh.size=6*B}for(g=0;g<w;g++){var k=(T=n[g]).position.x+R[T.line]*("justify"===this._align?T.prevSpaces:1);this._roundPixels&&(k=Math.round(k));var H,Y=k*r,V=T.position.y*r,z=I[(H=T.texture).baseTexture.uid],W=H.frame,q=H._uvs,K=z.index++;z.indices[6*K+0]=0+4*K,z.indices[6*K+1]=1+4*K,z.indices[6*K+2]=2+4*K,z.indices[6*K+3]=0+4*K,z.indices[6*K+4]=2+4*K,z.indices[6*K+5]=3+4*K,z.vertices[8*K+0]=Y,z.vertices[8*K+1]=V,z.vertices[8*K+2]=Y+W.width*r,z.vertices[8*K+3]=V,z.vertices[8*K+4]=Y+W.width*r,z.vertices[8*K+5]=V+W.height*r,z.vertices[8*K+6]=Y,z.vertices[8*K+7]=V+W.height*r,z.uvs[8*K+0]=q.x0,z.uvs[8*K+1]=q.y0,z.uvs[8*K+2]=q.x1,z.uvs[8*K+3]=q.y1,z.uvs[8*K+4]=q.x2,z.uvs[8*K+5]=q.y2,z.uvs[8*K+6]=q.x3,z.uvs[8*K+7]=q.y3}for(var g in this._textWidth=d*r,this._textHeight=(i.y+e.lineHeight)*r,I){var Z=I[g];if(0!==this.anchor.x||0!==this.anchor.y)for(var $=0,J=this._textWidth*this.anchor.x,Q=this._textHeight*this.anchor.y,tt=0;tt<Z.total;tt++)Z.vertices[$++]-=J,Z.vertices[$++]-=Q,Z.vertices[$++]-=J,Z.vertices[$++]-=Q,Z.vertices[$++]-=J,Z.vertices[$++]-=Q,Z.vertices[$++]-=J,Z.vertices[$++]-=Q;this._maxLineHeight=y*r;var et=Z.mesh.geometry.getBuffer("aVertexPosition"),rt=Z.mesh.geometry.getBuffer("aTextureCoord"),it=Z.mesh.geometry.getIndex();et.data=Z.vertices,rt.data=Z.uvs,it.data=Z.indices,et.update(),rt.update(),it.update()}for(g=0;g<n.length;g++)ar.push(n[g])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!or.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),e.prototype.destroy=function(e){var r=this._textureCache;for(var i in r)r[i].destroy(),delete r[i];this._textureCache=null,t.prototype.destroy.call(this,e)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(I),ur=function(){function t(){}return t.add=function(){K.kC.setExtensionXhrType("fnt",K.kC.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var i=rr(e.data);if(i)for(var n=t.getBaseUrl(this,e),o=i.parse(e.data),s={},a=function(t){s[t.metadata.pageFile]=t.texture,Object.keys(s).length===o.page.length&&(e.bitmapFont=or.install(o,s),r())},h=0;h<o.page.length;++h){var u=o.page[h].file,l=n+u,c=!1;for(var d in this.resources){var p=this.resources[d];if(p.url===l){p.metadata.pageFile=u,p.texture?a(p):p.onAfterMiddleware.add(a),c=!0;break}}if(!c){var f={crossOrigin:e.crossOrigin,loadType:K.kC.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:u},e.metadata.imageMetadata),parentResource:e};this.add(l,f,a)}}else r()},t.getBaseUrl=function(e,r){var i=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&("."===i&&(i=""),e.baseUrl&&i&&"/"===e.baseUrl.charAt(e.baseUrl.length-1)&&(i+="/")),(i=i.replace(e.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/"),i},t.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},t}(),lr=function(t,e){return(lr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},cr=function(t){function e(e){void 0===e&&(e=1);var r=t.call(this,j.kP,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return r.alpha=e,r}return function(t,e){function r(){this.constructor=t}lr(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(j.wn),dr=function(t,e){return(dr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function pr(t,e){function r(){this.constructor=t}dr(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var fr,_r,mr,yr,vr,gr,br,xr,Tr,Er,Ar,Sr,Or,Rr,Pr,wr,Ir,Mr={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Cr=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(fr||(fr={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(_r||(_r={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(mr||(mr={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(yr||(yr={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(vr||(vr={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(gr||(gr={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(br||(br={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(xr||(xr={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(Tr||(Tr={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Er||(Er={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(Ar||(Ar={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(Sr||(Sr={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(Or||(Or={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(Rr||(Rr={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(Pr||(Pr={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(wr||(wr={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(Ir||(Ir={}));var Dr=function(t){function e(e,r,i,n,o){void 0===r&&(r=8),void 0===i&&(i=4),void 0===n&&(n=T.X.FILTER_RESOLUTION),void 0===o&&(o=5);var s=this,a=function(t,e){var r,i=Math.ceil(t/2),n="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";r=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var a=r.replace("%index%",s.toString());o+=a=a.replace("%sampleIndex%",s-(i-1)+".0"),o+="\n"}return(n=n.replace("%blur%",o)).replace("%size%",t.toString())}(o,e),h=function(t){for(var e,r=Mr[t],i=r.length,n=Cr,o="",s=0;s<t;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s.toString());e=s,s>=i&&(e=t-s-1),o+=a=a.replace("%value%",r[e].toString()),o+="\n"}return(n=n.replace("%blur%",o)).replace("%size%",t.toString())}(o);return(s=t.call(this,a,h)||this).horizontal=e,s.resolution=n,s._quality=0,s.quality=i,s.blur=r,s}return pr(e,t),e.prototype.apply=function(t,e,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{var n=t.getFilterTexture(),o=t.renderer,s=e,a=n;this.state.blend=!1,t.applyFilter(this,s,a,Or.CLEAR);for(var h=1;h<this.passes-1;h++){t.bindAndClear(s,Or.BLIT),this.uniforms.uSampler=a;var u=a;a=s,s=u,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,r,i),t.returnFilterTexture(n)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),e}(j.wn),Lr=function(t){function e(e,r,i,n){void 0===e&&(e=8),void 0===r&&(r=4),void 0===i&&(i=T.X.FILTER_RESOLUTION),void 0===n&&(n=5);var o=t.call(this)||this;return o.blurXFilter=new Dr(!0,e,r,i,n),o.blurYFilter=new Dr(!1,e,r,i,n),o.resolution=i,o.quality=r,o.blur=e,o.repeatEdgePixels=!1,o}return pr(e,t),e.prototype.apply=function(t,e,r,i){var n=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(n&&o){var s=t.getFilterTexture();this.blurXFilter.apply(t,e,s,Or.CLEAR),this.blurYFilter.apply(t,s,r,i),t.returnFilterTexture(s)}else o?this.blurYFilter.apply(t,e,r,i):this.blurXFilter.apply(t,e,r,i)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),e}(j.wn),Nr=function(t,e){return(Nr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},Fr=function(t){function e(){var e=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=t.call(this,j.Y9,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",r)||this).alpha=1,e}return function(t,e){function r(){this.constructor=t}Nr(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),i=Math.sin(t),n=1/3,o=(0,Math.sqrt)(n),s=[r+(1-r)*n,n*(1-r)-o*i,n*(1-r)+o*i,0,0,n*(1-r)+o*i,r+n*(1-r),n*(1-r)-o*i,0,0,n*(1-r)-o*i,n*(1-r)+o*i,r+n*(1-r),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,i=-.5*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var r=2*t/3+1,i=-.5*(r-1),n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,i,n){var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,h=((i=i||3375104)>>16&255)/255,u=(i>>8&255)/255,l=(255&i)/255,c=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,h,u,l,e=e||.15,0,o-h,s-u,a-l,0,0];this._loadMatrix(c,n)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(j.wn);Fr.prototype.grayscale=Fr.prototype.greyscale;var Br=function(t,e){return(Br=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},Ur=function(t){function e(e,r){var i=this,n=new E.y3;return e.renderable=!1,(i=t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,i.maskMatrix=n,null==r&&(r=20),i.scale=new E.E9(r,r),i}return function(t,e){function r(){this.constructor=t}Br(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.apply=function(t,e,r,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.worldTransform,o=Math.sqrt(n.a*n.a+n.b*n.b),s=Math.sqrt(n.c*n.c+n.d*n.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=n.a/o,this.uniforms.rotation[1]=n.b/o,this.uniforms.rotation[2]=n.c/s,this.uniforms.rotation[3]=n.d/s),t.applyFilter(this,e,r,i)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),e}(j.wn),Gr=function(t,e){return(Gr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},Xr=function(t){function e(){return t.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}return function(t,e){function r(){this.constructor=t}Gr(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e}(j.wn),kr=function(t,e){return(kr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},jr=function(t){function e(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random());var i=t.call(this,j.Y9,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return i.noise=e,i.seed=r,i}return function(t,e){function r(){this.constructor=t}kr(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0}),e}(j.wn),Hr=new E.y3;R.prototype._cacheAsBitmap=!1,R.prototype._cacheData=null,R.prototype._cacheAsBitmapResolution=null;var Yr=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(R.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new Yr),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),R.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},R.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var r=this.getLocalBounds(null,!0).clone();if(this.filters){var i=this.filters[0].padding;r.pad(i)}r.ceil(T.X.RESOLUTION);var n=t.renderTexture.current,o=t.renderTexture.sourceFrame.clone(),s=t.projection.transform,a=j.TI.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||t.resolution}),h="cacheAsBitmap_"+(0,x.uid)();this._cacheData.textureCacheId=h,j.VL.addToCache(a.baseTexture,h),j.xE.addToCache(a,h);var u=this.transform.localTransform.copyTo(Hr).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:a,clear:!0,transform:u,skipUpdateTransform:!1}),t.projection.transform=s,t.renderTexture.bind(n,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var l=new se(a);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-r.x/r.width,l.anchor.y=-r.y/r.height,l.alpha=e,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=l.containsPoint.bind(l)}},R.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},R.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var i=t.context,n=t._projTransform;e.ceil(T.X.RESOLUTION);var o=j.TI.create({width:e.width,height:e.height}),s="cacheAsBitmap_"+(0,x.uid)();this._cacheData.textureCacheId=s,j.VL.addToCache(o.baseTexture,s),j.xE.addToCache(o,s);var a=Hr;this.transform.localTransform.copyTo(a),a.invert(),a.tx-=e.x,a.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:a,skipUpdateTransform:!1}),t.context=i,t._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var h=new se(o);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-e.x/e.width,h.anchor.y=-e.y/e.height,h.alpha=r,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}},R.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},R.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},R.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,j.VL.removeFromCache(this._cacheData.textureCacheId),j.xE.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},R.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},R.prototype.name=null,I.prototype.getChildByName=function(t,e){for(var r=0,i=this.children.length;r<i;r++)if(this.children[r].name===t)return this.children[r];if(e)for(r=0,i=this.children.length;r<i;r++)if(this.children[r].getChildByName){var n=this.children[r].getChildByName(t,!0);if(n)return n}return null},R.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new E.E9),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var Vr=function(t,e){return(Vr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function zr(t,e){function r(){this.constructor=t}Vr(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Wr=function(t){function e(e,r,i,n){void 0===e&&(e=100),void 0===r&&(r=100),void 0===i&&(i=10),void 0===n&&(n=10);var o=t.call(this)||this;return o.segWidth=i,o.segHeight=n,o.width=e,o.height=r,o.build(),o}return zr(e,t),e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],r=[],i=[],n=this.segWidth-1,o=this.segHeight-1,s=this.width/n,a=this.height/o,h=0;h<t;h++){var u=h%this.segWidth,l=h/this.segWidth|0;e.push(u*s,l*a),r.push(u/n,l/o)}var c=n*o;for(h=0;h<c;h++){var d=h%n,p=h/n|0,f=p*this.segWidth+d,_=p*this.segWidth+d+1,m=(p+1)*this.segWidth+d,y=(p+1)*this.segWidth+d+1;i.push(f,_,m,_,y,m)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(Ke),qr=function(t){function e(e,r,i){void 0===e&&(e=200),void 0===i&&(i=0);var n=t.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1)))||this;return n.points=r,n._width=e,n.textureScale=i,n.build(),n}return zr(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),r.data=new Float32Array(4*t.length),i.data=new Uint16Array(6*(t.length-1)));var n=r.data,o=i.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var s=0,a=t[0],h=this._width*this.textureScale,u=t.length,l=0;l<u;l++){var c=4*l;if(this.textureScale>0){var d=a.x-t[l].x,p=a.y-t[l].y,f=Math.sqrt(d*d+p*p);a=t[l],s+=f/h}else s=l/(u-1);n[c]=s,n[c+1]=0,n[c+2]=s,n[c+3]=1}var _=0;for(l=0;l<u-1;l++)c=2*l,o[_++]=c,o[_++]=c+1,o[_++]=c+2,o[_++]=c+2,o[_++]=c+1,o[_++]=c+3;r.update(),i.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,r=t[0],i=0,n=0,o=this.buffers[0].data,s=t.length,a=0;a<s;a++){var h=t[a],u=4*a;n=-((e=a<t.length-1?t[a+1]:h).x-r.x),i=e.y-r.y;var l=Math.sqrt(i*i+n*n),c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;i/=l,n/=l,i*=c,n*=c,o[u]=h.x+i,o[u+1]=h.y+n,o[u+2]=h.x-i,o[u+3]=h.y-n,r=h}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(Ke),Kr=function(t){function e(e,r,i){void 0===i&&(i=0);var n=this,o=new qr(e.height,r,i),s=new qe(e);return i>0&&(e.baseTexture.wrapMode=Z.Nt.REPEAT),(n=t.call(this,o,s)||this).autoUpdate=!0,n}return zr(e,t),e.prototype._render=function(e){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),t.prototype._render.call(this,e)},e}(We),Zr=function(t){function e(e,r,i){var n=this,o=new Wr(e.width,e.height,r,i),s=new qe(j.xE.WHITE);return(n=t.call(this,o,s)||this).texture=e,n}return zr(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build()},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},e.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,e)},e}(We),$r=function(t){function e(e,r,i,n,o){void 0===e&&(e=j.xE.EMPTY);var s=this,a=new Ke(r,i,n);a.getBuffer("aVertexPosition").static=!1;var h=new qe(e);return(s=t.call(this,a,h,null,o)||this).autoUpdate=!0,s}return zr(e,t),Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},e}(We),Jr=function(t){function e(e,r,i,n,o){void 0===r&&(r=10),void 0===i&&(i=10),void 0===n&&(n=10),void 0===o&&(o=10);var s=t.call(this,j.xE.WHITE,4,4)||this;return s._origWidth=e.orig.width,s._origHeight=e.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=r,s._rightWidth=n,s._topHeight=i,s._bottomHeight=o,s.texture=e,s}return zr(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,r=this._topHeight+this._bottomHeight,i=this._height>r?1:this._height/r;return Math.min(e,i)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var r=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(Zr),Qr=r(955),ti=function(t,e){return(ti=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},ei=function(t){function e(e,r){void 0===r&&(r=!0);var i=t.call(this,e[0]instanceof j.xE?e[0]:e[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=r,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=e,i}return function(t,e){function r(){this.constructor=t}ti(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(D.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(D.vB.shared.add(this.update,this,D.uF.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){if(this._playing){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=e/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}},e.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var r=[],i=0;i<t.length;++i)r.push(j.xE.from(t[i]));return new e(r)},e.fromImages=function(t){for(var r=[],i=0;i<t.length;++i)r.push(j.xE.from(t[i]));return new e(r)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof j.xE)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(D.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(D.vB.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(se);j.Th.registerPlugin("accessibility",C),j.Th.registerPlugin("extract",q),j.Th.registerPlugin("interaction",k),j.Th.registerPlugin("particle",St),j.Th.registerPlugin("prepare",Me),j.Th.registerPlugin("batch",j.Bv),j.Th.registerPlugin("tilingSprite",ke),K.aN.registerPlugin(ur),K.aN.registerPlugin(nt),K.aN.registerPlugin(pt),K.aN.registerPlugin(vt),K.aN.registerPlugin(Le),H.registerPlugin(D.Sb),H.registerPlugin(K.LP);var ri="6.0.0",ii={AlphaFilter:cr,BlurFilter:Lr,BlurFilterPass:Dr,ColorMatrixFilter:Fr,DisplacementFilter:Ur,FXAAFilter:Xr,NoiseFilter:jr}},870:function(t,e,r){var i;t=r.nmd(t),function(n){e&&e.nodeType,t&&t.nodeType;var o="object"==typeof r.g&&r.g;o.global!==o&&o.window!==o&&o.self;var s,a=2147483647,h=36,u=/^xn--/,l=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,f=String.fromCharCode;function _(t){throw RangeError(d[t])}function m(t,e){for(var r=t.length,i=[];r--;)i[r]=e(t[r]);return i}function y(t,e){var r=t.split("@"),i="";return r.length>1&&(i=r[0]+"@",t=r[1]),i+m((t=t.replace(c,".")).split("."),e).join(".")}function v(t){for(var e,r,i=[],n=0,o=t.length;n<o;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<o?56320==(64512&(r=t.charCodeAt(n++)))?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--):i.push(e);return i}function g(t){return m(t,(function(t){var e="";return t>65535&&(e+=f((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+f(t)})).join("")}function b(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function x(t,e,r){var i=0;for(t=r?p(t/700):t>>1,t+=p(t/e);t>455;i+=h)t=p(t/35);return p(i+36*t/(t+38))}function T(t){var e,r,i,n,o,s,u,l,c,d,f,m=[],y=t.length,v=0,b=128,T=72;for((r=t.lastIndexOf("-"))<0&&(r=0),i=0;i<r;++i)t.charCodeAt(i)>=128&&_("not-basic"),m.push(t.charCodeAt(i));for(n=r>0?r+1:0;n<y;){for(o=v,s=1,u=h;n>=y&&_("invalid-input"),((l=(f=t.charCodeAt(n++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:h)>=h||l>p((a-v)/s))&&_("overflow"),v+=l*s,!(l<(c=u<=T?1:u>=T+26?26:u-T));u+=h)s>p(a/(d=h-c))&&_("overflow"),s*=d;T=x(v-o,e=m.length+1,0==o),p(v/e)>a-b&&_("overflow"),b+=p(v/e),v%=e,m.splice(v++,0,b)}return g(m)}function E(t){var e,r,i,n,o,s,u,l,c,d,m,y,g,T,E,A=[];for(y=(t=v(t)).length,e=128,r=0,o=72,s=0;s<y;++s)(m=t[s])<128&&A.push(f(m));for(i=n=A.length,n&&A.push("-");i<y;){for(u=a,s=0;s<y;++s)(m=t[s])>=e&&m<u&&(u=m);for(u-e>p((a-r)/(g=i+1))&&_("overflow"),r+=(u-e)*g,e=u,s=0;s<y;++s)if((m=t[s])<e&&++r>a&&_("overflow"),m==e){for(l=r,c=h;!(l<(d=c<=o?1:c>=o+26?26:c-o));c+=h)E=l-d,T=h-d,A.push(f(b(d+E%T,0))),l=p(E/T);A.push(f(b(l,0))),o=x(r,g,i==n),r=0,++i}++r,++e}return A.join("")}s={version:"1.3.2",ucs2:{decode:v,encode:g},decode:T,encode:E,toASCII:function(t){return y(t,(function(t){return l.test(t)?"xn--"+E(t):t}))},toUnicode:function(t){return y(t,(function(t){return u.test(t)?T(t.slice(4).toLowerCase()):t}))}},void 0===(i=function(){return s}.call(e,r,e,t))||(t.exports=i)}()},240:t=>{"use strict";function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,r,i,n){r=r||"&",i=i||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(r);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var h=t.length;a>0&&h>a&&(h=a);for(var u=0;u<h;++u){var l,c,d,p,f=t[u].replace(s,"%20"),_=f.indexOf(i);_>=0?(l=f.substr(0,_),c=f.substr(_+1)):(l=f,c=""),d=decodeURIComponent(l),p=decodeURIComponent(c),e(o,d)?Array.isArray(o[d])?o[d].push(p):o[d]=[o[d],p]:o[d]=p}return o}},907:t=>{"use strict";var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,r,i,n){return r=r||"&",i=i||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(n){var o=encodeURIComponent(e(n))+i;return Array.isArray(t[n])?t[n].map((function(t){return o+encodeURIComponent(e(t))})).join(r):o+encodeURIComponent(e(t[n]))})).join(r):n?encodeURIComponent(e(n))+i+encodeURIComponent(e(t)):""}},415:(t,e,r)=>{"use strict";e.decode=e.parse=r(240),e.encode=e.stringify=r(907)},40:(t,e,r)=>{"use strict";var i=r(870),n=r(783);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.Qc=g,e.DB=function(t,e){return g(t,!1,!0).resolve(e)},e.WU=function(t){return n.isString(t)&&(t=g(t)),t instanceof o?t.format():o.prototype.format.call(t)};var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),c=["%","/","?",";","#"].concat(l),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=r(415);function g(t,e,r){if(t&&n.isObject(t)&&t instanceof o)return t;var i=new o;return i.parse(t,e,r),i}o.prototype.parse=function(t,e,r){if(!n.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",u=t.split(a);u[0]=u[0].replace(/\\/g,"/");var g=t=u.join(a);if(g=g.trim(),!r&&1===t.split("#").length){var b=h.exec(g);if(b)return this.path=g,this.href=g,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?v.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=s.exec(g);if(x){var T=(x=x[0]).toLowerCase();this.protocol=T,g=g.substr(x.length)}if(r||x||g.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===g.substr(0,2);!E||x&&m[x]||(g=g.substr(2),this.slashes=!0)}if(!m[x]&&(E||x&&!y[x])){for(var A,S,O=-1,R=0;R<d.length;R++)-1!==(P=g.indexOf(d[R]))&&(-1===O||P<O)&&(O=P);for(-1!==(S=-1===O?g.lastIndexOf("@"):g.lastIndexOf("@",O))&&(A=g.slice(0,S),g=g.slice(S+1),this.auth=decodeURIComponent(A)),O=-1,R=0;R<c.length;R++){var P;-1!==(P=g.indexOf(c[R]))&&(-1===O||P<O)&&(O=P)}-1===O&&(O=g.length),this.host=g.slice(0,O),g=g.slice(O),this.parseHost(),this.hostname=this.hostname||"";var w="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!w)for(var I=this.hostname.split(/\./),M=(R=0,I.length);R<M;R++){var C=I[R];if(C&&!C.match(p)){for(var D="",L=0,N=C.length;L<N;L++)C.charCodeAt(L)>127?D+="x":D+=C[L];if(!D.match(p)){var F=I.slice(0,R),B=I.slice(R+1),U=C.match(f);U&&(F.push(U[1]),B.unshift(U[2])),B.length&&(g="/"+B.join(".")+g),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),w||(this.hostname=i.toASCII(this.hostname));var G=this.port?":"+this.port:"",X=this.hostname||"";this.host=X+G,this.href+=this.host,w&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==g[0]&&(g="/"+g))}if(!_[T])for(R=0,M=l.length;R<M;R++){var k=l[R];if(-1!==g.indexOf(k)){var j=encodeURIComponent(k);j===k&&(j=escape(k)),g=g.split(k).join(j)}}var H=g.indexOf("#");-1!==H&&(this.hash=g.substr(H),g=g.slice(0,H));var Y=g.indexOf("?");if(-1!==Y?(this.search=g.substr(Y),this.query=g.substr(Y+1),e&&(this.query=v.parse(this.query)),g=g.slice(0,Y)):e&&(this.search="",this.query={}),g&&(this.pathname=g),y[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){G=this.pathname||"";var V=this.search||"";this.path=G+V}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(s=v.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||y[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+i},o.prototype.resolve=function(t){return this.resolveObject(g(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(n.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,i=Object.keys(this),s=0;s<i.length;s++){var a=i[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),u=0;u<h.length;u++){var l=h[u];"protocol"!==l&&(r[l]=t[l])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!y[t.protocol]){for(var c=Object.keys(t),d=0;d<c.length;d++){var p=c[d];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||m[t.protocol])r.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var _=r.pathname||"",v=r.search||"";r.path=_+v}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=b||g||r.host&&t.pathname,T=x,E=r.pathname&&r.pathname.split("/")||[],A=(f=t.pathname&&t.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(A&&(r.hostname="",r.port=null,r.host&&(""===E[0]?E[0]=r.host:E.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),x=x&&(""===f[0]||""===E[0])),b)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,E=f;else if(f.length)E||(E=[]),E.pop(),E=E.concat(f),r.search=t.search,r.query=t.query;else if(!n.isNullOrUndefined(t.search))return A&&(r.hostname=r.host=E.shift(),(w=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=w.shift(),r.host=r.hostname=w.shift())),r.search=t.search,r.query=t.query,n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=E.slice(-1)[0],O=(r.host||t.host||E.length>1)&&("."===S||".."===S)||""===S,R=0,P=E.length;P>=0;P--)"."===(S=E[P])?E.splice(P,1):".."===S?(E.splice(P,1),R++):R&&(E.splice(P,1),R--);if(!x&&!T)for(;R--;R)E.unshift("..");!x||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),O&&"/"!==E.join("/").substr(-1)&&E.push("");var w,I=""===E[0]||E[0]&&"/"===E[0].charAt(0);return A&&(r.hostname=r.host=I?"":E.length?E.shift():"",(w=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=w.shift(),r.host=r.hostname=w.shift())),(x=x||r.host&&E.length)&&!I&&E.unshift(""),E.length?r.pathname=E.join("/"):(r.pathname=null,r.path=null),n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},783:t=>{"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}}},e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),r(892)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwaXhpL2NvbnN0YW50c0A2LjAuMC9ub2RlX21vZHVsZXMvQHBpeGkvY29uc3RhbnRzL2Rpc3QvZXNtL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwaXhpL2NvcmVANi4wLjAvbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvZGlzdC9lc20vY29yZS5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Jlc291cmNlLWxvYWRlckAzLjAuMS9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL2Rpc3QvcmVzb3VyY2UtbG9hZGVyLmVzbS5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwaXhpL2xvYWRlcnNANi4wLjAvbm9kZV9tb2R1bGVzL0BwaXhpL2xvYWRlcnMvZGlzdC9lc20vbG9hZGVycy5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwaXhpL21hdGhANi4wLjAvbm9kZV9tb2R1bGVzL0BwaXhpL21hdGgvZGlzdC9lc20vbWF0aC5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwaXhpL3J1bm5lckA2LjAuMC9ub2RlX21vZHVsZXMvQHBpeGkvcnVubmVyL2Rpc3QvZXNtL3J1bm5lci5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2lzbW9iaWxlanNAMS4xLjEvbm9kZV9tb2R1bGVzL2lzbW9iaWxlanMvZXNtL2lzTW9iaWxlLmpzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHBpeGkvc2V0dGluZ3NANi4wLjAvbm9kZV9tb2R1bGVzL0BwaXhpL3NldHRpbmdzL2Rpc3QvZXNtL3NldHRpbmdzLmpzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHBpeGkvdGlja2VyQDYuMC4wL25vZGVfbW9kdWxlcy9AcGl4aS90aWNrZXIvZGlzdC9lc20vdGlja2VyLmpzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHBpeGkvdXRpbHNANi4wLjAvbm9kZV9tb2R1bGVzL0BwaXhpL3V0aWxzL2Rpc3QvZXNtL3V0aWxzLmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvR3JpZC50cyIsIndlYnBhY2s6Ly8vLi9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2VhcmN1dEAyLjIuMi9ub2RlX21vZHVsZXMvZWFyY3V0L3NyYy9lYXJjdXQuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9ldmVudGVtaXR0ZXIzQDMuMS4yL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvLnBucG0vbWluaS1zaWduYWxzQDEuMi4wL25vZGVfbW9kdWxlcy9taW5pLXNpZ25hbHMvbGliL21pbmktc2lnbmFscy5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL29iamVjdC1hc3NpZ25ANC4xLjEvbm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9wYXJzZS11cmlAMS4wLjMvbm9kZV9tb2R1bGVzL3BhcnNlLXVyaS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGktc291bmRAMy4wLjUvbm9kZV9tb2R1bGVzL3BpeGktc291bmQvZGlzdC9waXhpLXNvdW5kLmVzbS5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Byb21pc2UtcG9seWZpbGxAOC4yLjAvbm9kZV9tb2R1bGVzL3Byb21pc2UtcG9seWZpbGwvc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvLnBucG0vcHJvbWlzZS1wb2x5ZmlsbEA4LjIuMC9ub2RlX21vZHVsZXMvcHJvbWlzZS1wb2x5ZmlsbC9zcmMvZmluYWxseS5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Byb21pc2UtcG9seWZpbGxAOC4yLjAvbm9kZV9tb2R1bGVzL3Byb21pc2UtcG9seWZpbGwvc3JjL2FsbFNldHRsZWQuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS9wb2x5ZmlsbEA2LjAuMC9ub2RlX21vZHVsZXMvQHBpeGkvcG9seWZpbGwvZGlzdC9lc20vcG9seWZpbGwuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS9kaXNwbGF5QDYuMC4wL25vZGVfbW9kdWxlcy9AcGl4aS9kaXNwbGF5L2Rpc3QvZXNtL2Rpc3BsYXkuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS9hY2Nlc3NpYmlsaXR5QDYuMC4wL25vZGVfbW9kdWxlcy9AcGl4aS9hY2Nlc3NpYmlsaXR5L2Rpc3QvZXNtL2FjY2Vzc2liaWxpdHkuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS9pbnRlcmFjdGlvbkA2LjAuMC9ub2RlX21vZHVsZXMvQHBpeGkvaW50ZXJhY3Rpb24vZGlzdC9lc20vaW50ZXJhY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS9hcHBANi4wLjAvbm9kZV9tb2R1bGVzL0BwaXhpL2FwcC9kaXN0L2VzbS9hcHAuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS9leHRyYWN0QDYuMC4wL25vZGVfbW9kdWxlcy9AcGl4aS9leHRyYWN0L2Rpc3QvZXNtL2V4dHJhY3QuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS9jb21wcmVzc2VkLXRleHR1cmVzQDYuMC4wL25vZGVfbW9kdWxlcy9AcGl4aS9jb21wcmVzc2VkLXRleHR1cmVzL2Rpc3QvZXNtL2NvbXByZXNzZWQtdGV4dHVyZXMuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS9wYXJ0aWNsZXNANi4wLjAvbm9kZV9tb2R1bGVzL0BwaXhpL3BhcnRpY2xlcy9kaXN0L2VzbS9wYXJ0aWNsZXMuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS9ncmFwaGljc0A2LjAuMC9ub2RlX21vZHVsZXMvQHBpeGkvZ3JhcGhpY3MvZGlzdC9lc20vZ3JhcGhpY3MuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS90ZXh0QDYuMC4wL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0L2Rpc3QvZXNtL3RleHQuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS9zcHJpdGVANi4wLjAvbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS9kaXN0L2VzbS9zcHJpdGUuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS9wcmVwYXJlQDYuMC4wL25vZGVfbW9kdWxlcy9AcGl4aS9wcmVwYXJlL2Rpc3QvZXNtL3ByZXBhcmUuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS9zcHJpdGVzaGVldEA2LjAuMC9ub2RlX21vZHVsZXMvQHBpeGkvc3ByaXRlc2hlZXQvZGlzdC9lc20vc3ByaXRlc2hlZXQuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS9zcHJpdGUtdGlsaW5nQDYuMC4wL25vZGVfbW9kdWxlcy9AcGl4aS9zcHJpdGUtdGlsaW5nL2Rpc3QvZXNtL3Nwcml0ZS10aWxpbmcuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS9tZXNoQDYuMC4wL25vZGVfbW9kdWxlcy9AcGl4aS9tZXNoL2Rpc3QvZXNtL21lc2guanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS90ZXh0LWJpdG1hcEA2LjAuMC9ub2RlX21vZHVsZXMvQHBpeGkvdGV4dC1iaXRtYXAvZGlzdC9lc20vdGV4dC1iaXRtYXAuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS9maWx0ZXItYWxwaGFANi4wLjAvbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1hbHBoYS9kaXN0L2VzbS9maWx0ZXItYWxwaGEuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS9maWx0ZXItYmx1ckA2LjAuMC9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWJsdXIvZGlzdC9lc20vZmlsdGVyLWJsdXIuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS9maWx0ZXItY29sb3ItbWF0cml4QDYuMC4wL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItY29sb3ItbWF0cml4L2Rpc3QvZXNtL2ZpbHRlci1jb2xvci1tYXRyaXguanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS9maWx0ZXItZGlzcGxhY2VtZW50QDYuMC4wL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItZGlzcGxhY2VtZW50L2Rpc3QvZXNtL2ZpbHRlci1kaXNwbGFjZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS9maWx0ZXItZnhhYUA2LjAuMC9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWZ4YWEvZGlzdC9lc20vZmlsdGVyLWZ4YWEuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS9maWx0ZXItbm9pc2VANi4wLjAvbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1ub2lzZS9kaXN0L2VzbS9maWx0ZXItbm9pc2UuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS9taXhpbi1jYWNoZS1hcy1iaXRtYXBANi4wLjAvbm9kZV9tb2R1bGVzL0BwaXhpL21peGluLWNhY2hlLWFzLWJpdG1hcC9kaXN0L2VzbS9taXhpbi1jYWNoZS1hcy1iaXRtYXAuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS9taXhpbi1nZXQtY2hpbGQtYnktbmFtZUA2LjAuMC9ub2RlX21vZHVsZXMvQHBpeGkvbWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUvZGlzdC9lc20vbWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uQDYuMC4wL25vZGVfbW9kdWxlcy9AcGl4aS9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uL2Rpc3QvZXNtL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS9tZXNoLWV4dHJhc0A2LjAuMC9ub2RlX21vZHVsZXMvQHBpeGkvbWVzaC1leHRyYXMvZGlzdC9lc20vbWVzaC1leHRyYXMuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcGl4aS9zcHJpdGUtYW5pbWF0ZWRANi4wLjAvbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS1hbmltYXRlZC9kaXN0L2VzbS9zcHJpdGUtYW5pbWF0ZWQuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDYuMC4wL25vZGVfbW9kdWxlcy9waXhpLmpzL2Rpc3QvZXNtL3BpeGkuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9wdW55Y29kZUAxLjMuMi9ub2RlX21vZHVsZXMvcHVueWNvZGUvcHVueWNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9xdWVyeXN0cmluZ0AwLjIuMC9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmcvZGVjb2RlLmpzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvLnBucG0vcXVlcnlzdHJpbmdAMC4yLjAvbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nL2VuY29kZS5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3F1ZXJ5c3RyaW5nQDAuMi4wL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3VybEAwLjExLjAvbm9kZV9tb2R1bGVzL3VybC91cmwuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy8ucG5wbS91cmxAMC4xMS4wL25vZGVfbW9kdWxlcy91cmwvdXRpbC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9ub2RlIG1vZHVsZSBkZWNvcmF0b3IiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svc3RhcnR1cCJdLCJuYW1lcyI6WyJFTlYiLCJSRU5ERVJFUl9UWVBFIiwiQlVGRkVSX0JJVFMiLCJCTEVORF9NT0RFUyIsIkRSQVdfTU9ERVMiLCJGT1JNQVRTIiwiVEFSR0VUUyIsIlRZUEVTIiwiU0NBTEVfTU9ERVMiLCJXUkFQX01PREVTIiwiTUlQTUFQX01PREVTIiwiQUxQSEFfTU9ERVMiLCJDTEVBUl9NT0RFUyIsIkdDX01PREVTIiwiUFJFQ0lTSU9OIiwiTUFTS19UWVBFUyIsIk1TQUFfUVVBTElUWSIsImlzTW9iaWxlIiwiSU5TVEFMTEVEIiwiYXV0b0RldGVjdFJlc291cmNlIiwic291cmNlIiwib3B0aW9ucyIsImV4dGVuc2lvbiIsInJlc3VsdCIsImV4ZWMiLCJ0b0xvd2VyQ2FzZSIsImkiLCJsZW5ndGgiLCJSZXNvdXJjZVBsdWdpbiIsInRlc3QiLCJFcnJvciIsImV4dGVuZFN0YXRpY3MiLCJkIiwiYiIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJfX2V4dGVuZHMiLCJfXyIsInRoaXMiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsImNyZWF0ZSIsIlJlc291cmNlIiwid2lkdGgiLCJoZWlnaHQiLCJfd2lkdGgiLCJfaGVpZ2h0IiwiZGVzdHJveWVkIiwiaW50ZXJuYWwiLCJvblJlc2l6ZSIsIlIiLCJvblVwZGF0ZSIsIm9uRXJyb3IiLCJiaW5kIiwiYmFzZVRleHR1cmUiLCJhZGQiLCJlbWl0IiwidW5iaW5kIiwicmVtb3ZlIiwicmVzaXplIiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwidXBkYXRlIiwibG9hZCIsIlByb21pc2UiLCJyZXNvbHZlIiwic3R5bGUiLCJfcmVuZGVyZXIiLCJfYmFzZVRleHR1cmUiLCJfZ2xUZXh0dXJlIiwiZGlzcG9zZSIsImRlc3Ryb3kiLCJyZW1vdmVBbGwiLCJfc291cmNlIiwiX2V4dGVuc2lvbiIsIkJ1ZmZlclJlc291cmNlIiwiX3N1cGVyIiwiX3RoaXMiLCJfYSIsImNhbGwiLCJkYXRhIiwidXBsb2FkIiwicmVuZGVyZXIiLCJnbFRleHR1cmUiLCJnbCIsInBpeGVsU3RvcmVpIiwiVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMIiwiYWxwaGFNb2RlIiwidGV4U3ViSW1hZ2UyRCIsInRhcmdldCIsImZvcm1hdCIsInR5cGUiLCJ0ZXhJbWFnZTJEIiwiaW50ZXJuYWxGb3JtYXQiLCJGbG9hdDMyQXJyYXkiLCJVaW50OEFycmF5IiwiVWludDMyQXJyYXkiLCJkZWZhdWx0QnVmZmVyT3B0aW9ucyIsInNjYWxlTW9kZSIsIkJhc2VUZXh0dXJlIiwicmVzb3VyY2UiLCJtaXBtYXAiLCJhbmlzb3Ryb3BpY0xldmVsIiwid3JhcE1vZGUiLCJyZXNvbHV0aW9uIiwicmVzb3VyY2VPcHRpb25zIiwidW5kZWZpbmVkIiwidWlkIiwidG91Y2hlZCIsImlzUG93ZXJPZlR3byIsIl9yZWZyZXNoUE9UIiwiX2dsVGV4dHVyZXMiLCJkaXJ0eUlkIiwiZGlydHlTdHlsZUlkIiwiY2FjaGVJZCIsInZhbGlkIiwidGV4dHVyZUNhY2hlSWRzIiwiX2JhdGNoRW5hYmxlZCIsIl9iYXRjaExvY2F0aW9uIiwicGFyZW50VGV4dHVyZUFycmF5Iiwic2V0UmVzb3VyY2UiLCJNYXRoIiwiY2VpbCIsInNldFN0eWxlIiwiZGlydHkiLCJzZXRTaXplIiwic2V0UmVhbFNpemUiLCJyZWFsV2lkdGgiLCJyZWFsSGVpZ2h0IiwiaXNQb3cyIiwic2V0UmVzb2x1dGlvbiIsIm9sZFJlc29sdXRpb24iLCJldmVudCIsIkJhc2VUZXh0dXJlQ2FjaGUiLCJUZXh0dXJlQ2FjaGUiLCJyZW1vdmVGcm9tQ2FjaGUiLCJjYXN0VG9CYXNlVGV4dHVyZSIsImZyb20iLCJzdHJpY3QiLCJpc0ZyYW1lIiwiX3BpeGlJZCIsInByZWZpeCIsInBpeGlJZFByZWZpeCIsImFkZFRvQ2FjaGUiLCJmcm9tQnVmZmVyIiwiYnVmZmVyIiwiYXNzaWduIiwiaWQiLCJpbmRleE9mIiwicHVzaCIsImNvbnNvbGUiLCJ3YXJuIiwiYmFzZVRleHR1cmVGcm9tQ2FjaGUiLCJpbmRleCIsInNwbGljZSIsIl9nbG9iYWxCYXRjaCIsIkV2ZW50RW1pdHRlciIsIkFic3RyYWN0TXVsdGlSZXNvdXJjZSIsIml0ZW1zIiwiaXRlbURpcnR5SWRzIiwicGFydFRleHR1cmUiLCJfbG9hZCIsImluaXRGcm9tQXJyYXkiLCJyZXNvdXJjZXMiLCJhZGRCYXNlVGV4dHVyZUF0IiwiYWRkUmVzb3VyY2VBdCIsImxlbiIsIm9uIiwib2ZmIiwicHJvbWlzZXMiLCJtYXAiLCJpdGVtIiwiZmlsdGVyIiwiYWxsIiwidGhlbiIsIkFycmF5UmVzb3VyY2UiLCJ1cmxzIiwiaXNBcnJheSIsInRleHR1cmUiLCJ0ZXhJbWFnZTNEIiwiVEVYVFVSRV8yRF9BUlJBWSIsInRleFN1YkltYWdlM0QiLCJCYXNlSW1hZ2VSZXNvdXJjZSIsInNvdXJjZUFueSIsIm5hdHVyYWxXaWR0aCIsInZpZGVvV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwidmlkZW9IZWlnaHQiLCJub1N1YkltYWdlIiwiY3Jvc3NPcmlnaW4iLCJlbGVtZW50IiwidXJsIiwiY3Jvc3NvcmlnaW4iLCJkZXRlcm1pbmVDcm9zc09yaWdpbiIsIlRFWFRVUkVfMkQiLCJDYW52YXNSZXNvdXJjZSIsIk9mZnNjcmVlbkNhbnZhcyIsInNlbGYiLCJIVE1MQ2FudmFzRWxlbWVudCIsIkN1YmVSZXNvdXJjZSIsImF1dG9Mb2FkIiwibGlua0Jhc2VUZXh0dXJlIiwiU0lERVMiLCJrZXlzIiwic2lkZSIsIkltYWdlUmVzb3VyY2UiLCJIVE1MSW1hZ2VFbGVtZW50IiwiaW1hZ2VFbGVtZW50IiwiSW1hZ2UiLCJzcmMiLCJjb21wbGV0ZSIsIl9wcm9jZXNzIiwicHJlc2VydmVCaXRtYXAiLCJjcmVhdGVCaXRtYXAiLCJjcmVhdGVJbWFnZUJpdG1hcCIsImJpdG1hcCIsInJlamVjdCIsImNvbXBsZXRlZCIsIm9ubG9hZCIsIm9uZXJyb3IiLCJwcm9jZXNzIiwicHJlbXVsdGlwbHlBbHBoYSIsImZsYWciLCJnbFRleHR1cmVzIiwia2V5Iiwib3RoZXJUZXgiLCJjbG9zZSIsIlNWR1Jlc291cmNlIiwic291cmNlQmFzZTY0IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3ZnIiwic2NhbGUiLCJfb3ZlcnJpZGVXaWR0aCIsIl9vdmVycmlkZUhlaWdodCIsIl9yZXNvbHZlIiwiX2Nyb3Nzb3JpZ2luIiwidHJpbSIsImJ0b2EiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIl9sb2FkU3ZnIiwidGVtcEltYWdlIiwic3ZnV2lkdGgiLCJzdmdIZWlnaHQiLCJyb3VuZCIsImNhbnZhcyIsImdldENvbnRleHQiLCJkcmF3SW1hZ2UiLCJnZXRTaXplIiwic3ZnU3RyaW5nIiwic2l6ZU1hdGNoIiwiU1ZHX1NJWkUiLCJzaXplIiwicGFyc2VGbG9hdCIsIlZpZGVvUmVzb3VyY2UiLCJIVE1MVmlkZW9FbGVtZW50IiwidmlkZW9FbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiZmlyc3RTcmMiLCJzb3VyY2VFbGVtZW50IiwibWltZSIsImJhc2VTcmMiLCJzcGxpdCIsInNoaWZ0IiwiZXh0Iiwic3Vic3RyIiwibGFzdEluZGV4T2YiLCJNSU1FX1RZUEVTIiwiYXBwZW5kQ2hpbGQiLCJfYXV0b1VwZGF0ZSIsIl9pc0Nvbm5lY3RlZFRvVGlja2VyIiwiX3VwZGF0ZUZQUyIsInVwZGF0ZUZQUyIsIl9tc1RvTmV4dFVwZGF0ZSIsImF1dG9QbGF5IiwiX29uQ2FuUGxheSIsIl9vbkVycm9yIiwiX2RlbHRhVGltZSIsImVsYXBzZWRNUyIsInBsYXliYWNrUmF0ZSIsImZsb29yIiwicmVhZHlTdGF0ZSIsIkhBVkVfRU5PVUdIX0RBVEEiLCJIQVZFX0ZVVFVSRV9EQVRBIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9vblBsYXlTdGFydCIsIl9vblBsYXlTdG9wIiwiX2lzU291cmNlUmVhZHkiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX2lzU291cmNlUGxheWluZyIsImN1cnJlbnRUaW1lIiwicGF1c2VkIiwiZW5kZWQiLCJhdXRvVXBkYXRlIiwicGxheSIsInBhdXNlIiwic2V0IiwidmFsdWUiLCJvZ3YiLCJtb3YiLCJtNHYiLCJJbWFnZUJpdG1hcFJlc291cmNlIiwiSW1hZ2VCaXRtYXAiLCJfcmVzb3VyY2VzIiwiU3lzdGVtIiwiRGVwdGhSZXNvdXJjZSIsImFwcGx5IiwiYXJndW1lbnRzIiwiY29udGV4dCIsIndlYkdMVmVyc2lvbiIsIkRFUFRIX0NPTVBPTkVOVCIsIkRFUFRIX0NPTVBPTkVOVDE2IiwiRnJhbWVidWZmZXIiLCJzdGVuY2lsIiwiZGVwdGgiLCJkaXJ0eUZvcm1hdCIsImRpcnR5U2l6ZSIsImRlcHRoVGV4dHVyZSIsImNvbG9yVGV4dHVyZXMiLCJnbEZyYW1lYnVmZmVycyIsImRpc3Bvc2VSdW5uZXIiLCJtdWx0aXNhbXBsZSIsImFkZENvbG9yVGV4dHVyZSIsImFkZERlcHRoVGV4dHVyZSIsImVuYWJsZURlcHRoIiwiZW5hYmxlU3RlbmNpbCIsImRlc3Ryb3lEZXB0aFRleHR1cmUiLCJCYXNlUmVuZGVyVGV4dHVyZSIsIndpZHRoXzEiLCJoZWlnaHRfMSIsImNsZWFyQ29sb3IiLCJmcmFtZWJ1ZmZlciIsIm1hc2tTdGFjayIsImZpbHRlclN0YWNrIiwiVGV4dHVyZVV2cyIsIngwIiwieTAiLCJ4MSIsInkxIiwieDIiLCJ5MiIsIngzIiwieTMiLCJ1dnNGbG9hdDMyIiwiZnJhbWUiLCJiYXNlRnJhbWUiLCJyb3RhdGUiLCJ0dyIsInRoIiwidzIiLCJoMiIsImNYIiwieCIsImNZIiwieSIsInRvU3RyaW5nIiwiREVGQVVMVF9VVlMiLCJUZXh0dXJlIiwib3JpZyIsImFuY2hvciIsIm5vRnJhbWUiLCJfZnJhbWUiLCJfdXZzIiwidXZNYXRyaXgiLCJfcm90YXRlIiwiTnVtYmVyIiwiZGVmYXVsdEFuY2hvciIsIl91cGRhdGVJRCIsIm9uQmFzZVRleHR1cmVVcGRhdGVkIiwib25jZSIsInVwZGF0ZVV2cyIsImRlc3Ryb3lCYXNlIiwiY2xvbmUiLCJnZXRSZXNvbHV0aW9uT2ZVcmwiLCJmcm9tVVJMIiwiZnJvbUxvYWRlciIsImltYWdlVXJsIiwibmFtZSIsInRleHR1cmVGcm9tQ2FjaGUiLCJ4Tm90Rml0IiwieU5vdEZpdCIsInJlbGF0aW9uc2hpcCIsImVycm9yWCIsImVycm9yWSIsInJlbW92ZUFsbEhhbmRsZXJzIiwidGV4IiwiRU1QVFkiLCJXSElURSIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiY3JlYXRlV2hpdGVUZXh0dXJlIiwiUmVuZGVyVGV4dHVyZSIsImJhc2VSZW5kZXJUZXh0dXJlIiwiZmlsdGVyRnJhbWUiLCJmaWx0ZXJQb29sS2V5IiwicmVzaXplQmFzZVRleHR1cmUiLCJhcmd1bWVudHMkMSIsInJlc3QiLCJfaSIsImRlcHJlY2F0aW9uIiwiUmVuZGVyVGV4dHVyZVBvb2wiLCJ0ZXh0dXJlT3B0aW9ucyIsInRleHR1cmVQb29sIiwiZW5hYmxlRnVsbFNjcmVlbiIsIl9waXhlbHNXaWR0aCIsIl9waXhlbHNIZWlnaHQiLCJjcmVhdGVUZXh0dXJlIiwiZ2V0T3B0aW1hbFRleHR1cmUiLCJtaW5XaWR0aCIsIm1pbkhlaWdodCIsIlNDUkVFTl9LRVkiLCJuZXh0UG93MiIsInJlbmRlclRleHR1cmUiLCJwb3AiLCJnZXRGaWx0ZXJUZXh0dXJlIiwiaW5wdXQiLCJmaWx0ZXJUZXh0dXJlIiwicmV0dXJuVGV4dHVyZSIsInJldHVybkZpbHRlclRleHR1cmUiLCJjbGVhciIsImRlc3Ryb3lUZXh0dXJlcyIsInRleHR1cmVzIiwiaiIsInNldFNjcmVlblNpemUiLCJzY3JlZW5LZXkiLCJBdHRyaWJ1dGUiLCJub3JtYWxpemVkIiwic3RyaWRlIiwic3RhcnQiLCJpbnN0YW5jZSIsIlVJRCIsIkJ1ZmZlciIsIl9zdGF0aWMiLCJfZ2xCdWZmZXJzIiwic3RhdGljIiwiZ2V0QnVmZmVyVHlwZSIsImFycmF5IiwiQllURVNfUEVSX0VMRU1FTlQiLCJVaW50MTZBcnJheSIsIkludDMyQXJyYXkiLCJieXRlU2l6ZU1hcCIsIjUxMjYiLCI1MTIzIiwiNTEyMSIsIlVJRCQxIiwibWFwJDEiLCJHZW9tZXRyeSIsImJ1ZmZlcnMiLCJhdHRyaWJ1dGVzIiwiaW5kZXhCdWZmZXIiLCJnbFZlcnRleEFycmF5T2JqZWN0cyIsImluc3RhbmNlZCIsImluc3RhbmNlQ291bnQiLCJyZWZDb3VudCIsImFkZEF0dHJpYnV0ZSIsImlkcyIsImJ1ZmZlckluZGV4IiwiZ2V0QXR0cmlidXRlIiwiZ2V0QnVmZmVyIiwiYWRkSW5kZXgiLCJnZXRJbmRleCIsImludGVybGVhdmUiLCJhcnJheXMiLCJzaXplcyIsImludGVybGVhdmVkQnVmZmVyIiwiYXR0cmlidXRlIiwib3V0U2l6ZSIsInZpZXdzIiwiQXJyYXlCdWZmZXIiLCJvdXQiLCJsaXR0bGVPZmZzZXQiLCJpbnRlcmxlYXZlVHlwZWRBcnJheXMiLCJnZW9tZXRyeSIsInNsaWNlIiwiYXR0cmliIiwibWVyZ2UiLCJnZW9tZXRyaWVzIiwiZ2VvbWV0cnlPdXQiLCJvZmZzZXRzIiwib2Zmc2V0Iiwib2Zmc2V0MiIsImJ1ZmZlckluZGV4VG9Db3VudCIsImluZGV4QnVmZmVyRGF0YSIsIlF1YWQiLCJRdWFkVXYiLCJ2ZXJ0aWNlcyIsInV2cyIsInZlcnRleEJ1ZmZlciIsInV2QnVmZmVyIiwidGFyZ2V0VGV4dHVyZUZyYW1lIiwiZGVzdGluYXRpb25GcmFtZSIsImludmFsaWRhdGUiLCJVSUQkMiIsIlVuaWZvcm1Hcm91cCIsInVuaWZvcm1zIiwiZ3JvdXAiLCJzeW5jVW5pZm9ybXMiLCJGaWx0ZXJTdGF0ZSIsImxlZ2FjeSIsInNvdXJjZUZyYW1lIiwiYmluZGluZ1NvdXJjZUZyYW1lIiwiYmluZGluZ0Rlc3RpbmF0aW9uRnJhbWUiLCJmaWx0ZXJzIiwidHJhbnNmb3JtIiwidGVtcFBvaW50cyIsInRlbXBNYXRyaXgiLCJGaWx0ZXJTeXN0ZW0iLCJkZWZhdWx0RmlsdGVyU3RhY2siLCJ2aWV3Iiwic3RhdGVQb29sIiwicXVhZCIsInF1YWRVdiIsInRlbXBSZWN0IiwiYWN0aXZlU3RhdGUiLCJnbG9iYWxVbmlmb3JtcyIsIm91dHB1dEZyYW1lIiwiaW5wdXRTaXplIiwiaW5wdXRQaXhlbCIsImlucHV0Q2xhbXAiLCJmaWx0ZXJBcmVhIiwiZmlsdGVyQ2xhbXAiLCJmb3JjZUNsZWFyIiwidXNlTWF4UGFkZGluZyIsInN0YXRlIiwicmVuZGVyVGV4dHVyZVN5c3RlbSIsInBhZGRpbmciLCJhdXRvRml0IiwibWluIiwibWF4IiwiY3VycmVudCIsImNvcHlGcm9tIiwiZ2V0Qm91bmRzIiwicGFkIiwic291cmNlRnJhbWVQcm9qZWN0ZWQiLCJwcm9qZWN0aW9uIiwidHJhbnNmb3JtQUFCQiIsImludmVydCIsImZpdCIsInJvdW5kRnJhbWUiLCJnZXRPcHRpbWFsRmlsdGVyVGV4dHVyZSIsImxhc3RTdGF0ZSIsImJsaXQiLCJmbGlwIiwiZmxvcCIsIkNMRUFSIiwidCIsImJpbmRBbmRDbGVhciIsImNsZWFyTW9kZSIsInN0YXRlU3lzdGVtIiwiYXV0b0NsZWFyIiwic3RhdGVJZCIsImFwcGx5RmlsdGVyIiwib3V0cHV0IiwidVNhbXBsZXIiLCJmaWx0ZXJHbG9iYWxzIiwic2hhZGVyIiwiZHJhdyIsImNhbGN1bGF0ZVNwcml0ZU1hdHJpeCIsIm91dHB1dE1hdHJpeCIsInNwcml0ZSIsIl90ZXh0dXJlIiwibWFwcGVkTWF0cml4Iiwid29ybGRUcmFuc2Zvcm0iLCJjb3B5VG8iLCJwcmVwZW5kIiwidHJhbnNsYXRlIiwic3dhcCIsImVtcHR5UG9vbCIsIm1hdHJpeCIsInJlY3QiLCJsdCIsImxiIiwicnQiLCJyYiIsImxlZnQiLCJ0b3AiLCJib3R0b20iLCJyaWdodCIsImEiLCJjIiwiaWRlbnRpdHkiLCJPYmplY3RSZW5kZXJlciIsImZsdXNoIiwic3RvcCIsInJlbmRlciIsIl9vYmplY3QiLCJCYXRjaFN5c3RlbSIsImVtcHR5UmVuZGVyZXIiLCJjdXJyZW50UmVuZGVyZXIiLCJzZXRPYmplY3RSZW5kZXJlciIsIm9iamVjdFJlbmRlcmVyIiwicmVzZXQiLCJjb3B5Qm91bmRUZXh0dXJlcyIsImFyciIsIm1heFRleHR1cmVzIiwiYm91bmRUZXh0dXJlcyIsImJvdW5kQXJyYXkiLCJ0ZXhBcnJheSIsImJhdGNoSWQiLCJlbGVtZW50cyIsImNvdW50IiwibG9jIiwiYm91bmQiLCJDT05URVhUX1VJRF9DT1VOVEVSIiwiQ29udGV4dFN5c3RlbSIsImV4dGVuc2lvbnMiLCJzdXBwb3J0cyIsInVpbnQzMkluZGljZXMiLCJoYW5kbGVDb250ZXh0TG9zdCIsImhhbmRsZUNvbnRleHRSZXN0b3JlZCIsImlzQ29udGV4dExvc3QiLCJjb250ZXh0Q2hhbmdlIiwiQ09OVEVYVF9VSUQiLCJnZXRFeHRlbnNpb24iLCJyZXN0b3JlQ29udGV4dCIsImluaXRGcm9tQ29udGV4dCIsInZhbGlkYXRlQ29udGV4dCIsInJ1bm5lcnMiLCJpbml0RnJvbU9wdGlvbnMiLCJjcmVhdGVDb250ZXh0IiwiZ2V0RXh0ZW5zaW9ucyIsImNvbW1vbiIsImFuaXNvdHJvcGljRmlsdGVyaW5nIiwiZmxvYXRUZXh0dXJlTGluZWFyIiwiczN0YyIsInMzdGNfc1JHQiIsImV0YyIsImV0YzEiLCJwdnJ0YyIsImF0YyIsImFzdGMiLCJkcmF3QnVmZmVycyIsImxvc2VDb250ZXh0IiwidmVydGV4QXJyYXlPYmplY3QiLCJ1aW50MzJFbGVtZW50SW5kZXgiLCJmbG9hdFRleHR1cmUiLCJ0ZXh0dXJlSGFsZkZsb2F0IiwidGV4dHVyZUhhbGZGbG9hdExpbmVhciIsImNvbG9yQnVmZmVyRmxvYXQiLCJwcmV2ZW50RGVmYXVsdCIsInVzZVByb2dyYW0iLCJwb3N0cmVuZGVyIiwicmVuZGVyaW5nVG9TY3JlZW4iLCJnZXRDb250ZXh0QXR0cmlidXRlcyIsImlzV2ViR2wyIiwiV2ViR0wyUmVuZGVyaW5nQ29udGV4dCIsImhhc3VpbnQzMiIsIkdMRnJhbWVidWZmZXIiLCJtc2FhQnVmZmVyIiwiYmxpdEZyYW1lYnVmZmVyIiwidGVtcFJlY3RhbmdsZSIsIkZyYW1lYnVmZmVyU3lzdGVtIiwibWFuYWdlZEZyYW1lYnVmZmVycyIsInVua25vd25GcmFtZWJ1ZmZlciIsIm1zYWFTYW1wbGVzIiwidmlld3BvcnQiLCJoYXNNUlQiLCJ3cml0ZURlcHRoVGV4dHVyZSIsImRpc3Bvc2VBbGwiLCJuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbl8xIiwibmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uIiwiYWN0aXZlVGV4dHVyZXMiLCJkcmF3QnVmZmVyc1dFQkdMIiwiZ2V0SW50ZXJuYWxmb3JtYXRQYXJhbWV0ZXIiLCJSRU5ERVJCVUZGRVIiLCJSR0JBOCIsIlNBTVBMRVMiLCJmYm8iLCJpbml0RnJhbWVidWZmZXIiLCJiaW5kRnJhbWVidWZmZXIiLCJGUkFNRUJVRkZFUiIsInVwZGF0ZUZyYW1lYnVmZmVyIiwicmVzaXplRnJhbWVidWZmZXIiLCJzZXRWaWV3cG9ydCIsInYiLCJyIiwiZyIsIm1hc2siLCJjcmVhdGVGcmFtZWJ1ZmZlciIsImRldGVjdFNhbXBsZXMiLCJiaW5kUmVuZGVyYnVmZmVyIiwicmVuZGVyYnVmZmVyU3RvcmFnZSIsIkRFUFRIX1NURU5DSUwiLCJjcmVhdGVSZW5kZXJidWZmZXIiLCJyZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUiLCJmcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlciIsIkNPTE9SX0FUVEFDSE1FTlQwIiwicGFyZW50VGV4dHVyZSIsImZyYW1lYnVmZmVyVGV4dHVyZTJEIiwiREVQVEhfQVRUQUNITUVOVCIsIkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCIsInNhbXBsZXMiLCJyZXMiLCJzb3VyY2VQaXhlbHMiLCJkZXN0UGl4ZWxzIiwic2FtZVNpemUiLCJSRUFEX0ZSQU1FQlVGRkVSIiwiQ09MT1JfQlVGRkVSX0JJVCIsIk5FQVJFU1QiLCJMSU5FQVIiLCJkaXNwb3NlRnJhbWVidWZmZXIiLCJjb250ZXh0TG9zdCIsImRlbGV0ZUZyYW1lYnVmZmVyIiwiZGVsZXRlUmVuZGVyYnVmZmVyIiwibGlzdCIsImZvcmNlU3RlbmNpbCIsInciLCJoIiwiR0xCdWZmZXIiLCJ1cGRhdGVJRCIsImJ5dGVMZW5ndGgiLCJieXRlU2l6ZU1hcCQxIiwiR2VvbWV0cnlTeXN0ZW0iLCJfYWN0aXZlR2VvbWV0cnkiLCJfYWN0aXZlVmFvIiwiaGFzVmFvIiwiaGFzSW5zdGFuY2UiLCJjYW5Vc2VVSW50MzJFbGVtZW50SW5kZXgiLCJtYW5hZ2VkR2VvbWV0cmllcyIsIm1hbmFnZWRCdWZmZXJzIiwibmF0aXZlVmFvRXh0ZW5zaW9uXzEiLCJjcmVhdGVWZXJ0ZXhBcnJheSIsImNyZWF0ZVZlcnRleEFycmF5T0VTIiwiYmluZFZlcnRleEFycmF5IiwidmFvIiwiYmluZFZlcnRleEFycmF5T0VTIiwiZGVsZXRlVmVydGV4QXJyYXkiLCJkZWxldGVWZXJ0ZXhBcnJheU9FUyIsImluc3RhbmNlRXh0XzEiLCJ2ZXJ0ZXhBdHRyaWJEaXZpc29yIiwidmVydGV4QXR0cmliRGl2aXNvckFOR0xFIiwiZHJhd0VsZW1lbnRzSW5zdGFuY2VkIiwiZSIsImRyYXdFbGVtZW50c0luc3RhbmNlZEFOR0xFIiwiZHJhd0FycmF5c0luc3RhbmNlZCIsImRyYXdBcnJheXNJbnN0YW5jZWRBTkdMRSIsInZhb3MiLCJpbmNSZWZDb3VudCIsInByb2dyYW0iLCJpbml0R2VvbWV0cnlWYW8iLCJhY3RpdmF0ZVZhbyIsInVwZGF0ZUJ1ZmZlcnMiLCJnbEJ1ZmZlciIsIkVMRU1FTlRfQVJSQVlfQlVGRkVSIiwiQVJSQVlfQlVGRkVSIiwiYmluZEJ1ZmZlciIsIl9ib3VuZEJ1ZmZlciIsImJ1ZmZlclN1YkRhdGEiLCJkcmF3VHlwZSIsIlNUQVRJQ19EUkFXIiwiRFlOQU1JQ19EUkFXIiwiYnVmZmVyRGF0YSIsImNoZWNrQ29tcGF0aWJpbGl0eSIsImdlb21ldHJ5QXR0cmlidXRlcyIsInNoYWRlckF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVEYXRhIiwiZ2V0U2lnbmF0dXJlIiwiYXR0cmlicyIsInN0cmluZ3MiLCJqb2luIiwic2lnbmF0dXJlIiwidmFvT2JqZWN0SGFzaCIsInRlbXBTdHJpZGUiLCJ0ZW1wU3RhcnQiLCJhdHRyaWJTaXplIiwiY3JlYXRlQnVmZmVyIiwiZGlzcG9zZUJ1ZmZlciIsImRlbGV0ZUJ1ZmZlciIsImRpc3Bvc2VHZW9tZXRyeSIsImJ1ZiIsInZhb0lkIiwibGFzdEJ1ZmZlciIsImxvY2F0aW9uIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiRkxPQVQiLCJieXRlU2l6ZSIsImdsVHlwZSIsIlVOU0lHTkVEX1NIT1JUIiwiVU5TSUdORURfSU5UIiwiZHJhd0VsZW1lbnRzIiwiZHJhd0FycmF5cyIsIk1hc2tEYXRhIiwibWFza09iamVjdCIsImF1dG9EZXRlY3QiLCJwb29sZWQiLCJpc01hc2tEYXRhIiwiX3N0ZW5jaWxDb3VudGVyIiwiX3NjaXNzb3JDb3VudGVyIiwiX3NjaXNzb3JSZWN0IiwiX3RhcmdldCIsImNvcHlDb3VudGVyc09yUmVzZXQiLCJtYXNrQWJvdmUiLCJjb21waWxlU2hhZGVyIiwiY3JlYXRlU2hhZGVyIiwic2hhZGVyU291cmNlIiwiY29tcGlsZVByb2dyYW0iLCJ2ZXJ0ZXhTcmMiLCJmcmFnbWVudFNyYyIsImF0dHJpYnV0ZUxvY2F0aW9ucyIsImdsVmVydFNoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJnbEZyYWdTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJjcmVhdGVQcm9ncmFtIiwiYXR0YWNoU2hhZGVyIiwiYmluZEF0dHJpYkxvY2F0aW9uIiwibGlua1Byb2dyYW0iLCJnZXRQcm9ncmFtUGFyYW1ldGVyIiwiTElOS19TVEFUVVMiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImVycm9yIiwiZ2V0U2hhZGVySW5mb0xvZyIsIlZBTElEQVRFX1NUQVRVUyIsImdldEVycm9yIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJkZWxldGVQcm9ncmFtIiwiZGVsZXRlU2hhZGVyIiwiYm9vbGVhbkFycmF5IiwiZGVmYXVsdFZhbHVlIiwibWF4RnJhZ21lbnRQcmVjaXNpb24iLCJ1bmtub3duQ29udGV4dCIsImdldFRlc3RDb250ZXh0Iiwic2V0UHJlY2lzaW9uIiwicmVxdWVzdGVkUHJlY2lzaW9uIiwibWF4U3VwcG9ydGVkUHJlY2lzaW9uIiwic3Vic3RyaW5nIiwicHJlY2lzaW9uIiwicmVwbGFjZSIsIkdMU0xfVE9fU0laRSIsImZsb2F0IiwidmVjMiIsInZlYzMiLCJ2ZWM0IiwiaW50IiwiaXZlYzIiLCJpdmVjMyIsIml2ZWM0IiwidWludCIsInV2ZWMyIiwidXZlYzMiLCJ1dmVjNCIsImJvb2wiLCJidmVjMiIsImJ2ZWMzIiwiYnZlYzQiLCJtYXQyIiwibWF0MyIsIm1hdDQiLCJzYW1wbGVyMkQiLCJtYXBTaXplIiwiR0xfVEFCTEUiLCJHTF9UT19HTFNMX1RZUEVTIiwiRkxPQVRfVkVDMiIsIkZMT0FUX1ZFQzMiLCJGTE9BVF9WRUM0IiwiSU5UIiwiSU5UX1ZFQzIiLCJJTlRfVkVDMyIsIklOVF9WRUM0IiwiVU5TSUdORURfSU5UX1ZFQzIiLCJVTlNJR05FRF9JTlRfVkVDMyIsIlVOU0lHTkVEX0lOVF9WRUM0IiwiQk9PTCIsIkJPT0xfVkVDMiIsIkJPT0xfVkVDMyIsIkJPT0xfVkVDNCIsIkZMT0FUX01BVDIiLCJGTE9BVF9NQVQzIiwiRkxPQVRfTUFUNCIsIlNBTVBMRVJfMkQiLCJJTlRfU0FNUExFUl8yRCIsIlVOU0lHTkVEX0lOVF9TQU1QTEVSXzJEIiwiU0FNUExFUl9DVUJFIiwiSU5UX1NBTVBMRVJfQ1VCRSIsIlVOU0lHTkVEX0lOVF9TQU1QTEVSX0NVQkUiLCJTQU1QTEVSXzJEX0FSUkFZIiwiSU5UX1NBTVBMRVJfMkRfQVJSQVkiLCJVTlNJR05FRF9JTlRfU0FNUExFUl8yRF9BUlJBWSIsIm1hcFR5cGUiLCJ0eXBlTmFtZXMiLCJ0biIsInVuc2FmZUV2YWwiLCJ1bmlmb3JtUGFyc2VycyIsImNvZGUiLCJ1bmlmb3JtIiwiR0xTTF9UT19TSU5HTEVfU0VUVEVSU19DQUNIRUQiLCJzYW1wbGVyQ3ViZSIsInNhbXBsZXIyREFycmF5IiwiR0xTTF9UT19BUlJBWV9TRVRURVJTIiwiZnJhZ1RlbXBsYXRlIiwiZ2VuZXJhdGVJZlRlc3RTcmMiLCJtYXhJZnMiLCJjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyIiwiVUlEJDMiLCJuYW1lQ2FjaGUiLCJQcm9ncmFtIiwiZGVmYXVsdFZlcnRleFNyYyIsImRlZmF1bHRGcmFnbWVudFNyYyIsImdldFNoYWRlclByZWNpc2lvbkZvcm1hdCIsInNoYWRlckZyYWdtZW50IiwiSElHSF9GTE9BVCIsImdldE1heEZyYWdtZW50UHJlY2lzaW9uIiwiZXh0cmFjdERhdGEiLCJnbFByb2dyYW1zIiwiZ2V0QXR0cmlidXRlRGF0YSIsInVuaWZvcm1EYXRhIiwiZ2V0VW5pZm9ybURhdGEiLCJhdHRyaWJ1dGVzQXJyYXkiLCJ0b3RhbEF0dHJpYnV0ZXMiLCJBQ1RJVkVfQVRUUklCVVRFUyIsImF0dHJpYkRhdGEiLCJnZXRBY3RpdmVBdHRyaWIiLCJzb3J0IiwidG90YWxVbmlmb3JtcyIsIkFDVElWRV9VTklGT1JNUyIsImdldEFjdGl2ZVVuaWZvcm0iLCJtYXRjaCIsIlByb2dyYW1DYWNoZSIsIlNoYWRlciIsInVuaWZvcm1Hcm91cCIsImNoZWNrVW5pZm9ybUV4aXN0cyIsIlN0YXRlIiwiYmxlbmRNb2RlIiwicG9seWdvbk9mZnNldCIsImJsZW5kIiwiZGVwdGhNYXNrIiwiX2JsZW5kTW9kZSIsIl9wb2x5Z29uT2Zmc2V0IiwiY2xvY2t3aXNlRnJvbnRGYWNlIiwiY3VsbGluZyIsImZvcjJkIiwiZGVwdGhUZXN0IiwiRmlsdGVyIiwiZW5hYmxlZCIsImFUZXh0dXJlQ29vcmQiLCJmaWx0ZXJNYW5hZ2VyIiwiX2N1cnJlbnRTdGF0ZSIsInRlbXBNYXQiLCJUZXh0dXJlTWF0cml4IiwiY2xhbXBNYXJnaW4iLCJtYXBDb29yZCIsInVDbGFtcEZyYW1lIiwidUNsYW1wT2Zmc2V0IiwiX3RleHR1cmVJRCIsImNsYW1wT2Zmc2V0IiwiaXNTaW1wbGUiLCJtdWx0aXBseVV2cyIsIm1hdCIsInR4IiwidHkiLCJmb3JjZVVwZGF0ZSIsImFwcGVuZCIsInRleEJhc2UiLCJtYXJnaW4iLCJTcHJpdGVNYXNrRmlsdGVyIiwibWFza01hdHJpeCIsInJlbmRlcmFibGUiLCJtYXNrU3ByaXRlIiwibnBtQWxwaGEiLCJvdGhlck1hdHJpeCIsImFscGhhIiwid29ybGRBbHBoYSIsIm1hc2tDbGFtcCIsIk1hc2tTeXN0ZW0iLCJlbmFibGVTY2lzc29yIiwiYWxwaGFNYXNrUG9vbCIsIm1hc2tEYXRhUG9vbCIsImFscGhhTWFza0luZGV4Iiwic2V0TWFza1N0YWNrIiwic2Npc3NvciIsIm1hc2tEYXRhT3JUYXJnZXQiLCJtYXNrRGF0YSIsImRldGVjdCIsInB1c2hTcHJpdGVNYXNrIiwicG9wU3ByaXRlTWFzayIsImlzU3ByaXRlIiwiaXNGYXN0UmVjdCIsInJvdFgiLCJhdGFuMiIsInJvdFhZIiwiUEkiLCJhbHBoYU1hc2tGaWx0ZXIiLCJzdGFzaEZpbHRlckFyZWEiLCJBYnN0cmFjdE1hc2tTeXN0ZW0iLCJnbENvbnN0IiwiZ2V0U3RhY2tMZW5ndGgiLCJjdXJTdGFja0xlbiIsIm5ld1N0YWNrTGVuIiwiZGlzYWJsZSIsImVuYWJsZSIsIl91c2VDdXJyZW50IiwiU2Npc3NvclN5c3RlbSIsIldlYkdMUmVuZGVyaW5nQ29udGV4dCIsIlNDSVNTT1JfVEVTVCIsInByZXZEYXRhIiwiYm91bmRzIiwic3giLCJzeSIsIlN0ZW5jaWxTeXN0ZW0iLCJTVEVOQ0lMX1RFU1QiLCJwcmV2TWFza0NvdW50IiwiY29sb3JNYXNrIiwic3RlbmNpbEZ1bmMiLCJFUVVBTCIsIl9nZXRCaXR3aXNlTWFzayIsInN0ZW5jaWxPcCIsIktFRVAiLCJJTkNSIiwiYmF0Y2giLCJTVEVOQ0lMX0JVRkZFUl9CSVQiLCJjbGVhclN0ZW5jaWwiLCJERUNSIiwiUHJvamVjdGlvblN5c3RlbSIsImRlZmF1bHRGcmFtZSIsInByb2plY3Rpb25NYXRyaXgiLCJyb290IiwiY2FsY3VsYXRlUHJvamVjdGlvbiIsInN5bmNVbmlmb3JtR3JvdXAiLCJnbG9iYWxzIiwiX2Rlc3RpbmF0aW9uRnJhbWUiLCJfcmVzb2x1dGlvbiIsInBtIiwic2lnbiIsInNldFRyYW5zZm9ybSIsIl9tYXRyaXgiLCJ0ZW1wUmVjdDIiLCJSZW5kZXJUZXh0dXJlU3lzdGVtIiwiX2JhY2tncm91bmRDb2xvclJnYmEiLCJkZWZhdWx0TWFza1N0YWNrIiwidmlld3BvcnRGcmFtZSIsInNjcmVlbiIsImNsZWFyTWFzayIsIklHTFVuaWZvcm1EYXRhIiwiR0xQcm9ncmFtIiwidW5pZm9ybUdyb3VwcyIsIlVJRCQ0IiwiZGVmYXVsdFN5bmNEYXRhIiwidGV4dHVyZUNvdW50IiwiU2hhZGVyU3lzdGVtIiwic3lzdGVtQ2hlY2siLCJjYWNoZSIsImZ1bmMiLCJGdW5jdGlvbiIsInVuc2FmZUV2YWxTdXBwb3J0ZWQiLCJkb250U3luYyIsImdsUHJvZ3JhbSIsImdlbmVyYXRlU2hhZGVyIiwic2V0VW5pZm9ybXMiLCJzeW5jRGF0YSIsImdldGdsUHJvZ3JhbSIsImNyZWF0ZVN5bmNHcm91cHMiLCJmdW5jRnJhZ21lbnRzIiwicGFyc2VkIiwidGVtcGxhdGUiLCJnZW5lcmF0ZVVuaWZvcm1zU3luYyIsImF0dHJpYk1hcCIsInNoYWRlclByb2dyYW0iLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJTdGF0ZVN5c3RlbSIsIl9ibGVuZEVxIiwic2V0QmxlbmQiLCJzZXRPZmZzZXQiLCJzZXRDdWxsRmFjZSIsInNldERlcHRoVGVzdCIsInNldEZyb250RmFjZSIsInNldERlcHRoTWFzayIsImNoZWNrcyIsImRlZmF1bHRTdGF0ZSIsImJsZW5kTW9kZXMiLCJPTkUiLCJPTkVfTUlOVVNfU1JDX0FMUEhBIiwiRFNUX0NPTE9SIiwiT05FX01JTlVTX1NSQ19DT0xPUiIsIlNSQ19BTFBIQSIsIkRTVF9BTFBIQSIsIlpFUk8iLCJPTkVfTUlOVVNfRFNUX0FMUEhBIiwiRlVOQ19SRVZFUlNFX1NVQlRSQUNUIiwiRlVOQ19BREQiLCJtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkiLCJkaWZmIiwiZm9yY2VTdGF0ZSIsInVwZGF0ZUNoZWNrIiwiY2hlY2tCbGVuZE1vZGUiLCJCTEVORCIsImNoZWNrUG9seWdvbk9mZnNldCIsIlBPTFlHT05fT0ZGU0VUX0ZJTEwiLCJERVBUSF9URVNUIiwiQ1VMTF9GQUNFIiwiZnJvbnRGYWNlIiwic2V0QmxlbmRNb2RlIiwibW9kZSIsImJsZW5kRnVuYyIsImJsZW5kRnVuY1NlcGFyYXRlIiwiYmxlbmRFcXVhdGlvblNlcGFyYXRlIiwic2V0UG9seWdvbk9mZnNldCIsIlVOUEFDS19GTElQX1lfV0VCR0wiLCJzeXN0ZW0iLCJUZXh0dXJlR0NTeXN0ZW0iLCJjaGVja0NvdW50IiwibWF4SWRsZSIsImNoZWNrQ291bnRNYXgiLCJydW4iLCJ0bSIsIm1hbmFnZWRUZXh0dXJlcyIsIndhc1JlbW92ZWQiLCJkZXN0cm95VGV4dHVyZSIsInVubG9hZCIsImRpc3BsYXlPYmplY3QiLCJjaGlsZHJlbiIsIkdMVGV4dHVyZSIsIlRleHR1cmVTeXN0ZW0iLCJjdXJyZW50TG9jYXRpb24iLCJfdW5rbm93bkJvdW5kVGV4dHVyZXMiLCJ1bmtub3duVGV4dHVyZSIsImdldFBhcmFtZXRlciIsIk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTIiwiZW1wdHlUZXh0dXJlcyIsImVtcHR5VGV4dHVyZTJEIiwiYmluZFRleHR1cmUiLCJSR0JBIiwiVU5TSUdORURfQllURSIsIlRFWFRVUkVfQ1VCRV9NQVAiLCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1giLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwidGV4dHVyZUdDIiwiaW5pdFRleHR1cmUiLCJhY3RpdmVUZXh0dXJlIiwiVEVYVFVSRTAiLCJ1cGRhdGVUZXh0dXJlIiwiaW5pdFRleHR1cmVUeXBlIiwiUkdCQTMyRiIsIkhBTEZfRkxPQVQiLCJSR0JBMTZGIiwidXBkYXRlVGV4dHVyZVN0eWxlIiwic2tpcFJlbW92ZSIsImRlbGV0ZVRleHR1cmUiLCJyZW1vdmVJdGVtcyIsImdlbmVyYXRlTWlwbWFwIiwiVEVYVFVSRV9XUkFQX1MiLCJURVhUVVJFX1dSQVBfVCIsIkxJTkVBUl9NSVBNQVBfTElORUFSIiwiTkVBUkVTVF9NSVBNQVBfTkVBUkVTVCIsImFuaXNvdHJvcGljRXh0IiwibGV2ZWwiLCJNQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJ0ZXhQYXJhbWV0ZXJmIiwiVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJfc3lzdGVtcyIsInRlbXBNYXRyaXgkMSIsIkFic3RyYWN0UmVuZGVyZXIiLCJ1c2VDb250ZXh0QWxwaGEiLCJhdXRvRGVuc2l0eSIsInByZXNlcnZlRHJhd2luZ0J1ZmZlciIsImNsZWFyQmVmb3JlUmVuZGVyIiwiX2JhY2tncm91bmRDb2xvciIsIl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmciLCJiYWNrZ3JvdW5kQ29sb3IiLCJiYWNrZ3JvdW5kQWxwaGEiLCJ0cmFuc3BhcmVudCIsIl9sYXN0T2JqZWN0UmVuZGVyZWQiLCJwbHVnaW5zIiwiaW5pdFBsdWdpbnMiLCJzdGF0aWNNYXAiLCJvIiwic2NyZWVuV2lkdGgiLCJzY3JlZW5IZWlnaHQiLCJnZW5lcmF0ZVRleHR1cmUiLCJyZWdpb24iLCJnZXRMb2NhbEJvdW5kcyIsInNraXBVcGRhdGVUcmFuc2Zvcm0iLCJwYXJlbnQiLCJyZW1vdmVWaWV3IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwidGhpc0FueSIsIl90ZW1wRGlzcGxheU9iamVjdFBhcmVudCIsImhleDJzdHJpbmciLCJoZXgycmdiIiwiUmVuZGVyZXIiLCJwcmVyZW5kZXIiLCJhZGRTeXN0ZW0iLCJfX3BsdWdpbnMiLCJhbnRpYWxpYXMiLCJwcmVtdWx0aXBsaWVkQWxwaGEiLCJwb3dlclByZWZlcmVuY2UiLCJzYXlIZWxsbyIsImlzV2ViR0xTdXBwb3J0ZWQiLCJDbGFzc1JlZiIsImlzTG9zdCIsImNhY2hlUGFyZW50IiwiZW5hYmxlVGVtcFBhcmVudCIsInVwZGF0ZVRyYW5zZm9ybSIsImRpc2FibGVUZW1wUGFyZW50IiwiZXh0cmFjdCIsInJlZ2lzdGVyUGx1Z2luIiwicGx1Z2luTmFtZSIsImN0b3IiLCJhdXRvRGV0ZWN0UmVuZGVyZXIiLCJkZWZhdWx0VmVydGV4JDIiLCJkZWZhdWx0RmlsdGVyVmVydGV4IiwiQmF0Y2hEcmF3Q2FsbCIsIkJhdGNoVGV4dHVyZUFycmF5IiwiVmlld2FibGVCdWZmZXIiLCJzaXplT3JCdWZmZXIiLCJyYXdCaW5hcnlEYXRhIiwidWludDMyVmlldyIsImZsb2F0MzJWaWV3IiwiX2ludDhWaWV3IiwiSW50OEFycmF5IiwiX3VpbnQ4VmlldyIsIl9pbnQxNlZpZXciLCJJbnQxNkFycmF5IiwiX3VpbnQxNlZpZXciLCJfaW50MzJWaWV3Iiwic2l6ZU9mIiwiQWJzdHJhY3RCYXRjaFJlbmRlcmVyIiwic2hhZGVyR2VuZXJhdG9yIiwiZ2VvbWV0cnlDbGFzcyIsInZlcnRleFNpemUiLCJfdmVydGV4Q291bnQiLCJfaW5kZXhDb3VudCIsIl9idWZmZXJlZEVsZW1lbnRzIiwiX2J1ZmZlcmVkVGV4dHVyZXMiLCJfYnVmZmVyU2l6ZSIsIl9zaGFkZXIiLCJfcGFja2VkR2VvbWV0cmllcyIsIl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplIiwiX2ZsdXNoSWQiLCJfYUJ1ZmZlcnMiLCJfaUJ1ZmZlcnMiLCJNQVhfVEVYVFVSRVMiLCJvblByZXJlbmRlciIsIl9kY0luZGV4IiwiX2FJbmRleCIsIl9pSW5kZXgiLCJfYXR0cmlidXRlQnVmZmVyIiwiX2luZGV4QnVmZmVyIiwiX3RlbXBCb3VuZFRleHR1cmVzIiwiaW5pdEZsdXNoQnVmZmVycyIsIl9kcmF3Q2FsbFBvb2wiLCJfdGV4dHVyZUFycmF5UG9vbCIsIk1BWF9TUFJJVEVTIiwiTUFYX1RBIiwidmVydGV4RGF0YSIsImluZGljZXMiLCJidWlsZFRleHR1cmVzQW5kRHJhd0NhbGxzIiwidGV4dHVyZUFycmF5cyIsInRvdWNoIiwiVElDSyIsImNvdW50VGV4QXJyYXlzIiwiYnVpbGREcmF3Q2FsbHMiLCJmaW5pc2giLCJkcmF3Q2FsbHMiLCJkY0luZGV4IiwiYUluZGV4IiwiaUluZGV4IiwiZHJhd0NhbGwiLCJzcHJpdGVCbGVuZE1vZGUiLCJwcmVtdWx0aXBseUJsZW5kTW9kZSIsInBhY2tJbnRlcmxlYXZlZEdlb21ldHJ5IiwiYmluZEFuZENsZWFyVGV4QXJyYXkiLCJ0ZXh0dXJlU3lzdGVtIiwidXBkYXRlR2VvbWV0cnkiLCJwYWNrZWRHZW9tZXRyaWVzIiwiYXR0cmlidXRlQnVmZmVyIiwiX2J1ZmZlciIsImRyYXdCYXRjaGVzIiwiZGNDb3VudCIsImN1clRleEFycmF5IiwiX2IiLCJnZXRBdHRyaWJ1dGVCdWZmZXIiLCJnZXRJbmRleEJ1ZmZlciIsInJvdW5kZWRQMiIsInJvdW5kZWRTaXplSW5kZXgiLCJsb2cyIiwicm91bmRlZFNpemUiLCJwYWNrZWRWZXJ0aWNlcyIsImluZGljaWVzIiwidGV4dHVyZUlkIiwiYXJnYiIsInByZW11bHRpcGx5VGludCIsIl90aW50UkdCIiwiQmF0Y2hTaGFkZXJHZW5lcmF0b3IiLCJwcm9ncmFtQ2FjaGUiLCJkZWZhdWx0R3JvdXBDYWNoZSIsInNhbXBsZVZhbHVlcyIsInVTYW1wbGVycyIsImdlbmVyYXRlU2FtcGxlU3JjIiwidGludCIsInRyYW5zbGF0aW9uTWF0cml4IiwiZGVmYXVsdCIsIkJhdGNoR2VvbWV0cnkiLCJkZWZhdWx0VmVydGV4JDMiLCJkZWZhdWx0RnJhZ21lbnQkMiIsIkJhdGNoUGx1Z2luRmFjdG9yeSIsInZlcnRleCIsImZyYWdtZW50IiwiQmF0Y2hQbHVnaW4iLCJCYXRjaFJlbmRlcmVyIiwiX2xvb3BfMSIsInN5c3RlbXMiLCJfbG9vcF8yIiwiX25vb3AiLCJlYWNoU2VyaWVzIiwiaXRlcmF0b3IiLCJjYWxsYmFjayIsImRlZmVyTmV4dCIsIm5leHQiLCJlcnIiLCJzZXRUaW1lb3V0Iiwib25seU9uY2UiLCJmbiIsImNhbGxGbiIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwicHJvcHMiLCJkZXNjcmlwdG9yIiwid3JpdGFibGUiLCJfY3JlYXRlQ2xhc3MiLCJDb25zdHJ1Y3RvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInVzZVhkciIsIndpbmRvdyIsIlhEb21haW5SZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJ0ZW1wQW5jaG9yIiwiX25vb3AkMSIsIl9mbGFncyIsIl9zZXRGbGFnIiwiU1RBVFVTX0ZMQUdTIiwiREFUQV9VUkwiLCJfZ2V0RXh0ZW5zaW9uIiwidGltZW91dCIsImxvYWRUeXBlIiwiX2RldGVybWluZUxvYWRUeXBlIiwieGhyVHlwZSIsIm1ldGFkYXRhIiwieGhyIiwiVFlQRSIsIlVOS05PV04iLCJwcm9ncmVzc0NodW5rIiwiX2RlcXVldWUiLCJfb25Mb2FkQmluZGluZyIsIl9lbGVtZW50VGltZXIiLCJfYm91bmRDb21wbGV0ZSIsIl9ib3VuZE9uRXJyb3IiLCJfYm91bmRPblByb2dyZXNzIiwiX29uUHJvZ3Jlc3MiLCJfYm91bmRPblRpbWVvdXQiLCJfb25UaW1lb3V0IiwiX2JvdW5kWGhyT25FcnJvciIsIl94aHJPbkVycm9yIiwiX2JvdW5kWGhyT25UaW1lb3V0IiwiX3hock9uVGltZW91dCIsIl9ib3VuZFhock9uQWJvcnQiLCJfeGhyT25BYm9ydCIsIl9ib3VuZFhock9uTG9hZCIsIl94aHJPbkxvYWQiLCJvblN0YXJ0Iiwib25Qcm9ncmVzcyIsIm9uQ29tcGxldGUiLCJvbkFmdGVyTWlkZGxld2FyZSIsInNldEV4dGVuc2lvbkxvYWRUeXBlIiwiZXh0bmFtZSIsInNldEV4dE1hcCIsIl9sb2FkVHlwZU1hcCIsInNldEV4dGVuc2lvblhoclR5cGUiLCJfeGhyVHlwZU1hcCIsIl9wcm90byIsIl9jbGVhckV2ZW50cyIsIl9maW5pc2giLCJhYm9ydCIsIm1lc3NhZ2UiLCJ4ZHIiLCJFTVBUWV9HSUYiLCJmaXJzdENoaWxkIiwiY2IiLCJpc0xvYWRpbmciLCJpc0NvbXBsZXRlIiwiTE9BRElORyIsImRpc3BhdGNoIiwiX2RldGVybWluZUNyb3NzT3JpZ2luIiwiTE9BRF9UWVBFIiwiSU1BR0UiLCJfbG9hZEVsZW1lbnQiLCJBVURJTyIsIl9sb2FkU291cmNlRWxlbWVudCIsIlZJREVPIiwiWEhSIiwiX2xvYWRYZHIiLCJfbG9hZFhociIsIl9oYXNGbGFnIiwiY2xlYXJUaW1lb3V0Iiwib250aW1lb3V0Iiwib25wcm9ncmVzcyIsIkNPTVBMRVRFIiwibG9hZEVsZW1lbnQiLCJza2lwU291cmNlIiwiQXVkaW8iLCJuYXZpZ2F0b3IiLCJpc0NvY29vbkpTIiwibWltZVR5cGVzIiwibWltZVR5cGUiLCJfY3JlYXRlU291cmNlIiwiX21pbWVUeXBlcyIsIl9kZXRlcm1pbmVYaHJUeXBlIiwib3BlbiIsIlhIUl9SRVNQT05TRV9UWVBFIiwiSlNPTiIsIkRPQ1VNRU5UIiwicmVzcG9uc2VUeXBlIiwiVEVYVCIsInNlbmQiLCJub2RlTmFtZSIsImxlbmd0aENvbXB1dGFibGUiLCJsb2FkZWQiLCJ0b3RhbCIsInJlcVR5cGUiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwidGV4dCIsInJlc3BvbnNlVGV4dCIsIkJVRkZFUiIsInBhcnNlIiwiRE9NUGFyc2VyIiwiZG9tcGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiZGl2IiwiaW5uZXJIVE1MIiwiWE1MIiwicmVzcG9uc2UiLCJyZXNwb25zZVVSTCIsIm9yaWdpbiIsImhyZWYiLCJzYW1lUG9ydCIsInN0cmljdE1vZGUiLCJwb3J0IiwicHJvdG9jb2wiLCJob3N0IiwiaG9zdG5hbWUiLCJpc0RhdGFVcmwiLCJzbGFzaEluZGV4IiwicXVlcnlTdGFydCIsImhhc2hTdGFydCIsIl9nZXRNaW1lRnJvbVhoclR5cGUiLCJCTE9CIiwiREVGQVVMVCIsInZhbCIsIk5PTkUiLCJnaWYiLCJwbmciLCJibXAiLCJqcGciLCJqcGVnIiwidGlmIiwidGlmZiIsIndlYnAiLCJ0Z2EiLCJtcDMiLCJvZ2ciLCJ3YXYiLCJtcDQiLCJ3ZWJtIiwieGh0bWwiLCJodG1sIiwiaHRtIiwieG1sIiwidG14IiwidHN4IiwianNvbiIsInR4dCIsInR0ZiIsIm90ZiIsIlVybCIsIlVSTCIsIndlYmtpdFVSTCIsImNhY2hpbmciLCJwYXJzaW5nIiwiQmxvYiIsImNyZWF0ZU9iamVjdFVSTCIsImJsb2IiLCJyZXZva2VPYmplY3RVUkwiLCJnZXRSZXNwb25zZUhlYWRlciIsImlueCIsImJ5dGVidWZmZXIiLCJlbmNvZGVkQ2hhckluZGV4ZXMiLCJqbngiLCJjaGFyQ29kZUF0IiwiX2pueCIsImNoYXJBdCIsImVuY29kZUJpbmFyeSIsInJneEV4dHJhY3RVcmxIYXNoIiwiTG9hZGVyIiwiYmFzZVVybCIsImNvbmN1cnJlbmN5IiwicHJvZ3Jlc3MiLCJsb2FkaW5nIiwiZGVmYXVsdFF1ZXJ5U3RyaW5nIiwiX2JlZm9yZU1pZGRsZXdhcmUiLCJfYWZ0ZXJNaWRkbGV3YXJlIiwiX3Jlc291cmNlc1BhcnNpbmciLCJfYm91bmRMb2FkUmVzb3VyY2UiLCJfbG9hZFJlc291cmNlIiwiX3F1ZXVlIiwid29ya2VyIiwid29ya2VycyIsInEiLCJfdGFza3MiLCJzYXR1cmF0ZWQiLCJ1bnNhdHVyYXRlZCIsImVtcHR5IiwiZHJhaW4iLCJzdGFydGVkIiwiX2luc2VydCIsImtpbGwiLCJ1bnNoaWZ0IiwidGFzayIsIl9uZXh0IiwicnVubmluZyIsImlkbGUiLCJyZXN1bWUiLCJpbnNlcnRBdEZyb250IiwicXVldWUiLCJvbkxvYWQiLCJfZGVmYXVsdEJlZm9yZU1pZGRsZXdhcmUiLCJwcmUiLCJfZGVmYXVsdEFmdGVyTWlkZGxld2FyZSIsInVzZSIsInBhcmVudFJlc291cmNlIiwiX3ByZXBhcmVVcmwiLCJpbmNvbXBsZXRlQ2hpbGRyZW4iLCJfaTIiLCJlYWNoQ2h1bmsiLCJfaTMiLCJrIiwiZGV0YWNoIiwiX29uU3RhcnQiLCJfb25Db21wbGV0ZSIsImNodW5rIiwicGFyc2VkVXJsIiwicGF0aCIsImhhc2giLCJkZXF1ZXVlIiwiX3RoaXMyIiwiX29uTG9hZCIsIl90aGlzMyIsIlRleHR1cmVMb2FkZXIiLCJjYXRjaCIsIl9wbHVnaW5zIiwicGx1Z2luIiwiX3Byb3RlY3RlZCIsInNoYXJlZCIsIl9zaGFyZWQiLCJBcHBMb2FkZXJQbHVnaW4iLCJpbml0Iiwic2hhcmVkTG9hZGVyIiwibG9hZGVyIiwiTG9hZGVyUmVzb3VyY2UiLCJTSEFQRVMiLCJQSV8yIiwiUkFEX1RPX0RFRyIsIkRFR19UT19SQUQiLCJSZWN0YW5nbGUiLCJSRUNUIiwicmVjdGFuZ2xlIiwiY29udGFpbnMiLCJwYWRkaW5nWCIsInBhZGRpbmdZIiwiZXBzIiwiZW5sYXJnZSIsIkNpcmNsZSIsInJhZGl1cyIsIkNJUkMiLCJyMiIsImR4IiwiZHkiLCJFbGxpcHNlIiwiaGFsZldpZHRoIiwiaGFsZkhlaWdodCIsIkVMSVAiLCJub3JteCIsIm5vcm15IiwiUG9seWdvbiIsInBvaW50cyIsImZsYXQiLCJpbCIsIlBPTFkiLCJjbG9zZVN0cm9rZSIsInBvbHlnb24iLCJpbnNpZGUiLCJ4aSIsInlpIiwieGoiLCJ5aiIsInJlZHVjZSIsInBvaW50c0Rlc2MiLCJjdXJyZW50UG9pbnQiLCJSb3VuZGVkUmVjdGFuZ2xlIiwiUlJFQyIsInJhZGl1czIiLCJQb2ludCIsImVxdWFscyIsIk9ic2VydmFibGVQb2ludCIsInNjb3BlIiwiX3giLCJfeSIsIk1hdHJpeCIsImZyb21BcnJheSIsInRvQXJyYXkiLCJ0cmFuc3Bvc2UiLCJwb3MiLCJuZXdQb3MiLCJhcHBseUludmVyc2UiLCJhbmdsZSIsImNvcyIsInNpbiIsImExIiwiYzEiLCJ0eDEiLCJiMSIsImQxIiwicGl2b3RYIiwicGl2b3RZIiwic2NhbGVYIiwic2NhbGVZIiwicm90YXRpb24iLCJza2V3WCIsInNrZXdZIiwiZGVjb21wb3NlIiwicGl2b3QiLCJkZWx0YSIsImFicyIsInNrZXciLCJzcXJ0IiwicG9zaXRpb24iLCJuIiwidXgiLCJ1eSIsInZ4IiwidnkiLCJyb3RhdGlvbkNheWxleSIsInJvdGF0aW9uTWF0cmljZXMiLCJzaWdudW0iLCJyb3ciLCJfdXgiLCJfdXkiLCJfdngiLCJfdnkiLCJncm91cEQ4IiwiRSIsIlNFIiwiUyIsIlNXIiwiVyIsIk5XIiwiTiIsIk5FIiwiTUlSUk9SX1ZFUlRJQ0FMIiwiTUFJTl9ESUFHT05BTCIsIk1JUlJPUl9IT1JJWk9OVEFMIiwiUkVWRVJTRV9ESUFHT05BTCIsInVYIiwiaW5kIiwidVkiLCJ2WCIsInZZIiwiaW52Iiwicm90YXRpb25TZWNvbmQiLCJyb3RhdGlvbkZpcnN0Iiwic3ViIiwicm90YXRlMTgwIiwiaXNWZXJ0aWNhbCIsImJ5RGlyZWN0aW9uIiwibWF0cml4QXBwZW5kUm90YXRpb25JbnYiLCJUcmFuc2Zvcm0iLCJsb2NhbFRyYW5zZm9ybSIsIm9uQ2hhbmdlIiwidXBkYXRlU2tldyIsIl9yb3RhdGlvbiIsIl9jeCIsIl9zeCIsIl9jeSIsIl9zeSIsIl9sb2NhbElEIiwiX2N1cnJlbnRMb2NhbElEIiwiX3dvcmxkSUQiLCJfcGFyZW50SUQiLCJ1cGRhdGVMb2NhbFRyYW5zZm9ybSIsInBhcmVudFRyYW5zZm9ybSIsInB0Iiwid3QiLCJzZXRGcm9tTWF0cml4IiwiSURFTlRJVFkiLCJSdW5uZXIiLCJfbmFtZSIsIl9hbGlhc0NvdW50IiwiYTAiLCJhMiIsImEzIiwiYTQiLCJhNSIsImE2IiwiYTciLCJlbnN1cmVOb25BbGlhc2VkSXRlbXMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiYXBwbGVJcGhvbmUiLCJhcHBsZUlwb2QiLCJhcHBsZVRhYmxldCIsImFwcGxlVW5pdmVyc2FsIiwiYW5kcm9pZFBob25lIiwiYW5kcm9pZFRhYmxldCIsImFtYXpvblBob25lIiwiYW1hem9uVGFibGV0Iiwid2luZG93c1Bob25lIiwid2luZG93c1RhYmxldCIsIm90aGVyQmxhY2tCZXJyeSIsIm90aGVyQmxhY2tCZXJyeTEwIiwib3RoZXJPcGVyYSIsIm90aGVyQ2hyb21lIiwib3RoZXJGaXJlZm94IiwiaXNBcHBsZVRhYmxldE9uSW9zMTMiLCJwbGF0Zm9ybSIsIm1heFRvdWNoUG9pbnRzIiwiTVNTdHJlYW0iLCJwYXJhbSIsIm5hdiIsInVzZXJBZ2VudCIsInRtcCIsInJlZ2V4IiwiY3JlYXRlTWF0Y2giLCJhcHBsZSIsInBob25lIiwiaXBvZCIsInRhYmxldCIsInVuaXZlcnNhbCIsImRldmljZSIsImFtYXpvbiIsImFuZHJvaWQiLCJ3aW5kb3dzIiwib3RoZXIiLCJibGFja2JlcnJ5IiwiYmxhY2tiZXJyeTEwIiwib3BlcmEiLCJmaXJlZm94IiwiY2hyb21lIiwiYW55Iiwic2V0dGluZ3MiLCJNSVBNQVBfVEVYVFVSRVMiLCJBTklTT1RST1BJQ19MRVZFTCIsIlJFU09MVVRJT04iLCJGSUxURVJfUkVTT0xVVElPTiIsIlNQUklURV9NQVhfVEVYVFVSRVMiLCJhbGxvd01heCIsInBhcnNlSW50IiwibWF4UmVjb21tZW5kZWRUZXh0dXJlcyIsIlNQUklURV9CQVRDSF9TSVpFIiwiUkVOREVSX09QVElPTlMiLCJHQ19NT0RFIiwiR0NfTUFYX0lETEUiLCJHQ19NQVhfQ0hFQ0tfQ09VTlQiLCJXUkFQX01PREUiLCJTQ0FMRV9NT0RFIiwiUFJFQ0lTSU9OX1ZFUlRFWCIsIlBSRUNJU0lPTl9GUkFHTUVOVCIsIkNBTl9VUExPQURfU0FNRV9CVUZGRVIiLCJDUkVBVEVfSU1BR0VfQklUTUFQIiwiUk9VTkRfUElYRUxTIiwiVVBEQVRFX1BSSU9SSVRZIiwiVGlja2VyTGlzdGVuZXIiLCJwcmlvcml0eSIsInByZXZpb3VzIiwiX2Rlc3Ryb3llZCIsImRlbHRhVGltZSIsInJlZGlyZWN0IiwiY29ubmVjdCIsImhhcmQiLCJUaWNrZXIiLCJhdXRvU3RhcnQiLCJsYXN0VGltZSIsInNwZWVkIiwiX3JlcXVlc3RJZCIsIl9tYXhFbGFwc2VkTVMiLCJfbWluRWxhcHNlZE1TIiwiX2xhc3RGcmFtZSIsIl9oZWFkIiwiSW5maW5pdHkiLCJkZWx0YU1TIiwiX3RpY2siLCJ0aW1lIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiX3JlcXVlc3RJZk5lZWRlZCIsInBlcmZvcm1hbmNlIiwibm93IiwiX2NhbmNlbElmTmVlZGVkIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJfc3RhcnRJZlBvc3NpYmxlIiwiTk9STUFMIiwiX2FkZExpc3RlbmVyIiwiYWRkT25jZSIsImxpc3RlbmVyIiwiaGVhZCIsImZwcyIsIm1pbkZQUyIsIm1heEZQUyIsIm1pbkZQTVMiLCJfc3lzdGVtIiwiVGlja2VyUGx1Z2luIiwic2hhcmVkVGlja2VyIiwidGlja2VyIiwiX3RpY2tlciIsIkxPVyIsIm9sZFRpY2tlciIsInN1cHBvcnRlZCIsInNhaWRIZWxsbyIsInNraXBIZWxsbyIsImFyZ3MiLCJsb2ciLCJjb250ZXh0T3B0aW9ucyIsImZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQiLCJzdWNjZXNzIiwiY3NzQ29sb3JOYW1lcyIsImFsaWNlYmx1ZSIsImFudGlxdWV3aGl0ZSIsImFxdWEiLCJhcXVhbWFyaW5lIiwiYXp1cmUiLCJiZWlnZSIsImJpc3F1ZSIsImJsYWNrIiwiYmxhbmNoZWRhbG1vbmQiLCJibHVlIiwiYmx1ZXZpb2xldCIsImJyb3duIiwiYnVybHl3b29kIiwiY2FkZXRibHVlIiwiY2hhcnRyZXVzZSIsImNob2NvbGF0ZSIsImNvcmFsIiwiY29ybmZsb3dlcmJsdWUiLCJjb3Juc2lsayIsImNyaW1zb24iLCJjeWFuIiwiZGFya2JsdWUiLCJkYXJrY3lhbiIsImRhcmtnb2xkZW5yb2QiLCJkYXJrZ3JheSIsImRhcmtncmVlbiIsImRhcmtncmV5IiwiZGFya2toYWtpIiwiZGFya21hZ2VudGEiLCJkYXJrb2xpdmVncmVlbiIsImRhcmtvcmFuZ2UiLCJkYXJrb3JjaGlkIiwiZGFya3JlZCIsImRhcmtzYWxtb24iLCJkYXJrc2VhZ3JlZW4iLCJkYXJrc2xhdGVibHVlIiwiZGFya3NsYXRlZ3JheSIsImRhcmtzbGF0ZWdyZXkiLCJkYXJrdHVycXVvaXNlIiwiZGFya3Zpb2xldCIsImRlZXBwaW5rIiwiZGVlcHNreWJsdWUiLCJkaW1ncmF5IiwiZGltZ3JleSIsImRvZGdlcmJsdWUiLCJmaXJlYnJpY2siLCJmbG9yYWx3aGl0ZSIsImZvcmVzdGdyZWVuIiwiZnVjaHNpYSIsImdhaW5zYm9ybyIsImdob3N0d2hpdGUiLCJnb2xkZW5yb2QiLCJnb2xkIiwiZ3JheSIsImdyZWVuIiwiZ3JlZW55ZWxsb3ciLCJncmV5IiwiaG9uZXlkZXciLCJob3RwaW5rIiwiaW5kaWFucmVkIiwiaW5kaWdvIiwiaXZvcnkiLCJraGFraSIsImxhdmVuZGVyYmx1c2giLCJsYXZlbmRlciIsImxhd25ncmVlbiIsImxlbW9uY2hpZmZvbiIsImxpZ2h0Ymx1ZSIsImxpZ2h0Y29yYWwiLCJsaWdodGN5YW4iLCJsaWdodGdvbGRlbnJvZHllbGxvdyIsImxpZ2h0Z3JheSIsImxpZ2h0Z3JlZW4iLCJsaWdodGdyZXkiLCJsaWdodHBpbmsiLCJsaWdodHNhbG1vbiIsImxpZ2h0c2VhZ3JlZW4iLCJsaWdodHNreWJsdWUiLCJsaWdodHNsYXRlZ3JheSIsImxpZ2h0c2xhdGVncmV5IiwibGlnaHRzdGVlbGJsdWUiLCJsaWdodHllbGxvdyIsImxpbWUiLCJsaW1lZ3JlZW4iLCJsaW5lbiIsIm1hZ2VudGEiLCJtYXJvb24iLCJtZWRpdW1hcXVhbWFyaW5lIiwibWVkaXVtYmx1ZSIsIm1lZGl1bW9yY2hpZCIsIm1lZGl1bXB1cnBsZSIsIm1lZGl1bXNlYWdyZWVuIiwibWVkaXVtc2xhdGVibHVlIiwibWVkaXVtc3ByaW5nZ3JlZW4iLCJtZWRpdW10dXJxdW9pc2UiLCJtZWRpdW12aW9sZXRyZWQiLCJtaWRuaWdodGJsdWUiLCJtaW50Y3JlYW0iLCJtaXN0eXJvc2UiLCJtb2NjYXNpbiIsIm5hdmFqb3doaXRlIiwibmF2eSIsIm9sZGxhY2UiLCJvbGl2ZSIsIm9saXZlZHJhYiIsIm9yYW5nZSIsIm9yYW5nZXJlZCIsIm9yY2hpZCIsInBhbGVnb2xkZW5yb2QiLCJwYWxlZ3JlZW4iLCJwYWxldHVycXVvaXNlIiwicGFsZXZpb2xldHJlZCIsInBhcGF5YXdoaXAiLCJwZWFjaHB1ZmYiLCJwZXJ1IiwicGluayIsInBsdW0iLCJwb3dkZXJibHVlIiwicHVycGxlIiwicmViZWNjYXB1cnBsZSIsInJlZCIsInJvc3licm93biIsInJveWFsYmx1ZSIsInNhZGRsZWJyb3duIiwic2FsbW9uIiwic2FuZHlicm93biIsInNlYWdyZWVuIiwic2Vhc2hlbGwiLCJzaWVubmEiLCJzaWx2ZXIiLCJza3libHVlIiwic2xhdGVibHVlIiwic2xhdGVncmF5Iiwic2xhdGVncmV5Iiwic25vdyIsInNwcmluZ2dyZWVuIiwic3RlZWxibHVlIiwidGFuIiwidGVhbCIsInRoaXN0bGUiLCJ0b21hdG8iLCJ0dXJxdW9pc2UiLCJ2aW9sZXQiLCJ3aGVhdCIsIndoaXRlIiwid2hpdGVzbW9rZSIsInllbGxvdyIsInllbGxvd2dyZWVuIiwiaGV4IiwiaGV4U3RyaW5nIiwic3RyaW5nMmhleCIsInN0cmluZyIsInJnYjJoZXgiLCJyZ2IiLCJucG0iLCJtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcyIsImNvcnJlY3RCbGVuZE1vZGUiLCJwcmVtdWx0aXBsaWVkIiwicHJlbXVsdGlwbHlSZ2JhIiwicHJlbXVsdGlwbHkiLCJHIiwiQiIsInByZW11bHRpcGx5VGludFRvUmdiYSIsImNyZWF0ZUluZGljZXNGb3JRdWFkcyIsIm91dEJ1ZmZlciIsInRvdGFsSW5kaWNlcyIsInN0YXJ0SWR4IiwicmVtb3ZlQ291bnQiLCJuZXh0VWlkIiwid2FybmluZ3MiLCJ2ZXJzaW9uIiwiaWdub3JlRGVwdGgiLCJzdGFjayIsImdyb3VwQ29sbGFwc2VkIiwiZ3JvdXBFbmQiLCJkZXN0cm95VGV4dHVyZUNhY2hlIiwiY2xlYXJUZXh0dXJlQ2FjaGUiLCJDYW52YXNSZW5kZXJUYXJnZXQiLCJjbGVhclJlY3QiLCJ0cmltQ2FudmFzIiwicGl4ZWxzIiwiZ2V0SW1hZ2VEYXRhIiwiREFUQV9VUkkiLCJkZWNvbXBvc2VEYXRhVXJpIiwiZGF0YVVyaSIsImRhdGFVcmlNYXRjaCIsIm1lZGlhVHlwZSIsInN1YlR5cGUiLCJjaGFyc2V0IiwiZW5jb2RpbmciLCJzaXplWCIsInNpemVZIiwiY2VsbFNpemUiLCJhY3RpdmVYIiwiYWN0aXZlWSIsInRhaWxMZW5ndGgiLCJhY3RpdmVJbmRleCIsImZvb2RJbmRleCIsImFjdGl2ZVRhaWxJbmRleGVzIiwic3RhZ2UiLCJDb250YWluZXIiLCJjZWxscyIsInhQb3MiLCJ5UG9zIiwiYWRkQ2hpbGQiLCJyYW5kb20iLCJpbmNsdWRlcyIsInBsYWNlRm9vZCIsInJlY3RHcmFwaGljIiwiR3JhcGhpY3MiLCJyZW1vdmVDaGlsZHJlbiIsImJlZ2luRmlsbCIsImxpbmVTdHlsZSIsImRyYXdSZWN0IiwiZW5kRmlsbCIsIlBJWEkiLCJHUklEX1NJWkUiLCJsYXN0Iiwic3RvcmVkRGVhdGhzIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImhhc1ByaW50ZWRTZXR0aW5ncyIsInN0YXJ0QnV0dG9uIiwiZ2V0RWxlbWVudEJ5SWQiLCJub21zIiwiU291bmQiLCJkZWFkIiwibW92ZSIsImFwcCIsIkFwcGxpY2F0aW9uIiwiZ3JpZCIsIkdyaWQiLCJhY3RpdmVLZXkiLCJzY29yZSIsImRlYXRocyIsImRlYXRoS2VlcCIsInNjb3JlS2VlcCIsImlzUmVzZXR0aW5nIiwiZGlyZWN0aW9uIiwiYm9keSIsIm9ua2V5ZG93biIsImFjdHVhbGx5UmVzZXQiLCJjbGFzc0xpc3QiLCJJTlRFUlZBTCIsIkdMT0JBTF9TUEVFRCIsInRpY2siLCJlbGFwc2VkIiwiZ2VuZXJhdGUiLCJkaXNwbGF5IiwiaW5uZXJUZXh0Iiwic2V0SXRlbSIsIlN0cmluZyIsIl9kZWx0YSIsImhhbmRsZU1vdmVtZW50IiwidXBkYXRlU2NvcmUiLCJvbmNsaWNrIiwiZWFyY3V0IiwiaG9sZUluZGljZXMiLCJkaW0iLCJtaW5YIiwibWluWSIsIm1heFgiLCJtYXhZIiwiaW52U2l6ZSIsImhhc0hvbGVzIiwib3V0ZXJMZW4iLCJvdXRlck5vZGUiLCJsaW5rZWRMaXN0IiwidHJpYW5nbGVzIiwicHJldiIsInN0ZWluZXIiLCJnZXRMZWZ0bW9zdCIsImNvbXBhcmVYIiwiZWxpbWluYXRlSG9sZSIsImZpbHRlclBvaW50cyIsImVsaW1pbmF0ZUhvbGVzIiwiZWFyY3V0TGlua2VkIiwiZW5kIiwiY2xvY2t3aXNlIiwic2lnbmVkQXJlYSIsImluc2VydE5vZGUiLCJyZW1vdmVOb2RlIiwiYWdhaW4iLCJhcmVhIiwiZWFyIiwicGFzcyIsInoiLCJ6T3JkZXIiLCJwcmV2WiIsIm5leHRaIiwidGFpbCIsIm51bU1lcmdlcyIsInBTaXplIiwicVNpemUiLCJpblNpemUiLCJzb3J0TGlua2VkIiwiaW5kZXhDdXJ2ZSIsImlzRWFySGFzaGVkIiwiaXNFYXIiLCJjdXJlTG9jYWxJbnRlcnNlY3Rpb25zIiwic3BsaXRFYXJjdXQiLCJwb2ludEluVHJpYW5nbGUiLCJtaW5UWCIsIm1pblRZIiwibWF4VFgiLCJtYXhUWSIsIm1pbloiLCJtYXhaIiwiaW50ZXJzZWN0cyIsImxvY2FsbHlJbnNpZGUiLCJpc1ZhbGlkRGlhZ29uYWwiLCJzcGxpdFBvbHlnb24iLCJob2xlIiwibSIsImh4IiwiaHkiLCJxeCIsIm14IiwibXkiLCJ0YW5NaW4iLCJzZWN0b3JDb250YWluc1NlY3RvciIsImZpbmRIb2xlQnJpZGdlIiwibGVmdG1vc3QiLCJheCIsImF5IiwiYngiLCJieSIsImN4IiwiY3kiLCJweCIsInB5IiwiaW50ZXJzZWN0c1BvbHlnb24iLCJtaWRkbGVJbnNpZGUiLCJwMSIsInAyIiwicTEiLCJxMiIsIm8xIiwibzIiLCJvMyIsIm80Iiwib25TZWdtZW50IiwibnVtIiwiTm9kZSIsImIyIiwiYW4iLCJicCIsInN1bSIsIm1vZHVsZSIsImV4cG9ydHMiLCJkZXZpYXRpb24iLCJwb2x5Z29uQXJlYSIsInRyaWFuZ2xlc0FyZWEiLCJmbGF0dGVuIiwiaG9sZXMiLCJkaW1lbnNpb25zIiwiaG9sZUluZGV4IiwiaGFzIiwiRXZlbnRzIiwiRUUiLCJhZGRMaXN0ZW5lciIsImVtaXR0ZXIiLCJUeXBlRXJyb3IiLCJldnQiLCJfZXZlbnRzIiwiX2V2ZW50c0NvdW50IiwiY2xlYXJFdmVudCIsImV2ZW50TmFtZXMiLCJldmVudHMiLCJuYW1lcyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImNvbmNhdCIsImxpc3RlbmVycyIsImhhbmRsZXJzIiwibCIsImVlIiwibGlzdGVuZXJDb3VudCIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwicHJlZml4ZWQiLCJfY2xhc3NDYWxsQ2hlY2siLCJNaW5pU2lnbmFsQmluZGluZyIsInRoaXNBcmciLCJfZm4iLCJfb25jZSIsIl90aGlzQXJnIiwiX3ByZXYiLCJfb3duZXIiLCJfYWRkTWluaVNpZ25hbEJpbmRpbmciLCJub2RlIiwiX3RhaWwiLCJNaW5pU2lnbmFsIiwiZXhpc3RzIiwicHJvcElzRW51bWVyYWJsZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwidG9PYmplY3QiLCJ0ZXN0MSIsImdldE93blByb3BlcnR5TmFtZXMiLCJ0ZXN0MiIsImZyb21DaGFyQ29kZSIsInRlc3QzIiwiZm9yRWFjaCIsImxldHRlciIsInNob3VsZFVzZU5hdGl2ZSIsInN5bWJvbHMiLCJ0byIsInMiLCJzdHIiLCJvcHRzIiwicGFyc2VyIiwibG9vc2UiLCJ1cmkiLCIkMCIsIiQxIiwiJDIiLCJfb3V0cHV0IiwiX2lucHV0IiwiX2ZpbHRlcnMiLCJkaXNjb25uZWN0IiwiZGVzdGluYXRpb24iLCJ1IiwiQSIsIkYiLCJDIiwic2V0UGFyYW1WYWx1ZSIsInNldFZhbHVlQXRUaW1lIiwiYXVkaW9Db250ZXh0IiwiZiIsIl9tZWRpYSIsIl9wYXVzZWQiLCJfbXV0ZWQiLCJfZWxhcHNlZCIsIl9pbnRlcm5hbFN0b3AiLCJfc3BlZWQiLCJyZWZyZXNoIiwiX3VwZGF0ZSIsIl92b2x1bWUiLCJfbG9vcCIsImxvb3AiLCJ2b2x1bWUiLCJtdXRlZCIsIl9nYWluIiwiZ2FpbiIsInJlZnJlc2hQYXVzZWQiLCJfcGF1c2VkUmVhbCIsIl9kdXJhdGlvbiIsIl9lbmQiLCJub2RlcyIsImNsb25lQnVmZmVyU291cmNlIiwiZHVyYXRpb24iLCJfbGFzdFVwZGF0ZSIsIl9ub3ciLCJvbmVuZGVkIiwibG9vcEVuZCIsImxvb3BTdGFydCIsIl9lbmFibGVkIiwiX3RvU2VjIiwiX3VwZGF0ZUxpc3RlbmVyIiwiX3Byb2dyZXNzIiwiXyIsImNyZWF0ZUJ1ZmZlclNvdXJjZSIsImNyZWF0ZUdhaW4iLCJjcmVhdGVBbmFseXNlciIsImJ1ZmZlclNvdXJjZSIsImFuYWx5c2VyIiwiX3NjcmlwdCIsImNyZWF0ZVNjcmlwdFByb2Nlc3NvciIsIkJVRkZFUl9TSVpFIiwic2NyaXB0IiwiYnVmZmVyU2l6ZSIsIl9ub2RlcyIsIl9kZWNvZGUiLCJfbG9hZFVybCIsImRlY29kZSIsImlzTG9hZGVkIiwiYXV0b1BsYXlTdGFydCIsIkF1ZGlvQ29udGV4dCIsImNyZWF0ZUR5bmFtaWNzQ29tcHJlc3NvciIsIl9jdHgiLCJfb2ZmbGluZUN0eCIsIk9mZmxpbmVBdWRpb0NvbnRleHQiLCJzYW1wbGVSYXRlIiwiX3VubG9ja2VkIiwiY29tcHJlc3NvciIsIl91bmxvY2siLCJwbGF5RW1wdHlTb3VuZCIsIndlYmtpdEF1ZGlvQ29udGV4dCIsIndlYmtpdE9mZmxpbmVBdWRpb0NvbnRleHQiLCJzdXNwZW5kIiwidG9nZ2xlTXV0ZSIsInRvZ2dsZVBhdXNlIiwiZGVjb2RlQXVkaW9EYXRhIiwiV2ViQXVkaW9NZWRpYSIsIldlYkF1ZGlvSW5zdGFuY2UiLCJXZWJBdWRpb05vZGVzIiwiV2ViQXVkaW9Db250ZXh0IiwiV2ViQXVkaW9VdGlscyIsIkVxdWFsaXplckZpbHRlciIsInVzZUxlZ2FjeSIsIkYzMiIsIkY2NCIsIkYxMjUiLCJGMjUwIiwiRjUwMCIsIkYxSyIsIkYySyIsIkY0SyIsIkY4SyIsIkYxNksiLCJjcmVhdGVCaXF1YWRGaWx0ZXIiLCJRIiwiZnJlcXVlbmN5IiwiYmFuZHMiLCJiYW5kc01hcCIsInNldEdhaW4iLCJnZXRHYWluIiwiRGlzdG9ydGlvbkZpbHRlciIsImNyZWF0ZVdhdmVTaGFwZXIiLCJfZGlzdG9ydGlvbiIsImFtb3VudCIsIl9hbW91bnQiLCJjdXJ2ZSIsIm92ZXJzYW1wbGUiLCJTdGVyZW9GaWx0ZXIiLCJjcmVhdGVTdGVyZW9QYW5uZXIiLCJjcmVhdGVQYW5uZXIiLCJwYW5uaW5nTW9kZWwiLCJfc3RlcmVvIiwiX3Bhbm5lciIsInBhbiIsIl9wYW4iLCJzZXRQb3NpdGlvbiIsIlJldmVyYkZpbHRlciIsIl9zZWNvbmRzIiwiX2NsYW1wIiwiX2RlY2F5IiwiX3JldmVyc2UiLCJfcmVidWlsZCIsImdldENoYW5uZWxEYXRhIiwicG93IiwiY3JlYXRlQ29udm9sdmVyIiwiTW9ub0ZpbHRlciIsImNyZWF0ZUNoYW5uZWxTcGxpdHRlciIsImNyZWF0ZUNoYW5uZWxNZXJnZXIiLCJfbWVyZ2VyIiwiVGVsZXBob25lRmlsdGVyIiwiUCIsIl9vblBsYXkiLCJfcGxheWluZyIsIl9vblBhdXNlIiwiY2xvbmVOb2RlIiwib25wbGF5Iiwib25wYXVzZSIsIl9zdGFydCIsIlBBRERJTkciLCJvbmxvYWRlZG1ldGFkYXRhIiwiX29uVXBkYXRlIiwiTyIsIkhUTUxBdWRpb01lZGlhIiwiSFRNTEF1ZGlvSW5zdGFuY2UiLCJIVE1MQXVkaW9Db250ZXh0IiwibTRhIiwib2dhIiwiY2FuUGxheVR5cGUiLCJmcmVlemUiLCJMIiwiTSIsInNvdW5kIiwicHJlbG9hZCIsIlQiLCJtZWRpYSIsIl9pbnN0YW5jZXMiLCJfc3ByaXRlcyIsIl9hdXRvUGxheU9wdGlvbnMiLCJpc1BsYXlpbmciLCJzaW5nbGVJbnN0YW5jZSIsInNwcml0ZXMiLCJhZGRTcHJpdGVzIiwiX3ByZWxvYWQiLCJIVE1MQXVkaW9FbGVtZW50IiwiX3JlbW92ZUluc3RhbmNlcyIsInJlbW92ZVNwcml0ZXMiLCJpc1BsYXlhYmxlIiwiX2NyZWF0ZUluc3RhbmNlIiwiX3Bvb2xJbnN0YW5jZSIsIl9wb29sIiwiSSIsIl93ZWJBdWRpb0NvbnRleHQiLCJfaHRtbEF1ZGlvQ29udGV4dCIsIl9zb3VuZHMiLCJfY29udGV4dCIsIl9nZXRPcHRpb25zIiwiX3VzZUxlZ2FjeSIsInRvZ2dsZVBhdXNlQWxsIiwicGF1c2VBbGwiLCJyZXN1bWVBbGwiLCJ0b2dnbGVNdXRlQWxsIiwibXV0ZUFsbCIsInVubXV0ZUFsbCIsInN0b3BBbGwiLCJmaW5kIiwiSyIsInBsYXlPbmNlIiwiZmlsbCIsInJlc29sdmVVcmwiLCJzaW5lVG9uZSIsIkZpbHRlcmFibGUiLCJodG1sYXVkaW8iLCJTb3VuZExpYnJhcnkiLCJTb3VuZFNwcml0ZSIsInV0aWxzIiwid2ViYXVkaW8iLCJzZXRUaW1lb3V0RnVuYyIsIkJvb2xlYW4iLCJub29wIiwiX3N0YXRlIiwiX2hhbmRsZWQiLCJfdmFsdWUiLCJfZGVmZXJyZWRzIiwiZG9SZXNvbHZlIiwiaGFuZGxlIiwiZGVmZXJyZWQiLCJfaW1tZWRpYXRlRm4iLCJvbkZ1bGZpbGxlZCIsIm9uUmVqZWN0ZWQiLCJyZXQiLCJwcm9taXNlIiwibmV3VmFsdWUiLCJmaW5hbGUiLCJfdW5oYW5kbGVkUmVqZWN0aW9uRm4iLCJIYW5kbGVyIiwiZG9uZSIsInJlYXNvbiIsImV4IiwicHJvbSIsInJlbWFpbmluZyIsImFsbFNldHRsZWQiLCJyYWNlIiwic2V0SW1tZWRpYXRlIiwiRGF0ZSIsImdldFRpbWUiLCJzdGFydFRpbWVfMSIsInZlbmRvcnMiLCJkZWxheSIsImlzTmFOIiwiaXNJbnRlZ2VyIiwiaXNGaW5pdGUiLCJCb3VuZHMiLCJpc0VtcHR5IiwiZ2V0UmVjdGFuZ2xlIiwiYWRkUG9pbnQiLCJwb2ludCIsImFkZFBvaW50TWF0cml4IiwiYWRkUXVhZCIsImFkZEZyYW1lIiwiYWRkRnJhbWVNYXRyaXgiLCJhZGRWZXJ0ZXhEYXRhIiwiYmVnaW5PZmZzZXQiLCJlbmRPZmZzZXQiLCJhZGRWZXJ0aWNlcyIsImFkZFZlcnRpY2VzTWF0cml4IiwicGFkWCIsInBhZFkiLCJyYXdYIiwicmF3WSIsImFkZEJvdW5kcyIsImFkZEJvdW5kc01hc2siLCJfbWluWCIsIl9taW5ZIiwiX21heFgiLCJfbWF4WSIsImFkZEJvdW5kc01hdHJpeCIsImFkZEJvdW5kc0FyZWEiLCJhZGRGcmFtZVBhZCIsIkRpc3BsYXlPYmplY3QiLCJ0ZW1wRGlzcGxheU9iamVjdFBhcmVudCIsInZpc2libGUiLCJfbGFzdFNvcnRlZEluZGV4IiwiX3pJbmRleCIsIl9lbmFibGVkRmlsdGVycyIsIl9ib3VuZHMiLCJfbG9jYWxCb3VuZHMiLCJfYm91bmRzSUQiLCJfYm91bmRzUmVjdCIsIl9sb2NhbEJvdW5kc1JlY3QiLCJfbWFzayIsImlzTWFzayIsIm1peGluIiwicHJvcGVydHlOYW1lIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0iLCJza2lwVXBkYXRlIiwiY2FsY3VsYXRlQm91bmRzIiwidHJhbnNmb3JtUmVmIiwicGFyZW50UmVmIiwid29ybGRCb3VuZHMiLCJ3b3JsZEJvdW5kc0lEIiwidG9HbG9iYWwiLCJkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtIiwidG9Mb2NhbCIsInNldFBhcmVudCIsImNvbnRhaW5lciIsIl9vcHRpb25zIiwiaGl0QXJlYSIsImludGVyYWN0aXZlIiwiaW50ZXJhY3RpdmVDaGlsZHJlbiIsIlRlbXBvcmFyeURpc3BsYXlPYmplY3QiLCJteVBhcmVudCIsInNvcnREaXJ0eSIsInNvcnRDaGlsZHJlbiIsInpJbmRleCIsInNvcnRhYmxlQ2hpbGRyZW4iLCJvbkNoaWxkcmVuQ2hhbmdlIiwiX2xlbmd0aCIsImNoaWxkIiwiYWRkQ2hpbGRBdCIsInN3YXBDaGlsZHJlbiIsImNoaWxkMiIsImluZGV4MSIsImdldENoaWxkSW5kZXgiLCJpbmRleDIiLCJzZXRDaGlsZEluZGV4IiwiY3VycmVudEluZGV4IiwiZ2V0Q2hpbGRBdCIsInJlbW92ZUNoaWxkQXQiLCJiZWdpbkluZGV4IiwiZW5kSW5kZXgiLCJyZW1vdmVkIiwiYmVnaW4iLCJyYW5nZSIsIlJhbmdlRXJyb3IiLCJzb3J0UmVxdWlyZWQiLCJfY2FsY3VsYXRlQm91bmRzIiwic2tpcENoaWxkcmVuVXBkYXRlIiwicmVuZGVyQWR2YW5jZWQiLCJfcmVuZGVyIiwiZGVzdHJveUNoaWxkcmVuIiwib2xkQ2hpbGRyZW4iLCJjb250YWluZXJVcGRhdGVUcmFuc2Zvcm0iLCJhY2Nlc3NpYmxlVGFyZ2V0IiwiYWNjZXNzaWJsZSIsImFjY2Vzc2libGVUaXRsZSIsImFjY2Vzc2libGVIaW50IiwidGFiSW5kZXgiLCJfYWNjZXNzaWJsZUFjdGl2ZSIsIl9hY2Nlc3NpYmxlRGl2IiwiYWNjZXNzaWJsZVR5cGUiLCJhY2Nlc3NpYmxlUG9pbnRlckV2ZW50cyIsImFjY2Vzc2libGVDaGlsZHJlbiIsInJlbmRlcklkIiwiQWNjZXNzaWJpbGl0eU1hbmFnZXIiLCJkZWJ1ZyIsIl9pc0FjdGl2ZSIsIl9pc01vYmlsZUFjY2Vzc2liaWxpdHkiLCJwb29sIiwiYW5kcm9pZFVwZGF0ZUNvdW50IiwiYW5kcm9pZFVwZGF0ZUZyZXF1ZW5jeSIsIl9ob29rRGl2IiwiY3JlYXRlVG91Y2hIb29rIiwiRElWX1RPVUNIX1NJWkUiLCJESVZfVE9VQ0hfUE9TX1giLCJESVZfVE9VQ0hfUE9TX1kiLCJfb25LZXlEb3duIiwiX29uTW91c2VNb3ZlIiwiaG9va0RpdiIsIkRJVl9IT09LX1NJWkUiLCJESVZfSE9PS19QT1NfWCIsIkRJVl9IT09LX1BPU19ZIiwidGl0bGUiLCJhY3RpdmF0ZSIsImRlc3Ryb3lUb3VjaEhvb2siLCJkZWFjdGl2YXRlIiwidXBkYXRlQWNjZXNzaWJsZU9iamVjdHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ2aWV3V2lkdGgiLCJ2aWV3SGVpZ2h0IiwiY2FwSGl0QXJlYSIsInVwZGF0ZURlYnVnSFRNTCIsImJvcmRlclN0eWxlIiwiX29uQ2xpY2siLCJfb25Gb2N1cyIsIl9vbkZvY3VzT3V0IiwicG9pbnRlckV2ZW50cyIsImludGVyYWN0aW9uTWFuYWdlciIsImludGVyYWN0aW9uIiwiZXZlbnREYXRhIiwiZGlzcGF0Y2hFdmVudCIsImtleUNvZGUiLCJtb3ZlbWVudFgiLCJtb3ZlbWVudFkiLCJJbnRlcmFjdGlvbkRhdGEiLCJwcmVzc3VyZSIsInJvdGF0aW9uQW5nbGUiLCJ0d2lzdCIsInRhbmdlbnRpYWxQcmVzc3VyZSIsImdsb2JhbCIsIm9yaWdpbmFsRXZlbnQiLCJpZGVudGlmaWVyIiwiaXNQcmltYXJ5IiwiYnV0dG9uIiwiYnV0dG9ucyIsInRpbHRYIiwidGlsdFkiLCJwb2ludGVyVHlwZSIsImdldExvY2FsUG9zaXRpb24iLCJnbG9iYWxQb3MiLCJjb3B5RXZlbnQiLCJ3aGljaCIsIkludGVyYWN0aW9uRXZlbnQiLCJzdG9wcGVkIiwic3RvcHNQcm9wYWdhdGluZ0F0Iiwic3RvcFByb3BhZ2F0aW9uSGludCIsImN1cnJlbnRUYXJnZXQiLCJzdG9wUHJvcGFnYXRpb24iLCJJbnRlcmFjdGlvblRyYWNraW5nRGF0YSIsInBvaW50ZXJJZCIsIl9wb2ludGVySWQiLCJGTEFHUyIsIl9kb1NldCIsInluIiwiZmxhZ3MiLCJPVkVSIiwiUklHSFRfRE9XTiIsIkxFRlRfRE9XTiIsIlRyZWVTZWFyY2giLCJfdGVtcFBvaW50IiwicmVjdXJzaXZlRmluZEhpdCIsImludGVyYWN0aW9uRXZlbnQiLCJoaXRUZXN0IiwiaGl0IiwiaW50ZXJhY3RpdmVQYXJlbnQiLCJoaXRUZXN0Q2hpbGRyZW4iLCJjb250YWluc1BvaW50IiwiY2hpbGRIaXQiLCJmaW5kSGl0IiwiaW50ZXJhY3RpdmVUYXJnZXQiLCJjdXJzb3IiLCJfdHJhY2tlZFBvaW50ZXJzIiwiaGl0VGVzdEV2ZW50IiwiSW50ZXJhY3Rpb25NYW5hZ2VyIiwiYXV0b1ByZXZlbnREZWZhdWx0IiwiaW50ZXJhY3Rpb25GcmVxdWVuY3kiLCJtb3VzZSIsImFjdGl2ZUludGVyYWN0aW9uRGF0YSIsImludGVyYWN0aW9uRGF0YVBvb2wiLCJpbnRlcmFjdGlvbkRPTUVsZW1lbnQiLCJtb3ZlV2hlbkluc2lkZSIsImV2ZW50c0FkZGVkIiwidGlja2VyQWRkZWQiLCJtb3VzZU92ZXJSZW5kZXJlciIsInN1cHBvcnRzVG91Y2hFdmVudHMiLCJzdXBwb3J0c1BvaW50ZXJFdmVudHMiLCJQb2ludGVyRXZlbnQiLCJvblBvaW50ZXJVcCIsInByb2Nlc3NQb2ludGVyVXAiLCJvblBvaW50ZXJDYW5jZWwiLCJwcm9jZXNzUG9pbnRlckNhbmNlbCIsIm9uUG9pbnRlckRvd24iLCJwcm9jZXNzUG9pbnRlckRvd24iLCJvblBvaW50ZXJNb3ZlIiwicHJvY2Vzc1BvaW50ZXJNb3ZlIiwib25Qb2ludGVyT3V0IiwicHJvY2Vzc1BvaW50ZXJPdmVyT3V0Iiwib25Qb2ludGVyT3ZlciIsImN1cnNvclN0eWxlcyIsInBvaW50ZXIiLCJjdXJyZW50Q3Vyc29yTW9kZSIsImRlbGF5ZWRFdmVudHMiLCJzZWFyY2giLCJfdGVtcERpc3BsYXlPYmplY3QiLCJfdXNlU3lzdGVtVGlja2VyIiwidXNlU3lzdGVtVGlja2VyIiwic2V0VGFyZ2V0RWxlbWVudCIsImFkZFRpY2tlckxpc3RlbmVyIiwicmVtb3ZlVGlja2VyTGlzdGVuZXIiLCJnbG9iYWxQb2ludCIsImxhc3RPYmplY3RSZW5kZXJlZCIsInByb2Nlc3NJbnRlcmFjdGl2ZSIsInJlbW92ZUV2ZW50cyIsImFkZEV2ZW50cyIsInRpY2tlclVwZGF0ZSIsIm1zUG9pbnRlckVuYWJsZWQiLCJtc0NvbnRlbnRab29taW5nIiwibXNUb3VjaEFjdGlvbiIsInRvdWNoQWN0aW9uIiwiX2RpZE1vdmUiLCJpbnRlcmFjdGlvbkRhdGEiLCJjb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQiLCJzZXRDdXJzb3JNb2RlIiwiYXBwbHlTdHlsZXMiLCJldmVudFN0cmluZyIsImRlbGF5RGlzcGF0Y2hFdmVudCIsIm1hcFBvc2l0aW9uVG9Qb2ludCIsInBhcmVudEVsZW1lbnQiLCJyZXNvbHV0aW9uTXVsdGlwbGllciIsImRlbGF5ZWRMZW4iLCJkaXNwbGF5T2JqZWN0XzEiLCJub3JtYWxpemVUb1BvaW50ZXJEYXRhIiwiaXNOb3JtYWxpemVkIiwiY2FuY2VsYWJsZSIsImV2ZW50TGVuIiwiZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkIiwiaXNSaWdodEJ1dHRvbiIsInRyYWNrZWRQb2ludGVycyIsInJpZ2h0RG93biIsImxlZnREb3duIiwib25Qb2ludGVyQ29tcGxldGUiLCJjYW5jZWxsZWQiLCJldmVudEFwcGVuZCIsInJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQiLCJ0cmFja2luZ0RhdGEiLCJpc1RvdWNoIiwiaXNNb3VzZSIsImlzTW91c2VUYXAiLCJpc0Rvd24iLCJvdmVyIiwibm9uZSIsInBvaW50ZXJFdmVudCIsImNsaWVudFgiLCJjbGllbnRZIiwiZ2xvYmFsWCIsImdsb2JhbFkiLCJub3JtYWxpemVkRXZlbnRzIiwiVG91Y2hFdmVudCIsImxpIiwiY2hhbmdlZFRvdWNoZXMiLCJ0b3VjaGVzIiwicmFkaXVzWCIsInJhZGl1c1kiLCJmb3JjZSIsImxheWVyWCIsIm9mZnNldFgiLCJsYXllclkiLCJvZmZzZXRZIiwiTW91c2VFdmVudCIsInRlbXBFdmVudCIsImZvcmNlQ2FudmFzIiwic3RhZ2VPcHRpb25zIiwicmV2ZXJzZSIsIlJlc2l6ZVBsdWdpbiIsImRvbSIsInF1ZXVlUmVzaXplIiwiX3Jlc2l6ZVRvIiwiY2FuY2VsUmVzaXplIiwiX3Jlc2l6ZUlkIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJyZXNpemVUbyIsIklOVEVSTkFMX0ZPUk1BVFMiLCJURU1QX1JFQ1QiLCJFeHRyYWN0IiwiaW1hZ2UiLCJxdWFsaXR5IiwiYmFzZTY0IiwidG9EYXRhVVJMIiwiZmxpcFkiLCJnZW5lcmF0ZWQiLCJjYW52YXNCdWZmZXIiLCJ3ZWJnbFBpeGVscyIsInJlYWRQaXhlbHMiLCJjYW52YXNEYXRhIiwiYXJyYXlQb3N0RGl2aWRlIiwicHV0SW1hZ2VEYXRhIiwidGFyZ2V0XzEiLCJJTlRFUk5BTF9GT1JNQVRfVE9fQllURVNfUEVSX1BJWEVMIiwiQ09NUFJFU1NFRF9SR0JfUzNUQ19EWFQxX0VYVCIsIkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDFfRVhUIiwiQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUM19FWFQiLCJDT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1X0VYVCIsIkNPTVBSRVNTRURfU1JHQl9TM1RDX0RYVDFfRVhUIiwiQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUMV9FWFQiLCJDT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQzX0VYVCIsIkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDVfRVhUIiwiQ09NUFJFU1NFRF9SMTFfRUFDIiwiQ09NUFJFU1NFRF9TSUdORURfUjExX0VBQyIsIkNPTVBSRVNTRURfUkcxMV9FQUMiLCJDT01QUkVTU0VEX1NJR05FRF9SRzExX0VBQyIsIkNPTVBSRVNTRURfUkdCOF9FVEMyIiwiQ09NUFJFU1NFRF9SR0JBOF9FVEMyX0VBQyIsIkNPTVBSRVNTRURfU1JHQjhfRVRDMiIsIkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0VUQzJfRUFDIiwiQ09NUFJFU1NFRF9SR0I4X1BVTkNIVEhST1VHSF9BTFBIQTFfRVRDMiIsIkNPTVBSRVNTRURfU1JHQjhfUFVOQ0hUSFJPVUdIX0FMUEhBMV9FVEMyIiwiQ09NUFJFU1NFRF9SR0JfUFZSVENfNEJQUFYxX0lNRyIsIkNPTVBSRVNTRURfUkdCQV9QVlJUQ180QlBQVjFfSU1HIiwiQ09NUFJFU1NFRF9SR0JfUFZSVENfMkJQUFYxX0lNRyIsIkNPTVBSRVNTRURfUkdCQV9QVlJUQ18yQlBQVjFfSU1HIiwiQ09NUFJFU1NFRF9SR0JfRVRDMV9XRUJHTCIsIkNPTVBSRVNTRURfUkdCX0FUQ19XRUJHTCIsIkNPTVBSRVNTRURfUkdCQV9BVENfRVhQTElDSVRfQUxQSEFfV0VCR0wiLCJDT01QUkVTU0VEX1JHQkFfQVRDX0lOVEVSUE9MQVRFRF9BTFBIQV9XRUJHTCIsIl9hJDEiLCJCbG9iUmVzb3VyY2UiLCJvbkJsb2JMb2FkZWQiLCJfZGF0YSIsImdlbmVyYXRvciIsImFycmF5QnVmZmVyIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsInZlcmIiLCJTeW1ib2wiLCJvcCIsInN0ZXAiLCJfX2dlbmVyYXRvciIsImZldGNoIiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlIiwibGV2ZWxzIiwiX2Zvcm1hdFRvRXh0ZW5zaW9uIiwibGV2ZWxCdWZmZXJzIiwiX2xldmVsQnVmZmVycyIsIl9jcmVhdGVMZXZlbEJ1ZmZlcnMiLCJ1aW50OFZpZXciLCJsZXZlbElEIiwibGV2ZWxXaWR0aCIsImxldmVsSGVpZ2h0IiwibGV2ZWxCdWZmZXIiLCJjb21wcmVzc2VkVGV4SW1hZ2UyRCIsImJsb2NrV2lkdGgiLCJibG9ja0hlaWdodCIsImltYWdlV2lkdGgiLCJpbWFnZUhlaWdodCIsImJ5dGVPZmZzZXQiLCJhbGlnbmVkTGV2ZWxXaWR0aCIsImFsaWduZWRMZXZlbEhlaWdodCIsImxldmVsU2l6ZSIsIkNvbXByZXNzZWRUZXh0dXJlTG9hZGVyIiwidGV4dHVyZUV4dGVuc2lvbnMiLCJhdXRvRGV0ZWN0RXh0ZW5zaW9ucyIsImNhY2hlSUQiLCJ0ZXh0dXJlVVJMIiwiZmFsbGJhY2tVUkwiLCJ0ZXh0dXJlRm9ybWF0cyIsImxvYWRPcHRpb25zIiwiaW1hZ2VNZXRhZGF0YSIsImV4dGVuc2lvbk5hbWUiLCJnZXRQcm90b3R5cGVPZiIsInJlZ2lzdGVyQ29tcHJlc3NlZFRleHR1cmVzIiwiRFhHSV9GT1JNQVQiLCJEM0QxMF9SRVNPVVJDRV9ESU1FTlNJT04iLCJfYSQyIiwiX2IkMSIsIl9jIiwiRk9VUkNDX1RPX0ZPUk1BVCIsIkRYR0lfVE9fRk9STUFUIiwiRFhHSV9GT1JNQVRfQkMxX1RZUEVMRVNTIiwiRFhHSV9GT1JNQVRfQkMxX1VOT1JNIiwiRFhHSV9GT1JNQVRfQkMyX1RZUEVMRVNTIiwiRFhHSV9GT1JNQVRfQkMyX1VOT1JNIiwiRFhHSV9GT1JNQVRfQkMzX1RZUEVMRVNTIiwiRFhHSV9GT1JNQVRfQkMzX1VOT1JNIiwiRFhHSV9GT1JNQVRfQkMxX1VOT1JNX1NSR0IiLCJEWEdJX0ZPUk1BVF9CQzJfVU5PUk1fU1JHQiIsIkRYR0lfRk9STUFUX0JDM19VTk9STV9TUkdCIiwiRERTTG9hZGVyIiwiaGVhZGVyIiwibWlwbWFwQ291bnQiLCJwaXhlbEZvcm1hdCIsImZvcm1hdEZsYWdzIiwiZm91ckNDIiwiaW50ZXJuYWxGb3JtYXRfMSIsInRleERhdGEiLCJERFNfTUFHSUNfU0laRSIsImR4MTBIZWFkZXIiLCJkeGdpRm9ybWF0IiwicmVzb3VyY2VEaW1lbnNpb24iLCJtaXNjRmxhZyIsImFycmF5U2l6ZSIsImludGVybmFsRm9ybWF0XzIiLCJERFNfRElNRU5TSU9OX1RFWFRVUkUzRCIsImltYWdlQnVmZmVycyIsInBpeGVsU2l6ZSIsImltYWdlU2l6ZSIsImltYWdlT2Zmc2V0IiwiRklMRV9JREVOVElGSUVSIiwiVFlQRVNfVE9fQllURVNfUEVSX0NPTVBPTkVOVCIsIkZPUk1BVFNfVE9fQ09NUE9ORU5UUyIsIlRZUEVTX1RPX0JZVEVTX1BFUl9QSVhFTCIsIktUWExvYWRlciIsImRhdGFWaWV3IiwiRGF0YVZpZXciLCJ2YWxpZGF0ZSIsImxpdHRsZUVuZGlhbiIsImdldFVpbnQzMiIsImdsRm9ybWF0IiwiZ2xJbnRlcm5hbEZvcm1hdCIsInBpeGVsV2lkdGgiLCJwaXhlbEhlaWdodCIsInBpeGVsRGVwdGgiLCJudW1iZXJPZkFycmF5RWxlbWVudHMiLCJudW1iZXJPZkZhY2VzIiwibnVtYmVyT2ZNaXBtYXBMZXZlbHMiLCJieXRlc09mS2V5VmFsdWVEYXRhIiwiaW1hZ2VQaXhlbEJ5dGVTaXplIiwiYWxpZ25lZFdpZHRoIiwiYWxpZ25lZEhlaWdodCIsImltYWdlUGl4ZWxzIiwibWlwQnl0ZVNpemUiLCJtaXBXaWR0aCIsIm1pcEhlaWdodCIsImFsaWduZWRNaXBXaWR0aCIsImFsaWduZWRNaXBIZWlnaHQiLCJtaXBtYXBMZXZlbCIsImVsZW1lbnRPZmZzZXQiLCJhcnJheUVsZW1lbnQiLCJtaXBzIiwiZ2V0VWludDgiLCJMSU5FX0pPSU4iLCJMSU5FX0NBUCIsIlBhcnRpY2xlQ29udGFpbmVyIiwibWF4U2l6ZSIsInByb3BlcnRpZXMiLCJiYXRjaFNpemUiLCJhdXRvUmVzaXplIiwiX3Byb3BlcnRpZXMiLCJfbWF4U2l6ZSIsIl9iYXRjaFNpemUiLCJfYnVmZmVycyIsIl9idWZmZXJVcGRhdGVJRHMiLCJyb3VuZFBpeGVscyIsInNldFByb3BlcnRpZXMiLCJfdGludCIsInRpbnRSZ2IiLCJwYXJ0aWNsZSIsInNtYWxsZXN0Q2hpbGRJbmRleCIsIlBhcnRpY2xlQnVmZmVyIiwiZHluYW1pY1Byb3BlcnR5RmxhZ3MiLCJkeW5hbWljUHJvcGVydGllcyIsInN0YXRpY1Byb3BlcnRpZXMiLCJwcm9wZXJ0eSIsImF0dHJpYnV0ZU5hbWUiLCJ1cGxvYWRGdW5jdGlvbiIsInN0YXRpY1N0cmlkZSIsInN0YXRpY0J1ZmZlciIsInN0YXRpY0RhdGEiLCJzdGF0aWNEYXRhVWludDMyIiwiZHluYW1pY1N0cmlkZSIsImR5bmFtaWNCdWZmZXIiLCJkeW5hbWljRGF0YSIsImR5bmFtaWNEYXRhVWludDMyIiwiaW5pdEJ1ZmZlcnMiLCJkeW5hbWljT2Zmc2V0IiwiZHluQnVmZmVyIiwic3RhdGljT2Zmc2V0Iiwic3RhdEJ1ZmZlciIsInVwbG9hZER5bmFtaWMiLCJzdGFydEluZGV4IiwidXBsb2FkU3RhdGljIiwiUGFydGljbGVSZW5kZXJlciIsInVwbG9hZFZlcnRpY2VzIiwidXBsb2FkUG9zaXRpb24iLCJ1cGxvYWRSb3RhdGlvbiIsInVwbG9hZFV2cyIsInVwbG9hZFRpbnQiLCJ0b3RhbENoaWxkcmVuIiwiZ2VuZXJhdGVCdWZmZXJzIiwidUNvbG9yIiwidXBkYXRlU3RhdGljIiwiX2dlbmVyYXRlT25lTW9yZUJ1ZmZlciIsImJpZCIsIlRSSUFOR0xFUyIsIncwIiwidzEiLCJoMCIsImgxIiwic3ByaXRlUG9zaXRpb24iLCJzcHJpdGVSb3RhdGlvbiIsInRleHR1cmVVdnMiLCJHUkFQSElDU19DVVJWRVMiLCJhZGFwdGl2ZSIsIm1heExlbmd0aCIsIm1pblNlZ21lbnRzIiwibWF4U2VnbWVudHMiLCJlcHNpbG9uIiwiX3NlZ21lbnRzQ291bnQiLCJkZWZhdWx0U2VnbWVudHMiLCJGaWxsU3R5bGUiLCJjb2xvciIsIm9iaiIsImJ1aWxkUG9seSIsImJ1aWxkIiwiZ3JhcGhpY3NEYXRhIiwic2hhcGUiLCJ0cmlhbmd1bGF0ZSIsImdyYXBoaWNzR2VvbWV0cnkiLCJ2ZXJ0cyIsImhvbGVBcnJheSIsInZlcnRQb3MiLCJidWlsZENpcmNsZSIsImNpcmNsZURhdGEiLCJlbGxpcHNlRGF0YSIsInRvdGFsU2VncyIsInNlZyIsImNlbnRlciIsImNpcmNsZSIsImJ1aWxkUmVjdGFuZ2xlIiwicmVjdERhdGEiLCJnZXRQdCIsIm4xIiwibjIiLCJwZXJjIiwicXVhZHJhdGljQmV6aWVyQ3VydmUiLCJmcm9tWCIsImZyb21ZIiwiY3BYIiwiY3BZIiwidG9YIiwidG9ZIiwieGEiLCJ5YSIsInhiIiwieWIiLCJidWlsZFJvdW5kZWRSZWN0YW5nbGUiLCJycmVjdERhdGEiLCJ2ZWNQb3MiLCJzcXVhcmUiLCJueCIsIm55IiwiaW5uZXJXZWlnaHQiLCJvdXRlcldlaWdodCIsImV4eCIsImV5eSIsImVpeCIsImVpeSIsImVveCIsImVveSIsImV5IiwiY3gycDB4IiwiY3kycDB5IiwiYW5nbGUwIiwiYW5nbGUxIiwic3RhcnRBbmdsZSIsImFuZ2xlRGlmZiIsImFic0FuZ2xlRGlmZiIsInNlZ0NvdW50IiwiYW5nbGVJbmMiLCJidWlsZExpbmUiLCJuYXRpdmUiLCJjbG9zZWRTaGFwZSIsImJ1aWxkTmF0aXZlTGluZSIsImNsb3NlUG9pbnRFcHMiLCJmaXJzdFBvaW50IiwibGFzdFBvaW50IiwiY2xvc2VkUGF0aCIsIm1pZFBvaW50WCIsIm1pZFBvaW50WSIsImluZGV4Q291bnQiLCJpbmRleFN0YXJ0Iiwid2lkdGhTcXVhcmVkIiwibWl0ZXJMaW1pdFNxdWFyZWQiLCJtaXRlckxpbWl0IiwicGVycHgiLCJwZXJweSIsInBlcnAxeCIsInBlcnAxeSIsImRpc3QiLCJyYXRpbyIsImFsaWdubWVudCIsImNhcCIsIlJPVU5EIiwiU1FVQVJFIiwiZHgwIiwiZHkwIiwiZHgxIiwiZHkxIiwiY3Jvc3MiLCJjMiIsInBkaXN0IiwiaW14IiwiaW15Iiwib214Iiwib215IiwiaW5zaWRlV2VpZ2h0IiwiQkVWRUwiLCJlcHMyIiwiYnVpbGROb25OYXRpdmVMaW5lIiwiVEVYVF9HUkFESUVOVCIsIkFyY1V0aWxzIiwiY3VydmVUbyIsIm1tIiwiZGQiLCJjYyIsInR0IiwiazEiLCJrMiIsImoxIiwiajIiLCJxeSIsImVuZEFuZ2xlIiwiYW50aWNsb2Nrd2lzZSIsImFyYyIsIl9zdGFydFgiLCJfc3RhcnRZIiwiX2FudGljbG9ja3dpc2UiLCJzd2VlcCIsInRoZXRhIiwidGhldGEyIiwiY1RoZXRhIiwic1RoZXRhIiwic2VnTWludXMiLCJyZW1haW5kZXIiLCJCZXppZXJVdGlscyIsImN1cnZlTGVuZ3RoIiwiY3BYMiIsImNwWTIiLCJ0MiIsInQzIiwibnQiLCJudDIiLCJudDMiLCJwcmV2WCIsInByZXZZIiwiZHQiLCJkdDIiLCJkdDMiLCJRdWFkcmF0aWNVdGlscyIsImEzMiIsImJhIiwiQmF0Y2hQYXJ0IiwiYXR0cmliU3RhcnQiLCJlbmRBdHRyaWIiLCJGSUxMX0NPTU1BTkRTIiwiQkFUQ0hfUE9PTCIsIkRSQVdfQ0FMTF9QT09MIiwiR3JhcGhpY3NEYXRhIiwidG1wUG9pbnQiLCJ0bXBCb3VuZHMiLCJHcmFwaGljc0dlb21ldHJ5IiwiaW5kaWNlc1VpbnQxNiIsImNvbG9ycyIsInRleHR1cmVJZHMiLCJiYXRjaERpcnR5IiwiY2FjaGVEaXJ0eSIsImNsZWFyRGlydHkiLCJiYXRjaGVzIiwic2hhcGVJbmRleCIsImJvdW5kc0RpcnR5IiwiYm91bmRzUGFkZGluZyIsImJhdGNoYWJsZSIsImJhdGNoUGFydCIsImRyYXdTaGFwZSIsImRyYXdIb2xlIiwibGFzdFNoYXBlIiwiaGl0SG9sZSIsImlfMSIsInVwZGF0ZUJhdGNoZXMiLCJhbGxvdzMySW5kaWNlcyIsInZhbGlkYXRlQmF0Y2hpbmciLCJjdXJyZW50U3R5bGUiLCJ0cmFuc2Zvcm1Qb2ludHMiLCJuZXh0VGV4dHVyZSIsImluZGV4XzEiLCJhdHRyaWJJbmRleCIsInByb2Nlc3NGaWxsIiwicHJvY2Vzc0xpbmUiLCJfY29tcGFyZVN0eWxlcyIsImFkZFV2cyIsIm5lZWQzMiIsImlzQmF0Y2hhYmxlIiwicGFja0JhdGNoZXMiLCJzdHlsZUEiLCJzdHlsZUIiLCJsaW5lIiwiQkFUQ0hBQkxFX1NJWkUiLCJjdXJyZW50R3JvdXAiLCJjdXJyZW50VGV4dHVyZSIsImRyYXdNb2RlIiwiYWRkQ29sb3JzIiwiYWRkVGV4dHVyZUlkcyIsInBhY2tBdHRyaWJ1dGVzIiwiZ2xQb2ludHMiLCJmMzIiLCJ1MzIiLCJwcm9jZXNzSG9sZXMiLCJzZXF1ZW5jZUJvdW5kcyIsImN1ck1hdHJpeCIsIm5leHRNYXRyaXgiLCJsaW5lV2lkdGgiLCJlbGxpcHNlIiwicG9seSIsInJnYmEiLCJ1dnNTdGFydCIsImFkanVzdFV2cyIsIkxpbmVTdHlsZSIsIkJVVFQiLCJNSVRFUiIsInRlbXAiLCJERUZBVUxUX1NIQURFUlMiLCJfZ2VvbWV0cnkiLCJfZmlsbFN0eWxlIiwiX2xpbmVTdHlsZSIsIl9ob2xlTW9kZSIsImN1cnJlbnRQYXRoIiwiYmF0Y2hUaW50IiwiX3RyYW5zZm9ybUlEIiwiZmluaXNoUG9seSIsImxpbmVUZXh0dXJlU3R5bGUiLCJzdGFydFBvbHkiLCJtb3ZlVG8iLCJsaW5lVG8iLCJfaW5pdEN1cnZlIiwicXVhZHJhdGljQ3VydmVUbyIsImJlemllckN1cnZlVG8iLCJhcmNUbyIsInJhZGl1c18xIiwic3RhcnRYIiwic3RhcnRZIiwieERpZmYiLCJ5RGlmZiIsImJlZ2luVGV4dHVyZUZpbGwiLCJkcmF3Um91bmRlZFJlY3QiLCJkcmF3Q2lyY2xlIiwiZHJhd0VsbGlwc2UiLCJkcmF3UG9seWdvbiIsIl9wb3B1bGF0ZUJhdGNoZXMiLCJfcmVuZGVyQmF0Y2hlZCIsIl9yZW5kZXJEaXJlY3QiLCJnSSIsIl9iYXRjaFJHQiIsImNhbGN1bGF0ZVZlcnRpY2VzIiwiY2FsY3VsYXRlVGludHMiLCJfcmVzb2x2ZURpcmVjdFNoYWRlciIsIl9yZW5kZXJEcmF3Q2FsbERpcmVjdCIsImdyb3VwVGV4dHVyZUNvdW50IiwiX1RFTVBfUE9JTlQiLCJ0aW50UkdCIiwid3RJRCIsImNsb3NlUGF0aCIsInNldE1hdHJpeCIsImJlZ2luSG9sZSIsImVuZEhvbGUiLCJncmFwaGljc1V0aWxzIiwidGVtcFBvaW50IiwiU3ByaXRlIiwiX2FuY2hvciIsIl9vbkFuY2hvclVwZGF0ZSIsIl9jYWNoZWRUaW50IiwidmVydGV4VHJpbW1lZERhdGEiLCJfdHJhbnNmb3JtVHJpbW1lZElEIiwiX3RleHR1cmVUcmltbWVkSUQiLCJfcm91bmRQaXhlbHMiLCJfb25UZXh0dXJlVXBkYXRlIiwiY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzIiwiZGVzdHJveUJhc2VUZXh0dXJlIiwiZGVmYXVsdFN0eWxlIiwiYWxpZ24iLCJicmVha1dvcmRzIiwiZHJvcFNoYWRvdyIsImRyb3BTaGFkb3dBbHBoYSIsImRyb3BTaGFkb3dBbmdsZSIsImRyb3BTaGFkb3dCbHVyIiwiZHJvcFNoYWRvd0NvbG9yIiwiZHJvcFNoYWRvd0Rpc3RhbmNlIiwiZmlsbEdyYWRpZW50VHlwZSIsIkxJTkVBUl9WRVJUSUNBTCIsImZpbGxHcmFkaWVudFN0b3BzIiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwiZm9udFN0eWxlIiwiZm9udFZhcmlhbnQiLCJmb250V2VpZ2h0IiwibGV0dGVyU3BhY2luZyIsImxpbmVIZWlnaHQiLCJsaW5lSm9pbiIsInN0cm9rZSIsInN0cm9rZVRoaWNrbmVzcyIsInRleHRCYXNlbGluZSIsIndoaXRlU3BhY2UiLCJ3b3JkV3JhcCIsIndvcmRXcmFwV2lkdGgiLCJsZWFkaW5nIiwiZ2VuZXJpY0ZvbnRGYW1pbGllcyIsIlRleHRTdHlsZSIsInN0eWxlSUQiLCJkZWVwQ29weVByb3BlcnRpZXMiLCJjbG9uZWRQcm9wZXJ0aWVzIiwiX2FsaWduIiwiX2JyZWFrV29yZHMiLCJfZHJvcFNoYWRvdyIsIl9kcm9wU2hhZG93QWxwaGEiLCJfZHJvcFNoYWRvd0FuZ2xlIiwiX2Ryb3BTaGFkb3dCbHVyIiwiX2Ryb3BTaGFkb3dDb2xvciIsIm91dHB1dENvbG9yIiwiZ2V0Q29sb3IiLCJfZHJvcFNoYWRvd0Rpc3RhbmNlIiwiX2ZpbGwiLCJfZmlsbEdyYWRpZW50VHlwZSIsIl9maWxsR3JhZGllbnRTdG9wcyIsImFycmF5MSIsImFycmF5MiIsImFyZUFycmF5c0VxdWFsIiwiX2ZvbnRGYW1pbHkiLCJfZm9udFNpemUiLCJfZm9udFN0eWxlIiwiX2ZvbnRWYXJpYW50IiwiX2ZvbnRXZWlnaHQiLCJfbGV0dGVyU3BhY2luZyIsIl9saW5lSGVpZ2h0IiwiX2xlYWRpbmciLCJfbGluZUpvaW4iLCJfbWl0ZXJMaW1pdCIsIl9wYWRkaW5nIiwiX3N0cm9rZSIsIl9zdHJva2VUaGlja25lc3MiLCJfdGV4dEJhc2VsaW5lIiwiX3RyaW0iLCJfd2hpdGVTcGFjZSIsIl93b3JkV3JhcCIsIl93b3JkV3JhcFdpZHRoIiwidG9Gb250U3RyaW5nIiwiZm9udFNpemVTdHJpbmciLCJmb250RmFtaWxpZXMiLCJnZXRTaW5nbGVDb2xvciIsInByb3BlcnR5T2JqIiwicHJvcCIsIlRleHRNZXRyaWNzIiwibGluZXMiLCJsaW5lV2lkdGhzIiwibWF4TGluZVdpZHRoIiwiZm9udFByb3BlcnRpZXMiLCJtZWFzdXJlVGV4dCIsIl9jYW52YXMiLCJmb250IiwibWVhc3VyZUZvbnQiLCJhc2NlbnQiLCJjb2xsYXBzZVNwYWNlcyIsImNvbGxhcHNlTmV3bGluZXMiLCJjYW5QcmVwZW5kU3BhY2VzIiwidG9rZW5zIiwidG9rZW5pemUiLCJ0b2tlbiIsImlzTmV3bGluZSIsImFkZExpbmUiLCJjdXJySXNCcmVha2luZ1NwYWNlIiwiaXNCcmVha2luZ1NwYWNlIiwibGFzdElzQnJlYWtpbmdTcGFjZSIsInRva2VuV2lkdGgiLCJnZXRGcm9tQ2FjaGUiLCJjYW5CcmVha1dvcmRzIiwiY2hhcmFjdGVycyIsIndvcmRXcmFwU3BsaXQiLCJjaGFyIiwibmV4dENoYXIiLCJsYXN0Q2hhciIsImNhbkJyZWFrQ2hhcnMiLCJjaGFyYWN0ZXJXaWR0aCIsImlzTGFzdFRva2VuIiwibmV3TGluZSIsInRyaW1SaWdodCIsInNwYWNpbmciLCJfbmV3bGluZXMiLCJfbmV4dENoYXIiLCJfYnJlYWtpbmdTcGFjZXMiLCJfdG9rZW4iLCJfY2hhciIsIl9pbmRleCIsIl9mb250cyIsImRlc2NlbnQiLCJtZXRyaWNzU3RyaW5nIiwiTUVUUklDU19TVFJJTkciLCJCQVNFTElORV9TWU1CT0wiLCJiYXNlbGluZSIsIkhFSUdIVF9NVUxUSVBMSUVSIiwiQkFTRUxJTkVfTVVMVElQTElFUiIsImZpbGxUZXh0IiwiaW1hZ2VkYXRhIiwiaWR4IiwiY2xlYXJNZXRyaWNzIiwiZGVmYXVsdERlc3Ryb3lPcHRpb25zIiwiVGV4dCIsIm93bkNhbnZhcyIsIl9vd25DYW52YXMiLCJfYXV0b1Jlc29sdXRpb24iLCJfdGV4dCIsIl9zdHlsZSIsIl9zdHlsZUxpc3RlbmVyIiwiX2ZvbnQiLCJsb2NhbFN0eWxlSUQiLCJ1cGRhdGVUZXh0IiwicmVzcGVjdERpcnR5IiwibGluZVBvc2l0aW9uWCIsImxpbmVQb3NpdGlvblkiLCJtZWFzdXJlZCIsInBhc3Nlc0NvdW50IiwiaXNTaGFkb3dQYXNzIiwiZHNPZmZzZXRUZXh0IiwiZHNPZmZzZXRTaGFkb3ciLCJzdHJva2VTdHlsZSIsInNoYWRvd0NvbG9yIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJzaGFkb3dPZmZzZXRZIiwiX2dlbmVyYXRlRmlsbFN0eWxlIiwiZHJhd0xldHRlclNwYWNpbmciLCJpc1N0cm9rZSIsImN1cnJlbnRQb3NpdGlvbiIsInN0cmluZ0FycmF5IiwicHJldmlvdXNXaWR0aCIsImN1cnJlbnRXaWR0aCIsImN1cnJlbnRDaGFyIiwic3Ryb2tlVGV4dCIsInRyaW1tZWQiLCJtZXRyaWNzIiwiZ3JhZGllbnQiLCJkcm9wU2hhZG93Q29ycmVjdGlvbiIsImxlbmd0aFBsdXMxIiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJncmFkU3RvcExpbmVIZWlnaHQiLCJ0aGlzTGluZVRvcCIsImxpbmVTdG9wIiwiZ2xvYmFsU3RvcCIsInRvRml4ZWQiLCJhZGRDb2xvclN0b3AiLCJ0b3RhbEl0ZXJhdGlvbnMiLCJjdXJyZW50SXRlcmF0aW9uIiwiQ291bnRMaW1pdGVyIiwibWF4SXRlbXNQZXJGcmFtZSIsIml0ZW1zTGVmdCIsImJlZ2luRnJhbWUiLCJhbGxvd2VkVG9VcGxvYWQiLCJmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMiLCJfdGV4dHVyZXMiLCJmaW5kQmFzZVRleHR1cmUiLCJmaW5kVGV4dHVyZSIsImRyYXdUZXh0IiwiX2hlbHBlciIsImNhbGN1bGF0ZVRleHRTdHlsZSIsImZpbmRUZXh0IiwiZmluZFRleHRTdHlsZSIsIkJhc2VQcmVwYXJlIiwibGltaXRlciIsInVwbG9hZEhvb2tIZWxwZXIiLCJhZGRIb29rcyIsInVwbG9hZEhvb2tzIiwiY29tcGxldGVzIiwidGlja2luZyIsImRlbGF5ZWRUaWNrIiwicHJlcGFyZUl0ZW1zIiwicmVnaXN0ZXJGaW5kSG9vayIsInJlZ2lzdGVyVXBsb2FkSG9vayIsInVwbG9hZGVkIiwiYWRkSG9vayIsInVwbG9hZEhvb2siLCJ1cGxvYWRCYXNlVGV4dHVyZXMiLCJ1cGxvYWRHcmFwaGljcyIsImZpbmRHcmFwaGljcyIsIlByZXBhcmUiLCJUaW1lTGltaXRlciIsIm1heE1pbGxpc2Vjb25kcyIsImZyYW1lU3RhcnQiLCJTcHJpdGVzaGVldCIsInJlc29sdXRpb25GaWxlbmFtZSIsImFuaW1hdGlvbnMiLCJfdXBkYXRlUmVzb2x1dGlvbiIsIl9mcmFtZXMiLCJmcmFtZXMiLCJfZnJhbWVLZXlzIiwiX2JhdGNoSW5kZXgiLCJfY2FsbGJhY2siLCJtZXRhIiwiQkFUQ0hfU0laRSIsIl9wcm9jZXNzRnJhbWVzIiwiX3Byb2Nlc3NBbmltYXRpb25zIiwiX3BhcnNlQ29tcGxldGUiLCJfbmV4dEJhdGNoIiwiaW5pdGlhbEZyYW1lSW5kZXgiLCJmcmFtZUluZGV4IiwibWF4RnJhbWVzIiwic291cmNlU2l6ZSIsInJvdGF0ZWQiLCJzcHJpdGVTb3VyY2VTaXplIiwiYW5pbU5hbWUiLCJmcmFtZU5hbWUiLCJTcHJpdGVzaGVldExvYWRlciIsImltYWdlUmVzb3VyY2VOYW1lIiwibXVsdGlQYWNrcyIsInJlbGF0ZWRfbXVsdGlfcGFja3MiLCJpdGVtTmFtZSIsIml0ZW1VcmwiLCJ2YWx1ZXMiLCJzb21lIiwibXVsdGlQYWNrc18xIiwicmVzb3VyY2VQYXRoIiwiZ2V0UmVzb3VyY2VQYXRoIiwic3ByaXRlc2hlZXQiLCJUaWxpbmdTcHJpdGUiLCJ0aWxlVHJhbnNmb3JtIiwidXZSZXNwZWN0QW5jaG9yIiwiVGlsaW5nU3ByaXRlUmVuZGVyZXIiLCJzaW1wbGVTaGFkZXIiLCJ0cyIsImFuY2hvclgiLCJhbmNob3JZIiwiYmFzZVRleCIsInV2IiwiSCIsInVNYXBDb29yZCIsInVUcmFuc2Zvcm0iLCJNZXNoQmF0Y2hVdnMiLCJfYnVmZmVyVXBkYXRlSWQiLCJfdGV4dHVyZVVwZGF0ZUlkIiwidGVtcFBvbHlnb24iLCJNZXNoIiwidmVydGV4RGlydHkiLCJiYXRjaFV2cyIsIl9yZW5kZXJUb0JhdGNoIiwiX3JlbmRlckRlZmF1bHQiLCJjYWxjdWxhdGVVdnMiLCJtYXRlcmlhbCIsInZlcnRleERpcnR5SWQiLCJnZW9tVXZzIiwiaW5kMCIsImluZDEiLCJpbmQyIiwiX2NhY2hlZFRleHR1cmUiLCJNZXNoTWF0ZXJpYWwiLCJ1VGV4dHVyZU1hdHJpeCIsIl9jb2xvckRpcnR5IiwiX2FscGhhIiwiTWVzaEdlb21ldHJ5IiwidmVydGljZXNCdWZmZXIiLCJ1dnNCdWZmZXIiLCJfdXBkYXRlSWQiLCJCaXRtYXBGb250RGF0YSIsImluZm8iLCJwYWdlIiwia2VybmluZyIsIlRleHRGb3JtYXQiLCJyYXdEYXRhIiwiY2hhcnMiLCJrZXJuaW5ncyIsImF0dHJpYnV0ZUxpc3QiLCJpdGVtRGF0YSIsInN0clZhbHVlIiwiZmxvYXRWYWx1ZSIsImZhY2UiLCJmaWxlIiwieG9mZnNldCIsInlvZmZzZXQiLCJ4YWR2YW5jZSIsImZpcnN0Iiwic2Vjb25kIiwiWE1MRm9ybWF0IiwiWE1MRG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIlhNTFN0cmluZ0Zvcm1hdCIsInhtbFR4dCIsImZvcm1hdHMiLCJhdXRvRGV0ZWN0Rm9ybWF0IiwiZ2VuZXJhdGVGaWxsU3R5bGUiLCJsYXN0SXRlcmF0aW9uU3RvcCIsImNsYW1wZWRTdG9wIiwiZHJhd0dseXBoIiwiQml0bWFwRm9udCIsInBhZ2VUZXh0dXJlcyIsInBhZ2VfMSIsInhPZmZzZXQiLCJ5T2Zmc2V0IiwieEFkdmFuY2UiLCJfZCIsImluc3RhbGwiLCJmb250RGF0YSIsImF2YWlsYWJsZSIsInVuaW5zdGFsbCIsInRleHRTdHlsZSIsImRlZmF1bHRPcHRpb25zIiwidGV4dHVyZVdpZHRoIiwidGV4dHVyZUhlaWdodCIsImNoYXJzTGlzdCIsInN0YXJ0Q29kZSIsImVuZENvZGUiLCJqXzEiLCJyZXNvbHZlQ2hhcmFjdGVycyIsInBvc2l0aW9uWCIsInBvc2l0aW9uWSIsIm1heENoYXJIZWlnaHQiLCJ0ZXh0dXJlR2x5cGhXaWR0aCIsIkFMUEhBIiwiTlVNRVJJQyIsIkFMUEhBTlVNRVJJQyIsIkFTQ0lJIiwicGFnZU1lc2hEYXRhUG9vbCIsImNoYXJSZW5kZXJEYXRhUG9vbCIsIkJpdG1hcFRleHQiLCJzdHlsZURlZmF1bHRzIiwibWF4V2lkdGgiLCJmb250TmFtZSIsIl9hY3RpdmVQYWdlc01lc2hEYXRhIiwiX3RleHRXaWR0aCIsIl90ZXh0SGVpZ2h0IiwiX2ZvbnROYW1lIiwiX21heFdpZHRoIiwiX21heExpbmVIZWlnaHQiLCJfdGV4dHVyZUNhY2hlIiwibGluZVNwYWNlcyIsInRleHRMZW5ndGgiLCJwcmV2Q2hhckNvZGUiLCJsYXN0TGluZVdpZHRoIiwibGFzdEJyZWFrUG9zIiwibGFzdEJyZWFrV2lkdGgiLCJzcGFjZXNSZW1vdmVkIiwibWF4TGluZUhlaWdodCIsInNwYWNlQ291bnQiLCJjaGFyQ29kZSIsImNoYXJEYXRhIiwiY2hhclJlbmRlckRhdGEiLCJwcmV2U3BhY2VzIiwibGluZUFsaWduT2Zmc2V0cyIsImFsaWduT2Zmc2V0IiwibGVuQ2hhcnMiLCJwYWdlc01lc2hEYXRhIiwibmV3UGFnZXNNZXNoRGF0YSIsImFjdGl2ZVBhZ2VzTWVzaERhdGEiLCJiYXNlVGV4dHVyZVVpZCIsInBhZ2VNZXNoRGF0YSIsInZlcnRleENvdW50IiwidXZzQ291bnQiLCJtZXNoIiwidG90YWxfMSIsInBhZ2VNZXNoIiwidGV4dHVyZUZyYW1lIiwiYW5jaG9yT2Zmc2V0WCIsImFuY2hvck9mZnNldFkiLCJpXzIiLCJ0ZXh0dXJlQnVmZmVyIiwiQml0bWFwRm9udExvYWRlciIsImdldEJhc2VVcmwiLCJwYWdlRmlsZSIsImJpdG1hcEZvbnQiLCJiaXRtYXBSZXNvdXJjZSIsInJlc1VybCIsImRpcm5hbWUiLCJkaXIiLCJBbHBoYUZpbHRlciIsInVBbHBoYSIsIkdBVVNTSUFOX1ZBTFVFUyIsIjUiLCI3IiwiOSIsIjExIiwiMTMiLCIxNSIsIkJsdXJGaWx0ZXJQYXNzIiwiaG9yaXpvbnRhbCIsInN0cmVuZ3RoIiwia2VybmVsU2l6ZSIsInZlcnRTcmMiLCJoYWxmTGVuZ3RoIiwidmVydFNvdXJjZSIsImJsdXJMb29wIiwiYmx1ciIsImdlbmVyYXRlQmx1clZlcnRTb3VyY2UiLCJmcmFnU3JjIiwia2VybmVsIiwiZnJhZ1NvdXJjZSIsImdlbmVyYXRlQmx1ckZyYWdTb3VyY2UiLCJfcXVhbGl0eSIsInBhc3NlcyIsInJlbmRlclRhcmdldCIsIkJMSVQiLCJCbHVyRmlsdGVyIiwiYmx1clhGaWx0ZXIiLCJibHVyWUZpbHRlciIsInJlcGVhdEVkZ2VQaXhlbHMiLCJ4U3RyZW5ndGgiLCJ5U3RyZW5ndGgiLCJ1cGRhdGVQYWRkaW5nIiwiX3JlcGVhdEVkZ2VQaXhlbHMiLCJDb2xvck1hdHJpeEZpbHRlciIsIl9sb2FkTWF0cml4IiwibXVsdGlwbHkiLCJuZXdNYXRyaXgiLCJfbXVsdGlwbHkiLCJfY29sb3JNYXRyaXgiLCJicmlnaHRuZXNzIiwiZ3JleXNjYWxlIiwiYmxhY2tBbmRXaGl0ZSIsImh1ZSIsImNvc1IiLCJzaW5SIiwic3FyVyIsImNvbnRyYXN0Iiwic2F0dXJhdGUiLCJkZXNhdHVyYXRlIiwibmVnYXRpdmUiLCJzZXBpYSIsInRlY2huaWNvbG9yIiwicG9sYXJvaWQiLCJ0b0JHUiIsImtvZGFjaHJvbWUiLCJicm93bmkiLCJ2aW50YWdlIiwiY29sb3JUb25lIiwiZGVzYXR1cmF0aW9uIiwidG9uZWQiLCJsaWdodENvbG9yIiwiZGFya0NvbG9yIiwibFIiLCJsRyIsImxCIiwiZFIiLCJkRyIsImRCIiwibmlnaHQiLCJpbnRlbnNpdHkiLCJwcmVkYXRvciIsImxzZCIsImdyYXlzY2FsZSIsIkRpc3BsYWNlbWVudEZpbHRlciIsIm1hcFNhbXBsZXIiLCJmaWx0ZXJNYXRyaXgiLCJsZW5YIiwibGVuWSIsIkZYQUFGaWx0ZXIiLCJOb2lzZUZpbHRlciIsIm5vaXNlIiwic2VlZCIsInVOb2lzZSIsInVTZWVkIiwiX3RlbXBNYXRyaXgiLCJfY2FjaGVBc0JpdG1hcCIsIl9jYWNoZURhdGEiLCJfY2FjaGVBc0JpdG1hcFJlc29sdXRpb24iLCJDYWNoZURhdGEiLCJ0ZXh0dXJlQ2FjaGVJZCIsIm9yaWdpbmFsUmVuZGVyIiwib3JpZ2luYWxSZW5kZXJDYW52YXMiLCJvcmlnaW5hbENhbGN1bGF0ZUJvdW5kcyIsIm9yaWdpbmFsR2V0TG9jYWxCb3VuZHMiLCJvcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybSIsIm9yaWdpbmFsRGVzdHJveSIsIm9yaWdpbmFsTWFzayIsIm9yaWdpbmFsRmlsdGVyQXJlYSIsIm9yaWdpbmFsQ29udGFpbnNQb2ludCIsImNhY2hlQXNCaXRtYXBSZXNvbHV0aW9uIiwiY2FjaGVBc0JpdG1hcCIsInJlbmRlckNhbnZhcyIsIl9yZW5kZXJDYWNoZWQiLCJfcmVuZGVyQ2FjaGVkQ2FudmFzIiwiX2NhY2hlQXNCaXRtYXBEZXN0cm95IiwiX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0IiwiX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0IiwiY2FjaGVBbHBoYSIsImNhY2hlZFJlbmRlclRleHR1cmUiLCJjYWNoZWRTb3VyY2VGcmFtZSIsImNhY2hlZFByb2plY3Rpb25UcmFuc2Zvcm0iLCJfY2FsY3VsYXRlQ2FjaGVkQm91bmRzIiwiX2dldENhY2hlZExvY2FsQm91bmRzIiwiY2FjaGVkU3ByaXRlIiwiX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzIiwiX3JlbmRlckNhbnZhcyIsImNhY2hlZFJlbmRlclRhcmdldCIsIl9wcm9qVHJhbnNmb3JtIiwiZ2V0Q2hpbGRCeU5hbWUiLCJkZWVwIiwiZ2V0R2xvYmFsUG9zaXRpb24iLCJQbGFuZUdlb21ldHJ5Iiwic2VnV2lkdGgiLCJzZWdIZWlnaHQiLCJzZWdtZW50c1giLCJzZWdtZW50c1kiLCJ0b3RhbFN1YiIsInhwb3MiLCJ5cG9zIiwidmFsdWUyIiwidmFsdWUzIiwidmFsdWU0IiwiUm9wZUdlb21ldHJ5IiwidGV4dHVyZVNjYWxlIiwiZGlzdGFuY2UiLCJ1cGRhdGVWZXJ0aWNlcyIsIm5leHRQb2ludCIsInBlcnBYIiwicGVycFkiLCJwZXJwTGVuZ3RoIiwiU2ltcGxlUm9wZSIsInJvcGVHZW9tZXRyeSIsIm1lc2hNYXRlcmlhbCIsIlNpbXBsZVBsYW5lIiwidmVydGljZXNYIiwidmVydGljZXNZIiwicGxhbmVHZW9tZXRyeSIsInRleHR1cmVVcGRhdGVkIiwiU2ltcGxlTWVzaCIsIk5pbmVTbGljZVBsYW5lIiwibGVmdFdpZHRoIiwidG9wSGVpZ2h0IiwicmlnaHRXaWR0aCIsImJvdHRvbUhlaWdodCIsIl9vcmlnV2lkdGgiLCJfb3JpZ0hlaWdodCIsIl9sZWZ0V2lkdGgiLCJfcmlnaHRXaWR0aCIsIl90b3BIZWlnaHQiLCJfYm90dG9tSGVpZ2h0IiwiX3JlZnJlc2giLCJ1cGRhdGVIb3Jpem9udGFsVmVydGljZXMiLCJfZ2V0TWluU2NhbGUiLCJ1cGRhdGVWZXJ0aWNhbFZlcnRpY2VzIiwic2NhbGVXIiwic2NhbGVIIiwiX3V2dyIsIl91dmgiLCJBbmltYXRlZFNwcml0ZSIsIl9kdXJhdGlvbnMiLCJhbmltYXRpb25TcGVlZCIsInVwZGF0ZUFuY2hvciIsIm9uRnJhbWVDaGFuZ2UiLCJvbkxvb3AiLCJfY3VycmVudFRpbWUiLCJfcHJldmlvdXNGcmFtZSIsImdvdG9BbmRTdG9wIiwiZnJhbWVOdW1iZXIiLCJwcmV2aW91c0ZyYW1lIiwiY3VycmVudEZyYW1lIiwiZ290b0FuZFBsYXkiLCJsYWciLCJmcm9tRnJhbWVzIiwiZnJvbUltYWdlcyIsImltYWdlcyIsIlZFUlNJT04iLCJub2RlVHlwZSIsImZyZWVHbG9iYWwiLCJwdW55Y29kZSIsIm1heEludCIsImJhc2UiLCJyZWdleFB1bnljb2RlIiwicmVnZXhOb25BU0NJSSIsInJlZ2V4U2VwYXJhdG9ycyIsImVycm9ycyIsInN0cmluZ0Zyb21DaGFyQ29kZSIsIm1hcERvbWFpbiIsInBhcnRzIiwidWNzMmRlY29kZSIsImV4dHJhIiwiY291bnRlciIsInVjczJlbmNvZGUiLCJkaWdpdFRvQmFzaWMiLCJkaWdpdCIsImFkYXB0IiwibnVtUG9pbnRzIiwiZmlyc3RUaW1lIiwiYmFzZU1pbnVzVE1pbiIsImJhc2ljIiwib2xkaSIsImJhc2VNaW51c1QiLCJjb2RlUG9pbnQiLCJpbnB1dExlbmd0aCIsImJpYXMiLCJlbmNvZGUiLCJoYW5kbGVkQ1BDb3VudCIsImJhc2ljTGVuZ3RoIiwiY3VycmVudFZhbHVlIiwiaGFuZGxlZENQQ291bnRQbHVzT25lIiwicU1pbnVzVCIsInFzIiwic2VwIiwiZXEiLCJyZWdleHAiLCJtYXhLZXlzIiwia3N0ciIsInZzdHIiLCJkZWNvZGVVUklDb21wb25lbnQiLCJzdHJpbmdpZnlQcmltaXRpdmUiLCJrcyIsInN0cmluZ2lmeSIsInV0aWwiLCJzbGFzaGVzIiwiYXV0aCIsInF1ZXJ5IiwicGF0aG5hbWUiLCJ1cmxQYXJzZSIsInJlbGF0aXZlIiwiaXNTdHJpbmciLCJwcm90b2NvbFBhdHRlcm4iLCJwb3J0UGF0dGVybiIsInNpbXBsZVBhdGhQYXR0ZXJuIiwidW53aXNlIiwiYXV0b0VzY2FwZSIsIm5vbkhvc3RDaGFycyIsImhvc3RFbmRpbmdDaGFycyIsImhvc3RuYW1lUGFydFBhdHRlcm4iLCJob3N0bmFtZVBhcnRTdGFydCIsInVuc2FmZVByb3RvY29sIiwiaG9zdGxlc3NQcm90b2NvbCIsInNsYXNoZWRQcm90b2NvbCIsInF1ZXJ5c3RyaW5nIiwicGFyc2VRdWVyeVN0cmluZyIsInNsYXNoZXNEZW5vdGVIb3N0IiwiaXNPYmplY3QiLCJxdWVyeUluZGV4Iiwic3BsaXR0ZXIiLCJ1U3BsaXQiLCJzaW1wbGVQYXRoIiwicHJvdG8iLCJsb3dlclByb3RvIiwiYXRTaWduIiwiaG9zdEVuZCIsImhlYyIsInBhcnNlSG9zdCIsImlwdjZIb3N0bmFtZSIsImhvc3RwYXJ0cyIsInBhcnQiLCJuZXdwYXJ0IiwidmFsaWRQYXJ0cyIsIm5vdEhvc3QiLCJiaXQiLCJ0b0FTQ0lJIiwiYWUiLCJlc2MiLCJlc2NhcGUiLCJxbSIsInJlc29sdmVPYmplY3QiLCJyZWwiLCJ0a2V5cyIsInRrIiwidGtleSIsInJrZXlzIiwicmsiLCJya2V5IiwicmVsUGF0aCIsImlzU291cmNlQWJzIiwiaXNSZWxBYnMiLCJtdXN0RW5kQWJzIiwicmVtb3ZlQWxsRG90cyIsInNyY1BhdGgiLCJwc3ljaG90aWMiLCJpc051bGxPclVuZGVmaW5lZCIsImF1dGhJbkhvc3QiLCJpc051bGwiLCJoYXNUcmFpbGluZ1NsYXNoIiwidXAiLCJpc0Fic29sdXRlIiwiYXJnIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkZWZpbml0aW9uIiwiZ2xvYmFsVGhpcyIsInRvU3RyaW5nVGFnIiwibm1kIiwicGF0aHMiXSwibWFwcGluZ3MiOiI7d0NBbUJBLElBQUlBLEVBaUJBQyxFQWlCQUMsRUFnREFDLEVBbURBQyxFQXlCQUMsRUEyQkFDLEVBMkJBQyxFQXVCQUMsRUF1QkFDLEVBMEJBQyxFQXdCQUMsRUEwQkFDLEVBNEJBQyxFQWlCQUMsRUFtQkFDLEVBcUJBQyxFLGtLQWxhSixTQUFXaEIsR0FDUEEsRUFBSUEsRUFBa0IsYUFBSSxHQUFLLGVBQy9CQSxFQUFJQSxFQUFXLE1BQUksR0FBSyxRQUN4QkEsRUFBSUEsRUFBWSxPQUFJLEdBQUssU0FIN0IsQ0FJR0EsSUFBUUEsRUFBTSxLQWFqQixTQUFXQyxHQUNQQSxFQUFjQSxFQUF1QixRQUFJLEdBQUssVUFDOUNBLEVBQWNBLEVBQXFCLE1BQUksR0FBSyxRQUM1Q0EsRUFBY0EsRUFBc0IsT0FBSSxHQUFLLFNBSGpELENBSUdBLElBQWtCQSxFQUFnQixLQWFyQyxTQUFXQyxHQUNQQSxFQUFZQSxFQUFtQixNQUFJLE9BQVMsUUFDNUNBLEVBQVlBLEVBQW1CLE1BQUksS0FBTyxRQUMxQ0EsRUFBWUEsRUFBcUIsUUFBSSxNQUFRLFVBSGpELENBSUdBLElBQWdCQSxFQUFjLEtBNENqQyxTQUFXQyxHQUNQQSxFQUFZQSxFQUFvQixPQUFJLEdBQUssU0FDekNBLEVBQVlBLEVBQWlCLElBQUksR0FBSyxNQUN0Q0EsRUFBWUEsRUFBc0IsU0FBSSxHQUFLLFdBQzNDQSxFQUFZQSxFQUFvQixPQUFJLEdBQUssU0FDekNBLEVBQVlBLEVBQXFCLFFBQUksR0FBSyxVQUMxQ0EsRUFBWUEsRUFBb0IsT0FBSSxHQUFLLFNBQ3pDQSxFQUFZQSxFQUFxQixRQUFJLEdBQUssVUFDMUNBLEVBQVlBLEVBQXlCLFlBQUksR0FBSyxjQUM5Q0EsRUFBWUEsRUFBd0IsV0FBSSxHQUFLLGFBQzdD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aUIsRUFBRSxJQUFRd2lCLEVBQUUsR0FBS3hpQixFQUFFLElBQ3BFMmIsRUFBSSxHQUFNNkcsRUFBRSxHQUFLeGlCLEVBQUUsR0FBT3dpQixFQUFFLEdBQUt4aUIsRUFBRSxHQUFPd2lCLEVBQUUsR0FBS3hpQixFQUFFLElBQVF3aUIsRUFBRSxHQUFLeGlCLEVBQUUsSUFDcEUyYixFQUFJLEdBQU02RyxFQUFFLEdBQUt4aUIsRUFBRSxHQUFPd2lCLEVBQUUsR0FBS3hpQixFQUFFLEdBQU93aUIsRUFBRSxHQUFLeGlCLEVBQUUsSUFBUXdpQixFQUFFLEdBQUt4aUIsRUFBRSxJQUNwRTJiLEVBQUksR0FBTTZHLEVBQUUsR0FBS3hpQixFQUFFLEdBQU93aUIsRUFBRSxHQUFLeGlCLEVBQUUsR0FBT3dpQixFQUFFLEdBQUt4aUIsRUFBRSxJQUFRd2lCLEVBQUUsR0FBS3hpQixFQUFFLElBQU93aUIsRUFBRSxHQUU3RTdHLEVBQUksR0FBTTZHLEVBQUUsR0FBS3hpQixFQUFFLEdBQU93aUIsRUFBRSxHQUFLeGlCLEVBQUUsR0FBT3dpQixFQUFFLEdBQUt4aUIsRUFBRSxJQUFRd2lCLEVBQUUsR0FBS3hpQixFQUFFLElBQ3BFMmIsRUFBSSxHQUFNNkcsRUFBRSxHQUFLeGlCLEVBQUUsR0FBT3dpQixFQUFFLEdBQUt4aUIsRUFBRSxHQUFPd2lCLEVBQUUsR0FBS3hpQixFQUFFLElBQVF3aUIsRUFBRSxHQUFLeGlCLEVBQUUsSUFDcEUyYixFQUFJLEdBQU02RyxFQUFFLEdBQUt4aUIsRUFBRSxHQUFPd2lCLEVBQUUsR0FBS3hpQixFQUFFLEdBQU93aUIsRUFBRSxHQUFLeGlCLEVBQUUsSUFBUXdpQixFQUFFLEdBQUt4aUIsRUFBRSxJQUNwRTJiLEVBQUksR0FBTTZHLEVBQUUsR0FBS3hpQixFQUFFLEdBQU93aUIsRUFBRSxHQUFLeGlCLEVBQUUsR0FBT3dpQixFQUFFLEdBQUt4aUIsRUFBRSxJQUFRd2lCLEVBQUUsR0FBS3hpQixFQUFFLElBQ3BFMmIsRUFBSSxHQUFNNkcsRUFBRSxHQUFLeGlCLEVBQUUsR0FB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T0FBT3duQyxZQUFhLENBQUU3bEgsTUFBTyxXQUU3RDlRLE9BQU84QixlQUFlc2tFLEVBQVMsYUFBYyxDQUFFdDFELE9BQU8sS0NMdkRzbEgsRUFBb0JRLElBQU96d0QsSUFDMUJBLEVBQU8wd0QsTUFBUSxHQUNWMXdELEVBQU92aUMsV0FBVXVpQyxFQUFPdmlDLFNBQVcsSUFDakN1aUMsR0NBa0Jpd0QsRUFBb0IsTSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEBwaXhpL2NvbnN0YW50cyAtIHY2LjAuMFxuICogQ29tcGlsZWQgVHVlLCAwMiBNYXIgMjAyMSAyMTo0NTowMyBVVENcbiAqXG4gKiBAcGl4aS9jb25zdGFudHMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG4vKipcbiAqIERpZmZlcmVudCB0eXBlcyBvZiBlbnZpcm9ubWVudHMgZm9yIFdlYkdMLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBFTlZcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0xfTEVHQUNZIC0gVXNlZCBmb3Igb2xkZXIgdjEgV2ViR0wgZGV2aWNlcy4gUGl4aUpTIHdpbGwgYWltIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5XG4gKiAgd2l0aCBvbGRlciAvIGxlc3MgYWR2YW5jZWQgZGV2aWNlcy4gSWYgeW91IGV4cGVyaWVuY2UgdW5leHBsYWluZWQgZmxpY2tlcmluZyBwcmVmZXIgdGhpcyBlbnZpcm9ubWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTCAtIFZlcnNpb24gMSBvZiBXZWJHTFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMMiAtIFZlcnNpb24gMiBvZiBXZWJHTFxuICovXG52YXIgRU5WO1xuKGZ1bmN0aW9uIChFTlYpIHtcbiAgICBFTlZbRU5WW1wiV0VCR0xfTEVHQUNZXCJdID0gMF0gPSBcIldFQkdMX0xFR0FDWVwiO1xuICAgIEVOVltFTlZbXCJXRUJHTFwiXSA9IDFdID0gXCJXRUJHTFwiO1xuICAgIEVOVltFTlZbXCJXRUJHTDJcIl0gPSAyXSA9IFwiV0VCR0wyXCI7XG59KShFTlYgfHwgKEVOViA9IHt9KSk7XG4vKipcbiAqIENvbnN0YW50IHRvIGlkZW50aWZ5IHRoZSBSZW5kZXJlciBUeXBlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBSRU5ERVJFUl9UWVBFXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOS05PV04gLSBVbmtub3duIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMIC0gV2ViR0wgcmVuZGVyIHR5cGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0FOVkFTIC0gQ2FudmFzIHJlbmRlciB0eXBlLlxuICovXG52YXIgUkVOREVSRVJfVFlQRTtcbihmdW5jdGlvbiAoUkVOREVSRVJfVFlQRSkge1xuICAgIFJFTkRFUkVSX1RZUEVbUkVOREVSRVJfVFlQRVtcIlVOS05PV05cIl0gPSAwXSA9IFwiVU5LTk9XTlwiO1xuICAgIFJFTkRFUkVSX1RZUEVbUkVOREVSRVJfVFlQRVtcIldFQkdMXCJdID0gMV0gPSBcIldFQkdMXCI7XG4gICAgUkVOREVSRVJfVFlQRVtSRU5ERVJFUl9UWVBFW1wiQ0FOVkFTXCJdID0gMl0gPSBcIkNBTlZBU1wiO1xufSkoUkVOREVSRVJfVFlQRSB8fCAoUkVOREVSRVJfVFlQRSA9IHt9KSk7XG4vKipcbiAqIEJpdHdpc2UgT1Igb2YgbWFza3MgdGhhdCBpbmRpY2F0ZSB0aGUgYnVmZmVycyB0byBiZSBjbGVhcmVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBCVUZGRVJfQklUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUiAtIEluZGljYXRlcyB0aGUgYnVmZmVycyBjdXJyZW50bHkgZW5hYmxlZCBmb3IgY29sb3Igd3JpdGluZy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSCAtIEluZGljYXRlcyB0aGUgZGVwdGggYnVmZmVyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNURU5DSUwgLSBJbmRpY2F0ZXMgdGhlIHN0ZW5jaWwgYnVmZmVyLlxuICovXG52YXIgQlVGRkVSX0JJVFM7XG4oZnVuY3Rpb24gKEJVRkZFUl9CSVRTKSB7XG4gICAgQlVGRkVSX0JJVFNbQlVGRkVSX0JJVFNbXCJDT0xPUlwiXSA9IDE2Mzg0XSA9IFwiQ09MT1JcIjtcbiAgICBCVUZGRVJfQklUU1tCVUZGRVJfQklUU1tcIkRFUFRIXCJdID0gMjU2XSA9IFwiREVQVEhcIjtcbiAgICBCVUZGRVJfQklUU1tCVUZGRVJfQklUU1tcIlNURU5DSUxcIl0gPSAxMDI0XSA9IFwiU1RFTkNJTFwiO1xufSkoQlVGRkVSX0JJVFMgfHwgKEJVRkZFUl9CSVRTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBibGVuZCBtb2RlcyBzdXBwb3J0ZWQgYnkgUElYSS5cbiAqXG4gKiBJTVBPUlRBTlQgLSBUaGUgV2ViR0wgcmVuZGVyZXIgb25seSBzdXBwb3J0cyB0aGUgTk9STUFMLCBBREQsIE1VTFRJUExZIGFuZCBTQ1JFRU4gYmxlbmQgbW9kZXMuXG4gKiBBbnl0aGluZyBlbHNlIHdpbGwgc2lsZW50bHkgYWN0IGxpa2UgTk9STUFMLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBCTEVORF9NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUxcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBRERcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNVUxUSVBMWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDUkVFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9WRVJMQVlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEQVJLRU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSUdIVEVOXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JfRE9ER0VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUl9CVVJOXG4gKiBAcHJvcGVydHkge251bWJlcn0gSEFSRF9MSUdIVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNPRlRfTElHSFRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBESUZGRVJFTkNFXG4gKiBAcHJvcGVydHkge251bWJlcn0gRVhDTFVTSU9OXG4gKiBAcHJvcGVydHkge251bWJlcn0gSFVFXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0FUVVJBVElPTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SXG4gKiBAcHJvcGVydHkge251bWJlcn0gTFVNSU5PU0lUWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTF9OUE1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBRERfTlBNXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0NSRUVOX05QTVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfSU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfT1VUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX0FUT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfT1ZFUlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9JTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9PVVRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfQVRPUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNVQlRSQUNUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX09WRVJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFUkFTRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFhPUlxuICovXG52YXIgQkxFTkRfTU9ERVM7XG4oZnVuY3Rpb24gKEJMRU5EX01PREVTKSB7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJOT1JNQUxcIl0gPSAwXSA9IFwiTk9STUFMXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJBRERcIl0gPSAxXSA9IFwiQUREXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJNVUxUSVBMWVwiXSA9IDJdID0gXCJNVUxUSVBMWVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU0NSRUVOXCJdID0gM10gPSBcIlNDUkVFTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiT1ZFUkxBWVwiXSA9IDRdID0gXCJPVkVSTEFZXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEQVJLRU5cIl0gPSA1XSA9IFwiREFSS0VOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJMSUdIVEVOXCJdID0gNl0gPSBcIkxJR0hURU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkNPTE9SX0RPREdFXCJdID0gN10gPSBcIkNPTE9SX0RPREdFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJDT0xPUl9CVVJOXCJdID0gOF0gPSBcIkNPTE9SX0JVUk5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkhBUkRfTElHSFRcIl0gPSA5XSA9IFwiSEFSRF9MSUdIVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU09GVF9MSUdIVFwiXSA9IDEwXSA9IFwiU09GVF9MSUdIVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRElGRkVSRU5DRVwiXSA9IDExXSA9IFwiRElGRkVSRU5DRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRVhDTFVTSU9OXCJdID0gMTJdID0gXCJFWENMVVNJT05cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkhVRVwiXSA9IDEzXSA9IFwiSFVFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTQVRVUkFUSU9OXCJdID0gMTRdID0gXCJTQVRVUkFUSU9OXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJDT0xPUlwiXSA9IDE1XSA9IFwiQ09MT1JcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkxVTUlOT1NJVFlcIl0gPSAxNl0gPSBcIkxVTUlOT1NJVFlcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk5PUk1BTF9OUE1cIl0gPSAxN10gPSBcIk5PUk1BTF9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkFERF9OUE1cIl0gPSAxOF0gPSBcIkFERF9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNDUkVFTl9OUE1cIl0gPSAxOV0gPSBcIlNDUkVFTl9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk5PTkVcIl0gPSAyMF0gPSBcIk5PTkVcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNSQ19PVkVSXCJdID0gMF0gPSBcIlNSQ19PVkVSXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTUkNfSU5cIl0gPSAyMV0gPSBcIlNSQ19JTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX09VVFwiXSA9IDIyXSA9IFwiU1JDX09VVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX0FUT1BcIl0gPSAyM10gPSBcIlNSQ19BVE9QXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfT1ZFUlwiXSA9IDI0XSA9IFwiRFNUX09WRVJcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRTVF9JTlwiXSA9IDI1XSA9IFwiRFNUX0lOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfT1VUXCJdID0gMjZdID0gXCJEU1RfT1VUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfQVRPUFwiXSA9IDI3XSA9IFwiRFNUX0FUT1BcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkVSQVNFXCJdID0gMjZdID0gXCJFUkFTRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1VCVFJBQ1RcIl0gPSAyOF0gPSBcIlNVQlRSQUNUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJYT1JcIl0gPSAyOV0gPSBcIlhPUlwiO1xufSkoQkxFTkRfTU9ERVMgfHwgKEJMRU5EX01PREVTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyB3ZWJnbCBkcmF3IG1vZGVzLiBUaGVzZSBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IHdoaWNoIEdMIGRyYXdNb2RlIHRvIHVzZVxuICogdW5kZXIgY2VydGFpbiBzaXR1YXRpb25zIGFuZCByZW5kZXJlcnMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIERSQVdfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9JTlRTXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORVNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX0xPT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX1NUUklQXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVTXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVfU1RSSVBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9GQU5cbiAqL1xudmFyIERSQVdfTU9ERVM7XG4oZnVuY3Rpb24gKERSQVdfTU9ERVMpIHtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJQT0lOVFNcIl0gPSAwXSA9IFwiUE9JTlRTXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiTElORVNcIl0gPSAxXSA9IFwiTElORVNcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJMSU5FX0xPT1BcIl0gPSAyXSA9IFwiTElORV9MT09QXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiTElORV9TVFJJUFwiXSA9IDNdID0gXCJMSU5FX1NUUklQXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiVFJJQU5HTEVTXCJdID0gNF0gPSBcIlRSSUFOR0xFU1wiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIlRSSUFOR0xFX1NUUklQXCJdID0gNV0gPSBcIlRSSUFOR0xFX1NUUklQXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiVFJJQU5HTEVfRkFOXCJdID0gNl0gPSBcIlRSSUFOR0xFX0ZBTlwiO1xufSkoRFJBV19NT0RFUyB8fCAoRFJBV19NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgR0wgdGV4dHVyZS9yZXNvdXJjZXMgZm9ybWF0cy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgRk9STUFUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0JBPTY0MDhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0I9NjQwN1xuICogQHByb3BlcnR5IHtudW1iZXJ9IEFMUEhBPTY0MDZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMVU1JTkFOQ0U9NjQwOVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOQU5DRV9BTFBIQT02NDEwXG4gKiBAcHJvcGVydHkge251bWJlcn0gREVQVEhfQ09NUE9ORU5UPTY0MDJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSF9TVEVOQ0lMPTM0MDQxXG4gKi9cbnZhciBGT1JNQVRTO1xuKGZ1bmN0aW9uIChGT1JNQVRTKSB7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiUkdCQVwiXSA9IDY0MDhdID0gXCJSR0JBXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiUkdCXCJdID0gNjQwN10gPSBcIlJHQlwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkFMUEhBXCJdID0gNjQwNl0gPSBcIkFMUEhBXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiTFVNSU5BTkNFXCJdID0gNjQwOV0gPSBcIkxVTUlOQU5DRVwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkxVTUlOQU5DRV9BTFBIQVwiXSA9IDY0MTBdID0gXCJMVU1JTkFOQ0VfQUxQSEFcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJERVBUSF9DT01QT05FTlRcIl0gPSA2NDAyXSA9IFwiREVQVEhfQ09NUE9ORU5UXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiREVQVEhfU1RFTkNJTFwiXSA9IDM0MDQxXSA9IFwiREVQVEhfU1RFTkNJTFwiO1xufSkoRk9STUFUUyB8fCAoRk9STUFUUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgR0wgdGFyZ2V0IHR5cGVzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUQVJHRVRTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfMkQ9MzU1M1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVA9MzQwNjdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFXzJEX0FSUkFZPTM1ODY2XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YPTM0MDY5XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YPTM0MDcwXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZPTM0MDcxXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZPTM0MDcyXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aPTM0MDczXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aPTM0MDc0XG4gKi9cbnZhciBUQVJHRVRTO1xuKGZ1bmN0aW9uIChUQVJHRVRTKSB7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV8yRFwiXSA9IDM1NTNdID0gXCJURVhUVVJFXzJEXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUFwiXSA9IDM0MDY3XSA9IFwiVEVYVFVSRV9DVUJFX01BUFwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfMkRfQVJSQVlcIl0gPSAzNTg2Nl0gPSBcIlRFWFRVUkVfMkRfQVJSQVlcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1hcIl0gPSAzNDA2OV0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWFwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWFwiXSA9IDM0MDcwXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZXCJdID0gMzQwNzFdID0gXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1lcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1lcIl0gPSAzNDA3Ml0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWVwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWlwiXSA9IDM0MDczXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aXCJdID0gMzQwNzRdID0gXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1pcIjtcbn0pKFRBUkdFVFMgfHwgKFRBUkdFVFMgPSB7fSkpO1xuLyoqXG4gKiBWYXJpb3VzIEdMIGRhdGEgZm9ybWF0IHR5cGVzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUWVBFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9CWVRFPTUxMjFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVD01MTIzXG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNV82XzU9MzM2MzVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF80XzRfNF80PTMyODE5XG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNV81XzVfMT0zMjgyMFxuICogQHByb3BlcnR5IHtudW1iZXJ9IEZMT0FUPTUxMjZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIQUxGX0ZMT0FUPTM2MTkzXG4gKi9cbnZhciBUWVBFUztcbihmdW5jdGlvbiAoVFlQRVMpIHtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX0JZVEVcIl0gPSA1MTIxXSA9IFwiVU5TSUdORURfQllURVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRcIl0gPSA1MTIzXSA9IFwiVU5TSUdORURfU0hPUlRcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX1NIT1JUXzVfNl81XCJdID0gMzM2MzVdID0gXCJVTlNJR05FRF9TSE9SVF81XzZfNVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRfNF80XzRfNFwiXSA9IDMyODE5XSA9IFwiVU5TSUdORURfU0hPUlRfNF80XzRfNFwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRfNV81XzVfMVwiXSA9IDMyODIwXSA9IFwiVU5TSUdORURfU0hPUlRfNV81XzVfMVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiRkxPQVRcIl0gPSA1MTI2XSA9IFwiRkxPQVRcIjtcbiAgICBUWVBFU1tUWVBFU1tcIkhBTEZfRkxPQVRcIl0gPSAzNjE5M10gPSBcIkhBTEZfRkxPQVRcIjtcbn0pKFRZUEVTIHx8IChUWVBFUyA9IHt9KSk7XG4vKipcbiAqIFRoZSBzY2FsZSBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERX0gc2NhbGUgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHNjYWxpbmcgbW9kZSBvZiBmdXR1cmUgb3BlcmF0aW9ucy5cbiAqIEl0IGNhbiBiZSByZS1hc3NpZ25lZCB0byBlaXRoZXIgTElORUFSIG9yIE5FQVJFU1QsIGRlcGVuZGluZyB1cG9uIHN1aXRhYmlsaXR5LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBTQ0FMRV9NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVIgU21vb3RoIHNjYWxpbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBORUFSRVNUIFBpeGVsYXRpbmcgc2NhbGluZ1xuICovXG52YXIgU0NBTEVfTU9ERVM7XG4oZnVuY3Rpb24gKFNDQUxFX01PREVTKSB7XG4gICAgU0NBTEVfTU9ERVNbU0NBTEVfTU9ERVNbXCJORUFSRVNUXCJdID0gMF0gPSBcIk5FQVJFU1RcIjtcbiAgICBTQ0FMRV9NT0RFU1tTQ0FMRV9NT0RFU1tcIkxJTkVBUlwiXSA9IDFdID0gXCJMSU5FQVJcIjtcbn0pKFNDQUxFX01PREVTIHx8IChTQ0FMRV9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFRoZSB3cmFwIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5XUkFQX01PREV9IHdyYXAgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHdyYXBwaW5nIG1vZGUgb2YgZnV0dXJlIG9wZXJhdGlvbnMuXG4gKiBJdCBjYW4gYmUgcmUtYXNzaWduZWQgdG8gZWl0aGVyIENMQU1QIG9yIFJFUEVBVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKiBJZiB0aGUgdGV4dHVyZSBpcyBub24gcG93ZXIgb2YgdHdvIHRoZW4gY2xhbXAgd2lsbCBiZSB1c2VkIHJlZ2FyZGxlc3MgYXMgV2ViR0wgY2FuXG4gKiBvbmx5IHVzZSBSRVBFQVQgaWYgdGhlIHRleHR1cmUgaXMgcG8yLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIFdSQVBfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENMQU1QIC0gVGhlIHRleHR1cmVzIHV2cyBhcmUgY2xhbXBlZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNSVJST1JFRF9SRVBFQVQgLSBUaGUgdGV4dHVyZSB1dnMgdGlsZSBhbmQgcmVwZWF0IHdpdGggbWlycm9yaW5nXG4gKi9cbnZhciBXUkFQX01PREVTO1xuKGZ1bmN0aW9uIChXUkFQX01PREVTKSB7XG4gICAgV1JBUF9NT0RFU1tXUkFQX01PREVTW1wiQ0xBTVBcIl0gPSAzMzA3MV0gPSBcIkNMQU1QXCI7XG4gICAgV1JBUF9NT0RFU1tXUkFQX01PREVTW1wiUkVQRUFUXCJdID0gMTA0OTddID0gXCJSRVBFQVRcIjtcbiAgICBXUkFQX01PREVTW1dSQVBfTU9ERVNbXCJNSVJST1JFRF9SRVBFQVRcIl0gPSAzMzY0OF0gPSBcIk1JUlJPUkVEX1JFUEVBVFwiO1xufSkoV1JBUF9NT0RFUyB8fCAoV1JBUF9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIE1pcG1hcCBmaWx0ZXJpbmcgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU30gYWZmZWN0cyBkZWZhdWx0IHRleHR1cmUgZmlsdGVyaW5nLlxuICogTWlwbWFwcyBhcmUgZ2VuZXJhdGVkIGZvciBhIGJhc2VUZXh0dXJlIGlmIGl0cyBgbWlwbWFwYCBmaWVsZCBpcyBgT05gLFxuICogb3IgaXRzIGBQT1cyYCBhbmQgdGV4dHVyZSBkaW1lbnNpb25zIGFyZSBwb3dlcnMgb2YgMi5cbiAqIER1ZSB0byBwbGF0Zm9ybSByZXN0cmljdGlvbiwgYE9OYCBvcHRpb24gd2lsbCB3b3JrIGxpa2UgYFBPVzJgIGZvciB3ZWJnbC0xLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIE1JUE1BUF9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gT0ZGIC0gTm8gbWlwbWFwc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFBPVzIgLSBHZW5lcmF0ZSBtaXBtYXBzIGlmIHRleHR1cmUgZGltZW5zaW9ucyBhcmUgcG93MlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9OIC0gQWx3YXlzIGdlbmVyYXRlIG1pcG1hcHNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPTl9NQU5VQUwgLSBVc2UgbWlwbWFwcywgYnV0IGRvIG5vdCBhdXRvLWdlbmVyYXRlIHRoZW07IHRoaXMgaXMgdXNlZCB3aXRoIGEgcmVzb3VyY2VcbiAqICAgdGhhdCBzdXBwb3J0cyBidWZmZXJpbmcgZWFjaCBsZXZlbC1vZi1kZXRhaWwuXG4gKi9cbnZhciBNSVBNQVBfTU9ERVM7XG4oZnVuY3Rpb24gKE1JUE1BUF9NT0RFUykge1xuICAgIE1JUE1BUF9NT0RFU1tNSVBNQVBfTU9ERVNbXCJPRkZcIl0gPSAwXSA9IFwiT0ZGXCI7XG4gICAgTUlQTUFQX01PREVTW01JUE1BUF9NT0RFU1tcIlBPVzJcIl0gPSAxXSA9IFwiUE9XMlwiO1xuICAgIE1JUE1BUF9NT0RFU1tNSVBNQVBfTU9ERVNbXCJPTlwiXSA9IDJdID0gXCJPTlwiO1xuICAgIE1JUE1BUF9NT0RFU1tNSVBNQVBfTU9ERVNbXCJPTl9NQU5VQUxcIl0gPSAzXSA9IFwiT05fTUFOVUFMXCI7XG59KShNSVBNQVBfTU9ERVMgfHwgKE1JUE1BUF9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIEhvdyB0byB0cmVhdCB0ZXh0dXJlcyB3aXRoIHByZW11bHRpcGxpZWQgYWxwaGFcbiAqXG4gKiBAbmFtZSBBTFBIQV9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9fUFJFTVVMVElQTElFRF9BTFBIQSAtIFNvdXJjZSBpcyBub3QgcHJlbXVsdGlwbGllZCwgbGVhdmUgaXQgbGlrZSB0aGF0LlxuICogIE9wdGlvbiBmb3IgY29tcHJlc3NlZCBhbmQgZGF0YSB0ZXh0dXJlcyB0aGF0IGFyZSBjcmVhdGVkIGZyb20gdHlwZWQgYXJyYXlzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBSRU1VTFRJUExZX09OX1VQTE9BRCAtIFNvdXJjZSBpcyBub3QgcHJlbXVsdGlwbGllZCwgcHJlbXVsdGlwbHkgb24gdXBsb2FkLlxuICogIERlZmF1bHQgb3B0aW9uLCB1c2VkIGZvciBhbGwgbG9hZGVkIGltYWdlcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQUkVNVUxUSVBMSUVEX0FMUEhBIC0gU291cmNlIGlzIGFscmVhZHkgcHJlbXVsdGlwbGllZFxuICogIEV4YW1wbGU6IHNwaW5lIGF0bGFzZXMgd2l0aCBgX3BtYWAgc3VmZml4LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5QTSAtIEFsaWFzIGZvciBOT19QUkVNVUxUSVBMSUVEX0FMUEhBLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOUEFDSyAtIERlZmF1bHQgb3B0aW9uLCBhbGlhcyBmb3IgUFJFTVVMVElQTFlfT05fVVBMT0FELlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBNQSAtIEFsaWFzIGZvciBQUkVNVUxUSVBMSUVEX0FMUEhBLlxuICovXG52YXIgQUxQSEFfTU9ERVM7XG4oZnVuY3Rpb24gKEFMUEhBX01PREVTKSB7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJOUE1cIl0gPSAwXSA9IFwiTlBNXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJVTlBBQ0tcIl0gPSAxXSA9IFwiVU5QQUNLXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJQTUFcIl0gPSAyXSA9IFwiUE1BXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJOT19QUkVNVUxUSVBMSUVEX0FMUEhBXCJdID0gMF0gPSBcIk5PX1BSRU1VTFRJUExJRURfQUxQSEFcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlBSRU1VTFRJUExZX09OX1VQTE9BRFwiXSA9IDFdID0gXCJQUkVNVUxUSVBMWV9PTl9VUExPQURcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlBSRU1VTFRJUExZX0FMUEhBXCJdID0gMl0gPSBcIlBSRU1VTFRJUExZX0FMUEhBXCI7XG59KShBTFBIQV9NT0RFUyB8fCAoQUxQSEFfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBDb25maWd1cmUgd2hldGhlciBmaWx0ZXIgdGV4dHVyZXMgYXJlIGNsZWFyZWQgYWZ0ZXIgYmluZGluZy5cbiAqXG4gKiBGaWx0ZXIgdGV4dHVyZXMgbmVlZCBub3QgYmUgY2xlYXJlZCBpZiB0aGUgZmlsdGVyIGRvZXMgbm90IHVzZSBwaXhlbCBibGVuZGluZy4ge0BsaW5rIENMRUFSX01PREVTLkJMSVR9IHdpbGwgZGV0ZWN0XG4gKiB0aGlzIGFuZCBza2lwIGNsZWFyaW5nIGFzIGFuIG9wdGltaXphdGlvbi5cbiAqXG4gKiBAbmFtZSBDTEVBUl9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gQkxFTkQgLSBEbyBub3QgY2xlYXIgdGhlIGZpbHRlciB0ZXh0dXJlLiBUaGUgZmlsdGVyJ3Mgb3V0cHV0IHdpbGwgYmxlbmQgb24gdG9wIG9mIHRoZSBvdXRwdXQgdGV4dHVyZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDTEVBUiAtIEFsd2F5cyBjbGVhciB0aGUgZmlsdGVyIHRleHR1cmUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gQkxJVCAtIENsZWFyIG9ubHkgaWYge0BsaW5rIEZpbHRlclN5c3RlbS5mb3JjZUNsZWFyfSBpcyBzZXQgb3IgaWYgdGhlIGZpbHRlciB1c2VzIHBpeGVsIGJsZW5kaW5nLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PIC0gQWxpYXMgZm9yIEJMRU5ELCBzYW1lIGFzIGBmYWxzZWAgaW4gZWFybGllciB2ZXJzaW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFlFUyAtIEFsaWFzIGZvciBDTEVBUiwgc2FtZSBhcyBgdHJ1ZWAgaW4gZWFybGllciB2ZXJzaW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IEFVVE8gLSBBbGlhcyBmb3IgQkxJVFxuICovXG52YXIgQ0xFQVJfTU9ERVM7XG4oZnVuY3Rpb24gKENMRUFSX01PREVTKSB7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJOT1wiXSA9IDBdID0gXCJOT1wiO1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiWUVTXCJdID0gMV0gPSBcIllFU1wiO1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiQVVUT1wiXSA9IDJdID0gXCJBVVRPXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJCTEVORFwiXSA9IDBdID0gXCJCTEVORFwiO1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiQ0xFQVJcIl0gPSAxXSA9IFwiQ0xFQVJcIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIkJMSVRcIl0gPSAyXSA9IFwiQkxJVFwiO1xufSkoQ0xFQVJfTU9ERVMgfHwgKENMRUFSX01PREVTID0ge30pKTtcbi8qKlxuICogVGhlIGdjIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5HQ19NT0RFfSBHYXJiYWdlIENvbGxlY3Rpb24gbW9kZSBmb3IgUGl4aUpTIHRleHR1cmVzIGlzIEFVVE9cbiAqIElmIHNldCB0byBHQ19NT0RFLCB0aGUgcmVuZGVyZXIgd2lsbCBvY2Nhc2lvbmFsbHkgY2hlY2sgdGV4dHVyZXMgdXNhZ2UuIElmIHRoZXkgYXJlIG5vdFxuICogdXNlZCBmb3IgYSBzcGVjaWZpZWQgcGVyaW9kIG9mIHRpbWUgdGhleSB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVLiBUaGV5IHdpbGwgb2YgY291cnNlXG4gKiBiZSB1cGxvYWRlZCBhZ2FpbiB3aGVuIHRoZXkgYXJlIHJlcXVpcmVkLiBUaGlzIGlzIGEgc2lsZW50IGJlaGluZCB0aGUgc2NlbmVzIHByb2Nlc3MgdGhhdFxuICogc2hvdWxkIGVuc3VyZSB0aGF0IHRoZSBHUFUgZG9lcyBub3QgIGdldCBmaWxsZWQgdXAuXG4gKlxuICogSGFuZHkgZm9yIG1vYmlsZSBkZXZpY2VzIVxuICogVGhpcyBwcm9wZXJ0eSBvbmx5IGFmZmVjdHMgV2ViR0wuXG4gKlxuICogQG5hbWUgR0NfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEFVVE8gLSBHYXJiYWdlIGNvbGxlY3Rpb24gd2lsbCBoYXBwZW4gcGVyaW9kaWNhbGx5IGF1dG9tYXRpY2FsbHlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNQU5VQUwgLSBHYXJiYWdlIGNvbGxlY3Rpb24gd2lsbCBuZWVkIHRvIGJlIGNhbGxlZCBtYW51YWxseVxuICovXG52YXIgR0NfTU9ERVM7XG4oZnVuY3Rpb24gKEdDX01PREVTKSB7XG4gICAgR0NfTU9ERVNbR0NfTU9ERVNbXCJBVVRPXCJdID0gMF0gPSBcIkFVVE9cIjtcbiAgICBHQ19NT0RFU1tHQ19NT0RFU1tcIk1BTlVBTFwiXSA9IDFdID0gXCJNQU5VQUxcIjtcbn0pKEdDX01PREVTIHx8IChHQ19NT0RFUyA9IHt9KSk7XG4vKipcbiAqIENvbnN0YW50cyB0aGF0IHNwZWNpZnkgZmxvYXQgcHJlY2lzaW9uIGluIHNoYWRlcnMuXG4gKlxuICogQG5hbWUgUFJFQ0lTSU9OXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGNvbnN0YW50XG4gKiBAc3RhdGljXG4gKiBAZW51bSB7c3RyaW5nfVxuICogQHByb3BlcnR5IHtzdHJpbmd9IExPVz0nbG93cCdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBNRURJVU09J21lZGl1bXAnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gSElHSD0naGlnaHAnXG4gKi9cbnZhciBQUkVDSVNJT047XG4oZnVuY3Rpb24gKFBSRUNJU0lPTikge1xuICAgIFBSRUNJU0lPTltcIkxPV1wiXSA9IFwibG93cFwiO1xuICAgIFBSRUNJU0lPTltcIk1FRElVTVwiXSA9IFwibWVkaXVtcFwiO1xuICAgIFBSRUNJU0lPTltcIkhJR0hcIl0gPSBcImhpZ2hwXCI7XG59KShQUkVDSVNJT04gfHwgKFBSRUNJU0lPTiA9IHt9KSk7XG4vKipcbiAqIENvbnN0YW50cyBmb3IgbWFzayBpbXBsZW1lbnRhdGlvbnMuXG4gKiBXZSB1c2UgYHR5cGVgIHN1ZmZpeCBiZWNhdXNlIGl0IGxlYWRzIHRvIHZlcnkgZGlmZmVyZW50IGJlaGF2aW91cnNcbiAqXG4gKiBAbmFtZSBNQVNLX1RZUEVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT05FIC0gTWFzayBpcyBpZ25vcmVkXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0NJU1NPUiAtIFNjaXNzb3IgbWFzaywgcmVjdGFuZ2xlIG9uIHNjcmVlbiwgY2hlYXBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTVEVOQ0lMIC0gU3RlbmNpbCBtYXNrLCAxLWJpdCwgbWVkaXVtLCB3b3JrcyBvbmx5IGlmIHJlbmRlcmVyIHN1cHBvcnRzIHN0ZW5jaWxcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUFJJVEUgLSBNYXNrIHRoYXQgdXNlcyBTcHJpdGVNYXNrRmlsdGVyLCB1c2VzIHRlbXBvcmFyeSBSZW5kZXJUZXh0dXJlXG4gKi9cbnZhciBNQVNLX1RZUEVTO1xuKGZ1bmN0aW9uIChNQVNLX1RZUEVTKSB7XG4gICAgTUFTS19UWVBFU1tNQVNLX1RZUEVTW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgTUFTS19UWVBFU1tNQVNLX1RZUEVTW1wiU0NJU1NPUlwiXSA9IDFdID0gXCJTQ0lTU09SXCI7XG4gICAgTUFTS19UWVBFU1tNQVNLX1RZUEVTW1wiU1RFTkNJTFwiXSA9IDJdID0gXCJTVEVOQ0lMXCI7XG4gICAgTUFTS19UWVBFU1tNQVNLX1RZUEVTW1wiU1BSSVRFXCJdID0gM10gPSBcIlNQUklURVwiO1xufSkoTUFTS19UWVBFUyB8fCAoTUFTS19UWVBFUyA9IHt9KSk7XG4vKipcbiAqIENvbnN0YW50cyBmb3IgbXVsdGktc2FtcGxpbmcgYW50aWFsaWFzaW5nLlxuICpcbiAqIEBzZWUgUElYSS5GcmFtZWJ1ZmZlciNtdWx0aXNhbXBsZVxuICpcbiAqIEBuYW1lIE1TQUFfUVVBTElUWVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9ORSAtIE5vIG11bHRpc2FtcGxpbmcgZm9yIHRoaXMgcmVuZGVyVGV4dHVyZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExPVyAtIFRyeSAyIHNhbXBsZXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNRURJVU0gLSBUcnkgNCBzYW1wbGVzXG4gKiBAcHJvcGVydHkge251bWJlcn0gSElHSCAtIFRyeSA4IHNhbXBsZXNcbiAqL1xudmFyIE1TQUFfUVVBTElUWTtcbihmdW5jdGlvbiAoTVNBQV9RVUFMSVRZKSB7XG4gICAgTVNBQV9RVUFMSVRZW01TQUFfUVVBTElUWVtcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICAgIE1TQUFfUVVBTElUWVtNU0FBX1FVQUxJVFlbXCJMT1dcIl0gPSAyXSA9IFwiTE9XXCI7XG4gICAgTVNBQV9RVUFMSVRZW01TQUFfUVVBTElUWVtcIk1FRElVTVwiXSA9IDRdID0gXCJNRURJVU1cIjtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiSElHSFwiXSA9IDhdID0gXCJISUdIXCI7XG59KShNU0FBX1FVQUxJVFkgfHwgKE1TQUFfUVVBTElUWSA9IHt9KSk7XG5cbmV4cG9ydCB7IEFMUEhBX01PREVTLCBCTEVORF9NT0RFUywgQlVGRkVSX0JJVFMsIENMRUFSX01PREVTLCBEUkFXX01PREVTLCBFTlYsIEZPUk1BVFMsIEdDX01PREVTLCBNQVNLX1RZUEVTLCBNSVBNQVBfTU9ERVMsIE1TQUFfUVVBTElUWSwgUFJFQ0lTSU9OLCBSRU5ERVJFUl9UWVBFLCBTQ0FMRV9NT0RFUywgVEFSR0VUUywgVFlQRVMsIFdSQVBfTU9ERVMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvY29yZSAtIHY2LjAuMFxuICogQ29tcGlsZWQgVHVlLCAwMiBNYXIgMjAyMSAyMTo0NTowMyBVVENcbiAqXG4gKiBAcGl4aS9jb3JlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBFTlYsIEFMUEhBX01PREVTLCBTQ0FMRV9NT0RFUywgRk9STUFUUywgVFlQRVMsIFRBUkdFVFMsIE1JUE1BUF9NT0RFUywgTVNBQV9RVUFMSVRZLCBDTEVBUl9NT0RFUywgRFJBV19NT0RFUywgQlVGRkVSX0JJVFMsIE1BU0tfVFlQRVMsIFBSRUNJU0lPTiwgQkxFTkRfTU9ERVMsIEdDX01PREVTLCBXUkFQX01PREVTLCBSRU5ERVJFUl9UWVBFIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IGlzTW9iaWxlLCBpc1BvdzIsIEJhc2VUZXh0dXJlQ2FjaGUsIFRleHR1cmVDYWNoZSwgdWlkLCBFdmVudEVtaXR0ZXIsIGRldGVybWluZUNyb3NzT3JpZ2luLCBnZXRSZXNvbHV0aW9uT2ZVcmwsIGRlcHJlY2F0aW9uLCBuZXh0UG93MiwgUHJvZ3JhbUNhY2hlLCByZW1vdmVJdGVtcywgaGV4MnN0cmluZywgaGV4MnJnYiwgc2F5SGVsbG8sIGlzV2ViR0xTdXBwb3J0ZWQsIHByZW11bHRpcGx5QmxlbmRNb2RlLCBsb2cyLCBwcmVtdWx0aXBseVRpbnQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuaW1wb3J0IHsgVGlja2VyIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcbmltcG9ydCB7IGdyb3VwRDgsIFJlY3RhbmdsZSwgUG9pbnQsIE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKipcbiAqIFRoZSBtYXhpbXVtIHN1cHBvcnQgZm9yIHVzaW5nIFdlYkdMLiBJZiBhIGRldmljZSBkb2VzIG5vdFxuICogc3VwcG9ydCBXZWJHTCB2ZXJzaW9uLCBmb3IgaW5zdGFuY2UgV2ViR0wgMiwgaXQgd2lsbCBzdGlsbFxuICogYXR0ZW1wdCB0byBmYWxsYmFjayBzdXBwb3J0IHRvIFdlYkdMIDEuIElmIHlvdSB3YW50IHRvXG4gKiBleHBsaWNpdGx5IHJlbW92ZSBmZWF0dXJlIHN1cHBvcnQgdG8gdGFyZ2V0IGEgbW9yZSBzdGFibGVcbiAqIGJhc2VsaW5lLCBwcmVmZXIgYSBsb3dlciBlbnZpcm9ubWVudC5cbiAqXG4gKiBEdWUgdG8ge0BsaW5rIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTkzNDgyM3xidWcgaW4gY2hyb21pdW19XG4gKiB3ZSBkaXNhYmxlIHdlYmdsMiBieSBkZWZhdWx0IGZvciBhbGwgbm9uLWFwcGxlIG1vYmlsZSBkZXZpY2VzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFBSRUZFUl9FTlZcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgUElYSS5FTlYuV0VCR0wyXG4gKi9cbnNldHRpbmdzLlBSRUZFUl9FTlYgPSBpc01vYmlsZS5hbnkgPyBFTlYuV0VCR0wgOiBFTlYuV0VCR0wyO1xuLyoqXG4gKiBJZiBzZXQgdG8gYHRydWVgLCAqb25seSogVGV4dHVyZXMgYW5kIEJhc2VUZXh0dXJlIG9iamVjdHMgc3RvcmVkXG4gKiBpbiB0aGUgY2FjaGVzICh7QGxpbmsgUElYSS51dGlscy5UZXh0dXJlQ2FjaGUgVGV4dHVyZUNhY2hlfSBhbmRcbiAqIHtAbGluayBQSVhJLnV0aWxzLkJhc2VUZXh0dXJlQ2FjaGUgQmFzZVRleHR1cmVDYWNoZX0pIGNhbiBiZVxuICogdXNlZCB3aGVuIGNhbGxpbmcge0BsaW5rIFBJWEkuVGV4dHVyZS5mcm9tIFRleHR1cmUuZnJvbX0gb3JcbiAqIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlLmZyb20gQmFzZVRleHR1cmUuZnJvbX0uXG4gKiBPdGhlcndpc2UsIHRoZXNlIGBmcm9tYCBjYWxscyB0aHJvdyBhbiBleGNlcHRpb24uIFVzaW5nIHRoaXMgcHJvcGVydHlcbiAqIGNhbiBiZSB1c2VmdWwgaWYgeW91IHdhbnQgdG8gZW5mb3JjZSBwcmVsb2FkaW5nIGFsbCBhc3NldHMgd2l0aFxuICoge0BsaW5rIFBJWEkuTG9hZGVyIExvYWRlcn0uXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgU1RSSUNUX1RFWFRVUkVfQ0FDSEVcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IGZhbHNlXG4gKi9cbnNldHRpbmdzLlNUUklDVF9URVhUVVJFX0NBQ0hFID0gZmFsc2U7XG5cbi8qKlxuICogQ29sbGVjdGlvbiBvZiBpbnN0YWxsZWQgcmVzb3VyY2UgdHlwZXMsIGNsYXNzIG11c3QgZXh0ZW5kIHtAbGluayBQSVhJLlJlc291cmNlfS5cbiAqIEBleGFtcGxlXG4gKiBjbGFzcyBDdXN0b21SZXNvdXJjZSBleHRlbmRzIFBJWEkuUmVzb3VyY2Uge1xuICogICAvLyBNVVNUIGhhdmUgc291cmNlLCBvcHRpb25zIGNvbnN0cnVjdG9yIHNpZ25hdHVyZVxuICogICAvLyBmb3IgYXV0by1kZXRlY3RlZCByZXNvdXJjZXMgdG8gYmUgY3JlYXRlZC5cbiAqICAgY29uc3RydWN0b3Ioc291cmNlLCBvcHRpb25zKSB7XG4gKiAgICAgc3VwZXIoKTtcbiAqICAgfVxuICogICB1cGxvYWQocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAqICAgICAvLyB1cGxvYWQgd2l0aCBHTFxuICogICAgIHJldHVybiB0cnVlO1xuICogICB9XG4gKiAgIC8vIHVzZWQgdG8gYXV0by1kZXRlY3QgcmVzb3VyY2VcbiAqICAgc3RhdGljIHRlc3Qoc291cmNlLCBleHRlbnNpb24pIHtcbiAqICAgICByZXR1cm4gZXh0ZW5zaW9uID09PSAneHl6J3x8IHNvdXJjZSBpbnN0YW5jZW9mIFNvbWVDbGFzcztcbiAqICAgfVxuICogfVxuICogLy8gSW5zdGFsbCB0aGUgbmV3IHJlc291cmNlIHR5cGVcbiAqIFBJWEkuSU5TVEFMTEVELnB1c2goQ3VzdG9tUmVzb3VyY2UpO1xuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7QXJyYXk8UElYSS5JUmVzb3VyY2VQbHVnaW4+fVxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKi9cbnZhciBJTlNUQUxMRUQgPSBbXTtcbi8qKlxuICogQ3JlYXRlIGEgcmVzb3VyY2UgZWxlbWVudCBmcm9tIGEgc2luZ2xlIHNvdXJjZSBlbGVtZW50LiBUaGlzXG4gKiBhdXRvLWRldGVjdHMgd2hpY2ggdHlwZSBvZiByZXNvdXJjZSB0byBjcmVhdGUuIEFsbCByZXNvdXJjZXMgdGhhdFxuICogYXJlIGF1dG8tZGV0ZWN0YWJsZSBtdXN0IGhhdmUgYSBzdGF0aWMgYHRlc3RgIG1ldGhvZCBhbmQgYSBjb25zdHJ1Y3RvclxuICogd2l0aCB0aGUgYXJndW1lbnRzIGAoc291cmNlLCBvcHRpb25zPylgLiBDdXJyZW50bHksIHRoZSBzdXBwb3J0ZWRcbiAqIHJlc291cmNlcyBmb3IgYXV0by1kZXRlY3Rpb24gaW5jbHVkZTpcbiAqICAtIHtAbGluayBQSVhJLkltYWdlUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5DYW52YXNSZXNvdXJjZX1cbiAqICAtIHtAbGluayBQSVhJLlZpZGVvUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5TVkdSZXNvdXJjZX1cbiAqICAtIHtAbGluayBQSVhJLkJ1ZmZlclJlc291cmNlfVxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiBhdXRvRGV0ZWN0UmVzb3VyY2VcbiAqIEBwYXJhbSB7c3RyaW5nfCp9IHNvdXJjZSAtIFJlc291cmNlIHNvdXJjZSwgdGhpcyBjYW4gYmUgdGhlIFVSTCB0byB0aGUgcmVzb3VyY2UsXG4gKiAgICAgICAgYSB0eXBlZC1hcnJheSAoZm9yIEJ1ZmZlclJlc291cmNlKSwgSFRNTFZpZGVvRWxlbWVudCwgU1ZHIGRhdGEtdXJpXG4gKiAgICAgICAgb3IgYW55IG90aGVyIHJlc291cmNlIHRoYXQgY2FuIGJlIGF1dG8tZGV0ZWN0ZWQuIElmIG5vdCByZXNvdXJjZSBpc1xuICogICAgICAgIGRldGVjdGVkLCBpdCdzIGFzc3VtZWQgdG8gYmUgYW4gSW1hZ2VSZXNvdXJjZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBQYXNzLXRocm91Z2ggb3B0aW9ucyB0byB1c2UgZm9yIFJlc291cmNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gV2lkdGggb2YgQnVmZmVyUmVzb3VyY2Ugb3IgU1ZHIHJhc3Rlcml6YXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIC0gSGVpZ2h0IG9mIEJ1ZmZlclJlc291cmNlIG9yIFNWRyByYXN0ZXJpemF0aW9uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gSW1hZ2UsIFNWRyBhbmQgVmlkZW8gZmxhZyB0byBzdGFydCBsb2FkaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NhbGU9MV0gLSBTVkcgc291cmNlIHNjYWxlLiBPdmVycmlkZGVuIGJ5IHdpZHRoLCBoZWlnaHRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3JlYXRlQml0bWFwPVBJWEkuc2V0dGluZ3MuQ1JFQVRFX0lNQUdFX0JJVE1BUF0gLSBJbWFnZSBvcHRpb24gdG8gY3JlYXRlIEJpdG1hcCBvYmplY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NvcmlnaW49dHJ1ZV0gLSBJbWFnZSBhbmQgVmlkZW8gb3B0aW9uIHRvIHNldCBjcm9zc09yaWdpblxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvUGxheT10cnVlXSAtIFZpZGVvIG9wdGlvbiB0byBzdGFydCBwbGF5aW5nIHZpZGVvIGltbWVkaWF0ZWx5XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudXBkYXRlRlBTPTBdIC0gVmlkZW8gb3B0aW9uIHRvIHVwZGF0ZSBob3cgbWFueSB0aW1lcyBhIHNlY29uZCB0aGVcbiAqICAgICAgICB0ZXh0dXJlIHNob3VsZCBiZSB1cGRhdGVkIGZyb20gdGhlIHZpZGVvLiBMZWF2ZSBhdCAwIHRvIHVwZGF0ZSBhdCBldmVyeSByZW5kZXJcbiAqIEByZXR1cm4ge1BJWEkuUmVzb3VyY2V9IFRoZSBjcmVhdGVkIHJlc291cmNlLlxuICovXG5mdW5jdGlvbiBhdXRvRGV0ZWN0UmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKSB7XG4gICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBleHRlbnNpb24gPSAnJztcbiAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gc2VhcmNoIGZvciBmaWxlIGV4dGVuc2lvbjogcGVyaW9kLCAzLTQgY2hhcnMsIHRoZW4gPywgIyBvciBFT0xcbiAgICAgICAgdmFyIHJlc3VsdCA9ICgvXFwuKFxcd3szLDR9KSg/OiR8XFw/fCMpL2kpLmV4ZWMoc291cmNlKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgZXh0ZW5zaW9uID0gcmVzdWx0WzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IElOU1RBTExFRC5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgUmVzb3VyY2VQbHVnaW4gPSBJTlNUQUxMRURbaV07XG4gICAgICAgIGlmIChSZXNvdXJjZVBsdWdpbi50ZXN0ICYmIFJlc291cmNlUGx1Z2luLnRlc3Qoc291cmNlLCBleHRlbnNpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlc291cmNlUGx1Z2luKHNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbnJlY29nbml6ZWQgc291cmNlIHR5cGUgdG8gYXV0by1kZXRlY3QgUmVzb3VyY2UnKTtcbn1cblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogQmFzZSByZXNvdXJjZSBjbGFzcyBmb3IgdGV4dHVyZXMgdGhhdCBtYW5hZ2VzIHZhbGlkYXRpb24gYW5kIHVwbG9hZGluZywgZGVwZW5kaW5nIG9uIGl0cyB0eXBlLlxuICpcbiAqIFVwbG9hZGluZyBvZiBhIGJhc2UgdGV4dHVyZSB0byB0aGUgR1BVIGlzIHJlcXVpcmVkLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0wXSAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZXNvdXJjZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdm9pZCAwKSB7IHdpZHRoID0gMDsgfVxuICAgICAgICBpZiAoaGVpZ2h0ID09PSB2b2lkIDApIHsgaGVpZ2h0ID0gMDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgd2lkdGggb2YgdGhlIHJlc291cmNlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiByZXNvdXJjZSBoYXMgYmVlbiBkZXN0cm95ZWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHJlc291cmNlIGlzIGNyZWF0ZWQgYnkgQmFzZVRleHR1cmVcbiAgICAgICAgICogdXNlZnVsIGZvciBkb2luZyBjbGVhbnVwIHdpdGggQmFzZVRleHR1cmUgZGVzdHJveVxuICAgICAgICAgKiBhbmQgbm90IGNsZWFuaW5nIHVwIHJlc291cmNlcyB0aGF0IHdlcmUgY3JlYXRlZFxuICAgICAgICAgKiBleHRlcm5hbGx5LlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmludGVybmFsID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaW5pLXJ1bm5lciBmb3IgaGFuZGxpbmcgcmVzaXplIGV2ZW50c1xuICAgICAgICAgKiBhY2NlcHRzIDIgcGFyYW1ldGVyczogd2lkdGgsIGhlaWdodFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSdW5uZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUmVzaXplID0gbmV3IFJ1bm5lcignc2V0UmVhbFNpemUnKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pbmktcnVubmVyIGZvciBoYW5kbGluZyB1cGRhdGUgZXZlbnRzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1J1bm5lcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25VcGRhdGUgPSBuZXcgUnVubmVyKCd1cGRhdGUnKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhbmRsZSBpbnRlcm5hbCBlcnJvcnMsIHN1Y2ggYXMgbG9hZGluZyBlcnJvcnNcbiAgICAgICAgICogYWNjZXB0cyAxIHBhcmFtOiBlcnJvclxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSdW5uZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSBuZXcgUnVubmVyKCdvbkVycm9yJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJpbmQgdG8gYSBwYXJlbnQgQmFzZVRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBQYXJlbnQgdGV4dHVyZVxuICAgICAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIHRoaXMub25SZXNpemUuYWRkKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5vblVwZGF0ZS5hZGQoYmFzZVRleHR1cmUpO1xuICAgICAgICB0aGlzLm9uRXJyb3IuYWRkKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgLy8gQ2FsbCBhIHJlc2l6ZSBpbW1lZGlhdGUgaWYgd2UgYWxyZWFkeVxuICAgICAgICAvLyBoYXZlIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAgICBpZiAodGhpcy5fd2lkdGggfHwgdGhpcy5faGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplLmVtaXQodGhpcy5fd2lkdGgsIHRoaXMuX2hlaWdodCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVuYmluZCB0byBhIHBhcmVudCBCYXNlVGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFBhcmVudCB0ZXh0dXJlXG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSkge1xuICAgICAgICB0aGlzLm9uUmVzaXplLnJlbW92ZShiYXNlVGV4dHVyZSk7XG4gICAgICAgIHRoaXMub25VcGRhdGUucmVtb3ZlKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5vbkVycm9yLnJlbW92ZShiYXNlVGV4dHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIGEgcmVzaXplIGV2ZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gWCBkaW1lbnNpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gWSBkaW1lbnNpb25cbiAgICAgKi9cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgaWYgKHdpZHRoICE9PSB0aGlzLl93aWR0aCB8fCBoZWlnaHQgIT09IHRoaXMuX2hlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIHRoaXMub25SZXNpemUuZW1pdCh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlc291cmNlLnByb3RvdHlwZSwgXCJ2YWxpZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYXMgYmVlbiB2YWxpZGF0ZWRcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhIXRoaXMuX3dpZHRoICYmICEhdGhpcy5faGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogSGFzIGJlZW4gdXBkYXRlZCB0cmlnZ2VyIGV2ZW50XG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhpcy5vblVwZGF0ZS5lbWl0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgY2FuIGJlIG92ZXJyaWRkZW4gdG8gc3RhcnQgcHJlbG9hZGluZyBhIHJlc291cmNlXG4gICAgICogb3IgZG8gYW55IG90aGVyIHByZXBhcmUgc3RlcC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gSGFuZGxlIHRoZSB2YWxpZGF0ZSBldmVudFxuICAgICAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlc291cmNlLnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzb3VyY2UucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc3R5bGUsIG9wdGlvbmFsIHRvIG92ZXJyaWRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0geWVhaCwgcmVuZGVyZXIhXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIC0gdGV4dHVyZSBpbnN0YW5jZSBmb3IgdGhpcyB3ZWJnbCBjb250ZXh0XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLnN0eWxlID0gZnVuY3Rpb24gKF9yZW5kZXJlciwgX2Jhc2VUZXh0dXJlLCBfZ2xUZXh0dXJlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIGFueXRoaW5nLCB0aGlzIGhhcHBlbnMgd2hlbiBkZXN0cm95aW5nIGlzIHJlYWR5LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBvdmVycmlkZVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbCB3aGVuIGRlc3Ryb3lpbmcgcmVzb3VyY2UsIHVuYmluZCBhbnkgQmFzZVRleHR1cmUgb2JqZWN0XG4gICAgICogYmVmb3JlIGNhbGxpbmcgdGhpcyBtZXRob2QsIGFzIHJlZmVyZW5jZSBjb3VudHMgYXJlIG1haW50YWluZWRcbiAgICAgKiBpbnRlcm5hbGx5LlxuICAgICAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMub25FcnJvci5yZW1vdmVBbGwoKTtcbiAgICAgICAgICAgIHRoaXMub25FcnJvciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplLnJlbW92ZUFsbCgpO1xuICAgICAgICAgICAgdGhpcy5vblJlc2l6ZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uVXBkYXRlLnJlbW92ZUFsbCgpO1xuICAgICAgICAgICAgdGhpcy5vblVwZGF0ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFic3RyYWN0LCB1c2VkIHRvIGF1dG8tZGV0ZWN0IHJlc291cmNlIHR5cGVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0geyp9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dGVuc2lvbiAtIFRoZSBleHRlbnNpb24gb2Ygc291cmNlLCBpZiBzZXRcbiAgICAgKi9cbiAgICBSZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gKF9zb3VyY2UsIF9leHRlbnNpb24pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc291cmNlO1xufSgpKTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIFNoYXJlZEFycmF5QnVmZmVyXG4gKi9cbi8qKlxuICogQnVmZmVyIHJlc291cmNlIHdpdGggZGF0YSBvZiB0eXBlZCBhcnJheS5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5SZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJ1ZmZlclJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCdWZmZXJSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxVaW50OEFycmF5fFVpbnQzMkFycmF5fSBzb3VyY2UgLSBTb3VyY2UgYnVmZmVyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBPcHRpb25zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMud2lkdGggLSBXaWR0aCBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLmhlaWdodCAtIEhlaWdodCBvZiB0aGUgdGV4dHVyZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJ1ZmZlclJlc291cmNlKHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2EgPSBvcHRpb25zIHx8IHt9LCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIGlmICghd2lkdGggfHwgIWhlaWdodCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCdWZmZXJSZXNvdXJjZSB3aWR0aCBvciBoZWlnaHQgaW52YWxpZCcpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNvdXJjZSBhcnJheVxuICAgICAgICAgKiBDYW5ub3QgYmUgQ2xhbXBlZFVpbnQ4QXJyYXkgYmVjYXVzZSBpdCBjYW50IGJlIHVwbG9hZGVkIHRvIFdlYkdMXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheXxVaW50OEFycmF5fFVpbnQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGF0YSA9IHNvdXJjZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHRleHR1cmUgdG8gdGhlIEdQVS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVXBsb2FkIHRvIHRoZSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZWZlcmVuY2UgdG8gcGFyZW50IHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmUgLSBnbFRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgQnVmZmVyUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSkge1xuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCBiYXNlVGV4dHVyZS5hbHBoYU1vZGUgPT09IEFMUEhBX01PREVTLlVOUEFDSyk7XG4gICAgICAgIGlmIChnbFRleHR1cmUud2lkdGggPT09IGJhc2VUZXh0dXJlLndpZHRoICYmIGdsVGV4dHVyZS5oZWlnaHQgPT09IGJhc2VUZXh0dXJlLmhlaWdodCkge1xuICAgICAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRChiYXNlVGV4dHVyZS50YXJnZXQsIDAsIDAsIDAsIGJhc2VUZXh0dXJlLndpZHRoLCBiYXNlVGV4dHVyZS5oZWlnaHQsIGJhc2VUZXh0dXJlLmZvcm1hdCwgYmFzZVRleHR1cmUudHlwZSwgdGhpcy5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IGJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmhlaWdodCA9IGJhc2VUZXh0dXJlLmhlaWdodDtcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoYmFzZVRleHR1cmUudGFyZ2V0LCAwLCBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQsIGJhc2VUZXh0dXJlLndpZHRoLCBiYXNlVGV4dHVyZS5oZWlnaHQsIDAsIGJhc2VUZXh0dXJlLmZvcm1hdCwgZ2xUZXh0dXJlLnR5cGUsIHRoaXMuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpc1xuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEJ1ZmZlclJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0geyp9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIDxjYW52YXM+XG4gICAgICovXG4gICAgQnVmZmVyUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheVxuICAgICAgICAgICAgfHwgc291cmNlIGluc3RhbmNlb2YgVWludDhBcnJheVxuICAgICAgICAgICAgfHwgc291cmNlIGluc3RhbmNlb2YgVWludDMyQXJyYXk7XG4gICAgfTtcbiAgICByZXR1cm4gQnVmZmVyUmVzb3VyY2U7XG59KFJlc291cmNlKSk7XG5cbnZhciBkZWZhdWx0QnVmZmVyT3B0aW9ucyA9IHtcbiAgICBzY2FsZU1vZGU6IFNDQUxFX01PREVTLk5FQVJFU1QsXG4gICAgZm9ybWF0OiBGT1JNQVRTLlJHQkEsXG4gICAgYWxwaGFNb2RlOiBBTFBIQV9NT0RFUy5OUE0sXG59O1xuLyoqXG4gKiBBIFRleHR1cmUgc3RvcmVzIHRoZSBpbmZvcm1hdGlvbiB0aGF0IHJlcHJlc2VudHMgYW4gaW1hZ2UuXG4gKiBBbGwgdGV4dHVyZXMgaGF2ZSBhIGJhc2UgdGV4dHVyZSwgd2hpY2ggY29udGFpbnMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHNvdXJjZS5cbiAqIFRoZXJlZm9yZSB5b3UgY2FuIGhhdmUgbWFueSB0ZXh0dXJlcyBhbGwgdXNpbmcgYSBzaW5nbGUgQmFzZVRleHR1cmVcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVQYXJhbSBSIC0gVGhlIEJhc2VUZXh0dXJlJ3MgUmVzb3VyY2UgdHlwZS5cbiAqIEB0eXBlUGFyYW0gUk8gLSBUaGUgb3B0aW9ucyBmb3IgY29uc3RydWN0aW5nIHJlc291cmNlLlxuICovXG52YXIgQmFzZVRleHR1cmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhc2VUZXh0dXJlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZXNvdXJjZXxzdHJpbmd8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBbcmVzb3VyY2U9bnVsbF0gLVxuICAgICAqICAgICAgICBUaGUgY3VycmVudCByZXNvdXJjZSB0byB1c2UsIGZvciB0aGluZ3MgdGhhdCBhcmVuJ3QgUmVzb3VyY2Ugb2JqZWN0cywgd2lsbCBiZSBjb252ZXJ0ZWRcbiAgICAgKiAgICAgICAgaW50byBhIFJlc291cmNlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBDb2xsZWN0aW9uIG9mIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge1BJWEkuTUlQTUFQX01PREVTfSBbb3B0aW9ucy5taXBtYXA9UElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVNdIC0gSWYgbWlwbWFwcGluZyBpcyBlbmFibGVkIGZvciB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFuaXNvdHJvcGljTGV2ZWw9UElYSS5zZXR0aW5ncy5BTklTT1RST1BJQ19MRVZFTF0gLSBBbmlzb3Ryb3BpYyBmaWx0ZXJpbmcgbGV2ZWwgb2YgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5XUkFQX01PREVTfSBbb3B0aW9ucy53cmFwTW9kZT1QSVhJLnNldHRpbmdzLldSQVBfTU9ERV0gLSBXcmFwIG1vZGUgZm9yIHRleHR1cmVzXG4gICAgICogQHBhcmFtIHtQSVhJLlNDQUxFX01PREVTfSBbb3B0aW9ucy5zY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIERlZmF1bHQgc2NhbGUgbW9kZSwgbGluZWFyLCBuZWFyZXN0XG4gICAgICogQHBhcmFtIHtQSVhJLkZPUk1BVFN9IFtvcHRpb25zLmZvcm1hdD1QSVhJLkZPUk1BVFMuUkdCQV0gLSBHTCBmb3JtYXQgdHlwZVxuICAgICAqIEBwYXJhbSB7UElYSS5UWVBFU30gW29wdGlvbnMudHlwZT1QSVhJLlRZUEVTLlVOU0lHTkVEX0JZVEVdIC0gR0wgZGF0YSB0eXBlXG4gICAgICogQHBhcmFtIHtQSVhJLlRBUkdFVFN9IFtvcHRpb25zLnRhcmdldD1QSVhJLlRBUkdFVFMuVEVYVFVSRV8yRF0gLSBHTCB0ZXh0dXJlIHRhcmdldFxuICAgICAqIEBwYXJhbSB7UElYSS5BTFBIQV9NT0RFU30gW29wdGlvbnMuYWxwaGFNb2RlPVBJWEkuQUxQSEFfTU9ERVMuVU5QQUNLXSAtIFByZSBtdWx0aXBseSB0aGUgaW1hZ2UgYWxwaGFcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9MF0gLSBXaWR0aCBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9MF0gLSBIZWlnaHQgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbl0gLSBSZXNvbHV0aW9uIG9mIHRoZSBiYXNlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMucmVzb3VyY2VPcHRpb25zXSAtIE9wdGlvbmFsIHJlc291cmNlIG9wdGlvbnMsXG4gICAgICogICAgICAgIHNlZSB7QGxpbmsgUElYSS5hdXRvRGV0ZWN0UmVzb3VyY2UgYXV0b0RldGVjdFJlc291cmNlfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhc2VUZXh0dXJlKHJlc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChyZXNvdXJjZSA9PT0gdm9pZCAwKSB7IHJlc291cmNlID0gbnVsbDsgfVxuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSBudWxsOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgYWxwaGFNb2RlID0gb3B0aW9ucy5hbHBoYU1vZGUsIG1pcG1hcCA9IG9wdGlvbnMubWlwbWFwLCBhbmlzb3Ryb3BpY0xldmVsID0gb3B0aW9ucy5hbmlzb3Ryb3BpY0xldmVsLCBzY2FsZU1vZGUgPSBvcHRpb25zLnNjYWxlTW9kZSwgd2lkdGggPSBvcHRpb25zLndpZHRoLCBoZWlnaHQgPSBvcHRpb25zLmhlaWdodCwgd3JhcE1vZGUgPSBvcHRpb25zLndyYXBNb2RlLCBmb3JtYXQgPSBvcHRpb25zLmZvcm1hdCwgdHlwZSA9IG9wdGlvbnMudHlwZSwgdGFyZ2V0ID0gb3B0aW9ucy50YXJnZXQsIHJlc29sdXRpb24gPSBvcHRpb25zLnJlc29sdXRpb24sIHJlc291cmNlT3B0aW9ucyA9IG9wdGlvbnMucmVzb3VyY2VPcHRpb25zO1xuICAgICAgICAvLyBDb252ZXJ0IHRoZSByZXNvdXJjZSB0byBhIFJlc291cmNlIG9iamVjdFxuICAgICAgICBpZiAocmVzb3VyY2UgJiYgIShyZXNvdXJjZSBpbnN0YW5jZW9mIFJlc291cmNlKSkge1xuICAgICAgICAgICAgcmVzb3VyY2UgPSBhdXRvRGV0ZWN0UmVzb3VyY2UocmVzb3VyY2UsIHJlc291cmNlT3B0aW9ucyk7XG4gICAgICAgICAgICByZXNvdXJjZS5pbnRlcm5hbCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgYmFzZSB0ZXh0dXJlIHNldCB3aGVuIHRoZSBpbWFnZSBoYXMgbG9hZGVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy53aWR0aCA9IHdpZHRoIHx8IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBiYXNlIHRleHR1cmUgc2V0IHdoZW4gdGhlIGltYWdlIGhhcyBsb2FkZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmhlaWdodCA9IGhlaWdodCB8fCAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLlJFU09MVVRJT05cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaXBtYXAgbW9kZSBvZiB0aGUgdGV4dHVyZSwgYWZmZWN0cyBkb3duc2NhbGVkIGltYWdlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1JUE1BUF9NT0RFU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1pcG1hcCA9IG1pcG1hcCAhPT0gdW5kZWZpbmVkID8gbWlwbWFwIDogc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW5pc290cm9waWMgZmlsdGVyaW5nIGxldmVsIG9mIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLkFOSVNPVFJPUElDX0xFVkVMXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmlzb3Ryb3BpY0xldmVsID0gYW5pc290cm9waWNMZXZlbCAhPT0gdW5kZWZpbmVkID8gYW5pc290cm9waWNMZXZlbCA6IHNldHRpbmdzLkFOSVNPVFJPUElDX0xFVkVMO1xuICAgICAgICAvKipcbiAgICAgICAgICogSG93IHRoZSB0ZXh0dXJlIHdyYXBzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndyYXBNb2RlID0gd3JhcE1vZGUgfHwgc2V0dGluZ3MuV1JBUF9NT0RFO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNjYWxlIG1vZGUgdG8gYXBwbHkgd2hlbiBzY2FsaW5nIHRoaXMgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNDQUxFX01PREVTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLlNDQUxFX01PREVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNjYWxlTW9kZSA9IHNjYWxlTW9kZSAhPT0gdW5kZWZpbmVkID8gc2NhbGVNb2RlIDogc2V0dGluZ3MuU0NBTEVfTU9ERTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwaXhlbCBmb3JtYXQgb2YgdGhlIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GT1JNQVRTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkZPUk1BVFMuUkdCQVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZm9ybWF0ID0gZm9ybWF0IHx8IEZPUk1BVFMuUkdCQTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHJlc291cmNlIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UWVBFU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5UWVBFUy5VTlNJR05FRF9CWVRFXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50eXBlID0gdHlwZSB8fCBUWVBFUy5VTlNJR05FRF9CWVRFO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRhcmdldCB0eXBlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVEFSR0VUU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5UQVJHRVRTLlRFWFRVUkVfMkRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRhcmdldCA9IHRhcmdldCB8fCBUQVJHRVRTLlRFWFRVUkVfMkQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb3cgdG8gdHJlYXQgcHJlbXVsdGlwbGllZCBhbHBoYSwgc2VlIHtAbGluayBQSVhJLkFMUEhBX01PREVTfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5BTFBIQV9NT0RFU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5BTFBIQV9NT0RFUy5VTlBBQ0tcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFscGhhTW9kZSA9IGFscGhhTW9kZSAhPT0gdW5kZWZpbmVkID8gYWxwaGFNb2RlIDogQUxQSEFfTU9ERVMuVU5QQUNLO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2xvYmFsIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIEJhc2VUZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudWlkID0gdWlkKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGJ5IGF1dG9tYXRpYyB0ZXh0dXJlIEdhcmJhZ2UgQ29sbGVjdGlvbiwgc3RvcmVzIGxhc3QgR0MgdGljayB3aGVuIGl0IHdhcyBib3VuZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRvdWNoZWQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhlIHRleHR1cmUgaXMgYSBwb3dlciBvZiB0d28sIHRyeSB0byB1c2UgcG93ZXIgb2YgdHdvIHRleHR1cmVzIGFzIG11Y2hcbiAgICAgICAgICogYXMgeW91IGNhblxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmlzUG93ZXJPZlR3byA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fcmVmcmVzaFBPVCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hcCBvZiByZW5kZXIgY29udGV4dCB0ZXh0dXJlcyB3aGVyZSB0aGlzIGlzIGJvdW5kXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9nbFRleHR1cmVzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGJ5IFRleHR1cmVTeXN0ZW0gdG8gb25seSB1cGRhdGUgdGV4dHVyZSB0byB0aGUgR1BVIHdoZW4gbmVlZGVkLlxuICAgICAgICAgKiBQbGVhc2UgY2FsbCBgdXBkYXRlKClgIHRvIGluY3JlbWVudCBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRpcnR5SWQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBieSBUZXh0dXJlU3lzdGVtIHRvIG9ubHkgdXBkYXRlIHRleHR1cmUgc3R5bGUgd2hlbiBuZWVkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGlydHlTdHlsZUlkID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnRseSBkZWZhdWx0IGNhY2hlIElELlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYWNoZUlkID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdlbmVyYWxseSBzcGVha2luZyBtZWFucyB3aGVuIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52YWxpZCA9IHdpZHRoID4gMCAmJiBoZWlnaHQgPiAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgYWx0ZXJuYXRpdmUgY2FjaGUgaWRzLCBzaW5jZSBzb21lIEJhc2VUZXh0dXJlc1xuICAgICAgICAgKiBjYW4gaGF2ZSBtb3JlIHRoYW4gb25lIElELCBzaG9ydCBuYW1lIGFuZCBsb25nZXIgZnVsbCBVUkxcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8c3RyaW5nPn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZsYWcgaWYgQmFzZVRleHR1cmUgaGFzIGJlZW4gZGVzdHJveWVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc291cmNlIHVzZWQgYnkgdGhpcyBCYXNlVGV4dHVyZSwgdGhlcmUgY2FuIG9ubHlcbiAgICAgICAgICogYmUgb25lIHJlc291cmNlIHBlciBCYXNlVGV4dHVyZSwgYnV0IHRleHR1cmVzIGNhbiBzaGFyZVxuICAgICAgICAgKiByZXNvdXJjZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVzb3VyY2V9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzb3VyY2UgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIHRoZSB0ZXh0dXJlIGJhdGNoLCB1c2VkIGJ5IG11bHRpLXRleHR1cmUgcmVuZGVyZXJzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9iYXRjaEVuYWJsZWQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogTG9jYXRpb24gaW5zaWRlIHRleHR1cmUgYmF0Y2gsIHVzZWQgYnkgbXVsdGktdGV4dHVyZSByZW5kZXJlcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JhdGNoTG9jYXRpb24gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBpdHMgYSBwYXJ0IG9mIGFub3RoZXIgdGV4dHVyZSwgaGFuZGxlZCBieSBBcnJheVJlc291cmNlIG9yIEN1YmVSZXNvdXJjZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGFyZW50VGV4dHVyZUFycmF5ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBub3QtaW1tZWRpYXRlbHktYXZhaWxhYmxlIHNvdXJjZSBmaW5pc2hlcyBsb2FkaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2xvYWRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVzb3VyY2UgbG9hZGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBub3QtaW1tZWRpYXRlbHktYXZhaWxhYmxlIHNvdXJjZSBmYWlscyB0byBsb2FkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2Vycm9yXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBlcnJvcmVkLlxuICAgICAgICAgKiBAcGFyYW0ge0Vycm9yRXZlbnR9IGV2ZW50IC0gTG9hZCBlcnJvciBldmVudC5cbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIEJhc2VUZXh0dXJlIGlzIHVwZGF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjbG9hZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBsb2FkZWQuXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBCYXNlVGV4dHVyZSBpcyB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI3VwZGF0ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gSW5zdGFuY2Ugb2YgdGV4dHVyZSBiZWluZyB1cGRhdGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gQmFzZVRleHR1cmUgaXMgZGVzdHJveWVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2Rpc3Bvc2VcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIEluc3RhbmNlIG9mIHRleHR1cmUgYmVpbmcgZGVzdHJveWVkLlxuICAgICAgICAgKi9cbiAgICAgICAgLy8gU2V0IHRoZSByZXNvdXJjZVxuICAgICAgICBfdGhpcy5zZXRSZXNvdXJjZShyZXNvdXJjZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhc2VUZXh0dXJlLnByb3RvdHlwZSwgXCJyZWFsV2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUGl4ZWwgd2lkdGggb2YgdGhlIHNvdXJjZSBvZiB0aGlzIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguY2VpbCgodGhpcy53aWR0aCAqIHRoaXMucmVzb2x1dGlvbikgLSAxZS00KTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXNlVGV4dHVyZS5wcm90b3R5cGUsIFwicmVhbEhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQaXhlbCBoZWlnaHQgb2YgdGhlIHNvdXJjZSBvZiB0aGlzIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguY2VpbCgodGhpcy5oZWlnaHQgKiB0aGlzLnJlc29sdXRpb24pIC0gMWUtNCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHN0eWxlIG9wdGlvbnMgb2YgQmFzZVRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TQ0FMRV9NT0RFU30gW3NjYWxlTW9kZV0gLSBQaXhpIHNjYWxlbW9kZVxuICAgICAqIEBwYXJhbSB7UElYSS5NSVBNQVBfTU9ERVN9IFttaXBtYXBdIC0gZW5hYmxlIG1pcG1hcHNcbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uIChzY2FsZU1vZGUsIG1pcG1hcCkge1xuICAgICAgICB2YXIgZGlydHk7XG4gICAgICAgIGlmIChzY2FsZU1vZGUgIT09IHVuZGVmaW5lZCAmJiBzY2FsZU1vZGUgIT09IHRoaXMuc2NhbGVNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlTW9kZSA9IHNjYWxlTW9kZTtcbiAgICAgICAgICAgIGRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWlwbWFwICE9PSB1bmRlZmluZWQgJiYgbWlwbWFwICE9PSB0aGlzLm1pcG1hcCkge1xuICAgICAgICAgICAgdGhpcy5taXBtYXAgPSBtaXBtYXA7XG4gICAgICAgICAgICBkaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5U3R5bGVJZCsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB3L2gvcmVzb2x1dGlvbi4gVGV4dHVyZSBiZWNvbWVzIHZhbGlkIGlmIHdpZHRoIGFuZCBoZWlnaHQgYXJlIGdyZWF0ZXIgdGhhbiB6ZXJvLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVmlzdWFsIHdpZHRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFZpc3VhbCBoZWlnaHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25dIC0gT3B0aW9uYWxseSBzZXQgcmVzb2x1dGlvblxuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSB0aGlzXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnNldFNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgcmVhbCBzaXplIG9mIGJhc2VUZXh0dXJlLCBwcmVzZXJ2ZXMgY3VycmVudCByZXNvbHV0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlYWxXaWR0aCAtIEZ1bGwgcmVuZGVyZWQgd2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVhbEhlaWdodCAtIEZ1bGwgcmVuZGVyZWQgaGVpZ2h0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uXSAtIE9wdGlvbmFsbHkgc2V0IHJlc29sdXRpb25cbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5zZXRSZWFsU2l6ZSA9IGZ1bmN0aW9uIChyZWFsV2lkdGgsIHJlYWxIZWlnaHQsIHJlc29sdXRpb24pIHtcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMud2lkdGggPSByZWFsV2lkdGggLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gcmVhbEhlaWdodCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZnJlc2ggY2hlY2sgZm9yIGlzUG93ZXJPZlR3byB0ZXh0dXJlIGJhc2VkIG9uIHNpemVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLl9yZWZyZXNoUE9UID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmlzUG93ZXJPZlR3byA9IGlzUG93Mih0aGlzLnJlYWxXaWR0aCkgJiYgaXNQb3cyKHRoaXMucmVhbEhlaWdodCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHJlc29sdXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gcmVzXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuc2V0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChyZXNvbHV0aW9uKSB7XG4gICAgICAgIHZhciBvbGRSZXNvbHV0aW9uID0gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICBpZiAob2xkUmVzb2x1dGlvbiA9PT0gcmVzb2x1dGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKHRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLndpZHRoICogb2xkUmVzb2x1dGlvbiAvIHJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICogb2xkUmVzb2x1dGlvbiAvIHJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlZnJlc2hQT1QoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSByZXNvdXJjZSBpZiBpdCB3YXNuJ3Qgc2V0LiBUaHJvd3MgZXJyb3IgaWYgcmVzb3VyY2UgYWxyZWFkeSBwcmVzZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVzb3VyY2V9IHJlc291cmNlIC0gdGhhdCBpcyBtYW5hZ2luZyB0aGlzIEJhc2VUZXh0dXJlXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuc2V0UmVzb3VyY2UgPSBmdW5jdGlvbiAocmVzb3VyY2UpIHtcbiAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UgPT09IHJlc291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZXNvdXJjZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXNvdXJjZSBjYW4gYmUgc2V0IG9ubHkgb25jZScpO1xuICAgICAgICB9XG4gICAgICAgIHJlc291cmNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVzb3VyY2UgPSByZXNvdXJjZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnZhbGlkYXRlcyB0aGUgb2JqZWN0LiBUZXh0dXJlIGJlY29tZXMgdmFsaWQgaWYgd2lkdGggYW5kIGhlaWdodCBhcmUgZ3JlYXRlciB0aGFuIHplcm8uXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy53aWR0aCA+IDAgJiYgdGhpcy5oZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdsb2FkZWQnLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgICAgICB0aGlzLmRpcnR5U3R5bGVJZCsrO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGVycm9ycyB3aXRoIHJlc291cmNlcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXJyb3JFdmVudH0gZXZlbnQgLSBFcnJvciBldmVudCBlbWl0dGVkLlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCB0aGlzLCBldmVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIGJhc2UgdGV4dHVyZS5cbiAgICAgKiBUaGUgbWV0aG9kIHN0b3BzIGlmIHJlc291cmNlIGRvZXNuJ3Qgd2FudCB0aGlzIHRleHR1cmUgdG8gYmUgZGVzdHJveWVkLlxuICAgICAqIFJlbW92ZXMgdGV4dHVyZSBmcm9tIGFsbCBjYWNoZXMuXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHJlbW92ZSBhbmQgZGVzdHJveSB0aGUgcmVzb3VyY2VcbiAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2UudW5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgLy8gb25seSBkZXN0cm95IHJlc291cmNlZCBjcmVhdGVkIGludGVybmFsbHlcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc291cmNlLmludGVybmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvdXJjZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlc291cmNlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jYWNoZUlkKSB7XG4gICAgICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVt0aGlzLmNhY2hlSWRdO1xuICAgICAgICAgICAgZGVsZXRlIFRleHR1cmVDYWNoZVt0aGlzLmNhY2hlSWRdO1xuICAgICAgICAgICAgdGhpcy5jYWNoZUlkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBmaW5hbGx5IGxldCB0aGUgV2ViR0wgcmVuZGVyZXIga25vdy4uXG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICBCYXNlVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcyk7XG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRnJlZXMgdGhlIHRleHR1cmUgZnJvbSBXZWJHTCBtZW1vcnkgd2l0aG91dCBkZXN0cm95aW5nIHRoaXMgdGV4dHVyZSBvYmplY3QuXG4gICAgICogVGhpcyBtZWFucyB5b3UgY2FuIHN0aWxsIHVzZSB0aGUgdGV4dHVyZSBsYXRlciB3aGljaCB3aWxsIHVwbG9hZCBpdCB0byBHUFVcbiAgICAgKiBtZW1vcnkgYWdhaW4uXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUElYSS5CYXNlVGV4dHVyZSNkaXNwb3NlXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZGlzcG9zZScsIHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXRpbGl0eSBmdW5jdGlvbiBmb3IgQmFzZVRleHR1cmV8VGV4dHVyZSBjYXN0XG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmNhc3RUb0Jhc2VUZXh0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBiYXNlIHRleHR1cmUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGltYWdlIHVybCwgaW1hZ2UgZWxlbWVudCwgY2FudmFzIGVsZW1lbnQuIElmIHRoZVxuICAgICAqIHNvdXJjZSBpcyBhbiBpbWFnZSB1cmwgb3IgYW4gaW1hZ2UgZWxlbWVudCBhbmQgbm90IGluIHRoZSBiYXNlIHRleHR1cmVcbiAgICAgKiBjYWNoZSwgaXQgd2lsbCBiZSBjcmVhdGVkIGFuZCBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxTVkdFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSAtIFRoZVxuICAgICAqICAgICAgICBzb3VyY2UgdG8gY3JlYXRlIGJhc2UgdGV4dHVyZSBmcm9tLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBpeGlJZFByZWZpeD1waXhpaWRdIC0gSWYgYSBzb3VyY2UgaGFzIG5vIGlkLCB0aGlzIGlzIHRoZSBwcmVmaXggb2YgdGhlIGdlbmVyYXRlZCBpZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0cmljdF0gLSBFbmZvcmNlIHN0cmljdC1tb2RlLCBzZWUge0BsaW5rIFBJWEkuc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEV9LlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSBUaGUgbmV3IGJhc2UgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5mcm9tID0gZnVuY3Rpb24gKHNvdXJjZSwgb3B0aW9ucywgc3RyaWN0KSB7XG4gICAgICAgIGlmIChzdHJpY3QgPT09IHZvaWQgMCkgeyBzdHJpY3QgPSBzZXR0aW5ncy5TVFJJQ1RfVEVYVFVSRV9DQUNIRTsgfVxuICAgICAgICB2YXIgaXNGcmFtZSA9IHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnO1xuICAgICAgICB2YXIgY2FjaGVJZCA9IG51bGw7XG4gICAgICAgIGlmIChpc0ZyYW1lKSB7XG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFzb3VyY2UuX3BpeGlJZCkge1xuICAgICAgICAgICAgICAgIHZhciBwcmVmaXggPSAob3B0aW9ucyAmJiBvcHRpb25zLnBpeGlJZFByZWZpeCkgfHwgJ3BpeGlpZCc7XG4gICAgICAgICAgICAgICAgc291cmNlLl9waXhpSWQgPSBwcmVmaXggKyBcIl9cIiArIHVpZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FjaGVJZCA9IHNvdXJjZS5fcGl4aUlkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IEJhc2VUZXh0dXJlQ2FjaGVbY2FjaGVJZF07XG4gICAgICAgIC8vIFN0cmljdC1tb2RlIHJlamVjdHMgaW52YWxpZCBjYWNoZUlkc1xuICAgICAgICBpZiAoaXNGcmFtZSAmJiBzdHJpY3QgJiYgIWJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgY2FjaGVJZCBcXFwiXCIgKyBjYWNoZUlkICsgXCJcXFwiIGRvZXMgbm90IGV4aXN0IGluIEJhc2VUZXh0dXJlQ2FjaGUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKHNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5jYWNoZUlkID0gY2FjaGVJZDtcbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUoYmFzZVRleHR1cmUsIGNhY2hlSWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiYXNlVGV4dHVyZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBCYXNlVGV4dHVyZSB3aXRoIGEgQnVmZmVyUmVzb3VyY2UgZnJvbSBhIEZsb2F0MzJBcnJheS5cbiAgICAgKiBSR0JBIHZhbHVlcyBhcmUgZmxvYXRzIGZyb20gMCB0byAxLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxVaW50OEFycmF5fSBidWZmZXIgLSBUaGUgb3B0aW9uYWwgYXJyYXkgdG8gdXNlLCBpZiBubyBkYXRhXG4gICAgICogICAgICAgIGlzIHByb3ZpZGVkLCBhIG5ldyBGbG9hdDMyQXJyYXkgaXMgY3JlYXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7UElYSS5CYXNlVGV4dHVyZX0gVGhlIHJlc3VsdGluZyBuZXcgQmFzZVRleHR1cmVcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5mcm9tQnVmZmVyID0gZnVuY3Rpb24gKGJ1ZmZlciwgd2lkdGgsIGhlaWdodCwgb3B0aW9ucykge1xuICAgICAgICBidWZmZXIgPSBidWZmZXIgfHwgbmV3IEZsb2F0MzJBcnJheSh3aWR0aCAqIGhlaWdodCAqIDQpO1xuICAgICAgICB2YXIgcmVzb3VyY2UgPSBuZXcgQnVmZmVyUmVzb3VyY2UoYnVmZmVyLCB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfSk7XG4gICAgICAgIHZhciB0eXBlID0gYnVmZmVyIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5ID8gVFlQRVMuRkxPQVQgOiBUWVBFUy5VTlNJR05FRF9CWVRFO1xuICAgICAgICByZXR1cm4gbmV3IEJhc2VUZXh0dXJlKHJlc291cmNlLCBPYmplY3QuYXNzaWduKGRlZmF1bHRCdWZmZXJPcHRpb25zLCBvcHRpb25zIHx8IHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCwgdHlwZTogdHlwZSB9KSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgQmFzZVRleHR1cmUgdG8gdGhlIGdsb2JhbCBCYXNlVGV4dHVyZUNhY2hlLiBUaGlzIGNhY2hlIGlzIHNoYXJlZCBhY3Jvc3MgdGhlIHdob2xlIFBJWEkgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBUaGUgQmFzZVRleHR1cmUgdG8gYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgdGhhdCB0aGUgQmFzZVRleHR1cmUgd2lsbCBiZSBzdG9yZWQgYWdhaW5zdC5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlLCBpZCkge1xuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihpZCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLnB1c2goaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKEJhc2VUZXh0dXJlQ2FjaGVbaWRdKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJCYXNlVGV4dHVyZSBhZGRlZCB0byB0aGUgY2FjaGUgd2l0aCBhbiBpZCBbXCIgKyBpZCArIFwiXSB0aGF0IGFscmVhZHkgaGFkIGFuIGVudHJ5XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQmFzZVRleHR1cmVDYWNoZVtpZF0gPSBiYXNlVGV4dHVyZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgQmFzZVRleHR1cmUgZnJvbSB0aGUgZ2xvYmFsIEJhc2VUZXh0dXJlQ2FjaGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBpZCBvZiBhIEJhc2VUZXh0dXJlIHRvIGJlIHJlbW92ZWQsIG9yIGEgQmFzZVRleHR1cmUgaW5zdGFuY2UgaXRzZWxmLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVRleHR1cmV8bnVsbH0gVGhlIEJhc2VUZXh0dXJlIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYmFzZVRleHR1cmUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgYmFzZVRleHR1cmVGcm9tQ2FjaGUgPSBCYXNlVGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlXTtcbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZUZyb21DYWNoZSkge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGJhc2VUZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVsZXRlIEJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVdO1xuICAgICAgICAgICAgICAgIHJldHVybiBiYXNlVGV4dHVyZUZyb21DYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiYXNlVGV4dHVyZSAmJiBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIEJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2xvYmFsIG51bWJlciBvZiB0aGUgdGV4dHVyZSBiYXRjaCwgdXNlZCBieSBtdWx0aS10ZXh0dXJlIHJlbmRlcmVyc1xuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2ggPSAwO1xuICAgIHJldHVybiBCYXNlVGV4dHVyZTtcbn0oRXZlbnRFbWl0dGVyKSk7XG5cbi8qKlxuICogUmVzb3VyY2UgdGhhdCBjYW4gbWFuYWdlIHNldmVyYWwgcmVzb3VyY2UgKGl0ZW1zKSBpbnNpZGUuXG4gKiBBbGwgcmVzb3VyY2VzIG5lZWQgdG8gaGF2ZSB0aGUgc2FtZSBwaXhlbCBzaXplLlxuICogUGFyZW50IGNsYXNzIGZvciBDdWJlUmVzb3VyY2UgYW5kIEFycmF5UmVzb3VyY2VcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBYnN0cmFjdE11bHRpUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFic3RyYWN0TXVsdGlSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnMgdG8gZm9yIFJlc291cmNlIGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoXSAtIFdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIC0gSGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TXVsdGlSZXNvdXJjZShsZW5ndGgsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9hID0gb3B0aW9ucyB8fCB7fSwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIHBhcnRpYWwgYmFzZVRleHR1cmVzIHRoYXQgY29ycmVzcG9uZCB0byByZXNvdXJjZXNcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8UElYSS5CYXNlVGV4dHVyZT59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaXRlbXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpcnR5IElEcyBmb3IgZWFjaCBwYXJ0XG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaXRlbURpcnR5SWRzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJ0VGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZSgpO1xuICAgICAgICAgICAgX3RoaXMuaXRlbXMucHVzaChwYXJ0VGV4dHVyZSk7XG4gICAgICAgICAgICAvLyAtMiAtIGZpcnN0IHJ1biBvZiB0ZXh0dXJlIGFycmF5IHVwbG9hZFxuICAgICAgICAgICAgLy8gLTEgLSB0ZXh0dXJlIGl0ZW0gd2FzIGFsbG9jYXRlZFxuICAgICAgICAgICAgLy8gPj0wIC0gdGV4dHVyZSBpdGVtIHVwbG9hZGVkICwgaW4gc3luYyB3aXRoIGl0ZW1zW2ldLmRpcnR5SWRcbiAgICAgICAgICAgIF90aGlzLml0ZW1EaXJ0eUlkcy5wdXNoKC0yKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIGVsZW1lbnRzIGluIGFycmF5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9taXNlIHdoZW4gbG9hZGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtQcm9taXNlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCb3VuZCBiYXNlVGV4dHVyZSwgdGhlcmUgY2FuIG9ubHkgYmUgb25lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogdXNlZCBmcm9tIEFycmF5UmVzb3VyY2UgYW5kIEN1YmVSZXNvdXJjZSBjb25zdHJ1Y3RvcnNcbiAgICAgKiBAcGFyYW0ge0FycmF5PCo+fSByZXNvdXJjZXMgLSBDYW4gYmUgcmVzb3VyY2VzLCBpbWFnZSBlbGVtZW50cywgY2FudmFzLCBldGMuICxcbiAgICAgKiAgbGVuZ3RoIHNob3VsZCBiZSBzYW1lIGFzIGNvbnN0cnVjdG9yIGxlbmd0aFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBkZXRlY3Qgb3B0aW9ucyBmb3IgcmVzb3VyY2VzXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEFic3RyYWN0TXVsdGlSZXNvdXJjZS5wcm90b3R5cGUuaW5pdEZyb21BcnJheSA9IGZ1bmN0aW9uIChyZXNvdXJjZXMsIG9wdGlvbnMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIXJlc291cmNlc1tpXSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc291cmNlc1tpXS5jYXN0VG9CYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQmFzZVRleHR1cmVBdChyZXNvdXJjZXNbaV0uY2FzdFRvQmFzZVRleHR1cmUoKSwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZXNvdXJjZXNbaV0gaW5zdGFuY2VvZiBSZXNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkUmVzb3VyY2VBdChyZXNvdXJjZXNbaV0sIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRSZXNvdXJjZUF0KGF1dG9EZXRlY3RSZXNvdXJjZShyZXNvdXJjZXNbaV0sIG9wdGlvbnMpLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGlzIEJhc2VJbWFnZVJlc291cmNlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgQWJzdHJhY3RNdWx0aVJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pdGVtcyA9IG51bGw7XG4gICAgICAgIHRoaXMuaXRlbURpcnR5SWRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgYSByZXNvdXJjZSBieSBJRFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFplcm8tYmFzZWQgaW5kZXggb2YgcmVzb3VyY2UgdG8gc2V0XG4gICAgICogQHJldHVybiB7UElYSS5BcnJheVJlc291cmNlfSBJbnN0YW5jZSBmb3IgY2hhaW5pbmdcbiAgICAgKi9cbiAgICBBYnN0cmFjdE11bHRpUmVzb3VyY2UucHJvdG90eXBlLmFkZFJlc291cmNlQXQgPSBmdW5jdGlvbiAocmVzb3VyY2UsIGluZGV4KSB7XG4gICAgICAgIGlmICghdGhpcy5pdGVtc1tpbmRleF0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkluZGV4IFwiICsgaW5kZXggKyBcIiBpcyBvdXQgb2YgYm91bmRzXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEluaGVyaXQgdGhlIGZpcnN0IHJlc291cmNlIGRpbWVuc2lvbnNcbiAgICAgICAgaWYgKHJlc291cmNlLnZhbGlkICYmICF0aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZShyZXNvdXJjZS53aWR0aCwgcmVzb3VyY2UuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLml0ZW1zW2luZGV4XS5zZXRSZXNvdXJjZShyZXNvdXJjZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBwYXJlbnQgYmFzZSB0ZXh0dXJlXG4gICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBBYnN0cmFjdE11bHRpUmVzb3VyY2UucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgaWYgKHRoaXMuYmFzZVRleHR1cmUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT25seSBvbmUgYmFzZSB0ZXh0dXJlIHBlciBUZXh0dXJlQXJyYXkgaXMgYWxsb3dlZCcpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsIGJhc2VUZXh0dXJlKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLnBhcmVudFRleHR1cmVBcnJheSA9IGJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5vbigndXBkYXRlJywgYmFzZVRleHR1cmUudXBkYXRlLCBiYXNlVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVuc2V0IHRoZSBwYXJlbnQgYmFzZSB0ZXh0dXJlXG4gICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBBYnN0cmFjdE11bHRpUmVzb3VyY2UucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVuYmluZC5jYWxsKHRoaXMsIGJhc2VUZXh0dXJlKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLnBhcmVudFRleHR1cmVBcnJheSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLm9mZigndXBkYXRlJywgYmFzZVRleHR1cmUudXBkYXRlLCBiYXNlVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvYWQgYWxsIHRoZSByZXNvdXJjZXMgc2ltdWx0YW5lb3VzbHlcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPHZvaWQ+fSBXaGVuIGxvYWQgaXMgcmVzb2x2ZWRcbiAgICAgKi9cbiAgICBBYnN0cmFjdE11bHRpUmVzb3VyY2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl9sb2FkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzb3VyY2VzID0gdGhpcy5pdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0ucmVzb3VyY2U7IH0pLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbTsgfSk7XG4gICAgICAgIC8vIFRPRE86IGFsc28gaW1wbGVtZW50IGxvYWQgcGFydC1ieS1wYXJ0IHN0cmF0ZWd5XG4gICAgICAgIHZhciBwcm9taXNlcyA9IHJlc291cmNlcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0ubG9hZCgpOyB9KTtcbiAgICAgICAgdGhpcy5fbG9hZCA9IFByb21pc2UuYWxsKHByb21pc2VzKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMuaXRlbXNbMF0sIHJlYWxXaWR0aCA9IF9hLnJlYWxXaWR0aCwgcmVhbEhlaWdodCA9IF9hLnJlYWxIZWlnaHQ7XG4gICAgICAgICAgICBfdGhpcy5yZXNpemUocmVhbFdpZHRoLCByZWFsSGVpZ2h0KTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoX3RoaXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfTtcbiAgICByZXR1cm4gQWJzdHJhY3RNdWx0aVJlc291cmNlO1xufShSZXNvdXJjZSkpO1xuXG4vKipcbiAqIEEgcmVzb3VyY2UgdGhhdCBjb250YWlucyBhIG51bWJlciBvZiBzb3VyY2VzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5SZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEFycmF5UmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFycmF5UmVzb3VyY2UsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8QXJyYXk8Kj59IHNvdXJjZSAtIE51bWJlciBvZiBpdGVtcyBpbiBhcnJheSBvciB0aGUgY29sbGVjdGlvblxuICAgICAqICAgICAgICBvZiBpbWFnZSBVUkxzIHRvIHVzZS4gQ2FuIGFsc28gYmUgcmVzb3VyY2VzLCBpbWFnZSBlbGVtZW50cywgY2FudmFzLCBldGMuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnMgdG8gYXBwbHkgdG8ge0BsaW5rIFBJWEkuYXV0b0RldGVjdFJlc291cmNlfVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBcnJheVJlc291cmNlKHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2EgPSBvcHRpb25zIHx8IHt9LCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIHZhciB1cmxzO1xuICAgICAgICB2YXIgbGVuZ3RoO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICAgICAgICB1cmxzID0gc291cmNlO1xuICAgICAgICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGxlbmd0aCwgeyB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH0pIHx8IHRoaXM7XG4gICAgICAgIGlmICh1cmxzKSB7XG4gICAgICAgICAgICBfdGhpcy5pbml0RnJvbUFycmF5KHVybHMsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGEgYmFzZVRleHR1cmUgYnkgSUQsXG4gICAgICogQXJyYXlSZXNvdXJjZSBqdXN0IHRha2VzIHJlc291cmNlIGZyb20gaXQsIG5vdGhpbmcgbW9yZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFplcm8tYmFzZWQgaW5kZXggb2YgcmVzb3VyY2UgdG8gc2V0XG4gICAgICogQHJldHVybiB7UElYSS5BcnJheVJlc291cmNlfSBJbnN0YW5jZSBmb3IgY2hhaW5pbmdcbiAgICAgKi9cbiAgICBBcnJheVJlc291cmNlLnByb3RvdHlwZS5hZGRCYXNlVGV4dHVyZUF0ID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlLCBpbmRleCkge1xuICAgICAgICBpZiAoYmFzZVRleHR1cmUucmVzb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkUmVzb3VyY2VBdChiYXNlVGV4dHVyZS5yZXNvdXJjZSwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcnJheVJlc291cmNlIGRvZXMgbm90IHN1cHBvcnQgUmVuZGVyVGV4dHVyZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGJpbmRpbmdcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcywgYmFzZVRleHR1cmUpO1xuICAgICAgICBiYXNlVGV4dHVyZS50YXJnZXQgPSBUQVJHRVRTLlRFWFRVUkVfMkRfQVJSQVk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHJlc291cmNlcyB0byB0aGUgR1BVLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gd2hldGhlciB0ZXh0dXJlIHdhcyB1cGxvYWRlZFxuICAgICAqL1xuICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIChyZW5kZXJlciwgdGV4dHVyZSwgZ2xUZXh0dXJlKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGxlbmd0aCA9IF9hLmxlbmd0aCwgaXRlbURpcnR5SWRzID0gX2EuaXRlbURpcnR5SWRzLCBpdGVtcyA9IF9hLml0ZW1zO1xuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcbiAgICAgICAgaWYgKGdsVGV4dHVyZS5kaXJ0eUlkIDwgMCkge1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UzRChnbC5URVhUVVJFXzJEX0FSUkFZLCAwLCB0ZXh0dXJlLmZvcm1hdCwgdGhpcy5fd2lkdGgsIHRoaXMuX2hlaWdodCwgbGVuZ3RoLCAwLCB0ZXh0dXJlLmZvcm1hdCwgdGV4dHVyZS50eXBlLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IGl0ZW1zW2ldO1xuICAgICAgICAgICAgaWYgKGl0ZW1EaXJ0eUlkc1tpXSA8IGl0ZW0uZGlydHlJZCkge1xuICAgICAgICAgICAgICAgIGl0ZW1EaXJ0eUlkc1tpXSA9IGl0ZW0uZGlydHlJZDtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS52YWxpZCkge1xuICAgICAgICAgICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTNEKGdsLlRFWFRVUkVfMkRfQVJSQVksIDAsIDAsIC8vIHhvZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgMCwgLy8geW9mZnNldFxuICAgICAgICAgICAgICAgICAgICBpLCAvLyB6b2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0ucmVzb3VyY2Uud2lkdGgsIGl0ZW0ucmVzb3VyY2UuaGVpZ2h0LCAxLCB0ZXh0dXJlLmZvcm1hdCwgdGV4dHVyZS50eXBlLCBpdGVtLnJlc291cmNlLnNvdXJjZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgcmV0dXJuIEFycmF5UmVzb3VyY2U7XG59KEFic3RyYWN0TXVsdGlSZXNvdXJjZSkpO1xuXG4vKipcbiAqIEJhc2UgZm9yIGFsbCB0aGUgaW1hZ2UvY2FudmFzIHJlc291cmNlc1xuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmFzZUltYWdlUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhc2VJbWFnZVJlc291cmNlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFNWR0VsZW1lbnR9IHNvdXJjZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhc2VJbWFnZVJlc291cmNlKHNvdXJjZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc291cmNlQW55ID0gc291cmNlO1xuICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2VBbnkubmF0dXJhbFdpZHRoIHx8IHNvdXJjZUFueS52aWRlb1dpZHRoIHx8IHNvdXJjZUFueS53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZUFueS5uYXR1cmFsSGVpZ2h0IHx8IHNvdXJjZUFueS52aWRlb0hlaWdodCB8fCBzb3VyY2VBbnkuaGVpZ2h0O1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc291cmNlIGVsZW1lbnRcbiAgICAgICAgICogQG1lbWJlciB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFNWR0VsZW1lbnR9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgc2V0IHRvIGB0cnVlYCwgd2lsbCBmb3JjZSBgdGV4SW1hZ2UyRGAgb3ZlciBgdGV4U3ViSW1hZ2UyRGAgZm9yIHVwbG9hZGluZy5cbiAgICAgICAgICogQ2VydGFpbiB0eXBlcyBvZiBtZWRpYSAoZS5nLiB2aWRlbykgdXNpbmcgYHRleEltYWdlMkRgIGlzIG1vcmUgcGVyZm9ybWFudC5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm5vU3ViSW1hZ2UgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgY3Jvc3Mgb3JpZ2luIGJhc2VkIGRldGVjdGluZyB0aGUgdXJsIGFuZCB0aGUgY3Jvc3NvcmlnaW5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gYXBwbHkgY3Jvc3NPcmlnaW5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVVJMIHRvIGNoZWNrXG4gICAgICogQHBhcmFtIHtib29sZWFufHN0cmluZ30gW2Nyb3Nzb3JpZ2luPXRydWVdIC0gQ3Jvc3Mgb3JpZ2luIHZhbHVlIHRvIHVzZVxuICAgICAqL1xuICAgIEJhc2VJbWFnZVJlc291cmNlLmNyb3NzT3JpZ2luID0gZnVuY3Rpb24gKGVsZW1lbnQsIHVybCwgY3Jvc3NvcmlnaW4pIHtcbiAgICAgICAgaWYgKGNyb3Nzb3JpZ2luID09PSB1bmRlZmluZWQgJiYgdXJsLmluZGV4T2YoJ2RhdGE6JykgIT09IDApIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY3Jvc3NPcmlnaW4gPSBkZXRlcm1pbmVDcm9zc09yaWdpbih1cmwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNyb3Nzb3JpZ2luICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgZWxlbWVudC5jcm9zc09yaWdpbiA9IHR5cGVvZiBjcm9zc29yaWdpbiA9PT0gJ3N0cmluZycgPyBjcm9zc29yaWdpbiA6ICdhbm9ueW1vdXMnO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHRleHR1cmUgdG8gdGhlIEdQVS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVXBsb2FkIHRvIHRoZSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZWZlcmVuY2UgdG8gcGFyZW50IHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmVcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxTVkdFbGVtZW50fSBbc291cmNlXSAtIChvcHRpb25hbClcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSwgc291cmNlKSB7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgd2lkdGggPSBiYXNlVGV4dHVyZS5yZWFsV2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBiYXNlVGV4dHVyZS5yZWFsSGVpZ2h0O1xuICAgICAgICBzb3VyY2UgPSBzb3VyY2UgfHwgdGhpcy5zb3VyY2U7XG4gICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgYmFzZVRleHR1cmUuYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5VTlBBQ0spO1xuICAgICAgICBpZiAoIXRoaXMubm9TdWJJbWFnZVxuICAgICAgICAgICAgJiYgYmFzZVRleHR1cmUudGFyZ2V0ID09PSBnbC5URVhUVVJFXzJEXG4gICAgICAgICAgICAmJiBnbFRleHR1cmUud2lkdGggPT09IHdpZHRoXG4gICAgICAgICAgICAmJiBnbFRleHR1cmUuaGVpZ2h0ID09PSBoZWlnaHQpIHtcbiAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgMCwgMCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS50eXBlLCBzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChiYXNlVGV4dHVyZS50YXJnZXQsIDAsIGJhc2VUZXh0dXJlLmZvcm1hdCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS50eXBlLCBzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHNvdXJjZSB3aWR0aC9oZWlnaHQgd2FzIGNoYW5nZWQsIHJlc2l6ZSBjYW4gY2F1c2UgZXh0cmEgYmFzZVRleHR1cmUgdXBkYXRlLlxuICAgICAqIFRyaWdnZXJzIG9uZSB1cGRhdGUgaW4gYW55IGNhc2UuXG4gICAgICovXG4gICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UubmF0dXJhbFdpZHRoIHx8IHNvdXJjZS52aWRlb1dpZHRoIHx8IHNvdXJjZS53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5uYXR1cmFsSGVpZ2h0IHx8IHNvdXJjZS52aWRlb0hlaWdodCB8fCBzb3VyY2UuaGVpZ2h0O1xuICAgICAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhpcyBCYXNlSW1hZ2VSZXNvdXJjZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNvdXJjZSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gQmFzZUltYWdlUmVzb3VyY2U7XG59KFJlc291cmNlKSk7XG5cbi8qKlxuICogQGludGVyZmFjZSBPZmZzY3JlZW5DYW52YXNcbiAqL1xuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBIVE1MQ2FudmFzRWxlbWVudC5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5CYXNlSW1hZ2VSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENhbnZhc1Jlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDYW52YXNSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBzb3VyY2UgLSBDYW52YXMgZWxlbWVudCB0byB1c2VcbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZWxlc3MtY29uc3RydWN0b3JcbiAgICBmdW5jdGlvbiBDYW52YXNSZXNvdXJjZShzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHNvdXJjZSkgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fE9mZnNjcmVlbkNhbnZhc30gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgc291cmNlIGlzIEhUTUxDYW52YXNFbGVtZW50IG9yIE9mZnNjcmVlbkNhbnZhc1xuICAgICAqL1xuICAgIENhbnZhc1Jlc291cmNlLnRlc3QgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHZhciBPZmZzY3JlZW5DYW52YXMgPSBzZWxmLk9mZnNjcmVlbkNhbnZhcztcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGJyb3dzZXJzIHRoYXQgZG9uJ3QgeWV0IHN1cHBvcnQgT2Zmc2NyZWVuQ2FudmFzXG4gICAgICAgIGlmIChPZmZzY3JlZW5DYW52YXMgJiYgc291cmNlIGluc3RhbmNlb2YgT2Zmc2NyZWVuQ2FudmFzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZi5IVE1MQ2FudmFzRWxlbWVudCAmJiBzb3VyY2UgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICB9O1xuICAgIHJldHVybiBDYW52YXNSZXNvdXJjZTtcbn0oQmFzZUltYWdlUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSBmb3IgYSBDdWJlVGV4dHVyZSB3aGljaCBjb250YWlucyBzaXggcmVzb3VyY2VzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5BcnJheVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ3ViZVJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDdWJlUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxzdHJpbmd8UElYSS5SZXNvdXJjZT59IFtzb3VyY2VdIC0gQ29sbGVjdGlvbiBvZiBVUkxzIG9yIHJlc291cmNlc1xuICAgICAqICAgICAgICB0byB1c2UgYXMgdGhlIHNpZGVzIG9mIHRoZSBjdWJlLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBJbWFnZVJlc291cmNlIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gV2lkdGggb2YgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIEhlaWdodCBvZiByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hdXRvTG9hZD10cnVlXSAtIFdoZXRoZXIgdG8gYXV0by1sb2FkIHJlc291cmNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5saW5rQmFzZVRleHR1cmU9dHJ1ZV0gLSBJbiBjYXNlIEJhc2VUZXh0dXJlcyBhcmUgc3VwcGxpZWQsXG4gICAgICogICB3aGV0aGVyIHRvIGNvcHkgdGhlbSBvciB1c2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDdWJlUmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IG9wdGlvbnMgfHwge30sIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodCwgYXV0b0xvYWQgPSBfYS5hdXRvTG9hZCwgbGlua0Jhc2VUZXh0dXJlID0gX2EubGlua0Jhc2VUZXh0dXJlO1xuICAgICAgICBpZiAoc291cmNlICYmIHNvdXJjZS5sZW5ndGggIT09IEN1YmVSZXNvdXJjZS5TSURFUykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBsZW5ndGguIEdvdCBcIiArIHNvdXJjZS5sZW5ndGggKyBcIiwgZXhwZWN0ZWQgNlwiKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIDYsIHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9KSB8fCB0aGlzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IEN1YmVSZXNvdXJjZS5TSURFUzsgaSsrKSB7XG4gICAgICAgICAgICBfdGhpcy5pdGVtc1tpXS50YXJnZXQgPSBUQVJHRVRTLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCArIGk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluIGNhc2UgQmFzZVRleHR1cmVzIGFyZSBzdXBwbGllZCwgd2hldGhlciB0byB1c2Ugc2FtZSByZXNvdXJjZSBvciBiaW5kIGJhc2VUZXh0dXJlIGl0c2VsZlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5saW5rQmFzZVRleHR1cmUgPSBsaW5rQmFzZVRleHR1cmUgIT09IGZhbHNlO1xuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBfdGhpcy5pbml0RnJvbUFycmF5KHNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF1dG9Mb2FkICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgX3RoaXMubG9hZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGJpbmRpbmdcbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBwYXJlbnQgYmFzZSB0ZXh0dXJlXG4gICAgICovXG4gICAgQ3ViZVJlc291cmNlLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsIGJhc2VUZXh0dXJlKTtcbiAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0ID0gVEFSR0VUUy5URVhUVVJFX0NVQkVfTUFQO1xuICAgIH07XG4gICAgQ3ViZVJlc291cmNlLnByb3RvdHlwZS5hZGRCYXNlVGV4dHVyZUF0ID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlLCBpbmRleCwgbGlua0Jhc2VUZXh0dXJlKSB7XG4gICAgICAgIGlmIChsaW5rQmFzZVRleHR1cmUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGlua0Jhc2VUZXh0dXJlID0gdGhpcy5saW5rQmFzZVRleHR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLml0ZW1zW2luZGV4XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5kZXggXCIgKyBpbmRleCArIFwiIGlzIG91dCBvZiBib3VuZHNcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmxpbmtCYXNlVGV4dHVyZVxuICAgICAgICAgICAgfHwgYmFzZVRleHR1cmUucGFyZW50VGV4dHVyZUFycmF5XG4gICAgICAgICAgICB8fCBPYmplY3Qua2V5cyhiYXNlVGV4dHVyZS5fZ2xUZXh0dXJlcykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gY29weSBtb2RlXG4gICAgICAgICAgICBpZiAoYmFzZVRleHR1cmUucmVzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFJlc291cmNlQXQoYmFzZVRleHR1cmUucmVzb3VyY2UsIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkN1YmVSZXNvdXJjZSBkb2VzIG5vdCBzdXBwb3J0IGNvcHlpbmcgb2YgcmVuZGVyVGV4dHVyZS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBsaW5rIG1vZGUsIHRoZSBkaWZmaWN1bHQgb25lIVxuICAgICAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0ID0gVEFSR0VUUy5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ggKyBpbmRleDtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLnBhcmVudFRleHR1cmVBcnJheSA9IHRoaXMuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2luZGV4XSA9IGJhc2VUZXh0dXJlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiYXNlVGV4dHVyZS52YWxpZCAmJiAhdGhpcy52YWxpZCkge1xuICAgICAgICAgICAgdGhpcy5yZXNpemUoYmFzZVRleHR1cmUucmVhbFdpZHRoLCBiYXNlVGV4dHVyZS5yZWFsSGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLml0ZW1zW2luZGV4XSA9IGJhc2VUZXh0dXJlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgcmVzb3VyY2VcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICBDdWJlUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIChyZW5kZXJlciwgX2Jhc2VUZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICAgICAgdmFyIGRpcnR5ID0gdGhpcy5pdGVtRGlydHlJZHM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQ3ViZVJlc291cmNlLlNJREVTOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzaWRlID0gdGhpcy5pdGVtc1tpXTtcbiAgICAgICAgICAgIGlmIChkaXJ0eVtpXSA8IHNpZGUuZGlydHlJZCkge1xuICAgICAgICAgICAgICAgIGlmIChzaWRlLnZhbGlkICYmIHNpZGUucmVzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2lkZS5yZXNvdXJjZS51cGxvYWQocmVuZGVyZXIsIHNpZGUsIGdsVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIGRpcnR5W2ldID0gc2lkZS5kaXJ0eUlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkaXJ0eVtpXSA8IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVpdGhlciBpdGVtIGlzIG5vdCB2YWxpZCB5ZXQsIGVpdGhlciBpdHMgYSByZW5kZXJUZXh0dXJlXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbG9jYXRlIHRoZSBtZW1vcnlcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIuZ2wudGV4SW1hZ2UyRChzaWRlLnRhcmdldCwgMCwgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0LCBfYmFzZVRleHR1cmUucmVhbFdpZHRoLCBfYmFzZVRleHR1cmUucmVhbEhlaWdodCwgMCwgX2Jhc2VUZXh0dXJlLmZvcm1hdCwgZ2xUZXh0dXJlLnR5cGUsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICBkaXJ0eVtpXSA9IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYXV0by1kZXRlY3QgdGhlIHR5cGUgb2YgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHNvdXJjZSBpcyBhbiBhcnJheSBvZiA2IGVsZW1lbnRzXG4gICAgICovXG4gICAgQ3ViZVJlc291cmNlLnRlc3QgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHNvdXJjZSkgJiYgc291cmNlLmxlbmd0aCA9PT0gQ3ViZVJlc291cmNlLlNJREVTO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTnVtYmVyIG9mIHRleHR1cmUgc2lkZXMgdG8gc3RvcmUgZm9yIEN1YmVSZXNvdXJjZXNcbiAgICAgKlxuICAgICAqIEBuYW1lIFBJWEkuQ3ViZVJlc291cmNlLlNJREVTXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCA2XG4gICAgICovXG4gICAgQ3ViZVJlc291cmNlLlNJREVTID0gNjtcbiAgICByZXR1cm4gQ3ViZVJlc291cmNlO1xufShBYnN0cmFjdE11bHRpUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBIVE1MSW1hZ2VFbGVtZW50LlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgSW1hZ2VSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW1hZ2VSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8c3RyaW5nfSBzb3VyY2UgLSBpbWFnZSBzb3VyY2Ugb3IgVVJMXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0xvYWQ9dHJ1ZV0gLSBzdGFydCBsb2FkaW5nIHByb2Nlc3NcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyZWF0ZUJpdG1hcD1QSVhJLnNldHRpbmdzLkNSRUFURV9JTUFHRV9CSVRNQVBdIC0gd2hldGhlciBpdHMgcmVxdWlyZWQgdG8gY3JlYXRlXG4gICAgICogICAgICAgIGEgYml0bWFwIGJlZm9yZSB1cGxvYWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyb3Nzb3JpZ2luPXRydWVdIC0gTG9hZCBpbWFnZSB1c2luZyBjcm9zcyBvcmlnaW5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQUxQSEFfTU9ERVN9IFtvcHRpb25zLmFscGhhTW9kZT1QSVhJLkFMUEhBX01PREVTLlVOUEFDS10gLSBQcmVtdWx0aXBseSBpbWFnZSBhbHBoYSBpbiBiaXRtYXBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbWFnZVJlc291cmNlKHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgaWYgKCEoc291cmNlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHZhciBpbWFnZUVsZW1lbnQgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIEJhc2VJbWFnZVJlc291cmNlLmNyb3NzT3JpZ2luKGltYWdlRWxlbWVudCwgc291cmNlLCBvcHRpb25zLmNyb3Nzb3JpZ2luKTtcbiAgICAgICAgICAgIGltYWdlRWxlbWVudC5zcmMgPSBzb3VyY2U7XG4gICAgICAgICAgICBzb3VyY2UgPSBpbWFnZUVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzb3VyY2UpIHx8IHRoaXM7XG4gICAgICAgIC8vIEZpcmVGb3ggNjgsIGFuZCBwb3NzaWJseSBvdGhlciB2ZXJzaW9ucywgc2VlbXMgbGlrZSBzZXR0aW5nIHRoZSBIVE1MSW1hZ2VFbGVtZW50I3dpZHRoIGFuZCAjaGVpZ2h0XG4gICAgICAgIC8vIHRvIG5vbi16ZXJvIHZhbHVlcyBiZWZvcmUgaXRzIGxvYWRpbmcgY29tcGxldGVzIGlmIGltYWdlcyBhcmUgaW4gYSBjYWNoZS5cbiAgICAgICAgLy8gQmVjYXVzZSBvZiB0aGlzLCBuZWVkIHRvIHNldCB0aGUgYF93aWR0aGAgYW5kIHRoZSBgX2hlaWdodGAgdG8gemVybyB0byBhdm9pZCB1cGxvYWRpbmcgaW5jb21wbGV0ZSBpbWFnZXMuXG4gICAgICAgIC8vIFBsZWFzZSByZWZlciB0byB0aGUgaXNzdWUgIzU5NjggKGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9pc3N1ZXMvNTk2OCkuXG4gICAgICAgIGlmICghc291cmNlLmNvbXBsZXRlICYmICEhX3RoaXMuX3dpZHRoICYmICEhX3RoaXMuX2hlaWdodCkge1xuICAgICAgICAgICAgX3RoaXMuX3dpZHRoID0gMDtcbiAgICAgICAgICAgIF90aGlzLl9oZWlnaHQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVUkwgb2YgdGhlIGltYWdlIHNvdXJjZVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51cmwgPSBzb3VyY2Uuc3JjO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBwcm9jZXNzIGlzIGNvbXBsZXRlZFxuICAgICAgICAgKiBAbWVtYmVyIHtQcm9taXNlPHZvaWQ+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3Byb2Nlc3MgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIGltYWdlIHNob3VsZCBiZSBkaXNwb3NlZCBhZnRlciB1cGxvYWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnByZXNlcnZlQml0bWFwID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBjYXBhYmxlLCBjb252ZXJ0IHRoZSBpbWFnZSB1c2luZyBjcmVhdGVJbWFnZUJpdG1hcCBBUElcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5DUkVBVEVfSU1BR0VfQklUTUFQXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jcmVhdGVCaXRtYXAgPSAob3B0aW9ucy5jcmVhdGVCaXRtYXAgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBvcHRpb25zLmNyZWF0ZUJpdG1hcCA6IHNldHRpbmdzLkNSRUFURV9JTUFHRV9CSVRNQVApICYmICEhc2VsZi5jcmVhdGVJbWFnZUJpdG1hcDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnRyb2xzIHRleHR1cmUgYWxwaGFNb2RlIGZpZWxkXG4gICAgICAgICAqIENvcGllcyBmcm9tIG9wdGlvbnNcbiAgICAgICAgICogRGVmYXVsdCBpcyBgbnVsbGAsIGNvcGllcyBvcHRpb24gZnJvbSBiYXNlVGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkFMUEhBX01PREVTfG51bGx9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYWxwaGFNb2RlID0gdHlwZW9mIG9wdGlvbnMuYWxwaGFNb2RlID09PSAnbnVtYmVyJyA/IG9wdGlvbnMuYWxwaGFNb2RlIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBJbWFnZUJpdG1hcCBlbGVtZW50IGNyZWF0ZWQgZm9yIEhUTUxJbWFnZUVsZW1lbnRcbiAgICAgICAgICogQG1lbWJlciB7SW1hZ2VCaXRtYXB9XG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJpdG1hcCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9taXNlIHdoZW4gbG9hZGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtQcm9taXNlPHZvaWQ+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9Mb2FkICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgX3RoaXMubG9hZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogcmV0dXJucyBhIHByb21pc2Ugd2hlbiBpbWFnZSB3aWxsIGJlIGxvYWRlZCBhbmQgcHJvY2Vzc2VkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjcmVhdGVCaXRtYXBdIC0gd2hldGhlciBwcm9jZXNzIGltYWdlIGludG8gYml0bWFwXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAgICovXG4gICAgSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIChjcmVhdGVCaXRtYXApIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX2xvYWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjcmVhdGVCaXRtYXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVCaXRtYXAgPSBjcmVhdGVCaXRtYXA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbG9hZCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBfdGhpcy5zb3VyY2U7XG4gICAgICAgICAgICBfdGhpcy51cmwgPSBzb3VyY2Uuc3JjO1xuICAgICAgICAgICAgdmFyIGNvbXBsZXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc291cmNlLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgc291cmNlLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgIF90aGlzLnJlc2l6ZShzb3VyY2Uud2lkdGgsIHNvdXJjZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIF90aGlzLl9sb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuY3JlYXRlQml0bWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoX3RoaXMucHJvY2VzcygpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoX3RoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoc291cmNlLmNvbXBsZXRlICYmIHNvdXJjZS5zcmMpIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmxvYWQgPSBjb21wbGV0ZWQ7XG4gICAgICAgICAgICAgICAgc291cmNlLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXZvaWRzIFByb21pc2UgZnJlZXppbmcgd2hlbiByZXNvdXJjZSBicm9rZW5cbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub25FcnJvci5lbWl0KGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB3ZSBuZWVkIHRvIGNvbnZlcnQgaW1hZ2UgaW50byBCaXRtYXBJbWFnZS5cbiAgICAgKiBDYW4gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzLCByZWFsIHByb21pc2UgaXMgY2FjaGVkIGluc2lkZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBjYWNoZWQgcHJvbWlzZSB0byBmaWxsIHRoYXQgYml0bWFwXG4gICAgICovXG4gICAgSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUucHJvY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICBpZiAodGhpcy5fcHJvY2VzcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2Nlc3M7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYml0bWFwICE9PSBudWxsIHx8ICFzZWxmLmNyZWF0ZUltYWdlQml0bWFwKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Byb2Nlc3MgPSBzZWxmLmNyZWF0ZUltYWdlQml0bWFwKHNvdXJjZSwgMCwgMCwgc291cmNlLndpZHRoLCBzb3VyY2UuaGVpZ2h0LCB7XG4gICAgICAgICAgICBwcmVtdWx0aXBseUFscGhhOiB0aGlzLmFscGhhTW9kZSA9PT0gQUxQSEFfTU9ERVMuVU5QQUNLID8gJ3ByZW11bHRpcGx5JyA6ICdub25lJyxcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChiaXRtYXApIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmJpdG1hcCA9IGJpdG1hcDtcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgX3RoaXMuX3Byb2Nlc3MgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShfdGhpcyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJvY2VzcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgaW1hZ2UgcmVzb3VyY2UgdG8gR1BVLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFJlbmRlcmVyIHRvIHVwbG9hZCB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBCYXNlVGV4dHVyZSBmb3IgdGhpcyByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZSAtIEdMVGV4dHVyZSB0byB1c2VcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5hbHBoYU1vZGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAvLyBiaXRtYXAgc3RvcmVzIHVucGFjayBwcmVtdWx0aXBseSBmbGFnLCB3ZSBkb250IGhhdmUgdG8gbm90aWZ5IHRleEltYWdlMkQgYWJvdXQgaXRcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLmFscGhhTW9kZSA9IHRoaXMuYWxwaGFNb2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5jcmVhdGVCaXRtYXApIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnVwbG9hZC5jYWxsKHRoaXMsIHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuYml0bWFwKSB7XG4gICAgICAgICAgICAvLyB5ZWFoLCBpZ25vcmUgdGhlIG91dHB1dFxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYml0bWFwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudXBsb2FkLmNhbGwodGhpcywgcmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUsIHRoaXMuYml0bWFwKTtcbiAgICAgICAgaWYgKCF0aGlzLnByZXNlcnZlQml0bWFwKSB7XG4gICAgICAgICAgICAvLyBjaGVja3MgaWYgdGhlcmUgYXJlIG90aGVyIHJlbmRlcmVycyB0aGF0IHBvc3NpYmx5IG5lZWQgdGhpcyBiaXRtYXBcbiAgICAgICAgICAgIHZhciBmbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBnbFRleHR1cmVzID0gYmFzZVRleHR1cmUuX2dsVGV4dHVyZXM7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gZ2xUZXh0dXJlcykge1xuICAgICAgICAgICAgICAgIHZhciBvdGhlclRleCA9IGdsVGV4dHVyZXNba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXJUZXggIT09IGdsVGV4dHVyZSAmJiBvdGhlclRleC5kaXJ0eUlkICE9PSBiYXNlVGV4dHVyZS5kaXJ0eUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZsYWcpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5iaXRtYXAuY2xvc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iaXRtYXAuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5iaXRtYXAgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zb3VyY2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgdGhpcy5zb3VyY2Uub25lcnJvciA9IG51bGw7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgICAgICBpZiAodGhpcy5iaXRtYXApIHtcbiAgICAgICAgICAgIHRoaXMuYml0bWFwLmNsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLmJpdG1hcCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcHJvY2VzcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xIVE1MSW1hZ2VFbGVtZW50fSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiBzb3VyY2UgaXMgc3RyaW5nIG9yIEhUTUxJbWFnZUVsZW1lbnRcbiAgICAgKi9cbiAgICBJbWFnZVJlc291cmNlLnRlc3QgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJyB8fCBzb3VyY2UgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50O1xuICAgIH07XG4gICAgcmV0dXJuIEltYWdlUmVzb3VyY2U7XG59KEJhc2VJbWFnZVJlc291cmNlKSk7XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgU1ZHIGVsZW1lbnRzIGFuZCBncmFwaGljcy5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5CYXNlSW1hZ2VSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNWR1Jlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTVkdSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIC0gQmFzZTY0IGVuY29kZWQgU1ZHIGVsZW1lbnQgb3IgVVJMIGZvciBTVkcgZmlsZS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9ucyB0byB1c2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NhbGU9MV0gLSBTY2FsZSB0byBhcHBseSB0byBTVkcuIE92ZXJyaWRkZW4gYnkuLi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gUmFzdGVyaXplIFNWRyB0aGlzIHdpZGUuIEFzcGVjdCByYXRpbyBwcmVzZXJ2ZWQgaWYgaGVpZ2h0IG5vdCBzcGVjaWZpZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gLSBSYXN0ZXJpemUgU1ZHIHRoaXMgaGlnaC4gQXNwZWN0IHJhdGlvIHByZXNlcnZlZCBpZiB3aWR0aCBub3Qgc3BlY2lmaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0xvYWQ9dHJ1ZV0gLSBTdGFydCBsb2FkaW5nIHJpZ2h0IGF3YXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU1ZHUmVzb3VyY2Uoc291cmNlQmFzZTY0LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fd2lkdGggPSAwO1xuICAgICAgICBfdGhpcy5faGVpZ2h0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhc2U2NCBlbmNvZGVkIFNWRyBlbGVtZW50IG9yIFVSTCBmb3IgU1ZHIGZpbGVcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN2ZyA9IHNvdXJjZUJhc2U2NDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzb3VyY2Ugc2NhbGUgdG8gYXBwbHkgd2hlbiByYXN0ZXJpemluZyBvbiBsb2FkXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zY2FsZSA9IG9wdGlvbnMuc2NhbGUgfHwgMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgd2lkdGggb3ZlcnJpZGUgZm9yIHJhc3Rlcml6YXRpb24gb24gbG9hZFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX292ZXJyaWRlV2lkdGggPSBvcHRpb25zLndpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBoZWlnaHQgb3ZlcnJpZGUgZm9yIHJhc3Rlcml6YXRpb24gb24gbG9hZFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX292ZXJyaWRlSGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsIHdoZW4gY29tcGxldGVseSBsb2FkZWRcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcm9zcyBvcmlnaW4gdmFsdWUgdG8gdXNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW58c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2Nyb3Nzb3JpZ2luID0gb3B0aW9ucy5jcm9zc29yaWdpbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb21pc2Ugd2hlbiBsb2FkaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2U8dm9pZD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sb2FkID0gbnVsbDtcbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b0xvYWQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTVkdSZXNvdXJjZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX2xvYWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xvYWQgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgLy8gU2F2ZSB0aGlzIHVudGlsIGFmdGVyIGxvYWQgaXMgZmluaXNoZWRcbiAgICAgICAgICAgIF90aGlzLl9yZXNvbHZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnJlc2l6ZShfdGhpcy5zb3VyY2Uud2lkdGgsIF90aGlzLnNvdXJjZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoX3RoaXMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgU1ZHIGlubGluZSBzdHJpbmcgdG8gZGF0YS11cmlcbiAgICAgICAgICAgIGlmICgoL15cXDxzdmcvKS50ZXN0KF90aGlzLnN2Zy50cmltKCkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFidG9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91ciBicm93c2VyIGRvZXNuXFwndCBzdXBwb3J0IGJhc2U2NCBjb252ZXJzaW9ucy4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMuc3ZnID0gXCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoX3RoaXMuc3ZnKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuX2xvYWRTdmcoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTG9hZHMgYW4gU1ZHIGltYWdlIGZyb20gYGltYWdlVXJsYCBvciBgZGF0YSBVUkxgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTVkdSZXNvdXJjZS5wcm90b3R5cGUuX2xvYWRTdmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB0ZW1wSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UuY3Jvc3NPcmlnaW4odGVtcEltYWdlLCB0aGlzLnN2ZywgdGhpcy5fY3Jvc3NvcmlnaW4pO1xuICAgICAgICB0ZW1wSW1hZ2Uuc3JjID0gdGhpcy5zdmc7XG4gICAgICAgIHRlbXBJbWFnZS5vbmVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLl9yZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGVtcEltYWdlLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgX3RoaXMub25FcnJvci5lbWl0KGV2ZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGVtcEltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuX3Jlc29sdmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3ZnV2lkdGggPSB0ZW1wSW1hZ2Uud2lkdGg7XG4gICAgICAgICAgICB2YXIgc3ZnSGVpZ2h0ID0gdGVtcEltYWdlLmhlaWdodDtcbiAgICAgICAgICAgIGlmICghc3ZnV2lkdGggfHwgIXN2Z0hlaWdodCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIFNWRyBpbWFnZSBtdXN0IGhhdmUgd2lkdGggYW5kIGhlaWdodCBkZWZpbmVkIChpbiBwaXhlbHMpLCBjYW52YXMgQVBJIG5lZWRzIHRoZW0uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZXQgcmVuZGVyIHNpemVcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHN2Z1dpZHRoICogX3RoaXMuc2NhbGU7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gc3ZnSGVpZ2h0ICogX3RoaXMuc2NhbGU7XG4gICAgICAgICAgICBpZiAoX3RoaXMuX292ZXJyaWRlV2lkdGggfHwgX3RoaXMuX292ZXJyaWRlSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgd2lkdGggPSBfdGhpcy5fb3ZlcnJpZGVXaWR0aCB8fCBfdGhpcy5fb3ZlcnJpZGVIZWlnaHQgLyBzdmdIZWlnaHQgKiBzdmdXaWR0aDtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBfdGhpcy5fb3ZlcnJpZGVIZWlnaHQgfHwgX3RoaXMuX292ZXJyaWRlV2lkdGggLyBzdmdXaWR0aCAqIHN2Z0hlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdpZHRoID0gTWF0aC5yb3VuZCh3aWR0aCk7XG4gICAgICAgICAgICBoZWlnaHQgPSBNYXRoLnJvdW5kKGhlaWdodCk7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBjYW52YXMgZWxlbWVudFxuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IF90aGlzLnNvdXJjZTtcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIGNhbnZhcy5fcGl4aUlkID0gXCJjYW52YXNfXCIgKyB1aWQoKTtcbiAgICAgICAgICAgIC8vIERyYXcgdGhlIFN2ZyB0byB0aGUgY2FudmFzXG4gICAgICAgICAgICBjYW52YXNcbiAgICAgICAgICAgICAgICAuZ2V0Q29udGV4dCgnMmQnKVxuICAgICAgICAgICAgICAgIC5kcmF3SW1hZ2UodGVtcEltYWdlLCAwLCAwLCBzdmdXaWR0aCwgc3ZnSGVpZ2h0LCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIF90aGlzLl9yZXNvbHZlKCk7XG4gICAgICAgICAgICBfdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgc2l6ZSBmcm9tIGFuIHN2ZyBzdHJpbmcgdXNpbmcgcmVnZXhwLlxuICAgICAqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdmdTdHJpbmcgLSBhIHNlcmlhbGl6ZWQgc3ZnIGVsZW1lbnRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLklTaXplfSBpbWFnZSBleHRlbnNpb25cbiAgICAgKi9cbiAgICBTVkdSZXNvdXJjZS5nZXRTaXplID0gZnVuY3Rpb24gKHN2Z1N0cmluZykge1xuICAgICAgICB2YXIgc2l6ZU1hdGNoID0gU1ZHUmVzb3VyY2UuU1ZHX1NJWkUuZXhlYyhzdmdTdHJpbmcpO1xuICAgICAgICB2YXIgc2l6ZSA9IHt9O1xuICAgICAgICBpZiAoc2l6ZU1hdGNoKSB7XG4gICAgICAgICAgICBzaXplW3NpemVNYXRjaFsxXV0gPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoc2l6ZU1hdGNoWzNdKSk7XG4gICAgICAgICAgICBzaXplW3NpemVNYXRjaFs1XV0gPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoc2l6ZU1hdGNoWzddKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBTVkdSZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuX3Jlc29sdmUgPSBudWxsO1xuICAgICAgICB0aGlzLl9jcm9zc29yaWdpbiA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7Kn0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uIC0gVGhlIGV4dGVuc2lvbiBvZiBzb3VyY2UsIGlmIHNldFxuICAgICAqL1xuICAgIFNWR1Jlc291cmNlLnRlc3QgPSBmdW5jdGlvbiAoc291cmNlLCBleHRlbnNpb24pIHtcbiAgICAgICAgLy8gdXJsIGZpbGUgZXh0ZW5zaW9uIGlzIFNWR1xuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uID09PSAnc3ZnJ1xuICAgICAgICAgICAgLy8gc291cmNlIGlzIFNWRyBkYXRhLXVyaVxuICAgICAgICAgICAgfHwgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnICYmICgvXmRhdGE6aW1hZ2VcXC9zdmdcXCt4bWwoOyhjaGFyc2V0PXV0Zjh8dXRmOCkpPztiYXNlNjQvKS50ZXN0KHNvdXJjZSkpXG4gICAgICAgICAgICAvLyBzb3VyY2UgaXMgU1ZHIGlubGluZVxuICAgICAgICAgICAgfHwgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnICYmIHNvdXJjZS5pbmRleE9mKCc8c3ZnJykgPT09IDApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnRXhwIGZvciBTVkcgc2l6ZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RhbnQge1JlZ0V4cHxzdHJpbmd9IFNWR19TSVpFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuU1ZHUmVzb3VyY2VcbiAgICAgKiBAZXhhbXBsZSAmbHQ7c3ZnIHdpZHRoPVwiMTAwXCIgaGVpZ2h0PVwiMTAwXCImZ3Q7Jmx0Oy9zdmcmZ3Q7XG4gICAgICovXG4gICAgU1ZHUmVzb3VyY2UuU1ZHX1NJWkUgPSAvPHN2Z1tePl0qKD86XFxzKHdpZHRofGhlaWdodCk9KCd8XCIpKFxcZCooPzpcXC5cXGQrKT8pKD86cHgpPygnfFwiKSlbXj5dKig/Olxccyh3aWR0aHxoZWlnaHQpPSgnfFwiKShcXGQqKD86XFwuXFxkKyk/KSg/OnB4KT8oJ3xcIikpW14+XSo+L2k7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbWF4LWxlblxuICAgIHJldHVybiBTVkdSZXNvdXJjZTtcbn0oQmFzZUltYWdlUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBIVE1MVmlkZW9FbGVtZW50LlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVmlkZW9SZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVmlkZW9SZXNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0hUTUxWaWRlb0VsZW1lbnR8b2JqZWN0fHN0cmluZ3xBcnJheTxzdHJpbmd8b2JqZWN0Pn0gc291cmNlIC0gVmlkZW8gZWxlbWVudCB0byB1c2UuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnMgdG8gdXNlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvTG9hZD10cnVlXSAtIFN0YXJ0IGxvYWRpbmcgdGhlIHZpZGVvIGltbWVkaWF0ZWx5XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvUGxheT10cnVlXSAtIFN0YXJ0IHBsYXlpbmcgdmlkZW8gaW1tZWRpYXRlbHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudXBkYXRlRlBTPTBdIC0gSG93IG1hbnkgdGltZXMgYSBzZWNvbmQgdG8gdXBkYXRlIHRoZSB0ZXh0dXJlIGZyb20gdGhlIHZpZGVvLlxuICAgICAqIExlYXZlIGF0IDAgdG8gdXBkYXRlIGF0IGV2ZXJ5IHJlbmRlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyb3Nzb3JpZ2luPXRydWVdIC0gTG9hZCBpbWFnZSB1c2luZyBjcm9zcyBvcmlnaW5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBWaWRlb1Jlc291cmNlKHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgaWYgKCEoc291cmNlIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHZhciB2aWRlb0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuICAgICAgICAgICAgLy8gd29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy81OTk2XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQuc2V0QXR0cmlidXRlKCdwcmVsb2FkJywgJ2F1dG8nKTtcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3dlYmtpdC1wbGF5c2lubGluZScsICcnKTtcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3BsYXlzaW5saW5lJywgJycpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgc291cmNlID0gW3NvdXJjZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZmlyc3RTcmMgPSBzb3VyY2VbMF0uc3JjIHx8IHNvdXJjZVswXTtcbiAgICAgICAgICAgIEJhc2VJbWFnZVJlc291cmNlLmNyb3NzT3JpZ2luKHZpZGVvRWxlbWVudCwgZmlyc3RTcmMsIG9wdGlvbnMuY3Jvc3NvcmlnaW4pO1xuICAgICAgICAgICAgLy8gYXJyYXkgb2Ygb2JqZWN0cyBvciBzdHJpbmdzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gc291cmNlW2ldLCBzcmMgPSBfYS5zcmMsIG1pbWUgPSBfYS5taW1lO1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYyB8fCBzb3VyY2VbaV07XG4gICAgICAgICAgICAgICAgdmFyIGJhc2VTcmMgPSBzcmMuc3BsaXQoJz8nKS5zaGlmdCgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgdmFyIGV4dCA9IGJhc2VTcmMuc3Vic3RyKGJhc2VTcmMubGFzdEluZGV4T2YoJy4nKSArIDEpO1xuICAgICAgICAgICAgICAgIG1pbWUgPSBtaW1lIHx8IFZpZGVvUmVzb3VyY2UuTUlNRV9UWVBFU1tleHRdIHx8IFwidmlkZW8vXCIgKyBleHQ7XG4gICAgICAgICAgICAgICAgc291cmNlRWxlbWVudC5zcmMgPSBzcmM7XG4gICAgICAgICAgICAgICAgc291cmNlRWxlbWVudC50eXBlID0gbWltZTtcbiAgICAgICAgICAgICAgICB2aWRlb0VsZW1lbnQuYXBwZW5kQ2hpbGQoc291cmNlRWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBPdmVycmlkZSB0aGUgc291cmNlXG4gICAgICAgICAgICBzb3VyY2UgPSB2aWRlb0VsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzb3VyY2UpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm5vU3ViSW1hZ2UgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIHRvIHVzZSBQSVhJLlRpY2tlci5zaGFyZWQgdG8gYXV0byB1cGRhdGUgdGhlIGJhc2UgdGV4dHVyZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hdXRvVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiB0aGUgaW5zdGFuY2UgaXMgY3VycmVudGx5IGNvbm5lY3RlZCB0byBQSVhJLlRpY2tlci5zaGFyZWQgdG8gYXV0byB1cGRhdGUgdGhlIGJhc2UgdGV4dHVyZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fdXBkYXRlRlBTID0gb3B0aW9ucy51cGRhdGVGUFMgfHwgMDtcbiAgICAgICAgX3RoaXMuX21zVG9OZXh0VXBkYXRlID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gc2V0IHRvIHRydWUgd2lsbCBhdXRvbWF0aWNhbGx5IHBsYXkgdmlkZW9zIHVzZWQgYnkgdGhpcyB0ZXh0dXJlIG9uY2VcbiAgICAgICAgICogdGhleSBhcmUgbG9hZGVkLiBJZiBmYWxzZSwgaXQgd2lsbCBub3QgbW9kaWZ5IHRoZSBwbGF5aW5nIHN0YXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvUGxheSA9IG9wdGlvbnMuYXV0b1BsYXkgIT09IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZSB3aGVuIGxvYWRpbmdcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZTx2b2lkPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xvYWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZWQgd2l0aCBsb2FkLlxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgLy8gQmluZCBmb3IgbGlzdGVuZXJzXG4gICAgICAgIF90aGlzLl9vbkNhblBsYXkgPSBfdGhpcy5fb25DYW5QbGF5LmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5fb25FcnJvciA9IF90aGlzLl9vbkVycm9yLmJpbmQoX3RoaXMpO1xuICAgICAgICBpZiAob3B0aW9ucy5hdXRvTG9hZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIF90aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgdXBkYXRpbmcgb2YgdGhlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVsdGFUaW1lPTBdIC0gdGltZSBkZWx0YSBzaW5jZSBsYXN0IHRpY2tcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoX2RlbHRhVGltZSkge1xuICAgICAgICBpZiAoIXRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAvLyBhY2NvdW50IGZvciBpZiB2aWRlbyBoYXMgaGFkIGl0cyBwbGF5YmFja1JhdGUgY2hhbmdlZFxuICAgICAgICAgICAgdmFyIGVsYXBzZWRNUyA9IFRpY2tlci5zaGFyZWQuZWxhcHNlZE1TICogdGhpcy5zb3VyY2UucGxheWJhY2tSYXRlO1xuICAgICAgICAgICAgdGhpcy5fbXNUb05leHRVcGRhdGUgPSBNYXRoLmZsb29yKHRoaXMuX21zVG9OZXh0VXBkYXRlIC0gZWxhcHNlZE1TKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fdXBkYXRlRlBTIHx8IHRoaXMuX21zVG9OZXh0VXBkYXRlIDw9IDApIHtcbiAgICAgICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21zVG9OZXh0VXBkYXRlID0gdGhpcy5fdXBkYXRlRlBTID8gTWF0aC5mbG9vcigxMDAwIC8gdGhpcy5fdXBkYXRlRlBTKSA6IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0YXJ0IHByZWxvYWRpbmcgdGhlIHZpZGVvIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59IEhhbmRsZSB0aGUgdmFsaWRhdGUgZXZlbnRcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fbG9hZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICBpZiAoKHNvdXJjZS5yZWFkeVN0YXRlID09PSBzb3VyY2UuSEFWRV9FTk9VR0hfREFUQSB8fCBzb3VyY2UucmVhZHlTdGF0ZSA9PT0gc291cmNlLkhBVkVfRlVUVVJFX0RBVEEpXG4gICAgICAgICAgICAmJiBzb3VyY2Uud2lkdGggJiYgc291cmNlLmhlaWdodCkge1xuICAgICAgICAgICAgc291cmNlLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcigncGxheScsIHRoaXMuX29uUGxheVN0YXJ0LmJpbmQodGhpcykpO1xuICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcigncGF1c2UnLCB0aGlzLl9vblBsYXlTdG9wLmJpbmQodGhpcykpO1xuICAgICAgICBpZiAoIXRoaXMuX2lzU291cmNlUmVhZHkoKSkge1xuICAgICAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCB0aGlzLl9vbkNhblBsYXkpO1xuICAgICAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX29uRXJyb3IsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fb25DYW5QbGF5KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbG9hZCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMudmFsaWQpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKF90aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLl9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgICAgICBzb3VyY2UubG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdmlkZW8gZXJyb3IgZXZlbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5fb25FcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLnNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX29uRXJyb3IsIHRydWUpO1xuICAgICAgICB0aGlzLm9uRXJyb3IuZW1pdChldmVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHVuZGVybHlpbmcgc291cmNlIGlzIHBsYXlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcGxheWluZy5cbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5faXNTb3VyY2VQbGF5aW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIHJldHVybiAoc291cmNlLmN1cnJlbnRUaW1lID4gMCAmJiBzb3VyY2UucGF1c2VkID09PSBmYWxzZSAmJiBzb3VyY2UuZW5kZWQgPT09IGZhbHNlICYmIHNvdXJjZS5yZWFkeVN0YXRlID4gMik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHVuZGVybHlpbmcgc291cmNlIGlzIHJlYWR5IGZvciBwbGF5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHJlYWR5LlxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9pc1NvdXJjZVJlYWR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIHJldHVybiBzb3VyY2UucmVhZHlTdGF0ZSA9PT0gMyB8fCBzb3VyY2UucmVhZHlTdGF0ZSA9PT0gNDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJ1bnMgdGhlIHVwZGF0ZSBsb29wIHdoZW4gdGhlIHZpZGVvIGlzIHJlYWR5IHRvIHBsYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX29uUGxheVN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBKdXN0IGluIGNhc2UgdGhlIHZpZGVvIGhhcyBub3QgcmVjZWl2ZWQgaXRzIGNhbiBwbGF5IGV2ZW4geWV0Li5cbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkNhblBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hdXRvVXBkYXRlICYmICF0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHBhdXNlIGV2ZW50IGlzIHRyaWdnZXJlZCwgc3RvcHMgdGhlIHVwZGF0ZSBsb29wXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9vblBsYXlTdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcikge1xuICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSB2aWRlbyBpcyBsb2FkZWQgYW5kIHJlYWR5IHRvIHBsYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX29uQ2FuUGxheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICBzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheScsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgIHNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgIHZhciB2YWxpZCA9IHRoaXMudmFsaWQ7XG4gICAgICAgIHRoaXMucmVzaXplKHNvdXJjZS52aWRlb1dpZHRoLCBzb3VyY2UudmlkZW9IZWlnaHQpO1xuICAgICAgICAvLyBwcmV2ZW50IG11bHRpcGxlIGxvYWRlZCBkaXNwYXRjaGVzLi5cbiAgICAgICAgaWYgKCF2YWxpZCAmJiB0aGlzLl9yZXNvbHZlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2lzU291cmNlUGxheWluZygpKSB7XG4gICAgICAgICAgICB0aGlzLl9vblBsYXlTdGFydCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYXV0b1BsYXkpIHtcbiAgICAgICAgICAgIHNvdXJjZS5wbGF5KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9vbkVycm9yLCB0cnVlKTtcbiAgICAgICAgICAgIHNvdXJjZS5wYXVzZSgpO1xuICAgICAgICAgICAgc291cmNlLnNyYyA9ICcnO1xuICAgICAgICAgICAgc291cmNlLmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWRlb1Jlc291cmNlLnByb3RvdHlwZSwgXCJhdXRvVXBkYXRlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3VsZCB0aGUgYmFzZSB0ZXh0dXJlIGF1dG9tYXRpY2FsbHkgdXBkYXRlIGl0c2VsZiwgc2V0IHRvIHRydWUgYnkgZGVmYXVsdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYXV0b1VwZGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fYXV0b1VwZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2F1dG9VcGRhdGUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2F1dG9VcGRhdGUgJiYgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcikge1xuICAgICAgICAgICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fYXV0b1VwZGF0ZSAmJiAhdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciAmJiB0aGlzLl9pc1NvdXJjZVBsYXlpbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWRlb1Jlc291cmNlLnByb3RvdHlwZSwgXCJ1cGRhdGVGUFNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSG93IG1hbnkgdGltZXMgYSBzZWNvbmQgdG8gdXBkYXRlIHRoZSB0ZXh0dXJlIGZyb20gdGhlIHZpZGVvLiBMZWF2ZSBhdCAwIHRvIHVwZGF0ZSBhdCBldmVyeSByZW5kZXIuXG4gICAgICAgICAqIEEgbG93ZXIgZnBzIGNhbiBoZWxwIHBlcmZvcm1hbmNlLCBhcyB1cGRhdGluZyB0aGUgdGV4dHVyZSBhdCA2MGZwcyBvbiBhIDMwcHMgdmlkZW8gbWF5IG5vdCBiZSBlZmZpY2llbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZUZQUztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fdXBkYXRlRlBTKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlRlBTID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7Kn0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uIC0gVGhlIGV4dGVuc2lvbiBvZiBzb3VyY2UsIGlmIHNldFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB2aWRlbyBzb3VyY2VcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnRlc3QgPSBmdW5jdGlvbiAoc291cmNlLCBleHRlbnNpb24pIHtcbiAgICAgICAgcmV0dXJuIChzZWxmLkhUTUxWaWRlb0VsZW1lbnQgJiYgc291cmNlIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudClcbiAgICAgICAgICAgIHx8IFZpZGVvUmVzb3VyY2UuVFlQRVMuaW5kZXhPZihleHRlbnNpb24pID4gLTE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIGNvbW1vbiB2aWRlbyBmaWxlIGV4dGVuc2lvbnMgc3VwcG9ydGVkIGJ5IFZpZGVvUmVzb3VyY2UuXG4gICAgICogQGNvbnN0YW50XG4gICAgICogQG1lbWJlciB7QXJyYXk8c3RyaW5nPn1cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5UWVBFUyA9IFsnbXA0JywgJ200dicsICd3ZWJtJywgJ29nZycsICdvZ3YnLCAnaDI2NCcsICdhdmknLCAnbW92J107XG4gICAgLyoqXG4gICAgICogTWFwIG9mIHZpZGVvIE1JTUUgdHlwZXMgdGhhdCBjYW4ndCBiZSBkaXJlY3RseSBkZXJpdmVkIGZyb20gZmlsZSBleHRlbnNpb25zLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5NSU1FX1RZUEVTID0ge1xuICAgICAgICBvZ3Y6ICd2aWRlby9vZ2cnLFxuICAgICAgICBtb3Y6ICd2aWRlby9xdWlja3RpbWUnLFxuICAgICAgICBtNHY6ICd2aWRlby9tcDQnLFxuICAgIH07XG4gICAgcmV0dXJuIFZpZGVvUmVzb3VyY2U7XG59KEJhc2VJbWFnZVJlc291cmNlKSk7XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgSW1hZ2VCaXRtYXAuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBJbWFnZUJpdG1hcFJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJbWFnZUJpdG1hcFJlc291cmNlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7SW1hZ2VCaXRtYXB9IHNvdXJjZSAtIEltYWdlIGVsZW1lbnQgdG8gdXNlXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2VsZXNzLWNvbnN0cnVjdG9yXG4gICAgZnVuY3Rpb24gSW1hZ2VCaXRtYXBSZXNvdXJjZShzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHNvdXJjZSkgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0ltYWdlQml0bWFwfSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiBzb3VyY2UgaXMgYW4gSW1hZ2VCaXRtYXBcbiAgICAgKi9cbiAgICBJbWFnZUJpdG1hcFJlc291cmNlLnRlc3QgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHJldHVybiAhIXNlbGYuY3JlYXRlSW1hZ2VCaXRtYXAgJiYgc291cmNlIGluc3RhbmNlb2YgSW1hZ2VCaXRtYXA7XG4gICAgfTtcbiAgICByZXR1cm4gSW1hZ2VCaXRtYXBSZXNvdXJjZTtcbn0oQmFzZUltYWdlUmVzb3VyY2UpKTtcblxuSU5TVEFMTEVELnB1c2goSW1hZ2VSZXNvdXJjZSwgSW1hZ2VCaXRtYXBSZXNvdXJjZSwgQ2FudmFzUmVzb3VyY2UsIFZpZGVvUmVzb3VyY2UsIFNWR1Jlc291cmNlLCBCdWZmZXJSZXNvdXJjZSwgQ3ViZVJlc291cmNlLCBBcnJheVJlc291cmNlKTtcblxudmFyIF9yZXNvdXJjZXMgPSB7XG4gICAgX19wcm90b19fOiBudWxsLFxuICAgIFJlc291cmNlOiBSZXNvdXJjZSxcbiAgICBCYXNlSW1hZ2VSZXNvdXJjZTogQmFzZUltYWdlUmVzb3VyY2UsXG4gICAgSU5TVEFMTEVEOiBJTlNUQUxMRUQsXG4gICAgYXV0b0RldGVjdFJlc291cmNlOiBhdXRvRGV0ZWN0UmVzb3VyY2UsXG4gICAgQWJzdHJhY3RNdWx0aVJlc291cmNlOiBBYnN0cmFjdE11bHRpUmVzb3VyY2UsXG4gICAgQXJyYXlSZXNvdXJjZTogQXJyYXlSZXNvdXJjZSxcbiAgICBCdWZmZXJSZXNvdXJjZTogQnVmZmVyUmVzb3VyY2UsXG4gICAgQ2FudmFzUmVzb3VyY2U6IENhbnZhc1Jlc291cmNlLFxuICAgIEN1YmVSZXNvdXJjZTogQ3ViZVJlc291cmNlLFxuICAgIEltYWdlUmVzb3VyY2U6IEltYWdlUmVzb3VyY2UsXG4gICAgU1ZHUmVzb3VyY2U6IFNWR1Jlc291cmNlLFxuICAgIFZpZGVvUmVzb3VyY2U6IFZpZGVvUmVzb3VyY2UsXG4gICAgSW1hZ2VCaXRtYXBSZXNvdXJjZTogSW1hZ2VCaXRtYXBSZXNvdXJjZVxufTtcblxuLyoqXG4gKiBTeXN0ZW0gaXMgYSBiYXNlIGNsYXNzIHVzZWQgZm9yIGV4dGVuZGluZyBzeXN0ZW1zIHVzZWQgYnkgdGhlIHtAbGluayBQSVhJLlJlbmRlcmVyfVxuICpcbiAqIEBzZWUgUElYSS5SZW5kZXJlciNhZGRTeXN0ZW1cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdlbmVyaWMgZGVzdHJveSBtZXRob2RzIHRvIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHN1YmNsYXNzXG4gICAgICovXG4gICAgU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBTeXN0ZW07XG59KCkpO1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIERlcHRoVGV4dHVyZS5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5CdWZmZXJSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIERlcHRoUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERlcHRoUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGVwdGhSZXNvdXJjZSgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHRleHR1cmUgdG8gdGhlIEdQVS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVXBsb2FkIHRvIHRoZSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZWZlcmVuY2UgdG8gcGFyZW50IHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmUgLSBnbFRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgRGVwdGhSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKSB7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSA9PT0gQUxQSEFfTU9ERVMuVU5QQUNLKTtcbiAgICAgICAgaWYgKGdsVGV4dHVyZS53aWR0aCA9PT0gYmFzZVRleHR1cmUud2lkdGggJiYgZ2xUZXh0dXJlLmhlaWdodCA9PT0gYmFzZVRleHR1cmUuaGVpZ2h0KSB7XG4gICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKGJhc2VUZXh0dXJlLnRhcmdldCwgMCwgMCwgMCwgYmFzZVRleHR1cmUud2lkdGgsIGJhc2VUZXh0dXJlLmhlaWdodCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS50eXBlLCB0aGlzLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndpZHRoID0gYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChiYXNlVGV4dHVyZS50YXJnZXQsIDAsIFxuICAgICAgICAgICAgLy8gIGdsLkRFUFRIX0NPTVBPTkVOVDE2IE5lZWRlZCBmb3IgZGVwdGggdG8gcmVuZGVyIHByb3Blcmx5IGluIHdlYmdsMi4wXG4gICAgICAgICAgICByZW5kZXJlci5jb250ZXh0LndlYkdMVmVyc2lvbiA9PT0gMSA/IGdsLkRFUFRIX0NPTVBPTkVOVCA6IGdsLkRFUFRIX0NPTVBPTkVOVDE2LCBiYXNlVGV4dHVyZS53aWR0aCwgYmFzZVRleHR1cmUuaGVpZ2h0LCAwLCBiYXNlVGV4dHVyZS5mb3JtYXQsIGJhc2VUZXh0dXJlLnR5cGUsIHRoaXMuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICByZXR1cm4gRGVwdGhSZXNvdXJjZTtcbn0oQnVmZmVyUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBBIGZyYW1lYnVmZmVyIGNhbiBiZSB1c2VkIHRvIHJlbmRlciBjb250ZW50cyBvZmYgb2YgdGhlIHNjcmVlbi4ge0BsaW5rIFBJWEkuQmFzZVJlbmRlclRleHR1cmV9IHVzZXNcbiAqIG9uZSBpbnRlcm5hbGx5IHRvIHJlbmRlciBpbnRvIGl0c2VsZi4gWW91IGNhbiBhdHRhY2ggYSBkZXB0aCBvciBzdGVuY2lsIGJ1ZmZlciB0byBhIGZyYW1lYnVmZmVyLlxuICpcbiAqIE9uIFdlYkdMIDIgbWFjaGluZXMsIHNoYWRlcnMgY2FuIG91dHB1dCB0byBtdWx0aXBsZSB0ZXh0dXJlcyBzaW11bHRhbmVvdXNseSB3aXRoIEdMU0wgMzAwIEVTLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEZyYW1lYnVmZmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFdpZHRoIG9mIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBGcmFtZWJ1ZmZlcih3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaWR0aCBvZiBmcmFtZWJ1ZmZlciBpbiBwaXhlbHNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IE1hdGguY2VpbCh3aWR0aCB8fCAxMDApO1xuICAgICAgICAvKipcbiAgICAgICAgICogSGVpZ2h0IG9mIGZyYW1lYnVmZmVyIGluIHBpeGVsc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQgfHwgMTAwKTtcbiAgICAgICAgdGhpcy5zdGVuY2lsID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGVwdGggPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kaXJ0eUlkID0gMDtcbiAgICAgICAgdGhpcy5kaXJ0eUZvcm1hdCA9IDA7XG4gICAgICAgIHRoaXMuZGlydHlTaXplID0gMDtcbiAgICAgICAgdGhpcy5kZXB0aFRleHR1cmUgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbG9yVGV4dHVyZXMgPSBbXTtcbiAgICAgICAgdGhpcy5nbEZyYW1lYnVmZmVycyA9IHt9O1xuICAgICAgICB0aGlzLmRpc3Bvc2VSdW5uZXIgPSBuZXcgUnVubmVyKCdkaXNwb3NlRnJhbWVidWZmZXInKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc2lyZWQgbnVtYmVyIG9mIHNhbXBsZXMgZm9yIGFudGlhbGlhc2luZy4gMCBtZWFucyBBQSBzaG91bGQgbm90IGJlIHVzZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEV4cGVyaW1lbnRhbCBXZWJHTDIgZmVhdHVyZSwgYWxsb3dzIHRvIHVzZSBhbnRpYWxpYXNpbmcgaW4gaW5kaXZpZHVhbCByZW5kZXJUZXh0dXJlcy5cbiAgICAgICAgICogQW50aWFsaWFzaW5nIGlzIHRoZSBzYW1lIGFzIGZvciBtYWluIGJ1ZmZlciB3aXRoIHJlbmRlcmVyIGBhbnRpYWxpYXM6dHJ1ZWAgb3B0aW9ucy5cbiAgICAgICAgICogU2VyaW91c2x5IGFmZmVjdHMgR1BVIG1lbW9yeSBjb25zdW1wdGlvbiBhbmQgR1BVIHBlcmZvcm1hbmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKmBgYGpzXG4gICAgICAgICAqIHJlbmRlclRleHR1cmUuZnJhbWVidWZmZXIubXVsdGlzYW1wbGUgPSBQSVhJLk1TQUFfUVVBTElUWS5ISUdIO1xuICAgICAgICAgKiAvLy4uLlxuICAgICAgICAgKiByZW5kZXJlci5yZW5kZXIobXlDb250YWluZXIsIHtyZW5kZXJUZXh0dXJlfSk7XG4gICAgICAgICAqIHJlbmRlcmVyLmZyYW1lYnVmZmVyLmJsaXQoKTsgLy8gY29waWVzIGRhdGEgZnJvbSBNU0FBIGZyYW1lYnVmZmVyIHRvIHRleHR1cmVcbiAgICAgICAgICogIGBgYFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1TQUFfUVVBTElUWX1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5NU0FBX1FVQUxJVFkuTk9ORVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tdWx0aXNhbXBsZSA9IE1TQUFfUVVBTElUWS5OT05FO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnJhbWVidWZmZXIucHJvdG90eXBlLCBcImNvbG9yVGV4dHVyZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGNvbG9yVGV4dHVyZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZVtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29sb3JUZXh0dXJlc1swXTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEFkZCB0ZXh0dXJlIHRvIHRoZSBjb2xvclRleHR1cmUgYXJyYXlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaW5kZXg9MF0gLSBJbmRleCBvZiB0aGUgYXJyYXkgdG8gYWRkIHRoZSB0ZXh0dXJlIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBbdGV4dHVyZV0gLSBUZXh0dXJlIHRvIGFkZCB0byB0aGUgYXJyYXlcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlci5wcm90b3R5cGUuYWRkQ29sb3JUZXh0dXJlID0gZnVuY3Rpb24gKGluZGV4LCB0ZXh0dXJlKSB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7IGluZGV4ID0gMDsgfVxuICAgICAgICAvLyBUT0RPIGFkZCBzb21lIHZhbGlkYXRpb24gdG8gdGhlIHRleHR1cmUgLSBzYW1lIHdpZHRoIC8gaGVpZ2h0IGV0Yz9cbiAgICAgICAgdGhpcy5jb2xvclRleHR1cmVzW2luZGV4XSA9IHRleHR1cmUgfHwgbmV3IEJhc2VUZXh0dXJlKG51bGwsIHtcbiAgICAgICAgICAgIHNjYWxlTW9kZTogU0NBTEVfTU9ERVMuTkVBUkVTVCxcbiAgICAgICAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICAgICAgICBtaXBtYXA6IE1JUE1BUF9NT0RFUy5PRkYsXG4gICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgdGhpcy5kaXJ0eUZvcm1hdCsrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBhIGRlcHRoIHRleHR1cmUgdG8gdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBbdGV4dHVyZV0gLSBUZXh0dXJlIHRvIGFkZFxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyLnByb3RvdHlwZS5hZGREZXB0aFRleHR1cmUgPSBmdW5jdGlvbiAodGV4dHVyZSkge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgIHRoaXMuZGVwdGhUZXh0dXJlID0gdGV4dHVyZSB8fCBuZXcgQmFzZVRleHR1cmUobmV3IERlcHRoUmVzb3VyY2UobnVsbCwgeyB3aWR0aDogdGhpcy53aWR0aCwgaGVpZ2h0OiB0aGlzLmhlaWdodCB9KSwge1xuICAgICAgICAgICAgc2NhbGVNb2RlOiBTQ0FMRV9NT0RFUy5ORUFSRVNULFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcbiAgICAgICAgICAgIG1pcG1hcDogTUlQTUFQX01PREVTLk9GRixcbiAgICAgICAgICAgIGZvcm1hdDogRk9STUFUUy5ERVBUSF9DT01QT05FTlQsXG4gICAgICAgICAgICB0eXBlOiBUWVBFUy5VTlNJR05FRF9TSE9SVCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5hYmxlIGRlcHRoIG9uIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlci5wcm90b3R5cGUuZW5hYmxlRGVwdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGVwdGggPSB0cnVlO1xuICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgdGhpcy5kaXJ0eUZvcm1hdCsrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuYWJsZSBzdGVuY2lsIG9uIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlci5wcm90b3R5cGUuZW5hYmxlU3RlbmNpbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdGVuY2lsID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgIHRoaXMuZGlydHlGb3JtYXQrKztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNpemUgdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggb2YgdGhlIGZyYW1lIGJ1ZmZlciB0byByZXNpemUgdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSBmcmFtZSBidWZmZXIgdG8gcmVzaXplIHRvXG4gICAgICovXG4gICAgRnJhbWVidWZmZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdGhpcy53aWR0aCAmJiBoZWlnaHQgPT09IHRoaXMuaGVpZ2h0KVxuICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgIHRoaXMuZGlydHlTaXplKys7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb2xvclRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuY29sb3JUZXh0dXJlc1tpXTtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gdGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgLy8gdGFrZSBpbnRvIGFjY291bnQgdGhlIGZhY3QgdGhlIHRleHR1cmUgbWF5IGhhdmUgYSBkaWZmZXJlbnQgcmVzb2x1dGlvbi4uXG4gICAgICAgICAgICB0ZXh0dXJlLnNldFNpemUod2lkdGggLyByZXNvbHV0aW9uLCBoZWlnaHQgLyByZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZXB0aFRleHR1cmUpIHtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gdGhpcy5kZXB0aFRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGVwdGhUZXh0dXJlLnNldFNpemUod2lkdGggLyByZXNvbHV0aW9uLCBoZWlnaHQgLyByZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgV2ViR0wgcmVzb3VyY2VzIHRoYXQgYXJlIGNvbm5lY3RlZCB0byB0aGlzIGdlb21ldHJ5XG4gICAgICovXG4gICAgRnJhbWVidWZmZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGlzcG9zZVJ1bm5lci5lbWl0KHRoaXMsIGZhbHNlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIGFuZCByZW1vdmVzIHRoZSBkZXB0aCB0ZXh0dXJlIGFkZGVkIHRvIHRoaXMgZnJhbWVidWZmZXIuXG4gICAgICovXG4gICAgRnJhbWVidWZmZXIucHJvdG90eXBlLmRlc3Ryb3lEZXB0aFRleHR1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRlcHRoVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5kZXB0aFRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5kZXB0aFRleHR1cmUgPSBudWxsO1xuICAgICAgICAgICAgKyt0aGlzLmRpcnR5SWQ7XG4gICAgICAgICAgICArK3RoaXMuZGlydHlGb3JtYXQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBGcmFtZWJ1ZmZlcjtcbn0oKSk7XG5cbi8qKlxuICogQSBCYXNlUmVuZGVyVGV4dHVyZSBpcyBhIHNwZWNpYWwgdGV4dHVyZSB0aGF0IGFsbG93cyBhbnkgUGl4aUpTIGRpc3BsYXkgb2JqZWN0IHRvIGJlIHJlbmRlcmVkIHRvIGl0LlxuICpcbiAqIF9fSGludF9fOiBBbGwgRGlzcGxheU9iamVjdHMgKGkuZS4gU3ByaXRlcykgdGhhdCByZW5kZXIgdG8gYSBCYXNlUmVuZGVyVGV4dHVyZSBzaG91bGQgYmUgcHJlbG9hZGVkXG4gKiBvdGhlcndpc2UgYmxhY2sgcmVjdGFuZ2xlcyB3aWxsIGJlIGRyYXduIGluc3RlYWQuXG4gKlxuICogQSBCYXNlUmVuZGVyVGV4dHVyZSB0YWtlcyBhIHNuYXBzaG90IG9mIGFueSBEaXNwbGF5IE9iamVjdCBnaXZlbiB0byBpdHMgcmVuZGVyIG1ldGhvZC4gVGhlIHBvc2l0aW9uXG4gKiBhbmQgcm90YXRpb24gb2YgdGhlIGdpdmVuIERpc3BsYXkgT2JqZWN0cyBpcyBpZ25vcmVkLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoKTtcbiAqIGxldCBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLkJhc2VSZW5kZXJUZXh0dXJlKHsgd2lkdGg6IDgwMCwgaGVpZ2h0OiA2MDAgfSk7XG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLlJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xuICogbGV0IHNwcml0ZSA9IFBJWEkuU3ByaXRlLmZyb20oXCJzcGluT2JqXzAxLnBuZ1wiKTtcbiAqXG4gKiBzcHJpdGUucG9zaXRpb24ueCA9IDgwMC8yO1xuICogc3ByaXRlLnBvc2l0aW9uLnkgPSA2MDAvMjtcbiAqIHNwcml0ZS5hbmNob3IueCA9IDAuNTtcbiAqIHNwcml0ZS5hbmNob3IueSA9IDAuNTtcbiAqXG4gKiByZW5kZXJlci5yZW5kZXIoc3ByaXRlLCB7cmVuZGVyVGV4dHVyZX0pO1xuICogYGBgXG4gKlxuICogVGhlIFNwcml0ZSBpbiB0aGlzIGNhc2Ugd2lsbCBiZSByZW5kZXJlZCB1c2luZyBpdHMgbG9jYWwgdHJhbnNmb3JtLiBUbyByZW5kZXIgdGhpcyBzcHJpdGUgYXQgMCwwXG4gKiB5b3UgY2FuIGNsZWFyIHRoZSB0cmFuc2Zvcm1cbiAqXG4gKiBgYGBqc1xuICpcbiAqIHNwcml0ZS5zZXRUcmFuc2Zvcm0oKVxuICpcbiAqIGxldCBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLkJhc2VSZW5kZXJUZXh0dXJlKHsgd2lkdGg6IDEwMCwgaGVpZ2h0OiAxMDAgfSk7XG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLlJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHtyZW5kZXJUZXh0dXJlfSk7ICAvLyBSZW5kZXJzIHRvIGNlbnRlciBvZiBSZW5kZXJUZXh0dXJlXG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQmFzZVRleHR1cmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXNlUmVuZGVyVGV4dHVyZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmFzZVJlbmRlclRleHR1cmUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD0xMDBdIC0gVGhlIHdpZHRoIG9mIHRoZSBiYXNlIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9MTAwXSAtIFRoZSBoZWlnaHQgb2YgdGhlIGJhc2UgcmVuZGVyIHRleHR1cmUuXG4gICAgICogQHBhcmFtIHtQSVhJLlNDQUxFX01PREVTfSBbb3B0aW9ucy5zY2FsZU1vZGVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmUgYmVpbmcgZ2VuZXJhdGVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhc2VSZW5kZXJUZXh0dXJlKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgICAgICAvLyBCYWNrd2FyZCBjb21wYXRpYmlsaXR5IG9mIHNpZ25hdHVyZVxuICAgICAgICAgICAgdmFyIHdpZHRoXzEgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICB2YXIgaGVpZ2h0XzEgPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICB2YXIgc2NhbGVNb2RlID0gYXJndW1lbnRzWzJdO1xuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSBhcmd1bWVudHNbM107XG4gICAgICAgICAgICBvcHRpb25zID0geyB3aWR0aDogd2lkdGhfMSwgaGVpZ2h0OiBoZWlnaHRfMSwgc2NhbGVNb2RlOiBzY2FsZU1vZGUsIHJlc29sdXRpb246IHJlc29sdXRpb24gfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBudWxsLCBvcHRpb25zKSB8fCB0aGlzO1xuICAgICAgICB2YXIgX2EgPSBvcHRpb25zIHx8IHt9LCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIC8vIFNldCBkZWZhdWx0c1xuICAgICAgICBfdGhpcy5taXBtYXAgPSAwO1xuICAgICAgICBfdGhpcy53aWR0aCA9IE1hdGguY2VpbCh3aWR0aCkgfHwgMTAwO1xuICAgICAgICBfdGhpcy5oZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KSB8fCAxMDA7XG4gICAgICAgIF90aGlzLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuY2xlYXJDb2xvciA9IFswLCAwLCAwLCAwXTtcbiAgICAgICAgX3RoaXMuZnJhbWVidWZmZXIgPSBuZXcgRnJhbWVidWZmZXIoX3RoaXMud2lkdGggKiBfdGhpcy5yZXNvbHV0aW9uLCBfdGhpcy5oZWlnaHQgKiBfdGhpcy5yZXNvbHV0aW9uKVxuICAgICAgICAgICAgLmFkZENvbG9yVGV4dHVyZSgwLCBfdGhpcyk7XG4gICAgICAgIC8vIFRPRE8gLSBjb3VsZCB0aGlzIGJlIGFkZGVkIHRoZSBzeXN0ZW1zP1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRhdGEgc3RydWN0dXJlIGZvciB0aGUgc3RlbmNpbCBtYXNrcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXNrRGF0YVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFza1N0YWNrID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGF0YSBzdHJ1Y3R1cmUgZm9yIHRoZSBmaWx0ZXJzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3RbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZpbHRlclN0YWNrID0gW3t9XTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBCYXNlUmVuZGVyVGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCB0byByZXNpemUgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgdG8gcmVzaXplIHRvLlxuICAgICAqL1xuICAgIEJhc2VSZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xuICAgICAgICB3aWR0aCA9IE1hdGguY2VpbCh3aWR0aCk7XG4gICAgICAgIGhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpO1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyLnJlc2l6ZSh3aWR0aCAqIHRoaXMucmVzb2x1dGlvbiwgaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZyZWVzIHRoZSB0ZXh0dXJlIGFuZCBmcmFtZWJ1ZmZlciBmcm9tIFdlYkdMIG1lbW9yeSB3aXRob3V0IGRlc3Ryb3lpbmcgdGhpcyB0ZXh0dXJlIG9iamVjdC5cbiAgICAgKiBUaGlzIG1lYW5zIHlvdSBjYW4gc3RpbGwgdXNlIHRoZSB0ZXh0dXJlIGxhdGVyIHdoaWNoIHdpbGwgdXBsb2FkIGl0IHRvIEdQVVxuICAgICAqIG1lbW9yeSBhZ2Fpbi5cbiAgICAgKlxuICAgICAqIEBmaXJlcyBQSVhJLkJhc2VUZXh0dXJlI2Rpc3Bvc2VcbiAgICAgKi9cbiAgICBCYXNlUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlci5kaXNwb3NlKCk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlLlxuICAgICAqL1xuICAgIEJhc2VSZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlci5kZXN0cm95RGVwdGhUZXh0dXJlKCk7XG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEJhc2VSZW5kZXJUZXh0dXJlO1xufShCYXNlVGV4dHVyZSkpO1xuXG4vKipcbiAqIFN0b3JlcyBhIHRleHR1cmUncyBmcmFtZSBpbiBVViBjb29yZGluYXRlcywgaW5cbiAqIHdoaWNoIGV2ZXJ5dGhpbmcgbGllcyBpbiB0aGUgcmVjdGFuZ2xlIGBbKDAsMCksICgxLDApLFxuICogKDEsMSksICgwLDEpXWAuXG4gKlxuICogfCBDb3JuZXIgICAgICAgfCBDb29yZGluYXRlcyB8XG4gKiB8LS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLXxcbiAqIHwgVG9wLUxlZnQgICAgIHwgYCh4MCx5MClgICAgfFxuICogfCBUb3AtUmlnaHQgICAgfCBgKHgxLHkxKWAgICB8XG4gKiB8IEJvdHRvbS1SaWdodCB8IGAoeDIseTIpYCAgIHxcbiAqIHwgQm90dG9tLUxlZnQgIHwgYCh4Myx5MylgICAgfFxuICpcbiAqIEBjbGFzc1xuICogQHByb3RlY3RlZFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHR1cmVVdnMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGV4dHVyZVV2cygpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFgtY29tcG9uZW50IG9mIHRvcC1sZWZ0IGNvcm5lciBgKHgwLHkwKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueDAgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogWS1jb21wb25lbnQgb2YgdG9wLWxlZnQgY29ybmVyIGAoeDAseTApYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55MCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBYLWNvbXBvbmVudCBvZiB0b3AtcmlnaHQgY29ybmVyIGAoeDEseTEpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54MSA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBZLWNvbXBvbmVudCBvZiB0b3AtcmlnaHQgY29ybmVyIGAoeDEseTEpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55MSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBYLWNvbXBvbmVudCBvZiBib3R0b20tcmlnaHQgY29ybmVyIGAoeDIseTIpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54MiA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBZLWNvbXBvbmVudCBvZiBib3R0b20tcmlnaHQgY29ybmVyIGAoeDIseTIpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55MiA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBYLWNvbXBvbmVudCBvZiBib3R0b20tbGVmdCBjb3JuZXIgYCh4Myx5MylgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLngzID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFktY29tcG9uZW50IG9mIGJvdHRvbS1yaWdodCBjb3JuZXIgYCh4Myx5MylgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkzID0gMTtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdGV4dHVyZSBVdnMgYmFzZWQgb24gdGhlIGdpdmVuIGZyYW1lIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGZyYW1lIC0gVGhlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gYmFzZUZyYW1lIC0gVGhlIGJhc2UgZnJhbWUgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRlIC0gUm90YXRpb24gb2YgZnJhbWUsIHNlZSB7QGxpbmsgUElYSS5ncm91cEQ4fVxuICAgICAqL1xuICAgIFRleHR1cmVVdnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChmcmFtZSwgYmFzZUZyYW1lLCByb3RhdGUpIHtcbiAgICAgICAgdmFyIHR3ID0gYmFzZUZyYW1lLndpZHRoO1xuICAgICAgICB2YXIgdGggPSBiYXNlRnJhbWUuaGVpZ2h0O1xuICAgICAgICBpZiAocm90YXRlKSB7XG4gICAgICAgICAgICAvLyB3aWR0aCBhbmQgaGVpZ2h0IGRpdiAyIGRpdiBiYXNlRnJhbWUgc2l6ZVxuICAgICAgICAgICAgdmFyIHcyID0gZnJhbWUud2lkdGggLyAyIC8gdHc7XG4gICAgICAgICAgICB2YXIgaDIgPSBmcmFtZS5oZWlnaHQgLyAyIC8gdGg7XG4gICAgICAgICAgICAvLyBjb29yZGluYXRlcyBvZiBjZW50ZXJcbiAgICAgICAgICAgIHZhciBjWCA9IChmcmFtZS54IC8gdHcpICsgdzI7XG4gICAgICAgICAgICB2YXIgY1kgPSAoZnJhbWUueSAvIHRoKSArIGgyO1xuICAgICAgICAgICAgcm90YXRlID0gZ3JvdXBEOC5hZGQocm90YXRlLCBncm91cEQ4Lk5XKTsgLy8gTlcgaXMgdG9wLWxlZnQgY29ybmVyXG4gICAgICAgICAgICB0aGlzLngwID0gY1ggKyAodzIgKiBncm91cEQ4LnVYKHJvdGF0ZSkpO1xuICAgICAgICAgICAgdGhpcy55MCA9IGNZICsgKGgyICogZ3JvdXBEOC51WShyb3RhdGUpKTtcbiAgICAgICAgICAgIHJvdGF0ZSA9IGdyb3VwRDguYWRkKHJvdGF0ZSwgMik7IC8vIHJvdGF0ZSA5MCBkZWdyZWVzIGNsb2Nrd2lzZVxuICAgICAgICAgICAgdGhpcy54MSA9IGNYICsgKHcyICogZ3JvdXBEOC51WChyb3RhdGUpKTtcbiAgICAgICAgICAgIHRoaXMueTEgPSBjWSArIChoMiAqIGdyb3VwRDgudVkocm90YXRlKSk7XG4gICAgICAgICAgICByb3RhdGUgPSBncm91cEQ4LmFkZChyb3RhdGUsIDIpO1xuICAgICAgICAgICAgdGhpcy54MiA9IGNYICsgKHcyICogZ3JvdXBEOC51WChyb3RhdGUpKTtcbiAgICAgICAgICAgIHRoaXMueTIgPSBjWSArIChoMiAqIGdyb3VwRDgudVkocm90YXRlKSk7XG4gICAgICAgICAgICByb3RhdGUgPSBncm91cEQ4LmFkZChyb3RhdGUsIDIpO1xuICAgICAgICAgICAgdGhpcy54MyA9IGNYICsgKHcyICogZ3JvdXBEOC51WChyb3RhdGUpKTtcbiAgICAgICAgICAgIHRoaXMueTMgPSBjWSArIChoMiAqIGdyb3VwRDgudVkocm90YXRlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLngwID0gZnJhbWUueCAvIHR3O1xuICAgICAgICAgICAgdGhpcy55MCA9IGZyYW1lLnkgLyB0aDtcbiAgICAgICAgICAgIHRoaXMueDEgPSAoZnJhbWUueCArIGZyYW1lLndpZHRoKSAvIHR3O1xuICAgICAgICAgICAgdGhpcy55MSA9IGZyYW1lLnkgLyB0aDtcbiAgICAgICAgICAgIHRoaXMueDIgPSAoZnJhbWUueCArIGZyYW1lLndpZHRoKSAvIHR3O1xuICAgICAgICAgICAgdGhpcy55MiA9IChmcmFtZS55ICsgZnJhbWUuaGVpZ2h0KSAvIHRoO1xuICAgICAgICAgICAgdGhpcy54MyA9IGZyYW1lLnggLyB0dztcbiAgICAgICAgICAgIHRoaXMueTMgPSAoZnJhbWUueSArIGZyYW1lLmhlaWdodCkgLyB0aDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnV2c0Zsb2F0MzJbMF0gPSB0aGlzLngwO1xuICAgICAgICB0aGlzLnV2c0Zsb2F0MzJbMV0gPSB0aGlzLnkwO1xuICAgICAgICB0aGlzLnV2c0Zsb2F0MzJbMl0gPSB0aGlzLngxO1xuICAgICAgICB0aGlzLnV2c0Zsb2F0MzJbM10gPSB0aGlzLnkxO1xuICAgICAgICB0aGlzLnV2c0Zsb2F0MzJbNF0gPSB0aGlzLngyO1xuICAgICAgICB0aGlzLnV2c0Zsb2F0MzJbNV0gPSB0aGlzLnkyO1xuICAgICAgICB0aGlzLnV2c0Zsb2F0MzJbNl0gPSB0aGlzLngzO1xuICAgICAgICB0aGlzLnV2c0Zsb2F0MzJbN10gPSB0aGlzLnkzO1xuICAgIH07XG4gICAgVGV4dHVyZVV2cy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIltAcGl4aS9jb3JlOlRleHR1cmVVdnMgXCJcbiAgICAgICAgICAgICsgKFwieDA9XCIgKyB0aGlzLngwICsgXCIgeTA9XCIgKyB0aGlzLnkwICsgXCIgXCIpXG4gICAgICAgICAgICArIChcIngxPVwiICsgdGhpcy54MSArIFwiIHkxPVwiICsgdGhpcy55MSArIFwiIHgyPVwiICsgdGhpcy54MiArIFwiIFwiKVxuICAgICAgICAgICAgKyAoXCJ5Mj1cIiArIHRoaXMueTIgKyBcIiB4Mz1cIiArIHRoaXMueDMgKyBcIiB5Mz1cIiArIHRoaXMueTMpXG4gICAgICAgICAgICArIFwiXVwiO1xuICAgIH07XG4gICAgcmV0dXJuIFRleHR1cmVVdnM7XG59KCkpO1xuXG52YXIgREVGQVVMVF9VVlMgPSBuZXcgVGV4dHVyZVV2cygpO1xuLyoqXG4gKiBBIHRleHR1cmUgc3RvcmVzIHRoZSBpbmZvcm1hdGlvbiB0aGF0IHJlcHJlc2VudHMgYW4gaW1hZ2Ugb3IgcGFydCBvZiBhbiBpbWFnZS5cbiAqXG4gKiBJdCBjYW5ub3QgYmUgYWRkZWQgdG8gdGhlIGRpc3BsYXkgbGlzdCBkaXJlY3RseTsgaW5zdGVhZCB1c2UgaXQgYXMgdGhlIHRleHR1cmUgZm9yIGEgU3ByaXRlLlxuICogSWYgbm8gZnJhbWUgaXMgcHJvdmlkZWQgZm9yIGEgdGV4dHVyZSwgdGhlbiB0aGUgd2hvbGUgaW1hZ2UgaXMgdXNlZC5cbiAqXG4gKiBZb3UgY2FuIGRpcmVjdGx5IGNyZWF0ZSBhIHRleHR1cmUgZnJvbSBhbiBpbWFnZSBhbmQgdGhlbiByZXVzZSBpdCBtdWx0aXBsZSB0aW1lcyBsaWtlIHRoaXMgOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgdGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tKCdhc3NldHMvaW1hZ2UucG5nJyk7XG4gKiBsZXQgc3ByaXRlMSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAqIGxldCBzcHJpdGUyID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICogYGBgXG4gKlxuICogSWYgeW91IGRpZG50IHBhc3MgdGhlIHRleHR1cmUgZnJhbWUgdG8gY29uc3RydWN0b3IsIGl0IGVuYWJsZXMgYG5vRnJhbWVgIG1vZGU6XG4gKiBpdCBzdWJzY3JpYmVzIG9uIGJhc2VUZXh0dXJlIGV2ZW50cywgaXQgYXV0b21hdGljYWxseSByZXNpemVzIGF0IHRoZSBzYW1lIHRpbWUgYXMgYmFzZVRleHR1cmUuXG4gKlxuICogVGV4dHVyZXMgbWFkZSBmcm9tIFNWR3MsIGxvYWRlZCBvciBub3QsIGNhbm5vdCBiZSB1c2VkIGJlZm9yZSB0aGUgZmlsZSBmaW5pc2hlcyBwcm9jZXNzaW5nLlxuICogWW91IGNhbiBjaGVjayBmb3IgdGhpcyBieSBjaGVja2luZyB0aGUgc3ByaXRlJ3MgX3RleHR1cmVJRCBwcm9wZXJ0eS5cbiAqIGBgYGpzXG4gKiB2YXIgdGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tKCdhc3NldHMvaW1hZ2Uuc3ZnJyk7XG4gKiB2YXIgc3ByaXRlMSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAqIC8vc3ByaXRlMS5fdGV4dHVyZUlEIHNob3VsZCBub3QgYmUgdW5kZWZpbmVkIGlmIHRoZSB0ZXh0dXJlIGhhcyBmaW5pc2hlZCBwcm9jZXNzaW5nIHRoZSBTVkcgZmlsZVxuICogYGBgXG4gKiBZb3UgY2FuIHVzZSBhIHRpY2tlciBvciByQUYgdG8gZW5zdXJlIHlvdXIgc3ByaXRlcyBsb2FkIHRoZSBmaW5pc2hlZCB0ZXh0dXJlcyBhZnRlciBwcm9jZXNzaW5nLiBTZWUgaXNzdWUgIzMwNjguXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlUGFyYW0gUiAtIFRoZSBCYXNlVGV4dHVyZSdzIFJlc291cmNlIHR5cGUuXG4gKi9cbnZhciBUZXh0dXJlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUZXh0dXJlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBUaGUgYmFzZSB0ZXh0dXJlIHNvdXJjZSB0byBjcmVhdGUgdGhlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtmcmFtZV0gLSBUaGUgcmVjdGFuZ2xlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlIHRvIHNob3dcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbb3JpZ10gLSBUaGUgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3RyaW1dIC0gVHJpbW1lZCByZWN0YW5nbGUgb2Ygb3JpZ2luYWwgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRlXSAtIGluZGljYXRlcyBob3cgdGhlIHRleHR1cmUgd2FzIHJvdGF0ZWQgYnkgdGV4dHVyZSBwYWNrZXIuIFNlZSB7QGxpbmsgUElYSS5ncm91cEQ4fVxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBbYW5jaG9yXSAtIERlZmF1bHQgYW5jaG9yIHBvaW50IHVzZWQgZm9yIHNwcml0ZSBwbGFjZW1lbnQgLyByb3RhdGlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmUoYmFzZVRleHR1cmUsIGZyYW1lLCBvcmlnLCB0cmltLCByb3RhdGUsIGFuY2hvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogRG9lcyB0aGlzIFRleHR1cmUgaGF2ZSBhbnkgZnJhbWUgZGF0YSBhc3NpZ25lZCB0byBpdD9cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBtb2RlIGlzIGVuYWJsZWQgYXV0b21hdGljYWxseSBpZiBubyBmcmFtZSB3YXMgcGFzc2VkIGluc2lkZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICpcbiAgICAgICAgICogSW4gdGhpcyBtb2RlIHRleHR1cmUgaXMgc3Vic2NyaWJlZCB0byBiYXNlVGV4dHVyZSBldmVudHMsIGFuZCBmaXJlcyBgdXBkYXRlYCBvbiBhbnkgY2hhbmdlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBCZXdhcmUsIGFmdGVyIGxvYWRpbmcgb3IgcmVzaXplIG9mIGJhc2VUZXh0dXJlIGV2ZW50IGNhbiBmaXJlZCB0d28gdGltZXMhXG4gICAgICAgICAqIElmIHlvdSB3YW50IG1vcmUgY29udHJvbCwgc3Vic2NyaWJlIG9uIGJhc2VUZXh0dXJlIGl0c2VsZi5cbiAgICAgICAgICpcbiAgICAgICAgICogYGBganNcbiAgICAgICAgICogdGV4dHVyZS5vbigndXBkYXRlJywgKCkgPT4ge30pO1xuICAgICAgICAgKiBgYGBcbiAgICAgICAgICpcbiAgICAgICAgICogQW55IGFzc2lnbm1lbnQgb2YgYGZyYW1lYCBzd2l0Y2hlcyBvZmYgYG5vRnJhbWVgIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ub0ZyYW1lID0gZmFsc2U7XG4gICAgICAgIGlmICghZnJhbWUpIHtcbiAgICAgICAgICAgIF90aGlzLm5vRnJhbWUgPSB0cnVlO1xuICAgICAgICAgICAgZnJhbWUgPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiYXNlVGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gYmFzZVRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlIHRleHR1cmUgdGhhdCB0aGlzIHRleHR1cmUgdXNlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhc2VUZXh0dXJlID0gYmFzZVRleHR1cmU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBhcmVhIG9mIHRoZSBCYXNlVGV4dHVyZSBpbWFnZSB0byBhY3R1YWxseSBjb3B5IHRvIHRoZSBDYW52YXMgLyBXZWJHTCB3aGVuIHJlbmRlcmluZyxcbiAgICAgICAgICogaXJyZXNwZWN0aXZlIG9mIHRoZSBhY3R1YWwgZnJhbWUgc2l6ZSBvciBwbGFjZW1lbnQgKHdoaWNoIGNhbiBiZSBpbmZsdWVuY2VkIGJ5IHRyaW1tZWQgdGV4dHVyZSBhdGxhc2VzKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9mcmFtZSA9IGZyYW1lO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgdHJpbW1lZCBhcmVhIG9mIG9yaWdpbmFsIHRleHR1cmUsIGJlZm9yZSBpdCB3YXMgcHV0IGluIGF0bGFzXG4gICAgICAgICAqIFBsZWFzZSBjYWxsIGB1cGRhdGVVdnMoKWAgYWZ0ZXIgeW91IGNoYW5nZSBjb29yZGluYXRlcyBvZiBgdHJpbWAgbWFudWFsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJpbSA9IHRyaW07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IHRoZSByZW5kZXJlciBrbm93IGlmIHRoZSB0ZXh0dXJlIGlzIHZhbGlkLiBJZiBpdCdzIG5vdCB0aGVuIGl0IGNhbm5vdCBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZhbGlkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgVVYgZGF0YSBjYWNoZS4gQ2FuIGJlIHVzZWQgYXMgcXVhZCBVVlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVVdnN9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl91dnMgPSBERUZBVUxUX1VWUztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmF1bHQgVGV4dHVyZU1hdHJpeCBpbnN0YW5jZSBmb3IgdGhpcyB0ZXh0dXJlXG4gICAgICAgICAqIEJ5IGRlZmF1bHQgdGhhdCBvYmplY3QgaXMgbm90IGNyZWF0ZWQgYmVjYXVzZSBpdHMgaGVhdnlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZNYXRyaXggPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlLCBiZWZvcmUgaXQgd2FzIHB1dCBpbiBhdGxhc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9yaWcgPSBvcmlnIHx8IGZyYW1lOyAvLyBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuICAgICAgICBfdGhpcy5fcm90YXRlID0gTnVtYmVyKHJvdGF0ZSB8fCAwKTtcbiAgICAgICAgaWYgKHJvdGF0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBvbGQgdGV4dHVyZXBhY2tlciBsZWdhY3ksIHNvbWUgZ2FtZXMvbGlicmFyaWVzIGFyZSBwYXNzaW5nIFwidHJ1ZVwiIGZvciByb3RhdGVkIHRleHR1cmVzXG4gICAgICAgICAgICBfdGhpcy5fcm90YXRlID0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfdGhpcy5fcm90YXRlICUgMiAhPT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhdHRlbXB0IHRvIHVzZSBkaWFtb25kLXNoYXBlZCBVVnMuIElmIHlvdSBhcmUgc3VyZSwgc2V0IHJvdGF0aW9uIG1hbnVhbGx5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuY2hvciBwb2ludCB0aGF0IGlzIHVzZWQgYXMgZGVmYXVsdCBpZiBzcHJpdGUgaXMgY3JlYXRlZCB3aXRoIHRoaXMgdGV4dHVyZS5cbiAgICAgICAgICogQ2hhbmdpbmcgdGhlIGBkZWZhdWx0QW5jaG9yYCBhdCBhIGxhdGVyIHBvaW50IG9mIHRpbWUgd2lsbCBub3QgdXBkYXRlIFNwcml0ZSdzIGFuY2hvciBwb2ludC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgICAgICogQGRlZmF1bHQgezAsMH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlZmF1bHRBbmNob3IgPSBhbmNob3IgPyBuZXcgUG9pbnQoYW5jaG9yLngsIGFuY2hvci55KSA6IG5ldyBQb2ludCgwLCAwKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBJRCBpcyBvYnNlcnZlZCBieSBzcHJpdGVzIGFuZCBUZXh0dXJlTWF0cml4IGluc3RhbmNlcy5cbiAgICAgICAgICogQ2FsbCB1cGRhdGVVdnMoKSB0byBpbmNyZW1lbnQgaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpZHMgdW5kZXIgd2hpY2ggdGhpcyBUZXh0dXJlIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSB0ZXh0dXJlIGNhY2hlLiBUaGlzIGlzXG4gICAgICAgICAqIGF1dG9tYXRpY2FsbHkgc2V0IGFzIGxvbmcgYXMgVGV4dHVyZS5hZGRUb0NhY2hlIGlzIHVzZWQsIGJ1dCBtYXkgbm90IGJlIHNldCBpZiBhXG4gICAgICAgICAqIFRleHR1cmUgaXMgYWRkZWQgZGlyZWN0bHkgdG8gdGhlIFRleHR1cmVDYWNoZSBhcnJheS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBbXTtcbiAgICAgICAgaWYgKCFiYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUub25jZSgnbG9hZGVkJywgX3RoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIF90aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfdGhpcy5ub0ZyYW1lKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBmcmFtZSB3ZSBzaG91bGQgbW9uaXRvciBmb3IgYW55IGJhc2UgdGV4dHVyZSBjaGFuZ2VzLi5cbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLmZyYW1lID0gZnJhbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF90aGlzLm5vRnJhbWUpIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLm9uKCd1cGRhdGUnLCBfdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgX3RoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGlzIHRleHR1cmUgb24gdGhlIGdwdS5cbiAgICAgKlxuICAgICAqIENhbGxzIHRoZSBUZXh0dXJlUmVzb3VyY2UgdXBkYXRlLlxuICAgICAqXG4gICAgICogSWYgeW91IGFkanVzdGVkIGBmcmFtZWAgbWFudWFsbHksIHBsZWFzZSBjYWxsIGB1cGRhdGVVdnMoKWAgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuYmFzZVRleHR1cmUucmVzb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUucmVzb3VyY2UudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBiYXNlIHRleHR1cmUgaXMgdXBkYXRlZFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBUaGUgYmFzZSB0ZXh0dXJlLlxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLm9uQmFzZVRleHR1cmVVcGRhdGVkID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIGlmICh0aGlzLm5vRnJhbWUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5iYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lLndpZHRoID0gYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZS5oZWlnaHQgPSBiYXNlVGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBUT0RPIHRoaXMgY29kZSBsb29rcyBjb25mdXNpbmcuLiBib28gdG8gYWJ1c2luZyBnZXR0ZXJzIGFuZCBzZXR0ZXJzIVxuICAgICAgICAgICAgLy8gaWYgdXNlciBnYXZlIHVzIGZyYW1lIHRoYXQgaGFzIGJpZ2dlciBzaXplIHRoYW4gcmVzaXplZCB0ZXh0dXJlIGl0IGNhbiBiZSBhIHByb2JsZW1cbiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSB0aGlzLl9mcmFtZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZXN0cm95QmFzZT1mYWxzZV0gLSBXaGV0aGVyIHRvIGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBhcyB3ZWxsXG4gICAgICovXG4gICAgVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChkZXN0cm95QmFzZSkge1xuICAgICAgICBpZiAodGhpcy5iYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgaWYgKGRlc3Ryb3lCYXNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc291cmNlID0gdGhpcy5iYXNlVGV4dHVyZS5yZXNvdXJjZTtcbiAgICAgICAgICAgICAgICAvLyBkZWxldGUgdGhlIHRleHR1cmUgaWYgaXQgZXhpc3RzIGluIHRoZSB0ZXh0dXJlIGNhY2hlLi5cbiAgICAgICAgICAgICAgICAvLyB0aGlzIG9ubHkgbmVlZHMgdG8gYmUgcmVtb3ZlZCBpZiB0aGUgYmFzZSB0ZXh0dXJlIGlzIGFjdHVhbGx5IGRlc3Ryb3llZCB0b28uLlxuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZSAmJiByZXNvdXJjZS51cmwgJiYgVGV4dHVyZUNhY2hlW3Jlc291cmNlLnVybF0pIHtcbiAgICAgICAgICAgICAgICAgICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUocmVzb3VyY2UudXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9mZignbG9hZGVkJywgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mcmFtZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3V2cyA9IG51bGw7XG4gICAgICAgIHRoaXMudHJpbSA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZyA9IG51bGw7XG4gICAgICAgIHRoaXMudmFsaWQgPSBmYWxzZTtcbiAgICAgICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcyk7XG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGV4dHVyZSBvYmplY3QgdGhhdCBhY3RzIHRoZSBzYW1lIGFzIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3IHRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKHRoaXMuYmFzZVRleHR1cmUsIHRoaXMuZnJhbWUuY2xvbmUoKSwgdGhpcy5vcmlnLmNsb25lKCksIHRoaXMudHJpbSAmJiB0aGlzLnRyaW0uY2xvbmUoKSwgdGhpcy5yb3RhdGUsIHRoaXMuZGVmYXVsdEFuY2hvcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBpbnRlcm5hbCBXZWJHTCBVViBjYWNoZS4gVXNlIGl0IGFmdGVyIHlvdSBjaGFuZ2UgYGZyYW1lYCBvciBgdHJpbWAgb2YgdGhlIHRleHR1cmUuXG4gICAgICogQ2FsbCBpdCBhZnRlciBjaGFuZ2luZyB0aGUgZnJhbWVcbiAgICAgKi9cbiAgICBUZXh0dXJlLnByb3RvdHlwZS51cGRhdGVVdnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl91dnMgPT09IERFRkFVTFRfVVZTKSB7XG4gICAgICAgICAgICB0aGlzLl91dnMgPSBuZXcgVGV4dHVyZVV2cygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3V2cy5zZXQodGhpcy5fZnJhbWUsIHRoaXMuYmFzZVRleHR1cmUsIHRoaXMucm90YXRlKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgVGV4dHVyZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFBJWEkuQmFzZVRleHR1cmV9IHNvdXJjZSAtXG4gICAgICogICAgICAgIFNvdXJjZSB0byBjcmVhdGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucGl4aUlkUHJlZml4PXBpeGlpZF0gLSBJZiBhIHNvdXJjZSBoYXMgbm8gaWQsIHRoaXMgaXMgdGhlIHByZWZpeCBvZiB0aGUgZ2VuZXJhdGVkIGlkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3RyaWN0XSAtIEVuZm9yY2Ugc3RyaWN0LW1vZGUsIHNlZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5TVFJJQ1RfVEVYVFVSRV9DQUNIRX0uXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3bHkgY3JlYXRlZCB0ZXh0dXJlXG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tID0gZnVuY3Rpb24gKHNvdXJjZSwgb3B0aW9ucywgc3RyaWN0KSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIGlmIChzdHJpY3QgPT09IHZvaWQgMCkgeyBzdHJpY3QgPSBzZXR0aW5ncy5TVFJJQ1RfVEVYVFVSRV9DQUNIRTsgfVxuICAgICAgICB2YXIgaXNGcmFtZSA9IHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnO1xuICAgICAgICB2YXIgY2FjaGVJZCA9IG51bGw7XG4gICAgICAgIGlmIChpc0ZyYW1lKSB7XG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFzb3VyY2UuX3BpeGlJZCkge1xuICAgICAgICAgICAgICAgIHZhciBwcmVmaXggPSAob3B0aW9ucyAmJiBvcHRpb25zLnBpeGlJZFByZWZpeCkgfHwgJ3BpeGlpZCc7XG4gICAgICAgICAgICAgICAgc291cmNlLl9waXhpSWQgPSBwcmVmaXggKyBcIl9cIiArIHVpZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FjaGVJZCA9IHNvdXJjZS5fcGl4aUlkO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0ZXh0dXJlID0gVGV4dHVyZUNhY2hlW2NhY2hlSWRdO1xuICAgICAgICAvLyBTdHJpY3QtbW9kZSByZWplY3RzIGludmFsaWQgY2FjaGVJZHNcbiAgICAgICAgaWYgKGlzRnJhbWUgJiYgc3RyaWN0ICYmICF0ZXh0dXJlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgY2FjaGVJZCBcXFwiXCIgKyBjYWNoZUlkICsgXCJcXFwiIGRvZXMgbm90IGV4aXN0IGluIFRleHR1cmVDYWNoZS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0ZXh0dXJlKSB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMucmVzb2x1dGlvbikge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMucmVzb2x1dGlvbiA9IGdldFJlc29sdXRpb25PZlVybChzb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKG5ldyBCYXNlVGV4dHVyZShzb3VyY2UsIG9wdGlvbnMpKTtcbiAgICAgICAgICAgIHRleHR1cmUuYmFzZVRleHR1cmUuY2FjaGVJZCA9IGNhY2hlSWQ7XG4gICAgICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIGNhY2hlSWQpO1xuICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIGNhY2hlSWQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxldHMgYXNzdW1lIGl0cyBhIGJhc2UgdGV4dHVyZSFcbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVc2VmdWwgZm9yIGxvYWRpbmcgdGV4dHVyZXMgdmlhIFVSTHMuIFVzZSBpbnN0ZWFkIG9mIGBUZXh0dXJlLmZyb21gIGJlY2F1c2VcbiAgICAgKiBpdCBkb2VzIGEgYmV0dGVyIGpvYiBvZiBoYW5kbGluZyBmYWlsZWQgVVJMcyBtb3JlIGVmZmVjdGl2ZWx5LiBUaGlzIGFsc28gaWdub3Jlc1xuICAgICAqIGBQSVhJLnNldHRpbmdzLlNUUklDVF9URVhUVVJFX0NBQ0hFYC4gV29ya3MgZm9yIFZpZGVvcywgU1ZHcywgSW1hZ2VzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgcmVtb3RlIFVSTCB0byBsb2FkLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25hbCBvcHRpb25zIHRvIGluY2x1ZGVcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFBJWEkuVGV4dHVyZT59IEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgVGV4dHVyZS5cbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21VUkwgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciByZXNvdXJjZU9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHsgYXV0b0xvYWQ6IGZhbHNlIH0sIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yZXNvdXJjZU9wdGlvbnMpO1xuICAgICAgICB2YXIgdGV4dHVyZSA9IFRleHR1cmUuZnJvbSh1cmwsIE9iamVjdC5hc3NpZ24oeyByZXNvdXJjZU9wdGlvbnM6IHJlc291cmNlT3B0aW9ucyB9LCBvcHRpb25zKSwgZmFsc2UpO1xuICAgICAgICB2YXIgcmVzb3VyY2UgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlLnJlc291cmNlO1xuICAgICAgICAvLyBUaGUgdGV4dHVyZSB3YXMgYWxyZWFkeSBsb2FkZWRcbiAgICAgICAgaWYgKHRleHR1cmUuYmFzZVRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTWFudWFsbHkgbG9hZCB0aGUgdGV4dHVyZSwgdGhpcyBzaG91bGQgYWxsb3cgdXNlcnMgdG8gaGFuZGxlIGxvYWQgZXJyb3JzXG4gICAgICAgIHJldHVybiByZXNvdXJjZS5sb2FkKCkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUodGV4dHVyZSk7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IFRleHR1cmUgd2l0aCBhIEJ1ZmZlclJlc291cmNlIGZyb20gYSBGbG9hdDMyQXJyYXkuXG4gICAgICogUkdCQSB2YWx1ZXMgYXJlIGZsb2F0cyBmcm9tIDAgdG8gMS5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8VWludDhBcnJheX0gYnVmZmVyIC0gVGhlIG9wdGlvbmFsIGFycmF5IHRvIHVzZSwgaWYgbm8gZGF0YVxuICAgICAqICAgICAgICBpcyBwcm92aWRlZCwgYSBuZXcgRmxvYXQzMkFycmF5IGlzIGNyZWF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIHJlc3VsdGluZyBuZXcgQmFzZVRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21CdWZmZXIgPSBmdW5jdGlvbiAoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dHVyZShCYXNlVGV4dHVyZS5mcm9tQnVmZmVyKGJ1ZmZlciwgd2lkdGgsIGhlaWdodCwgb3B0aW9ucykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgdGV4dHVyZSBmcm9tIGEgc291cmNlIGFuZCBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxzdHJpbmd9IHNvdXJjZSAtIFRoZSBpbnB1dCBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGltYWdlVXJsIC0gRmlsZSBuYW1lIG9mIHRleHR1cmUsIGZvciBjYWNoZSBhbmQgcmVzb2x2aW5nIHJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtuYW1lXSAtIEh1bWFuIHJlYWRhYmxlIG5hbWUgZm9yIHRoZSB0ZXh0dXJlIGNhY2hlLiBJZiBubyBuYW1lIGlzXG4gICAgICogICAgICAgIHNwZWNpZmllZCwgb25seSBgaW1hZ2VVcmxgIHdpbGwgYmUgdXNlZCBhcyB0aGUgY2FjaGUgSUQuXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBPdXRwdXQgdGV4dHVyZVxuICAgICAqL1xuICAgIFRleHR1cmUuZnJvbUxvYWRlciA9IGZ1bmN0aW9uIChzb3VyY2UsIGltYWdlVXJsLCBuYW1lLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZShzb3VyY2UsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgc2NhbGVNb2RlOiBzZXR0aW5ncy5TQ0FMRV9NT0RFLFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogZ2V0UmVzb2x1dGlvbk9mVXJsKGltYWdlVXJsKSxcbiAgICAgICAgfSwgb3B0aW9ucykpO1xuICAgICAgICB2YXIgcmVzb3VyY2UgPSBiYXNlVGV4dHVyZS5yZXNvdXJjZTtcbiAgICAgICAgaWYgKHJlc291cmNlIGluc3RhbmNlb2YgSW1hZ2VSZXNvdXJjZSkge1xuICAgICAgICAgICAgcmVzb3VyY2UudXJsID0gaW1hZ2VVcmw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRleHR1cmUgPSBuZXcgVGV4dHVyZShiYXNlVGV4dHVyZSk7XG4gICAgICAgIC8vIE5vIG5hbWUsIHVzZSBpbWFnZVVybCBpbnN0ZWFkXG4gICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgbmFtZSA9IGltYWdlVXJsO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxldHMgYWxzbyBhZGQgdGhlIGZyYW1lIHRvIHBpeGkncyBnbG9iYWwgY2FjaGUgZm9yICdmcm9tTG9hZGVyJyBmdW5jdGlvblxuICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIG5hbWUpO1xuICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgbmFtZSk7XG4gICAgICAgIC8vIGFsc28gYWRkIHJlZmVyZW5jZXMgYnkgdXJsIGlmIHRoZXkgYXJlIGRpZmZlcmVudC5cbiAgICAgICAgaWYgKG5hbWUgIT09IGltYWdlVXJsKSB7XG4gICAgICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBpbWFnZVVybCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2VuZXJhbGx5IGltYWdlcyBhcmUgdmFsaWQgcmlnaHQgYXdheVxuICAgICAgICBpZiAodGV4dHVyZS5iYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTVkcgYXNzZXRzIG5lZWQgdG8gYmUgcGFyc2VkIGFzeW5jLCBsZXQncyB3YWl0XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgdGV4dHVyZS5iYXNlVGV4dHVyZS5vbmNlKCdsb2FkZWQnLCBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKHRleHR1cmUpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgVGV4dHVyZSB0byB0aGUgZ2xvYmFsIFRleHR1cmVDYWNoZS4gVGhpcyBjYWNoZSBpcyBzaGFyZWQgYWNyb3NzIHRoZSB3aG9sZSBQSVhJIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSBUZXh0dXJlIHRvIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIHRoYXQgdGhlIFRleHR1cmUgd2lsbCBiZSBzdG9yZWQgYWdhaW5zdC5cbiAgICAgKi9cbiAgICBUZXh0dXJlLmFkZFRvQ2FjaGUgPSBmdW5jdGlvbiAodGV4dHVyZSwgaWQpIHtcbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICBpZiAodGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihpZCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMucHVzaChpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoVGV4dHVyZUNhY2hlW2lkXSkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVGV4dHVyZSBhZGRlZCB0byB0aGUgY2FjaGUgd2l0aCBhbiBpZCBbXCIgKyBpZCArIFwiXSB0aGF0IGFscmVhZHkgaGFkIGFuIGVudHJ5XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgVGV4dHVyZUNhY2hlW2lkXSA9IHRleHR1cmU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIFRleHR1cmUgZnJvbSB0aGUgZ2xvYmFsIFRleHR1cmVDYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBpZCBvZiBhIFRleHR1cmUgdG8gYmUgcmVtb3ZlZCwgb3IgYSBUZXh0dXJlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZXxudWxsfSBUaGUgVGV4dHVyZSB0aGF0IHdhcyByZW1vdmVkXG4gICAgICovXG4gICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUgPSBmdW5jdGlvbiAodGV4dHVyZSkge1xuICAgICAgICBpZiAodHlwZW9mIHRleHR1cmUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZUZyb21DYWNoZSA9IFRleHR1cmVDYWNoZVt0ZXh0dXJlXTtcbiAgICAgICAgICAgIGlmICh0ZXh0dXJlRnJvbUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZih0ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW3RleHR1cmVdO1xuICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlRnJvbUNhY2hlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRleHR1cmUgJiYgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHRleHR1cmUgbWF0Y2hlcyB0aGUgb25lIGJlaW5nIHBhc3NlZCBpbiBiZWZvcmUgZGVsZXRpbmcgaXQgZnJvbSB0aGUgY2FjaGUuXG4gICAgICAgICAgICAgICAgaWYgKFRleHR1cmVDYWNoZVt0ZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV0gPT09IHRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIFRleHR1cmVDYWNoZVt0ZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHR1cmUucHJvdG90eXBlLCBcInJlc29sdXRpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyByZXNvbHV0aW9uIG9mIGJhc2VUZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dHVyZS5wcm90b3R5cGUsIFwiZnJhbWVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZyYW1lIHNwZWNpZmllcyB0aGUgcmVnaW9uIG9mIHRoZSBiYXNlIHRleHR1cmUgdGhhdCB0aGlzIHRleHR1cmUgdXNlcy5cbiAgICAgICAgICogUGxlYXNlIGNhbGwgYHVwZGF0ZVV2cygpYCBhZnRlciB5b3UgY2hhbmdlIGNvb3JkaW5hdGVzIG9mIGBmcmFtZWAgbWFudWFsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZnJhbWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZSA9IGZyYW1lO1xuICAgICAgICAgICAgdGhpcy5ub0ZyYW1lID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgeCA9IGZyYW1lLngsIHkgPSBmcmFtZS55LCB3aWR0aCA9IGZyYW1lLndpZHRoLCBoZWlnaHQgPSBmcmFtZS5oZWlnaHQ7XG4gICAgICAgICAgICB2YXIgeE5vdEZpdCA9IHggKyB3aWR0aCA+IHRoaXMuYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICB2YXIgeU5vdEZpdCA9IHkgKyBoZWlnaHQgPiB0aGlzLmJhc2VUZXh0dXJlLmhlaWdodDtcbiAgICAgICAgICAgIGlmICh4Tm90Rml0IHx8IHlOb3RGaXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVsYXRpb25zaGlwID0geE5vdEZpdCAmJiB5Tm90Rml0ID8gJ2FuZCcgOiAnb3InO1xuICAgICAgICAgICAgICAgIHZhciBlcnJvclggPSBcIlg6IFwiICsgeCArIFwiICsgXCIgKyB3aWR0aCArIFwiID0gXCIgKyAoeCArIHdpZHRoKSArIFwiID4gXCIgKyB0aGlzLmJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgICAgIHZhciBlcnJvclkgPSBcIlk6IFwiICsgeSArIFwiICsgXCIgKyBoZWlnaHQgKyBcIiA9IFwiICsgKHkgKyBoZWlnaHQpICsgXCIgPiBcIiArIHRoaXMuYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGV4dHVyZSBFcnJvcjogZnJhbWUgZG9lcyBub3QgZml0IGluc2lkZSB0aGUgYmFzZSBUZXh0dXJlIGRpbWVuc2lvbnM6ICdcbiAgICAgICAgICAgICAgICAgICAgKyAoZXJyb3JYICsgXCIgXCIgKyByZWxhdGlvbnNoaXAgKyBcIiBcIiArIGVycm9yWSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52YWxpZCA9IHdpZHRoICYmIGhlaWdodCAmJiB0aGlzLmJhc2VUZXh0dXJlLnZhbGlkO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnRyaW0gJiYgIXRoaXMucm90YXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcmlnID0gZnJhbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy52YWxpZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dHVyZS5wcm90b3R5cGUsIFwicm90YXRlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSB0ZXh0dXJlIGlzIHJvdGF0ZWQgaW5zaWRlIHRoZSBhdGxhc1xuICAgICAgICAgKiBzZXQgdG8gMiB0byBjb21wZW5zYXRlIGZvciB0ZXh0dXJlIHBhY2tlciByb3RhdGlvblxuICAgICAgICAgKiBzZXQgdG8gNiB0byBjb21wZW5zYXRlIGZvciBzcGluZSBwYWNrZXIgcm90YXRpb25cbiAgICAgICAgICogY2FuIGJlIHVzZWQgdG8gcm90YXRlIG9yIG1pcnJvciBzcHJpdGVzXG4gICAgICAgICAqIFNlZSB7QGxpbmsgUElYSS5ncm91cEQ4fSBmb3IgZXhwbGFuYXRpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChyb3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0ZSA9IHJvdGF0ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0dXJlLnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIFRleHR1cmUgaW4gcGl4ZWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9yaWcud2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dHVyZS5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIFRleHR1cmUgaW4gcGl4ZWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9yaWcuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogVXRpbGl0eSBmdW5jdGlvbiBmb3IgQmFzZVRleHR1cmV8VGV4dHVyZSBjYXN0XG4gICAgICovXG4gICAgVGV4dHVyZS5wcm90b3R5cGUuY2FzdFRvQmFzZVRleHR1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VUZXh0dXJlO1xuICAgIH07XG4gICAgcmV0dXJuIFRleHR1cmU7XG59KEV2ZW50RW1pdHRlcikpO1xuZnVuY3Rpb24gY3JlYXRlV2hpdGVUZXh0dXJlKCkge1xuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjYW52YXMud2lkdGggPSAxNjtcbiAgICBjYW52YXMuaGVpZ2h0ID0gMTY7XG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCAxNiwgMTYpO1xuICAgIHJldHVybiBuZXcgVGV4dHVyZShuZXcgQmFzZVRleHR1cmUobmV3IENhbnZhc1Jlc291cmNlKGNhbnZhcykpKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZUFsbEhhbmRsZXJzKHRleCkge1xuICAgIHRleC5kZXN0cm95ID0gZnVuY3Rpb24gX2VtcHR5RGVzdHJveSgpIHsgfTtcbiAgICB0ZXgub24gPSBmdW5jdGlvbiBfZW1wdHlPbigpIHsgfTtcbiAgICB0ZXgub25jZSA9IGZ1bmN0aW9uIF9lbXB0eU9uY2UoKSB7IH07XG4gICAgdGV4LmVtaXQgPSBmdW5jdGlvbiBfZW1wdHlFbWl0KCkgeyB9O1xufVxuLyoqXG4gKiBBbiBlbXB0eSB0ZXh0dXJlLCB1c2VkIG9mdGVuIHRvIG5vdCBoYXZlIHRvIGNyZWF0ZSBtdWx0aXBsZSBlbXB0eSB0ZXh0dXJlcy5cbiAqIENhbiBub3QgYmUgZGVzdHJveWVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICovXG5UZXh0dXJlLkVNUFRZID0gbmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKCkpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5FTVBUWSk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLkVNUFRZLmJhc2VUZXh0dXJlKTtcbi8qKlxuICogQSB3aGl0ZSB0ZXh0dXJlIG9mIDE2eDE2IHNpemUsIHVzZWQgZm9yIGdyYXBoaWNzIGFuZCBvdGhlciB0aGluZ3NcbiAqIENhbiBub3QgYmUgZGVzdHJveWVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICovXG5UZXh0dXJlLldISVRFID0gY3JlYXRlV2hpdGVUZXh0dXJlKCk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLldISVRFKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuV0hJVEUuYmFzZVRleHR1cmUpO1xuXG4vKipcbiAqIEEgUmVuZGVyVGV4dHVyZSBpcyBhIHNwZWNpYWwgdGV4dHVyZSB0aGF0IGFsbG93cyBhbnkgUGl4aUpTIGRpc3BsYXkgb2JqZWN0IHRvIGJlIHJlbmRlcmVkIHRvIGl0LlxuICpcbiAqIF9fSGludF9fOiBBbGwgRGlzcGxheU9iamVjdHMgKGkuZS4gU3ByaXRlcykgdGhhdCByZW5kZXIgdG8gYSBSZW5kZXJUZXh0dXJlIHNob3VsZCBiZSBwcmVsb2FkZWRcbiAqIG90aGVyd2lzZSBibGFjayByZWN0YW5nbGVzIHdpbGwgYmUgZHJhd24gaW5zdGVhZC5cbiAqXG4gKiBfX0hpbnQtMl9fOiBUaGUgYWN0dWFsIG1lbW9yeSBhbGxvY2F0aW9uIHdpbGwgaGFwcGVuIG9uIGZpcnN0IHJlbmRlci5cbiAqIFlvdSBzaG91bGRuJ3QgY3JlYXRlIHJlbmRlclRleHR1cmVzIGVhY2ggZnJhbWUganVzdCB0byBkZWxldGUgdGhlbSBhZnRlciwgdHJ5IHRvIHJldXNlIHRoZW0uXG4gKlxuICogQSBSZW5kZXJUZXh0dXJlIHRha2VzIGEgc25hcHNob3Qgb2YgYW55IERpc3BsYXkgT2JqZWN0IGdpdmVuIHRvIGl0cyByZW5kZXIgbWV0aG9kLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoKTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSh7IHdpZHRoOiA4MDAsIGhlaWdodDogNjAwIH0pO1xuICogbGV0IHNwcml0ZSA9IFBJWEkuU3ByaXRlLmZyb20oXCJzcGluT2JqXzAxLnBuZ1wiKTtcbiAqXG4gKiBzcHJpdGUucG9zaXRpb24ueCA9IDgwMC8yO1xuICogc3ByaXRlLnBvc2l0aW9uLnkgPSA2MDAvMjtcbiAqIHNwcml0ZS5hbmNob3IueCA9IDAuNTtcbiAqIHNwcml0ZS5hbmNob3IueSA9IDAuNTtcbiAqXG4gKiByZW5kZXJlci5yZW5kZXIoc3ByaXRlLCB7cmVuZGVyVGV4dHVyZX0pO1xuICogYGBgXG4gKiBOb3RlIHRoYXQgeW91IHNob3VsZCBub3QgY3JlYXRlIGEgbmV3IHJlbmRlcmVyLCBidXQgcmV1c2UgdGhlIHNhbWUgb25lIGFzIHRoZSByZXN0IG9mIHRoZSBhcHBsaWNhdGlvbi5cbiAqXG4gKiBUaGUgU3ByaXRlIGluIHRoaXMgY2FzZSB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGl0cyBsb2NhbCB0cmFuc2Zvcm0uIFRvIHJlbmRlciB0aGlzIHNwcml0ZSBhdCAwLDBcbiAqIHlvdSBjYW4gY2xlYXIgdGhlIHRyYW5zZm9ybVxuICpcbiAqIGBgYGpzXG4gKlxuICogc3ByaXRlLnNldFRyYW5zZm9ybSgpXG4gKlxuICogbGV0IHJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSh7IHdpZHRoOiAxMDAsIGhlaWdodDogMTAwIH0pO1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHtyZW5kZXJUZXh0dXJlfSk7ICAvLyBSZW5kZXJzIHRvIGNlbnRlciBvZiBSZW5kZXJUZXh0dXJlXG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuVGV4dHVyZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlbmRlclRleHR1cmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlbmRlclRleHR1cmUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VSZW5kZXJUZXh0dXJlfSBiYXNlUmVuZGVyVGV4dHVyZSAtIFRoZSBiYXNlIHRleHR1cmUgb2JqZWN0IHRoYXQgdGhpcyB0ZXh0dXJlIHVzZXNcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZnJhbWVdIC0gVGhlIHJlY3RhbmdsZSBmcmFtZSBvZiB0aGUgdGV4dHVyZSB0byBzaG93XG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSwgZnJhbWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgYmFzZVJlbmRlclRleHR1cmUsIGZyYW1lKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB3aWxsIGxldCB0aGUgcmVuZGVyZXIga25vdyBpZiB0aGUgdGV4dHVyZSBpcyB2YWxpZC4gSWYgaXQncyBub3QgdGhlbiBpdCBjYW5ub3QgYmUgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52YWxpZCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdG9yZXMgYHNvdXJjZUZyYW1lYCB3aGVuIHRoaXMgdGV4dHVyZSBpcyBpbnNpZGUgY3VycmVudCBmaWx0ZXIgc3RhY2suXG4gICAgICAgICAqIFlvdSBjYW4gcmVhZCBpdCBpbnNpZGUgZmlsdGVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsdGVyRnJhbWUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGtleSBmb3IgcG9vbGVkIHRleHR1cmUgb2YgRmlsdGVyU3lzdGVtXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsdGVyUG9vbEtleSA9IG51bGw7XG4gICAgICAgIF90aGlzLnVwZGF0ZVV2cygpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZW5kZXJUZXh0dXJlLnByb3RvdHlwZSwgXCJmcmFtZWJ1ZmZlclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG9ydGN1dCB0byBgdGhpcy5iYXNlVGV4dHVyZS5mcmFtZWJ1ZmZlcmAsIHNhdmVzIGJhc2VUZXh0dXJlIGNhc3QuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRnJhbWVidWZmZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5iYXNlVGV4dHVyZS5mcmFtZWJ1ZmZlcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIFJlbmRlclRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggdG8gcmVzaXplIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXNpemVCYXNlVGV4dHVyZT10cnVlXSAtIFNob3VsZCB0aGUgYmFzZVRleHR1cmUud2lkdGggYW5kIGhlaWdodCB2YWx1ZXMgYmUgcmVzaXplZCBhcyB3ZWxsP1xuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmUucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0LCByZXNpemVCYXNlVGV4dHVyZSkge1xuICAgICAgICBpZiAocmVzaXplQmFzZVRleHR1cmUgPT09IHZvaWQgMCkgeyByZXNpemVCYXNlVGV4dHVyZSA9IHRydWU7IH1cbiAgICAgICAgd2lkdGggPSBNYXRoLmNlaWwod2lkdGgpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcbiAgICAgICAgLy8gVE9ETyAtIGNvdWxkIGJlIG5vdCByZXF1aXJlZC4uXG4gICAgICAgIHRoaXMudmFsaWQgPSAod2lkdGggPiAwICYmIGhlaWdodCA+IDApO1xuICAgICAgICB0aGlzLl9mcmFtZS53aWR0aCA9IHRoaXMub3JpZy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9mcmFtZS5oZWlnaHQgPSB0aGlzLm9yaWcuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBpZiAocmVzaXplQmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSByZXNvbHV0aW9uIG9mIGJhc2VUZXh0dXJlLCBidXQgZG9lcyBub3QgY2hhbmdlIGZyYW1lYnVmZmVyIHNpemUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSBuZXcgcmVzb2x1dGlvbiB0byBhcHBseSB0byBSZW5kZXJUZXh0dXJlXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuc2V0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChyZXNvbHV0aW9uKSB7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRoaXMuYmFzZVRleHR1cmU7XG4gICAgICAgIGlmIChiYXNlVGV4dHVyZS5yZXNvbHV0aW9uID09PSByZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYmFzZVRleHR1cmUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICAgICAgdGhpcy5yZXNpemUoYmFzZVRleHR1cmUud2lkdGgsIGJhc2VUZXh0dXJlLmhlaWdodCwgZmFsc2UpO1xuICAgIH07XG4gICAgUmVuZGVyVGV4dHVyZS5jcmVhdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgdmFyIHJlc3QgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHJlc3RbX2kgLSAxXSA9IGFyZ3VtZW50cyQxW19pXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBAZGVwcmVjYXRlZCBmYWxsYmFjaywgb2xkLXN0eWxlOiBjcmVhdGUod2lkdGgsIGhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNi4wLjAnLCAnQXJndW1lbnRzICh3aWR0aCwgaGVpZ2h0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24pIGhhdmUgYmVlbiBkZXByZWNhdGVkLicpO1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBvcHRpb25zLFxuICAgICAgICAgICAgICAgIGhlaWdodDogcmVzdFswXSxcbiAgICAgICAgICAgICAgICBzY2FsZU1vZGU6IHJlc3RbMV0sXG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogcmVzdFsyXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUmVuZGVyVGV4dHVyZShuZXcgQmFzZVJlbmRlclRleHR1cmUob3B0aW9ucykpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlbmRlclRleHR1cmU7XG59KFRleHR1cmUpKTtcblxuLyoqXG4gKiBFeHBlcmltZW50YWwhXG4gKlxuICogVGV4dHVyZSBwb29sLCB1c2VkIGJ5IEZpbHRlclN5c3RlbSBhbmQgcGx1Z2luc1xuICogU3RvcmVzIGNvbGxlY3Rpb24gb2YgdGVtcG9yYXJ5IHBvdzIgb3Igc2NyZWVuLXNpemVkIHJlbmRlclRleHR1cmVzXG4gKlxuICogSWYgeW91IHVzZSBjdXN0b20gUmVuZGVyVGV4dHVyZVBvb2wgZm9yIHlvdXIgZmlsdGVycywgeW91IGNhbiB1c2UgbWV0aG9kc1xuICogYGdldEZpbHRlclRleHR1cmVgIGFuZCBgcmV0dXJuRmlsdGVyVGV4dHVyZWAgc2FtZSBhcyBpblxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlbmRlclRleHR1cmVQb29sID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbdGV4dHVyZU9wdGlvbnNdIC0gb3B0aW9ucyB0aGF0IHdpbGwgYmUgcGFzc2VkIHRvIEJhc2VSZW5kZXJUZXh0dXJlIGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtQSVhJLlNDQUxFX01PREVTfSBbdGV4dHVyZU9wdGlvbnMuc2NhbGVNb2RlXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZW5kZXJUZXh0dXJlUG9vbCh0ZXh0dXJlT3B0aW9ucykge1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sID0ge307XG4gICAgICAgIHRoaXMudGV4dHVyZU9wdGlvbnMgPSB0ZXh0dXJlT3B0aW9ucyB8fCB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsbG93IHJlbmRlclRleHR1cmVzIG9mIHRoZSBzYW1lIHNpemUgYXMgc2NyZWVuLCBub3QganVzdCBwb3cyXG4gICAgICAgICAqXG4gICAgICAgICAqIEF1dG9tYXRpY2FsbHkgc2V0cyB0byB0cnVlIGFmdGVyIGBzZXRTY3JlZW5TaXplYFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbmFibGVGdWxsU2NyZWVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BpeGVsc1dpZHRoID0gMDtcbiAgICAgICAgdGhpcy5fcGl4ZWxzSGVpZ2h0ID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY3JlYXRlcyBvZiB0ZXh0dXJlIHdpdGggcGFyYW1zIHRoYXQgd2VyZSBzcGVjaWZpZWQgaW4gcG9vbCBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlYWxXaWR0aCAtIHdpZHRoIG9mIHRleHR1cmUgaW4gcGl4ZWxzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlYWxIZWlnaHQgLSBoZWlnaHQgb2YgdGV4dHVyZSBpbiBwaXhlbHNcbiAgICAgKiBAcmV0dXJucyB7UmVuZGVyVGV4dHVyZX1cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuY3JlYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIChyZWFsV2lkdGgsIHJlYWxIZWlnaHQpIHtcbiAgICAgICAgdmFyIGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IEJhc2VSZW5kZXJUZXh0dXJlKE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgd2lkdGg6IHJlYWxXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogcmVhbEhlaWdodCxcbiAgICAgICAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICAgIH0sIHRoaXMudGV4dHVyZU9wdGlvbnMpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZW5kZXJUZXh0dXJlKGJhc2VSZW5kZXJUZXh0dXJlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgYSBQb3dlci1vZi1Ud28gcmVuZGVyIHRleHR1cmUgb3IgZnVsbFNjcmVlbiB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbldpZHRoIC0gVGhlIG1pbmltdW0gd2lkdGggb2YgdGhlIHJlbmRlciB0ZXh0dXJlIGluIHJlYWwgcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5IZWlnaHQgLSBUaGUgbWluaW11bSBoZWlnaHQgb2YgdGhlIHJlbmRlciB0ZXh0dXJlIGluIHJlYWwgcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXIgdGV4dHVyZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRleHR1cmV9IFRoZSBuZXcgcmVuZGVyIHRleHR1cmUuXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVBvb2wucHJvdG90eXBlLmdldE9wdGltYWxUZXh0dXJlID0gZnVuY3Rpb24gKG1pbldpZHRoLCBtaW5IZWlnaHQsIHJlc29sdXRpb24pIHtcbiAgICAgICAgaWYgKHJlc29sdXRpb24gPT09IHZvaWQgMCkgeyByZXNvbHV0aW9uID0gMTsgfVxuICAgICAgICB2YXIga2V5ID0gUmVuZGVyVGV4dHVyZVBvb2wuU0NSRUVOX0tFWTtcbiAgICAgICAgbWluV2lkdGggKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgbWluSGVpZ2h0ICo9IHJlc29sdXRpb247XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVGdWxsU2NyZWVuIHx8IG1pbldpZHRoICE9PSB0aGlzLl9waXhlbHNXaWR0aCB8fCBtaW5IZWlnaHQgIT09IHRoaXMuX3BpeGVsc0hlaWdodCkge1xuICAgICAgICAgICAgbWluV2lkdGggPSBuZXh0UG93MihtaW5XaWR0aCk7XG4gICAgICAgICAgICBtaW5IZWlnaHQgPSBuZXh0UG93MihtaW5IZWlnaHQpO1xuICAgICAgICAgICAga2V5ID0gKChtaW5XaWR0aCAmIDB4RkZGRikgPDwgMTYpIHwgKG1pbkhlaWdodCAmIDB4RkZGRik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnRleHR1cmVQb29sW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZVBvb2xba2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlID0gdGhpcy50ZXh0dXJlUG9vbFtrZXldLnBvcCgpO1xuICAgICAgICBpZiAoIXJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLmNyZWF0ZVRleHR1cmUobWluV2lkdGgsIG1pbkhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyVGV4dHVyZS5maWx0ZXJQb29sS2V5ID0ga2V5O1xuICAgICAgICByZW5kZXJUZXh0dXJlLnNldFJlc29sdXRpb24ocmVzb2x1dGlvbik7XG4gICAgICAgIHJldHVybiByZW5kZXJUZXh0dXJlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyBleHRyYSB0ZXh0dXJlIG9mIHRoZSBzYW1lIHNpemUgYXMgaW5wdXQgcmVuZGVyVGV4dHVyZVxuICAgICAqXG4gICAgICogYGdldEZpbHRlclRleHR1cmUoaW5wdXQsIDAuNSlgIG9yIGBnZXRGaWx0ZXJUZXh0dXJlKDAuNSwgaW5wdXQpYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gcmVuZGVyVGV4dHVyZSBmcm9tIHdoaWNoIHNpemUgYW5kIHJlc29sdXRpb24gd2lsbCBiZSBjb3BpZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25dIC0gb3ZlcnJpZGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyVGV4dHVyZVxuICAgICAqICBJdCBvdmVycmlkZXMsIGl0IGRvZXMgbm90IG11bHRpcGx5XG4gICAgICogQHJldHVybnMge1BJWEkuUmVuZGVyVGV4dHVyZX1cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuZ2V0RmlsdGVyVGV4dHVyZSA9IGZ1bmN0aW9uIChpbnB1dCwgcmVzb2x1dGlvbikge1xuICAgICAgICB2YXIgZmlsdGVyVGV4dHVyZSA9IHRoaXMuZ2V0T3B0aW1hbFRleHR1cmUoaW5wdXQud2lkdGgsIGlucHV0LmhlaWdodCwgcmVzb2x1dGlvbiB8fCBpbnB1dC5yZXNvbHV0aW9uKTtcbiAgICAgICAgZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IGlucHV0LmZpbHRlckZyYW1lO1xuICAgICAgICByZXR1cm4gZmlsdGVyVGV4dHVyZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBsYWNlIGEgcmVuZGVyIHRleHR1cmUgYmFjayBpbnRvIHRoZSBwb29sLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlclRleHR1cmUgdG8gZnJlZVxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5yZXR1cm5UZXh0dXJlID0gZnVuY3Rpb24gKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgdmFyIGtleSA9IHJlbmRlclRleHR1cmUuZmlsdGVyUG9vbEtleTtcbiAgICAgICAgcmVuZGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IG51bGw7XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2xba2V5XS5wdXNoKHJlbmRlclRleHR1cmUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIHJldHVyblRleHR1cmUsIHRvIGJlIGNvbXBsaWFudCB3aXRoIEZpbHRlclN5c3RlbSBpbnRlcmZhY2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gcmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXJUZXh0dXJlIHRvIGZyZWVcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUucmV0dXJuRmlsdGVyVGV4dHVyZSA9IGZ1bmN0aW9uIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgIHRoaXMucmV0dXJuVGV4dHVyZShyZW5kZXJUZXh0dXJlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgcG9vbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVzdHJveVRleHR1cmVzPXRydWVdIC0gZGVzdHJveSBhbGwgc3RvcmVkIHRleHR1cmVzXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVBvb2wucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKGRlc3Ryb3lUZXh0dXJlcykge1xuICAgICAgICBkZXN0cm95VGV4dHVyZXMgPSBkZXN0cm95VGV4dHVyZXMgIT09IGZhbHNlO1xuICAgICAgICBpZiAoZGVzdHJveVRleHR1cmVzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMudGV4dHVyZVBvb2wpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dHVyZXMgPSB0aGlzLnRleHR1cmVQb29sW2ldO1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0dXJlcykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRleHR1cmVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlc1tqXS5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wgPSB7fTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElmIHNjcmVlbiBzaXplIHdhcyBjaGFuZ2VkLCBkcm9wcyBhbGwgc2NyZWVuLXNpemVkIHRleHR1cmVzLFxuICAgICAqIHNldHMgbmV3IHNjcmVlbiBzaXplLCBzZXRzIGBlbmFibGVGdWxsU2NyZWVuYCB0byB0cnVlXG4gICAgICpcbiAgICAgKiBTaXplIGlzIG1lYXN1cmVkIGluIHBpeGVscywgYHJlbmRlcmVyLnZpZXdgIGNhbiBiZSBwYXNzZWQgaGVyZSwgbm90IGByZW5kZXJlci5zY3JlZW5gXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVNpemV9IHNpemUgLSBJbml0aWFsIHNpemUgb2Ygc2NyZWVuXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVBvb2wucHJvdG90eXBlLnNldFNjcmVlblNpemUgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICBpZiAoc2l6ZS53aWR0aCA9PT0gdGhpcy5fcGl4ZWxzV2lkdGhcbiAgICAgICAgICAgICYmIHNpemUuaGVpZ2h0ID09PSB0aGlzLl9waXhlbHNIZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2NyZWVuS2V5ID0gUmVuZGVyVGV4dHVyZVBvb2wuU0NSRUVOX0tFWTtcbiAgICAgICAgdmFyIHRleHR1cmVzID0gdGhpcy50ZXh0dXJlUG9vbFtzY3JlZW5LZXldO1xuICAgICAgICB0aGlzLmVuYWJsZUZ1bGxTY3JlZW4gPSBzaXplLndpZHRoID4gMCAmJiBzaXplLmhlaWdodCA+IDA7XG4gICAgICAgIGlmICh0ZXh0dXJlcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZXh0dXJlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHRleHR1cmVzW2pdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbFtzY3JlZW5LZXldID0gW107XG4gICAgICAgIHRoaXMuX3BpeGVsc1dpZHRoID0gc2l6ZS53aWR0aDtcbiAgICAgICAgdGhpcy5fcGl4ZWxzSGVpZ2h0ID0gc2l6ZS5oZWlnaHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBLZXkgdGhhdCBpcyB1c2VkIHRvIHN0b3JlIGZ1bGxzY3JlZW4gcmVuZGVyVGV4dHVyZXMgaW4gYSBwb29sXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0IHtzdHJpbmd9XG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVBvb2wuU0NSRUVOX0tFWSA9ICdzY3JlZW4nO1xuICAgIHJldHVybiBSZW5kZXJUZXh0dXJlUG9vbDtcbn0oKSk7XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbi8qKlxuICogSG9sZHMgdGhlIGluZm9ybWF0aW9uIGZvciBhIHNpbmdsZSBhdHRyaWJ1dGUgc3RydWN0dXJlIHJlcXVpcmVkIHRvIHJlbmRlciBnZW9tZXRyeS5cbiAqXG4gKiBUaGlzIGRvZXMgbm90IGNvbnRhaW4gdGhlIGFjdHVhbCBkYXRhLCBidXQgaW5zdGVhZCBoYXMgYSBidWZmZXIgaWQgdGhhdCBtYXBzIHRvIGEge0BsaW5rIFBJWEkuQnVmZmVyfVxuICogVGhpcyBjYW4gaW5jbHVkZSBhbnl0aGluZyBmcm9tIHBvc2l0aW9ucywgdXZzLCBub3JtYWxzLCBjb2xvcnMgZXRjLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEF0dHJpYnV0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYnVmZmVyIC0gdGhlIGlkIG9mIHRoZSBidWZmZXIgdGhhdCB0aGlzIGF0dHJpYnV0ZSB3aWxsIGxvb2sgZm9yXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzaXplPTBdIC0gdGhlIHNpemUgb2YgdGhlIGF0dHJpYnV0ZS4gSWYgeW91IGhhdmUgMiBmbG9hdHMgcGVyIHZlcnRleCAoZWcgcG9zaXRpb24geCBhbmQgeSkgdGhpcyB3b3VsZCBiZSAyLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW25vcm1hbGl6ZWQ9ZmFsc2VdIC0gc2hvdWxkIHRoZSBkYXRhIGJlIG5vcm1hbGl6ZWQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFt0eXBlPVBJWEkuVFlQRVMuRkxPQVRdIC0gd2hhdCB0eXBlIG9mIG51bWJlciBpcyB0aGUgYXR0cmlidXRlLiBDaGVjayB7QGxpbmsgUElYSS5UWVBFU30gdG8gc2VlIHRoZSBvbmVzIGF2YWlsYWJsZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RyaWRlPTBdIC0gSG93IGZhciBhcGFydCAoaW4gZmxvYXRzKSB0aGUgc3RhcnQgb2YgZWFjaCB2YWx1ZSBpcy4gKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnQ9MF0gLSBIb3cgZmFyIGludG8gdGhlIGFycmF5IHRvIHN0YXJ0IHJlYWRpbmcgdmFsdWVzICh1c2VkIGZvciBpbnRlcmxlYXZpbmcgZGF0YSlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBdHRyaWJ1dGUoYnVmZmVyLCBzaXplLCBub3JtYWxpemVkLCB0eXBlLCBzdHJpZGUsIHN0YXJ0LCBpbnN0YW5jZSkge1xuICAgICAgICBpZiAoc2l6ZSA9PT0gdm9pZCAwKSB7IHNpemUgPSAwOyB9XG4gICAgICAgIGlmIChub3JtYWxpemVkID09PSB2b2lkIDApIHsgbm9ybWFsaXplZCA9IGZhbHNlOyB9XG4gICAgICAgIGlmICh0eXBlID09PSB2b2lkIDApIHsgdHlwZSA9IDUxMjY7IH1cbiAgICAgICAgdGhpcy5idWZmZXIgPSBidWZmZXI7XG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgICAgIHRoaXMubm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuc3RyaWRlID0gc3RyaWRlO1xuICAgICAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIEF0dHJpYnV0ZS5cbiAgICAgKi9cbiAgICBBdHRyaWJ1dGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYW4gQXR0cmlidXRlIGJhc2VkIG9uIHRoZSBpbmZvcm1hdGlvbiBwcm92aWRlZFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBidWZmZXIgLSB0aGUgaWQgb2YgdGhlIGJ1ZmZlciB0aGF0IHRoaXMgYXR0cmlidXRlIHdpbGwgbG9vayBmb3JcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NpemU9MF0gLSB0aGUgc2l6ZSBvZiB0aGUgYXR0cmlidXRlLiBJZiB5b3UgaGF2ZSAyIGZsb2F0cyBwZXIgdmVydGV4IChlZyBwb3NpdGlvbiB4IGFuZCB5KSB0aGlzIHdvdWxkIGJlIDJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtub3JtYWxpemVkPWZhbHNlXSAtIHNob3VsZCB0aGUgZGF0YSBiZSBub3JtYWxpemVkLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbdHlwZT1QSVhJLlRZUEVTLkZMT0FUXSAtIHdoYXQgdHlwZSBvZiBudW1iZXIgaXMgdGhlIGF0dHJpYnV0ZS4gQ2hlY2sge0BsaW5rIFBJWEkuVFlQRVN9IHRvIHNlZSB0aGUgb25lcyBhdmFpbGFibGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3N0cmlkZT0wXSAtIEhvdyBmYXIgYXBhcnQgKGluIGZsb2F0cykgdGhlIHN0YXJ0IG9mIGVhY2ggdmFsdWUgaXMuICh1c2VkIGZvciBpbnRlcmxlYXZpbmcgZGF0YSlcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkF0dHJpYnV0ZX0gQSBuZXcge0BsaW5rIFBJWEkuQXR0cmlidXRlfSBiYXNlZCBvbiB0aGUgaW5mb3JtYXRpb24gcHJvdmlkZWRcbiAgICAgKi9cbiAgICBBdHRyaWJ1dGUuZnJvbSA9IGZ1bmN0aW9uIChidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSkge1xuICAgICAgICByZXR1cm4gbmV3IEF0dHJpYnV0ZShidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSk7XG4gICAgfTtcbiAgICByZXR1cm4gQXR0cmlidXRlO1xufSgpKTtcblxudmFyIFVJRCA9IDA7XG4vKipcbiAqIEEgd3JhcHBlciBmb3IgZGF0YSBzbyB0aGF0IGl0IGNhbiBiZSB1c2VkIGFuZCB1cGxvYWRlZCBieSBXZWJHTFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJ1ZmZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfCBTaGFyZWRBcnJheUJ1ZmZlcnxBcnJheUJ1ZmZlclZpZXd9IGRhdGEgLSB0aGUgZGF0YSB0byBzdG9yZSBpbiB0aGUgYnVmZmVyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW19zdGF0aWM9dHJ1ZV0gLSBgdHJ1ZWAgZm9yIHN0YXRpYyBidWZmZXJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbmRleD1mYWxzZV0gLSBgdHJ1ZWAgZm9yIGluZGV4IGJ1ZmZlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJ1ZmZlcihkYXRhLCBfc3RhdGljLCBpbmRleCkge1xuICAgICAgICBpZiAoX3N0YXRpYyA9PT0gdm9pZCAwKSB7IF9zdGF0aWMgPSB0cnVlOyB9XG4gICAgICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7IGluZGV4ID0gZmFsc2U7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIGluIHRoZSBidWZmZXIsIGFzIGEgdHlwZWQgYXJyYXlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXlCdWZmZXJ8IFNoYXJlZEFycmF5QnVmZmVyIHwgQXJyYXlCdWZmZXJWaWV3fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kYXRhID0gKGRhdGEgfHwgbmV3IEZsb2F0MzJBcnJheSgxKSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcCBvZiByZW5kZXJlciBJRHMgdG8gd2ViZ2wgYnVmZmVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdDxudW1iZXIsIEdMQnVmZmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2dsQnVmZmVycyA9IHt9O1xuICAgICAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5zdGF0aWMgPSBfc3RhdGljO1xuICAgICAgICB0aGlzLmlkID0gVUlEKys7XG4gICAgICAgIHRoaXMuZGlzcG9zZVJ1bm5lciA9IG5ldyBSdW5uZXIoJ2Rpc3Bvc2VCdWZmZXInKTtcbiAgICB9XG4gICAgLy8gVE9ETyBjb3VsZCBleHBsb3JlIGZsYWdnaW5nIG9ubHkgYSBwYXJ0aWFsIHVwbG9hZD9cbiAgICAvKipcbiAgICAgKiBmbGFncyB0aGlzIGJ1ZmZlciBhcyByZXF1aXJpbmcgYW4gdXBsb2FkIHRvIHRoZSBHUFVcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfFNoYXJlZEFycmF5QnVmZmVyfEFycmF5QnVmZmVyVmlld30gW2RhdGFdIC0gdGhlIGRhdGEgdG8gdXBkYXRlIGluIHRoZSBidWZmZXIuXG4gICAgICovXG4gICAgQnVmZmVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhIHx8IHRoaXMuZGF0YTtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGRpc3Bvc2VzIFdlYkdMIHJlc291cmNlcyB0aGF0IGFyZSBjb25uZWN0ZWQgdG8gdGhpcyBnZW9tZXRyeVxuICAgICAqL1xuICAgIEJ1ZmZlci5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyLmVtaXQodGhpcywgZmFsc2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGJ1ZmZlclxuICAgICAqL1xuICAgIEJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgYnVmZmVyIGJhc2VkIG9uIGFuIGFycmF5IG9yIFR5cGVkQXJyYXlcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyVmlldyB8IG51bWJlcltdfSBkYXRhIC0gdGhlIFR5cGVkQXJyYXkgdGhhdCB0aGUgYnVmZmVyIHdpbGwgc3RvcmUuIElmIHRoaXMgaXMgYSByZWd1bGFyIEFycmF5IGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgRmxvYXQzMkFycmF5LlxuICAgICAqIEByZXR1cm4ge1BJWEkuQnVmZmVyfSBBIG5ldyBCdWZmZXIgYmFzZWQgb24gdGhlIGRhdGEgcHJvdmlkZWQuXG4gICAgICovXG4gICAgQnVmZmVyLmZyb20gPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICBkYXRhID0gbmV3IEZsb2F0MzJBcnJheShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEJ1ZmZlcihkYXRhKTtcbiAgICB9O1xuICAgIHJldHVybiBCdWZmZXI7XG59KCkpO1xuXG5mdW5jdGlvbiBnZXRCdWZmZXJUeXBlKGFycmF5KSB7XG4gICAgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSA0KSB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuICdGbG9hdDMyQXJyYXknO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDMyQXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDMyQXJyYXknO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnSW50MzJBcnJheSc7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSAyKSB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gJ1VpbnQxNkFycmF5JztcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChhcnJheS5CWVRFU19QRVJfRUxFTUVOVCA9PT0gMSkge1xuICAgICAgICBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gJ1VpbnQ4QXJyYXknO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFRPRE8gbWFwIG91dCB0aGUgcmVzdCBvZiB0aGUgYXJyYXkgZWxlbWVudHMhXG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG9iamVjdC1zaG9ydGhhbmQgKi9cbnZhciBtYXAgPSB7XG4gICAgRmxvYXQzMkFycmF5OiBGbG9hdDMyQXJyYXksXG4gICAgVWludDMyQXJyYXk6IFVpbnQzMkFycmF5LFxuICAgIEludDMyQXJyYXk6IEludDMyQXJyYXksXG4gICAgVWludDhBcnJheTogVWludDhBcnJheSxcbn07XG5mdW5jdGlvbiBpbnRlcmxlYXZlVHlwZWRBcnJheXMoYXJyYXlzLCBzaXplcykge1xuICAgIHZhciBvdXRTaXplID0gMDtcbiAgICB2YXIgc3RyaWRlID0gMDtcbiAgICB2YXIgdmlld3MgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBzdHJpZGUgKz0gc2l6ZXNbaV07XG4gICAgICAgIG91dFNpemUgKz0gYXJyYXlzW2ldLmxlbmd0aDtcbiAgICB9XG4gICAgdmFyIGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihvdXRTaXplICogNCk7XG4gICAgdmFyIG91dCA9IG51bGw7XG4gICAgdmFyIGxpdHRsZU9mZnNldCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHNpemUgPSBzaXplc1tpXTtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJyYXlzW2ldO1xuICAgICAgICB2YXIgdHlwZSA9IGdldEJ1ZmZlclR5cGUoYXJyYXkpO1xuICAgICAgICBpZiAoIXZpZXdzW3R5cGVdKSB7XG4gICAgICAgICAgICB2aWV3c1t0eXBlXSA9IG5ldyBtYXBbdHlwZV0oYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBvdXQgPSB2aWV3c1t0eXBlXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhcnJheS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdmFyIGluZGV4U3RhcnQgPSAoKGogLyBzaXplIHwgMCkgKiBzdHJpZGUpICsgbGl0dGxlT2Zmc2V0O1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gaiAlIHNpemU7XG4gICAgICAgICAgICBvdXRbaW5kZXhTdGFydCArIGluZGV4XSA9IGFycmF5W2pdO1xuICAgICAgICB9XG4gICAgICAgIGxpdHRsZU9mZnNldCArPSBzaXplO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShidWZmZXIpO1xufVxuXG52YXIgYnl0ZVNpemVNYXAgPSB7IDUxMjY6IDQsIDUxMjM6IDIsIDUxMjE6IDEgfTtcbnZhciBVSUQkMSA9IDA7XG4vKiBlc2xpbnQtZGlzYWJsZSBvYmplY3Qtc2hvcnRoYW5kICovXG52YXIgbWFwJDEgPSB7XG4gICAgRmxvYXQzMkFycmF5OiBGbG9hdDMyQXJyYXksXG4gICAgVWludDMyQXJyYXk6IFVpbnQzMkFycmF5LFxuICAgIEludDMyQXJyYXk6IEludDMyQXJyYXksXG4gICAgVWludDhBcnJheTogVWludDhBcnJheSxcbiAgICBVaW50MTZBcnJheTogVWludDE2QXJyYXksXG59O1xuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuLyoqXG4gKiBUaGUgR2VvbWV0cnkgcmVwcmVzZW50cyBhIG1vZGVsLiBJdCBjb25zaXN0cyBvZiB0d28gY29tcG9uZW50czpcbiAqIC0gR2VvbWV0cnlTdHlsZSAtIFRoZSBzdHJ1Y3R1cmUgb2YgdGhlIG1vZGVsIHN1Y2ggYXMgdGhlIGF0dHJpYnV0ZXMgbGF5b3V0XG4gKiAtIEdlb21ldHJ5RGF0YSAtIHRoZSBkYXRhIG9mIHRoZSBtb2RlbCAtIHRoaXMgY29uc2lzdHMgb2YgYnVmZmVycy5cbiAqIFRoaXMgY2FuIGluY2x1ZGUgYW55dGhpbmcgZnJvbSBwb3NpdGlvbnMsIHV2cywgbm9ybWFscywgY29sb3JzIGV0Yy5cbiAqXG4gKiBHZW9tZXRyeSBjYW4gYmUgZGVmaW5lZCB3aXRob3V0IHBhc3NpbmcgaW4gYSBzdHlsZSBvciBkYXRhIGlmIHJlcXVpcmVkICh0aGF0cyBob3cgSSBwcmVmZXIhKVxuICpcbiAqIGBgYGpzXG4gKiBsZXQgZ2VvbWV0cnkgPSBuZXcgUElYSS5HZW9tZXRyeSgpO1xuICpcbiAqIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgncG9zaXRpb25zJywgWzAsIDAsIDEwMCwgMCwgMTAwLCAxMDAsIDAsIDEwMF0sIDIpO1xuICogZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCd1dnMnLCBbMCwwLDEsMCwxLDEsMCwxXSwyKVxuICogZ2VvbWV0cnkuYWRkSW5kZXgoWzAsMSwyLDEsMywyXSlcbiAqXG4gKiBgYGBcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdlb21ldHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CdWZmZXJbXX0gW2J1ZmZlcnNdIC0gYW4gYXJyYXkgb2YgYnVmZmVycy4gb3B0aW9uYWwuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFthdHRyaWJ1dGVzXSAtIG9mIHRoZSBnZW9tZXRyeSwgb3B0aW9uYWwgc3RydWN0dXJlIG9mIHRoZSBhdHRyaWJ1dGVzIGxheW91dFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdlb21ldHJ5KGJ1ZmZlcnMsIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgaWYgKGJ1ZmZlcnMgPT09IHZvaWQgMCkgeyBidWZmZXJzID0gW107IH1cbiAgICAgICAgaWYgKGF0dHJpYnV0ZXMgPT09IHZvaWQgMCkgeyBhdHRyaWJ1dGVzID0ge307IH1cbiAgICAgICAgdGhpcy5idWZmZXJzID0gYnVmZmVycztcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcCBvZiByZW5kZXJlciBJRHMgdG8gd2ViZ2wgVkFPc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsVmVydGV4QXJyYXlPYmplY3RzID0ge307XG4gICAgICAgIHRoaXMuaWQgPSBVSUQkMSsrO1xuICAgICAgICB0aGlzLmluc3RhbmNlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIGluc3RhbmNlcyBpbiB0aGlzIGdlb21ldHJ5LCBwYXNzIGl0IHRvIGBHZW9tZXRyeVN5c3RlbS5kcmF3KClgXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnN0YW5jZUNvdW50ID0gMTtcbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyID0gbmV3IFJ1bm5lcignZGlzcG9zZUdlb21ldHJ5Jyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb3VudCBvZiBleGlzdGluZyAobm90IGRlc3Ryb3llZCkgbWVzaGVzIHRoYXQgcmVmZXJlbmNlIHRoaXMgZ2VvbWV0cnlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZWZDb3VudCA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICpcbiAgICAqIEFkZHMgYW4gYXR0cmlidXRlIHRvIHRoZSBnZW9tZXRyeVxuICAgICogTm90ZTogYHN0cmlkZWAgYW5kIGBzdGFydGAgc2hvdWxkIGJlIGB1bmRlZmluZWRgIGlmIHlvdSBkb250IGtub3cgdGhlbSwgbm90IDAhXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gdGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSAobWF0Y2hpbmcgdXAgdG8gYSBzaGFkZXIpXG4gICAgKiBAcGFyYW0ge1BJWEkuQnVmZmVyfG51bWJlcltdfSBidWZmZXIgLSB0aGUgYnVmZmVyIHRoYXQgaG9sZHMgdGhlIGRhdGEgb2YgdGhlIGF0dHJpYnV0ZSAuIFlvdSBjYW4gYWxzbyBwcm92aWRlIGFuIEFycmF5IGFuZCBhIGJ1ZmZlciB3aWxsIGJlIGNyZWF0ZWQgZnJvbSBpdC5cbiAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc2l6ZT0wXSAtIHRoZSBzaXplIG9mIHRoZSBhdHRyaWJ1dGUuIElmIHlvdSBoYXZlIDIgZmxvYXRzIHBlciB2ZXJ0ZXggKGVnIHBvc2l0aW9uIHggYW5kIHkpIHRoaXMgd291bGQgYmUgMlxuICAgICogQHBhcmFtIHtCb29sZWFufSBbbm9ybWFsaXplZD1mYWxzZV0gLSBzaG91bGQgdGhlIGRhdGEgYmUgbm9ybWFsaXplZC5cbiAgICAqIEBwYXJhbSB7TnVtYmVyfSBbdHlwZT1QSVhJLlRZUEVTLkZMT0FUXSAtIHdoYXQgdHlwZSBvZiBudW1iZXIgaXMgdGhlIGF0dHJpYnV0ZS4gQ2hlY2sge1BJWEkuVFlQRVN9IHRvIHNlZSB0aGUgb25lcyBhdmFpbGFibGVcbiAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RyaWRlXSAtIEhvdyBmYXIgYXBhcnQgKGluIGZsb2F0cykgdGhlIHN0YXJ0IG9mIGVhY2ggdmFsdWUgaXMuICh1c2VkIGZvciBpbnRlcmxlYXZpbmcgZGF0YSlcbiAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnRdIC0gSG93IGZhciBpbnRvIHRoZSBhcnJheSB0byBzdGFydCByZWFkaW5nIHZhbHVlcyAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbnN0YW5jZT1mYWxzZV0gLSBJbnN0YW5jaW5nIGZsYWdcbiAgICAqXG4gICAgKiBAcmV0dXJuIHtQSVhJLkdlb21ldHJ5fSByZXR1cm5zIHNlbGYsIHVzZWZ1bCBmb3IgY2hhaW5pbmcuXG4gICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuYWRkQXR0cmlidXRlID0gZnVuY3Rpb24gKGlkLCBidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSwgc3RhcnQsIGluc3RhbmNlKSB7XG4gICAgICAgIGlmIChzaXplID09PSB2b2lkIDApIHsgc2l6ZSA9IDA7IH1cbiAgICAgICAgaWYgKG5vcm1hbGl6ZWQgPT09IHZvaWQgMCkgeyBub3JtYWxpemVkID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKGluc3RhbmNlID09PSB2b2lkIDApIHsgaW5zdGFuY2UgPSBmYWxzZTsgfVxuICAgICAgICBpZiAoIWJ1ZmZlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBwYXNzIGEgYnVmZmVyIHdoZW4gY3JlYXRpbmcgYW4gYXR0cmlidXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgaWYgdGhpcyBpcyBhIGJ1ZmZlciFcbiAgICAgICAgaWYgKCEoYnVmZmVyIGluc3RhbmNlb2YgQnVmZmVyKSkge1xuICAgICAgICAgICAgLy8gaXRzIGFuIGFycmF5IVxuICAgICAgICAgICAgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyID0gbmV3IEZsb2F0MzJBcnJheShidWZmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnVmZmVyID0gbmV3IEJ1ZmZlcihidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpZHMgPSBpZC5zcGxpdCgnfCcpO1xuICAgICAgICBpZiAoaWRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGUoaWRzW2ldLCBidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJ1ZmZlckluZGV4ID0gdGhpcy5idWZmZXJzLmluZGV4T2YoYnVmZmVyKTtcbiAgICAgICAgaWYgKGJ1ZmZlckluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5idWZmZXJzLnB1c2goYnVmZmVyKTtcbiAgICAgICAgICAgIGJ1ZmZlckluZGV4ID0gdGhpcy5idWZmZXJzLmxlbmd0aCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzW2lkXSA9IG5ldyBBdHRyaWJ1dGUoYnVmZmVySW5kZXgsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSwgc3RhcnQsIGluc3RhbmNlKTtcbiAgICAgICAgLy8gYXNzdW1pbmcgdGhhdCBpZiB0aGVyZSBpcyBpbnN0YW5jZWQgZGF0YSB0aGVuIHRoaXMgd2lsbCBiZSBkcmF3biB3aXRoIGluc3RhbmNpbmchXG4gICAgICAgIHRoaXMuaW5zdGFuY2VkID0gdGhpcy5pbnN0YW5jZWQgfHwgaW5zdGFuY2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgcmVxdWVzdGVkIGF0dHJpYnV0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gdGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSByZXF1aXJlZFxuICAgICAqIEByZXR1cm4ge1BJWEkuQXR0cmlidXRlfSB0aGUgYXR0cmlidXRlIHJlcXVlc3RlZC5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZXNbaWRdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgcmVxdWVzdGVkIGJ1ZmZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gdGhlIG5hbWUgb2YgdGhlIGJ1ZmZlciByZXF1aXJlZFxuICAgICAqIEByZXR1cm4ge1BJWEkuQnVmZmVyfSB0aGUgYnVmZmVyIHJlcXVlc3RlZC5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuZ2V0QnVmZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcnNbdGhpcy5nZXRBdHRyaWJ1dGUoaWQpLmJ1ZmZlcl07XG4gICAgfTtcbiAgICAvKipcbiAgICAqXG4gICAgKiBBZGRzIGFuIGluZGV4IGJ1ZmZlciB0byB0aGUgZ2VvbWV0cnlcbiAgICAqIFRoZSBpbmRleCBidWZmZXIgY29udGFpbnMgaW50ZWdlcnMsIHRocmVlIGZvciBlYWNoIHRyaWFuZ2xlIGluIHRoZSBnZW9tZXRyeSwgd2hpY2ggcmVmZXJlbmNlIHRoZSB2YXJpb3VzIGF0dHJpYnV0ZSBidWZmZXJzIChwb3NpdGlvbiwgY29sb3VyLCBVViBjb29yZGluYXRlcywgb3RoZXIgVVYgY29vcmRpbmF0ZXMsIG5vcm1hbCwg4oCmKS4gVGhlcmUgaXMgb25seSBPTkUgaW5kZXggYnVmZmVyLlxuICAgICpcbiAgICAqIEBwYXJhbSB7UElYSS5CdWZmZXJ8bnVtYmVyW119IFtidWZmZXJdIC0gdGhlIGJ1ZmZlciB0aGF0IGhvbGRzIHRoZSBkYXRhIG9mIHRoZSBpbmRleCBidWZmZXIuIFlvdSBjYW4gYWxzbyBwcm92aWRlIGFuIEFycmF5IGFuZCBhIGJ1ZmZlciB3aWxsIGJlIGNyZWF0ZWQgZnJvbSBpdC5cbiAgICAqIEByZXR1cm4ge1BJWEkuR2VvbWV0cnl9IHJldHVybnMgc2VsZiwgdXNlZnVsIGZvciBjaGFpbmluZy5cbiAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5hZGRJbmRleCA9IGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgaWYgKCEoYnVmZmVyIGluc3RhbmNlb2YgQnVmZmVyKSkge1xuICAgICAgICAgICAgLy8gaXRzIGFuIGFycmF5IVxuICAgICAgICAgICAgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyID0gbmV3IFVpbnQxNkFycmF5KGJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBidWZmZXIgPSBuZXcgQnVmZmVyKGJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgYnVmZmVyLmluZGV4ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVycy5pbmRleE9mKGJ1ZmZlcikgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcnMucHVzaChidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgaW5kZXggYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJ1ZmZlcn0gdGhlIGluZGV4IGJ1ZmZlci5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuZ2V0SW5kZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4QnVmZmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogdGhpcyBmdW5jdGlvbiBtb2RpZmllcyB0aGUgc3RydWN0dXJlIHNvIHRoYXQgYWxsIGN1cnJlbnQgYXR0cmlidXRlcyBiZWNvbWUgaW50ZXJsZWF2ZWQgaW50byBhIHNpbmdsZSBidWZmZXJcbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VmdWwgaWYgeW91ciBtb2RlbCByZW1haW5zIHN0YXRpYyBhcyBpdCBvZmZlcnMgYSBsaXR0bGUgcGVyZm9ybWFuY2UgYm9vc3RcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR2VvbWV0cnl9IHJldHVybnMgc2VsZiwgdXNlZnVsIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuaW50ZXJsZWF2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gYSBzaW1wbGUgY2hlY2sgdG8gc2VlIGlmIGJ1ZmZlcnMgYXJlIGFscmVhZHkgaW50ZXJsZWF2ZWQuLlxuICAgICAgICBpZiAodGhpcy5idWZmZXJzLmxlbmd0aCA9PT0gMSB8fCAodGhpcy5idWZmZXJzLmxlbmd0aCA9PT0gMiAmJiB0aGlzLmluZGV4QnVmZmVyKSlcbiAgICAgICAgICAgIHsgcmV0dXJuIHRoaXM7IH1cbiAgICAgICAgLy8gYXNzdW1lIGFscmVhZHkgdGhhdCBubyBidWZmZXJzIGFyZSBpbnRlcmxlYXZlZFxuICAgICAgICB2YXIgYXJyYXlzID0gW107XG4gICAgICAgIHZhciBzaXplcyA9IFtdO1xuICAgICAgICB2YXIgaW50ZXJsZWF2ZWRCdWZmZXIgPSBuZXcgQnVmZmVyKCk7XG4gICAgICAgIHZhciBpO1xuICAgICAgICBmb3IgKGkgaW4gdGhpcy5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gdGhpcy5hdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyc1thdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgIGFycmF5cy5wdXNoKGJ1ZmZlci5kYXRhKTtcbiAgICAgICAgICAgIHNpemVzLnB1c2goKGF0dHJpYnV0ZS5zaXplICogYnl0ZVNpemVNYXBbYXR0cmlidXRlLnR5cGVdKSAvIDQpO1xuICAgICAgICAgICAgYXR0cmlidXRlLmJ1ZmZlciA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaW50ZXJsZWF2ZWRCdWZmZXIuZGF0YSA9IGludGVybGVhdmVUeXBlZEFycmF5cyhhcnJheXMsIHNpemVzKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyc1tpXSAhPT0gdGhpcy5pbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWZmZXJzID0gW2ludGVybGVhdmVkQnVmZmVyXTtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKHRoaXMuaW5kZXhCdWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gdGhpcy5hdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyc1thdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgIHJldHVybiBidWZmZXIuZGF0YS5sZW5ndGggLyAoKGF0dHJpYnV0ZS5zdHJpZGUgLyA0KSB8fCBhdHRyaWJ1dGUuc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBkaXNwb3NlcyBXZWJHTCByZXNvdXJjZXMgdGhhdCBhcmUgY29ubmVjdGVkIHRvIHRoaXMgZ2VvbWV0cnlcbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyLmVtaXQodGhpcywgZmFsc2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5idWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiByZXR1cm5zIGEgY2xvbmUgb2YgdGhlIGdlb21ldHJ5XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UElYSS5HZW9tZXRyeX0gYSBuZXcgY2xvbmUgb2YgdGhpcyBnZW9tZXRyeVxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gbmV3IEdlb21ldHJ5KCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5idWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBnZW9tZXRyeS5idWZmZXJzW2ldID0gbmV3IEJ1ZmZlcih0aGlzLmJ1ZmZlcnNbaV0uZGF0YS5zbGljZSgwKSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIHZhciBhdHRyaWIgPSB0aGlzLmF0dHJpYnV0ZXNbaV07XG4gICAgICAgICAgICBnZW9tZXRyeS5hdHRyaWJ1dGVzW2ldID0gbmV3IEF0dHJpYnV0ZShhdHRyaWIuYnVmZmVyLCBhdHRyaWIuc2l6ZSwgYXR0cmliLm5vcm1hbGl6ZWQsIGF0dHJpYi50eXBlLCBhdHRyaWIuc3RyaWRlLCBhdHRyaWIuc3RhcnQsIGF0dHJpYi5pbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIGdlb21ldHJ5LmluZGV4QnVmZmVyID0gZ2VvbWV0cnkuYnVmZmVyc1t0aGlzLmJ1ZmZlcnMuaW5kZXhPZih0aGlzLmluZGV4QnVmZmVyKV07XG4gICAgICAgICAgICBnZW9tZXRyeS5pbmRleEJ1ZmZlci5pbmRleCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdlb21ldHJ5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogbWVyZ2VzIGFuIGFycmF5IG9mIGdlb21ldHJpZXMgaW50byBhIG5ldyBzaW5nbGUgb25lXG4gICAgICogZ2VvbWV0cnkgYXR0cmlidXRlIHN0eWxlcyBtdXN0IG1hdGNoIGZvciB0aGlzIG9wZXJhdGlvbiB0byB3b3JrXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnlbXX0gZ2VvbWV0cmllcyAtIGFycmF5IG9mIGdlb21ldHJpZXMgdG8gbWVyZ2VcbiAgICAgKiBAcmV0dXJucyB7UElYSS5HZW9tZXRyeX0gc2hpbnkgbmV3IGdlb21ldHJ5IVxuICAgICAqL1xuICAgIEdlb21ldHJ5Lm1lcmdlID0gZnVuY3Rpb24gKGdlb21ldHJpZXMpIHtcbiAgICAgICAgLy8gdG9kbyBhZGQgYSBnZW9tZXRyeSBjaGVjayFcbiAgICAgICAgLy8gYWxzbyBhIHNpemUgY2hlY2suLiBjYW50IGJlIHRvbyBiaWchXVxuICAgICAgICB2YXIgZ2VvbWV0cnlPdXQgPSBuZXcgR2VvbWV0cnkoKTtcbiAgICAgICAgdmFyIGFycmF5cyA9IFtdO1xuICAgICAgICB2YXIgc2l6ZXMgPSBbXTtcbiAgICAgICAgdmFyIG9mZnNldHMgPSBbXTtcbiAgICAgICAgdmFyIGdlb21ldHJ5O1xuICAgICAgICAvLyBwYXNzIG9uZS4uIGdldCBzaXplcy4uXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZ2VvbWV0cnkgPSBnZW9tZXRyaWVzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgc2l6ZXNbal0gPSBzaXplc1tqXSB8fCAwO1xuICAgICAgICAgICAgICAgIHNpemVzW2pdICs9IGdlb21ldHJ5LmJ1ZmZlcnNbal0uZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgb2Zmc2V0c1tqXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gYnVpbGQgdGhlIGNvcnJlY3Qgc2l6ZSBhcnJheXMuLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIFRPRE8gdHlwZXMhXG4gICAgICAgICAgICBhcnJheXNbaV0gPSBuZXcgbWFwJDFbZ2V0QnVmZmVyVHlwZShnZW9tZXRyeS5idWZmZXJzW2ldLmRhdGEpXShzaXplc1tpXSk7XG4gICAgICAgICAgICBnZW9tZXRyeU91dC5idWZmZXJzW2ldID0gbmV3IEJ1ZmZlcihhcnJheXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHBhc3MgdG8gc2V0IGRhdGEuLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb21ldHJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gZ2VvbWV0cmllc1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGFycmF5c1tqXS5zZXQoZ2VvbWV0cnkuYnVmZmVyc1tqXS5kYXRhLCBvZmZzZXRzW2pdKTtcbiAgICAgICAgICAgICAgICBvZmZzZXRzW2pdICs9IGdlb21ldHJ5LmJ1ZmZlcnNbal0uZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZ2VvbWV0cnlPdXQuYXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgICAgIGlmIChnZW9tZXRyeS5pbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgZ2VvbWV0cnlPdXQuaW5kZXhCdWZmZXIgPSBnZW9tZXRyeU91dC5idWZmZXJzW2dlb21ldHJ5LmJ1ZmZlcnMuaW5kZXhPZihnZW9tZXRyeS5pbmRleEJ1ZmZlcildO1xuICAgICAgICAgICAgZ2VvbWV0cnlPdXQuaW5kZXhCdWZmZXIuaW5kZXggPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgICAgICB2YXIgc3RyaWRlID0gMDtcbiAgICAgICAgICAgIHZhciBvZmZzZXQyID0gMDtcbiAgICAgICAgICAgIHZhciBidWZmZXJJbmRleFRvQ291bnQgPSAwO1xuICAgICAgICAgICAgLy8gZ2V0IGEgYnVmZmVyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoZ2VvbWV0cnkuYnVmZmVyc1tpXSAhPT0gZ2VvbWV0cnkuaW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVySW5kZXhUb0NvdW50ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZmlndXJlIG91dCB0aGUgc3RyaWRlIG9mIG9uZSBidWZmZXIuLlxuICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBnZW9tZXRyeS5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGdlb21ldHJ5LmF0dHJpYnV0ZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKChhdHRyaWJ1dGUuYnVmZmVyIHwgMCkgPT09IGJ1ZmZlckluZGV4VG9Db3VudCkge1xuICAgICAgICAgICAgICAgICAgICBzdHJpZGUgKz0gKChhdHRyaWJ1dGUuc2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZS50eXBlXSkgLyA0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0aW1lIHRvIG9mZiBzZXQgYWxsIGluZGV4ZXMuLlxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4QnVmZmVyRGF0YSA9IGdlb21ldHJpZXNbaV0uaW5kZXhCdWZmZXIuZGF0YTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGluZGV4QnVmZmVyRGF0YS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeU91dC5pbmRleEJ1ZmZlci5kYXRhW2ogKyBvZmZzZXQyXSArPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9mZnNldCArPSBnZW9tZXRyeS5idWZmZXJzW2J1ZmZlckluZGV4VG9Db3VudF0uZGF0YS5sZW5ndGggLyAoc3RyaWRlKTtcbiAgICAgICAgICAgICAgICBvZmZzZXQyICs9IGluZGV4QnVmZmVyRGF0YS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdlb21ldHJ5T3V0O1xuICAgIH07XG4gICAgcmV0dXJuIEdlb21ldHJ5O1xufSgpKTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgcXVhZFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFF1YWQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFF1YWQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUXVhZCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIDAsIDAsXG4gICAgICAgICAgICAxLCAwLFxuICAgICAgICAgICAgMSwgMSxcbiAgICAgICAgICAgIDAsIDEgXSkpXG4gICAgICAgICAgICAuYWRkSW5kZXgoWzAsIDEsIDMsIDJdKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUXVhZDtcbn0oR2VvbWV0cnkpKTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgcXVhZCB3aXRoIHV2cyBsaWtlIGluIHY0XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5HZW9tZXRyeVxuICovXG52YXIgUXVhZFV2ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhRdWFkVXYsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUXVhZFV2KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgdmVydGljZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIC0xLCAtMSxcbiAgICAgICAgICAgIDEsIC0xLFxuICAgICAgICAgICAgMSwgMSxcbiAgICAgICAgICAgIC0xLCAxIF0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFV2cyBvZiB0aGUgcXVhZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51dnMgPSBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIDAsIDAsXG4gICAgICAgICAgICAxLCAwLFxuICAgICAgICAgICAgMSwgMSxcbiAgICAgICAgICAgIDAsIDEgXSk7XG4gICAgICAgIF90aGlzLnZlcnRleEJ1ZmZlciA9IG5ldyBCdWZmZXIoX3RoaXMudmVydGljZXMpO1xuICAgICAgICBfdGhpcy51dkJ1ZmZlciA9IG5ldyBCdWZmZXIoX3RoaXMudXZzKTtcbiAgICAgICAgX3RoaXMuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCBfdGhpcy52ZXJ0ZXhCdWZmZXIpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUNvb3JkJywgX3RoaXMudXZCdWZmZXIpXG4gICAgICAgICAgICAuYWRkSW5kZXgoWzAsIDEsIDIsIDAsIDIsIDNdKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXBzIHR3byBSZWN0YW5nbGUgdG8gdGhlIHF1YWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSB0YXJnZXRUZXh0dXJlRnJhbWUgLSB0aGUgZmlyc3QgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIHRoZSBzZWNvbmQgcmVjdGFuZ2xlXG4gICAgICogQHJldHVybiB7UElYSS5RdWFkfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBRdWFkVXYucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uICh0YXJnZXRUZXh0dXJlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUpIHtcbiAgICAgICAgdmFyIHggPSAwOyAvLyBkZXN0aW5hdGlvbkZyYW1lLnggLyB0YXJnZXRUZXh0dXJlRnJhbWUud2lkdGg7XG4gICAgICAgIHZhciB5ID0gMDsgLy8gZGVzdGluYXRpb25GcmFtZS55IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLmhlaWdodDtcbiAgICAgICAgdGhpcy51dnNbMF0gPSB4O1xuICAgICAgICB0aGlzLnV2c1sxXSA9IHk7XG4gICAgICAgIHRoaXMudXZzWzJdID0geCArIChkZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gdGFyZ2V0VGV4dHVyZUZyYW1lLndpZHRoKTtcbiAgICAgICAgdGhpcy51dnNbM10gPSB5O1xuICAgICAgICB0aGlzLnV2c1s0XSA9IHggKyAoZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aCk7XG4gICAgICAgIHRoaXMudXZzWzVdID0geSArIChkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQpO1xuICAgICAgICB0aGlzLnV2c1s2XSA9IHg7XG4gICAgICAgIHRoaXMudXZzWzddID0geSArIChkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQpO1xuICAgICAgICB4ID0gZGVzdGluYXRpb25GcmFtZS54O1xuICAgICAgICB5ID0gZGVzdGluYXRpb25GcmFtZS55O1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzBdID0geDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1sxXSA9IHk7XG4gICAgICAgIHRoaXMudmVydGljZXNbMl0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1szXSA9IHk7XG4gICAgICAgIHRoaXMudmVydGljZXNbNF0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1s1XSA9IHkgKyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1s2XSA9IHg7XG4gICAgICAgIHRoaXMudmVydGljZXNbN10gPSB5ICsgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGxlZ2FjeSB1cGxvYWQgbWV0aG9kLCBqdXN0IG1hcmtzIGJ1ZmZlcnMgZGlydHlcbiAgICAgKiBAcmV0dXJucyB7UElYSS5RdWFkVXZ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFF1YWRVdi5wcm90b3R5cGUuaW52YWxpZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXIuX3VwZGF0ZUlEKys7XG4gICAgICAgIHRoaXMudXZCdWZmZXIuX3VwZGF0ZUlEKys7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIFF1YWRVdjtcbn0oR2VvbWV0cnkpKTtcblxudmFyIFVJRCQyID0gMDtcbi8qKlxuICogVW5pZm9ybSBncm91cCBob2xkcyB1bmlmb3JtIG1hcCBhbmQgc29tZSBJRCdzIGZvciB3b3JrXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVW5pZm9ybUdyb3VwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbdW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW19zdGF0aWNdIC0gVW5pZm9ybXMgd29udCBiZSBjaGFuZ2VkIGFmdGVyIGNyZWF0aW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gVW5pZm9ybUdyb3VwKHVuaWZvcm1zLCBfc3RhdGljKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1bmlmb3JtIHZhbHVlc1xuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51bmlmb3JtcyA9IHVuaWZvcm1zO1xuICAgICAgICAvKipcbiAgICAgICAgICogSXRzIGEgZ3JvdXAgYW5kIG5vdCBhIHNpbmdsZSB1bmlmb3Jtc1xuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ncm91cCA9IHRydWU7XG4gICAgICAgIC8vIGxldHMgZ2VuZXJhdGUgdGhpcyB3aGVuIHRoZSBzaGFkZXIgP1xuICAgICAgICB0aGlzLnN5bmNVbmlmb3JtcyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogZGlydHkgdmVyc2lvblxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlJZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1bmlxdWUgaWRcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlkID0gVUlEJDIrKztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVuaWZvcm1zIHdvbnQgYmUgY2hhbmdlZCBhZnRlciBjcmVhdGlvblxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0aWMgPSAhIV9zdGF0aWM7XG4gICAgfVxuICAgIFVuaWZvcm1Hcm91cC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICB9O1xuICAgIFVuaWZvcm1Hcm91cC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKG5hbWUsIHVuaWZvcm1zLCBfc3RhdGljKSB7XG4gICAgICAgIHRoaXMudW5pZm9ybXNbbmFtZV0gPSBuZXcgVW5pZm9ybUdyb3VwKHVuaWZvcm1zLCBfc3RhdGljKTtcbiAgICB9O1xuICAgIFVuaWZvcm1Hcm91cC5mcm9tID0gZnVuY3Rpb24gKHVuaWZvcm1zLCBfc3RhdGljKSB7XG4gICAgICAgIHJldHVybiBuZXcgVW5pZm9ybUdyb3VwKHVuaWZvcm1zLCBfc3RhdGljKTtcbiAgICB9O1xuICAgIHJldHVybiBVbmlmb3JtR3JvdXA7XG59KCkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBmaWx0ZXIgc3RhdGVzLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xudmFyIEZpbHRlclN0YXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZpbHRlclN0YXRlKCkge1xuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGFyZ2V0IG9mIHRoZSBmaWx0ZXJzXG4gICAgICAgICAqIFdlIHN0b3JlIGZvciBjYXNlIHdoZW4gY3VzdG9tIGZpbHRlciB3YW50cyB0byBrbm93IHRoZSBlbGVtZW50IGl0IHdhcyBhcHBsaWVkIG9uXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbXBhdGliaWxpdHkgd2l0aCBQaXhpSlMgdjQgZmlsdGVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sZWdhY3kgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlc29sdXRpb24gb2YgZmlsdGVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IDE7XG4gICAgICAgIC8vIG5leHQgdGhyZWUgZmllbGRzIGFyZSBjcmVhdGVkIG9ubHkgZm9yIHJvb3RcbiAgICAgICAgLy8gcmUtYXNzaWduZWQgZm9yIGV2ZXJ5dGhpbmcgZWxzZVxuICAgICAgICAvKipcbiAgICAgICAgICogU291cmNlIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zb3VyY2VGcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3RpbmF0aW9uIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogT3JpZ2luYWwgcmVuZGVyLXRhcmdldCBzb3VyY2UgZnJhbWVcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmluZGluZ1NvdXJjZUZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogT3JpZ2luYWwgcmVuZGVyLXRhcmdldCBkZXN0aW5hdGlvbiBmcmFtZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iaW5kaW5nRGVzdGluYXRpb25GcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgZmlsdGVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbHRlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maWx0ZXJzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9qZWN0aW9uIHN5c3RlbSB0cmFuc2Zvcm0gc2F2ZWQgYnkgbGluay5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNsZWFycyB0aGUgc3RhdGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEZpbHRlclN0YXRlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgICAgICB0aGlzLmZpbHRlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEZpbHRlclN0YXRlO1xufSgpKTtcblxudmFyIHRlbXBQb2ludHMgPSBbbmV3IFBvaW50KCksIG5ldyBQb2ludCgpLCBuZXcgUG9pbnQoKSwgbmV3IFBvaW50KCldO1xudmFyIHRlbXBNYXRyaXggPSBuZXcgTWF0cml4KCk7XG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBmaWx0ZXJzLlxuICpcbiAqICMjIFBpcGVsaW5lXG4gKlxuICogVGhlIEZpbHRlclN5c3RlbSBleGVjdXRlcyB0aGUgZmlsdGVyaW5nIHBpcGVsaW5lIGJ5IHJlbmRlcmluZyB0aGUgZGlzcGxheS1vYmplY3QgaW50byBhIHRleHR1cmUsIGFwcGx5aW5nIGl0c1xuICogW2ZpbHRlcnNde0BsaW5rIFBJWEkuRmlsdGVyfSBpbiBzZXJpZXMsIGFuZCB0aGUgbGFzdCBmaWx0ZXIgb3V0cHV0cyBpbnRvIHRoZSBmaW5hbCByZW5kZXItdGFyZ2V0LlxuICpcbiAqIFRoZSBmaWx0ZXItZnJhbWUgaXMgdGhlIHJlY3RhbmdsZSBpbiB3b3JsZCBzcGFjZSBiZWluZyBmaWx0ZXJlZCwgYW5kIHRob3NlIGNvbnRlbnRzIGFyZSBtYXBwZWQgaW50b1xuICogYCgwLCAwLCBmaWx0ZXJGcmFtZS53aWR0aCwgZmlsdGVyRnJhbWUuaGVpZ2h0KWAgaW50byB0aGUgZmlsdGVyIHJlbmRlci10ZXh0dXJlLiBUaGUgZmlsdGVyLWZyYW1lIGlzIGFsc28gY2FsbGVkXG4gKiB0aGUgc291cmNlLWZyYW1lLCBhcyBpdCBpcyB1c2VkIHRvIGJpbmQgdGhlIGZpbHRlciByZW5kZXItdGV4dHVyZXMuIFRoZSBsYXN0IGZpbHRlciBvdXRwdXRzIHRvIHRoZSBgZmlsdGVyRnJhbWVgXG4gKiBpbiB0aGUgZmluYWwgcmVuZGVyLXRhcmdldC5cbiAqXG4gKiAjIyBVc2FnZVxuICpcbiAqIHtAbGluayBQSVhJLkNvbnRhaW5lciNyZW5kZXJBZHZhbmNlZH0gaXMgYW4gZXhhbXBsZSBvZiBob3cgdG8gdXNlIHRoZSBmaWx0ZXIgc3lzdGVtLiBJdCBpcyBhIDMgc3RlcCBwcm9jZXNzOlxuICpcbiAqICogKipwdXNoKio6IFVzZSB7QGxpbmsgUElYSS5GaWx0ZXJTeXN0ZW0jcHVzaH0gdG8gcHVzaCB0aGUgc2V0IG9mIGZpbHRlcnMgdG8gYmUgYXBwbGllZCBvbiBhIGZpbHRlci10YXJnZXQuXG4gKiAqICoqcmVuZGVyKio6IFJlbmRlciB0aGUgY29udGVudHMgdG8gYmUgZmlsdGVyZWQgdXNpbmcgdGhlIHJlbmRlcmVyLiBUaGUgZmlsdGVyLXN5c3RlbSB3aWxsIG9ubHkgY2FwdHVyZSB0aGUgY29udGVudHNcbiAqICAgICAgaW5zaWRlIHRoZSBib3VuZHMgb2YgdGhlIGZpbHRlci10YXJnZXQuIE5PVEU6IFVzaW5nIHtAbGluayBQSVhJLlJlbmRlcmVyI3JlbmRlcn0gaXNcbiAqICAgICAgaWxsZWdhbCBkdXJpbmcgYW4gZXhpc3RpbmcgcmVuZGVyIGN5Y2xlLCBhbmQgaXQgbWF5IHJlc2V0IHRoZSBmaWx0ZXIgc3lzdGVtLlxuICogKiAqKnBvcCoqOiBVc2Uge0BsaW5rIFBJWEkuRmlsdGVyU3lzdGVtI3BvcH0gdG8gcG9wICYgZXhlY3V0ZSB0aGUgZmlsdGVycyB5b3UgaW5pdGlhbGx5IHB1c2hlZC4gSXQgd2lsbCBhcHBseSB0aGVtXG4gKiAgICAgIHNlcmlhbGx5IGFuZCBvdXRwdXQgdG8gdGhlIGJvdW5kcyBvZiB0aGUgZmlsdGVyLXRhcmdldC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICovXG52YXIgRmlsdGVyU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGaWx0ZXJTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRmlsdGVyU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiBmaWx0ZXJzIGZvciB0aGUgRmlsdGVyU3lzdGVtXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdFtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlZmF1bHRGaWx0ZXJTdGFjayA9IFt7fV07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzdG9yZXMgYSBidW5jaCBvZiBQTzIgdGV4dHVyZXMgdXNlZCBmb3IgZmlsdGVyaW5nXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHR1cmVQb29sID0gbmV3IFJlbmRlclRleHR1cmVQb29sKCk7XG4gICAgICAgIF90aGlzLnRleHR1cmVQb29sLnNldFNjcmVlblNpemUocmVuZGVyZXIudmlldyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhIHBvb2wgZm9yIHN0b3JpbmcgZmlsdGVyIHN0YXRlcywgc2F2ZSB1cyBjcmVhdGluZyBuZXcgb25lcyBlYWNoIHRpY2tcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZVBvb2wgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgdmVyeSBzaW1wbGUgZ2VvbWV0cnkgdXNlZCB3aGVuIGRyYXdpbmcgYSBmaWx0ZXIgZWZmZWN0IHRvIHRoZSBzY3JlZW5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5RdWFkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucXVhZCA9IG5ldyBRdWFkKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBRdWFkIFVWc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlF1YWRVdn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnF1YWRVdiA9IG5ldyBRdWFkVXYoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRlbXBvcmFyeSByZWN0IGZvciBtYXRoc1xuICAgICAgICAgKiBAdHlwZSB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZW1wUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2ZSBzdGF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hY3RpdmVTdGF0ZSA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB1bmlmb3JtIGdyb3VwIGlzIGF0dGFjaGVkIHRvIGZpbHRlciB1bmlmb3JtcyB3aGVuIHVzZWRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Vbmlmb3JtR3JvdXB9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SZWN0YW5nbGV9IG91dHB1dEZyYW1lXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RmxvYXQzMkFycmF5fSBpbnB1dFNpemVcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGlucHV0UGl4ZWxcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGlucHV0Q2xhbXBcbiAgICAgICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IHJlc29sdXRpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGZpbHRlckFyZWFcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGZpbHRlckNsYW1wXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5nbG9iYWxVbmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgICAgICAgb3V0cHV0RnJhbWU6IG5ldyBSZWN0YW5nbGUoKSxcbiAgICAgICAgICAgIGlucHV0U2l6ZTogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgICAgIGlucHV0UGl4ZWw6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgICAgICBpbnB1dENsYW1wOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgICAgIC8vIGxlZ2FjeSB2YXJpYWJsZXNcbiAgICAgICAgICAgIGZpbHRlckFyZWE6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgICAgICBmaWx0ZXJDbGFtcDogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRvIGNsZWFyIG91dHB1dCByZW5kZXJUZXh0dXJlIGluIEFVVE8vQkxJVCBtb2RlLiBTZWUge0BsaW5rIFBJWEkuQ0xFQVJfTU9ERVN9XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mb3JjZUNsZWFyID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPbGQgcGFkZGluZyBiZWhhdmlvciBpcyB0byB1c2UgdGhlIG1heCBhbW91bnQgaW5zdGVhZCBvZiBzdW0gcGFkZGluZy5cbiAgICAgICAgICogVXNlIHRoaXMgZmxhZyBpZiB5b3UgbmVlZCB0aGUgb2xkIGJlaGF2aW9yLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXNlTWF4UGFkZGluZyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIHNldCBvZiBmaWx0ZXJzIHRvIGJlIGFwcGxpZWQgbGF0ZXIgdG8gdGhlIHN5c3RlbS4gVGhpcyB3aWxsIHJlZGlyZWN0IGZ1cnRoZXIgcmVuZGVyaW5nIGludG8gYW5cbiAgICAgKiBpbnB1dCByZW5kZXItdGV4dHVyZSBmb3IgdGhlIHJlc3Qgb2YgdGhlIGZpbHRlcmluZyBwaXBlbGluZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBUaGUgdGFyZ2V0IG9mIHRoZSBmaWx0ZXIgdG8gcmVuZGVyLlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJbXX0gZmlsdGVycyAtIFRoZSBmaWx0ZXJzIHRvIGFwcGx5LlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uICh0YXJnZXQsIGZpbHRlcnMpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGZpbHRlclN0YWNrID0gdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2s7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGVQb29sLnBvcCgpIHx8IG5ldyBGaWx0ZXJTdGF0ZSgpO1xuICAgICAgICB2YXIgcmVuZGVyVGV4dHVyZVN5c3RlbSA9IHRoaXMucmVuZGVyZXIucmVuZGVyVGV4dHVyZTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSBmaWx0ZXJzWzBdLnJlc29sdXRpb247XG4gICAgICAgIHZhciBwYWRkaW5nID0gZmlsdGVyc1swXS5wYWRkaW5nO1xuICAgICAgICB2YXIgYXV0b0ZpdCA9IGZpbHRlcnNbMF0uYXV0b0ZpdDtcbiAgICAgICAgdmFyIGxlZ2FjeSA9IGZpbHRlcnNbMF0ubGVnYWN5O1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBmaWx0ZXIgPSBmaWx0ZXJzW2ldO1xuICAgICAgICAgICAgLy8gbGV0cyB1c2UgdGhlIGxvd2VzdCByZXNvbHV0aW9uLi5cbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBNYXRoLm1pbihyZXNvbHV0aW9uLCBmaWx0ZXIucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAvLyBmaWd1cmUgb3V0IHRoZSBwYWRkaW5nIHJlcXVpcmVkIGZvciBmaWx0ZXJzXG4gICAgICAgICAgICBwYWRkaW5nID0gdGhpcy51c2VNYXhQYWRkaW5nXG4gICAgICAgICAgICAgICAgLy8gb2xkIGJlaGF2aW9yOiB1c2UgbGFyZ2VzdCBhbW91bnQgb2YgcGFkZGluZyFcbiAgICAgICAgICAgICAgICA/IE1hdGgubWF4KHBhZGRpbmcsIGZpbHRlci5wYWRkaW5nKVxuICAgICAgICAgICAgICAgIC8vIG5ldyBiZWhhdmlvcjogc3VtIHRoZSBwYWRkaW5nXG4gICAgICAgICAgICAgICAgOiBwYWRkaW5nICsgZmlsdGVyLnBhZGRpbmc7XG4gICAgICAgICAgICAvLyBvbmx5IGF1dG8gZml0IGlmIGFsbCBmaWx0ZXJzIGFyZSBhdXRvZml0XG4gICAgICAgICAgICBhdXRvRml0ID0gYXV0b0ZpdCAmJiBmaWx0ZXIuYXV0b0ZpdDtcbiAgICAgICAgICAgIGxlZ2FjeSA9IGxlZ2FjeSB8fCBmaWx0ZXIubGVnYWN5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXJTdGFjay5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdEZpbHRlclN0YWNrWzBdLnJlbmRlclRleHR1cmUgPSByZW5kZXJUZXh0dXJlU3lzdGVtLmN1cnJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZmlsdGVyU3RhY2sucHVzaChzdGF0ZSk7XG4gICAgICAgIHN0YXRlLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICBzdGF0ZS5sZWdhY3kgPSBsZWdhY3k7XG4gICAgICAgIHN0YXRlLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgc3RhdGUuc291cmNlRnJhbWUuY29weUZyb20odGFyZ2V0LmZpbHRlckFyZWEgfHwgdGFyZ2V0LmdldEJvdW5kcyh0cnVlKSk7XG4gICAgICAgIHN0YXRlLnNvdXJjZUZyYW1lLnBhZChwYWRkaW5nKTtcbiAgICAgICAgaWYgKGF1dG9GaXQpIHtcbiAgICAgICAgICAgIHZhciBzb3VyY2VGcmFtZVByb2plY3RlZCA9IHRoaXMudGVtcFJlY3QuY29weUZyb20ocmVuZGVyVGV4dHVyZVN5c3RlbS5zb3VyY2VGcmFtZSk7XG4gICAgICAgICAgICAvLyBQcm9qZWN0IHNvdXJjZSBmcmFtZSBpbnRvIHdvcmxkIHNwYWNlIChpZiBwcm9qZWN0aW9uIGlzIGFwcGxpZWQpXG4gICAgICAgICAgICBpZiAocmVuZGVyZXIucHJvamVjdGlvbi50cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybUFBQkIodGVtcE1hdHJpeC5jb3B5RnJvbShyZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybSkuaW52ZXJ0KCksIHNvdXJjZUZyYW1lUHJvamVjdGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRlLnNvdXJjZUZyYW1lLmZpdChzb3VyY2VGcmFtZVByb2plY3RlZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUm91bmQgc291cmNlRnJhbWUgaW4gc2NyZWVuIHNwYWNlIGJhc2VkIG9uIHJlbmRlci10ZXh0dXJlLlxuICAgICAgICB0aGlzLnJvdW5kRnJhbWUoc3RhdGUuc291cmNlRnJhbWUsIHJlbmRlclRleHR1cmVTeXN0ZW0uY3VycmVudCA/IHJlbmRlclRleHR1cmVTeXN0ZW0uY3VycmVudC5yZXNvbHV0aW9uIDogcmVuZGVyZXIucmVzb2x1dGlvbiwgcmVuZGVyVGV4dHVyZVN5c3RlbS5zb3VyY2VGcmFtZSwgcmVuZGVyVGV4dHVyZVN5c3RlbS5kZXN0aW5hdGlvbkZyYW1lLCByZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybSk7XG4gICAgICAgIHN0YXRlLnJlbmRlclRleHR1cmUgPSB0aGlzLmdldE9wdGltYWxGaWx0ZXJUZXh0dXJlKHN0YXRlLnNvdXJjZUZyYW1lLndpZHRoLCBzdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQsIHJlc29sdXRpb24pO1xuICAgICAgICBzdGF0ZS5maWx0ZXJzID0gZmlsdGVycztcbiAgICAgICAgc3RhdGUuZGVzdGluYXRpb25GcmFtZS53aWR0aCA9IHN0YXRlLnJlbmRlclRleHR1cmUud2lkdGg7XG4gICAgICAgIHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ID0gc3RhdGUucmVuZGVyVGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbkZyYW1lID0gdGhpcy50ZW1wUmVjdDtcbiAgICAgICAgZGVzdGluYXRpb25GcmFtZS54ID0gMDtcbiAgICAgICAgZGVzdGluYXRpb25GcmFtZS55ID0gMDtcbiAgICAgICAgZGVzdGluYXRpb25GcmFtZS53aWR0aCA9IHN0YXRlLnNvdXJjZUZyYW1lLndpZHRoO1xuICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCA9IHN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodDtcbiAgICAgICAgc3RhdGUucmVuZGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IHN0YXRlLnNvdXJjZUZyYW1lO1xuICAgICAgICBzdGF0ZS5iaW5kaW5nU291cmNlRnJhbWUuY29weUZyb20ocmVuZGVyVGV4dHVyZVN5c3RlbS5zb3VyY2VGcmFtZSk7XG4gICAgICAgIHN0YXRlLmJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lLmNvcHlGcm9tKHJlbmRlclRleHR1cmVTeXN0ZW0uZGVzdGluYXRpb25GcmFtZSk7XG4gICAgICAgIHN0YXRlLnRyYW5zZm9ybSA9IHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtO1xuICAgICAgICByZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHJlbmRlclRleHR1cmVTeXN0ZW0uYmluZChzdGF0ZS5yZW5kZXJUZXh0dXJlLCBzdGF0ZS5zb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSk7XG4gICAgICAgIHJlbmRlcmVyLmZyYW1lYnVmZmVyLmNsZWFyKDAsIDAsIDAsIDApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUG9wcyBvZmYgdGhlIGZpbHRlciBhbmQgYXBwbGllcyBpdC5cbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZpbHRlclN0YWNrID0gdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2s7XG4gICAgICAgIHZhciBzdGF0ZSA9IGZpbHRlclN0YWNrLnBvcCgpO1xuICAgICAgICB2YXIgZmlsdGVycyA9IHN0YXRlLmZpbHRlcnM7XG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdmFyIGdsb2JhbFVuaWZvcm1zID0gdGhpcy5nbG9iYWxVbmlmb3Jtcy51bmlmb3JtcztcbiAgICAgICAgZ2xvYmFsVW5pZm9ybXMub3V0cHV0RnJhbWUgPSBzdGF0ZS5zb3VyY2VGcmFtZTtcbiAgICAgICAgZ2xvYmFsVW5pZm9ybXMucmVzb2x1dGlvbiA9IHN0YXRlLnJlc29sdXRpb247XG4gICAgICAgIHZhciBpbnB1dFNpemUgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dFNpemU7XG4gICAgICAgIHZhciBpbnB1dFBpeGVsID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRQaXhlbDtcbiAgICAgICAgdmFyIGlucHV0Q2xhbXAgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dENsYW1wO1xuICAgICAgICBpbnB1dFNpemVbMF0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgICAgICBpbnB1dFNpemVbMV0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcbiAgICAgICAgaW5wdXRTaXplWzJdID0gMS4wIC8gaW5wdXRTaXplWzBdO1xuICAgICAgICBpbnB1dFNpemVbM10gPSAxLjAgLyBpbnB1dFNpemVbMV07XG4gICAgICAgIGlucHV0UGl4ZWxbMF0gPSBpbnB1dFNpemVbMF0gKiBzdGF0ZS5yZXNvbHV0aW9uO1xuICAgICAgICBpbnB1dFBpeGVsWzFdID0gaW5wdXRTaXplWzFdICogc3RhdGUucmVzb2x1dGlvbjtcbiAgICAgICAgaW5wdXRQaXhlbFsyXSA9IDEuMCAvIGlucHV0UGl4ZWxbMF07XG4gICAgICAgIGlucHV0UGl4ZWxbM10gPSAxLjAgLyBpbnB1dFBpeGVsWzFdO1xuICAgICAgICBpbnB1dENsYW1wWzBdID0gMC41ICogaW5wdXRQaXhlbFsyXTtcbiAgICAgICAgaW5wdXRDbGFtcFsxXSA9IDAuNSAqIGlucHV0UGl4ZWxbM107XG4gICAgICAgIGlucHV0Q2xhbXBbMl0gPSAoc3RhdGUuc291cmNlRnJhbWUud2lkdGggKiBpbnB1dFNpemVbMl0pIC0gKDAuNSAqIGlucHV0UGl4ZWxbMl0pO1xuICAgICAgICBpbnB1dENsYW1wWzNdID0gKHN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodCAqIGlucHV0U2l6ZVszXSkgLSAoMC41ICogaW5wdXRQaXhlbFszXSk7XG4gICAgICAgIC8vIG9ubHkgdXBkYXRlIHRoZSByZWN0IGlmIGl0cyBsZWdhY3kuLlxuICAgICAgICBpZiAoc3RhdGUubGVnYWN5KSB7XG4gICAgICAgICAgICB2YXIgZmlsdGVyQXJlYSA9IGdsb2JhbFVuaWZvcm1zLmZpbHRlckFyZWE7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzBdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbMV0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbMl0gPSBzdGF0ZS5zb3VyY2VGcmFtZS54O1xuICAgICAgICAgICAgZmlsdGVyQXJlYVszXSA9IHN0YXRlLnNvdXJjZUZyYW1lLnk7XG4gICAgICAgICAgICBnbG9iYWxVbmlmb3Jtcy5maWx0ZXJDbGFtcCA9IGdsb2JhbFVuaWZvcm1zLmlucHV0Q2xhbXA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nbG9iYWxVbmlmb3Jtcy51cGRhdGUoKTtcbiAgICAgICAgdmFyIGxhc3RTdGF0ZSA9IGZpbHRlclN0YWNrW2ZpbHRlclN0YWNrLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoc3RhdGUucmVuZGVyVGV4dHVyZS5mcmFtZWJ1ZmZlci5tdWx0aXNhbXBsZSA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuYmxpdCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgZmlsdGVyc1swXS5hcHBseSh0aGlzLCBzdGF0ZS5yZW5kZXJUZXh0dXJlLCBsYXN0U3RhdGUucmVuZGVyVGV4dHVyZSwgQ0xFQVJfTU9ERVMuQkxFTkQsIHN0YXRlKTtcbiAgICAgICAgICAgIHRoaXMucmV0dXJuRmlsdGVyVGV4dHVyZShzdGF0ZS5yZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBmbGlwID0gc3RhdGUucmVuZGVyVGV4dHVyZTtcbiAgICAgICAgICAgIHZhciBmbG9wID0gdGhpcy5nZXRPcHRpbWFsRmlsdGVyVGV4dHVyZShmbGlwLndpZHRoLCBmbGlwLmhlaWdodCwgc3RhdGUucmVzb2x1dGlvbik7XG4gICAgICAgICAgICBmbG9wLmZpbHRlckZyYW1lID0gZmxpcC5maWx0ZXJGcmFtZTtcbiAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICAgICAgICAgIGZpbHRlcnNbaV0uYXBwbHkodGhpcywgZmxpcCwgZmxvcCwgQ0xFQVJfTU9ERVMuQ0xFQVIsIHN0YXRlKTtcbiAgICAgICAgICAgICAgICB2YXIgdCA9IGZsaXA7XG4gICAgICAgICAgICAgICAgZmxpcCA9IGZsb3A7XG4gICAgICAgICAgICAgICAgZmxvcCA9IHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWx0ZXJzW2ldLmFwcGx5KHRoaXMsIGZsaXAsIGxhc3RTdGF0ZS5yZW5kZXJUZXh0dXJlLCBDTEVBUl9NT0RFUy5CTEVORCwgc3RhdGUpO1xuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKGZsaXApO1xuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKGZsb3ApO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuc3RhdGVQb29sLnB1c2goc3RhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQmluZHMgYSByZW5kZXJUZXh0dXJlIHdpdGggY29ycmVzcG9uZGluZyBgZmlsdGVyRnJhbWVgLCBjbGVhcnMgaXQgaWYgbW9kZSBjb3JyZXNwb25kcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBmaWx0ZXJUZXh0dXJlIC0gcmVuZGVyVGV4dHVyZSB0byBiaW5kLCBzaG91bGQgYmVsb25nIHRvIGZpbHRlciBwb29sIG9yIGZpbHRlciBzdGFja1xuICAgICAqIEBwYXJhbSB7UElYSS5DTEVBUl9NT0RFU30gW2NsZWFyTW9kZV0gLSBjbGVhck1vZGUsIGJ5IGRlZmF1bHQgaXRzIENMRUFSL1lFUy4gU2VlIHtAbGluayBQSVhJLkNMRUFSX01PREVTfVxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuYmluZEFuZENsZWFyID0gZnVuY3Rpb24gKGZpbHRlclRleHR1cmUsIGNsZWFyTW9kZSkge1xuICAgICAgICBpZiAoY2xlYXJNb2RlID09PSB2b2lkIDApIHsgY2xlYXJNb2RlID0gQ0xFQVJfTU9ERVMuQ0xFQVI7IH1cbiAgICAgICAgdmFyIF9hID0gdGhpcy5yZW5kZXJlciwgcmVuZGVyVGV4dHVyZVN5c3RlbSA9IF9hLnJlbmRlclRleHR1cmUsIHN0YXRlU3lzdGVtID0gX2Euc3RhdGU7XG4gICAgICAgIGlmIChmaWx0ZXJUZXh0dXJlID09PSB0aGlzLmRlZmF1bHRGaWx0ZXJTdGFja1t0aGlzLmRlZmF1bHRGaWx0ZXJTdGFjay5sZW5ndGggLSAxXS5yZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAvLyBSZXN0b3JlIHByb2plY3Rpb24gdHJhbnNmb3JtIGlmIHJlbmRlcmluZyBpbnRvIHRoZSBvdXRwdXQgcmVuZGVyLXRhcmdldC5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucHJvamVjdGlvbi50cmFuc2Zvcm0gPSB0aGlzLmFjdGl2ZVN0YXRlLnRyYW5zZm9ybTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFByZXZlbnQgcHJvamVjdGlvbiB3aXRoaW4gZmlsdGVyaW5nIHBpcGVsaW5lLlxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbHRlclRleHR1cmUgJiYgZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZSkge1xuICAgICAgICAgICAgdmFyIGRlc3RpbmF0aW9uRnJhbWUgPSB0aGlzLnRlbXBSZWN0O1xuICAgICAgICAgICAgZGVzdGluYXRpb25GcmFtZS54ID0gMDtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUueSA9IDA7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLndpZHRoID0gZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZS53aWR0aDtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ID0gZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZS5oZWlnaHQ7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlU3lzdGVtLmJpbmQoZmlsdGVyVGV4dHVyZSwgZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZSwgZGVzdGluYXRpb25GcmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZmlsdGVyVGV4dHVyZSAhPT0gdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2tbdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2subGVuZ3RoIC0gMV0ucmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZVN5c3RlbS5iaW5kKGZpbHRlclRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gUmVzdG9yZSBiaW5kaW5nIGZvciBvdXRwdXQgcmVuZGVyLXRhcmdldC5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKGZpbHRlclRleHR1cmUsIHRoaXMuYWN0aXZlU3RhdGUuYmluZGluZ1NvdXJjZUZyYW1lLCB0aGlzLmFjdGl2ZVN0YXRlLmJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDbGVhciB0aGUgdGV4dHVyZSBpbiBCTElUIG1vZGUgaWYgYmxlbmRpbmcgaXMgZGlzYWJsZWQgb3IgdGhlIGZvcmNlQ2xlYXIgZmxhZyBpcyBzZXQuIFRoZSBibGVuZGluZ1xuICAgICAgICAvLyBpcyBzdG9yZWQgaW4gdGhlIDB0aCBiaXQgb2YgdGhlIHN0YXRlLlxuICAgICAgICB2YXIgYXV0b0NsZWFyID0gKHN0YXRlU3lzdGVtLnN0YXRlSWQgJiAxKSB8fCB0aGlzLmZvcmNlQ2xlYXI7XG4gICAgICAgIGlmIChjbGVhck1vZGUgPT09IENMRUFSX01PREVTLkNMRUFSXG4gICAgICAgICAgICB8fCAoY2xlYXJNb2RlID09PSBDTEVBUl9NT0RFUy5CTElUICYmIGF1dG9DbGVhcikpIHtcbiAgICAgICAgICAgIC8vIFVzZSBmcmFtZWJ1ZmZlci5jbGVhciBiZWNhdXNlIHdlIHdhbnQgdG8gY2xlYXIgdGhlIHdob2xlIGZpbHRlciB0ZXh0dXJlLCBub3QganVzdCB0aGUgZmlsdGVyaW5nXG4gICAgICAgICAgICAvLyBhcmVhIG92ZXIgd2hpY2ggdGhlIHNoYWRlcnMgYXJlIHJ1bi4gVGhpcyBpcyBiZWNhdXNlIGZpbHRlcnMgbWF5IHNhbXBsaW5nIG91dHNpZGUgb2YgaXQgKGUuZy4gYmx1cilcbiAgICAgICAgICAgIC8vIGluc3RlYWQgb2YgY2xhbXBpbmcgdGhlaXIgYXJpdGhtZXRpYy5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuY2xlYXIoMCwgMCwgMCwgMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXdzIGEgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlcn0gZmlsdGVyIC0gVGhlIGZpbHRlciB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ0xFQVJfTU9ERVN9IFtjbGVhck1vZGVdIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0XG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5hcHBseUZpbHRlciA9IGZ1bmN0aW9uIChmaWx0ZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICAvLyBTZXQgc3RhdGUgYmVmb3JlIGJpbmRpbmcsIHNvIGJpbmRBbmRDbGVhciBnZXRzIHRoZSBibGVuZCBtb2RlLlxuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXQoZmlsdGVyLnN0YXRlKTtcbiAgICAgICAgdGhpcy5iaW5kQW5kQ2xlYXIob3V0cHV0LCBjbGVhck1vZGUpO1xuICAgICAgICAvLyBzZXQgdGhlIHVuaWZvcm1zLi5cbiAgICAgICAgZmlsdGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gaW5wdXQ7XG4gICAgICAgIGZpbHRlci51bmlmb3Jtcy5maWx0ZXJHbG9iYWxzID0gdGhpcy5nbG9iYWxVbmlmb3JtcztcbiAgICAgICAgLy8gVE9ETyBtYWtlIGl0IHNvIHRoYXQgdGhlIG9yZGVyIG9mIHRoaXMgZG9lcyBub3QgbWF0dGVyLi5cbiAgICAgICAgLy8gYmVjYXVzZSBpdCBkb2VzIGF0IHRoZSBtb21lbnQgY29zIG9mIGdsb2JhbCB1bmlmb3Jtcy5cbiAgICAgICAgLy8gdGhleSBuZWVkIHRvIGdldCByZXN5bmNlZFxuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChmaWx0ZXIpO1xuICAgICAgICBpZiAoZmlsdGVyLmxlZ2FjeSkge1xuICAgICAgICAgICAgdGhpcy5xdWFkVXYubWFwKGlucHV0Ll9mcmFtZSwgaW5wdXQuZmlsdGVyRnJhbWUpO1xuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZCh0aGlzLnF1YWRVdik7XG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KERSQVdfTU9ERVMuVFJJQU5HTEVTKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5xdWFkKTtcbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcoRFJBV19NT0RFUy5UUklBTkdMRV9TVFJJUCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IF9pbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGVzXyB0byB0aGlzIG1hdHJpeCB0byBnZXQgX3Nwcml0ZSB0ZXh0dXJlIG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXNfLlxuICAgICAqXG4gICAgICogVXNlIGBvdXRwdXRNYXRyaXggKiB2VGV4dHVyZUNvb3JkYCBpbiB0aGUgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gb3V0cHV0TWF0cml4IC0gVGhlIG1hdHJpeCB0byBvdXRwdXQgdG8uXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gVGhlIHNwcml0ZSB0byBtYXAgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuY2FsY3VsYXRlU3ByaXRlTWF0cml4ID0gZnVuY3Rpb24gKG91dHB1dE1hdHJpeCwgc3ByaXRlKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMuYWN0aXZlU3RhdGUsIHNvdXJjZUZyYW1lID0gX2Euc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUgPSBfYS5kZXN0aW5hdGlvbkZyYW1lO1xuICAgICAgICB2YXIgb3JpZyA9IHNwcml0ZS5fdGV4dHVyZS5vcmlnO1xuICAgICAgICB2YXIgbWFwcGVkTWF0cml4ID0gb3V0cHV0TWF0cml4LnNldChkZXN0aW5hdGlvbkZyYW1lLndpZHRoLCAwLCAwLCBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCwgc291cmNlRnJhbWUueCwgc291cmNlRnJhbWUueSk7XG4gICAgICAgIHZhciB3b3JsZFRyYW5zZm9ybSA9IHNwcml0ZS53b3JsZFRyYW5zZm9ybS5jb3B5VG8oTWF0cml4LlRFTVBfTUFUUklYKTtcbiAgICAgICAgd29ybGRUcmFuc2Zvcm0uaW52ZXJ0KCk7XG4gICAgICAgIG1hcHBlZE1hdHJpeC5wcmVwZW5kKHdvcmxkVHJhbnNmb3JtKTtcbiAgICAgICAgbWFwcGVkTWF0cml4LnNjYWxlKDEuMCAvIG9yaWcud2lkdGgsIDEuMCAvIG9yaWcuaGVpZ2h0KTtcbiAgICAgICAgbWFwcGVkTWF0cml4LnRyYW5zbGF0ZShzcHJpdGUuYW5jaG9yLngsIHNwcml0ZS5hbmNob3IueSk7XG4gICAgICAgIHJldHVybiBtYXBwZWRNYXRyaXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIEZpbHRlciBTeXN0ZW0uXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBUaG9zZSB0ZXh0dXJlcyBoYXMgdG8gYmUgZGVzdHJveWVkIGJ5IFJlbmRlclRleHR1cmVTeXN0ZW0gb3IgRnJhbWVidWZmZXJTeXN0ZW1cbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbC5jbGVhcihmYWxzZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIGEgUG93ZXItb2YtVHdvIHJlbmRlciB0ZXh0dXJlIG9yIGZ1bGxTY3JlZW4gdGV4dHVyZVxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5XaWR0aCAtIFRoZSBtaW5pbXVtIHdpZHRoIG9mIHRoZSByZW5kZXIgdGV4dHVyZSBpbiByZWFsIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluSGVpZ2h0IC0gVGhlIG1pbmltdW0gaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGV4dHVyZSBpbiByZWFsIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyIHRleHR1cmUuXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJUZXh0dXJlfSBUaGUgbmV3IHJlbmRlciB0ZXh0dXJlLlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUgPSBmdW5jdGlvbiAobWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb24gPSAxOyB9XG4gICAgICAgIHJldHVybiB0aGlzLnRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKG1pbldpZHRoLCBtaW5IZWlnaHQsIHJlc29sdXRpb24pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyBleHRyYSByZW5kZXIgdGV4dHVyZSB0byB1c2UgaW5zaWRlIGN1cnJlbnQgZmlsdGVyXG4gICAgICogVG8gYmUgY29tcGxpYW50IHdpdGggb2xkZXIgZmlsdGVycywgeW91IGNhbiB1c2UgcGFyYW1zIGluIGFueSBvcmRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IFtpbnB1dF0gLSByZW5kZXJUZXh0dXJlIGZyb20gd2hpY2ggc2l6ZSBhbmQgcmVzb2x1dGlvbiB3aWxsIGJlIGNvcGllZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gLSBvdmVycmlkZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJUZXh0dXJlXG4gICAgICogQHJldHVybnMge1BJWEkuUmVuZGVyVGV4dHVyZX1cbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmdldEZpbHRlclRleHR1cmUgPSBmdW5jdGlvbiAoaW5wdXQsIHJlc29sdXRpb24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHZhciBzd2FwID0gaW5wdXQ7XG4gICAgICAgICAgICBpbnB1dCA9IHJlc29sdXRpb247XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gc3dhcDtcbiAgICAgICAgfVxuICAgICAgICBpbnB1dCA9IGlucHV0IHx8IHRoaXMuYWN0aXZlU3RhdGUucmVuZGVyVGV4dHVyZTtcbiAgICAgICAgdmFyIGZpbHRlclRleHR1cmUgPSB0aGlzLnRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKGlucHV0LndpZHRoLCBpbnB1dC5oZWlnaHQsIHJlc29sdXRpb24gfHwgaW5wdXQucmVzb2x1dGlvbik7XG4gICAgICAgIGZpbHRlclRleHR1cmUuZmlsdGVyRnJhbWUgPSBpbnB1dC5maWx0ZXJGcmFtZTtcbiAgICAgICAgcmV0dXJuIGZpbHRlclRleHR1cmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGcmVlcyBhIHJlbmRlciB0ZXh0dXJlIGJhY2sgaW50byB0aGUgcG9vbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlclRhcmdldCB0byBmcmVlXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5yZXR1cm5GaWx0ZXJUZXh0dXJlID0gZnVuY3Rpb24gKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKHJlbmRlclRleHR1cmUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW1wdGllcyB0aGUgdGV4dHVyZSBwb29sLlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuZW1wdHlQb29sID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sLmNsZWFyKHRydWUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogY2FsbHMgYHRleHR1cmVQb29sLnJlc2l6ZSgpYCwgYWZmZWN0cyBmdWxsU2NyZWVuIHJlbmRlclRleHR1cmVzXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wuc2V0U2NyZWVuU2l6ZSh0aGlzLnJlbmRlcmVyLnZpZXcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gZmlyc3QgcGFyYW1cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gc2Vjb25kIHBhcmFtXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS50cmFuc2Zvcm1BQUJCID0gZnVuY3Rpb24gKG1hdHJpeCwgcmVjdCkge1xuICAgICAgICB2YXIgbHQgPSB0ZW1wUG9pbnRzWzBdO1xuICAgICAgICB2YXIgbGIgPSB0ZW1wUG9pbnRzWzFdO1xuICAgICAgICB2YXIgcnQgPSB0ZW1wUG9pbnRzWzJdO1xuICAgICAgICB2YXIgcmIgPSB0ZW1wUG9pbnRzWzNdO1xuICAgICAgICBsdC5zZXQocmVjdC5sZWZ0LCByZWN0LnRvcCk7XG4gICAgICAgIGxiLnNldChyZWN0LmxlZnQsIHJlY3QuYm90dG9tKTtcbiAgICAgICAgcnQuc2V0KHJlY3QucmlnaHQsIHJlY3QudG9wKTtcbiAgICAgICAgcmIuc2V0KHJlY3QucmlnaHQsIHJlY3QuYm90dG9tKTtcbiAgICAgICAgbWF0cml4LmFwcGx5KGx0LCBsdCk7XG4gICAgICAgIG1hdHJpeC5hcHBseShsYiwgbGIpO1xuICAgICAgICBtYXRyaXguYXBwbHkocnQsIHJ0KTtcbiAgICAgICAgbWF0cml4LmFwcGx5KHJiLCByYik7XG4gICAgICAgIHZhciB4MCA9IE1hdGgubWluKGx0LngsIGxiLngsIHJ0LngsIHJiLngpO1xuICAgICAgICB2YXIgeTAgPSBNYXRoLm1pbihsdC55LCBsYi55LCBydC55LCByYi55KTtcbiAgICAgICAgdmFyIHgxID0gTWF0aC5tYXgobHQueCwgbGIueCwgcnQueCwgcmIueCk7XG4gICAgICAgIHZhciB5MSA9IE1hdGgubWF4KGx0LnksIGxiLnksIHJ0LnksIHJiLnkpO1xuICAgICAgICByZWN0LnggPSB4MDtcbiAgICAgICAgcmVjdC55ID0geTA7XG4gICAgICAgIHJlY3Qud2lkdGggPSB4MSAtIHgwO1xuICAgICAgICByZWN0LmhlaWdodCA9IHkxIC0geTA7XG4gICAgfTtcbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLnJvdW5kRnJhbWUgPSBmdW5jdGlvbiAoZnJhbWUsIHJlc29sdXRpb24sIGJpbmRpbmdTb3VyY2VGcmFtZSwgYmluZGluZ0Rlc3RpbmF0aW9uRnJhbWUsIHRyYW5zZm9ybSkge1xuICAgICAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB2YXIgYSA9IHRyYW5zZm9ybS5hLCBiID0gdHJhbnNmb3JtLmIsIGMgPSB0cmFuc2Zvcm0uYywgZCA9IHRyYW5zZm9ybS5kO1xuICAgICAgICAgICAgLy8gU2tpcCBpZiBza2V3L3JvdGF0aW9uIHByZXNlbnQgaW4gbWF0cml4LCBleGNlcHQgZm9yIG11bHRpcGxlIG9mIDkwwrAgcm90YXRpb24uIElmIHJvdGF0aW9uXG4gICAgICAgICAgICAvLyBpcyBhIG11bHRpcGxlIG9mIDkwwrAsIHRoZW4gZWl0aGVyIHBhaXIgb2YgKGIsYykgb3IgKGEsZCkgd2lsbCBiZSAoMCwwKS5cbiAgICAgICAgICAgIGlmICgoYiAhPT0gMCB8fCBjICE9PSAwKSAmJiAoYSAhPT0gMCB8fCBkICE9PSAwKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0cmFuc2Zvcm0gPSB0cmFuc2Zvcm0gPyB0ZW1wTWF0cml4LmNvcHlGcm9tKHRyYW5zZm9ybSkgOiB0ZW1wTWF0cml4LmlkZW50aXR5KCk7XG4gICAgICAgIC8vIEdldCBmb3J3YXJkIHRyYW5zZm9ybSBmcm9tIHdvcmxkIHNwYWNlIHRvIHNjcmVlbiBzcGFjZVxuICAgICAgICB0cmFuc2Zvcm1cbiAgICAgICAgICAgIC50cmFuc2xhdGUoLWJpbmRpbmdTb3VyY2VGcmFtZS54LCAtYmluZGluZ1NvdXJjZUZyYW1lLnkpXG4gICAgICAgICAgICAuc2NhbGUoYmluZGluZ0Rlc3RpbmF0aW9uRnJhbWUud2lkdGggLyBiaW5kaW5nU291cmNlRnJhbWUud2lkdGgsIGJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIGJpbmRpbmdTb3VyY2VGcmFtZS5oZWlnaHQpXG4gICAgICAgICAgICAudHJhbnNsYXRlKGJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lLngsIGJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lLnkpO1xuICAgICAgICAvLyBDb252ZXJ0IGZyYW1lIHRvIHNjcmVlbiBzcGFjZVxuICAgICAgICB0aGlzLnRyYW5zZm9ybUFBQkIodHJhbnNmb3JtLCBmcmFtZSk7XG4gICAgICAgIC8vIFJvdW5kIGZyYW1lIGluIHNjcmVlbiBzcGFjZVxuICAgICAgICBmcmFtZS5jZWlsKHJlc29sdXRpb24pO1xuICAgICAgICAvLyBQcm9qZWN0IGJhY2sgaW50byB3b3JsZCBzcGFjZS5cbiAgICAgICAgdGhpcy50cmFuc2Zvcm1BQUJCKHRyYW5zZm9ybS5pbnZlcnQoKSwgZnJhbWUpO1xuICAgIH07XG4gICAgcmV0dXJuIEZpbHRlclN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogQmFzZSBmb3IgYSBjb21tb24gb2JqZWN0IHJlbmRlcmVyIHRoYXQgY2FuIGJlIHVzZWQgYXMgYVxuICogc3lzdGVtIHJlbmRlcmVyIHBsdWdpbi5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgT2JqZWN0UmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3R1YiBtZXRob2QgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBlbXB0eSB0aGUgY3VycmVudFxuICAgICAqIGJhdGNoIGJ5IHJlbmRlcmluZyBvYmplY3RzIG5vdy5cbiAgICAgKi9cbiAgICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGZsdXNoIVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJpYyBkZXN0cnVjdGlvbiBtZXRob2QgdGhhdCBmcmVlcyBhbGwgcmVzb3VyY2VzLiBUaGlzXG4gICAgICogc2hvdWxkIGJlIGNhbGxlZCBieSBzdWJjbGFzc2VzLlxuICAgICAqL1xuICAgIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0dWIgbWV0aG9kIHRoYXQgaW5pdGlhbGl6ZXMgYW55IHN0YXRlIHJlcXVpcmVkIGJlZm9yZVxuICAgICAqIHJlbmRlcmluZyBzdGFydHMuIEl0IGlzIGRpZmZlcmVudCBmcm9tIHRoZSBgcHJlcmVuZGVyYFxuICAgICAqIHNpZ25hbCwgd2hpY2ggb2NjdXJzIGV2ZXJ5IGZyYW1lLCBpbiB0aGF0IGl0IGlzIGNhbGxlZFxuICAgICAqIHdoZW5ldmVyIGFuIG9iamVjdCByZXF1ZXN0cyBfdGhpc18gcmVuZGVyZXIgc3BlY2lmaWNhbGx5LlxuICAgICAqL1xuICAgIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gc2V0IHRoZSBzaGFkZXIuLlxuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIHJlbmRlcmVyLiBJdCBzaG91bGQgZnJlZSB1cCBhbnkgc3RhdGUgYW5kXG4gICAgICogYmVjb21lIGRvcm1hbnQuXG4gICAgICovXG4gICAgT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEtlZXBzIHRoZSBvYmplY3QgdG8gcmVuZGVyLiBJdCBkb2Vzbid0IGhhdmUgdG8gYmVcbiAgICAgKiByZW5kZXJlZCBpbW1lZGlhdGVseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBvYmplY3QgLSBUaGUgb2JqZWN0IHRvIHJlbmRlci5cbiAgICAgKi9cbiAgICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKF9vYmplY3QpIHtcbiAgICAgICAgLy8gcmVuZGVyIHRoZSBvYmplY3RcbiAgICB9O1xuICAgIHJldHVybiBPYmplY3RSZW5kZXJlcjtcbn0oKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIGJhdGNoaW5nLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXRjaFN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmF0Y2hTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmF0Y2hTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBlbXB0eSByZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYmplY3RSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmVtcHR5UmVuZGVyZXIgPSBuZXcgT2JqZWN0UmVuZGVyZXIocmVuZGVyZXIpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnRseSBhY3RpdmUgT2JqZWN0UmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JqZWN0UmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJyZW50UmVuZGVyZXIgPSBfdGhpcy5lbXB0eVJlbmRlcmVyO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIGN1cnJlbnQgcmVuZGVyZXIgdG8gdGhlIG9uZSBnaXZlbiBpbiBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5PYmplY3RSZW5kZXJlcn0gb2JqZWN0UmVuZGVyZXIgLSBUaGUgb2JqZWN0IHJlbmRlcmVyIHRvIHVzZS5cbiAgICAgKi9cbiAgICBCYXRjaFN5c3RlbS5wcm90b3R5cGUuc2V0T2JqZWN0UmVuZGVyZXIgPSBmdW5jdGlvbiAob2JqZWN0UmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFJlbmRlcmVyID09PSBvYmplY3RSZW5kZXJlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyLnN0b3AoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIgPSBvYmplY3RSZW5kZXJlcjtcbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIuc3RhcnQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBpZiB5b3Ugd2lzaCB0byBkbyBzb21lIGN1c3RvbSByZW5kZXJpbmdcbiAgICAgKiBJdCB3aWxsIGJhc2ljYWxseSByZW5kZXIgYW55dGhpbmcgdGhhdCBtYXkgYmUgYmF0Y2hlZCB1cCBzdWNoIGFzIHNwcml0ZXNcbiAgICAgKi9cbiAgICBCYXRjaFN5c3RlbS5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2V0T2JqZWN0UmVuZGVyZXIodGhpcy5lbXB0eVJlbmRlcmVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBzeXN0ZW0gdG8gYW4gZW1wdHkgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBCYXRjaFN5c3RlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2V0T2JqZWN0UmVuZGVyZXIodGhpcy5lbXB0eVJlbmRlcmVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmR5IGZ1bmN0aW9uIGZvciBiYXRjaCByZW5kZXJlcnM6IGNvcGllcyBib3VuZCB0ZXh0dXJlcyBpbiBmaXJzdCBtYXhUZXh0dXJlcyBsb2NhdGlvbnMgdG8gYXJyYXlcbiAgICAgKiBzZXRzIGFjdHVhbCBfYmF0Y2hMb2NhdGlvbiBmb3IgdGhlbVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlW119IGFyciAtIGFyciBjb3B5IGRlc3RpbmF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFRleHR1cmVzIC0gbnVtYmVyIG9mIGNvcGllZCBlbGVtZW50c1xuICAgICAqL1xuICAgIEJhdGNoU3lzdGVtLnByb3RvdHlwZS5jb3B5Qm91bmRUZXh0dXJlcyA9IGZ1bmN0aW9uIChhcnIsIG1heFRleHR1cmVzKSB7XG4gICAgICAgIHZhciBib3VuZFRleHR1cmVzID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJvdW5kVGV4dHVyZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSBtYXhUZXh0dXJlcyAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICBhcnJbaV0gPSBib3VuZFRleHR1cmVzW2ldIHx8IG51bGw7XG4gICAgICAgICAgICBpZiAoYXJyW2ldKSB7XG4gICAgICAgICAgICAgICAgYXJyW2ldLl9iYXRjaExvY2F0aW9uID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQXNzaWducyBiYXRjaCBsb2NhdGlvbnMgdG8gdGV4dHVyZXMgaW4gYXJyYXkgYmFzZWQgb24gYm91bmRUZXh0dXJlcyBzdGF0ZS5cbiAgICAgKiBBbGwgdGV4dHVyZXMgaW4gdGV4QXJyYXkgc2hvdWxkIGhhdmUgYF9iYXRjaEVuYWJsZWQgPSBfYmF0Y2hJZGAsXG4gICAgICogYW5kIHRoZWlyIGNvdW50IHNob3VsZCBiZSBsZXNzIHRoYW4gYG1heFRleHR1cmVzYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXRjaFRleHR1cmVBcnJheX0gdGV4QXJyYXkgLSB0ZXh0dXJlcyB0byBib3VuZFxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZVtdfSBib3VuZFRleHR1cmVzIC0gY3VycmVudCBzdGF0ZSBvZiBib3VuZCB0ZXh0dXJlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiYXRjaElkIC0gbWFya2VyIGZvciBfYmF0Y2hFbmFibGVkIHBhcmFtIG9mIHRleHR1cmVzIGluIHRleEFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFRleHR1cmVzIC0gbnVtYmVyIG9mIHRleHR1cmUgbG9jYXRpb25zIHRvIG1hbmlwdWxhdGVcbiAgICAgKi9cbiAgICBCYXRjaFN5c3RlbS5wcm90b3R5cGUuYm91bmRBcnJheSA9IGZ1bmN0aW9uICh0ZXhBcnJheSwgYm91bmRUZXh0dXJlcywgYmF0Y2hJZCwgbWF4VGV4dHVyZXMpIHtcbiAgICAgICAgdmFyIGVsZW1lbnRzID0gdGV4QXJyYXkuZWxlbWVudHMsIGlkcyA9IHRleEFycmF5LmlkcywgY291bnQgPSB0ZXhBcnJheS5jb3VudDtcbiAgICAgICAgdmFyIGogPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZXggPSBlbGVtZW50c1tpXTtcbiAgICAgICAgICAgIHZhciBsb2MgPSB0ZXguX2JhdGNoTG9jYXRpb247XG4gICAgICAgICAgICBpZiAobG9jID49IDAgJiYgbG9jIDwgbWF4VGV4dHVyZXNcbiAgICAgICAgICAgICAgICAmJiBib3VuZFRleHR1cmVzW2xvY10gPT09IHRleCkge1xuICAgICAgICAgICAgICAgIGlkc1tpXSA9IGxvYztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChqIDwgbWF4VGV4dHVyZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgYm91bmQgPSBib3VuZFRleHR1cmVzW2pdO1xuICAgICAgICAgICAgICAgIGlmIChib3VuZCAmJiBib3VuZC5fYmF0Y2hFbmFibGVkID09PSBiYXRjaElkXG4gICAgICAgICAgICAgICAgICAgICYmIGJvdW5kLl9iYXRjaExvY2F0aW9uID09PSBqKSB7XG4gICAgICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlkc1tpXSA9IGo7XG4gICAgICAgICAgICAgICAgdGV4Ll9iYXRjaExvY2F0aW9uID0gajtcbiAgICAgICAgICAgICAgICBib3VuZFRleHR1cmVzW2pdID0gdGV4O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQmF0Y2hTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG52YXIgQ09OVEVYVF9VSURfQ09VTlRFUiA9IDA7XG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0aGUgY29udGV4dC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ29udGV4dFN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29udGV4dFN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDb250ZXh0U3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogRWl0aGVyIDEgb3IgMiB0byByZWZsZWN0IHRoZSBXZWJHTCB2ZXJzaW9uIGJlaW5nIHVzZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndlYkdMVmVyc2lvbiA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeHRlbnNpb25zIGJlaW5nIHVzZWRcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByb3BlcnR5IHtXRUJHTF9kcmF3X2J1ZmZlcnN9IGRyYXdCdWZmZXJzIC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7V0VCR0xfZGVwdGhfdGV4dHVyZX0gZGVwdGhUZXh0dXJlIC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T0VTX3RleHR1cmVfZmxvYXR9IGZsb2F0VGV4dHVyZSAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKiBAcHJvcGVydHkge1dFQkdMX2xvc2VfY29udGV4dH0gbG9zZUNvbnRleHQgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtPRVNfdmVydGV4X2FycmF5X29iamVjdH0gdmVydGV4QXJyYXlPYmplY3QgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWN9IGFuaXNvdHJvcGljRmlsdGVyaW5nIC0gV2ViR0wgdjEgYW5kIHYyIGV4dGVuc2lvblxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZXh0ZW5zaW9ucyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogRmVhdHVyZXMgc3VwcG9ydGVkIGJ5IGN1cnJlbnQgY29udGV4dFxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHVpbnQzMkluZGljZXMgLSBTdXBwb3J0cyBvZiAzMi1iaXQgaW5kaWNlcyBidWZmZXJcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN1cHBvcnRzID0ge1xuICAgICAgICAgICAgdWludDMySW5kaWNlczogZmFsc2UsXG4gICAgICAgIH07XG4gICAgICAgIC8vIEJpbmQgZnVuY3Rpb25zXG4gICAgICAgIF90aGlzLmhhbmRsZUNvbnRleHRMb3N0ID0gX3RoaXMuaGFuZGxlQ29udGV4dExvc3QuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZCA9IF90aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZC5iaW5kKF90aGlzKTtcbiAgICAgICAgcmVuZGVyZXIudmlldy5hZGRFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRsb3N0JywgX3RoaXMuaGFuZGxlQ29udGV4dExvc3QsIGZhbHNlKTtcbiAgICAgICAgcmVuZGVyZXIudmlldy5hZGRFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIF90aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZCwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb250ZXh0U3lzdGVtLnByb3RvdHlwZSwgXCJpc0xvc3RcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHRoZSBjb250ZXh0IGlzIGxvc3RcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAoIXRoaXMuZ2wgfHwgdGhpcy5nbC5pc0NvbnRleHRMb3N0KCkpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRoZSBjb250ZXh0IGNoYW5nZSBldmVudFxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIG5ldyB3ZWJnbCBjb250ZXh0XG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIChnbCkge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRCA9IENPTlRFWFRfVUlEX0NPVU5URVIrKztcbiAgICAgICAgLy8gcmVzdG9yZSBhIGNvbnRleHQgaWYgaXQgd2FzIHByZXZpb3VzbHkgbG9zdFxuICAgICAgICBpZiAoZ2wuaXNDb250ZXh0TG9zdCgpICYmIGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykpIHtcbiAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykucmVzdG9yZUNvbnRleHQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgY29udGV4dFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFdlYkdMIGNvbnRleHRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5pbml0RnJvbUNvbnRleHQgPSBmdW5jdGlvbiAoZ2wpIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLnZhbGlkYXRlQ29udGV4dChnbCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRCA9IENPTlRFWFRfVUlEX0NPVU5URVIrKztcbiAgICAgICAgdGhpcy5yZW5kZXJlci5ydW5uZXJzLmNvbnRleHRDaGFuZ2UuZW1pdChnbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGZyb20gY29udGV4dCBvcHRpb25zXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTENhbnZhc0VsZW1lbnQvZ2V0Q29udGV4dFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gY29udGV4dCBhdHRyaWJ1dGVzXG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuaW5pdEZyb21PcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5jcmVhdGVDb250ZXh0KHRoaXMucmVuZGVyZXIudmlldywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuaW5pdEZyb21Db250ZXh0KGdsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBXZWJHTCBDb250ZXh0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSB0aGUgY2FudmFzIGVsZW1lbnQgdGhhdCB3ZSB3aWxsIGdldCB0aGUgY29udGV4dCBmcm9tXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBBbiBvcHRpb25zIG9iamVjdCB0aGF0IGdldHMgcGFzc2VkIGluIHRvIHRoZSBjYW52YXMgZWxlbWVudCBjb250YWluaW5nIHRoZVxuICAgICAqICAgIGNvbnRleHQgYXR0cmlidXRlc1xuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxDYW52YXNFbGVtZW50L2dldENvbnRleHRcbiAgICAgKiBAcmV0dXJuIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IHRoZSBXZWJHTCBjb250ZXh0XG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuY3JlYXRlQ29udGV4dCA9IGZ1bmN0aW9uIChjYW52YXMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGdsO1xuICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA+PSBFTlYuV0VCR0wyKSB7XG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbDInLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2wpIHtcbiAgICAgICAgICAgIHRoaXMud2ViR0xWZXJzaW9uID0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMud2ViR0xWZXJzaW9uID0gMTtcbiAgICAgICAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgb3B0aW9ucylcbiAgICAgICAgICAgICAgICB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgb3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAoIWdsKSB7XG4gICAgICAgICAgICAgICAgLy8gZmFpbCwgbm90IGFibGUgdG8gZ2V0IGEgY29udGV4dFxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgV2ViR0wuIFRyeSB1c2luZyB0aGUgY2FudmFzIHJlbmRlcmVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLmdldEV4dGVuc2lvbnMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2w7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBdXRvLXBvcHVsYXRlIHRoZSBleHRlbnNpb25zXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuZ2V0RXh0ZW5zaW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gdGltZSB0byBzZXQgdXAgZGVmYXVsdCBleHRlbnNpb25zIHRoYXQgUGl4aSB1c2VzLlxuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgY29tbW9uID0ge1xuICAgICAgICAgICAgYW5pc290cm9waWNGaWx0ZXJpbmc6IGdsLmdldEV4dGVuc2lvbignRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJyksXG4gICAgICAgICAgICBmbG9hdFRleHR1cmVMaW5lYXI6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyJyksXG4gICAgICAgICAgICBzM3RjOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjJyksXG4gICAgICAgICAgICBzM3RjX3NSR0I6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYicpLFxuICAgICAgICAgICAgZXRjOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMnKSxcbiAgICAgICAgICAgIGV0YzE6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YzEnKSxcbiAgICAgICAgICAgIHB2cnRjOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YycpXG4gICAgICAgICAgICAgICAgfHwgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjJyksXG4gICAgICAgICAgICBhdGM6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2F0YycpLFxuICAgICAgICAgICAgYXN0YzogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfYXN0YycpXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLndlYkdMVmVyc2lvbiA9PT0gMSkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmV4dGVuc2lvbnMsIGNvbW1vbiwge1xuICAgICAgICAgICAgICAgIGRyYXdCdWZmZXJzOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2RyYXdfYnVmZmVycycpLFxuICAgICAgICAgICAgICAgIGRlcHRoVGV4dHVyZTogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kZXB0aF90ZXh0dXJlJyksXG4gICAgICAgICAgICAgICAgbG9zZUNvbnRleHQ6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JyksXG4gICAgICAgICAgICAgICAgdmVydGV4QXJyYXlPYmplY3Q6IGdsLmdldEV4dGVuc2lvbignT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKVxuICAgICAgICAgICAgICAgICAgICB8fCBnbC5nZXRFeHRlbnNpb24oJ01PWl9PRVNfdmVydGV4X2FycmF5X29iamVjdCcpXG4gICAgICAgICAgICAgICAgICAgIHx8IGdsLmdldEV4dGVuc2lvbignV0VCS0lUX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JyksXG4gICAgICAgICAgICAgICAgdWludDMyRWxlbWVudEluZGV4OiBnbC5nZXRFeHRlbnNpb24oJ09FU19lbGVtZW50X2luZGV4X3VpbnQnKSxcbiAgICAgICAgICAgICAgICAvLyBGbG9hdHMgYW5kIGhhbGYtZmxvYXRzXG4gICAgICAgICAgICAgICAgZmxvYXRUZXh0dXJlOiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2Zsb2F0JyksXG4gICAgICAgICAgICAgICAgZmxvYXRUZXh0dXJlTGluZWFyOiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2Zsb2F0X2xpbmVhcicpLFxuICAgICAgICAgICAgICAgIHRleHR1cmVIYWxmRmxvYXQ6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfaGFsZl9mbG9hdCcpLFxuICAgICAgICAgICAgICAgIHRleHR1cmVIYWxmRmxvYXRMaW5lYXI6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXInKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMud2ViR0xWZXJzaW9uID09PSAyKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZXh0ZW5zaW9ucywgY29tbW9uLCB7XG4gICAgICAgICAgICAgICAgLy8gRmxvYXRzIGFuZCBoYWxmLWZsb2F0c1xuICAgICAgICAgICAgICAgIGNvbG9yQnVmZmVyRmxvYXQ6IGdsLmdldEV4dGVuc2lvbignRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCcpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIGxvc3Qgd2ViZ2wgY29udGV4dFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7V2ViR0xDb250ZXh0RXZlbnR9IGV2ZW50IC0gVGhlIGNvbnRleHQgbG9zdCBldmVudC5cbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5oYW5kbGVDb250ZXh0TG9zdCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIHJlc3RvcmVkIHdlYmdsIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5oYW5kbGVDb250ZXh0UmVzdG9yZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucnVubmVycy5jb250ZXh0Q2hhbmdlLmVtaXQodGhpcy5nbCk7XG4gICAgfTtcbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmlldyA9IHRoaXMucmVuZGVyZXIudmlldztcbiAgICAgICAgLy8gcmVtb3ZlIGxpc3RlbmVyc1xuICAgICAgICB2aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLmhhbmRsZUNvbnRleHRMb3N0KTtcbiAgICAgICAgdmlldy5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkKTtcbiAgICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKG51bGwpO1xuICAgICAgICBpZiAodGhpcy5leHRlbnNpb25zLmxvc2VDb250ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmV4dGVuc2lvbnMubG9zZUNvbnRleHQubG9zZUNvbnRleHQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRoZSBwb3N0LXJlbmRlciBydW5uZXIgZXZlbnRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5wb3N0cmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5yZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbikge1xuICAgICAgICAgICAgdGhpcy5nbC5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZSBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gUmVuZGVyIGNvbnRleHRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS52YWxpZGF0ZUNvbnRleHQgPSBmdW5jdGlvbiAoZ2wpIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBnbC5nZXRDb250ZXh0QXR0cmlidXRlcygpO1xuICAgICAgICB2YXIgaXNXZWJHbDIgPSAnV2ViR0wyUmVuZGVyaW5nQ29udGV4dCcgaW4gc2VsZiAmJiBnbCBpbnN0YW5jZW9mIHNlbGYuV2ViR0wyUmVuZGVyaW5nQ29udGV4dDtcbiAgICAgICAgaWYgKGlzV2ViR2wyKSB7XG4gICAgICAgICAgICB0aGlzLndlYkdMVmVyc2lvbiA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhpcyBpcyBnb2luZyB0byBiZSBmYWlybHkgc2ltcGxlIGZvciBub3cuLiBidXQgYXQgbGVhc3Qgd2UgaGF2ZSByb29tIHRvIGdyb3chXG4gICAgICAgIGlmICghYXR0cmlidXRlcy5zdGVuY2lsKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuLCBuby1jb25zb2xlICovXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1Byb3ZpZGVkIFdlYkdMIGNvbnRleHQgZG9lcyBub3QgaGF2ZSBhIHN0ZW5jaWwgYnVmZmVyLCBtYXNrcyBtYXkgbm90IHJlbmRlciBjb3JyZWN0bHknKTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiwgbm8tY29uc29sZSAqL1xuICAgICAgICB9XG4gICAgICAgIHZhciBoYXN1aW50MzIgPSBpc1dlYkdsMiB8fCAhIWdsLmdldEV4dGVuc2lvbignT0VTX2VsZW1lbnRfaW5kZXhfdWludCcpO1xuICAgICAgICB0aGlzLnN1cHBvcnRzLnVpbnQzMkluZGljZXMgPSBoYXN1aW50MzI7XG4gICAgICAgIGlmICghaGFzdWludDMyKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuLCBuby1jb25zb2xlICovXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1Byb3ZpZGVkIFdlYkdMIGNvbnRleHQgZG9lcyBub3Qgc3VwcG9ydCAzMiBpbmRleCBidWZmZXIsIGNvbXBsZXggZ3JhcGhpY3MgbWF5IG5vdCByZW5kZXIgY29ycmVjdGx5Jyk7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4sIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENvbnRleHRTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIEludGVybmFsIGZyYW1lYnVmZmVyIGZvciBXZWJHTCBjb250ZXh0XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHTEZyYW1lYnVmZmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEdMRnJhbWVidWZmZXIoZnJhbWVidWZmZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBmcmFtZWJ1ZmZlclxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTEZyYW1lYnVmZmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlciA9IGZyYW1lYnVmZmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogc3RlbmNpbCtkZXB0aCAsIHVzdWFsbHkgY29zdHMgMzJiaXRzIHBlciBwaXhlbFxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmJ1ZmZlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RlbmNpbCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBsYXRlc3Qga25vd24gdmVyc2lvbiBvZiBmcmFtZWJ1ZmZlclxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlJZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBsYXRlc3Qga25vd24gdmVyc2lvbiBvZiBmcmFtZWJ1ZmZlciBmb3JtYXRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGxhdGVzdCBrbm93biB2ZXJzaW9uIG9mIGZyYW1lYnVmZmVyIHNpemVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5U2l6ZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRlY3RlZCBBQSBzYW1wbGVzIG51bWJlclxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1TQUFfUVVBTElUWX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubXVsdGlzYW1wbGUgPSBNU0FBX1FVQUxJVFkuTk9ORTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluIGNhc2UgTVNBQSwgd2UgdXNlIHRoaXMgUmVuZGVyYnVmZmVyIGluc3RlYWQgb2YgY29sb3JUZXh0dXJlc1swXSB3aGVuIHdlIHdyaXRlIGluZm9cbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJidWZmZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1zYWFCdWZmZXIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW4gY2FzZSB3ZSB1c2UgTVNBQSwgdGhpcyBpcyBhY3R1YWwgZnJhbWVidWZmZXIgdGhhdCBoYXMgY29sb3JUZXh0dXJlc1swXVxuICAgICAgICAgKiBUaGUgY29udGVudHMgb2YgdGhhdCBmcmFtZWJ1ZmZlciBhcmUgcmVhZCB3aGVuIHdlIHVzZSB0aGF0IHJlbmRlclRleHR1cmUgaW4gc3ByaXRlc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZyYW1lYnVmZmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ibGl0RnJhbWVidWZmZXIgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gR0xGcmFtZWJ1ZmZlcjtcbn0oKSk7XG5cbnZhciB0ZW1wUmVjdGFuZ2xlID0gbmV3IFJlY3RhbmdsZSgpO1xuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgZnJhbWVidWZmZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBGcmFtZWJ1ZmZlclN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRnJhbWVidWZmZXJTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRnJhbWVidWZmZXJTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgbWFuYWdlZCBmcmFtZWJ1ZmZlcnNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GcmFtZWJ1ZmZlcltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZyYW1lYnVmZmVyIHZhbHVlIHRoYXQgc2hvd3MgdGhhdCB3ZSBkb24ndCBrbm93IHdoYXQgaXMgYm91bmRcbiAgICAgICAgICogQG1lbWJlciB7RnJhbWVidWZmZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudW5rbm93bkZyYW1lYnVmZmVyID0gbmV3IEZyYW1lYnVmZmVyKDEwLCAxMCk7XG4gICAgICAgIF90aGlzLm1zYWFTYW1wbGVzID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLnVua25vd25GcmFtZWJ1ZmZlcjtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgdGhpcy5oYXNNUlQgPSB0cnVlO1xuICAgICAgICB0aGlzLndyaXRlRGVwdGhUZXh0dXJlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kaXNwb3NlQWxsKHRydWUpO1xuICAgICAgICAvLyB3ZWJnbDJcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIuY29udGV4dC53ZWJHTFZlcnNpb24gPT09IDEpIHtcbiAgICAgICAgICAgIC8vIHdlYmdsIDEhXG4gICAgICAgICAgICB2YXIgbmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb25fMSA9IHRoaXMucmVuZGVyZXIuY29udGV4dC5leHRlbnNpb25zLmRyYXdCdWZmZXJzO1xuICAgICAgICAgICAgdmFyIG5hdGl2ZURlcHRoVGV4dHVyZUV4dGVuc2lvbiA9IHRoaXMucmVuZGVyZXIuY29udGV4dC5leHRlbnNpb25zLmRlcHRoVGV4dHVyZTtcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID09PSBFTlYuV0VCR0xfTEVHQUNZKSB7XG4gICAgICAgICAgICAgICAgbmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb25fMSA9IG51bGw7XG4gICAgICAgICAgICAgICAgbmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbl8xKSB7XG4gICAgICAgICAgICAgICAgZ2wuZHJhd0J1ZmZlcnMgPSBmdW5jdGlvbiAoYWN0aXZlVGV4dHVyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uXzEuZHJhd0J1ZmZlcnNXRUJHTChhY3RpdmVUZXh0dXJlcyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzTVJUID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZ2wuZHJhd0J1ZmZlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVtcHR5XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53cml0ZURlcHRoVGV4dHVyZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gV2ViR0wyXG4gICAgICAgICAgICAvLyBjYWNoZSBwb3NzaWJsZSBNU0FBIHNhbXBsZXNcbiAgICAgICAgICAgIHRoaXMubXNhYVNhbXBsZXMgPSBnbC5nZXRJbnRlcm5hbGZvcm1hdFBhcmFtZXRlcihnbC5SRU5ERVJCVUZGRVIsIGdsLlJHQkE4LCBnbC5TQU1QTEVTKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQmluZCBhIGZyYW1lYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IFtmcmFtZWJ1ZmZlcl1cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZnJhbWVdIC0gZnJhbWUsIGRlZmF1bHQgaXMgZnJhbWVidWZmZXIgc2l6ZVxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKGZyYW1lYnVmZmVyLCBmcmFtZSkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBpZiAoZnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgIC8vIFRPRE8gY2FjaGluZyBsYXllciFcbiAgICAgICAgICAgIHZhciBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXSB8fCB0aGlzLmluaXRGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSBmcmFtZWJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IGZyYW1lYnVmZmVyO1xuICAgICAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZmJvLmZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBhbGwgdGV4dHVyZXMgYXJlIHVuYm91bmQuLlxuICAgICAgICAgICAgLy8gbm93IGNoZWNrIGZvciB1cGRhdGVzLi4uXG4gICAgICAgICAgICBpZiAoZmJvLmRpcnR5SWQgIT09IGZyYW1lYnVmZmVyLmRpcnR5SWQpIHtcbiAgICAgICAgICAgICAgICBmYm8uZGlydHlJZCA9IGZyYW1lYnVmZmVyLmRpcnR5SWQ7XG4gICAgICAgICAgICAgICAgaWYgKGZiby5kaXJ0eUZvcm1hdCAhPT0gZnJhbWVidWZmZXIuZGlydHlGb3JtYXQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmJvLmRpcnR5Rm9ybWF0ID0gZnJhbWVidWZmZXIuZGlydHlGb3JtYXQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRnJhbWVidWZmZXIoZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChmYm8uZGlydHlTaXplICE9PSBmcmFtZWJ1ZmZlci5kaXJ0eVNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgZmJvLmRpcnR5U2l6ZSA9IGZyYW1lYnVmZmVyLmRpcnR5U2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNpemVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRleCA9IGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXNbaV07XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLnVuYmluZCh0ZXgucGFyZW50VGV4dHVyZUFycmF5IHx8IHRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLnVuYmluZChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZyYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaWV3cG9ydChmcmFtZS54LCBmcmFtZS55LCBmcmFtZS53aWR0aCwgZnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoMCwgMCwgZnJhbWVidWZmZXIud2lkdGgsIGZyYW1lYnVmZmVyLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZyYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaWV3cG9ydChmcmFtZS54LCBmcmFtZS55LCBmcmFtZS53aWR0aCwgZnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoMCwgMCwgdGhpcy5yZW5kZXJlci53aWR0aCwgdGhpcy5yZW5kZXJlci5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dCdzIHZpZXdwb3J0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHggLSBYIHBvc2l0aW9uIG9mIHZpZXdwb3J0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgLSBZIHBvc2l0aW9uIG9mIHZpZXdwb3J0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoIC0gV2lkdGggb2Ygdmlld3BvcnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHZpZXdwb3J0XG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLnNldFZpZXdwb3J0ID0gZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdmFyIHYgPSB0aGlzLnZpZXdwb3J0O1xuICAgICAgICBpZiAodi53aWR0aCAhPT0gd2lkdGggfHwgdi5oZWlnaHQgIT09IGhlaWdodCB8fCB2LnggIT09IHggfHwgdi55ICE9PSB5KSB7XG4gICAgICAgICAgICB2LnggPSB4O1xuICAgICAgICAgICAgdi55ID0geTtcbiAgICAgICAgICAgIHYud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIHYuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5nbC52aWV3cG9ydCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZSwgXCJzaXplXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgc2l6ZSBvZiB0aGUgY3VycmVudCB3aWR0aCBhbmQgaGVpZ2h0LiBSZXR1cm5zIG9iamVjdCB3aXRoIGB3aWR0aGAgYW5kIGBoZWlnaHRgIHZhbHVlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gc3RvcmUgdGVtcFxuICAgICAgICAgICAgICAgIHJldHVybiB7IHg6IDAsIHk6IDAsIHdpZHRoOiB0aGlzLmN1cnJlbnQud2lkdGgsIGhlaWdodDogdGhpcy5jdXJyZW50LmhlaWdodCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCwgd2lkdGg6IHRoaXMucmVuZGVyZXIud2lkdGgsIGhlaWdodDogdGhpcy5yZW5kZXJlci5oZWlnaHQgfTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSBjb2xvciBvZiB0aGUgY29udGV4dFxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHIgLSBSZWQgdmFsdWUgZnJvbSAwIHRvIDFcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZyAtIEdyZWVuIHZhbHVlIGZyb20gMCB0byAxXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGIgLSBCbHVlIHZhbHVlIGZyb20gMCB0byAxXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGEgLSBBbHBoYSB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAqIEBwYXJhbSB7UElYSS5CVUZGRVJfQklUU30gW21hc2s9QlVGRkVSX0JJVFMuQ09MT1IgfCBCVUZGRVJfQklUUy5ERVBUSF0gLSBCaXR3aXNlIE9SIG9mIG1hc2tzXG4gICAgICogIHRoYXQgaW5kaWNhdGUgdGhlIGJ1ZmZlcnMgdG8gYmUgY2xlYXJlZCwgYnkgZGVmYXVsdCBDT0xPUiBhbmQgREVQVEggYnVmZmVycy5cbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAociwgZywgYiwgYSwgbWFzaykge1xuICAgICAgICBpZiAobWFzayA9PT0gdm9pZCAwKSB7IG1hc2sgPSBCVUZGRVJfQklUUy5DT0xPUiB8IEJVRkZFUl9CSVRTLkRFUFRIOyB9XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIC8vIFRPRE8gY2xlYXIgY29sb3IgY2FuIGJlIHNldCBvbmx5IG9uZSByaWdodD9cbiAgICAgICAgZ2wuY2xlYXJDb2xvcihyLCBnLCBiLCBhKTtcbiAgICAgICAgZ2wuY2xlYXIobWFzayk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGZyYW1lYnVmZmVyIGZvciB0aGlzIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyXG4gICAgICogQHJldHVybnMge1BJWEkuR0xGcmFtZWJ1ZmZlcn0gY3JlYXRlZCBHTEZyYW1lYnVmZmVyXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmluaXRGcmFtZWJ1ZmZlciA9IGZ1bmN0aW9uIChmcmFtZWJ1ZmZlcikge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgZmJvID0gbmV3IEdMRnJhbWVidWZmZXIoZ2wuY3JlYXRlRnJhbWVidWZmZXIoKSk7XG4gICAgICAgIGZiby5tdWx0aXNhbXBsZSA9IHRoaXMuZGV0ZWN0U2FtcGxlcyhmcmFtZWJ1ZmZlci5tdWx0aXNhbXBsZSk7XG4gICAgICAgIGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdID0gZmJvO1xuICAgICAgICB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMucHVzaChmcmFtZWJ1ZmZlcik7XG4gICAgICAgIGZyYW1lYnVmZmVyLmRpc3Bvc2VSdW5uZXIuYWRkKHRoaXMpO1xuICAgICAgICByZXR1cm4gZmJvO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzaXplIHRoZSBmcmFtZWJ1ZmZlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUucmVzaXplRnJhbWVidWZmZXIgPSBmdW5jdGlvbiAoZnJhbWVidWZmZXIpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICBpZiAoZmJvLnN0ZW5jaWwpIHtcbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBmYm8uc3RlbmNpbCk7XG4gICAgICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTCwgZnJhbWVidWZmZXIud2lkdGgsIGZyYW1lYnVmZmVyLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbG9yVGV4dHVyZXMgPSBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbG9yVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS5iaW5kKGNvbG9yVGV4dHVyZXNbaV0sIDApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS5iaW5kKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSwgMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgZnJhbWVidWZmZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZUZyYW1lYnVmZmVyID0gZnVuY3Rpb24gKGZyYW1lYnVmZmVyKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgLy8gYmluZCB0aGUgY29sb3IgdGV4dHVyZVxuICAgICAgICB2YXIgY29sb3JUZXh0dXJlcyA9IGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXM7XG4gICAgICAgIHZhciBjb3VudCA9IGNvbG9yVGV4dHVyZXMubGVuZ3RoO1xuICAgICAgICBpZiAoIWdsLmRyYXdCdWZmZXJzKSB7XG4gICAgICAgICAgICBjb3VudCA9IE1hdGgubWluKGNvdW50LCAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmJvLm11bHRpc2FtcGxlID4gMSkge1xuICAgICAgICAgICAgZmJvLm1zYWFCdWZmZXIgPSBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBmYm8ubXNhYUJ1ZmZlcik7XG4gICAgICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoZ2wuUkVOREVSQlVGRkVSLCBmYm8ubXVsdGlzYW1wbGUsIGdsLlJHQkE4LCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuUkVOREVSQlVGRkVSLCBmYm8ubXNhYUJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFjdGl2ZVRleHR1cmVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPT09IDAgJiYgZmJvLm11bHRpc2FtcGxlID4gMSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzW2ldO1xuICAgICAgICAgICAgdmFyIHBhcmVudFRleHR1cmUgPSB0ZXh0dXJlLnBhcmVudFRleHR1cmVBcnJheSB8fCB0ZXh0dXJlO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQocGFyZW50VGV4dHVyZSwgMCk7XG4gICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAgKyBpLCB0ZXh0dXJlLnRhcmdldCwgcGFyZW50VGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlLCAwKTtcbiAgICAgICAgICAgIGFjdGl2ZVRleHR1cmVzLnB1c2goZ2wuQ09MT1JfQVRUQUNITUVOVDAgKyBpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWN0aXZlVGV4dHVyZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgZ2wuZHJhd0J1ZmZlcnMoYWN0aXZlVGV4dHVyZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpIHtcbiAgICAgICAgICAgIHZhciB3cml0ZURlcHRoVGV4dHVyZSA9IHRoaXMud3JpdGVEZXB0aFRleHR1cmU7XG4gICAgICAgICAgICBpZiAod3JpdGVEZXB0aFRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVwdGhUZXh0dXJlID0gZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS5iaW5kKGRlcHRoVGV4dHVyZSwgMCk7XG4gICAgICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkRFUFRIX0FUVEFDSE1FTlQsIGdsLlRFWFRVUkVfMkQsIGRlcHRoVGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWZiby5zdGVuY2lsICYmIChmcmFtZWJ1ZmZlci5zdGVuY2lsIHx8IGZyYW1lYnVmZmVyLmRlcHRoKSkge1xuICAgICAgICAgICAgZmJvLnN0ZW5jaWwgPSBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBmYm8uc3RlbmNpbCk7XG4gICAgICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTCwgZnJhbWVidWZmZXIud2lkdGgsIGZyYW1lYnVmZmVyLmhlaWdodCk7XG4gICAgICAgICAgICAvLyBUT0RPLi4gdGhpcyBpcyBkZXB0aCBBTkQgc3RlbmNpbD9cbiAgICAgICAgICAgIGlmICghZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKSB7IC8vIHlvdSBjYW4ndCBoYXZlIGJvdGgsIHNvIG9uZSBzaG91bGQgdGFrZSBwcmlvcml0eSBpZiBlbmFibGVkXG4gICAgICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCwgZ2wuUkVOREVSQlVGRkVSLCBmYm8uc3RlbmNpbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVjdHMgbnVtYmVyIG9mIHNhbXBsZXMgdGhhdCBpcyBub3QgbW9yZSB0aGFuIGEgcGFyYW0gYnV0IGFzIGNsb3NlIHRvIGl0IGFzIHBvc3NpYmxlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTVNBQV9RVUFMSVRZfSBzYW1wbGVzIC0gbnVtYmVyIG9mIHNhbXBsZXNcbiAgICAgKiBAcmV0dXJucyB7UElYSS5NU0FBX1FVQUxJVFl9IC0gcmVjb21tZW5kZWQgbnVtYmVyIG9mIHNhbXBsZXNcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuZGV0ZWN0U2FtcGxlcyA9IGZ1bmN0aW9uIChzYW1wbGVzKSB7XG4gICAgICAgIHZhciBtc2FhU2FtcGxlcyA9IHRoaXMubXNhYVNhbXBsZXM7XG4gICAgICAgIHZhciByZXMgPSBNU0FBX1FVQUxJVFkuTk9ORTtcbiAgICAgICAgaWYgKHNhbXBsZXMgPD0gMSB8fCBtc2FhU2FtcGxlcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1zYWFTYW1wbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobXNhYVNhbXBsZXNbaV0gPD0gc2FtcGxlcykge1xuICAgICAgICAgICAgICAgIHJlcyA9IG1zYWFTYW1wbGVzW2ldO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyZXMgPT09IDEpIHtcbiAgICAgICAgICAgIHJlcyA9IE1TQUFfUVVBTElUWS5OT05FO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPbmx5IHdvcmtzIHdpdGggV2ViR0wyXG4gICAgICpcbiAgICAgKiBibGl0cyBmcmFtZWJ1ZmZlciB0byBhbm90aGVyIG9mIHRoZSBzYW1lIG9yIGJpZ2dlciBzaXplXG4gICAgICogYWZ0ZXIgdGhhdCB0YXJnZXQgZnJhbWVidWZmZXIgaXMgYm91bmRcbiAgICAgKlxuICAgICAqIEZhaWxzIHdpdGggV2ViR0wgd2FybmluZyBpZiBibGl0cyBtdWx0aXNhbXBsZSBmcmFtZWJ1ZmZlciB0byBkaWZmZXJlbnQgc2l6ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZyYW1lYnVmZmVyfSBbZnJhbWVidWZmZXJdIC0gYnkgZGVmYXVsdCBpdCBibGl0cyBcImludG8gaXRzZWxmXCIsIGZyb20gcmVuZGVyQnVmZmVyIHRvIHRleHR1cmUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3NvdXJjZVBpeGVsc10gLSBzb3VyY2UgcmVjdGFuZ2xlIGluIHBpeGVsc1xuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtkZXN0UGl4ZWxzXSAtIGRlc3QgcmVjdGFuZ2xlIGluIHBpeGVscywgYXNzdW1lZCB0byBiZSB0aGUgc2FtZSBhcyBzb3VyY2VQaXhlbHNcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuYmxpdCA9IGZ1bmN0aW9uIChmcmFtZWJ1ZmZlciwgc291cmNlUGl4ZWxzLCBkZXN0UGl4ZWxzKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGN1cnJlbnQgPSBfYS5jdXJyZW50LCByZW5kZXJlciA9IF9hLnJlbmRlcmVyLCBnbCA9IF9hLmdsLCBDT05URVhUX1VJRCA9IF9hLkNPTlRFWFRfVUlEO1xuICAgICAgICBpZiAocmVuZGVyZXIuY29udGV4dC53ZWJHTFZlcnNpb24gIT09IDIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmJvID0gY3VycmVudC5nbEZyYW1lYnVmZmVyc1tDT05URVhUX1VJRF07XG4gICAgICAgIGlmICghZmJvKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmcmFtZWJ1ZmZlcikge1xuICAgICAgICAgICAgaWYgKGZiby5tdWx0aXNhbXBsZSA8PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFmYm8uYmxpdEZyYW1lYnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgZmJvLmJsaXRGcmFtZWJ1ZmZlciA9IG5ldyBGcmFtZWJ1ZmZlcihjdXJyZW50LndpZHRoLCBjdXJyZW50LmhlaWdodCk7XG4gICAgICAgICAgICAgICAgZmJvLmJsaXRGcmFtZWJ1ZmZlci5hZGRDb2xvclRleHR1cmUoMCwgY3VycmVudC5jb2xvclRleHR1cmVzWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZyYW1lYnVmZmVyID0gZmJvLmJsaXRGcmFtZWJ1ZmZlcjtcbiAgICAgICAgICAgIGZyYW1lYnVmZmVyLndpZHRoID0gY3VycmVudC53aWR0aDtcbiAgICAgICAgICAgIGZyYW1lYnVmZmVyLmhlaWdodCA9IGN1cnJlbnQuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGlmICghc291cmNlUGl4ZWxzKSB7XG4gICAgICAgICAgICBzb3VyY2VQaXhlbHMgPSB0ZW1wUmVjdGFuZ2xlO1xuICAgICAgICAgICAgc291cmNlUGl4ZWxzLndpZHRoID0gY3VycmVudC53aWR0aDtcbiAgICAgICAgICAgIHNvdXJjZVBpeGVscy5oZWlnaHQgPSBjdXJyZW50LmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRlc3RQaXhlbHMpIHtcbiAgICAgICAgICAgIGRlc3RQaXhlbHMgPSBzb3VyY2VQaXhlbHM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNhbWVTaXplID0gc291cmNlUGl4ZWxzLndpZHRoID09PSBkZXN0UGl4ZWxzLndpZHRoICYmIHNvdXJjZVBpeGVscy5oZWlnaHQgPT09IGRlc3RQaXhlbHMuaGVpZ2h0O1xuICAgICAgICB0aGlzLmJpbmQoZnJhbWVidWZmZXIpO1xuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuUkVBRF9GUkFNRUJVRkZFUiwgZmJvLmZyYW1lYnVmZmVyKTtcbiAgICAgICAgZ2wuYmxpdEZyYW1lYnVmZmVyKHNvdXJjZVBpeGVscy54LCBzb3VyY2VQaXhlbHMueSwgc291cmNlUGl4ZWxzLndpZHRoLCBzb3VyY2VQaXhlbHMuaGVpZ2h0LCBkZXN0UGl4ZWxzLngsIGRlc3RQaXhlbHMueSwgZGVzdFBpeGVscy53aWR0aCwgZGVzdFBpeGVscy5oZWlnaHQsIGdsLkNPTE9SX0JVRkZFUl9CSVQsIHNhbWVTaXplID8gZ2wuTkVBUkVTVCA6IGdsLkxJTkVBUik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBmcmFtZWJ1ZmZlclxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXIgLSBmcmFtZWJ1ZmZlciB0aGF0IGhhcyB0byBiZSBkaXNwb3NlZCBvZlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSAtIElmIGNvbnRleHQgd2FzIGxvc3QsIHdlIHN1cHByZXNzIGFsbCBkZWxldGUgZnVuY3Rpb24gY2FsbHNcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuZGlzcG9zZUZyYW1lYnVmZmVyID0gZnVuY3Rpb24gKGZyYW1lYnVmZmVyLCBjb250ZXh0TG9zdCkge1xuICAgICAgICB2YXIgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGlmICghZmJvKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMuaW5kZXhPZihmcmFtZWJ1ZmZlcik7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICBmcmFtZWJ1ZmZlci5kaXNwb3NlUnVubmVyLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgaWYgKCFjb250ZXh0TG9zdCkge1xuICAgICAgICAgICAgZ2wuZGVsZXRlRnJhbWVidWZmZXIoZmJvLmZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgIGlmIChmYm8uc3RlbmNpbCkge1xuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVJlbmRlcmJ1ZmZlcihmYm8uc3RlbmNpbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIGFsbCBmcmFtZWJ1ZmZlcnMsIGJ1dCBub3QgdGV4dHVyZXMgYm91bmQgdG8gdGhlbVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSAtIElmIGNvbnRleHQgd2FzIGxvc3QsIHdlIHN1cHByZXNzIGFsbCBkZWxldGUgZnVuY3Rpb24gY2FsbHNcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuZGlzcG9zZUFsbCA9IGZ1bmN0aW9uIChjb250ZXh0TG9zdCkge1xuICAgICAgICB2YXIgbGlzdCA9IHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycztcbiAgICAgICAgdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlRnJhbWVidWZmZXIobGlzdFtpXSwgY29udGV4dExvc3QpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGb3JjaW5nIGNyZWF0aW9uIG9mIHN0ZW5jaWwgYnVmZmVyIGZvciBjdXJyZW50IGZyYW1lYnVmZmVyLCBpZiBpdCB3YXNuJ3QgZG9uZSBiZWZvcmUuXG4gICAgICogVXNlZCBieSBNYXNrU3lzdGVtLCB3aGVuIGl0cyB0aW1lIHRvIHVzZSBzdGVuY2lsIG1hc2sgZm9yIEdyYXBoaWNzIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJdHMgYW4gYWx0ZXJuYXRpdmUgZm9yIHB1YmxpYyBsYXp5IGBmcmFtZWJ1ZmZlci5lbmFibGVTdGVuY2lsYCwgaW4gY2FzZSB3ZSBuZWVkIHN0ZW5jaWwgd2l0aG91dCByZWJpbmQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5mb3JjZVN0ZW5jaWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBmcmFtZWJ1ZmZlciA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgaWYgKCFmcmFtZWJ1ZmZlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgaWYgKCFmYm8gfHwgZmJvLnN0ZW5jaWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmcmFtZWJ1ZmZlci5lbmFibGVTdGVuY2lsKCk7XG4gICAgICAgIHZhciB3ID0gZnJhbWVidWZmZXIud2lkdGg7XG4gICAgICAgIHZhciBoID0gZnJhbWVidWZmZXIuaGVpZ2h0O1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgc3RlbmNpbCA9IGdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO1xuICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgc3RlbmNpbCk7XG4gICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMLCB3LCBoKTtcbiAgICAgICAgZmJvLnN0ZW5jaWwgPSBzdGVuY2lsO1xuICAgICAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5ULCBnbC5SRU5ERVJCVUZGRVIsIHN0ZW5jaWwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogcmVzZXRzIGZyYW1lYnVmZmVyIHN0b3JlZCBzdGF0ZSwgYmluZHMgc2NyZWVuIGZyYW1lYnVmZmVyXG4gICAgICpcbiAgICAgKiBzaG91bGQgYmUgY2FsbGVkIGJlZm9yZSByZW5kZXJUZXh0dXJlIHJlc2V0KClcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMudW5rbm93bkZyYW1lYnVmZmVyO1xuICAgICAgICB0aGlzLnZpZXdwb3J0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIEZyYW1lYnVmZmVyU3lzdGVtO1xufShTeXN0ZW0pKTtcblxudmFyIEdMQnVmZmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEdMQnVmZmVyKGJ1ZmZlcikge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlciB8fCBudWxsO1xuICAgICAgICB0aGlzLnVwZGF0ZUlEID0gLTE7XG4gICAgICAgIHRoaXMuYnl0ZUxlbmd0aCA9IC0xO1xuICAgICAgICB0aGlzLnJlZkNvdW50ID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIEdMQnVmZmVyO1xufSgpKTtcblxudmFyIGJ5dGVTaXplTWFwJDEgPSB7IDUxMjY6IDQsIDUxMjM6IDIsIDUxMjE6IDEgfTtcbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIGdlb21ldHJ5LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHZW9tZXRyeVN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoR2VvbWV0cnlTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gR2VvbWV0cnlTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9hY3RpdmVHZW9tZXRyeSA9IG51bGw7XG4gICAgICAgIF90aGlzLl9hY3RpdmVWYW8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHdlIGhhcyBgKl92ZXJ0ZXhfYXJyYXlfb2JqZWN0YCBleHRlbnNpb25cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5oYXNWYW8gPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIGhhcyBgQU5HTEVfaW5zdGFuY2VkX2FycmF5c2AgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGFzSW5zdGFuY2UgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHN1cHBvcnQgYGdsLlVOU0lHTkVEX0lOVGAgaW4gYGdsLmRyYXdFbGVtZW50c2Agb3IgYGdsLmRyYXdFbGVtZW50c0luc3RhbmNlZGBcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYW5Vc2VVSW50MzJFbGVtZW50SW5kZXggPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlIGZvciBhbGwgZ2VvbWV0cmllcyBieSBpZCwgdXNlZCBpbiBjYXNlIHJlbmRlcmVyIGdldHMgZGVzdHJveWVkIG9yIGZvciBwcm9maWxpbmdcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hbmFnZWRHZW9tZXRyaWVzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZSBmb3IgYWxsIGJ1ZmZlcnMgYnkgaWQsIHVzZWQgaW4gY2FzZSByZW5kZXJlciBnZXRzIGRlc3Ryb3llZCBvciBmb3IgcHJvZmlsaW5nXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYW5hZ2VkQnVmZmVycyA9IHt9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2VBbGwodHJ1ZSk7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMucmVuZGVyZXIuY29udGV4dDtcbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG4gICAgICAgIC8vIHdlYmdsMlxuICAgICAgICBpZiAoY29udGV4dC53ZWJHTFZlcnNpb24gIT09IDIpIHtcbiAgICAgICAgICAgIC8vIHdlYmdsIDEhXG4gICAgICAgICAgICB2YXIgbmF0aXZlVmFvRXh0ZW5zaW9uXzEgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQuZXh0ZW5zaW9ucy52ZXJ0ZXhBcnJheU9iamVjdDtcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID09PSBFTlYuV0VCR0xfTEVHQUNZKSB7XG4gICAgICAgICAgICAgICAgbmF0aXZlVmFvRXh0ZW5zaW9uXzEgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5hdGl2ZVZhb0V4dGVuc2lvbl8xKSB7XG4gICAgICAgICAgICAgICAgZ2wuY3JlYXRlVmVydGV4QXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuYXRpdmVWYW9FeHRlbnNpb25fMS5jcmVhdGVWZXJ0ZXhBcnJheU9FUygpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZ2wuYmluZFZlcnRleEFycmF5ID0gZnVuY3Rpb24gKHZhbykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmF0aXZlVmFvRXh0ZW5zaW9uXzEuYmluZFZlcnRleEFycmF5T0VTKHZhbyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBnbC5kZWxldGVWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICh2YW8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZVZhb0V4dGVuc2lvbl8xLmRlbGV0ZVZlcnRleEFycmF5T0VTKHZhbyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzVmFvID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZ2wuY3JlYXRlVmVydGV4QXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZ2wuYmluZFZlcnRleEFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVZlcnRleEFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb250ZXh0LndlYkdMVmVyc2lvbiAhPT0gMikge1xuICAgICAgICAgICAgdmFyIGluc3RhbmNlRXh0XzEgPSBnbC5nZXRFeHRlbnNpb24oJ0FOR0xFX2luc3RhbmNlZF9hcnJheXMnKTtcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZUV4dF8xKSB7XG4gICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliRGl2aXNvciA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZUV4dF8xLnZlcnRleEF0dHJpYkRpdmlzb3JBTkdMRShhLCBiKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50c0luc3RhbmNlZCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZUV4dF8xLmRyYXdFbGVtZW50c0luc3RhbmNlZEFOR0xFKGEsIGIsIGMsIGQsIGUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZ2wuZHJhd0FycmF5c0luc3RhbmNlZCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZUV4dF8xLmRyYXdBcnJheXNJbnN0YW5jZWRBTkdMRShhLCBiLCBjLCBkKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNJbnN0YW5jZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FuVXNlVUludDMyRWxlbWVudEluZGV4ID0gY29udGV4dC53ZWJHTFZlcnNpb24gPT09IDIgfHwgISFjb250ZXh0LmV4dGVuc2lvbnMudWludDMyRWxlbWVudEluZGV4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQmluZHMgZ2VvbWV0cnkgc28gdGhhdCBpcyBjYW4gYmUgZHJhd24uIENyZWF0aW5nIGEgVmFvIGlmIHJlcXVpcmVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gaW5zdGFuY2Ugb2YgZ2VvbWV0cnkgdG8gYmluZFxuICAgICAqIEBwYXJhbSB7UElYSS5TaGFkZXJ9IFtzaGFkZXJdIC0gaW5zdGFuY2Ugb2Ygc2hhZGVyIHRvIHVzZSB2YW8gZm9yXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoZ2VvbWV0cnksIHNoYWRlcikge1xuICAgICAgICBzaGFkZXIgPSBzaGFkZXIgfHwgdGhpcy5yZW5kZXJlci5zaGFkZXIuc2hhZGVyO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICAvLyBub3Qgc3VyZSB0aGUgYmVzdCB3YXkgdG8gYWRkcmVzcyB0aGlzLi5cbiAgICAgICAgLy8gY3VycmVudGx5IGRpZmZlcmVudCBzaGFkZXJzIHJlcXVpcmUgZGlmZmVyZW50IFZBT3MgZm9yIHRoZSBzYW1lIGdlb21ldHJ5XG4gICAgICAgIC8vIFN0aWxsIG11bGxpbmcgb3ZlciB0aGUgYmVzdCB3YXkgdG8gc29sdmUgdGhpcyBvbmUuLlxuICAgICAgICAvLyB3aWxsIGxpa2VseSBuZWVkIHRvIG1vZGlmeSB0aGUgc2hhZGVyIGF0dHJpYnV0ZSBsb2NhdGlvbnMgYXQgcnVuIHRpbWUhXG4gICAgICAgIHZhciB2YW9zID0gZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciBpbmNSZWZDb3VudCA9IGZhbHNlO1xuICAgICAgICBpZiAoIXZhb3MpIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlZEdlb21ldHJpZXNbZ2VvbWV0cnkuaWRdID0gZ2VvbWV0cnk7XG4gICAgICAgICAgICBnZW9tZXRyeS5kaXNwb3NlUnVubmVyLmFkZCh0aGlzKTtcbiAgICAgICAgICAgIGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdID0gdmFvcyA9IHt9O1xuICAgICAgICAgICAgaW5jUmVmQ291bnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YW8gPSB2YW9zW3NoYWRlci5wcm9ncmFtLmlkXSB8fCB0aGlzLmluaXRHZW9tZXRyeVZhbyhnZW9tZXRyeSwgc2hhZGVyLnByb2dyYW0sIGluY1JlZkNvdW50KTtcbiAgICAgICAgdGhpcy5fYWN0aXZlR2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVZhbyAhPT0gdmFvKSB7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSB2YW87XG4gICAgICAgICAgICBpZiAodGhpcy5oYXNWYW8pIHtcbiAgICAgICAgICAgICAgICBnbC5iaW5kVmVydGV4QXJyYXkodmFvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVWYW8oZ2VvbWV0cnksIHNoYWRlci5wcm9ncmFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPIC0gb3B0aW1pc2UgbGF0ZXIhXG4gICAgICAgIC8vIGRvbid0IG5lZWQgdG8gbG9vcCB0aHJvdWdoIGlmIG5vdGhpbmcgY2hhbmdlZCFcbiAgICAgICAgLy8gbWF5YmUgbG9vayB0byBhZGQgYW4gJ2F1dG91cGRhdGUnIHRvIGdlb21ldHJ5P1xuICAgICAgICB0aGlzLnVwZGF0ZUJ1ZmZlcnMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0IGFuZCB1bmJpbmQgYW55IGFjdGl2ZSBWQU8gYW5kIGdlb21ldHJ5XG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnVuYmluZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIGJ1ZmZlcnNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZUJ1ZmZlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuX2FjdGl2ZUdlb21ldHJ5O1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBnZW9tZXRyeS5idWZmZXJzW2ldO1xuICAgICAgICAgICAgdmFyIGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgICAgICBpZiAoYnVmZmVyLl91cGRhdGVJRCAhPT0gZ2xCdWZmZXIudXBkYXRlSUQpIHtcbiAgICAgICAgICAgICAgICBnbEJ1ZmZlci51cGRhdGVJRCA9IGJ1ZmZlci5fdXBkYXRlSUQ7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyBjYW4gY2FjaGUgdGhpcyBvbiBidWZmZXIhIG1heWJlIGFkZGVkIGEgZ2V0dGVyIC8gc2V0dGVyP1xuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gYnVmZmVyLmluZGV4ID8gZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIgOiBnbC5BUlJBWV9CVUZGRVI7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyB0aGlzIGNvdWxkIGNoYW5nZSBpZiB0aGUgVkFPIGNoYW5nZXMuLi5cbiAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIGNvbWUgdXAgd2l0aCBhIGJldHRlciB3YXkgdG8gY2FjaGUuLlxuICAgICAgICAgICAgICAgIC8vIGlmICh0aGlzLmJvdW5kQnVmZmVyc1t0eXBlXSAhPT0gZ2xCdWZmZXIpXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuYm91bmRCdWZmZXJzW3R5cGVdID0gZ2xCdWZmZXI7XG4gICAgICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcih0eXBlLCBnbEJ1ZmZlci5idWZmZXIpO1xuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZEJ1ZmZlciA9IGdsQnVmZmVyO1xuICAgICAgICAgICAgICAgIGlmIChnbEJ1ZmZlci5ieXRlTGVuZ3RoID49IGJ1ZmZlci5kYXRhLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb2Zmc2V0IGlzIGFsd2F5cyB6ZXJvIGZvciBub3chXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlclN1YkRhdGEodHlwZSwgMCwgYnVmZmVyLmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRyYXdUeXBlID0gYnVmZmVyLnN0YXRpYyA/IGdsLlNUQVRJQ19EUkFXIDogZ2wuRFlOQU1JQ19EUkFXO1xuICAgICAgICAgICAgICAgICAgICBnbEJ1ZmZlci5ieXRlTGVuZ3RoID0gYnVmZmVyLmRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YSh0eXBlLCBidWZmZXIuZGF0YSwgZHJhd1R5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2sgY29tcGF0aWJpbGl0eSBiZXR3ZWVuIGEgZ2VvbWV0cnkgYW5kIGEgcHJvZ3JhbVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gR2VvbWV0cnkgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gcHJvZ3JhbSAtIFByb2dyYW0gaW5zdGFuY2VcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuY2hlY2tDb21wYXRpYmlsaXR5ID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBwcm9ncmFtKSB7XG4gICAgICAgIC8vIGdlb21ldHJ5IG11c3QgaGF2ZSBhdCBsZWFzdCBhbGwgdGhlIGF0dHJpYnV0ZXMgdGhhdCB0aGUgc2hhZGVyIHJlcXVpcmVzLlxuICAgICAgICB2YXIgZ2VvbWV0cnlBdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgdmFyIHNoYWRlckF0dHJpYnV0ZXMgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGE7XG4gICAgICAgIGZvciAodmFyIGogaW4gc2hhZGVyQXR0cmlidXRlcykge1xuICAgICAgICAgICAgaWYgKCFnZW9tZXRyeUF0dHJpYnV0ZXNbal0pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzaGFkZXIgYW5kIGdlb21ldHJ5IGluY29tcGF0aWJsZSwgZ2VvbWV0cnkgbWlzc2luZyB0aGUgXFxcIlwiICsgaiArIFwiXFxcIiBhdHRyaWJ1dGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRha2VzIGEgZ2VvbWV0cnkgYW5kIHByb2dyYW0gYW5kIGdlbmVyYXRlcyBhIHVuaXF1ZSBzaWduYXR1cmUgZm9yIHRoZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gdG8gZ2V0IHNpZ25hdHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IHByb2dyYW0gLSB0byB0ZXN0IGdlb21ldHJ5IGFnYWluc3RcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBVbmlxdWUgc2lnbmF0dXJlIG9mIHRoZSBnZW9tZXRyeSBhbmQgcHJvZ3JhbVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZ2V0U2lnbmF0dXJlID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBwcm9ncmFtKSB7XG4gICAgICAgIHZhciBhdHRyaWJzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgdmFyIHNoYWRlckF0dHJpYnV0ZXMgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGE7XG4gICAgICAgIHZhciBzdHJpbmdzID0gWydnJywgZ2VvbWV0cnkuaWRdO1xuICAgICAgICBmb3IgKHZhciBpIGluIGF0dHJpYnMpIHtcbiAgICAgICAgICAgIGlmIChzaGFkZXJBdHRyaWJ1dGVzW2ldKSB7XG4gICAgICAgICAgICAgICAgc3RyaW5ncy5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJpbmdzLmpvaW4oJy0nKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb3IgZ2V0cyBWYW8gd2l0aCB0aGUgc2FtZSBzdHJ1Y3R1cmUgYXMgdGhlIGdlb21ldHJ5IGFuZCBzdG9yZXMgaXQgb24gdGhlIGdlb21ldHJ5LlxuICAgICAqIElmIHZhbyBpcyBjcmVhdGVkLCBpdCBpcyBib3VuZCBhdXRvbWF0aWNhbGx5LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgLSBJbnN0YW5jZSBvZiBnZW9tZXRyeSB0byB0byBnZW5lcmF0ZSBWYW8gZm9yXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IHByb2dyYW0gLSBJbnN0YW5jZSBvZiBwcm9ncmFtXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaW5jUmVmQ291bnQ9ZmFsc2VdIC0gSW5jcmVtZW50IHJlZkNvdW50IG9mIGFsbCBnZW9tZXRyeSBidWZmZXJzXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmluaXRHZW9tZXRyeVZhbyA9IGZ1bmN0aW9uIChnZW9tZXRyeSwgcHJvZ3JhbSwgaW5jUmVmQ291bnQpIHtcbiAgICAgICAgaWYgKGluY1JlZkNvdW50ID09PSB2b2lkIDApIHsgaW5jUmVmQ291bnQgPSB0cnVlOyB9XG4gICAgICAgIHRoaXMuY2hlY2tDb21wYXRpYmlsaXR5KGdlb21ldHJ5LCBwcm9ncmFtKTtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIENPTlRFWFRfVUlEID0gdGhpcy5DT05URVhUX1VJRDtcbiAgICAgICAgdmFyIHNpZ25hdHVyZSA9IHRoaXMuZ2V0U2lnbmF0dXJlKGdlb21ldHJ5LCBwcm9ncmFtKTtcbiAgICAgICAgdmFyIHZhb09iamVjdEhhc2ggPSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgdmFyIHZhbyA9IHZhb09iamVjdEhhc2hbc2lnbmF0dXJlXTtcbiAgICAgICAgaWYgKHZhbykge1xuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGdpdmUgdXMgZWFzeSBhY2Nlc3MgdG8gdGhlIHZhb1xuICAgICAgICAgICAgdmFvT2JqZWN0SGFzaFtwcm9ncmFtLmlkXSA9IHZhbztcbiAgICAgICAgICAgIHJldHVybiB2YW87XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBnZW9tZXRyeS5idWZmZXJzO1xuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgICAgIHZhciB0ZW1wU3RyaWRlID0ge307XG4gICAgICAgIHZhciB0ZW1wU3RhcnQgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaiBpbiBidWZmZXJzKSB7XG4gICAgICAgICAgICB0ZW1wU3RyaWRlW2pdID0gMDtcbiAgICAgICAgICAgIHRlbXBTdGFydFtqXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaiBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpZiAoIWF0dHJpYnV0ZXNbal0uc2l6ZSAmJiBwcm9ncmFtLmF0dHJpYnV0ZURhdGFbal0pIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzW2pdLnNpemUgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGFbal0uc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFhdHRyaWJ1dGVzW2pdLnNpemUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJQSVhJIEdlb21ldHJ5IGF0dHJpYnV0ZSAnXCIgKyBqICsgXCInIHNpemUgY2Fubm90IGJlIGRldGVybWluZWQgKGxpa2VseSB0aGUgYm91bmQgc2hhZGVyIGRvZXMgbm90IGhhdmUgdGhlIGF0dHJpYnV0ZSlcIik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlbXBTdHJpZGVbYXR0cmlidXRlc1tqXS5idWZmZXJdICs9IGF0dHJpYnV0ZXNbal0uc2l6ZSAqIGJ5dGVTaXplTWFwJDFbYXR0cmlidXRlc1tqXS50eXBlXTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBqIGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2pdO1xuICAgICAgICAgICAgdmFyIGF0dHJpYlNpemUgPSBhdHRyaWJ1dGUuc2l6ZTtcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUuc3RyaWRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGVtcFN0cmlkZVthdHRyaWJ1dGUuYnVmZmVyXSA9PT0gYXR0cmliU2l6ZSAqIGJ5dGVTaXplTWFwJDFbYXR0cmlidXRlLnR5cGVdKSB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdHJpZGUgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnN0cmlkZSA9IHRlbXBTdHJpZGVbYXR0cmlidXRlLmJ1ZmZlcl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5zdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlLnN0YXJ0ID0gdGVtcFN0YXJ0W2F0dHJpYnV0ZS5idWZmZXJdO1xuICAgICAgICAgICAgICAgIHRlbXBTdGFydFthdHRyaWJ1dGUuYnVmZmVyXSArPSBhdHRyaWJTaXplICogYnl0ZVNpemVNYXAkMVthdHRyaWJ1dGUudHlwZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFvID0gZ2wuY3JlYXRlVmVydGV4QXJyYXkoKTtcbiAgICAgICAgZ2wuYmluZFZlcnRleEFycmF5KHZhbyk7XG4gICAgICAgIC8vIGZpcnN0IHVwZGF0ZSAtIGFuZCBjcmVhdGUgdGhlIGJ1ZmZlcnMhXG4gICAgICAgIC8vIG9ubHkgY3JlYXRlIGEgZ2wgYnVmZmVyIGlmIGl0IGFjdHVhbGx5IGdldHNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gYnVmZmVyc1tpXTtcbiAgICAgICAgICAgIGlmICghYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdID0gbmV3IEdMQnVmZmVyKGdsLmNyZWF0ZUJ1ZmZlcigpKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hbmFnZWRCdWZmZXJzW2J1ZmZlci5pZF0gPSBidWZmZXI7XG4gICAgICAgICAgICAgICAgYnVmZmVyLmRpc3Bvc2VSdW5uZXIuYWRkKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGluY1JlZkNvdW50KSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdLnJlZkNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETyAtIG1heWJlIG1ha2UgdGhpcyBhIGRhdGEgb2JqZWN0P1xuICAgICAgICAvLyBsZXRzIHdhaXQgdG8gc2VlIGlmIHdlIG5lZWQgdG8gZmlyc3QhXG4gICAgICAgIHRoaXMuYWN0aXZhdGVWYW8oZ2VvbWV0cnksIHByb2dyYW0pO1xuICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSB2YW87XG4gICAgICAgIC8vIGFkZCBpdCB0byB0aGUgY2FjaGUhXG4gICAgICAgIHZhb09iamVjdEhhc2hbcHJvZ3JhbS5pZF0gPSB2YW87XG4gICAgICAgIHZhb09iamVjdEhhc2hbc2lnbmF0dXJlXSA9IHZhbztcbiAgICAgICAgcmV0dXJuIHZhbztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7UElYSS5CdWZmZXJ9IGJ1ZmZlciAtIGJ1ZmZlciB3aXRoIGRhdGFcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gLSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBkZWxldGVWZXJ0ZXhBcnJheVxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5kaXNwb3NlQnVmZmVyID0gZnVuY3Rpb24gKGJ1ZmZlciwgY29udGV4dExvc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1hbmFnZWRCdWZmZXJzW2J1ZmZlci5pZF0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGhpcy5tYW5hZ2VkQnVmZmVyc1tidWZmZXIuaWRdO1xuICAgICAgICB2YXIgZ2xCdWZmZXIgPSBidWZmZXIuX2dsQnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgYnVmZmVyLmRpc3Bvc2VSdW5uZXIucmVtb3ZlKHRoaXMpO1xuICAgICAgICBpZiAoIWdsQnVmZmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb250ZXh0TG9zdCkge1xuICAgICAgICAgICAgZ2wuZGVsZXRlQnVmZmVyKGdsQnVmZmVyLmJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIGJ1ZmZlci5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgZ2VvbWV0cnlcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gR2VvbWV0cnkgd2l0aCBidWZmZXJzLiBPbmx5IFZBTyB3aWxsIGJlIGRpc3Bvc2VkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIC0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgZGVsZXRlVmVydGV4QXJyYXlcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZGlzcG9zZUdlb21ldHJ5ID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBjb250ZXh0TG9zdCkge1xuICAgICAgICBpZiAoIXRoaXMubWFuYWdlZEdlb21ldHJpZXNbZ2VvbWV0cnkuaWRdKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMubWFuYWdlZEdlb21ldHJpZXNbZ2VvbWV0cnkuaWRdO1xuICAgICAgICB2YXIgdmFvcyA9IGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgYnVmZmVycyA9IGdlb21ldHJ5LmJ1ZmZlcnM7XG4gICAgICAgIGdlb21ldHJ5LmRpc3Bvc2VSdW5uZXIucmVtb3ZlKHRoaXMpO1xuICAgICAgICBpZiAoIXZhb3MpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBidWYgPSBidWZmZXJzW2ldLl9nbEJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgICAgICBidWYucmVmQ291bnQtLTtcbiAgICAgICAgICAgIGlmIChidWYucmVmQ291bnQgPT09IDAgJiYgIWNvbnRleHRMb3N0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlQnVmZmVyKGJ1ZmZlcnNbaV0sIGNvbnRleHRMb3N0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvbnRleHRMb3N0KSB7XG4gICAgICAgICAgICBmb3IgKHZhciB2YW9JZCBpbiB2YW9zKSB7XG4gICAgICAgICAgICAgICAgLy8gZGVsZXRlIG9ubHkgc2lnbmF0dXJlcywgZXZlcnl0aGluZyBlbHNlIGFyZSBjb3BpZXNcbiAgICAgICAgICAgICAgICBpZiAodmFvSWRbMF0gPT09ICdnJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFvID0gdmFvc1t2YW9JZF07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hY3RpdmVWYW8gPT09IHZhbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51bmJpbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBnbC5kZWxldGVWZXJ0ZXhBcnJheSh2YW8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBkaXNwb3NlIGFsbCBXZWJHTCByZXNvdXJjZXMgb2YgYWxsIG1hbmFnZWQgZ2VvbWV0cmllcyBhbmQgYnVmZmVyc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSAtIElmIGNvbnRleHQgd2FzIGxvc3QsIHdlIHN1cHByZXNzIGBnbC5kZWxldGVgIGNhbGxzXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmRpc3Bvc2VBbGwgPSBmdW5jdGlvbiAoY29udGV4dExvc3QpIHtcbiAgICAgICAgdmFyIGFsbCA9IE9iamVjdC5rZXlzKHRoaXMubWFuYWdlZEdlb21ldHJpZXMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlR2VvbWV0cnkodGhpcy5tYW5hZ2VkR2VvbWV0cmllc1thbGxbaV1dLCBjb250ZXh0TG9zdCk7XG4gICAgICAgIH1cbiAgICAgICAgYWxsID0gT2JqZWN0LmtleXModGhpcy5tYW5hZ2VkQnVmZmVycyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2VCdWZmZXIodGhpcy5tYW5hZ2VkQnVmZmVyc1thbGxbaV1dLCBjb250ZXh0TG9zdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFjdGl2YXRlIHZlcnRleCBhcnJheSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gR2VvbWV0cnkgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gcHJvZ3JhbSAtIFNoYWRlciBwcm9ncmFtIGluc3RhbmNlXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmFjdGl2YXRlVmFvID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBwcm9ncmFtKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBDT05URVhUX1VJRCA9IHRoaXMuQ09OVEVYVF9VSUQ7XG4gICAgICAgIHZhciBidWZmZXJzID0gZ2VvbWV0cnkuYnVmZmVycztcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuICAgICAgICBpZiAoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIC8vIGZpcnN0IHVwZGF0ZSB0aGUgaW5kZXggYnVmZmVyIGlmIHdlIGhhdmUgb25lLi5cbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGdlb21ldHJ5LmluZGV4QnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdLmJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxhc3RCdWZmZXIgPSBudWxsO1xuICAgICAgICAvLyBhZGQgYSBuZXcgb25lIVxuICAgICAgICBmb3IgKHZhciBqIGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2pdO1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGJ1ZmZlcnNbYXR0cmlidXRlLmJ1ZmZlcl07XG4gICAgICAgICAgICB2YXIgZ2xCdWZmZXIgPSBidWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF07XG4gICAgICAgICAgICBpZiAocHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2pdKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RCdWZmZXIgIT09IGdsQnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBnbEJ1ZmZlci5idWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICBsYXN0QnVmZmVyID0gZ2xCdWZmZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBsb2NhdGlvbiA9IHByb2dyYW0uYXR0cmlidXRlRGF0YVtqXS5sb2NhdGlvbjtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIGludHJvZHVjZSBzdGF0ZSBhZ2FpblxuICAgICAgICAgICAgICAgIC8vIHdlIGNhbiBvcHRpbWlzZSB0aGlzIGZvciBvbGRlciBkZXZpY2VzIHRoYXQgaGF2ZSBubyBWQU9zXG4gICAgICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobG9jYXRpb24pO1xuICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIobG9jYXRpb24sIGF0dHJpYnV0ZS5zaXplLCBhdHRyaWJ1dGUudHlwZSB8fCBnbC5GTE9BVCwgYXR0cmlidXRlLm5vcm1hbGl6ZWQsIGF0dHJpYnV0ZS5zdHJpZGUsIGF0dHJpYnV0ZS5zdGFydCk7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5pbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGNhbGN1bGF0ZSBpbnN0YW5jZSBjb3VudCBiYXNlZCBvZiB0aGlzLi4uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc0luc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKGxvY2F0aW9uLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZ2VvbWV0cnkgZXJyb3IsIEdQVSBJbnN0YW5jaW5nIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBkZXZpY2UnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhdyB0aGUgZ2VvbWV0cnlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIC0gdGhlIHR5cGUgcHJpbWl0aXZlIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc2l6ZV0gLSB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGJlIHJlbmRlcmVkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdGFydF0gLSBTdGFydGluZyBpbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbaW5zdGFuY2VDb3VudF0gLSB0aGUgbnVtYmVyIG9mIGluc3RhbmNlcyBvZiB0aGUgc2V0IG9mIGVsZW1lbnRzIHRvIGV4ZWN1dGVcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uICh0eXBlLCBzaXplLCBzdGFydCwgaW5zdGFuY2VDb3VudCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLl9hY3RpdmVHZW9tZXRyeTtcbiAgICAgICAgLy8gVE9ETy4uIHRoaXMgc2hvdWxkIG5vdCBjaGFuZ2Ugc28gbWF5YmUgY2FjaGUgdGhlIGZ1bmN0aW9uP1xuICAgICAgICBpZiAoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIHZhciBieXRlU2l6ZSA9IGdlb21ldHJ5LmluZGV4QnVmZmVyLmRhdGEuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgICAgICAgICB2YXIgZ2xUeXBlID0gYnl0ZVNpemUgPT09IDIgPyBnbC5VTlNJR05FRF9TSE9SVCA6IGdsLlVOU0lHTkVEX0lOVDtcbiAgICAgICAgICAgIGlmIChieXRlU2l6ZSA9PT0gMiB8fCAoYnl0ZVNpemUgPT09IDQgJiYgdGhpcy5jYW5Vc2VVSW50MzJFbGVtZW50SW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdlb21ldHJ5Lmluc3RhbmNlZCkge1xuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50c0luc3RhbmNlZCh0eXBlLCBzaXplIHx8IGdlb21ldHJ5LmluZGV4QnVmZmVyLmRhdGEubGVuZ3RoLCBnbFR5cGUsIChzdGFydCB8fCAwKSAqIGJ5dGVTaXplLCBpbnN0YW5jZUNvdW50IHx8IDEpO1xuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKHR5cGUsIHNpemUgfHwgZ2VvbWV0cnkuaW5kZXhCdWZmZXIuZGF0YS5sZW5ndGgsIGdsVHlwZSwgKHN0YXJ0IHx8IDApICogYnl0ZVNpemUpO1xuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ3Vuc3VwcG9ydGVkIGluZGV4IGJ1ZmZlciB0eXBlOiB1aW50MzInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChnZW9tZXRyeS5pbnN0YW5jZWQpIHtcbiAgICAgICAgICAgIC8vIFRPRE8gbmVlZCBhIGJldHRlciB3YXkgdG8gY2FsY3VsYXRlIHNpemUuLlxuICAgICAgICAgICAgZ2wuZHJhd0FycmF5c0luc3RhbmNlZCh0eXBlLCBzdGFydCwgc2l6ZSB8fCBnZW9tZXRyeS5nZXRTaXplKCksIGluc3RhbmNlQ291bnQgfHwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzKHR5cGUsIHN0YXJ0LCBzaXplIHx8IGdlb21ldHJ5LmdldFNpemUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbmJpbmQvcmVzZXQgZXZlcnl0aGluZ1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmdsLmJpbmRWZXJ0ZXhBcnJheShudWxsKTtcbiAgICAgICAgdGhpcy5fYWN0aXZlVmFvID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWN0aXZlR2VvbWV0cnkgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEdlb21ldHJ5U3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBDb21wb25lbnQgZm9yIG1hc2tlZCBlbGVtZW50c1xuICpcbiAqIEhvbGRzIG1hc2sgbW9kZSBhbmQgdGVtcG9yYXJ5IGRhdGEgYWJvdXQgY3VycmVudCBtYXNrXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTWFza0RhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIE1hc2tEYXRhXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gW21hc2tPYmplY3Q9bnVsbF0gLSBvYmplY3QgdGhhdCBkZXNjcmliZXMgdGhlIG1hc2tcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXNrRGF0YShtYXNrT2JqZWN0KSB7XG4gICAgICAgIGlmIChtYXNrT2JqZWN0ID09PSB2b2lkIDApIHsgbWFza09iamVjdCA9IG51bGw7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hc2sgdHlwZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1BU0tfVFlQRVN9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBNQVNLX1RZUEVTLk5PTkU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHdlIGtub3cgdGhlIG1hc2sgdHlwZSBiZWZvcmVoYW5kXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b0RldGVjdCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGljaCBlbGVtZW50IHdlIHVzZSB0byBtYXNrXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFza09iamVjdCA9IG1hc2tPYmplY3QgfHwgbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgaXQgYmVsb25ncyB0byBNYXNrU3lzdGVtIHBvb2xcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9vbGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0b3Igb2YgdGhlIHR5cGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNNYXNrRGF0YSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdGVuY2lsIGNvdW50ZXIgYWJvdmUgdGhlIG1hc2sgaW4gc3RhY2tcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3RlbmNpbENvdW50ZXIgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2Npc3NvciBjb3VudGVyIGFib3ZlIHRoZSBtYXNrIGluIHN0YWNrXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3NjaXNzb3JDb3VudGVyID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjaXNzb3Igb3BlcmF0aW9uIGFib3ZlIHRoZSBtYXNrIGluIHN0YWNrLlxuICAgICAgICAgKiBOdWxsIGlmIF9zY2lzc29yQ291bnRlciBpcyB6ZXJvLCByZWN0YW5nbGUgaW5zdGFuY2UgaWYgcG9zaXRpdmUuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc2Npc3NvclJlY3QgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGFyZ2V0ZWQgZWxlbWVudC4gVGVtcG9yYXJ5IHZhcmlhYmxlIHNldCBieSBNYXNrU3lzdGVtXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RhcmdldCA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHJlc2V0cyB0aGUgbWFzayBkYXRhIGFmdGVyIHBvcE1hc2soKVxuICAgICAqL1xuICAgIE1hc2tEYXRhLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucG9vbGVkKSB7XG4gICAgICAgICAgICB0aGlzLm1hc2tPYmplY3QgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy50eXBlID0gTUFTS19UWVBFUy5OT05FO1xuICAgICAgICAgICAgdGhpcy5hdXRvRGV0ZWN0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90YXJnZXQgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogY29waWVzIGNvdW50ZXJzIGZyb20gbWFza0RhdGEgYWJvdmUsIGNhbGxlZCBmcm9tIHB1c2hNYXNrKClcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGF8bnVsbH0gbWFza0Fib3ZlXG4gICAgICovXG4gICAgTWFza0RhdGEucHJvdG90eXBlLmNvcHlDb3VudGVyc09yUmVzZXQgPSBmdW5jdGlvbiAobWFza0Fib3ZlKSB7XG4gICAgICAgIGlmIChtYXNrQWJvdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0ZW5jaWxDb3VudGVyID0gbWFza0Fib3ZlLl9zdGVuY2lsQ291bnRlcjtcbiAgICAgICAgICAgIHRoaXMuX3NjaXNzb3JDb3VudGVyID0gbWFza0Fib3ZlLl9zY2lzc29yQ291bnRlcjtcbiAgICAgICAgICAgIHRoaXMuX3NjaXNzb3JSZWN0ID0gbWFza0Fib3ZlLl9zY2lzc29yUmVjdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3N0ZW5jaWxDb3VudGVyID0gMDtcbiAgICAgICAgICAgIHRoaXMuX3NjaXNzb3JDb3VudGVyID0gMDtcbiAgICAgICAgICAgIHRoaXMuX3NjaXNzb3JSZWN0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE1hc2tEYXRhO1xufSgpKTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIGN1cnJlbnQgV2ViR0wgY29udGV4dCB7V2ViR0xQcm9ncmFtfVxuICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgLSB0aGUgdHlwZSwgY2FuIGJlIGVpdGhlciBWRVJURVhfU0hBREVSIG9yIEZSQUdNRU5UX1NIQURFUlxuICogQHBhcmFtIHtzdHJpbmd9IHNyYyAtIFRoZSB2ZXJ0ZXggc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHJldHVybiB7V2ViR0xTaGFkZXJ9IHRoZSBzaGFkZXJcbiAqL1xuZnVuY3Rpb24gY29tcGlsZVNoYWRlcihnbCwgdHlwZSwgc3JjKSB7XG4gICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcih0eXBlKTtcbiAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzcmMpO1xuICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcbiAgICByZXR1cm4gc2hhZGVyO1xufVxuLyoqXG4gKiBAZnVuY3Rpb24gY29tcGlsZVByb2dyYW1cbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0IHtXZWJHTFByb2dyYW19XG4gKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gdmVydGV4U3JjIC0gVGhlIHZlcnRleCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gZnJhZ21lbnRTcmMgLSBmcmFnbWVudCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcGFyYW0ge09iamVjdH0gYXR0cmlidXRlTG9jYXRpb25zIC0gQW4gYXR0cmlidXRlIGxvY2F0aW9uIG1hcCB0aGF0IGxldHMgeW91IG1hbnVhbGx5IHNldCB0aGUgYXR0cmlidXRlIGxvY2F0aW9uc1xuICogQHJldHVybiB7V2ViR0xQcm9ncmFtfSB0aGUgc2hhZGVyIHByb2dyYW1cbiAqL1xuZnVuY3Rpb24gY29tcGlsZVByb2dyYW0oZ2wsIHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIGF0dHJpYnV0ZUxvY2F0aW9ucykge1xuICAgIHZhciBnbFZlcnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCB2ZXJ0ZXhTcmMpO1xuICAgIHZhciBnbEZyYWdTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U3JjKTtcbiAgICB2YXIgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZ2xWZXJ0U2hhZGVyKTtcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZ2xGcmFnU2hhZGVyKTtcbiAgICAvLyBvcHRpb25hbGx5LCBzZXQgdGhlIGF0dHJpYnV0ZXMgbWFudWFsbHkgZm9yIHRoZSBwcm9ncmFtIHJhdGhlciB0aGFuIGxldHRpbmcgV2ViR0wgZGVjaWRlLi5cbiAgICBpZiAoYXR0cmlidXRlTG9jYXRpb25zKSB7XG4gICAgICAgIGZvciAodmFyIGkgaW4gYXR0cmlidXRlTG9jYXRpb25zKSB7XG4gICAgICAgICAgICBnbC5iaW5kQXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgYXR0cmlidXRlTG9jYXRpb25zW2ldLCBpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAvLyBpZiBsaW5raW5nIGZhaWxzLCB0aGVuIGxvZyBhbmQgY2xlYW51cFxuICAgIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykpIHtcbiAgICAgICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoZ2xWZXJ0U2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybih2ZXJ0ZXhTcmMpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihnbC5nZXRTaGFkZXJJbmZvTG9nKGdsVmVydFNoYWRlcikpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKGdsRnJhZ1NoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oZnJhZ21lbnRTcmMpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihnbC5nZXRTaGFkZXJJbmZvTG9nKGdsRnJhZ1NoYWRlcikpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BpeGkuanMgRXJyb3I6IENvdWxkIG5vdCBpbml0aWFsaXplIHNoYWRlci4nKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignZ2wuVkFMSURBVEVfU1RBVFVTJywgZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5WQUxJREFURV9TVEFUVVMpKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignZ2wuZ2V0RXJyb3IoKScsIGdsLmdldEVycm9yKCkpO1xuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhIHByb2dyYW0gaW5mbyBsb2csIGxvZyBpdFxuICAgICAgICBpZiAoZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkgIT09ICcnKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BpeGkuanMgV2FybmluZzogZ2wuZ2V0UHJvZ3JhbUluZm9Mb2coKScsIGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pKTtcbiAgICAgICAgfVxuICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBwcm9ncmFtID0gbnVsbDtcbiAgICB9XG4gICAgLy8gY2xlYW4gdXAgc29tZSBzaGFkZXJzXG4gICAgZ2wuZGVsZXRlU2hhZGVyKGdsVmVydFNoYWRlcik7XG4gICAgZ2wuZGVsZXRlU2hhZGVyKGdsRnJhZ1NoYWRlcik7XG4gICAgcmV0dXJuIHByb2dyYW07XG59XG5cbmZ1bmN0aW9uIGJvb2xlYW5BcnJheShzaXplKSB7XG4gICAgdmFyIGFycmF5ID0gbmV3IEFycmF5KHNpemUpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXJyYXlbaV0gPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xufVxuLyoqXG4gKiBAbWV0aG9kIGRlZmF1bHRWYWx1ZVxuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUeXBlIG9mIHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gc2l6ZVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZGVmYXVsdFZhbHVlKHR5cGUsIHNpemUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAnZmxvYXQnOlxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIGNhc2UgJ3ZlYzInOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoMiAqIHNpemUpO1xuICAgICAgICBjYXNlICd2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDMgKiBzaXplKTtcbiAgICAgICAgY2FzZSAndmVjNCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSg0ICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ2ludCc6XG4gICAgICAgIGNhc2UgJ3VpbnQnOlxuICAgICAgICBjYXNlICdzYW1wbGVyMkQnOlxuICAgICAgICBjYXNlICdzYW1wbGVyMkRBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgY2FzZSAnaXZlYzInOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KDIgKiBzaXplKTtcbiAgICAgICAgY2FzZSAnaXZlYzMnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KDMgKiBzaXplKTtcbiAgICAgICAgY2FzZSAnaXZlYzQnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KDQgKiBzaXplKTtcbiAgICAgICAgY2FzZSAndXZlYzInOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50MzJBcnJheSgyICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ3V2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDMyQXJyYXkoMyAqIHNpemUpO1xuICAgICAgICBjYXNlICd1dmVjNCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQzMkFycmF5KDQgKiBzaXplKTtcbiAgICAgICAgY2FzZSAnYm9vbCc6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNhc2UgJ2J2ZWMyJzpcbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXkoMiAqIHNpemUpO1xuICAgICAgICBjYXNlICdidmVjMyc6XG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkFycmF5KDMgKiBzaXplKTtcbiAgICAgICAgY2FzZSAnYnZlYzQnOlxuICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW5BcnJheSg0ICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ21hdDInOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsXG4gICAgICAgICAgICAgICAgMCwgMV0pO1xuICAgICAgICBjYXNlICdtYXQzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDEsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMV0pO1xuICAgICAgICBjYXNlICdtYXQ0JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDEsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMSwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAwLCAxXSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuXG52YXIgdW5rbm93bkNvbnRleHQgPSB7fTtcbnZhciBjb250ZXh0ID0gdW5rbm93bkNvbnRleHQ7XG4vKipcbiAqIHJldHVybnMgYSBsaXR0bGUgV2ViR0wgY29udGV4dCB0byB1c2UgZm9yIHByb2dyYW0gaW5zcGVjdGlvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gYSBnbCBjb250ZXh0IHRvIHRlc3Qgd2l0aFxuICovXG5mdW5jdGlvbiBnZXRUZXN0Q29udGV4dCgpIHtcbiAgICBpZiAoY29udGV4dCA9PT0gdW5rbm93bkNvbnRleHQgfHwgKGNvbnRleHQgJiYgY29udGV4dC5pc0NvbnRleHRMb3N0KCkpKSB7XG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgdmFyIGdsID0gdm9pZCAwO1xuICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA+PSBFTlYuV0VCR0wyKSB7XG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbDInLCB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFnbCkge1xuICAgICAgICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCB7fSlcbiAgICAgICAgICAgICAgICB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywge30pO1xuICAgICAgICAgICAgaWYgKCFnbCkge1xuICAgICAgICAgICAgICAgIC8vIGZhaWwsIG5vdCBhYmxlIHRvIGdldCBhIGNvbnRleHRcbiAgICAgICAgICAgICAgICBnbCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBmb3Igc2hhZGVyIHRlc3RpbmcuLlxuICAgICAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignV0VCR0xfZHJhd19idWZmZXJzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dCA9IGdsO1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dDtcbn1cblxudmFyIG1heEZyYWdtZW50UHJlY2lzaW9uO1xuZnVuY3Rpb24gZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24oKSB7XG4gICAgaWYgKCFtYXhGcmFnbWVudFByZWNpc2lvbikge1xuICAgICAgICBtYXhGcmFnbWVudFByZWNpc2lvbiA9IFBSRUNJU0lPTi5NRURJVU07XG4gICAgICAgIHZhciBnbCA9IGdldFRlc3RDb250ZXh0KCk7XG4gICAgICAgIGlmIChnbCkge1xuICAgICAgICAgICAgaWYgKGdsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCkge1xuICAgICAgICAgICAgICAgIHZhciBzaGFkZXJGcmFnbWVudCA9IGdsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdChnbC5GUkFHTUVOVF9TSEFERVIsIGdsLkhJR0hfRkxPQVQpO1xuICAgICAgICAgICAgICAgIG1heEZyYWdtZW50UHJlY2lzaW9uID0gc2hhZGVyRnJhZ21lbnQucHJlY2lzaW9uID8gUFJFQ0lTSU9OLkhJR0ggOiBQUkVDSVNJT04uTUVESVVNO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXhGcmFnbWVudFByZWNpc2lvbjtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBmbG9hdCBwcmVjaXNpb24gb24gdGhlIHNoYWRlciwgZW5zdXJpbmcgdGhlIGRldmljZSBzdXBwb3J0cyB0aGUgcmVxdWVzdCBwcmVjaXNpb24uXG4gKiBJZiB0aGUgcHJlY2lzaW9uIGlzIGFscmVhZHkgcHJlc2VudCwgaXQganVzdCBlbnN1cmVzIHRoYXQgdGhlIGRldmljZSBpcyBhYmxlIHRvIGhhbmRsZSBpdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHNyYyAtIFRoZSBzaGFkZXIgc291cmNlXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdGVkUHJlY2lzaW9uIC0gVGhlIHJlcXVlc3QgZmxvYXQgcHJlY2lzaW9uIG9mIHRoZSBzaGFkZXIuIE9wdGlvbnMgYXJlICdsb3dwJywgJ21lZGl1bXAnIG9yICdoaWdocCcuXG4gKiBAcGFyYW0ge3N0cmluZ30gbWF4U3VwcG9ydGVkUHJlY2lzaW9uIC0gVGhlIG1heGltdW0gcHJlY2lzaW9uIHRoZSBzaGFkZXIgc3VwcG9ydHMuXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSBtb2RpZmllZCBzaGFkZXIgc291cmNlXG4gKi9cbmZ1bmN0aW9uIHNldFByZWNpc2lvbihzcmMsIHJlcXVlc3RlZFByZWNpc2lvbiwgbWF4U3VwcG9ydGVkUHJlY2lzaW9uKSB7XG4gICAgaWYgKHNyYy5zdWJzdHJpbmcoMCwgOSkgIT09ICdwcmVjaXNpb24nKSB7XG4gICAgICAgIC8vIG5vIHByZWNpc2lvbiBzdXBwbGllZCwgc28gUGl4aUpTIHdpbGwgYWRkIHRoZSByZXF1ZXN0ZWQgbGV2ZWwuXG4gICAgICAgIHZhciBwcmVjaXNpb24gPSByZXF1ZXN0ZWRQcmVjaXNpb247XG4gICAgICAgIC8vIElmIGhpZ2hwIGlzIHJlcXVlc3RlZCBidXQgbm90IHN1cHBvcnRlZCwgZG93bmdyYWRlIHByZWNpc2lvbiB0byBhIGxldmVsIGFsbCBkZXZpY2VzIHN1cHBvcnQuXG4gICAgICAgIGlmIChyZXF1ZXN0ZWRQcmVjaXNpb24gPT09IFBSRUNJU0lPTi5ISUdIICYmIG1heFN1cHBvcnRlZFByZWNpc2lvbiAhPT0gUFJFQ0lTSU9OLkhJR0gpIHtcbiAgICAgICAgICAgIHByZWNpc2lvbiA9IFBSRUNJU0lPTi5NRURJVU07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwicHJlY2lzaW9uIFwiICsgcHJlY2lzaW9uICsgXCIgZmxvYXQ7XFxuXCIgKyBzcmM7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1heFN1cHBvcnRlZFByZWNpc2lvbiAhPT0gUFJFQ0lTSU9OLkhJR0ggJiYgc3JjLnN1YnN0cmluZygwLCAxNSkgPT09ICdwcmVjaXNpb24gaGlnaHAnKSB7XG4gICAgICAgIC8vIHByZWNpc2lvbiB3YXMgc3VwcGxpZWQsIGJ1dCBhdCBhIGxldmVsIHRoaXMgZGV2aWNlIGRvZXMgbm90IHN1cHBvcnQsIHNvIGRvd25ncmFkaW5nIHRvIG1lZGl1bXAuXG4gICAgICAgIHJldHVybiBzcmMucmVwbGFjZSgncHJlY2lzaW9uIGhpZ2hwJywgJ3ByZWNpc2lvbiBtZWRpdW1wJyk7XG4gICAgfVxuICAgIHJldHVybiBzcmM7XG59XG5cbnZhciBHTFNMX1RPX1NJWkUgPSB7XG4gICAgZmxvYXQ6IDEsXG4gICAgdmVjMjogMixcbiAgICB2ZWMzOiAzLFxuICAgIHZlYzQ6IDQsXG4gICAgaW50OiAxLFxuICAgIGl2ZWMyOiAyLFxuICAgIGl2ZWMzOiAzLFxuICAgIGl2ZWM0OiA0LFxuICAgIHVpbnQ6IDEsXG4gICAgdXZlYzI6IDIsXG4gICAgdXZlYzM6IDMsXG4gICAgdXZlYzQ6IDQsXG4gICAgYm9vbDogMSxcbiAgICBidmVjMjogMixcbiAgICBidmVjMzogMyxcbiAgICBidmVjNDogNCxcbiAgICBtYXQyOiA0LFxuICAgIG1hdDM6IDksXG4gICAgbWF0NDogMTYsXG4gICAgc2FtcGxlcjJEOiAxLFxufTtcbi8qKlxuICogQHByaXZhdGVcbiAqIEBtZXRob2QgbWFwU2l6ZVxuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuZnVuY3Rpb24gbWFwU2l6ZSh0eXBlKSB7XG4gICAgcmV0dXJuIEdMU0xfVE9fU0laRVt0eXBlXTtcbn1cblxudmFyIEdMX1RBQkxFID0gbnVsbDtcbnZhciBHTF9UT19HTFNMX1RZUEVTID0ge1xuICAgIEZMT0FUOiAnZmxvYXQnLFxuICAgIEZMT0FUX1ZFQzI6ICd2ZWMyJyxcbiAgICBGTE9BVF9WRUMzOiAndmVjMycsXG4gICAgRkxPQVRfVkVDNDogJ3ZlYzQnLFxuICAgIElOVDogJ2ludCcsXG4gICAgSU5UX1ZFQzI6ICdpdmVjMicsXG4gICAgSU5UX1ZFQzM6ICdpdmVjMycsXG4gICAgSU5UX1ZFQzQ6ICdpdmVjNCcsXG4gICAgVU5TSUdORURfSU5UOiAndWludCcsXG4gICAgVU5TSUdORURfSU5UX1ZFQzI6ICd1dmVjMicsXG4gICAgVU5TSUdORURfSU5UX1ZFQzM6ICd1dmVjMycsXG4gICAgVU5TSUdORURfSU5UX1ZFQzQ6ICd1dmVjNCcsXG4gICAgQk9PTDogJ2Jvb2wnLFxuICAgIEJPT0xfVkVDMjogJ2J2ZWMyJyxcbiAgICBCT09MX1ZFQzM6ICdidmVjMycsXG4gICAgQk9PTF9WRUM0OiAnYnZlYzQnLFxuICAgIEZMT0FUX01BVDI6ICdtYXQyJyxcbiAgICBGTE9BVF9NQVQzOiAnbWF0MycsXG4gICAgRkxPQVRfTUFUNDogJ21hdDQnLFxuICAgIFNBTVBMRVJfMkQ6ICdzYW1wbGVyMkQnLFxuICAgIElOVF9TQU1QTEVSXzJEOiAnc2FtcGxlcjJEJyxcbiAgICBVTlNJR05FRF9JTlRfU0FNUExFUl8yRDogJ3NhbXBsZXIyRCcsXG4gICAgU0FNUExFUl9DVUJFOiAnc2FtcGxlckN1YmUnLFxuICAgIElOVF9TQU1QTEVSX0NVQkU6ICdzYW1wbGVyQ3ViZScsXG4gICAgVU5TSUdORURfSU5UX1NBTVBMRVJfQ1VCRTogJ3NhbXBsZXJDdWJlJyxcbiAgICBTQU1QTEVSXzJEX0FSUkFZOiAnc2FtcGxlcjJEQXJyYXknLFxuICAgIElOVF9TQU1QTEVSXzJEX0FSUkFZOiAnc2FtcGxlcjJEQXJyYXknLFxuICAgIFVOU0lHTkVEX0lOVF9TQU1QTEVSXzJEX0FSUkFZOiAnc2FtcGxlcjJEQXJyYXknLFxufTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG5mdW5jdGlvbiBtYXBUeXBlKGdsLCB0eXBlKSB7XG4gICAgaWYgKCFHTF9UQUJMRSkge1xuICAgICAgICB2YXIgdHlwZU5hbWVzID0gT2JqZWN0LmtleXMoR0xfVE9fR0xTTF9UWVBFUyk7XG4gICAgICAgIEdMX1RBQkxFID0ge307XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZU5hbWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgdG4gPSB0eXBlTmFtZXNbaV07XG4gICAgICAgICAgICBHTF9UQUJMRVtnbFt0bl1dID0gR0xfVE9fR0xTTF9UWVBFU1t0bl07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIEdMX1RBQkxFW3R5cGVdO1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzICovXG4vLyBQYXJzZXJzLCBlYWNoIG9uZSBvZiB0aGVzZSB3aWxsIHRha2UgYSBsb29rIGF0IHRoZSB0eXBlIG9mIHNoYWRlciBwcm9wZXJ0eSBhbmQgdW5pZm9ybS5cbi8vIGlmIHRoZXkgcGFzcyB0aGUgdGVzdCBmdW5jdGlvbiB0aGVuIHRoZSBjb2RlIGZ1bmN0aW9uIGlzIGNhbGxlZCB0aGF0IHJldHVybnMgYSB0aGUgc2hhZGVyIHVwbG9hZCBjb2RlIGZvciB0aGF0IHVuaWZvcm0uXG4vLyBTaGFkZXIgdXBsb2FkIGNvZGUgaXMgYXV0b21hZ2ljYWxseSBnZW5lcmF0ZWQgd2l0aCB0aGVzZSBwYXJzZXJzLlxuLy8gSWYgbm8gcGFyc2VyIGlzIHZhbGlkIHRoZW4gdGhlIGRlZmF1bHQgdXBsb2FkIGZ1bmN0aW9ucyBhcmUgdXNlZC5cbi8vIGV4cG9zaW5nIFBhcnNlcnMgbWVhbnMgdGhhdCBjdXN0b20gdXBsb2FkIGxvZ2ljIGNhbiBiZSBhZGRlZCB0byBwaXhpJ3Mgc2hhZGVycy5cbi8vIEEgZ29vZCBleGFtcGxlIHdvdWxkIGJlIGEgcGl4aSByZWN0YW5nbGUgY2FuIGJlIGRpcmVjdGx5IHNldCBvbiBhIHVuaWZvcm0uXG4vLyBJZiB0aGUgc2hhZGVyIHNlZXMgaXQgaXQga25vd3MgaG93IHRvIHVwbG9hZCB0aGUgcmVjdGFuZ2xlIHN0cnVjdHVyZSBhcyBhIHZlYzRcbi8vIGZvcm1hdCBpcyBhcyBmb2xsb3dzOlxuLy9cbi8vIHtcbi8vICAgICB0ZXN0OiAoZGF0YSwgdW5pZm9ybSkgPT4ge30gPC0tLSB0ZXN0IGlzIHRoaXMgY29kZSBzaG91bGQgYmUgdXNlZCBmb3IgdGhpcyB1bmlmb3JtXG4vLyAgICAgY29kZTogKG5hbWUsIHVuaWZvcm0pID0+IHt9IDwtLS0gcmV0dXJucyB0aGUgc3RyaW5nIG9mIHRoZSBwaWVjZSBvZiBjb2RlIHRoYXQgdXBsb2FkcyB0aGUgdW5pZm9ybVxuLy8gfVxudmFyIHVuaWZvcm1QYXJzZXJzID0gW1xuICAgIC8vIGEgZmxvYXQgY2FjaGUgbGF5ZXJcbiAgICB7XG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS50eXBlID09PSAnZmxvYXQnICYmIGRhdGEuc2l6ZSA9PT0gMTtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICAgIGlmKHV2W1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdICE9PSB1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS52YWx1ZSlcXG4gICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgIHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlID0gdXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl1cXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLmxvY2F0aW9uLCB1dltcXFwiXCIgKyBuYW1lICsgXCJcXFwiXSlcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgXCI7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICAvLyBoYW5kbGluZyBzYW1wbGVyc1xuICAgIHtcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgICAgICByZXR1cm4gKGRhdGEudHlwZSA9PT0gJ3NhbXBsZXIyRCcgfHwgZGF0YS50eXBlID09PSAnc2FtcGxlckN1YmUnIHx8IGRhdGEudHlwZSA9PT0gJ3NhbXBsZXIyREFycmF5JykgJiYgZGF0YS5zaXplID09PSAxICYmICFkYXRhLmlzQXJyYXk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvZGU6IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBcInQgPSBzeW5jRGF0YS50ZXh0dXJlQ291bnQrKztcXG5cXG4gICAgICAgICAgICByZW5kZXJlci50ZXh0dXJlLmJpbmQodXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0sIHQpO1xcblxcbiAgICAgICAgICAgIGlmKHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlICE9PSB0KVxcbiAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgdWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0udmFsdWUgPSB0O1xcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0ubG9jYXRpb24sIHQpO1xcbjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBtYXgtbGVuXFxuICAgICAgICAgICAgfVwiOyB9LFxuICAgIH0sXG4gICAgLy8gdXBsb2FkaW5nIHBpeGkgbWF0cml4IG9iamVjdCB0byBtYXQzXG4gICAge1xuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoZGF0YSwgdW5pZm9ybSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEudHlwZSA9PT0gJ21hdDMnICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiB1bmlmb3JtLmEgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIC8vIFRPRE8gYW5kIHNvbWUgc21hcnQgY2FjaGluZyBkaXJ0eSBpZHMgaGVyZSFcbiAgICAgICAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXgzZnYodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0ubG9jYXRpb24sIGZhbHNlLCB1dltcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS50b0FycmF5KHRydWUpKTtcXG4gICAgICAgICAgICBcIjtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIC8vIHVwbG9hZGluZyBhIHBpeGkgcG9pbnQgYXMgYSB2ZWMyIHdpdGggY2FjaGluZyBsYXllclxuICAgIHtcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKGRhdGEsIHVuaWZvcm0pIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnR5cGUgPT09ICd2ZWMyJyAmJiBkYXRhLnNpemUgPT09IDEgJiYgdW5pZm9ybS54ICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGNvZGU6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcXG4gICAgICAgICAgICAgICAgY3YgPSB1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS52YWx1ZTtcXG4gICAgICAgICAgICAgICAgdiA9IHV2W1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdO1xcblxcbiAgICAgICAgICAgICAgICBpZihjdlswXSAhPT0gdi54IHx8IGN2WzFdICE9PSB2LnkpXFxuICAgICAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdi54O1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMV0gPSB2Lnk7XFxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMmYodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0ubG9jYXRpb24sIHYueCwgdi55KTtcXG4gICAgICAgICAgICAgICAgfVwiO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgLy8gY2FjaGluZyBsYXllciBmb3IgYSB2ZWMyXG4gICAge1xuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEudHlwZSA9PT0gJ3ZlYzInICYmIGRhdGEuc2l6ZSA9PT0gMTtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICAgICAgICBjdiA9IHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlO1xcbiAgICAgICAgICAgICAgICB2ID0gdXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl07XFxuXFxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdKVxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICAgICAgICAgICAgICBjdlsxXSA9IHZbMV07XFxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMmYodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0ubG9jYXRpb24sIHZbMF0sIHZbMV0pO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgXCI7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICAvLyB1cGxvYWQgYSBwaXhpIHJlY3RhbmdsZSBhcyBhIHZlYzQgd2l0aCBjYWNoaW5nIGxheWVyXG4gICAge1xuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoZGF0YSwgdW5pZm9ybSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEudHlwZSA9PT0gJ3ZlYzQnICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiB1bmlmb3JtLndpZHRoICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGNvZGU6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcXG4gICAgICAgICAgICAgICAgY3YgPSB1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS52YWx1ZTtcXG4gICAgICAgICAgICAgICAgdiA9IHV2W1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdO1xcblxcbiAgICAgICAgICAgICAgICBpZihjdlswXSAhPT0gdi54IHx8IGN2WzFdICE9PSB2LnkgfHwgY3ZbMl0gIT09IHYud2lkdGggfHwgY3ZbM10gIT09IHYuaGVpZ2h0KVxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHYueDtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdi55O1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMl0gPSB2LndpZHRoO1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbM10gPSB2LmhlaWdodDtcXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00Zih1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS5sb2NhdGlvbiwgdi54LCB2LnksIHYud2lkdGgsIHYuaGVpZ2h0KVxcbiAgICAgICAgICAgICAgICB9XCI7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICAvLyBhIGNhY2hpbmcgbGF5ZXIgZm9yIHZlYzQgdXBsb2FkaW5nXG4gICAge1xuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEudHlwZSA9PT0gJ3ZlYzQnICYmIGRhdGEuc2l6ZSA9PT0gMTtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICAgICAgICBjdiA9IHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlO1xcbiAgICAgICAgICAgICAgICB2ID0gdXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl07XFxuXFxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdIHx8IGN2WzJdICE9PSB2WzJdIHx8IGN2WzNdICE9PSB2WzNdKVxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICAgICAgICAgICAgICBjdlsxXSA9IHZbMV07XFxuICAgICAgICAgICAgICAgICAgICBjdlsyXSA9IHZbMl07XFxuICAgICAgICAgICAgICAgICAgICBjdlszXSA9IHZbM107XFxuXFxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGYodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0ubG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pXFxuICAgICAgICAgICAgICAgIH1cIjtcbiAgICAgICAgfSxcbiAgICB9IF07XG5cbi8vIGN2ID0gQ2FjaGVkVmFsdWVcbi8vIHYgPSB2YWx1ZVxuLy8gdWQgPSB1bmlmb3JtRGF0YVxuLy8gdXYgPSB1bmlmb3JtVmFsdWVcbi8vIGwgPSBsb2NhdGlvblxudmFyIEdMU0xfVE9fU0lOR0xFX1NFVFRFUlNfQ0FDSEVEID0ge1xuICAgIGZsb2F0OiBcIlxcbiAgICBpZihjdiAhPT0gdilcXG4gICAge1xcbiAgICAgICAgY3YudiA9IHY7XFxuICAgICAgICBnbC51bmlmb3JtMWYobG9jYXRpb24sIHYpXFxuICAgIH1cIixcbiAgICB2ZWMyOiBcIlxcbiAgICBpZihjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSlcXG4gICAge1xcbiAgICAgICAgY3ZbMF0gPSB2WzBdO1xcbiAgICAgICAgY3ZbMV0gPSB2WzFdO1xcbiAgICAgICAgZ2wudW5pZm9ybTJmKGxvY2F0aW9uLCB2WzBdLCB2WzFdKVxcbiAgICB9XCIsXG4gICAgdmVjMzogXCJcXG4gICAgaWYoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0gfHwgY3ZbMl0gIT09IHZbMl0pXFxuICAgIHtcXG4gICAgICAgIGN2WzBdID0gdlswXTtcXG4gICAgICAgIGN2WzFdID0gdlsxXTtcXG4gICAgICAgIGN2WzJdID0gdlsyXTtcXG5cXG4gICAgICAgIGdsLnVuaWZvcm0zZihsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSlcXG4gICAgfVwiLFxuICAgIHZlYzQ6ICdnbC51bmlmb3JtNGYobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pJyxcbiAgICBpbnQ6ICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBpdmVjMjogJ2dsLnVuaWZvcm0yaShsb2NhdGlvbiwgdlswXSwgdlsxXSknLFxuICAgIGl2ZWMzOiAnZ2wudW5pZm9ybTNpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdKScsXG4gICAgaXZlYzQ6ICdnbC51bmlmb3JtNGkobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pJyxcbiAgICB1aW50OiAnZ2wudW5pZm9ybTF1aShsb2NhdGlvbiwgdiknLFxuICAgIHV2ZWMyOiAnZ2wudW5pZm9ybTJ1aShsb2NhdGlvbiwgdlswXSwgdlsxXSknLFxuICAgIHV2ZWMzOiAnZ2wudW5pZm9ybTN1aShsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSknLFxuICAgIHV2ZWM0OiAnZ2wudW5pZm9ybTR1aShsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSknLFxuICAgIGJvb2w6ICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBidmVjMjogJ2dsLnVuaWZvcm0yaShsb2NhdGlvbiwgdlswXSwgdlsxXSknLFxuICAgIGJ2ZWMzOiAnZ2wudW5pZm9ybTNpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdKScsXG4gICAgYnZlYzQ6ICdnbC51bmlmb3JtNGkobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pJyxcbiAgICBtYXQyOiAnZ2wudW5pZm9ybU1hdHJpeDJmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQzOiAnZ2wudW5pZm9ybU1hdHJpeDNmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQ0OiAnZ2wudW5pZm9ybU1hdHJpeDRmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBzYW1wbGVyMkQ6ICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBzYW1wbGVyQ3ViZTogJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxuICAgIHNhbXBsZXIyREFycmF5OiAnZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KScsXG59O1xudmFyIEdMU0xfVE9fQVJSQVlfU0VUVEVSUyA9IHtcbiAgICBmbG9hdDogXCJnbC51bmlmb3JtMWZ2KGxvY2F0aW9uLCB2KVwiLFxuICAgIHZlYzI6IFwiZ2wudW5pZm9ybTJmdihsb2NhdGlvbiwgdilcIixcbiAgICB2ZWMzOiBcImdsLnVuaWZvcm0zZnYobG9jYXRpb24sIHYpXCIsXG4gICAgdmVjNDogJ2dsLnVuaWZvcm00ZnYobG9jYXRpb24sIHYpJyxcbiAgICBtYXQ0OiAnZ2wudW5pZm9ybU1hdHJpeDRmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQzOiAnZ2wudW5pZm9ybU1hdHJpeDNmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQyOiAnZ2wudW5pZm9ybU1hdHJpeDJmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBpbnQ6ICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgaXZlYzI6ICdnbC51bmlmb3JtMml2KGxvY2F0aW9uLCB2KScsXG4gICAgaXZlYzM6ICdnbC51bmlmb3JtM2l2KGxvY2F0aW9uLCB2KScsXG4gICAgaXZlYzQ6ICdnbC51bmlmb3JtNGl2KGxvY2F0aW9uLCB2KScsXG4gICAgdWludDogJ2dsLnVuaWZvcm0xdWl2KGxvY2F0aW9uLCB2KScsXG4gICAgdXZlYzI6ICdnbC51bmlmb3JtMnVpdihsb2NhdGlvbiwgdiknLFxuICAgIHV2ZWMzOiAnZ2wudW5pZm9ybTN1aXYobG9jYXRpb24sIHYpJyxcbiAgICB1dmVjNDogJ2dsLnVuaWZvcm00dWl2KGxvY2F0aW9uLCB2KScsXG4gICAgYm9vbDogJ2dsLnVuaWZvcm0xaXYobG9jYXRpb24sIHYpJyxcbiAgICBidmVjMjogJ2dsLnVuaWZvcm0yaXYobG9jYXRpb24sIHYpJyxcbiAgICBidmVjMzogJ2dsLnVuaWZvcm0zaXYobG9jYXRpb24sIHYpJyxcbiAgICBidmVjNDogJ2dsLnVuaWZvcm00aXYobG9jYXRpb24sIHYpJyxcbiAgICBzYW1wbGVyMkQ6ICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgc2FtcGxlckN1YmU6ICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgc2FtcGxlcjJEQXJyYXk6ICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG59O1xuZnVuY3Rpb24gZ2VuZXJhdGVVbmlmb3Jtc1N5bmMoZ3JvdXAsIHVuaWZvcm1EYXRhKSB7XG4gICAgdmFyIGZ1bmNGcmFnbWVudHMgPSBbXCJcXG4gICAgICAgIHZhciB2ID0gbnVsbDtcXG4gICAgICAgIHZhciBjdiA9IG51bGxcXG4gICAgICAgIHZhciB0ID0gMDtcXG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsXFxuICAgIFwiXTtcbiAgICBmb3IgKHZhciBpIGluIGdyb3VwLnVuaWZvcm1zKSB7XG4gICAgICAgIHZhciBkYXRhID0gdW5pZm9ybURhdGFbaV07XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgaWYgKGdyb3VwLnVuaWZvcm1zW2ldLmdyb3VwKSB7XG4gICAgICAgICAgICAgICAgZnVuY0ZyYWdtZW50cy5wdXNoKFwiXFxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5zaGFkZXIuc3luY1VuaWZvcm1Hcm91cCh1dltcXFwiXCIgKyBpICsgXCJcXFwiXSwgc3luY0RhdGEpO1xcbiAgICAgICAgICAgICAgICBcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdW5pZm9ybSA9IGdyb3VwLnVuaWZvcm1zW2ldO1xuICAgICAgICB2YXIgcGFyc2VkID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdW5pZm9ybVBhcnNlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmICh1bmlmb3JtUGFyc2Vyc1tqXS50ZXN0KGRhdGEsIHVuaWZvcm0pKSB7XG4gICAgICAgICAgICAgICAgZnVuY0ZyYWdtZW50cy5wdXNoKHVuaWZvcm1QYXJzZXJzW2pdLmNvZGUoaSwgdW5pZm9ybSkpO1xuICAgICAgICAgICAgICAgIHBhcnNlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwYXJzZWQpIHtcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZVR5cGUgPSAoZGF0YS5zaXplID09PSAxKSA/IEdMU0xfVE9fU0lOR0xFX1NFVFRFUlNfQ0FDSEVEIDogR0xTTF9UT19BUlJBWV9TRVRURVJTO1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gdGVtcGxhdGVUeXBlW2RhdGEudHlwZV0ucmVwbGFjZSgnbG9jYXRpb24nLCBcInVkW1xcXCJcIiArIGkgKyBcIlxcXCJdLmxvY2F0aW9uXCIpO1xuICAgICAgICAgICAgZnVuY0ZyYWdtZW50cy5wdXNoKFwiXFxuICAgICAgICAgICAgY3YgPSB1ZFtcXFwiXCIgKyBpICsgXCJcXFwiXS52YWx1ZTtcXG4gICAgICAgICAgICB2ID0gdXZbXFxcIlwiICsgaSArIFwiXFxcIl07XFxuICAgICAgICAgICAgXCIgKyB0ZW1wbGF0ZSArIFwiO1wiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKlxuICAgICAqIHRoZSBpbnRyb2R1Y3Rpb24gb2Ygc3luY0RhdGEgaXMgdG8gc29sdmUgYW4gaXNzdWUgd2hlcmUgdGV4dHVyZXMgaW4gdW5pZm9ybSBncm91cHMgYXJlIG5vdCBzZXQgY29ycmVjdGx5XG4gICAgICogdGhlIHRleHR1cmUgY291bnQgd2FzIGFsd2F5cyBzdGFydGluZyBmcm9tIDAgaW4gZWFjaCBncm91cC4gVGhpcyBuZWVkcyB0byBpbmNyZW1lbnQgZWFjaCB0aW1lIGEgdGV4dHVyZSBpcyB1c2VkXG4gICAgICogbm8gbWF0dGVyIHdoaWNoIGdyb3VwIGlzIGJlaW5nIHVzZWRcbiAgICAgKlxuICAgICAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuY1xuICAgIHJldHVybiBuZXcgRnVuY3Rpb24oJ3VkJywgJ3V2JywgJ3JlbmRlcmVyJywgJ3N5bmNEYXRhJywgZnVuY0ZyYWdtZW50cy5qb2luKCdcXG4nKSk7XG59XG5cbnZhciBmcmFnVGVtcGxhdGUgPSBbXG4gICAgJ3ByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OycsXG4gICAgJ3ZvaWQgbWFpbih2b2lkKXsnLFxuICAgICdmbG9hdCB0ZXN0ID0gMC4xOycsXG4gICAgJyVmb3Jsb29wJScsXG4gICAgJ2dsX0ZyYWdDb2xvciA9IHZlYzQoMC4wKTsnLFxuICAgICd9JyBdLmpvaW4oJ1xcbicpO1xuZnVuY3Rpb24gZ2VuZXJhdGVJZlRlc3RTcmMobWF4SWZzKSB7XG4gICAgdmFyIHNyYyA9ICcnO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4SWZzOyArK2kpIHtcbiAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICBzcmMgKz0gJ1xcbmVsc2UgJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA8IG1heElmcyAtIDEpIHtcbiAgICAgICAgICAgIHNyYyArPSBcImlmKHRlc3QgPT0gXCIgKyBpICsgXCIuMCl7fVwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzcmM7XG59XG5mdW5jdGlvbiBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyKG1heElmcywgZ2wpIHtcbiAgICBpZiAobWF4SWZzID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB2YWx1ZSBvZiBgMGAgcGFzc2VkIHRvIGBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyYCcpO1xuICAgIH1cbiAgICB2YXIgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUik7XG4gICAgd2hpbGUgKHRydWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc3RhbnQtY29uZGl0aW9uXG4gICAgIHtcbiAgICAgICAgdmFyIGZyYWdtZW50U3JjID0gZnJhZ1RlbXBsYXRlLnJlcGxhY2UoLyVmb3Jsb29wJS9naSwgZ2VuZXJhdGVJZlRlc3RTcmMobWF4SWZzKSk7XG4gICAgICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIGZyYWdtZW50U3JjKTtcbiAgICAgICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuICAgICAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgICAgICAgbWF4SWZzID0gKG1heElmcyAvIDIpIHwgMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHZhbGlkIVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1heElmcztcbn1cblxuLy8gQ2FjaGUgdGhlIHJlc3VsdCB0byBwcmV2ZW50IHJ1bm5pbmcgdGhpcyBvdmVyIGFuZCBvdmVyXG52YXIgdW5zYWZlRXZhbDtcbi8qKlxuICogTm90IGFsbCBwbGF0Zm9ybXMgYWxsb3cgdG8gZ2VuZXJhdGUgZnVuY3Rpb24gY29kZSAoZS5nLiwgYG5ldyBGdW5jdGlvbmApLlxuICogdGhpcyBwcm92aWRlcyB0aGUgcGxhdGZvcm0tbGV2ZWwgZGV0ZWN0aW9uLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gdW5zYWZlRXZhbFN1cHBvcnRlZCgpIHtcbiAgICBpZiAodHlwZW9mIHVuc2FmZUV2YWwgPT09ICdib29sZWFuJykge1xuICAgICAgICByZXR1cm4gdW5zYWZlRXZhbDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tbmV3LWZ1bmMgKi9cbiAgICAgICAgdmFyIGZ1bmMgPSBuZXcgRnVuY3Rpb24oJ3BhcmFtMScsICdwYXJhbTInLCAncGFyYW0zJywgJ3JldHVybiBwYXJhbTFbcGFyYW0yXSA9PT0gcGFyYW0zOycpO1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLW5ldy1mdW5jICovXG4gICAgICAgIHVuc2FmZUV2YWwgPSBmdW5jKHsgYTogJ2InIH0sICdhJywgJ2InKSA9PT0gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdW5zYWZlRXZhbCA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdW5zYWZlRXZhbDtcbn1cblxudmFyIGRlZmF1bHRGcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgIGdsX0ZyYWdDb2xvciAqPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbn1cIjtcblxudmFyIGRlZmF1bHRWZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG4gICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG59XFxuXCI7XG5cbnZhciBVSUQkMyA9IDA7XG52YXIgbmFtZUNhY2hlID0ge307XG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBzaGFkZXIgcHJvZ3JhbS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQcm9ncmFtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmcmFnbWVudFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lXSAtIE5hbWUgZm9yIHNoYWRlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFByb2dyYW0odmVydGV4U3JjLCBmcmFnbWVudFNyYywgbmFtZSkge1xuICAgICAgICBpZiAobmFtZSA9PT0gdm9pZCAwKSB7IG5hbWUgPSAncGl4aS1zaGFkZXInOyB9XG4gICAgICAgIHRoaXMuaWQgPSBVSUQkMysrO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHZlcnRleCBzaGFkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVydGV4U3JjID0gdmVydGV4U3JjIHx8IFByb2dyYW0uZGVmYXVsdFZlcnRleFNyYztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSBmcmFnbWVudFNyYyB8fCBQcm9ncmFtLmRlZmF1bHRGcmFnbWVudFNyYztcbiAgICAgICAgdGhpcy52ZXJ0ZXhTcmMgPSB0aGlzLnZlcnRleFNyYy50cmltKCk7XG4gICAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSB0aGlzLmZyYWdtZW50U3JjLnRyaW0oKTtcbiAgICAgICAgaWYgKHRoaXMudmVydGV4U3JjLnN1YnN0cmluZygwLCA4KSAhPT0gJyN2ZXJzaW9uJykge1xuICAgICAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvXFxzKy9nLCAnLScpO1xuICAgICAgICAgICAgaWYgKG5hbWVDYWNoZVtuYW1lXSkge1xuICAgICAgICAgICAgICAgIG5hbWVDYWNoZVtuYW1lXSsrO1xuICAgICAgICAgICAgICAgIG5hbWUgKz0gXCItXCIgKyBuYW1lQ2FjaGVbbmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuYW1lQ2FjaGVbbmFtZV0gPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhTcmMgPSBcIiNkZWZpbmUgU0hBREVSX05BTUUgXCIgKyBuYW1lICsgXCJcXG5cIiArIHRoaXMudmVydGV4U3JjO1xuICAgICAgICAgICAgdGhpcy5mcmFnbWVudFNyYyA9IFwiI2RlZmluZSBTSEFERVJfTkFNRSBcIiArIG5hbWUgKyBcIlxcblwiICsgdGhpcy5mcmFnbWVudFNyYztcbiAgICAgICAgICAgIHRoaXMudmVydGV4U3JjID0gc2V0UHJlY2lzaW9uKHRoaXMudmVydGV4U3JjLCBzZXR0aW5ncy5QUkVDSVNJT05fVkVSVEVYLCBQUkVDSVNJT04uSElHSCk7XG4gICAgICAgICAgICB0aGlzLmZyYWdtZW50U3JjID0gc2V0UHJlY2lzaW9uKHRoaXMuZnJhZ21lbnRTcmMsIHNldHRpbmdzLlBSRUNJU0lPTl9GUkFHTUVOVCwgZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24oKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY3VycmVudGx5IHRoaXMgZG9lcyBub3QgZXh0cmFjdCBzdHJ1Y3RzIG9ubHkgZGVmYXVsdCB0eXBlc1xuICAgICAgICB0aGlzLmV4dHJhY3REYXRhKHRoaXMudmVydGV4U3JjLCB0aGlzLmZyYWdtZW50U3JjKTtcbiAgICAgICAgLy8gdGhpcyBpcyB3aGVyZSB3ZSBzdG9yZSBzaGFkZXIgcmVmZXJlbmNlcy4uXG4gICAgICAgIHRoaXMuZ2xQcm9ncmFtcyA9IHt9O1xuICAgICAgICB0aGlzLnN5bmNVbmlmb3JtcyA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHRoZSBkYXRhIGZvciBhIGJ1eSBjcmVhdGluZyBhIHNtYWxsIHRlc3QgcHJvZ3JhbVxuICAgICAqIG9yIHJlYWRpbmcgdGhlIHNyYyBkaXJlY3RseS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZlcnRleFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqL1xuICAgIFByb2dyYW0ucHJvdG90eXBlLmV4dHJhY3REYXRhID0gZnVuY3Rpb24gKHZlcnRleFNyYywgZnJhZ21lbnRTcmMpIHtcbiAgICAgICAgdmFyIGdsID0gZ2V0VGVzdENvbnRleHQoKTtcbiAgICAgICAgaWYgKGdsKSB7XG4gICAgICAgICAgICB2YXIgcHJvZ3JhbSA9IGNvbXBpbGVQcm9ncmFtKGdsLCB2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKTtcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlRGF0YSA9IHRoaXMuZ2V0QXR0cmlidXRlRGF0YShwcm9ncmFtLCBnbCk7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1EYXRhID0gdGhpcy5nZXRVbmlmb3JtRGF0YShwcm9ncmFtLCBnbCk7XG4gICAgICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51bmlmb3JtRGF0YSA9IHt9O1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVEYXRhID0ge307XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIGF0dHJpYnV0ZSBkYXRhIGZyb20gdGhlIHByb2dyYW1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFByb2dyYW19IFtwcm9ncmFtXSAtIHRoZSBXZWJHTCBwcm9ncmFtXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFtnbF0gLSB0aGUgV2ViR0wgY29udGV4dFxuICAgICAqXG4gICAgICogQHJldHVybnMge29iamVjdH0gdGhlIGF0dHJpYnV0ZSBkYXRhIGZvciB0aGlzIHByb2dyYW1cbiAgICAgKi9cbiAgICBQcm9ncmFtLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVEYXRhID0gZnVuY3Rpb24gKHByb2dyYW0sIGdsKSB7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVzID0ge307XG4gICAgICAgIHZhciBhdHRyaWJ1dGVzQXJyYXkgPSBbXTtcbiAgICAgICAgdmFyIHRvdGFsQXR0cmlidXRlcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuQUNUSVZFX0FUVFJJQlVURVMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsQXR0cmlidXRlczsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmliRGF0YSA9IGdsLmdldEFjdGl2ZUF0dHJpYihwcm9ncmFtLCBpKTtcbiAgICAgICAgICAgIHZhciB0eXBlID0gbWFwVHlwZShnbCwgYXR0cmliRGF0YS50eXBlKTtcbiAgICAgICAgICAgIC8qZXNsaW50LWRpc2FibGUgKi9cbiAgICAgICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgbmFtZTogYXR0cmliRGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgIHNpemU6IG1hcFNpemUodHlwZSksXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSAqL1xuICAgICAgICAgICAgYXR0cmlidXRlc1thdHRyaWJEYXRhLm5hbWVdID0gZGF0YTtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXNBcnJheS5wdXNoKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGF0dHJpYnV0ZXNBcnJheS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiAoYS5uYW1lID4gYi5uYW1lKSA/IDEgOiAtMTsgfSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uZnVzaW5nLWFycm93XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0cmlidXRlc0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzQXJyYXlbaV0ubG9jYXRpb24gPSBpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgdW5pZm9ybSBkYXRhIGZyb20gdGhlIHByb2dyYW1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHt3ZWJHTC1wcm9ncmFtfSBbcHJvZ3JhbV0gLSB0aGUgd2ViZ2wgcHJvZ3JhbVxuICAgICAqIEBwYXJhbSB7Y29udGV4dH0gW2dsXSAtIHRoZSBXZWJHTCBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSB0aGUgdW5pZm9ybSBkYXRhIGZvciB0aGlzIHByb2dyYW1cbiAgICAgKi9cbiAgICBQcm9ncmFtLnByb3RvdHlwZS5nZXRVbmlmb3JtRGF0YSA9IGZ1bmN0aW9uIChwcm9ncmFtLCBnbCkge1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSB7fTtcbiAgICAgICAgdmFyIHRvdGFsVW5pZm9ybXMgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkFDVElWRV9VTklGT1JNUyk7XG4gICAgICAgIC8vIFRPRE8gZXhwb3NlIHRoaXMgYXMgYSBwcm9wP1xuICAgICAgICAvLyBjb25zdCBtYXNrUmVnZXggPSBuZXcgUmVnRXhwKCdeKHByb2plY3Rpb25NYXRyaXh8dVNhbXBsZXJ8dHJhbnNsYXRpb25NYXRyaXgpJCcpO1xuICAgICAgICAvLyBjb25zdCBtYXNrUmVnZXggPSBuZXcgUmVnRXhwKCdeKHByb2plY3Rpb25NYXRyaXh8dVNhbXBsZXJ8dHJhbnNsYXRpb25NYXRyaXgpJCcpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsVW5pZm9ybXM7IGkrKykge1xuICAgICAgICAgICAgdmFyIHVuaWZvcm1EYXRhID0gZ2wuZ2V0QWN0aXZlVW5pZm9ybShwcm9ncmFtLCBpKTtcbiAgICAgICAgICAgIHZhciBuYW1lID0gdW5pZm9ybURhdGEubmFtZS5yZXBsYWNlKC9cXFsuKj9cXF0kLywgJycpO1xuICAgICAgICAgICAgdmFyIGlzQXJyYXkgPSB1bmlmb3JtRGF0YS5uYW1lLm1hdGNoKC9cXFsuKj9cXF0kLyk7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IG1hcFR5cGUoZ2wsIHVuaWZvcm1EYXRhLnR5cGUpO1xuICAgICAgICAgICAgLyplc2xpbnQtZGlzYWJsZSAqL1xuICAgICAgICAgICAgdW5pZm9ybXNbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICBzaXplOiB1bmlmb3JtRGF0YS5zaXplLFxuICAgICAgICAgICAgICAgIGlzQXJyYXk6IGlzQXJyYXksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGRlZmF1bHRWYWx1ZSh0eXBlLCB1bmlmb3JtRGF0YS5zaXplKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlICovXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuaWZvcm1zO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFByb2dyYW0sIFwiZGVmYXVsdFZlcnRleFNyY1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyIHNvdXJjZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmVydGV4O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFByb2dyYW0sIFwiZGVmYXVsdEZyYWdtZW50U3JjXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IGZyYWdtZW50IHNoYWRlciBzb3VyY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdEZyYWdtZW50O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIHByb2dyYW0gYmFzZWQgb2YgYSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlclxuICAgICAqIHRoaXMgbWV0aG9kIHdpbGwgYWxzbyBjaGVjayB0byBzZWUgaWYgdGhlcmUgaXMgYSBjYWNoZWQgcHJvZ3JhbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmcmFnbWVudFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lPXBpeGktc2hhZGVyXSAtIE5hbWUgZm9yIHNoYWRlclxuICAgICAqXG4gICAgICogQHJldHVybnMge1BJWEkuUHJvZ3JhbX0gYW4gc2hpbnkgbmV3IFBpeGkgc2hhZGVyIVxuICAgICAqL1xuICAgIFByb2dyYW0uZnJvbSA9IGZ1bmN0aW9uICh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBuYW1lKSB7XG4gICAgICAgIHZhciBrZXkgPSB2ZXJ0ZXhTcmMgKyBmcmFnbWVudFNyYztcbiAgICAgICAgdmFyIHByb2dyYW0gPSBQcm9ncmFtQ2FjaGVba2V5XTtcbiAgICAgICAgaWYgKCFwcm9ncmFtKSB7XG4gICAgICAgICAgICBQcm9ncmFtQ2FjaGVba2V5XSA9IHByb2dyYW0gPSBuZXcgUHJvZ3JhbSh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvZ3JhbTtcbiAgICB9O1xuICAgIHJldHVybiBQcm9ncmFtO1xufSgpKTtcblxuLyoqXG4gKiBBIGhlbHBlciBjbGFzcyBmb3Igc2hhZGVyc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNoYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gW3Byb2dyYW1dIC0gVGhlIHByb2dyYW0gdGhlIHNoYWRlciB3aWxsIHVzZS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3VuaWZvcm1zXSAtIEN1c3RvbSB1bmlmb3JtcyB0byB1c2UgdG8gYXVnbWVudCB0aGUgYnVpbHQtaW4gb25lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTaGFkZXIocHJvZ3JhbSwgdW5pZm9ybXMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb2dyYW0gdGhhdCB0aGUgc2hhZGVyIHVzZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qcm9ncmFtfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTtcbiAgICAgICAgLy8gbGV0cyBzZWUgd2hhdHMgYmVlbiBwYXNzZWQgaW5cbiAgICAgICAgLy8gdW5pZm9ybXMgc2hvdWxkIGJlIGNvbnZlcnRlZCB0byBhIHVuaWZvcm0gZ3JvdXBcbiAgICAgICAgaWYgKHVuaWZvcm1zKSB7XG4gICAgICAgICAgICBpZiAodW5pZm9ybXMgaW5zdGFuY2VvZiBVbmlmb3JtR3JvdXApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cCA9IHVuaWZvcm1zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3JtR3JvdXAgPSBuZXcgVW5pZm9ybUdyb3VwKHVuaWZvcm1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gbmV3IFVuaWZvcm1Hcm91cCh7fSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGltZSB0byBidWlsZCBzb21lIGdldHRlcnMgYW5kIHNldHRlcnMhXG4gICAgICAgIC8vIEkgZ3Vlc3MgZG93biB0aGUgbGluZSB0aGlzIGNvdWxkIHNvcnQgb2YgZ2VuZXJhdGUgYW4gaW5zdHJ1Y3Rpb24gbGlzdCByYXRoZXIgdGhhbiB1c2UgZGlydHkgaWRzP1xuICAgICAgICAvLyBkb2VzIHRoZSB0cmljayBmb3Igbm93IHRob3VnaCFcbiAgICAgICAgZm9yICh2YXIgaSBpbiBwcm9ncmFtLnVuaWZvcm1EYXRhKSB7XG4gICAgICAgICAgICBpZiAodGhpcy51bmlmb3JtR3JvdXAudW5pZm9ybXNbaV0gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zW2ldID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnVuaWZvcm1Hcm91cC51bmlmb3Jtc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVE9ETyBtb3ZlIHRvIHNoYWRlciBzeXN0ZW0uLlxuICAgIFNoYWRlci5wcm90b3R5cGUuY2hlY2tVbmlmb3JtRXhpc3RzID0gZnVuY3Rpb24gKG5hbWUsIGdyb3VwKSB7XG4gICAgICAgIGlmIChncm91cC51bmlmb3Jtc1tuYW1lXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSBpbiBncm91cC51bmlmb3Jtcykge1xuICAgICAgICAgICAgdmFyIHVuaWZvcm0gPSBncm91cC51bmlmb3Jtc1tpXTtcbiAgICAgICAgICAgIGlmICh1bmlmb3JtLmdyb3VwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tVbmlmb3JtRXhpc3RzKG5hbWUsIHVuaWZvcm0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBTaGFkZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHVzYWdlIGNvdW50IG9uIHByb2dyYW1zP1xuICAgICAgICAvLyByZW1vdmUgaWYgbm90IHVzZWQhXG4gICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gbnVsbDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTaGFkZXIucHJvdG90eXBlLCBcInVuaWZvcm1zXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNoYWRlciB1bmlmb3JtIHZhbHVlcywgc2hvcnRjdXQgZm9yIGB1bmlmb3JtR3JvdXAudW5pZm9ybXNgXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1Hcm91cC51bmlmb3JtcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCBmdW5jdGlvbiB0byBjcmVhdGUgYSBzaGFkZXIgYmFzZWQgb2YgYSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3VuaWZvcm1zXSAtIEN1c3RvbSB1bmlmb3JtcyB0byB1c2UgdG8gYXVnbWVudCB0aGUgYnVpbHQtaW4gb25lcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQSVhJLlNoYWRlcn0gYW4gc2hpbnkgbmV3IFBpeGkgc2hhZGVyIVxuICAgICAqL1xuICAgIFNoYWRlci5mcm9tID0gZnVuY3Rpb24gKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIHVuaWZvcm1zKSB7XG4gICAgICAgIHZhciBwcm9ncmFtID0gUHJvZ3JhbS5mcm9tKHZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuICAgICAgICByZXR1cm4gbmV3IFNoYWRlcihwcm9ncmFtLCB1bmlmb3Jtcyk7XG4gICAgfTtcbiAgICByZXR1cm4gU2hhZGVyO1xufSgpKTtcblxuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xudmFyIEJMRU5EID0gMDtcbnZhciBPRkZTRVQgPSAxO1xudmFyIENVTExJTkcgPSAyO1xudmFyIERFUFRIX1RFU1QgPSAzO1xudmFyIFdJTkRJTkcgPSA0O1xudmFyIERFUFRIX01BU0sgPSA1O1xuLyoqXG4gKiBUaGlzIGlzIGEgV2ViR0wgc3RhdGUsIGFuZCBpcyBpcyBwYXNzZWQgVGhlIFdlYkdMIFN0YXRlTWFuYWdlci5cbiAqXG4gKiBFYWNoIG1lc2ggcmVuZGVyZWQgbWF5IHJlcXVpcmUgV2ViR0wgdG8gYmUgaW4gYSBkaWZmZXJlbnQgc3RhdGUuXG4gKiBGb3IgZXhhbXBsZSB5b3UgbWF5IHdhbnQgZGlmZmVyZW50IGJsZW5kIG1vZGUgb3IgdG8gZW5hYmxlIHBvbHlnb24gb2Zmc2V0c1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFN0YXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0YXRlKCkge1xuICAgICAgICB0aGlzLmRhdGEgPSAwO1xuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgICAgdGhpcy5wb2x5Z29uT2Zmc2V0ID0gMDtcbiAgICAgICAgdGhpcy5ibGVuZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZGVwdGhNYXNrID0gdHJ1ZTtcbiAgICAgICAgLy8gIHRoaXMuZGVwdGhUZXN0ID0gdHJ1ZTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlLnByb3RvdHlwZSwgXCJibGVuZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmF0ZXMgYmxlbmRpbmcgb2YgdGhlIGNvbXB1dGVkIGZyYWdtZW50IGNvbG9yIHZhbHVlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgQkxFTkQpKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBCTEVORCkpICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBCTEVORCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGUucHJvdG90eXBlLCBcIm9mZnNldHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQWN0aXZhdGVzIGFkZGluZyBhbiBvZmZzZXQgdG8gZGVwdGggdmFsdWVzIG9mIHBvbHlnb24ncyBmcmFnbWVudHNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmICgxIDw8IE9GRlNFVCkpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IE9GRlNFVCkpICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBPRkZTRVQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlLnByb3RvdHlwZSwgXCJjdWxsaW5nXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2YXRlcyBjdWxsaW5nIG9mIHBvbHlnb25zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgQ1VMTElORykpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IENVTExJTkcpKSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgXj0gKDEgPDwgQ1VMTElORyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGUucHJvdG90eXBlLCBcImRlcHRoVGVzdFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmF0ZXMgZGVwdGggY29tcGFyaXNvbnMgYW5kIHVwZGF0ZXMgdG8gdGhlIGRlcHRoIGJ1ZmZlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmICgxIDw8IERFUFRIX1RFU1QpKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBERVBUSF9URVNUKSkgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IERFUFRIX1RFU1QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlLnByb3RvdHlwZSwgXCJkZXB0aE1hc2tcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogRW5hYmxlcyBvciBkaXNhYmxlcyB3cml0aW5nIHRvIHRoZSBkZXB0aCBidWZmZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmICgxIDw8IERFUFRIX01BU0spKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBERVBUSF9NQVNLKSkgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IERFUFRIX01BU0spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlLnByb3RvdHlwZSwgXCJjbG9ja3dpc2VGcm9udEZhY2VcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IGZyb250IG9yIGJhY2stZmFjaW5nIHBvbHlnb25zIGNhbiBiZSBjdWxsZWQuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBXSU5ESU5HKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgV0lORElORykpICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBXSU5ESU5HKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZS5wcm90b3R5cGUsIFwiYmxlbmRNb2RlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgd2hlbiB0aGlzIHN0YXRlIGlzIHNldC4gQXBwbHkgYSB2YWx1ZSBvZiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKiBTZXR0aW5nIHRoaXMgbW9kZSB0byBhbnl0aGluZyBvdGhlciB0aGFuIE5PX0JMRU5EIHdpbGwgYXV0b21hdGljYWxseSBzd2l0Y2ggYmxlbmRpbmcgb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ibGVuZE1vZGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmJsZW5kID0gKHZhbHVlICE9PSBCTEVORF9NT0RFUy5OT05FKTtcbiAgICAgICAgICAgIHRoaXMuX2JsZW5kTW9kZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlLnByb3RvdHlwZSwgXCJwb2x5Z29uT2Zmc2V0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwb2x5Z29uIG9mZnNldC4gU2V0dGluZyB0aGlzIHByb3BlcnR5IHRvIGFueXRoaW5nIG90aGVyIHRoYW4gMCB3aWxsIGF1dG9tYXRpY2FsbHkgZW5hYmxlIHBvbHlnb24gb2Zmc2V0IGZpbGwuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcG9seWdvbk9mZnNldDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMub2Zmc2V0cyA9ICEhdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9wb2x5Z29uT2Zmc2V0ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTdGF0ZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIltAcGl4aS9jb3JlOlN0YXRlIFwiXG4gICAgICAgICAgICArIChcImJsZW5kTW9kZT1cIiArIHRoaXMuYmxlbmRNb2RlICsgXCIgXCIpXG4gICAgICAgICAgICArIChcImNsb2Nrd2lzZUZyb250RmFjZT1cIiArIHRoaXMuY2xvY2t3aXNlRnJvbnRGYWNlICsgXCIgXCIpXG4gICAgICAgICAgICArIChcImN1bGxpbmc9XCIgKyB0aGlzLmN1bGxpbmcgKyBcIiBcIilcbiAgICAgICAgICAgICsgKFwiZGVwdGhNYXNrPVwiICsgdGhpcy5kZXB0aE1hc2sgKyBcIiBcIilcbiAgICAgICAgICAgICsgKFwicG9seWdvbk9mZnNldD1cIiArIHRoaXMucG9seWdvbk9mZnNldClcbiAgICAgICAgICAgICsgXCJdXCI7XG4gICAgfTtcbiAgICBTdGF0ZS5mb3IyZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gbmV3IFN0YXRlKCk7XG4gICAgICAgIHN0YXRlLmRlcHRoVGVzdCA9IGZhbHNlO1xuICAgICAgICBzdGF0ZS5ibGVuZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9O1xuICAgIHJldHVybiBTdGF0ZTtcbn0oKSk7XG5cbnZhciBkZWZhdWx0VmVydGV4JDEgPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG57XFxuICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxufVxcblxcbnZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcXG57XFxuICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcbn1cXG5cIjtcblxudmFyIGRlZmF1bHRGcmFnbWVudCQxID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG59XFxuXCI7XG5cbi8qKlxuICogQSBmaWx0ZXIgaXMgYSBzcGVjaWFsIHNoYWRlciB0aGF0IGFwcGxpZXMgcG9zdC1wcm9jZXNzaW5nIGVmZmVjdHMgdG8gYW4gaW5wdXQgdGV4dHVyZSBhbmQgd3JpdGVzIGludG8gYW4gb3V0cHV0XG4gKiByZW5kZXItdGFyZ2V0LlxuICpcbiAqIHtAbGluayBodHRwOi8vcGl4aWpzLmlvL2V4YW1wbGVzLyMvZmlsdGVycy9ibHVyLWZpbHRlci5qcyBFeGFtcGxlfSBvZiB0aGVcbiAqIHtAbGluayBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlciBCbHVyRmlsdGVyfS5cbiAqXG4gKiAjIyMgVXNhZ2VcbiAqIEZpbHRlcnMgY2FuIGJlIGFwcGxpZWQgdG8gYW55IERpc3BsYXlPYmplY3Qgb3IgQ29udGFpbmVyLlxuICogUGl4aUpTJyBgRmlsdGVyU3lzdGVtYCByZW5kZXJzIHRoZSBjb250YWluZXIgaW50byB0ZW1wb3JhcnkgRnJhbWVidWZmZXIsXG4gKiB0aGVuIGZpbHRlciByZW5kZXJzIGl0IHRvIHRoZSBzY3JlZW4uXG4gKiBNdWx0aXBsZSBmaWx0ZXJzIGNhbiBiZSBhZGRlZCB0byB0aGUgYGZpbHRlcnNgIGFycmF5IHByb3BlcnR5IGFuZCBzdGFja2VkIG9uIGVhY2ggb3RoZXIuXG4gKlxuICogYGBgXG4gKiBjb25zdCBmaWx0ZXIgPSBuZXcgUElYSS5GaWx0ZXIobXlTaGFkZXJWZXJ0LCBteVNoYWRlckZyYWcsIHsgbXlVbmlmb3JtOiAwLjUgfSk7XG4gKiBjb25zdCBjb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAqIGNvbnRhaW5lci5maWx0ZXJzID0gW2ZpbHRlcl07XG4gKiBgYGBcbiAqXG4gKiAjIyMgUHJldmlvdXMgVmVyc2lvbiBEaWZmZXJlbmNlc1xuICpcbiAqIEluIFBpeGlKUyAqKnYzKiosIGEgZmlsdGVyIHdhcyBhbHdheXMgYXBwbGllZCB0byBfd2hvbGUgc2NyZWVuXy5cbiAqXG4gKiBJbiBQaXhpSlMgKip2NCoqLCBhIGZpbHRlciBjYW4gYmUgYXBwbGllZCBfb25seSBwYXJ0IG9mIHRoZSBzY3JlZW5fLlxuICogRGV2ZWxvcGVycyBoYWQgdG8gY3JlYXRlIGEgc2V0IG9mIHVuaWZvcm1zIHRvIGRlYWwgd2l0aCBjb29yZGluYXRlcy5cbiAqXG4gKiBJbiBQaXhpSlMgKip2NSoqIGNvbWJpbmVzIF9ib3RoIGFwcHJvYWNoZXNfLlxuICogRGV2ZWxvcGVycyBjYW4gdXNlIG5vcm1hbCBjb29yZGluYXRlcyBvZiB2MyBhbmQgdGhlbiBhbGxvdyBmaWx0ZXIgdG8gdXNlIHBhcnRpYWwgRnJhbWVidWZmZXJzLFxuICogYnJpbmdpbmcgdGhvc2UgZXh0cmEgdW5pZm9ybXMgaW50byBhY2NvdW50LlxuICpcbiAqIEFsc28gYmUgYXdhcmUgdGhhdCB3ZSBoYXZlIGNoYW5nZWQgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyLCBwbGVhc2UgY29uc3VsdFxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy93aWtpL3Y1LUNyZWF0aW5nLWZpbHRlcnMgV2lraX0uXG4gKlxuICogIyMjIEZyYW1lc1xuICpcbiAqIFRoZSBmb2xsb3dpbmcgdGFibGUgc3VtbWFyaXplcyB0aGUgY29vcmRpbmF0ZSBzcGFjZXMgdXNlZCBpbiB0aGUgZmlsdGVyaW5nIHBpcGVsaW5lOlxuICpcbiAqIDx0YWJsZT5cbiAqIDx0aGVhZD5cbiAqICAgPHRyPlxuICogICAgIDx0aD5Db29yZGluYXRlIFNwYWNlPC90aD5cbiAqICAgICA8dGg+RGVzY3JpcHRpb248L3RoPlxuICogICA8L3RyPlxuICogPC90aGVhZD5cbiAqIDx0Ym9keT5cbiAqICAgPHRyPlxuICogICAgIDx0ZD5UZXh0dXJlIENvb3JkaW5hdGVzPC90ZD5cbiAqICAgICA8dGQ+XG4gKiAgICAgICAgIFRoZSB0ZXh0dXJlIChvciBVVikgY29vcmRpbmF0ZXMgaW4gdGhlIGlucHV0IGJhc2UtdGV4dHVyZSdzIHNwYWNlLiBUaGVzZSBhcmUgbm9ybWFsaXplZCBpbnRvIHRoZSAoMCwxKSByYW5nZSBhbG9uZ1xuICogICAgICAgICBib3RoIGF4ZXMuXG4gKiAgICAgPC90ZD5cbiAqICAgPC90cj5cbiAqICAgPHRyPlxuICogICAgIDx0ZD5Xb3JsZCBTcGFjZTwvdGQ+XG4gKiAgICAgPHRkPlxuICogICAgICAgICBBIHBvaW50IGluIHRoZSBzYW1lIHNwYWNlIGFzIHRoZSB3b3JsZCBib3VuZHMgb2YgYW55IGRpc3BsYXktb2JqZWN0IChpLmUuIGluIHRoZSBzY2VuZSBncmFwaCdzIHNwYWNlKS5cbiAqICAgICA8L3RkPlxuICogICA8L3RyPlxuICogICA8dHI+XG4gKiAgICAgPHRkPlBoeXNpY2FsIFBpeGVsczwvdGQ+XG4gKiAgICAgPHRkPlxuICogICAgICAgICBUaGlzIGlzIGJhc2UtdGV4dHVyZSdzIHNwYWNlIHdpdGggdGhlIG9yaWdpbiBvbiB0aGUgdG9wLWxlZnQuIFlvdSBjYW4gY2FsY3VsYXRlIHRoZXNlIGJ5IG11bHRpcGx5aW5nIHRoZSB0ZXh0dXJlXG4gKiAgICAgICAgIGNvb3JkaW5hdGVzIGJ5IHRoZSBkaW1lbnNpb25zIG9mIHRoZSB0ZXh0dXJlLlxuICogICAgIDwvdGQ+XG4gKiAgIDwvdHI+XG4gKiA8L3Rib2R5PlxuICogPC90YWJsZT5cbiAqXG4gKiAjIyMgQnVpbHQtaW4gVW5pZm9ybXNcbiAqXG4gKiBQaXhpSlMgdmlld3BvcnQgdXNlcyBzY3JlZW4gKENTUykgY29vcmRpbmF0ZXMsIGAoMCwgMCwgcmVuZGVyZXIuc2NyZWVuLndpZHRoLCByZW5kZXJlci5zY3JlZW4uaGVpZ2h0KWAsXG4gKiBhbmQgYHByb2plY3Rpb25NYXRyaXhgIHVuaWZvcm0gbWFwcyBpdCB0byB0aGUgZ2wgdmlld3BvcnQuXG4gKlxuICogKip1U2FtcGxlcioqXG4gKlxuICogVGhlIG1vc3QgaW1wb3J0YW50IHVuaWZvcm0gaXMgdGhlIGlucHV0IHRleHR1cmUgdGhhdCBjb250YWluZXIgd2FzIHJlbmRlcmVkIGludG8uXG4gKiBfSW1wb3J0YW50IG5vdGU6IGFzIHdpdGggYWxsIEZyYW1lYnVmZmVycyBpbiBQaXhpSlMsIGJvdGggaW5wdXQgYW5kIG91dHB1dCBhcmVcbiAqIHByZW11bHRpcGxpZWQgYnkgYWxwaGEuX1xuICpcbiAqIEJ5IGRlZmF1bHQsIGlucHV0IG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXMgYXJlIHBhc3NlZCB0byBmcmFnbWVudCBzaGFkZXIgd2l0aCBgdlRleHR1cmVDb29yZGAuXG4gKiBVc2UgaXQgdG8gc2FtcGxlIHRoZSBpbnB1dC5cbiAqXG4gKiBgYGBcbiAqIGNvbnN0IGZyYWdtZW50ID0gYFxuICogdmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XG4gKiB1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcbiAqIHZvaWQgbWFpbih2b2lkKVxuICoge1xuICogICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcbiAqIH1cbiAqIGA7XG4gKlxuICogY29uc3QgbXlGaWx0ZXIgPSBuZXcgUElYSS5GaWx0ZXIobnVsbCwgZnJhZ21lbnQpO1xuICogYGBgXG4gKlxuICogVGhpcyBmaWx0ZXIgaXMganVzdCBvbmUgdW5pZm9ybSBsZXNzIHRoYW4ge0BsaW5rIFBJWEkuZmlsdGVycy5BbHBoYUZpbHRlciBBbHBoYUZpbHRlcn0uXG4gKlxuICogKipvdXRwdXRGcmFtZSoqXG4gKlxuICogVGhlIGBvdXRwdXRGcmFtZWAgaG9sZHMgdGhlIHJlY3RhbmdsZSB3aGVyZSBmaWx0ZXIgaXMgYXBwbGllZCBpbiBzY3JlZW4gKENTUykgY29vcmRpbmF0ZXMuXG4gKiBJdCdzIHRoZSBzYW1lIGFzIGByZW5kZXJlci5zY3JlZW5gIGZvciBhIGZ1bGxzY3JlZW4gZmlsdGVyLlxuICogT25seSBhIHBhcnQgb2YgIGBvdXRwdXRGcmFtZS56d2Agc2l6ZSBvZiB0ZW1wb3JhcnkgRnJhbWVidWZmZXIgaXMgdXNlZCxcbiAqIGAoMCwgMCwgb3V0cHV0RnJhbWUud2lkdGgsIG91dHB1dEZyYW1lLmhlaWdodClgLFxuICpcbiAqIEZpbHRlcnMgdXNlcyB0aGlzIHF1YWQgdG8gbm9ybWFsaXplZCAoMC0xKSBzcGFjZSwgaXRzIHBhc3NlZCBpbnRvIGBhVmVydGV4UG9zaXRpb25gIGF0dHJpYnV0ZS5cbiAqIFRvIGNhbGN1bGF0ZSB2ZXJ0ZXggcG9zaXRpb24gaW4gc2NyZWVuIHNwYWNlIHVzaW5nIG5vcm1hbGl6ZWQgKDAtMSkgc3BhY2U6XG4gKlxuICogYGBgXG4gKiB2ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcbiAqIHtcbiAqICAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcbiAqICAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiAqKmlucHV0U2l6ZSoqXG4gKlxuICogVGVtcG9yYXJ5IGZyYW1lYnVmZmVyIGlzIGRpZmZlcmVudCwgaXQgY2FuIGJlIGVpdGhlciB0aGUgc2l6ZSBvZiBzY3JlZW4sIGVpdGhlciBwb3dlci1vZi10d28uXG4gKiBUaGUgYGlucHV0U2l6ZS54eWAgYXJlIHNpemUgb2YgdGVtcG9yYXJ5IGZyYW1lYnVmZmVyIHRoYXQgaG9sZHMgaW5wdXQuXG4gKiBUaGUgYGlucHV0U2l6ZS56d2AgaXMgaW52ZXJ0ZWQsIGl0J3MgYSBzaG9ydGN1dCB0byBldmFkZSBkaXZpc2lvbiBpbnNpZGUgdGhlIHNoYWRlci5cbiAqXG4gKiBTZXQgYGlucHV0U2l6ZS54eSA9IG91dHB1dEZyYW1lLnp3YCBmb3IgYSBmdWxsc2NyZWVuIGZpbHRlci5cbiAqXG4gKiBUbyBjYWxjdWxhdGUgaW5wdXQgbm9ybWFsaXplZCBjb29yZGluYXRlLCB5b3UgaGF2ZSB0byBtYXAgaXQgdG8gZmlsdGVyIG5vcm1hbGl6ZWQgc3BhY2UuXG4gKiBNdWx0aXBseSBieSBgb3V0cHV0RnJhbWUuendgIHRvIGdldCBpbnB1dCBjb29yZGluYXRlLlxuICogRGl2aWRlIGJ5IGBpbnB1dFNpemUueHlgIHRvIGdldCBpbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGUuXG4gKlxuICogYGBgXG4gKiB2ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXG4gKiB7XG4gKiAgICAgcmV0dXJuIGFWZXJ0ZXhQb3NpdGlvbiAqIChvdXRwdXRGcmFtZS56dyAqIGlucHV0U2l6ZS56dyk7IC8vIHNhbWUgYXMgL2lucHV0U2l6ZS54eVxuICogfVxuICogYGBgXG4gKiAqKnJlc29sdXRpb24qKlxuICpcbiAqIFRoZSBgcmVzb2x1dGlvbmAgaXMgdGhlIHJhdGlvIG9mIHNjcmVlbiAoQ1NTKSBwaXhlbHMgdG8gcmVhbCBwaXhlbHMuXG4gKlxuICogKippbnB1dFBpeGVsKipcbiAqXG4gKiBgaW5wdXRQaXhlbC54eWAgaXMgdGhlIHNpemUgb2YgZnJhbWVidWZmZXIgaW4gcmVhbCBwaXhlbHMsIHNhbWUgYXMgYGlucHV0U2l6ZS54eSAqIHJlc29sdXRpb25gXG4gKiBgaW5wdXRQaXhlbC56d2AgaXMgaW52ZXJ0ZWQgYGlucHV0UGl4ZWwueHlgLlxuICpcbiAqIEl0J3MgaGFuZHkgZm9yIGZpbHRlcnMgdGhhdCB1c2UgbmVpZ2hib3VyIHBpeGVscywgbGlrZSB7QGxpbmsgUElYSS5maWx0ZXJzLkZYQUFGaWx0ZXIgRlhBQUZpbHRlcn0uXG4gKlxuICogKippbnB1dENsYW1wKipcbiAqXG4gKiBJZiB5b3UgdHJ5IHRvIGdldCBpbmZvIGZyb20gb3V0c2lkZSBvZiB1c2VkIHBhcnQgb2YgRnJhbWVidWZmZXIgLSB5b3UnbGwgZ2V0IHVuZGVmaW5lZCBiZWhhdmlvdXIuXG4gKiBGb3IgZGlzcGxhY2VtZW50cywgY29vcmRpbmF0ZXMgaGFzIHRvIGJlIGNsYW1wZWQuXG4gKlxuICogVGhlIGBpbnB1dENsYW1wLnh5YCBpcyBsZWZ0LXRvcCBwaXhlbCBjZW50ZXIsIHlvdSBtYXkgaWdub3JlIGl0LCBiZWNhdXNlIHdlIHVzZSBsZWZ0LXRvcCBwYXJ0IG9mIEZyYW1lYnVmZmVyXG4gKiBgaW5wdXRDbGFtcC56d2AgaXMgYm90dG9tLXJpZ2h0IHBpeGVsIGNlbnRlci5cbiAqXG4gKiBgYGBcbiAqIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIGNsYW1wKG1vZGlmaWVkVGV4dHVyZUNvb3JkLCBpbnB1dENsYW1wLnh5LCBpbnB1dENsYW1wLnp3KSlcbiAqIGBgYFxuICogT1JcbiAqIGBgYFxuICogdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgbWluKG1vZGlmaWdlZFRleHR1cmVDb29yZCwgaW5wdXRDbGFtcC56dykpXG4gKiBgYGBcbiAqXG4gKiAjIyMgQWRkaXRpb25hbCBJbmZvcm1hdGlvblxuICpcbiAqIENvbXBsZXRlIGRvY3VtZW50YXRpb24gb24gRmlsdGVyIHVzYWdlIGlzIGxvY2F0ZWQgaW4gdGhlXG4gKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL3dpa2kvdjUtQ3JlYXRpbmctZmlsdGVycyBXaWtpfS5cbiAqXG4gKiBTaW5jZSBQaXhpSlMgb25seSBoYWQgYSBoYW5kZnVsIG9mIGJ1aWx0LWluIGZpbHRlcnMsIGFkZGl0aW9uYWwgZmlsdGVycyBjYW4gYmUgZG93bmxvYWRlZFxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS1maWx0ZXJzIGhlcmV9IGZyb20gdGhlIFBpeGlKUyBGaWx0ZXJzIHJlcG9zaXRvcnkuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5TaGFkZXJcbiAqL1xudmFyIEZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRmlsdGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmcmFnbWVudFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt1bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMgdG8gdXNlIHRvIGF1Z21lbnQgdGhlIGJ1aWx0LWluIG9uZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRmlsdGVyKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIHVuaWZvcm1zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBwcm9ncmFtID0gUHJvZ3JhbS5mcm9tKHZlcnRleFNyYyB8fCBGaWx0ZXIuZGVmYXVsdFZlcnRleFNyYywgZnJhZ21lbnRTcmMgfHwgRmlsdGVyLmRlZmF1bHRGcmFnbWVudFNyYyk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvZ3JhbSwgdW5pZm9ybXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGFkZGluZyBvZiB0aGUgZmlsdGVyLiBTb21lIGZpbHRlcnMgcmVxdWlyZSBleHRyYSBzcGFjZSB0byBicmVhdGggc3VjaCBhcyBhIGJsdXIuXG4gICAgICAgICAqIEluY3JlYXNpbmcgdGhpcyB3aWxsIGFkZCBleHRyYSB3aWR0aCBhbmQgaGVpZ2h0IHRvIHRoZSBib3VuZHMgb2YgdGhlIG9iamVjdCB0aGF0IHRoZVxuICAgICAgICAgKiBmaWx0ZXIgaXMgYXBwbGllZCB0by5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGFkZGluZyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgZmlsdGVyLiBTZXR0aW5nIHRoaXMgdG8gYmUgbG93ZXIgd2lsbCBsb3dlciB0aGUgcXVhbGl0eSBidXRcbiAgICAgICAgICogaW5jcmVhc2UgdGhlIHBlcmZvcm1hbmNlIG9mIHRoZSBmaWx0ZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSBzZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGVuYWJsZWQgaXMgdHJ1ZSB0aGUgZmlsdGVyIGlzIGFwcGxpZWQsIGlmIGZhbHNlIGl0IHdpbGwgbm90LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBlbmFibGVkLCBQaXhpSlMgd2lsbCBmaXQgdGhlIGZpbHRlciBhcmVhIGludG8gYm91bmRhcmllcyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLlxuICAgICAgICAgKiBTd2l0Y2ggaXQgb2ZmIGlmIGl0IGRvZXMgbm90IHdvcmsgZm9yIHNwZWNpZmljIHNoYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9GaXQgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTGVnYWN5IGZpbHRlcnMgdXNlIHBvc2l0aW9uIGFuZCB1dnMgZnJvbSBhdHRyaWJ1dGVzXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGVnYWN5ID0gISFfdGhpcy5wcm9ncmFtLmF0dHJpYnV0ZURhdGEuYVRleHR1cmVDb29yZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBzdGF0ZSB0aGUgZmlsdGVyIHJlcXVpcmVzIHRvIHJlbmRlclxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGUgPSBuZXcgU3RhdGUoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJTeXN0ZW19IGZpbHRlck1hbmFnZXIgLSBUaGUgcmVuZGVyZXIgdG8gcmV0cmlldmUgdGhlIGZpbHRlciBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IG91dHB1dCAtIFRoZSB0YXJnZXQgdG8gb3V0cHV0IHRvLlxuICAgICAqIEBwYXJhbSB7UElYSS5DTEVBUl9NT0RFU30gW2NsZWFyTW9kZV0gLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmcgdG8gaXQuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtjdXJyZW50U3RhdGVdIC0gSXQncyBjdXJyZW50IHN0YXRlIG9mIGZpbHRlci5cbiAgICAgKiAgICAgICAgVGhlcmUgYXJlIHNvbWUgdXNlZnVsIHByb3BlcnRpZXMgaW4gdGhlIGN1cnJlbnRTdGF0ZSA6XG4gICAgICogICAgICAgIHRhcmdldCwgZmlsdGVycywgc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUsIHJlbmRlclRhcmdldCwgcmVzb2x1dGlvblxuICAgICAqL1xuICAgIEZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiAoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlLCBfY3VycmVudFN0YXRlKSB7XG4gICAgICAgIC8vIGRvIGFzIHlvdSBwbGVhc2UhXG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICAgICAgLy8gb3IganVzdCBkbyBhIHJlZ3VsYXIgcmVuZGVyLi5cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGaWx0ZXIucHJvdG90eXBlLCBcImJsZW5kTW9kZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBibGVuZG1vZGUgb2YgdGhlIGZpbHRlclxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmJsZW5kTW9kZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmlsdGVyLCBcImRlZmF1bHRWZXJ0ZXhTcmNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgdmVydGV4IHNoYWRlciBzb3VyY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWZXJ0ZXgkMTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGaWx0ZXIsIFwiZGVmYXVsdEZyYWdtZW50U3JjXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IGZyYWdtZW50IHNoYWRlciBzb3VyY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRGcmFnbWVudCQxO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEZpbHRlcjtcbn0oU2hhZGVyKSk7XG5cbnZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyBvdGhlck1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdk1hc2tDb29yZDtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG4gICAgdk1hc2tDb29yZCA9ICggb3RoZXJNYXRyaXggKiB2ZWMzKCBhVGV4dHVyZUNvb3JkLCAxLjApICApLnh5O1xcbn1cXG5cIjtcblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdk1hc2tDb29yZDtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHNhbXBsZXIyRCBtYXNrO1xcbnVuaWZvcm0gZmxvYXQgYWxwaGE7XFxudW5pZm9ybSBmbG9hdCBucG1BbHBoYTtcXG51bmlmb3JtIHZlYzQgbWFza0NsYW1wO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZmxvYXQgY2xpcCA9IHN0ZXAoMy41LFxcbiAgICAgICAgc3RlcChtYXNrQ2xhbXAueCwgdk1hc2tDb29yZC54KSArXFxuICAgICAgICBzdGVwKG1hc2tDbGFtcC55LCB2TWFza0Nvb3JkLnkpICtcXG4gICAgICAgIHN0ZXAodk1hc2tDb29yZC54LCBtYXNrQ2xhbXAueikgK1xcbiAgICAgICAgc3RlcCh2TWFza0Nvb3JkLnksIG1hc2tDbGFtcC53KSk7XFxuXFxuICAgIHZlYzQgb3JpZ2luYWwgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICB2ZWM0IG1hc2t5ID0gdGV4dHVyZTJEKG1hc2ssIHZNYXNrQ29vcmQpO1xcbiAgICBmbG9hdCBhbHBoYU11bCA9IDEuMCAtIG5wbUFscGhhICogKDEuMCAtIG1hc2t5LmEpO1xcblxcbiAgICBvcmlnaW5hbCAqPSAoYWxwaGFNdWwgKiBtYXNreS5yICogYWxwaGEgKiBjbGlwKTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gb3JpZ2luYWw7XFxufVxcblwiO1xuXG52YXIgdGVtcE1hdCA9IG5ldyBNYXRyaXgoKTtcbi8qKlxuICogQ2xhc3MgY29udHJvbHMgdXYgbWFwcGluZyBmcm9tIFRleHR1cmUgbm9ybWFsIHNwYWNlIHRvIEJhc2VUZXh0dXJlIG5vcm1hbCBzcGFjZS5cbiAqXG4gKiBUYWtlcyBgdHJpbWAgYW5kIGByb3RhdGVgIGludG8gYWNjb3VudC4gTWF5IGNvbnRhaW4gY2xhbXAgc2V0dGluZ3MgZm9yIE1lc2hlcyBhbmQgVGlsaW5nU3ByaXRlLlxuICpcbiAqIENhbiBiZSB1c2VkIGluIFRleHR1cmUgYHV2TWF0cml4YCBmaWVsZCwgb3Igc2VwYXJhdGVseSwgeW91IGNhbiB1c2UgZGlmZmVyZW50IGNsYW1wIHNldHRpbmdzIG9uIHRoZSBzYW1lIHRleHR1cmUuXG4gKiBJZiB5b3Ugd2FudCB0byBhZGQgc3VwcG9ydCBmb3IgdGV4dHVyZSByZWdpb24gb2YgY2VydGFpbiBmZWF0dXJlIG9yIGZpbHRlciwgdGhhdCdzIHdoYXQgeW91J3JlIGxvb2tpbmcgZm9yLlxuICpcbiAqIFRha2VzIHRyYWNrIG9mIFRleHR1cmUgY2hhbmdlcyB0aHJvdWdoIGBfbGFzdFRleHR1cmVJRGAgcHJpdmF0ZSBmaWVsZC5cbiAqIFVzZSBgdXBkYXRlKClgIG1ldGhvZCBjYWxsIHRvIHRyYWNrIGl0IGZyb20gb3V0c2lkZS5cbiAqXG4gKiBAc2VlIFBJWEkuVGV4dHVyZVxuICogQHNlZSBQSVhJLk1lc2hcbiAqIEBzZWUgUElYSS5UaWxpbmdTcHJpdGVcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHR1cmVNYXRyaXggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIG9ic2VydmVkIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NsYW1wTWFyZ2luXSAtIENoYW5nZXMgZnJhbWUgY2xhbXBpbmcsIDAuNSBieSBkZWZhdWx0LiBVc2UgLTAuNSBmb3IgZXh0cmEgYm9yZGVyLlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmVNYXRyaXgodGV4dHVyZSwgY2xhbXBNYXJnaW4pIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXRyaXggb3BlcmF0aW9uIHRoYXQgY29udmVydHMgdGV4dHVyZSByZWdpb24gY29vcmRzIHRvIHRleHR1cmUgY29vcmRzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFwQ29vcmQgPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDbGFtcCByZWdpb24gZm9yIG5vcm1hbGl6ZWQgY29vcmRzLCBsZWZ0LXRvcCBwaXhlbCBjZW50ZXIgaW4geHkgLCBib3R0b20tcmlnaHQgaW4gencuXG4gICAgICAgICAqIENhbGN1bGF0ZWQgYmFzZWQgb24gY2xhbXBPZmZzZXQuXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVDbGFtcEZyYW1lID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vcm1hbGl6ZWQgY2xhbXAgb2Zmc2V0LlxuICAgICAgICAgKiBDYWxjdWxhdGVkIGJhc2VkIG9uIGNsYW1wT2Zmc2V0LlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51Q2xhbXBPZmZzZXQgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2tzIFRleHR1cmUgZnJhbWUgY2hhbmdlc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2tzIFRleHR1cmUgZnJhbWUgY2hhbmdlc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZXMgZnJhbWUgY2xhbXBpbmdcbiAgICAgICAgICogV29ya3Mgd2l0aCBUaWxpbmdTcHJpdGUgYW5kIE1lc2hcbiAgICAgICAgICogQ2hhbmdlIHRvIDEuNSBpZiB5b3UgdGV4dHVyZSBoYXMgcmVwZWF0ZWQgcmlnaHQgYW5kIGJvdHRvbSBsaW5lcywgdGhhdCBsZWFkcyB0byBzbW9vdGhlciBib3JkZXJzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGFtcE9mZnNldCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nXG4gICAgICAgICAqIFdvcmtzIHdpdGggVGlsaW5nU3ByaXRlIGFuZCBNZXNoXG4gICAgICAgICAqIENoYW5nZSB0byAtMC41IHRvIGFkZCBhIHBpeGVsIHRvIHRoZSBlZGdlLCByZWNvbW1lbmRlZCBmb3IgdHJhbnNwYXJlbnQgdHJpbW1lZCB0ZXh0dXJlcyBpbiBhdGxhc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGFtcE1hcmdpbiA9ICh0eXBlb2YgY2xhbXBNYXJnaW4gPT09ICd1bmRlZmluZWQnKSA/IDAuNSA6IGNsYW1wTWFyZ2luO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGV4dHVyZSBzaXplIGlzIHRoZSBzYW1lIGFzIGJhc2VUZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc1NpbXBsZSA9IGZhbHNlO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dHVyZU1hdHJpeC5wcm90b3R5cGUsIFwidGV4dHVyZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0ZXh0dXJlIHByb3BlcnR5XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdXZzIGFycmF5IHRvIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB1dnMgLSBtZXNoIHV2c1xuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0PXV2c10gLSBvdXRwdXRcbiAgICAgKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSBvdXRwdXRcbiAgICAgKi9cbiAgICBUZXh0dXJlTWF0cml4LnByb3RvdHlwZS5tdWx0aXBseVV2cyA9IGZ1bmN0aW9uICh1dnMsIG91dCkge1xuICAgICAgICBpZiAob3V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG91dCA9IHV2cztcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWF0ID0gdGhpcy5tYXBDb29yZDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1dnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZhciB4ID0gdXZzW2ldO1xuICAgICAgICAgICAgdmFyIHkgPSB1dnNbaSArIDFdO1xuICAgICAgICAgICAgb3V0W2ldID0gKHggKiBtYXQuYSkgKyAoeSAqIG1hdC5jKSArIG1hdC50eDtcbiAgICAgICAgICAgIG91dFtpICsgMV0gPSAoeCAqIG1hdC5iKSArICh5ICogbWF0LmQpICsgbWF0LnR5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiB1cGRhdGVzIG1hdHJpY2VzIGlmIHRleHR1cmUgd2FzIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZVVwZGF0ZT1mYWxzZV0gLSBpZiB0cnVlLCBtYXRyaWNlcyB3aWxsIGJlIHVwZGF0ZWQgYW55IGNhc2VcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gd2hldGhlciBvciBub3QgaXQgd2FzIHVwZGF0ZWRcbiAgICAgKi9cbiAgICBUZXh0dXJlTWF0cml4LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZm9yY2VVcGRhdGUpIHtcbiAgICAgICAgdmFyIHRleCA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIGlmICghdGV4IHx8ICF0ZXgudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWZvcmNlVXBkYXRlXG4gICAgICAgICAgICAmJiB0aGlzLl90ZXh0dXJlSUQgPT09IHRleC5fdXBkYXRlSUQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0ZXguX3VwZGF0ZUlEO1xuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuICAgICAgICB2YXIgdXZzID0gdGV4Ll91dnM7XG4gICAgICAgIHRoaXMubWFwQ29vcmQuc2V0KHV2cy54MSAtIHV2cy54MCwgdXZzLnkxIC0gdXZzLnkwLCB1dnMueDMgLSB1dnMueDAsIHV2cy55MyAtIHV2cy55MCwgdXZzLngwLCB1dnMueTApO1xuICAgICAgICB2YXIgb3JpZyA9IHRleC5vcmlnO1xuICAgICAgICB2YXIgdHJpbSA9IHRleC50cmltO1xuICAgICAgICBpZiAodHJpbSkge1xuICAgICAgICAgICAgdGVtcE1hdC5zZXQob3JpZy53aWR0aCAvIHRyaW0ud2lkdGgsIDAsIDAsIG9yaWcuaGVpZ2h0IC8gdHJpbS5oZWlnaHQsIC10cmltLnggLyB0cmltLndpZHRoLCAtdHJpbS55IC8gdHJpbS5oZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5tYXBDb29yZC5hcHBlbmQodGVtcE1hdCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRleEJhc2UgPSB0ZXguYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciBmcmFtZSA9IHRoaXMudUNsYW1wRnJhbWU7XG4gICAgICAgIHZhciBtYXJnaW4gPSB0aGlzLmNsYW1wTWFyZ2luIC8gdGV4QmFzZS5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5jbGFtcE9mZnNldDtcbiAgICAgICAgZnJhbWVbMF0gPSAodGV4Ll9mcmFtZS54ICsgbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2Uud2lkdGg7XG4gICAgICAgIGZyYW1lWzFdID0gKHRleC5fZnJhbWUueSArIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLmhlaWdodDtcbiAgICAgICAgZnJhbWVbMl0gPSAodGV4Ll9mcmFtZS54ICsgdGV4Ll9mcmFtZS53aWR0aCAtIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLndpZHRoO1xuICAgICAgICBmcmFtZVszXSA9ICh0ZXguX2ZyYW1lLnkgKyB0ZXguX2ZyYW1lLmhlaWdodCAtIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLmhlaWdodDtcbiAgICAgICAgdGhpcy51Q2xhbXBPZmZzZXRbMF0gPSBvZmZzZXQgLyB0ZXhCYXNlLnJlYWxXaWR0aDtcbiAgICAgICAgdGhpcy51Q2xhbXBPZmZzZXRbMV0gPSBvZmZzZXQgLyB0ZXhCYXNlLnJlYWxIZWlnaHQ7XG4gICAgICAgIHRoaXMuaXNTaW1wbGUgPSB0ZXguX2ZyYW1lLndpZHRoID09PSB0ZXhCYXNlLndpZHRoXG4gICAgICAgICAgICAmJiB0ZXguX2ZyYW1lLmhlaWdodCA9PT0gdGV4QmFzZS5oZWlnaHRcbiAgICAgICAgICAgICYmIHRleC5yb3RhdGUgPT09IDA7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgcmV0dXJuIFRleHR1cmVNYXRyaXg7XG59KCkpO1xuXG4vKipcbiAqIFRoaXMgaGFuZGxlcyBhIFNwcml0ZSBhY3RpbmcgYXMgYSBtYXNrLCBhcyBvcHBvc2VkIHRvIGEgR3JhcGhpYy5cbiAqXG4gKiBXZWJHTCBvbmx5LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTcHJpdGVNYXNrRmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTcHJpdGVNYXNrRmlsdGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IHNwcml0ZSAtIHRoZSB0YXJnZXQgc3ByaXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3ByaXRlTWFza0ZpbHRlcihzcHJpdGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1hc2tNYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdmVydGV4LCBmcmFnbWVudCkgfHwgdGhpcztcbiAgICAgICAgc3ByaXRlLnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwcml0ZSBtYXNrXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3ByaXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFza1Nwcml0ZSA9IHNwcml0ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hc2sgbWF0cml4XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFza01hdHJpeCA9IG1hc2tNYXRyaXg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIHJlbmRlcmVyIHRvIHJldHJpZXZlIHRoZSBmaWx0ZXIgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ0xFQVJfTU9ERVN9IGNsZWFyTW9kZSAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdC5cbiAgICAgKi9cbiAgICBTcHJpdGVNYXNrRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIChmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICAgICAgdmFyIG1hc2tTcHJpdGUgPSB0aGlzLm1hc2tTcHJpdGU7XG4gICAgICAgIHZhciB0ZXggPSBtYXNrU3ByaXRlLl90ZXh0dXJlO1xuICAgICAgICBpZiAoIXRleC52YWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGV4LnV2TWF0cml4KSB7XG4gICAgICAgICAgICAvLyBtYXJnaW4gPSAwLjAsIGxldCBpdCBibGVlZCBhIGJpdCwgc2hhZGVyIGNvZGUgYmVjb21lcyBlYXNpZXJcbiAgICAgICAgICAgIC8vIGFzc3VtaW5nIHRoYXQgYXRsYXMgdGV4dHVyZXMgd2VyZSBtYWRlIHdpdGggMS1waXhlbCBwYWRkaW5nXG4gICAgICAgICAgICB0ZXgudXZNYXRyaXggPSBuZXcgVGV4dHVyZU1hdHJpeCh0ZXgsIDAuMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGV4LnV2TWF0cml4LnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLm5wbUFscGhhID0gdGV4LmJhc2VUZXh0dXJlLmFscGhhTW9kZSA/IDAuMCA6IDEuMDtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tYXNrID0gdGV4O1xuICAgICAgICAvLyBnZXQgX25vcm1hbGl6ZWQgc3ByaXRlIHRleHR1cmUgY29vcmRzXyBhbmQgY29udmVydCB0aGVtIHRvIF9ub3JtYWxpemVkIGF0bGFzIHRleHR1cmUgY29vcmRzXyB3aXRoIGBwcmVwZW5kYFxuICAgICAgICB0aGlzLnVuaWZvcm1zLm90aGVyTWF0cml4ID0gZmlsdGVyTWFuYWdlci5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodGhpcy5tYXNrTWF0cml4LCBtYXNrU3ByaXRlKVxuICAgICAgICAgICAgLnByZXBlbmQodGV4LnV2TWF0cml4Lm1hcENvb3JkKTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5hbHBoYSA9IG1hc2tTcHJpdGUud29ybGRBbHBoYTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tYXNrQ2xhbXAgPSB0ZXgudXZNYXRyaXgudUNsYW1wRnJhbWU7XG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICB9O1xuICAgIHJldHVybiBTcHJpdGVNYXNrRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgbWFza3MuXG4gKlxuICogVGhlcmUgYXJlIHRocmVlIGJ1aWx0LWluIHR5cGVzIG9mIG1hc2tpbmc6XG4gKiAqICoqU2Npc3NvciBNYXNraW5nKio6IFNjaXNzb3IgbWFza2luZyBkaXNjYXJkcyBwaXhlbHMgdGhhdCBhcmUgb3V0c2lkZSBvZiBhIHJlY3RhbmdsZSBjYWxsZWQgdGhlIHNjaXNzb3IgYm94LiBJdCBpc1xuICogIHRoZSBtb3N0IHBlcmZvcm1hbnQgYXMgdGhlIHNjaXNzb3IgdGVzdCBpcyBpbmV4cGVuc2l2ZS4gSG93ZXZlciwgaXQgY2FuIG9ubHkgYmUgdXNlZCB3aGVuIHRoZSBtYXNrIGlzIHJlY3Rhbmd1bGFyLlxuICogKiAqKlN0ZW5jaWwgTWFza2luZyoqOiBTdGVuY2lsIG1hc2tpbmcgZGlzY2FyZHMgcGl4ZWxzIHRoYXQgZG9uJ3Qgb3ZlcmxhcCB3aXRoIHRoZSBwaXhlbHMgcmVuZGVyZWQgaW50byB0aGUgc3RlbmNpbFxuICogIGJ1ZmZlci4gSXQgaXMgdGhlIG5leHQgZmFzdGVzdCBvcHRpb24gYXMgaXQgZG9lcyBub3QgcmVxdWlyZSByZW5kZXJpbmcgaW50byBhIHNlcGFyYXRlIGZyYW1lYnVmZmVyLiBIb3dldmVyLCBpdCBkb2VzXG4gKiAgY2F1c2UgdGhlIG1hc2sgdG8gYmUgcmVuZGVyZWQgKip0d2ljZSoqIGZvciBlYWNoIG1hc2tpbmcgb3BlcmF0aW9uOyBoZW5jZSwgbWluaW1pemUgdGhlIHJlbmRlcmluZyBjb3N0IG9mIHlvdXIgbWFza3MuXG4gKiAqICoqU3ByaXRlIE1hc2sgRmlsdGVyaW5nKio6IFNwcml0ZSBtYXNrIGZpbHRlcmluZyBkaXNjYXJkcyBwaXhlbHMgYmFzZWQgb24gdGhlIHJlZCBjaGFubmVsIG9mIHRoZSBzcHJpdGUtbWFzaydzXG4gKiAgdGV4dHVyZS4gKEdlbmVyYWxseSwgdGhlIG1hc2tpbmcgdGV4dHVyZSBpcyBncmF5c2NhbGUpLiBVc2luZyBhZHZhbmNlZCB0ZWNobmlxdWVzLCB5b3UgbWlnaHQgYmUgYWJsZSB0byBlbWJlZCB0aGlzXG4gKiAgdHlwZSBvZiBtYXNraW5nIGluIGEgY3VzdG9tIHNoYWRlciAtIGFuZCBoZW5jZSwgYnlwYXNzaW5nIHRoZSBtYXNraW5nIHN5c3RlbSBmdWxseSBmb3IgcGVyZm9ybWFuY2Ugd2lucy5cbiAqXG4gKiBUaGUgYmVzdCB0eXBlIG9mIG1hc2tpbmcgaXMgYXV0by1kZXRlY3RlZCB3aGVuIHlvdSBgcHVzaGAgb25lLiBUbyB1c2Ugc2Npc3NvciBtYXNraW5nLCB5b3UgbXVzdCBwYXNzIGluIGEgYEdyYXBoaWNzYFxuICogb2JqZWN0IHdpdGgganVzdCBhIHJlY3RhbmdsZSBkcmF3bi5cbiAqXG4gKiAjIyBNYXNrIFN0YWNrc1xuICpcbiAqIEluIHRoZSBzY2VuZSBncmFwaCwgbWFza3MgY2FuIGJlIGFwcGxpZWQgcmVjdXJzaXZlbHksIGkuZS4gYSBtYXNrIGNhbiBiZSBhcHBsaWVkIGR1cmluZyBhIG1hc2tpbmcgb3BlcmF0aW9uLiBUaGUgbWFza1xuICogc3RhY2sgc3RvcmVzIHRoZSBjdXJyZW50bHkgYXBwbGllZCBtYXNrcyBpbiBvcmRlci4gRWFjaCB7QGxpbmsgUElYSS5CYXNlUmVuZGVyVGV4dHVyZX0gaG9sZHMgaXRzIG93biBtYXNrIHN0YWNrLCBpLmUuXG4gKiB3aGVuIHlvdSBzd2l0Y2ggcmVuZGVyLXRleHR1cmVzLCB0aGUgb2xkIG1hc2tzIG9ubHkgYXBwbGllZCB3aGVuIHlvdSBzd2l0Y2ggYmFjayB0byByZW5kZXJpbmcgdG8gdGhlIG9sZCByZW5kZXItdGFyZ2V0LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBNYXNrU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNYXNrU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hc2tTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbmFibGUgc2Npc3NvciBtYXNraW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmVuYWJsZVNjaXNzb3IgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiB1c2VkIHNwcml0ZSBtYXNrIGZpbHRlcnNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TcHJpdGVNYXNrRmlsdGVyW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYWxwaGFNYXNrUG9vbCA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiBtYXNrIGRhdGFcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXNrRGF0YVtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hc2tEYXRhUG9vbCA9IFtdO1xuICAgICAgICBfdGhpcy5tYXNrU3RhY2sgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgaW5kZXggb2YgYWxwaGEgbWFzayBwb29sXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFscGhhTWFza0luZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBtYXNrIHN0YWNrIHRoYXQgaXMgdXNlZCBieSB0aGlzIFN5c3RlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXNrRGF0YVtdfSBtYXNrU3RhY2sgLSBUaGUgbWFzayBzdGFja1xuICAgICAqL1xuICAgIE1hc2tTeXN0ZW0ucHJvdG90eXBlLnNldE1hc2tTdGFjayA9IGZ1bmN0aW9uIChtYXNrU3RhY2spIHtcbiAgICAgICAgdGhpcy5tYXNrU3RhY2sgPSBtYXNrU3RhY2s7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2Npc3Nvci5zZXRNYXNrU3RhY2sobWFza1N0YWNrKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zdGVuY2lsLnNldE1hc2tTdGFjayhtYXNrU3RhY2spO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5hYmxlcyB0aGUgbWFzayBhbmQgYXBwZW5kcyBpdCB0byB0aGUgY3VycmVudCBtYXNrIHN0YWNrLlxuICAgICAqXG4gICAgICogTk9URTogVGhlIGJhdGNoIHJlbmRlcmVyIHNob3VsZCBiZSBmbHVzaGVkIGJlZm9yZWhhbmQgdG8gcHJldmVudCBwZW5kaW5nIHJlbmRlcnMgZnJvbSBiZWluZyBtYXNrZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gdGFyZ2V0IC0gRGlzcGxheSBPYmplY3QgdG8gcHVzaCB0aGUgbWFzayB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5NYXNrRGF0YXxQSVhJLlNwcml0ZXxQSVhJLkdyYXBoaWNzfFBJWEkuRGlzcGxheU9iamVjdH0gbWFza0RhdGEgLSBUaGUgbWFza2luZyBkYXRhLlxuICAgICAqL1xuICAgIE1hc2tTeXN0ZW0ucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAodGFyZ2V0LCBtYXNrRGF0YU9yVGFyZ2V0KSB7XG4gICAgICAgIHZhciBtYXNrRGF0YSA9IG1hc2tEYXRhT3JUYXJnZXQ7XG4gICAgICAgIGlmICghbWFza0RhdGEuaXNNYXNrRGF0YSkge1xuICAgICAgICAgICAgdmFyIGQgPSB0aGlzLm1hc2tEYXRhUG9vbC5wb3AoKSB8fCBuZXcgTWFza0RhdGEoKTtcbiAgICAgICAgICAgIGQucG9vbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGQubWFza09iamVjdCA9IG1hc2tEYXRhT3JUYXJnZXQ7XG4gICAgICAgICAgICBtYXNrRGF0YSA9IGQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hc2tEYXRhLmF1dG9EZXRlY3QpIHtcbiAgICAgICAgICAgIHRoaXMuZGV0ZWN0KG1hc2tEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBtYXNrRGF0YS5jb3B5Q291bnRlcnNPclJlc2V0KHRoaXMubWFza1N0YWNrW3RoaXMubWFza1N0YWNrLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgbWFza0RhdGEuX3RhcmdldCA9IHRhcmdldDtcbiAgICAgICAgc3dpdGNoIChtYXNrRGF0YS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU0NJU1NPUjpcbiAgICAgICAgICAgICAgICB0aGlzLm1hc2tTdGFjay5wdXNoKG1hc2tEYXRhKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNjaXNzb3IucHVzaChtYXNrRGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU1RFTkNJTDpcbiAgICAgICAgICAgICAgICB0aGlzLm1hc2tTdGFjay5wdXNoKG1hc2tEYXRhKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWwucHVzaChtYXNrRGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU1BSSVRFOlxuICAgICAgICAgICAgICAgIG1hc2tEYXRhLmNvcHlDb3VudGVyc09yUmVzZXQobnVsbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoU3ByaXRlTWFzayhtYXNrRGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXNrU3RhY2sucHVzaChtYXNrRGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgbWFzayBmcm9tIHRoZSBtYXNrIHN0YWNrIGFuZCBkb2Vzbid0IHJldHVybiBpdC5cbiAgICAgKlxuICAgICAqIE5PVEU6IFRoZSBiYXRjaCByZW5kZXJlciBzaG91bGQgYmUgZmx1c2hlZCBiZWZvcmVoYW5kIHRvIHJlbmRlciB0aGUgbWFza2VkIGNvbnRlbnRzIGJlZm9yZSB0aGUgbWFzayBpcyByZW1vdmVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHBvcCB0aGUgbWFzayBmcm9tXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICB2YXIgbWFza0RhdGEgPSB0aGlzLm1hc2tTdGFjay5wb3AoKTtcbiAgICAgICAgaWYgKCFtYXNrRGF0YSB8fCBtYXNrRGF0YS5fdGFyZ2V0ICE9PSB0YXJnZXQpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGFkZCBhbiBhc3NlcnQgd2hlbiB3ZSBoYXZlIGl0XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChtYXNrRGF0YS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU0NJU1NPUjpcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNjaXNzb3IucG9wKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU1RFTkNJTDpcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWwucG9wKG1hc2tEYXRhLm1hc2tPYmplY3QpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNQUklURTpcbiAgICAgICAgICAgICAgICB0aGlzLnBvcFNwcml0ZU1hc2soKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBtYXNrRGF0YS5yZXNldCgpO1xuICAgICAgICBpZiAobWFza0RhdGEucG9vbGVkKSB7XG4gICAgICAgICAgICB0aGlzLm1hc2tEYXRhUG9vbC5wdXNoKG1hc2tEYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0eXBlIG9mIE1hc2tEYXRhIGJhc2VkIG9uIGl0cyBtYXNrT2JqZWN0XG4gICAgICogQHBhcmFtIHtQSVhJLk1hc2tEYXRhfSBtYXNrRGF0YVxuICAgICAqL1xuICAgIE1hc2tTeXN0ZW0ucHJvdG90eXBlLmRldGVjdCA9IGZ1bmN0aW9uIChtYXNrRGF0YSkge1xuICAgICAgICB2YXIgbWFza09iamVjdCA9IG1hc2tEYXRhLm1hc2tPYmplY3Q7XG4gICAgICAgIGlmIChtYXNrT2JqZWN0LmlzU3ByaXRlKSB7XG4gICAgICAgICAgICBtYXNrRGF0YS50eXBlID0gTUFTS19UWVBFUy5TUFJJVEU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbWFza0RhdGEudHlwZSA9IE1BU0tfVFlQRVMuU1RFTkNJTDtcbiAgICAgICAgLy8gZGV0ZWN0IHNjaXNzb3IgaW4gZ3JhcGhpY3NcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlU2Npc3NvclxuICAgICAgICAgICAgJiYgbWFza09iamVjdC5pc0Zhc3RSZWN0XG4gICAgICAgICAgICAmJiBtYXNrT2JqZWN0LmlzRmFzdFJlY3QoKSkge1xuICAgICAgICAgICAgdmFyIG1hdHJpeCA9IG1hc2tPYmplY3Qud29ybGRUcmFuc2Zvcm07XG4gICAgICAgICAgICAvLyBUT0RPOiBtb3ZlIHRoZSBjaGVjayB0byB0aGUgbWF0cml4IGl0c2VsZlxuICAgICAgICAgICAgLy8gd2UgYXJlIGNoZWNraW5nIHRoYXQgaXRzIG9ydGhvZ29uYWwgYW5kIHggcm90YXRpb24gaXMgMCA5MCAxODAgb3IgMjcwXG4gICAgICAgICAgICB2YXIgcm90WCA9IE1hdGguYXRhbjIobWF0cml4LmIsIG1hdHJpeC5hKTtcbiAgICAgICAgICAgIHZhciByb3RYWSA9IE1hdGguYXRhbjIobWF0cml4LmQsIG1hdHJpeC5jKTtcbiAgICAgICAgICAgIC8vIHVzZSB0aGUgbmVhcmVzdCBkZWdyZWUgdG8gMC4wMVxuICAgICAgICAgICAgcm90WCA9IE1hdGgucm91bmQocm90WCAqICgxODAgLyBNYXRoLlBJKSAqIDEwMCk7XG4gICAgICAgICAgICByb3RYWSA9IE1hdGgucm91bmQocm90WFkgKiAoMTgwIC8gTWF0aC5QSSkgKiAxMDApIC0gcm90WDtcbiAgICAgICAgICAgIHJvdFggPSAoKHJvdFggJSA5MDAwKSArIDkwMDApICUgOTAwMDtcbiAgICAgICAgICAgIHJvdFhZID0gKChyb3RYWSAlIDE4MDAwKSArIDE4MDAwKSAlIDE4MDAwO1xuICAgICAgICAgICAgaWYgKHJvdFggPT09IDAgJiYgcm90WFkgPT09IDkwMDApIHtcbiAgICAgICAgICAgICAgICBtYXNrRGF0YS50eXBlID0gTUFTS19UWVBFUy5TQ0lTU09SO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXNrRGF0YX0gbWFza0RhdGEgLSBTcHJpdGUgdG8gYmUgdXNlZCBhcyB0aGUgbWFza1xuICAgICAqL1xuICAgIE1hc2tTeXN0ZW0ucHJvdG90eXBlLnB1c2hTcHJpdGVNYXNrID0gZnVuY3Rpb24gKG1hc2tEYXRhKSB7XG4gICAgICAgIHZhciBtYXNrT2JqZWN0ID0gbWFza0RhdGEubWFza09iamVjdDtcbiAgICAgICAgdmFyIHRhcmdldCA9IG1hc2tEYXRhLl90YXJnZXQ7XG4gICAgICAgIHZhciBhbHBoYU1hc2tGaWx0ZXIgPSB0aGlzLmFscGhhTWFza1Bvb2xbdGhpcy5hbHBoYU1hc2tJbmRleF07XG4gICAgICAgIGlmICghYWxwaGFNYXNrRmlsdGVyKSB7XG4gICAgICAgICAgICBhbHBoYU1hc2tGaWx0ZXIgPSB0aGlzLmFscGhhTWFza1Bvb2xbdGhpcy5hbHBoYU1hc2tJbmRleF0gPSBbbmV3IFNwcml0ZU1hc2tGaWx0ZXIobWFza09iamVjdCldO1xuICAgICAgICB9XG4gICAgICAgIGFscGhhTWFza0ZpbHRlclswXS5yZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICBhbHBoYU1hc2tGaWx0ZXJbMF0ubWFza1Nwcml0ZSA9IG1hc2tPYmplY3Q7XG4gICAgICAgIHZhciBzdGFzaEZpbHRlckFyZWEgPSB0YXJnZXQuZmlsdGVyQXJlYTtcbiAgICAgICAgdGFyZ2V0LmZpbHRlckFyZWEgPSBtYXNrT2JqZWN0LmdldEJvdW5kcyh0cnVlKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5maWx0ZXIucHVzaCh0YXJnZXQsIGFscGhhTWFza0ZpbHRlcik7XG4gICAgICAgIHRhcmdldC5maWx0ZXJBcmVhID0gc3Rhc2hGaWx0ZXJBcmVhO1xuICAgICAgICB0aGlzLmFscGhhTWFza0luZGV4Kys7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBsYXN0IGZpbHRlciBmcm9tIHRoZSBmaWx0ZXIgc3RhY2sgYW5kIGRvZXNuJ3QgcmV0dXJuIGl0LlxuICAgICAqL1xuICAgIE1hc2tTeXN0ZW0ucHJvdG90eXBlLnBvcFNwcml0ZU1hc2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZmlsdGVyLnBvcCgpO1xuICAgICAgICB0aGlzLmFscGhhTWFza0luZGV4LS07XG4gICAgfTtcbiAgICByZXR1cm4gTWFza1N5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHNwZWNpZmljIHR5cGVzIG9mIG1hc2tpbmcgb3BlcmF0aW9ucy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQWJzdHJhY3RNYXNrU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBYnN0cmFjdE1hc2tTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQWJzdHJhY3RNYXNrU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hc2sgc3RhY2tcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXNrRGF0YVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFza1N0YWNrID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb25zdGFudCBmb3IgZ2wuZW5hYmxlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdsQ29uc3QgPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGdldHMgY291bnQgb2YgbWFza3Mgb2YgY2VydGFpbiB0eXBlXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBBYnN0cmFjdE1hc2tTeXN0ZW0ucHJvdG90eXBlLmdldFN0YWNrTGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXNrU3RhY2subGVuZ3RoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgbWFzayBzdGFjayB0aGF0IGlzIHVzZWQgYnkgdGhpcyBTeXN0ZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGFbXX0gbWFza1N0YWNrIC0gVGhlIG1hc2sgc3RhY2tcbiAgICAgKi9cbiAgICBBYnN0cmFjdE1hc2tTeXN0ZW0ucHJvdG90eXBlLnNldE1hc2tTdGFjayA9IGZ1bmN0aW9uIChtYXNrU3RhY2spIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIGN1clN0YWNrTGVuID0gdGhpcy5nZXRTdGFja0xlbmd0aCgpO1xuICAgICAgICB0aGlzLm1hc2tTdGFjayA9IG1hc2tTdGFjaztcbiAgICAgICAgdmFyIG5ld1N0YWNrTGVuID0gdGhpcy5nZXRTdGFja0xlbmd0aCgpO1xuICAgICAgICBpZiAobmV3U3RhY2tMZW4gIT09IGN1clN0YWNrTGVuKSB7XG4gICAgICAgICAgICBpZiAobmV3U3RhY2tMZW4gPT09IDApIHtcbiAgICAgICAgICAgICAgICBnbC5kaXNhYmxlKHRoaXMuZ2xDb25zdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbC5lbmFibGUodGhpcy5nbENvbnN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHVwIHJlbmRlcmVyIHRvIHVzZSB0aGUgY3VycmVudCBtYXNrIGRhdGEuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBYnN0cmFjdE1hc2tTeXN0ZW0ucHJvdG90eXBlLl91c2VDdXJyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBPVkVSV1JJVEU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgbWFzayBzdGFjay5cbiAgICAgKlxuICAgICAqL1xuICAgIEFic3RyYWN0TWFza1N5c3RlbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMubWFza1N0YWNrID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBBYnN0cmFjdE1hc2tTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBzY2lzc29yIG1hc2tpbmcuXG4gKlxuICogU2Npc3NvciBtYXNraW5nIGRpc2NhcmRzIHBpeGVscyBvdXRzaWRlIG9mIGEgcmVjdGFuZ2xlIGNhbGxlZCB0aGUgc2Npc3NvciBib3guIFRoZSBzY2lzc29yIGJveCBpcyBpbiB0aGUgZnJhbWVidWZmZXJcbiAqIHZpZXdwb3J0J3Mgc3BhY2U7IGhvd2V2ZXIsIHRoZSBtYXNrJ3MgcmVjdGFuZ2xlIGlzIHByb2plY3RlZCBmcm9tIHdvcmxkLXNwYWNlIHRvIHZpZXdwb3J0IHNwYWNlIGF1dG9tYXRpY2FsbHlcbiAqIGJ5IHRoaXMgc3lzdGVtLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTY2lzc29yU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTY2lzc29yU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNjaXNzb3JTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmdsQ29uc3QgPSBXZWJHTFJlbmRlcmluZ0NvbnRleHQuU0NJU1NPUl9URVNUO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNjaXNzb3JTeXN0ZW0ucHJvdG90eXBlLmdldFN0YWNrTGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWFza0RhdGEgPSB0aGlzLm1hc2tTdGFja1t0aGlzLm1hc2tTdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKG1hc2tEYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFza0RhdGEuX3NjaXNzb3JDb3VudGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBzdGVuY2lsIHN0YWNrLlxuICAgICAqXG4gICAgICogQGF1dGhvciBhbHZpblxuICAgICAqIEBwYXJhbSB7UElYSS5NYXNrRGF0YX0gbWFza0RhdGEgLSBUaGUgbWFzayBkYXRhXG4gICAgICovXG4gICAgU2Npc3NvclN5c3RlbS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChtYXNrRGF0YSkge1xuICAgICAgICB2YXIgbWFza09iamVjdCA9IG1hc2tEYXRhLm1hc2tPYmplY3Q7XG4gICAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IHRydWU7XG4gICAgICAgIHZhciBwcmV2RGF0YSA9IG1hc2tEYXRhLl9zY2lzc29yUmVjdDtcbiAgICAgICAgdmFyIGJvdW5kcyA9IG1hc2tPYmplY3QuZ2V0Qm91bmRzKHRydWUpO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHByZXZEYXRhKSB7XG4gICAgICAgICAgICBib3VuZHMuZml0KHByZXZEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgICB9XG4gICAgICAgIG1hc2tEYXRhLl9zY2lzc29yQ291bnRlcisrO1xuICAgICAgICBtYXNrRGF0YS5fc2Npc3NvclJlY3QgPSBib3VuZHM7XG4gICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBhZnRlciBhIG1hc2sgaXMgcG9wcGVkIG9mZiB0aGUgbWFzayBzdGFjay4gSXQgd2lsbCByZWJpbmQgdGhlIHNjaXNzb3IgYm94IHRvIGJlIGxhdGVzdCB3aXRoIHRoZVxuICAgICAqIGxhc3QgbWFzayBpbiB0aGUgc3RhY2suXG4gICAgICpcbiAgICAgKiBUaGlzIGNhbiBhbHNvIGJlIGNhbGxlZCB3aGVuIHlvdSBkaXJlY3RseSBtb2RpZnkgdGhlIHNjaXNzb3IgYm94IGFuZCB3YW50IHRvIHJlc3RvcmUgUGl4aUpTIHN0YXRlLlxuICAgICAqL1xuICAgIFNjaXNzb3JTeXN0ZW0ucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgaWYgKHRoaXMuZ2V0U3RhY2tMZW5ndGgoKSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0dXAgcmVuZGVyZXIgdG8gdXNlIHRoZSBjdXJyZW50IHNjaXNzb3IgZGF0YS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNjaXNzb3JTeXN0ZW0ucHJvdG90eXBlLl91c2VDdXJyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVjdCA9IHRoaXMubWFza1N0YWNrW3RoaXMubWFza1N0YWNrLmxlbmd0aCAtIDFdLl9zY2lzc29yUmVjdDtcbiAgICAgICAgdmFyIHJ0ID0gdGhpcy5yZW5kZXJlci5yZW5kZXJUZXh0dXJlLmN1cnJlbnQ7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucmVuZGVyZXIucHJvamVjdGlvbiwgdHJhbnNmb3JtID0gX2EudHJhbnNmb3JtLCBzb3VyY2VGcmFtZSA9IF9hLnNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lID0gX2EuZGVzdGluYXRpb25GcmFtZTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSBydCA/IHJ0LnJlc29sdXRpb24gOiB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgIHZhciBzeCA9IGRlc3RpbmF0aW9uRnJhbWUud2lkdGggLyBzb3VyY2VGcmFtZS53aWR0aDtcbiAgICAgICAgdmFyIHN5ID0gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyBzb3VyY2VGcmFtZS5oZWlnaHQ7XG4gICAgICAgIHZhciB4ID0gKCgocmVjdC54IC0gc291cmNlRnJhbWUueCkgKiBzeCkgKyBkZXN0aW5hdGlvbkZyYW1lLngpICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHkgPSAoKChyZWN0LnkgLSBzb3VyY2VGcmFtZS55KSAqIHN5KSArIGRlc3RpbmF0aW9uRnJhbWUueSkgKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgd2lkdGggPSByZWN0LndpZHRoICogc3ggKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gcmVjdC5oZWlnaHQgKiBzeSAqIHJlc29sdXRpb247XG4gICAgICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIHggKz0gdHJhbnNmb3JtLnR4ICogcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHkgKz0gdHJhbnNmb3JtLnR5ICogcmVzb2x1dGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJ0KSB7XG4gICAgICAgICAgICAvLyBmbGlwWS4gSW4gZnV0dXJlIHdlJ2xsIGhhdmUgaXQgb3ZlciByZW5kZXJUZXh0dXJlcyBhcyBhbiBvcHRpb25cbiAgICAgICAgICAgIHkgPSB0aGlzLnJlbmRlcmVyLmhlaWdodCAtIGhlaWdodCAtIHk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJlci5nbC5zY2lzc29yKHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgIH07XG4gICAgcmV0dXJuIFNjaXNzb3JTeXN0ZW07XG59KEFic3RyYWN0TWFza1N5c3RlbSkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBzdGVuY2lscyAodXNlZCBmb3IgbWFza3MpLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTdGVuY2lsU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdGVuY2lsU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN0ZW5jaWxTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmdsQ29uc3QgPSBXZWJHTFJlbmRlcmluZ0NvbnRleHQuU1RFTkNJTF9URVNUO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN0ZW5jaWxTeXN0ZW0ucHJvdG90eXBlLmdldFN0YWNrTGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWFza0RhdGEgPSB0aGlzLm1hc2tTdGFja1t0aGlzLm1hc2tTdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKG1hc2tEYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFza0RhdGEuX3N0ZW5jaWxDb3VudGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBzdGVuY2lsIHN0YWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hc2tEYXRhfSBtYXNrRGF0YSAtIFRoZSBtYXNrIGRhdGFcbiAgICAgKi9cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKG1hc2tEYXRhKSB7XG4gICAgICAgIHZhciBtYXNrT2JqZWN0ID0gbWFza0RhdGEubWFza09iamVjdDtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIHByZXZNYXNrQ291bnQgPSBtYXNrRGF0YS5fc3RlbmNpbENvdW50ZXI7XG4gICAgICAgIGlmIChwcmV2TWFza0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAvLyBmb3JjZSB1c2Ugc3RlbmNpbCB0ZXh0dXJlIGluIGN1cnJlbnQgZnJhbWVidWZmZXJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuZm9yY2VTdGVuY2lsKCk7XG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgfVxuICAgICAgICBtYXNrRGF0YS5fc3RlbmNpbENvdW50ZXIrKztcbiAgICAgICAgLy8gSW5jcmVtZW50IHRoZSByZWZlcmVuY2Ugc3RlbmNpbCB2YWx1ZSB3aGVyZSB0aGUgbmV3IG1hc2sgb3ZlcmxhcHMgd2l0aCB0aGUgb2xkIG9uZXMuXG4gICAgICAgIGdsLmNvbG9yTWFzayhmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGdsLnN0ZW5jaWxGdW5jKGdsLkVRVUFMLCBwcmV2TWFza0NvdW50LCB0aGlzLl9nZXRCaXR3aXNlTWFzaygpKTtcbiAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLklOQ1IpO1xuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcih0aGlzLnJlbmRlcmVyKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmZyYW1lYnVmZmVyLmJsaXQoKTtcbiAgICAgICAgbWFza09iamVjdC5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBvcHMgc3RlbmNpbCBtYXNrLiBNYXNrRGF0YSBpcyBhbHJlYWR5IHJlbW92ZWQgZnJvbSBzdGFja1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IG1hc2tPYmplY3QgLSBvYmplY3Qgb2YgcG9wcGVkIG1hc2sgZGF0YVxuICAgICAqL1xuICAgIFN0ZW5jaWxTeXN0ZW0ucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uIChtYXNrT2JqZWN0KSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIGlmICh0aGlzLmdldFN0YWNrTGVuZ3RoKCkgPT09IDApIHtcbiAgICAgICAgICAgIC8vIHRoZSBzdGFjayBpcyBlbXB0eSFcbiAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgICAgIGdsLmNsZWFyKGdsLlNURU5DSUxfQlVGRkVSX0JJVCk7XG4gICAgICAgICAgICBnbC5jbGVhclN0ZW5jaWwoMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBEZWNyZW1lbnQgdGhlIHJlZmVyZW5jZSBzdGVuY2lsIHZhbHVlIHdoZXJlIHRoZSBwb3BwZWQgbWFzayBvdmVybGFwcyB3aXRoIHRoZSBvdGhlciBvbmVzXG4gICAgICAgICAgICBnbC5jb2xvck1hc2soZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLkRFQ1IpO1xuICAgICAgICAgICAgbWFza09iamVjdC5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIG1hc2tPYmplY3QucmVuZGVyKHRoaXMucmVuZGVyZXIpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICAgICAgbWFza09iamVjdC5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHVwIHJlbmRlcmVyIHRvIHVzZSB0aGUgY3VycmVudCBzdGVuY2lsIGRhdGEuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5fdXNlQ3VycmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgZ2wuY29sb3JNYXNrKHRydWUsIHRydWUsIHRydWUsIHRydWUpO1xuICAgICAgICBnbC5zdGVuY2lsRnVuYyhnbC5FUVVBTCwgdGhpcy5nZXRTdGFja0xlbmd0aCgpLCB0aGlzLl9nZXRCaXR3aXNlTWFzaygpKTtcbiAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLktFRVApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRmlsbCAxcyBlcXVhbCB0byB0aGUgbnVtYmVyIG9mIGFjaXR2ZSBzdGVuY2lsIG1hc2tzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgYml0d2lzZSBtYXNrLlxuICAgICAqL1xuICAgIFN0ZW5jaWxTeXN0ZW0ucHJvdG90eXBlLl9nZXRCaXR3aXNlTWFzayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICgxIDw8IHRoaXMuZ2V0U3RhY2tMZW5ndGgoKSkgLSAxO1xuICAgIH07XG4gICAgcmV0dXJuIFN0ZW5jaWxTeXN0ZW07XG59KEFic3RyYWN0TWFza1N5c3RlbSkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0aGUgcHJvamVjdGlvbiBtYXRyaXguXG4gKlxuICogVGhlIGBwcm9qZWN0aW9uTWF0cml4YCBpcyBhIGdsb2JhbCB1bmlmb3JtIHByb3ZpZGVkIHRvIGFsbCBzaGFkZXJzLiBJdCBpcyB1c2VkIHRvIHRyYW5zZm9ybSBwb2ludHMgaW4gd29ybGQgc3BhY2UgdG9cbiAqIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGVzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQcm9qZWN0aW9uU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQcm9qZWN0aW9uU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFByb2plY3Rpb25TeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVzdGluYXRpb24gZnJhbWUgdXNlZCB0byBjYWxjdWxhdGUgdGhlIGN1cnJlbnQgcHJvamVjdGlvbiBtYXRyaXguXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBkZXN0aW5hdGlvbiBmcmFtZSBpcyB0aGUgcmVjdGFuZ2xlIGluIHRoZSByZW5kZXItdGFyZ2V0IGludG8gd2hpY2ggY29udGVudHMgYXJlIHJlbmRlcmVkLiBJZiByZW5kZXJpbmdcbiAgICAgICAgICogdG8gdGhlIHNjcmVlbiwgdGhlIG9yaWdpbiBpcyBvbiB0aGUgdG9wLWxlZnQuIElmIHJlbmRlcmluZyB0byBhIGZyYW1lYnVmZmVyLCB0aGUgb3JpZ2luIGlzIG9uIHRoZVxuICAgICAgICAgKiBib3R0b20tbGVmdC4gVGhpcyBcImZsaXBwaW5nXCIgcGhlbm9tZW5vbiBpcyBiZWNhdXNlIG9mIFdlYkdMIGNvbnZlbnRpb24gZm9yIChzaGFkZXIpIHRleHR1cmUgY29vcmRpbmF0ZXMsIHdoZXJlXG4gICAgICAgICAqIHRoZSBib3R0b20tbGVmdCBjb3JuZXIgaXMgKDAsMCkuIEl0IGFsbG93cyBkaXNwbGF5LW9iamVjdHMgdG8gbWFwIHRoZWlyICgwLDApIHBvc2l0aW9uIGluIGxvY2FsLXNwYWNlICh0b3AtbGVmdClcbiAgICAgICAgICogdG8gKDAsMCkgaW4gdGV4dHVyZSBzcGFjZSAoYm90dG9tLWxlZnQpLiBJbiBvdGhlciB3b3JkcywgYSBzcHJpdGUncyB0b3AtbGVmdCBjb3JuZXIgYWN0dWFsbHkgcmVuZGVycyB0aGVcbiAgICAgICAgICogdGV4dHVyZSdzIGJvdHRvbS1sZWZ0IGNvcm5lci4gWW91IHdpbGwgYWxzbyBub3RpY2UgdGhpcyB3aGVuIHVzaW5nIGEgdG9vbCBsaWtlIFNwZWN0b3JKUyB0byB2aWV3IHlvdXIgdGV4dHVyZXNcbiAgICAgICAgICogYXQgcnVudGltZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGRlc3RpbmF0aW9uIGZyYW1lJ3MgZGltZW5zaW9ucyAod2lkdGgsaGVpZ2h0KSBzaG91bGQgYmUgZXF1YWwgdG8gdGhlIHNvdXJjZSBmcmFtZS4gVGhpcyBpcyBiZWNhdXNlLFxuICAgICAgICAgKiBvdGhlcndpc2UsIHRoZSBjb250ZW50cyB3aWxsIGJlIHNjYWxlZCB0byBmaWxsIHRoZSBkZXN0aW5hdGlvbiBmcmFtZS4gU2ltaWxhcmx5LCB0aGUgZGVzdGluYXRpb24gZnJhbWUncyAoeCx5KVxuICAgICAgICAgKiBjb29yZGluYXRlcyBhcmUgKDAsMCkgdW5sZXNzIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzb3VyY2UgZnJhbWUgdXNlZCB0byBjYWxjdWxhdGUgdGhlIGN1cnJlbnQgcHJvamVjdGlvbiBtYXRyaXguXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBzb3VyY2UgZnJhbWUgaXMgdGhlIHJlY3RhbmdsZSBpbiB3b3JsZCBzcGFjZSBjb250YWluaW5nIHRoZSBjb250ZW50cyB0byBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc291cmNlRnJhbWUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVmYXVsdCBkZXN0aW5hdGlvbiBmcmFtZVxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGlzIG5vdCB1c2VkIGludGVybmFsbHkuIEl0IGlzIG5vdCBhZHZpc2VkIHRvIHVzZSB0aGlzIGZlYXR1cmUgc3BlY2lmaWNhbGx5IHVubGVzcyB5b3Uga25vdyB3aGF0XG4gICAgICAgICAqIHlvdSdyZSBkb2luZy4gVGhlIGB1cGRhdGVgIG1ldGhvZCB3aWxsIGRlZmF1bHQgdG8gdGhpcyBmcmFtZSBpZiB5b3UgZG8gbm90IHBhc3MgdGhlIGRlc3RpbmF0aW9uIGZyYW1lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZWZhdWx0RnJhbWUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJvamVjdGlvbiBtYXRyaXhcbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBtYXRyaXggY2FuIGJlIHVzZWQgdG8gdHJhbnNmb3JtIHBvaW50cyBmcm9tIHdvcmxkIHNwYWNlIHRvIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGVzLCBhbmQgaXMgY2FsY3VsYXRlZFxuICAgICAgICAgKiBmcm9tIHRoZSBzb3VyY2VGcmFtZSDihpIgZGVzdGluYXRpb25GcmFtZSBtYXBwaW5nIHByb3ZpZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgcmVuZGVyZXIncyBgZ2xvYmFsVW5pZm9ybXNgIGtlZXBzIGEgcmVmZXJlbmNlIHRvIHRoaXMsIGFuZCBzbyBpdCBpcyBhdmFpbGFibGUgZm9yIGFsbCBzaGFkZXJzIHRvIHVzZSBhcyBhXG4gICAgICAgICAqIHVuaWZvcm0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnByb2plY3Rpb25NYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHRyYW5zZm9ybSB0byBiZSBhcHBlbmRlZCB0byB0aGUgcHJvamVjdGlvbiBtYXRyaXguXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gdHJhbnNmb3JtIHBvaW50cyBpbiB3b3JsZC1zcGFjZSBvbmUgbGFzdCB0aW1lIGJlZm9yZSB0aGV5IGFyZSBvdXRwdXR0ZWQgYnkgdGhlIHNoYWRlci4gWW91IGNhblxuICAgICAgICAgKiB1c2UgdG8gcm90YXRlIHRoZSB3aG9sZSBzY2VuZSwgZm9yIGV4YW1wbGUuIFJlbWVtYmVyIHRvIGNsZWFyIGl0IG9uY2UgeW91J3ZlIHJlbmRlcmVkIGV2ZXJ5dGhpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBwcm9qZWN0aW9uLW1hdHJpeCBiYXNlZCBvbiB0aGUgc291cmNlRnJhbWUg4oaSIGRlc3RpbmF0aW9uRnJhbWUgbWFwcGluZyBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqIE5PVEU6IEl0IGlzIGV4cGVjdGVkIHlvdSBjYWxsIGByZW5kZXJlci5mcmFtZWJ1ZmZlci5zZXRWaWV3cG9ydChkZXN0aW5hdGlvbkZyYW1lKWAgYWZ0ZXIgdGhpcy4gVGhpcyBpcyBiZWNhdXNlXG4gICAgICogdGhlIGZyYW1lYnVmZmVyIHZpZXdwb3J0IGNvbnZlcnRzIHNoYWRlciB2ZXJ0ZXggb3V0cHV0IGluIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGVzIHRvIHdpbmRvdyBjb29yZGluYXRlcy5cbiAgICAgKlxuICAgICAqIE5PVEUtMjoge0BsaW5rIFJlbmRlclRleHR1cmVTeXN0ZW0jYmluZH0gdXBkYXRlcyB0aGUgcHJvamVjdGlvbi1tYXRyaXggd2hlbiB5b3UgYmluZCBhIHJlbmRlci10ZXh0dXJlLiBJdCBpcyBleHBlY3RlZFxuICAgICAqIHRoYXQgeW91IGRpcnR5IHRoZSBjdXJyZW50IGJpbmRpbmdzIHdoZW4gY2FsbGluZyB0aGlzIG1hbnVhbGx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIFRoZSByZWN0YW5nbGUgaW4gdGhlIHJlbmRlci10YXJnZXQgdG8gcmVuZGVyIHRoZSBjb250ZW50c1xuICAgICAqICBpbnRvLiBJZiByZW5kZXJpbmcgdG8gdGhlIGNhbnZhcywgdGhlIG9yaWdpbiBpcyBvbiB0aGUgdG9wLWxlZnQ7IGlmIHJlbmRlcmluZyB0byBhIHJlbmRlci10ZXh0dXJlLCB0aGUgb3JpZ2luXG4gICAgICogIGlzIG9uIHRoZSBib3R0b20tbGVmdC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBzb3VyY2VGcmFtZSAtIFRoZSByZWN0YW5nbGUgaW4gd29ybGQgc3BhY2UgdGhhdCBjb250YWlucyB0aGUgY29udGVudHMgYmVpbmcgcmVuZGVyZWQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyLXRhcmdldCwgd2hpY2ggaXMgdGhlIHJhdGlvIG9mIHdvcmxkLXNwYWNlIChvciBDU1MpIHBpeGVsc1xuICAgICAqICB0byBwaHlzaWNhbCBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSByb290IC0gV2hldGhlciB0aGUgcmVuZGVyLXRhcmdldCBpcyB0aGUgc2NyZWVuLiBUaGlzIGlzIHJlcXVpcmVkIGJlY2F1c2UgcmVuZGVyaW5nIHRvIHRleHR1cmVzXG4gICAgICogIGlzIHktZmxpcHBlZCAoaS5lLiB1cHNpZGUgZG93biByZWxhdGl2ZSB0byB0aGUgc2NyZWVuKS5cbiAgICAgKi9cbiAgICBQcm9qZWN0aW9uU3lzdGVtLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUsIHJlc29sdXRpb24sIHJvb3QpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gZGVzdGluYXRpb25GcmFtZSB8fCB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgfHwgdGhpcy5kZWZhdWx0RnJhbWU7XG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUgPSBzb3VyY2VGcmFtZSB8fCB0aGlzLnNvdXJjZUZyYW1lIHx8IGRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgIC8vIENhbGN1bGF0ZSBvYmplY3Qtc3BhY2UgdG8gY2xpcC1zcGFjZSBwcm9qZWN0aW9uXG4gICAgICAgIHRoaXMuY2FsY3VsYXRlUHJvamVjdGlvbih0aGlzLmRlc3RpbmF0aW9uRnJhbWUsIHRoaXMuc291cmNlRnJhbWUsIHJlc29sdXRpb24sIHJvb3QpO1xuICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIHRoaXMucHJvamVjdGlvbk1hdHJpeC5hcHBlbmQodGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnVuaWZvcm1zLnByb2plY3Rpb25NYXRyaXggPSB0aGlzLnByb2plY3Rpb25NYXRyaXg7XG4gICAgICAgIHJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnVwZGF0ZSgpO1xuICAgICAgICAvLyB0aGlzIHdpbGwgd29yayBmb3Igbm93XG4gICAgICAgIC8vIGJ1dCB3b3VsZCBiZSBzd2VldCB0byBzdGljayBhbmQgZXZlbiBvbiB0aGUgZ2xvYmFsIHVuaWZvcm1zLi5cbiAgICAgICAgaWYgKHJlbmRlcmVyLnNoYWRlci5zaGFkZXIpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnNoYWRlci5zeW5jVW5pZm9ybUdyb3VwKHJlbmRlcmVyLnNoYWRlci5zaGFkZXIudW5pZm9ybXMuZ2xvYmFscyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGBwcm9qZWN0aW9uTWF0cml4YCB0byBtYXAgcG9pbnRzIGluc2lkZSBgc291cmNlRnJhbWVgIHRvIGluc2lkZSBgZGVzdGluYXRpb25GcmFtZWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBkZXN0aW5hdGlvbkZyYW1lIC0gVGhlIGRlc3RpbmF0aW9uIGZyYW1lIGluIHRoZSByZW5kZXItdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHNvdXJjZUZyYW1lIC0gVGhlIHNvdXJjZSBmcmFtZSBpbiB3b3JsZCBzcGFjZS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSByZW5kZXItdGFyZ2V0J3MgcmVzb2x1dGlvbiwgaS5lLiByYXRpbyBvZiBDU1MgdG8gcGh5c2ljYWwgcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcm9vdCAtIFdoZXRoZXIgcmVuZGVyaW5nIGludG8gdGhlIHNjcmVlbi4gT3RoZXJ3aXNlLCBpZiByZW5kZXJpbmcgdG8gYSBmcmFtZWJ1ZmZlciwgdGhlIHByb2plY3Rpb25cbiAgICAgKiAgaXMgeS1mbGlwcGVkLlxuICAgICAqL1xuICAgIFByb2plY3Rpb25TeXN0ZW0ucHJvdG90eXBlLmNhbGN1bGF0ZVByb2plY3Rpb24gPSBmdW5jdGlvbiAoX2Rlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCBfcmVzb2x1dGlvbiwgcm9vdCkge1xuICAgICAgICB2YXIgcG0gPSB0aGlzLnByb2plY3Rpb25NYXRyaXg7XG4gICAgICAgIHZhciBzaWduID0gIXJvb3QgPyAxIDogLTE7XG4gICAgICAgIHBtLmlkZW50aXR5KCk7XG4gICAgICAgIHBtLmEgPSAoMSAvIHNvdXJjZUZyYW1lLndpZHRoICogMik7XG4gICAgICAgIHBtLmQgPSBzaWduICogKDEgLyBzb3VyY2VGcmFtZS5oZWlnaHQgKiAyKTtcbiAgICAgICAgcG0udHggPSAtMSAtIChzb3VyY2VGcmFtZS54ICogcG0uYSk7XG4gICAgICAgIHBtLnR5ID0gLXNpZ24gLSAoc291cmNlRnJhbWUueSAqIHBtLmQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdHJhbnNmb3JtIG9mIHRoZSBhY3RpdmUgcmVuZGVyIHRhcmdldCB0byB0aGUgZ2l2ZW4gbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gICAgICovXG4gICAgUHJvamVjdGlvblN5c3RlbS5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gKF9tYXRyaXgpIHtcbiAgICAgICAgLy8gdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0LnRyYW5zZm9ybSA9IG1hdHJpeDtcbiAgICB9O1xuICAgIHJldHVybiBQcm9qZWN0aW9uU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLy8gVGVtcG9yYXJ5IHJlY3RhbmdsZSBmb3IgYXNzaWduZWQgc291cmNlRnJhbWUgb3IgZGVzdGluYXRpb25GcmFtZVxudmFyIHRlbXBSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuLy8gVGVtcG9yYXJ5IHJlY3RhbmdsZSBmb3IgcmVuZGVyVGV4dHVyZSBkZXN0aW5hdGlvbkZyYW1lXG52YXIgdGVtcFJlY3QyID0gbmV3IFJlY3RhbmdsZSgpO1xuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgcmVuZGVyIHRleHR1cmVzLlxuICpcbiAqIFNob3VsZCBiZSBhZGRlZCBhZnRlciBGcmFtZWJ1ZmZlclN5c3RlbVxuICpcbiAqICMjIyBGcmFtZXNcbiAqXG4gKiBUaGUgYFJlbmRlclRleHR1cmVTeXN0ZW1gIGhvbGRzIGEgc291cmNlRnJhbWUg4oaSIGRlc3RpbmF0aW9uRnJhbWUgcHJvamVjdGlvbi4gVGhlIGZvbGxvd2luZyB0YWJsZSBleHBsYWlucyB0aGUgZGlmZmVyZW50XG4gKiBjb29yZGluYXRlIHNwYWNlcyB1c2VkOlxuICpcbiAqIHwgRnJhbWUgICAgICAgICAgICAgICAgICB8IERlc2NyaXB0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBDb29yZGluYXRlIFN5c3RlbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSB8IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gfCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHxcbiAqIHwgc291cmNlRnJhbWUgICAgICAgICAgICB8IFRoZSByZWN0YW5nbGUgaW5zaWRlIG9mIHdoaWNoIGRpc3BsYXktb2JqZWN0cyBhcmUgYmVpbmcgcmVuZGVyZWQgfCAqKldvcmxkIFNwYWNlKio6IFRoZSBvcmlnaW4gb24gdGhlIHRvcC1sZWZ0ICAgICAgICAgICAgIHxcbiAqIHwgZGVzdGluYXRpb25GcmFtZSAgICAgICB8IFRoZSByZWN0YW5nbGUgaW4gdGhlIHJlbmRlci10YXJnZXQgKGNhbnZhcyBvciB0ZXh0dXJlKSBpbnRvIHdoaWNoIGNvbnRlbnRzIHNob3VsZCBiZSByZW5kZXJlZCB8IElmIHJlbmRlcmluZyB0byB0aGUgY2FudmFzLCB0aGlzIGlzIGluIHNjcmVlbiBzcGFjZSBhbmQgdGhlIG9yaWdpbiBpcyBvbiB0aGUgdG9wLWxlZnQuIElmIHJlbmRlcmluZyB0byBhIHJlbmRlci10ZXh0dXJlLCB0aGlzIGlzIGluIGl0cyBiYXNlLXRleHR1cmUncyBzcGFjZSB3aXRoIHRoZSBvcmlnaW4gb24gdGhlIGJvdHRvbS1sZWZ0LiAgfFxuICogfCB2aWV3cG9ydEZyYW1lICAgICAgICAgIHwgVGhlIGZyYW1lYnVmZmVyIHZpZXdwb3J0IGNvcnJlc3BvbmRpbmcgdG8gdGhlIGRlc3RpbmF0aW9uLWZyYW1lICB8ICoqV2luZG93IENvb3JkaW5hdGVzKio6IFRoZSBvcmlnaW4gaXMgYWx3YXlzIG9uIHRoZSBib3R0b20tbGVmdC4gfFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSZW5kZXJUZXh0dXJlU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZW5kZXJUZXh0dXJlU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlbmRlclRleHR1cmVTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2xlYXIgYmFja2dyb3VuZCBjb2xvciBhcyByZ2JhXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2xlYXJDb2xvciA9IHJlbmRlcmVyLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhO1xuICAgICAgICAvLyBUT0RPIG1vdmUgdGhpcyBwcm9wZXJ0eSBzb21ld2hlcmUgZWxzZSFcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgbWFza3MgZm9yIHRoZSBTdGVuY2lsU3lzdGVtXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZWZhdWx0TWFza1N0YWNrID0gW107XG4gICAgICAgIC8vIGVtcHR5IHJlbmRlciB0ZXh0dXJlP1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVuZGVyIHRleHR1cmVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJUZXh0dXJlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNvdXJjZSBmcmFtZSBmb3IgdGhlIHJlbmRlci10YXJnZXQncyBwcm9qZWN0aW9uIG1hcHBpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIFNlZSB7QGxpbmsgUElYSS5Qcm9qZWN0aW9uU3lzdGVtI3NvdXJjZUZyYW1lfSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2VGcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZXN0aW5hdGlvbiBmcmFtZSBmb3IgdGhlIHJlbmRlci10YXJnZXQncyBwcm9qZWN0aW9uIG1hcHBpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIFNlZSB7QGxpbmsgUElYSS5Qcm9qZWN0aW9uI2Rlc3RpbmF0aW9uRnJhbWV9IGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdmlld3BvcnQgZnJhbWUgZm9yIHRoZSByZW5kZXItdGFyZ2V0J3Mgdmlld3BvcnQgYmluZGluZy4gVGhpcyBpcyBlcXVhbCB0byB0aGUgZGVzdGluYXRpb24tZnJhbWVcbiAgICAgICAgICogZm9yIHJlbmRlci10ZXh0dXJlcywgd2hpbGUgaXQgaXMgeS1mbGlwcGVkIHdoZW4gcmVuZGVyaW5nIHRvIHRoZSBzY3JlZW4gKGkuZS4gaXRzIG9yaWdpbiBpcyBhbHdheXMgb25cbiAgICAgICAgICogdGhlIGJvdHRvbS1sZWZ0KS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmlld3BvcnRGcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCaW5kIHRoZSBjdXJyZW50IHJlbmRlciB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gW3JlbmRlclRleHR1cmVdIC0gUmVuZGVyVGV4dHVyZSB0byBiaW5kLCBieSBkZWZhdWx0IGl0cyBgbnVsbGAsIHRoZSBzY3JlZW5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbc291cmNlRnJhbWVdIC0gcGFydCBvZiBzY3JlZW4gdGhhdCBpcyBtYXBwZWQgdG8gdGhlIHJlbmRlclRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZGVzdGluYXRpb25GcmFtZV0gLSBwYXJ0IG9mIHJlbmRlclRleHR1cmUsIGJ5IGRlZmF1bHQgaXQgaGFzIHRoZSBzYW1lIHNpemUgYXMgc291cmNlRnJhbWVcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKHJlbmRlclRleHR1cmUsIHNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lKSB7XG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlID09PSB2b2lkIDApIHsgcmVuZGVyVGV4dHVyZSA9IG51bGw7IH1cbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gcmVuZGVyVGV4dHVyZTtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgZnJhbWVidWZmZXI7XG4gICAgICAgIHZhciByZXNvbHV0aW9uO1xuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUgPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IGJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgICAgICBpZiAoIXNvdXJjZUZyYW1lKSB7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3Qud2lkdGggPSByZW5kZXJUZXh0dXJlLmZyYW1lLndpZHRoO1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0LmhlaWdodCA9IHJlbmRlclRleHR1cmUuZnJhbWUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHNvdXJjZUZyYW1lID0gdGVtcFJlY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWRlc3RpbmF0aW9uRnJhbWUpIHtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdDIueCA9IHJlbmRlclRleHR1cmUuZnJhbWUueDtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdDIueSA9IHJlbmRlclRleHR1cmUuZnJhbWUueTtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdDIud2lkdGggPSBzb3VyY2VGcmFtZS53aWR0aDtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdDIuaGVpZ2h0ID0gc291cmNlRnJhbWUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUgPSB0ZW1wUmVjdDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcmFtZWJ1ZmZlciA9IGJhc2VUZXh0dXJlLmZyYW1lYnVmZmVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICBpZiAoIXNvdXJjZUZyYW1lKSB7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3Qud2lkdGggPSByZW5kZXJlci5zY3JlZW4ud2lkdGg7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3QuaGVpZ2h0ID0gcmVuZGVyZXIuc2NyZWVuLmhlaWdodDtcbiAgICAgICAgICAgICAgICBzb3VyY2VGcmFtZSA9IHRlbXBSZWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFkZXN0aW5hdGlvbkZyYW1lKSB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb25GcmFtZSA9IHRlbXBSZWN0O1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggPSBzb3VyY2VGcmFtZS53aWR0aDtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCA9IHNvdXJjZUZyYW1lLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdmlld3BvcnRGcmFtZSA9IHRoaXMudmlld3BvcnRGcmFtZTtcbiAgICAgICAgdmlld3BvcnRGcmFtZS54ID0gZGVzdGluYXRpb25GcmFtZS54ICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmlld3BvcnRGcmFtZS55ID0gZGVzdGluYXRpb25GcmFtZS55ICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmlld3BvcnRGcmFtZS53aWR0aCA9IGRlc3RpbmF0aW9uRnJhbWUud2lkdGggKiByZXNvbHV0aW9uO1xuICAgICAgICB2aWV3cG9ydEZyYW1lLmhlaWdodCA9IGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKCFyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICB2aWV3cG9ydEZyYW1lLnkgPSByZW5kZXJlci52aWV3LmhlaWdodCAtICh2aWV3cG9ydEZyYW1lLnkgKyB2aWV3cG9ydEZyYW1lLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJlci5mcmFtZWJ1ZmZlci5iaW5kKGZyYW1lYnVmZmVyLCB2aWV3cG9ydEZyYW1lKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5wcm9qZWN0aW9uLnVwZGF0ZShkZXN0aW5hdGlvbkZyYW1lLCBzb3VyY2VGcmFtZSwgcmVzb2x1dGlvbiwgIWZyYW1lYnVmZmVyKTtcbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIubWFzay5zZXRNYXNrU3RhY2soYmFzZVRleHR1cmUubWFza1N0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIubWFzay5zZXRNYXNrU3RhY2sodGhpcy5kZWZhdWx0TWFza1N0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNvdXJjZUZyYW1lLmNvcHlGcm9tKHNvdXJjZUZyYW1lKTtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLmNvcHlGcm9tKGRlc3RpbmF0aW9uRnJhbWUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRXJhc2VzIHRoZSByZW5kZXIgdGV4dHVyZSBhbmQgZmlsbHMgdGhlIGRyYXdpbmcgYXJlYSB3aXRoIGEgY29sb3VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBbY2xlYXJDb2xvcl0gLSBUaGUgY29sb3IgYXMgcmdiYSwgZGVmYXVsdCB0byB1c2UgdGhlIHJlbmRlcmVyIGJhY2tncm91bmRDb2xvclxuICAgICAqIEBwYXJhbSB7UElYSS5CVUZGRVJfQklUU30gW21hc2s9QlVGRkVSX0JJVFMuQ09MT1IgfCBCVUZGRVJfQklUUy5ERVBUSF0gLSBCaXR3aXNlIE9SIG9mIG1hc2tzXG4gICAgICogIHRoYXQgaW5kaWNhdGUgdGhlIGJ1ZmZlcnMgdG8gYmUgY2xlYXJlZCwgYnkgZGVmYXVsdCBDT0xPUiBhbmQgREVQVEggYnVmZmVycy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIChjbGVhckNvbG9yLCBtYXNrKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNsZWFyQ29sb3IgPSBjbGVhckNvbG9yIHx8IHRoaXMuY3VycmVudC5iYXNlVGV4dHVyZS5jbGVhckNvbG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2xlYXJDb2xvciA9IGNsZWFyQ29sb3IgfHwgdGhpcy5jbGVhckNvbG9yO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbkZyYW1lID0gdGhpcy5kZXN0aW5hdGlvbkZyYW1lO1xuICAgICAgICB2YXIgYmFzZUZyYW1lID0gdGhpcy5jdXJyZW50ID8gdGhpcy5jdXJyZW50LmJhc2VUZXh0dXJlIDogdGhpcy5yZW5kZXJlci5zY3JlZW47XG4gICAgICAgIHZhciBjbGVhck1hc2sgPSBkZXN0aW5hdGlvbkZyYW1lLndpZHRoICE9PSBiYXNlRnJhbWUud2lkdGggfHwgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgIT09IGJhc2VGcmFtZS5oZWlnaHQ7XG4gICAgICAgIGlmIChjbGVhck1hc2spIHtcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMudmlld3BvcnRGcmFtZSwgeCA9IF9hLngsIHkgPSBfYS55LCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgICAgICAvLyBUT0RPOiBTY2lzc29yU3lzdGVtIHNob3VsZCBjYWNoZSB3aGV0aGVyIHRoZSBzY2lzc29yIHRlc3QgaXMgZW5hYmxlZCBvciBub3QuXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdsLmVuYWJsZSh0aGlzLnJlbmRlcmVyLmdsLlNDSVNTT1JfVEVTVCk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdsLnNjaXNzb3IoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJlci5mcmFtZWJ1ZmZlci5jbGVhcihjbGVhckNvbG9yWzBdLCBjbGVhckNvbG9yWzFdLCBjbGVhckNvbG9yWzJdLCBjbGVhckNvbG9yWzNdLCBtYXNrKTtcbiAgICAgICAgaWYgKGNsZWFyTWFzaykge1xuICAgICAgICAgICAgLy8gUmVzdG9yZSB0aGUgc2Npc3NvciBib3hcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2Npc3Nvci5wb3AoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyByZXNpemUgdGhlIHJvb3Qgb25seSFcbiAgICAgICAgdGhpcy5iaW5kKG51bGwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHJlbmRlclRleHR1cmUgc3RhdGVcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5iaW5kKG51bGwpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlbmRlclRleHR1cmVTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG52YXIgSUdMVW5pZm9ybURhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSUdMVW5pZm9ybURhdGEoKSB7XG4gICAgfVxuICAgIHJldHVybiBJR0xVbmlmb3JtRGF0YTtcbn0oKSk7XG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBXZWJHTCBQcm9ncmFtXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR0xQcm9ncmFtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIE1ha2VzIGEgbmV3IFBpeGkgcHJvZ3JhbVxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFByb2dyYW19IHByb2dyYW0gLSB3ZWJnbCBwcm9ncmFtXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1EYXRhIC0gdW5pZm9ybXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBHTFByb2dyYW0ocHJvZ3JhbSwgdW5pZm9ybURhdGEpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzaGFkZXIgcHJvZ3JhbVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFByb2dyYW19XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtO1xuICAgICAgICAvKipcbiAgICAgICAgICogaG9sZHMgdGhlIHVuaWZvcm0gZGF0YSB3aGljaCBjb250YWlucyB1bmlmb3JtIGxvY2F0aW9uc1xuICAgICAgICAgKiBhbmQgY3VycmVudCB1bmlmb3JtIHZhbHVlcyB1c2VkIGZvciBjYWNoaW5nIGFuZCBwcmV2ZW50aW5nIHVubmVlZGVkIEdQVSBjb21tYW5kc1xuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVuaWZvcm1EYXRhID0gdW5pZm9ybURhdGE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1bmlmb3JtR3JvdXBzIGhvbGRzIHRoZSB2YXJpb3VzIHVwbG9hZCBmdW5jdGlvbnMgZm9yIHRoZSBzaGFkZXIuIEVhY2ggdW5pZm9ybSBncm91cFxuICAgICAgICAgKiBhbmQgcHJvZ3JhbSBoYXZlIGEgdW5pcXVlIHVwbG9hZCBmdW5jdGlvbiBnZW5lcmF0ZWQuXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW5pZm9ybUdyb3VwcyA9IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHByb2dyYW1cbiAgICAgKi9cbiAgICBHTFByb2dyYW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudW5pZm9ybURhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cHMgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2dyYW0gPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEdMUHJvZ3JhbTtcbn0oKSk7XG5cbnZhciBVSUQkNCA9IDA7XG4vLyBkZWZhdWx0IHN5bmMgZGF0YSBzbyB3ZSBkb24ndCBjcmVhdGUgYSBuZXcgb25lIGVhY2ggdGltZSFcbnZhciBkZWZhdWx0U3luY0RhdGEgPSB7IHRleHR1cmVDb3VudDogMCB9O1xuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2Ugc2hhZGVycy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICovXG52YXIgU2hhZGVyU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTaGFkZXJTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2hhZGVyU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgLy8gVmFsaWRhdGlvbiBjaGVjayB0aGF0IHRoaXMgZW52aXJvbm1lbnQgc3VwcG9ydCBgbmV3IEZ1bmN0aW9uYFxuICAgICAgICBfdGhpcy5zeXN0ZW1DaGVjaygpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ2wgPSBudWxsO1xuICAgICAgICBfdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICBfdGhpcy5wcm9ncmFtID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlIHRvIGhvbGRzIHRoZSBnZW5lcmF0ZWQgZnVuY3Rpb25zLiBTdG9yZWQgYWdhaW5zdCBVbmlmb3JtT2JqZWN0cyB1bmlxdWUgc2lnbmF0dXJlXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYWNoZSA9IHt9O1xuICAgICAgICBfdGhpcy5pZCA9IFVJRCQ0Kys7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVhYmxlIGZ1bmN0aW9uIGJ5IGBAcGl4aS91bnNhZmUtZXZhbGAgdG8gc2lsZW5jZVxuICAgICAqIHRocm93aW5nIGFuIGVycm9yIGlmIHBsYXRmb3JtIGRvZXNuJ3Qgc3VwcG9ydCB1bnNhZmUtZXZhbHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuc3lzdGVtQ2hlY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdW5zYWZlRXZhbFN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0N1cnJlbnQgZW52aXJvbm1lbnQgZG9lcyBub3QgYWxsb3cgdW5zYWZlLWV2YWwsICdcbiAgICAgICAgICAgICAgICArICdwbGVhc2UgdXNlIEBwaXhpL3Vuc2FmZS1ldmFsIG1vZHVsZSB0byBlbmFibGUgc3VwcG9ydC4nKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gKGdsKSB7XG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgY3VycmVudCBzaGFkZXIgdG8gdGhlIG9uZSBnaXZlbiBpbiBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TaGFkZXJ9IHNoYWRlciAtIHRoZSBuZXcgc2hhZGVyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZG9udFN5bmNdIC0gZmFsc2UgaWYgdGhlIHNoYWRlciBzaG91bGQgYXV0b21hdGljYWxseSBzeW5jIGl0cyB1bmlmb3Jtcy5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5HTFByb2dyYW19IHRoZSBnbFByb2dyYW0gdGhhdCBiZWxvbmdzIHRvIHRoZSBzaGFkZXIuXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKHNoYWRlciwgZG9udFN5bmMpIHtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLmdsb2JhbHMgPSB0aGlzLnJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zO1xuICAgICAgICB2YXIgcHJvZ3JhbSA9IHNoYWRlci5wcm9ncmFtO1xuICAgICAgICB2YXIgZ2xQcm9ncmFtID0gcHJvZ3JhbS5nbFByb2dyYW1zW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdIHx8IHRoaXMuZ2VuZXJhdGVTaGFkZXIoc2hhZGVyKTtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBzaGFkZXI7XG4gICAgICAgIC8vIFRPRE8gLSBzb21lIGN1cnJlbnQgUGl4aSBwbHVnaW5zIGJ5cGFzcyB0aGlzLi4gc28gaXQgbm90IHNhZmUgdG8gdXNlIHlldC4uXG4gICAgICAgIGlmICh0aGlzLnByb2dyYW0gIT09IHByb2dyYW0pIHtcbiAgICAgICAgICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgICAgICB0aGlzLmdsLnVzZVByb2dyYW0oZ2xQcm9ncmFtLnByb2dyYW0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZG9udFN5bmMpIHtcbiAgICAgICAgICAgIGRlZmF1bHRTeW5jRGF0YS50ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICAgICAgdGhpcy5zeW5jVW5pZm9ybUdyb3VwKHNoYWRlci51bmlmb3JtR3JvdXAsIGRlZmF1bHRTeW5jRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdsUHJvZ3JhbTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHVuaWZvcm1zIHZhbHVlcyB0byB0aGUgY3VycmVudGx5IGJvdW5kIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSB1bmlmb3JtcyAtIHRoZSB1bmlmb3JtcyB2YWx1ZXMgdGhhdCBiZSBhcHBsaWVkIHRvIHRoZSBjdXJyZW50IHNoYWRlclxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuc2V0VW5pZm9ybXMgPSBmdW5jdGlvbiAodW5pZm9ybXMpIHtcbiAgICAgICAgdmFyIHNoYWRlciA9IHRoaXMuc2hhZGVyLnByb2dyYW07XG4gICAgICAgIHZhciBnbFByb2dyYW0gPSBzaGFkZXIuZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgc2hhZGVyLnN5bmNVbmlmb3JtcyhnbFByb2dyYW0udW5pZm9ybURhdGEsIHVuaWZvcm1zLCB0aGlzLnJlbmRlcmVyKTtcbiAgICB9O1xuICAgIC8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXMgKi9cbiAgICAvKipcbiAgICAgKlxuICAgICAqIHN5bmNzIHVuaWZvcm1zIG9uIHRoZSBncm91cFxuICAgICAqIEBwYXJhbSB7Kn0gZ3JvdXAgLSB0aGUgdW5pZm9ybSBncm91cCB0byBzeW5jXG4gICAgICogQHBhcmFtIHsqfSBbc3luY0RhdGFdIC0gdGhpcyBpcyBkYXRhIHRoYXQgaXMgcGFzc2VkIHRvIHRoZSBzeW5jIGZ1bmN0aW9uIGFuZCBhbnkgbmVzdGVkIHN5bmMgZnVuY3Rpb25zXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5zeW5jVW5pZm9ybUdyb3VwID0gZnVuY3Rpb24gKGdyb3VwLCBzeW5jRGF0YSkge1xuICAgICAgICB2YXIgZ2xQcm9ncmFtID0gdGhpcy5nZXRnbFByb2dyYW0oKTtcbiAgICAgICAgaWYgKCFncm91cC5zdGF0aWMgfHwgZ3JvdXAuZGlydHlJZCAhPT0gZ2xQcm9ncmFtLnVuaWZvcm1Hcm91cHNbZ3JvdXAuaWRdKSB7XG4gICAgICAgICAgICBnbFByb2dyYW0udW5pZm9ybUdyb3Vwc1tncm91cC5pZF0gPSBncm91cC5kaXJ0eUlkO1xuICAgICAgICAgICAgdGhpcy5zeW5jVW5pZm9ybXMoZ3JvdXAsIGdsUHJvZ3JhbSwgc3luY0RhdGEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPdmVycmlkZWFibGUgYnkgdGhlIEBwaXhpL3Vuc2FmZS1ldmFsIHBhY2thZ2UgdG8gdXNlIHN0YXRpY1xuICAgICAqIHN5bmNVbmZvcm1zIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuc3luY1VuaWZvcm1zID0gZnVuY3Rpb24gKGdyb3VwLCBnbFByb2dyYW0sIHN5bmNEYXRhKSB7XG4gICAgICAgIHZhciBzeW5jRnVuYyA9IGdyb3VwLnN5bmNVbmlmb3Jtc1t0aGlzLnNoYWRlci5wcm9ncmFtLmlkXSB8fCB0aGlzLmNyZWF0ZVN5bmNHcm91cHMoZ3JvdXApO1xuICAgICAgICBzeW5jRnVuYyhnbFByb2dyYW0udW5pZm9ybURhdGEsIGdyb3VwLnVuaWZvcm1zLCB0aGlzLnJlbmRlcmVyLCBzeW5jRGF0YSk7XG4gICAgfTtcbiAgICAvKiBlc2xpbnQtZW5hYmxlIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXMgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmNyZWF0ZVN5bmNHcm91cHMgPSBmdW5jdGlvbiAoZ3JvdXApIHtcbiAgICAgICAgdmFyIGlkID0gdGhpcy5nZXRTaWduYXR1cmUoZ3JvdXAsIHRoaXMuc2hhZGVyLnByb2dyYW0udW5pZm9ybURhdGEpO1xuICAgICAgICBpZiAoIXRoaXMuY2FjaGVbaWRdKSB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlW2lkXSA9IGdlbmVyYXRlVW5pZm9ybXNTeW5jKGdyb3VwLCB0aGlzLnNoYWRlci5wcm9ncmFtLnVuaWZvcm1EYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBncm91cC5zeW5jVW5pZm9ybXNbdGhpcy5zaGFkZXIucHJvZ3JhbS5pZF0gPSB0aGlzLmNhY2hlW2lkXTtcbiAgICAgICAgcmV0dXJuIGdyb3VwLnN5bmNVbmlmb3Jtc1t0aGlzLnNoYWRlci5wcm9ncmFtLmlkXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRha2VzIGEgdW5pZm9ybSBncm91cCBhbmQgZGF0YSBhbmQgZ2VuZXJhdGVzIGEgdW5pcXVlIHNpZ25hdHVyZSBmb3IgdGhlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Vbmlmb3JtR3JvdXB9IGdyb3VwIC0gdGhlIHVuaWZvcm0gZ3JvdXAgdG8gZ2V0IHNpZ25hdHVyZSBvZlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB1bmlmb3JtRGF0YSAtIHVuaWZvcm0gaW5mb3JtYXRpb24gZ2VuZXJhdGVkIGJ5IHRoZSBzaGFkZXJcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBVbmlxdWUgc2lnbmF0dXJlIG9mIHRoZSB1bmlmb3JtIGdyb3VwXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmdldFNpZ25hdHVyZSA9IGZ1bmN0aW9uIChncm91cCwgdW5pZm9ybURhdGEpIHtcbiAgICAgICAgdmFyIHVuaWZvcm1zID0gZ3JvdXAudW5pZm9ybXM7XG4gICAgICAgIHZhciBzdHJpbmdzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgaW4gdW5pZm9ybXMpIHtcbiAgICAgICAgICAgIHN0cmluZ3MucHVzaChpKTtcbiAgICAgICAgICAgIGlmICh1bmlmb3JtRGF0YVtpXSkge1xuICAgICAgICAgICAgICAgIHN0cmluZ3MucHVzaCh1bmlmb3JtRGF0YVtpXS50eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyaW5ncy5qb2luKCctJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB1bmRlcmx5aW5nIEdMU2hhZGUgcm9mIHRoZSBjdXJyZW50bHkgYm91bmQgc2hhZGVyLlxuICAgICAqIFRoaXMgY2FuIGJlIGhhbmR5IGZvciB3aGVuIHlvdSB0byBoYXZlIGEgbGl0dGxlIG1vcmUgY29udHJvbCBvdmVyIHRoZSBzZXR0aW5nIG9mIHlvdXIgdW5pZm9ybXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdMUHJvZ3JhbX0gdGhlIGdsUHJvZ3JhbSBmb3IgdGhlIGN1cnJlbnRseSBib3VuZCBTaGFkZXIgZm9yIHRoaXMgY29udGV4dFxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuZ2V0Z2xQcm9ncmFtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zaGFkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNoYWRlci5wcm9ncmFtLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBnbFByb2dyYW0gdmVyc2lvbiBvZiB0aGUgU2hhZGVyIHByb3ZpZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBzaGFkZXIgLSB0aGUgc2hhZGVyIHRoYXQgdGhlIGdsUHJvZ3JhbSB3aWxsIGJlIGJhc2VkIG9uLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0xQcm9ncmFtfSBBIHNoaW55IG5ldyBnbFByb2dyYW0hXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5nZW5lcmF0ZVNoYWRlciA9IGZ1bmN0aW9uIChzaGFkZXIpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIHByb2dyYW0gPSBzaGFkZXIucHJvZ3JhbTtcbiAgICAgICAgdmFyIGF0dHJpYk1hcCA9IHt9O1xuICAgICAgICBmb3IgKHZhciBpIGluIHByb2dyYW0uYXR0cmlidXRlRGF0YSkge1xuICAgICAgICAgICAgYXR0cmliTWFwW2ldID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2ldLmxvY2F0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzaGFkZXJQcm9ncmFtID0gY29tcGlsZVByb2dyYW0oZ2wsIHByb2dyYW0udmVydGV4U3JjLCBwcm9ncmFtLmZyYWdtZW50U3JjLCBhdHRyaWJNYXApO1xuICAgICAgICB2YXIgdW5pZm9ybURhdGEgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBwcm9ncmFtLnVuaWZvcm1EYXRhKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHByb2dyYW0udW5pZm9ybURhdGFbaV07XG4gICAgICAgICAgICB1bmlmb3JtRGF0YVtpXSA9IHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sIGkpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBkZWZhdWx0VmFsdWUoZGF0YS50eXBlLCBkYXRhLnNpemUpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZ2xQcm9ncmFtID0gbmV3IEdMUHJvZ3JhbShzaGFkZXJQcm9ncmFtLCB1bmlmb3JtRGF0YSk7XG4gICAgICAgIHByb2dyYW0uZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSA9IGdsUHJvZ3JhbTtcbiAgICAgICAgcmV0dXJuIGdsUHJvZ3JhbTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0cyBTaGFkZXJTeXN0ZW0gc3RhdGUsIGRvZXMgbm90IGFmZmVjdCBXZWJHTCBzdGF0ZVxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgU3lzdGVtIGFuZCByZW1vdmVzIGFsbCBpdHMgdGV4dHVyZXNcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFRPRE8gaW1wbGVtZW50IGRlc3Ryb3kgbWV0aG9kIGZvciBTaGFkZXJTeXN0ZW1cbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH07XG4gICAgcmV0dXJuIFNoYWRlclN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogTWFwcyBnbCBibGVuZCBjb21iaW5hdGlvbnMgdG8gV2ViR0wuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGlcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBUaGUgcmVuZGVyaW5nIGNvbnRleHQuXG4gKiBAcGFyYW0ge251bWJlcltdW119IFthcnJheT1bXV0gLSBUaGUgYXJyYXkgdG8gb3V0cHV0IGludG8uXG4gKiBAcmV0dXJuIHtudW1iZXJbXVtdfSBNYXBwZWQgbW9kZXMuXG4gKi9cbmZ1bmN0aW9uIG1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aShnbCwgYXJyYXkpIHtcbiAgICBpZiAoYXJyYXkgPT09IHZvaWQgMCkgeyBhcnJheSA9IFtdOyB9XG4gICAgLy8gVE9ETyAtIHByZW11bHRpcGx5IGFscGhhIHdvdWxkIGJlIGRpZmZlcmVudC5cbiAgICAvLyBhZGQgYSBib29sZWFuIGZvciB0aGF0IVxuICAgIGFycmF5W0JMRU5EX01PREVTLk5PUk1BTF0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5BRERdID0gW2dsLk9ORSwgZ2wuT05FXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5NVUxUSVBMWV0gPSBbZ2wuRFNUX0NPTE9SLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNDUkVFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0NPTE9SLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLk9WRVJMQVldID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuREFSS0VOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkxJR0hURU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQ09MT1JfRE9ER0VdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQ09MT1JfQlVSTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5IQVJEX0xJR0hUXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNPRlRfTElHSFRdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRElGRkVSRU5DRV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5FWENMVVNJT05dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuSFVFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNBVFVSQVRJT05dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQ09MT1JdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTFVNSU5PU0lUWV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5OT05FXSA9IFswLCAwXTtcbiAgICAvLyBub3QtcHJlbXVsdGlwbGllZCBibGVuZCBtb2Rlc1xuICAgIGFycmF5W0JMRU5EX01PREVTLk5PUk1BTF9OUE1dID0gW2dsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5BRERfTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLk9ORSwgZ2wuT05FLCBnbC5PTkVdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNDUkVFTl9OUE1dID0gW2dsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19DT0xPUiwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICAvLyBjb21wb3NpdGUgb3BlcmF0aW9uc1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNSQ19JTl0gPSBbZ2wuRFNUX0FMUEhBLCBnbC5aRVJPXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TUkNfT1VUXSA9IFtnbC5PTkVfTUlOVVNfRFNUX0FMUEhBLCBnbC5aRVJPXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TUkNfQVRPUF0gPSBbZ2wuRFNUX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5EU1RfT1ZFUl0gPSBbZ2wuT05FX01JTlVTX0RTVF9BTFBIQSwgZ2wuT05FXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5EU1RfSU5dID0gW2dsLlpFUk8sIGdsLlNSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX09VVF0gPSBbZ2wuWkVSTywgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX0FUT1BdID0gW2dsLk9ORV9NSU5VU19EU1RfQUxQSEEsIGdsLlNSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuWE9SXSA9IFtnbC5PTkVfTUlOVVNfRFNUX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICAvLyBTVUJUUkFDVCBmcm9tIGZsYXNoXG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU1VCVFJBQ1RdID0gW2dsLk9ORSwgZ2wuT05FLCBnbC5PTkUsIGdsLk9ORSwgZ2wuRlVOQ19SRVZFUlNFX1NVQlRSQUNULCBnbC5GVU5DX0FERF07XG4gICAgcmV0dXJuIGFycmF5O1xufVxuXG52YXIgQkxFTkQkMSA9IDA7XG52YXIgT0ZGU0VUJDEgPSAxO1xudmFyIENVTExJTkckMSA9IDI7XG52YXIgREVQVEhfVEVTVCQxID0gMztcbnZhciBXSU5ESU5HJDEgPSA0O1xudmFyIERFUFRIX01BU0skMSA9IDU7XG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBXZWJHTCBzdGF0ZSBtYWNoaW5lcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3RhdGVTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN0YXRlU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN0YXRlU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogR0wgY29udGV4dFxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ2wgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogU3RhdGUgSURcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlSWQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogUG9seWdvbiBvZmZzZXRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBvbHlnb25PZmZzZXQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQmxlbmQgbW9kZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9ORVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PTkU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIGN1cnJlbnQgYmxlbmQgZXF1YXRpb24gaXMgZGlmZmVyZW50XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9ibGVuZEVxID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGNhbGxzXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFwID0gW107XG4gICAgICAgIC8vIG1hcCBmdW5jdGlvbnMgZm9yIHdoZW4gd2Ugc2V0IHN0YXRlLi5cbiAgICAgICAgX3RoaXMubWFwW0JMRU5EJDFdID0gX3RoaXMuc2V0QmxlbmQ7XG4gICAgICAgIF90aGlzLm1hcFtPRkZTRVQkMV0gPSBfdGhpcy5zZXRPZmZzZXQ7XG4gICAgICAgIF90aGlzLm1hcFtDVUxMSU5HJDFdID0gX3RoaXMuc2V0Q3VsbEZhY2U7XG4gICAgICAgIF90aGlzLm1hcFtERVBUSF9URVNUJDFdID0gX3RoaXMuc2V0RGVwdGhUZXN0O1xuICAgICAgICBfdGhpcy5tYXBbV0lORElORyQxXSA9IF90aGlzLnNldEZyb250RmFjZTtcbiAgICAgICAgX3RoaXMubWFwW0RFUFRIX01BU0skMV0gPSBfdGhpcy5zZXREZXB0aE1hc2s7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGNoZWNrIGNhbGxzXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2hlY2tzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IFdlYkdMIFN0YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVmYXVsdFN0YXRlID0gbmV3IFN0YXRlKCk7XG4gICAgICAgIF90aGlzLmRlZmF1bHRTdGF0ZS5ibGVuZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLmNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiAoZ2wpIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLmJsZW5kTW9kZXMgPSBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkoZ2wpO1xuICAgICAgICB0aGlzLnNldCh0aGlzLmRlZmF1bHRTdGF0ZSk7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgc3RhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gc3RhdGUgLSBUaGUgc3RhdGUgdG8gc2V0LlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgc3RhdGUgPSBzdGF0ZSB8fCB0aGlzLmRlZmF1bHRTdGF0ZTtcbiAgICAgICAgLy8gVE9ETyBtYXliZSB0byBhbiBvYmplY3QgY2hlY2s/ICggdGhpcy5zdGF0ZSA9PT0gc3RhdGUgKT9cbiAgICAgICAgaWYgKHRoaXMuc3RhdGVJZCAhPT0gc3RhdGUuZGF0YSkge1xuICAgICAgICAgICAgdmFyIGRpZmYgPSB0aGlzLnN0YXRlSWQgXiBzdGF0ZS5kYXRhO1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgLy8gb3JkZXIgZnJvbSBsZWFzdCB0byBtb3N0IGNvbW1vblxuICAgICAgICAgICAgd2hpbGUgKGRpZmYpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlmZiAmIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhdGUgY2hhbmdlIVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcFtpXS5jYWxsKHRoaXMsICEhKHN0YXRlLmRhdGEgJiAoMSA8PCBpKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkaWZmID0gZGlmZiA+PiAxO1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3RhdGVJZCA9IHN0YXRlLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYmFzZWQgb24gdGhlIGFib3ZlIHNldHRpbmdzIHdlIGNoZWNrIGZvciBzcGVjaWZpYyBtb2Rlcy4uXG4gICAgICAgIC8vIGZvciBleGFtcGxlIGlmIGJsZW5kIGlzIGFjdGl2ZSB3ZSBjaGVjayBhbmQgc2V0IHRoZSBibGVuZCBtb2Rlc1xuICAgICAgICAvLyBvciBvZiBwb2x5Z29uIG9mZnNldCBpcyBhY3RpdmUgd2UgY2hlY2sgdGhlIHBvbHkgZGVwdGguXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGVja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzW2ldKHRoaXMsIHN0YXRlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RhdGUsIHdoZW4gcHJldmlvdXMgc3RhdGUgaXMgdW5rbm93blxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBzdGF0ZSAtIFRoZSBzdGF0ZSB0byBzZXRcbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuZm9yY2VTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICBzdGF0ZSA9IHN0YXRlIHx8IHRoaXMuZGVmYXVsdFN0YXRlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubWFwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLm1hcFtpXS5jYWxsKHRoaXMsICEhKHN0YXRlLmRhdGEgJiAoMSA8PCBpKSkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGVja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzW2ldKHRoaXMsIHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlSWQgPSBzdGF0ZS5kYXRhO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBvciBkaXNhYmxlZCBibGVuZGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBibGVuZGluZy5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0QmxlbmQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy51cGRhdGVDaGVjayhTdGF0ZVN5c3RlbS5jaGVja0JsZW5kTW9kZSwgdmFsdWUpO1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuQkxFTkQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBvciBkaXNhYmxlIHBvbHlnb24gb2Zmc2V0IGZpbGxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBwb2x5Z29uIG9mZnNldCB0ZXN0aW5nLlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRPZmZzZXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy51cGRhdGVDaGVjayhTdGF0ZVN5c3RlbS5jaGVja1BvbHlnb25PZmZzZXQsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLlBPTFlHT05fT0ZGU0VUX0ZJTEwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIHRvIGVuYWJsZSBvciBkaXNhYmxlIGRlcHRoIHRlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgZGVwdGggdGVzdGluZy5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0RGVwdGhUZXN0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZ2xbdmFsdWUgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10odGhpcy5nbC5ERVBUSF9URVNUKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgd2hldGhlciB0byBlbmFibGUgb3IgZGlzYWJsZSBkZXB0aCBtYXNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIGRlcHRoIG1hc2suXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldERlcHRoTWFzayA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmdsLmRlcHRoTWFzayh2YWx1ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHdoZXRoZXIgdG8gZW5hYmxlIG9yIGRpc2FibGUgY3VsbCBmYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIGN1bGwgZmFjZS5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0Q3VsbEZhY2UgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLkNVTExfRkFDRSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnbCBmcm9udCBmYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIHRydWUgaXMgY2xvY2t3aXNlIGFuZCBmYWxzZSBpcyBjb3VudGVyLWNsb2Nrd2lzZVxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRGcm9udEZhY2UgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5nbC5mcm9udEZhY2UodGhpcy5nbFt2YWx1ZSA/ICdDVycgOiAnQ0NXJ10pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYmxlbmQgbW9kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIFRoZSBibGVuZCBtb2RlIHRvIHNldCB0by5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0QmxlbmRNb2RlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5ibGVuZE1vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgICAgICB2YXIgbW9kZSA9IHRoaXMuYmxlbmRNb2Rlc1t2YWx1ZV07XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGlmIChtb2RlLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgZ2wuYmxlbmRGdW5jKG1vZGVbMF0sIG1vZGVbMV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2wuYmxlbmRGdW5jU2VwYXJhdGUobW9kZVswXSwgbW9kZVsxXSwgbW9kZVsyXSwgbW9kZVszXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vZGUubGVuZ3RoID09PSA2KSB7XG4gICAgICAgICAgICB0aGlzLl9ibGVuZEVxID0gdHJ1ZTtcbiAgICAgICAgICAgIGdsLmJsZW5kRXF1YXRpb25TZXBhcmF0ZShtb2RlWzRdLCBtb2RlWzVdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9ibGVuZEVxKSB7XG4gICAgICAgICAgICB0aGlzLl9ibGVuZEVxID0gZmFsc2U7XG4gICAgICAgICAgICBnbC5ibGVuZEVxdWF0aW9uU2VwYXJhdGUoZ2wuRlVOQ19BREQsIGdsLkZVTkNfQUREKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9seWdvbiBvZmZzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSB0aGUgcG9seWdvbiBvZmZzZXRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgLSB0aGUgcG9seWdvbiBvZmZzZXQgc2NhbGVcbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0UG9seWdvbk9mZnNldCA9IGZ1bmN0aW9uICh2YWx1ZSwgc2NhbGUpIHtcbiAgICAgICAgdGhpcy5nbC5wb2x5Z29uT2Zmc2V0KHZhbHVlLCBzY2FsZSk7XG4gICAgfTtcbiAgICAvLyB1c2VkXG4gICAgLyoqXG4gICAgICogUmVzZXRzIGFsbCB0aGUgbG9naWMgYW5kIGRpc2FibGVzIHRoZSB2YW9zXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmdsLnBpeGVsU3RvcmVpKHRoaXMuZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgZmFsc2UpO1xuICAgICAgICB0aGlzLmZvcmNlU3RhdGUodGhpcy5kZWZhdWx0U3RhdGUpO1xuICAgICAgICB0aGlzLl9ibGVuZEVxID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSAtMTtcbiAgICAgICAgdGhpcy5zZXRCbGVuZE1vZGUoMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBjaGVja3MgdG8gc2VlIHdoaWNoIHVwZGF0ZXMgc2hvdWxkIGJlIGNoZWNrZWQgYmFzZWQgb24gd2hpY2ggc2V0dGluZ3MgaGF2ZSBiZWVuIGFjdGl2YXRlZC5cbiAgICAgKiBGb3IgZXhhbXBsZSwgaWYgYmxlbmQgaXMgZW5hYmxlZCB0aGVuIHdlIHNob3VsZCBjaGVjayB0aGUgYmxlbmQgbW9kZXMgZWFjaCB0aW1lIHRoZSBzdGF0ZSBpcyBjaGFuZ2VkXG4gICAgICogb3IgaWYgcG9seWdvbiBmaWxsIGlzIGFjdGl2YXRlZCB0aGVuIHdlIG5lZWQgdG8gY2hlY2sgaWYgdGhlIHBvbHlnb24gb2Zmc2V0IGNoYW5nZXMuXG4gICAgICogVGhlIGlkZWEgaXMgdGhhdCB3ZSBvbmx5IGNoZWNrIHdoYXQgd2UgaGF2ZSB0b28uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIC0gdGhlIGNoZWNraW5nIGZ1bmN0aW9uIHRvIGFkZCBvciByZW1vdmVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gc2hvdWxkIHRoZSBjaGVjayBmdW5jdGlvbiBiZSBhZGRlZCBvciByZW1vdmVkLlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS51cGRhdGVDaGVjayA9IGZ1bmN0aW9uIChmdW5jLCB2YWx1ZSkge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmNoZWNrcy5pbmRleE9mKGZ1bmMpO1xuICAgICAgICBpZiAodmFsdWUgJiYgaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrcy5wdXNoKGZ1bmMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF2YWx1ZSAmJiBpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgcHJpdmF0ZSBsaXR0bGUgd3JhcHBlciBmdW5jdGlvbiB0aGF0IHdlIGNhbGwgdG8gY2hlY2sgdGhlIGJsZW5kIG1vZGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3RhdGVTeXN0ZW19IFN5c3RlbSAtIHRoZSBTeXN0ZW0gdG8gcGVyZm9ybSB0aGUgc3RhdGUgY2hlY2sgb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3RhdGV9IHN0YXRlIC0gdGhlIHN0YXRlIHRoYXQgdGhlIGJsZW5kTW9kZSB3aWxsIHB1bGxlZCBmcm9tXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0uY2hlY2tCbGVuZE1vZGUgPSBmdW5jdGlvbiAoc3lzdGVtLCBzdGF0ZSkge1xuICAgICAgICBzeXN0ZW0uc2V0QmxlbmRNb2RlKHN0YXRlLmJsZW5kTW9kZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBIHByaXZhdGUgbGl0dGxlIHdyYXBwZXIgZnVuY3Rpb24gdGhhdCB3ZSBjYWxsIHRvIGNoZWNrIHRoZSBwb2x5Z29uIG9mZnNldC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5TdGF0ZVN5c3RlbX0gU3lzdGVtIC0gdGhlIFN5c3RlbSB0byBwZXJmb3JtIHRoZSBzdGF0ZSBjaGVjayBvblxuICAgICAqIEBwYXJhbSB7UElYSS5TdGF0ZX0gc3RhdGUgLSB0aGUgc3RhdGUgdGhhdCB0aGUgYmxlbmRNb2RlIHdpbGwgcHVsbGVkIGZyb21cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5jaGVja1BvbHlnb25PZmZzZXQgPSBmdW5jdGlvbiAoc3lzdGVtLCBzdGF0ZSkge1xuICAgICAgICBzeXN0ZW0uc2V0UG9seWdvbk9mZnNldCgxLCBzdGF0ZS5wb2x5Z29uT2Zmc2V0KTtcbiAgICB9O1xuICAgIHJldHVybiBTdGF0ZVN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRleHR1cmUgZ2FyYmFnZSBjb2xsZWN0aW9uIG9uIHRoZSBHUFUsXG4gKiBlbnN1cmluZyB0aGF0IGl0IGRvZXMgbm90IGdldCBjbG9nZ2VkIHVwIHdpdGggdGV4dHVyZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIGJlaW5nIHVzZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqL1xudmFyIFRleHR1cmVHQ1N5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGV4dHVyZUdDU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmVHQ1N5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvdW50XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGVjayBjb3VudFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2hlY2tDb3VudCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXhpbXVtIGlkbGUgdGltZSwgaW4gc2Vjb25kc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5HQ19NQVhfSURMRVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWF4SWRsZSA9IHNldHRpbmdzLkdDX01BWF9JRExFO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWF4aW11bSBudW1iZXIgb2YgaXRlbSB0byBjaGVja1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5HQ19NQVhfQ0hFQ0tfQ09VTlRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNoZWNrQ291bnRNYXggPSBzZXR0aW5ncy5HQ19NQVhfQ0hFQ0tfQ09VTlQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGdhcmJhZ2UgY29sbGVjdGlvbiBtb2RlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR0NfTU9ERVN9XG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5HQ19NT0RFXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tb2RlID0gc2V0dGluZ3MuR0NfTU9ERTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIHdoZW4gdGhlIGxhc3QgdGltZSBhIHRleHR1cmUgd2FzIHVzZWRcbiAgICAgKiBpZiB0aGUgdGV4dHVyZSBoYXMgbm90IGJlZW4gdXNlZCBmb3IgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVVxuICAgICAqL1xuICAgIFRleHR1cmVHQ1N5c3RlbS5wcm90b3R5cGUucG9zdHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJlbmRlcmVyLnJlbmRlcmluZ1RvU2NyZWVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb3VudCsrO1xuICAgICAgICBpZiAodGhpcy5tb2RlID09PSBHQ19NT0RFUy5NQU5VQUwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoZWNrQ291bnQrKztcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tDb3VudCA+IHRoaXMuY2hlY2tDb3VudE1heCkge1xuICAgICAgICAgICAgdGhpcy5jaGVja0NvdW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMucnVuKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgd2hlbiB0aGUgbGFzdCB0aW1lIGEgdGV4dHVyZSB3YXMgdXNlZFxuICAgICAqIGlmIHRoZSB0ZXh0dXJlIGhhcyBub3QgYmVlbiB1c2VkIGZvciBhIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZSBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVXG4gICAgICovXG4gICAgVGV4dHVyZUdDU3lzdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0bSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZTtcbiAgICAgICAgdmFyIG1hbmFnZWRUZXh0dXJlcyA9IHRtLm1hbmFnZWRUZXh0dXJlcztcbiAgICAgICAgdmFyIHdhc1JlbW92ZWQgPSBmYWxzZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gbWFuYWdlZFRleHR1cmVzW2ldO1xuICAgICAgICAgICAgLy8gb25seSBzdXBwb3J0cyBub24gZ2VuZXJhdGVkIHRleHR1cmVzIGF0IHRoZSBtb21lbnQhXG4gICAgICAgICAgICBpZiAoIXRleHR1cmUuZnJhbWVidWZmZXIgJiYgdGhpcy5jb3VudCAtIHRleHR1cmUudG91Y2hlZCA+IHRoaXMubWF4SWRsZSkge1xuICAgICAgICAgICAgICAgIHRtLmRlc3Ryb3lUZXh0dXJlKHRleHR1cmUsIHRydWUpO1xuICAgICAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgd2FzUmVtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdhc1JlbW92ZWQpIHtcbiAgICAgICAgICAgIHZhciBqID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFuYWdlZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hbmFnZWRUZXh0dXJlc1tpXSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBtYW5hZ2VkVGV4dHVyZXNbaisrXSA9IG1hbmFnZWRUZXh0dXJlc1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoID0gajtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgdGhlIHRleHR1cmVzIHdpdGhpbiB0aGUgc3BlY2lmaWVkIGRpc3BsYXlPYmplY3QgYW5kIGl0cyBjaGlsZHJlbiBmcm9tIHRoZSBHUFVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3QgdG8gcmVtb3ZlIHRoZSB0ZXh0dXJlcyBmcm9tLlxuICAgICAqL1xuICAgIFRleHR1cmVHQ1N5c3RlbS5wcm90b3R5cGUudW5sb2FkID0gZnVuY3Rpb24gKGRpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgdmFyIHRtID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlO1xuICAgICAgICB2YXIgdGV4dHVyZSA9IGRpc3BsYXlPYmplY3QuX3RleHR1cmU7XG4gICAgICAgIC8vIG9ubHkgZGVzdHJveSBub24gZ2VuZXJhdGVkIHRleHR1cmVzXG4gICAgICAgIGlmICh0ZXh0dXJlICYmICF0ZXh0dXJlLmZyYW1lYnVmZmVyKSB7XG4gICAgICAgICAgICB0bS5kZXN0cm95VGV4dHVyZSh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gZGlzcGxheU9iamVjdC5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgdGhpcy51bmxvYWQoZGlzcGxheU9iamVjdC5jaGlsZHJlbltpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBUZXh0dXJlR0NTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIEludGVybmFsIHRleHR1cmUgZm9yIFdlYkdMIGNvbnRleHRcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdMVGV4dHVyZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHTFRleHR1cmUodGV4dHVyZSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIHRleHR1cmVcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdpZHRoIG9mIHRleHR1cmUgdGhhdCB3YXMgdXNlZCBpbiB0ZXhJbWFnZTJEXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhlaWdodCBvZiB0ZXh0dXJlIHRoYXQgd2FzIHVzZWQgaW4gdGV4SW1hZ2UyRFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dHVyZSBjb250ZW50cyBkaXJ0eSBmbGFnXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlJZCA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dHVyZSBzdHlsZSBkaXJ0eSBmbGFnXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlTdHlsZUlkID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG1pcCBsZXZlbHMgaGFzIHRvIGJlIGdlbmVyYXRlZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taXBtYXAgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdyYXBNb2RlIGNvcGllZCBmcm9tIGJhc2VUZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud3JhcE1vZGUgPSAzMzA3MTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFR5cGUgY29waWVkIGZyb20gYmFzZVRleHR1cmVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gNjQwODtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFR5cGUgY29waWVkIGZyb20gYmFzZVRleHR1cmVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnRlcm5hbEZvcm1hdCA9IDUxMjE7XG4gICAgfVxuICAgIHJldHVybiBHTFRleHR1cmU7XG59KCkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0ZXh0dXJlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dHVyZVN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGV4dHVyZVN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0dXJlU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvLyBUT0RPIHNldCB0byBtYXggdGV4dHVyZXMuLi5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvdW5kIHRleHR1cmVzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmVbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3VuZFRleHR1cmVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGxvY2F0aW9uXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJyZW50TG9jYXRpb24gPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgbWFuYWdlZCB0ZXh0dXJlc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFuYWdlZFRleHR1cmVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWQgc29tZW9uZSB0ZW1wZXIgd2l0aCB0ZXh0dXJlcyBzdGF0ZT8gV2UnbGwgb3ZlcndyaXRlIHRoZW0gd2hlbiB3ZSBuZWVkIHRvIHVuYmluZCBzb21ldGhpbmcuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXMgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhc2VUZXh0dXJlIHZhbHVlIHRoYXQgc2hvd3MgdGhhdCB3ZSBkb24ndCBrbm93IHdoYXQgaXMgYm91bmRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51bmtub3duVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZSgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB0aGlzLkNPTlRFWFRfVUlEID0gdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRDtcbiAgICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uO1xuICAgICAgICB2YXIgbWF4VGV4dHVyZXMgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpO1xuICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoID0gbWF4VGV4dHVyZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPIG1vdmUgdGhpcy4uIHRvIGEgbmljZSBtYWtlIGVtcHR5IHRleHR1cmVzIGNsYXNzLi5cbiAgICAgICAgdGhpcy5lbXB0eVRleHR1cmVzID0ge307XG4gICAgICAgIHZhciBlbXB0eVRleHR1cmUyRCA9IG5ldyBHTFRleHR1cmUoZ2wuY3JlYXRlVGV4dHVyZSgpKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgZW1wdHlUZXh0dXJlMkQudGV4dHVyZSk7XG4gICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgMSwgMSwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbmV3IFVpbnQ4QXJyYXkoNCkpO1xuICAgICAgICB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV8yRF0gPSBlbXB0eVRleHR1cmUyRDtcbiAgICAgICAgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfQ1VCRV9NQVBdID0gbmV3IEdMVGV4dHVyZShnbC5jcmVhdGVUZXh0dXJlKCkpO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFX0NVQkVfTUFQLCB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV9DVUJFX01BUF0udGV4dHVyZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrKSB7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCArIGksIDAsIGdsLlJHQkEsIDEsIDEsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTElORUFSKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYmluZChudWxsLCBpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQmluZCBhIHRleHR1cmUgdG8gYSBzcGVjaWZpYyBsb2NhdGlvblxuICAgICAqXG4gICAgICogSWYgeW91IHdhbnQgdG8gdW5iaW5kIHNvbWV0aGluZywgcGxlYXNlIHVzZSBgdW5iaW5kKHRleHR1cmUpYCBpbnN0ZWFkIG9mIGBiaW5kKG51bGwsIHRleHR1cmVMb2NhdGlvbilgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZXxQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlXyAtIFRleHR1cmUgdG8gYmluZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG9jYXRpb249MF0gLSBMb2NhdGlvbiB0byBiaW5kIGF0XG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uICh0ZXh0dXJlLCBsb2NhdGlvbikge1xuICAgICAgICBpZiAobG9jYXRpb24gPT09IHZvaWQgMCkgeyBsb2NhdGlvbiA9IDA7IH1cbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgaWYgKHRleHR1cmUpIHtcbiAgICAgICAgICAgIHRleHR1cmUgPSB0ZXh0dXJlLmNhc3RUb0Jhc2VUZXh0dXJlKCk7XG4gICAgICAgICAgICBpZiAodGV4dHVyZS5wYXJlbnRUZXh0dXJlQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAvLyBjYW5ub3QgYmluZCBwYXJ0aWFsIHRleHR1cmVcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiByZXBvcnQgYSB3YXJuaW5nXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLnRvdWNoZWQgPSB0aGlzLnJlbmRlcmVyLnRleHR1cmVHQy5jb3VudDtcbiAgICAgICAgICAgICAgICB2YXIgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSB8fCB0aGlzLmluaXRUZXh0dXJlKHRleHR1cmUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kVGV4dHVyZXNbbG9jYXRpb25dICE9PSB0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gbG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKHRleHR1cmUudGFyZ2V0LCBnbFRleHR1cmUudGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChnbFRleHR1cmUuZGlydHlJZCAhPT0gdGV4dHVyZS5kaXJ0eUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gbG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSh0ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2xvY2F0aW9uXSA9IHRleHR1cmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9jYXRpb24gIT09IGxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfMkRdLnRleHR1cmUpO1xuICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2xvY2F0aW9uXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0ZXh0dXJlIGxvY2F0aW9uIGFuZCBib3VuZCB0ZXh0dXJlc1xuICAgICAqXG4gICAgICogQWN0dWFsIGBiaW5kKG51bGwsIGkpYCBjYWxscyB3aWxsIGJlIHBlcmZvcm1lZCBhdCBuZXh0IGB1bmJpbmQoKWAgY2FsbFxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcyA9IHRydWU7XG4gICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gLTE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbaV0gPSB0aGlzLnVua25vd25UZXh0dXJlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbmJpbmQgYSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byBiaW5kXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKHRleHR1cmUpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgYm91bmRUZXh0dXJlcyA9IF9hLmJvdW5kVGV4dHVyZXM7XG4gICAgICAgIGlmICh0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcykge1xuICAgICAgICAgICAgdGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXMgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIHNvbWVvbmUgY2hhbmdlZCB3ZWJHTCBzdGF0ZSxcbiAgICAgICAgICAgIC8vIHdlIGhhdmUgdG8gYmUgc3VyZSB0aGF0IG91ciB0ZXh0dXJlIGRvZXMgbm90IGFwcGVhciBpbiBtdWx0aS10ZXh0dXJlIHJlbmRlcmVyIHNhbXBsZXJzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoYm91bmRUZXh0dXJlc1tpXSA9PT0gdGhpcy51bmtub3duVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJpbmQobnVsbCwgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGJvdW5kVGV4dHVyZXNbaV0gPT09IHRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9jYXRpb24gIT09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKHRleHR1cmUudGFyZ2V0LCB0aGlzLmVtcHR5VGV4dHVyZXNbdGV4dHVyZS50YXJnZXRdLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgIGJvdW5kVGV4dHVyZXNbaV0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGEgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIGluaXRpYWxpemVcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5pbml0VGV4dHVyZSA9IGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgIHZhciBnbFRleHR1cmUgPSBuZXcgR0xUZXh0dXJlKHRoaXMuZ2wuY3JlYXRlVGV4dHVyZSgpKTtcbiAgICAgICAgLy8gZ3VhcmFudGVlIGFuIHVwZGF0ZS4uXG4gICAgICAgIGdsVGV4dHVyZS5kaXJ0eUlkID0gLTE7XG4gICAgICAgIHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0gPSBnbFRleHR1cmU7XG4gICAgICAgIHRoaXMubWFuYWdlZFRleHR1cmVzLnB1c2godGV4dHVyZSk7XG4gICAgICAgIHRleHR1cmUub24oJ2Rpc3Bvc2UnLCB0aGlzLmRlc3Ryb3lUZXh0dXJlLCB0aGlzKTtcbiAgICAgICAgcmV0dXJuIGdsVGV4dHVyZTtcbiAgICB9O1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmluaXRUZXh0dXJlVHlwZSA9IGZ1bmN0aW9uICh0ZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICAgICAgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0ID0gdGV4dHVyZS5mb3JtYXQ7XG4gICAgICAgIGdsVGV4dHVyZS50eXBlID0gdGV4dHVyZS50eXBlO1xuICAgICAgICBpZiAodGhpcy53ZWJHTFZlcnNpb24gIT09IDIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICBpZiAodGV4dHVyZS50eXBlID09PSBnbC5GTE9BVFxuICAgICAgICAgICAgJiYgdGV4dHVyZS5mb3JtYXQgPT09IGdsLlJHQkEpIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCA9IGdsLlJHQkEzMkY7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhhdCdzIFdlYkdMMSBIQUxGX0ZMT0FUX09FU1xuICAgICAgICAvLyB3ZSBoYXZlIHRvIGNvbnZlcnQgaXQgdG8gV2ViR0wgSEFMRl9GTE9BVFxuICAgICAgICBpZiAodGV4dHVyZS50eXBlID09PSBUWVBFUy5IQUxGX0ZMT0FUKSB7XG4gICAgICAgICAgICBnbFRleHR1cmUudHlwZSA9IGdsLkhBTEZfRkxPQVQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdsVGV4dHVyZS50eXBlID09PSBnbC5IQUxGX0ZMT0FUXG4gICAgICAgICAgICAmJiB0ZXh0dXJlLmZvcm1hdCA9PT0gZ2wuUkdCQSkge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0ID0gZ2wuUkdCQTE2RjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIGEgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIGluaXRpYWxpemVcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlID0gZnVuY3Rpb24gKHRleHR1cmUpIHtcbiAgICAgICAgdmFyIGdsVGV4dHVyZSA9IHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIGlmICghZ2xUZXh0dXJlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdGhpcy5pbml0VGV4dHVyZVR5cGUodGV4dHVyZSwgZ2xUZXh0dXJlKTtcbiAgICAgICAgaWYgKHRleHR1cmUucmVzb3VyY2UgJiYgdGV4dHVyZS5yZXNvdXJjZS51cGxvYWQocmVuZGVyZXIsIHRleHR1cmUsIGdsVGV4dHVyZSkpIDtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBkZWZhdWx0LCByZW5kZXJUZXh0dXJlLWxpa2UgbG9naWNcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRleHR1cmUucmVhbFdpZHRoO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHRleHR1cmUucmVhbEhlaWdodDtcbiAgICAgICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICAgICAgaWYgKGdsVGV4dHVyZS53aWR0aCAhPT0gd2lkdGhcbiAgICAgICAgICAgICAgICB8fCBnbFRleHR1cmUuaGVpZ2h0ICE9PSBoZWlnaHRcbiAgICAgICAgICAgICAgICB8fCBnbFRleHR1cmUuZGlydHlJZCA8IDApIHtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGdsLnRleEltYWdlMkQodGV4dHVyZS50YXJnZXQsIDAsIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCwgd2lkdGgsIGhlaWdodCwgMCwgdGV4dHVyZS5mb3JtYXQsIGdsVGV4dHVyZS50eXBlLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBsZXRzIG9ubHkgdXBkYXRlIHdoYXQgY2hhbmdlcy4uXG4gICAgICAgIGlmICh0ZXh0dXJlLmRpcnR5U3R5bGVJZCAhPT0gZ2xUZXh0dXJlLmRpcnR5U3R5bGVJZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlU3R5bGUodGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2xUZXh0dXJlLmRpcnR5SWQgPSB0ZXh0dXJlLmRpcnR5SWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZWxldGVzIHRoZSB0ZXh0dXJlIGZyb20gV2ViR0xcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfFBJWEkuVGV4dHVyZX0gdGV4dHVyZV8gLSB0aGUgdGV4dHVyZSB0byBkZXN0cm95XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFJlbW92ZT1mYWxzZV0gLSBXaGV0aGVyIHRvIHNraXAgcmVtb3ZpbmcgdGhlIHRleHR1cmUgZnJvbSB0aGUgVGV4dHVyZU1hbmFnZXIuXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuZGVzdHJveVRleHR1cmUgPSBmdW5jdGlvbiAodGV4dHVyZSwgc2tpcFJlbW92ZSkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB0ZXh0dXJlID0gdGV4dHVyZS5jYXN0VG9CYXNlVGV4dHVyZSgpO1xuICAgICAgICBpZiAodGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSkge1xuICAgICAgICAgICAgdGhpcy51bmJpbmQodGV4dHVyZSk7XG4gICAgICAgICAgICBnbC5kZWxldGVUZXh0dXJlKHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0udGV4dHVyZSk7XG4gICAgICAgICAgICB0ZXh0dXJlLm9mZignZGlzcG9zZScsIHRoaXMuZGVzdHJveVRleHR1cmUsIHRoaXMpO1xuICAgICAgICAgICAgZGVsZXRlIHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgICAgICBpZiAoIXNraXBSZW1vdmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IHRoaXMubWFuYWdlZFRleHR1cmVzLmluZGV4T2YodGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgaWYgKGkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMubWFuYWdlZFRleHR1cmVzLCBpLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0ZXh0dXJlIHN0eWxlIHN1Y2ggYXMgbWlwbWFwIGZsYWdcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byB1cGRhdGVcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlU3R5bGUgPSBmdW5jdGlvbiAodGV4dHVyZSkge1xuICAgICAgICB2YXIgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgaWYgKCFnbFRleHR1cmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHRleHR1cmUubWlwbWFwID09PSBNSVBNQVBfTU9ERVMuUE9XMiB8fCB0aGlzLndlYkdMVmVyc2lvbiAhPT0gMikgJiYgIXRleHR1cmUuaXNQb3dlck9mVHdvKSB7XG4gICAgICAgICAgICBnbFRleHR1cmUubWlwbWFwID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbFRleHR1cmUubWlwbWFwID0gdGV4dHVyZS5taXBtYXAgPj0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy53ZWJHTFZlcnNpb24gIT09IDIgJiYgIXRleHR1cmUuaXNQb3dlck9mVHdvKSB7XG4gICAgICAgICAgICBnbFRleHR1cmUud3JhcE1vZGUgPSBXUkFQX01PREVTLkNMQU1QO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndyYXBNb2RlID0gdGV4dHVyZS53cmFwTW9kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGV4dHVyZS5yZXNvdXJjZSAmJiB0ZXh0dXJlLnJlc291cmNlLnN0eWxlKHRoaXMucmVuZGVyZXIsIHRleHR1cmUsIGdsVGV4dHVyZSkpIDtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0eWxlKHRleHR1cmUsIGdsVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2xUZXh0dXJlLmRpcnR5U3R5bGVJZCA9IHRleHR1cmUuZGlydHlTdHlsZUlkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHN0eWxlIGZvciB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gdXBkYXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuc2V0U3R5bGUgPSBmdW5jdGlvbiAodGV4dHVyZSwgZ2xUZXh0dXJlKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGlmIChnbFRleHR1cmUubWlwbWFwICYmIHRleHR1cmUubWlwbWFwICE9PSBNSVBNQVBfTU9ERVMuT05fTUFOVUFMKSB7XG4gICAgICAgICAgICBnbC5nZW5lcmF0ZU1pcG1hcCh0ZXh0dXJlLnRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsVGV4dHVyZS53cmFwTW9kZSk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbFRleHR1cmUud3JhcE1vZGUpO1xuICAgICAgICBpZiAoZ2xUZXh0dXJlLm1pcG1hcCkge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCB0ZXh0dXJlLnNjYWxlTW9kZSA9PT0gU0NBTEVfTU9ERVMuTElORUFSID8gZ2wuTElORUFSX01JUE1BUF9MSU5FQVIgOiBnbC5ORUFSRVNUX01JUE1BUF9ORUFSRVNUKTtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgIHZhciBhbmlzb3Ryb3BpY0V4dCA9IHRoaXMucmVuZGVyZXIuY29udGV4dC5leHRlbnNpb25zLmFuaXNvdHJvcGljRmlsdGVyaW5nO1xuICAgICAgICAgICAgaWYgKGFuaXNvdHJvcGljRXh0ICYmIHRleHR1cmUuYW5pc290cm9waWNMZXZlbCA+IDAgJiYgdGV4dHVyZS5zY2FsZU1vZGUgPT09IFNDQUxFX01PREVTLkxJTkVBUikge1xuICAgICAgICAgICAgICAgIHZhciBsZXZlbCA9IE1hdGgubWluKHRleHR1cmUuYW5pc290cm9waWNMZXZlbCwgZ2wuZ2V0UGFyYW1ldGVyKGFuaXNvdHJvcGljRXh0Lk1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCkpO1xuICAgICAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmYodGV4dHVyZS50YXJnZXQsIGFuaXNvdHJvcGljRXh0LlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULCBsZXZlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX01JTl9GSUxURVIsIHRleHR1cmUuc2NhbGVNb2RlID09PSBTQ0FMRV9NT0RFUy5MSU5FQVIgPyBnbC5MSU5FQVIgOiBnbC5ORUFSRVNUKTtcbiAgICAgICAgfVxuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX01BR19GSUxURVIsIHRleHR1cmUuc2NhbGVNb2RlID09PSBTQ0FMRV9NT0RFUy5MSU5FQVIgPyBnbC5MSU5FQVIgOiBnbC5ORUFSRVNUKTtcbiAgICB9O1xuICAgIHJldHVybiBUZXh0dXJlU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuXG5cbnZhciBfc3lzdGVtcyA9IHtcbiAgICBfX3Byb3RvX186IG51bGwsXG4gICAgRmlsdGVyU3lzdGVtOiBGaWx0ZXJTeXN0ZW0sXG4gICAgQmF0Y2hTeXN0ZW06IEJhdGNoU3lzdGVtLFxuICAgIENvbnRleHRTeXN0ZW06IENvbnRleHRTeXN0ZW0sXG4gICAgRnJhbWVidWZmZXJTeXN0ZW06IEZyYW1lYnVmZmVyU3lzdGVtLFxuICAgIEdlb21ldHJ5U3lzdGVtOiBHZW9tZXRyeVN5c3RlbSxcbiAgICBNYXNrU3lzdGVtOiBNYXNrU3lzdGVtLFxuICAgIFNjaXNzb3JTeXN0ZW06IFNjaXNzb3JTeXN0ZW0sXG4gICAgU3RlbmNpbFN5c3RlbTogU3RlbmNpbFN5c3RlbSxcbiAgICBQcm9qZWN0aW9uU3lzdGVtOiBQcm9qZWN0aW9uU3lzdGVtLFxuICAgIFJlbmRlclRleHR1cmVTeXN0ZW06IFJlbmRlclRleHR1cmVTeXN0ZW0sXG4gICAgU2hhZGVyU3lzdGVtOiBTaGFkZXJTeXN0ZW0sXG4gICAgU3RhdGVTeXN0ZW06IFN0YXRlU3lzdGVtLFxuICAgIFRleHR1cmVHQ1N5c3RlbTogVGV4dHVyZUdDU3lzdGVtLFxuICAgIFRleHR1cmVTeXN0ZW06IFRleHR1cmVTeXN0ZW1cbn07XG5cbnZhciB0ZW1wTWF0cml4JDEgPSBuZXcgTWF0cml4KCk7XG4vKipcbiAqIFRoZSBBYnN0cmFjdFJlbmRlcmVyIGlzIHRoZSBiYXNlIGZvciBhIFBpeGlKUyBSZW5kZXJlci4gSXQgaXMgZXh0ZW5kZWQgYnkgdGhlIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyfVxuICogYW5kIHtAbGluayBQSVhJLlJlbmRlcmVyfSB3aGljaCBjYW4gYmUgdXNlZCBmb3IgcmVuZGVyaW5nIGEgUGl4aUpTIHNjZW5lLlxuICpcbiAqIEBhYnN0cmFjdFxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEFic3RyYWN0UmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFic3RyYWN0UmVuZGVyZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHN5c3RlbSAtIFRoZSBuYW1lIG9mIHRoZSBzeXN0ZW0gdGhpcyByZW5kZXJlciBpcyBmb3IuXG4gICAgICogQHBhcmFtIFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gVGhlIHdpZHRoIG9mIHRoZSBzY3JlZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD02MDBdIC0gVGhlIGhlaWdodCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gVGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnVzZUNvbnRleHRBbHBoYT10cnVlXSAtIFBhc3MtdGhyb3VnaCB2YWx1ZSBmb3IgY2FudmFzJyBjb250ZXh0IGBhbHBoYWAgcHJvcGVydHkuXG4gICAgICogICBJZiB5b3Ugd2FudCB0byBzZXQgdHJhbnNwYXJlbmN5LCBwbGVhc2UgdXNlIGBiYWNrZ3JvdW5kQWxwaGFgLiBUaGlzIG9wdGlvbiBpcyBmb3IgY2FzZXMgd2hlcmUgdGhlXG4gICAgICogICBjYW52YXMgbmVlZHMgdG8gYmUgb3BhcXVlLCBwb3NzaWJseSBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucyBvbiBzb21lIG9sZGVyIGRldmljZXMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvRGVuc2l0eT1mYWxzZV0gLSBSZXNpemVzIHJlbmRlcmVyIHZpZXcgaW4gQ1NTIHBpeGVscyB0byBhbGxvdyBmb3JcbiAgICAgKiAgIHJlc29sdXRpb25zIG90aGVyIHRoYW4gMS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBTZXRzIGFudGlhbGlhc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLiBUaGVcbiAgICAgKiAgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyZXIgcmV0aW5hIHdvdWxkIGJlIDIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gRW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sXG4gICAgICogIGVuYWJsZSB0aGlzIGlmIHlvdSBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSBXZWJHTCBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvclxuICAgICAqICAgICAgbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAgICAgKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRBbHBoYT0xXSAtIFZhbHVlIGZyb20gMCAoZnVsbHkgdHJhbnNwYXJlbnQpIHRvIDEgKGZ1bGx5IG9wYXF1ZSkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQWJzdHJhY3RSZW5kZXJlcih0eXBlLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICh0eXBlID09PSB2b2lkIDApIHsgdHlwZSA9IFJFTkRFUkVSX1RZUEUuVU5LTk9XTjsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvLyBBZGQgdGhlIGRlZmF1bHQgcmVuZGVyIG9wdGlvbnNcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHNldHRpbmdzLlJFTkRFUl9PUFRJT05TLCBvcHRpb25zKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdXBwbGllZCBjb25zdHJ1Y3RvciBvcHRpb25zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5SRU5ERVJFUl9UWVBFLlVOS05PV05cbiAgICAgICAgICogQHNlZSBQSVhJLlJFTkRFUkVSX1RZUEVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWVhc3VyZW1lbnRzIG9mIHRoZSBzY3JlZW4uICgwLCAwLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KS5cbiAgICAgICAgICpcbiAgICAgICAgICogSXRzIHNhZmUgdG8gdXNlIGFzIGZpbHRlckFyZWEgb3IgaGl0QXJlYSBmb3IgdGhlIHdob2xlIHN0YWdlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNjcmVlbiA9IG5ldyBSZWN0YW5nbGUoMCwgMCwgb3B0aW9ucy53aWR0aCwgb3B0aW9ucy5oZWlnaHQpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbnZhcyBlbGVtZW50IHRoYXQgZXZlcnl0aGluZyBpcyBkcmF3biB0by5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52aWV3ID0gb3B0aW9ucy52aWV3IHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSBvcHRpb25zLnJlc29sdXRpb24gfHwgc2V0dGluZ3MuUkVTT0xVVElPTjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBhc3MtdGhydSBzZXR0aW5nIGZvciB0aGUgdGhlIGNhbnZhcycgY29udGV4dCBgYWxwaGFgIHByb3BlcnR5LiBUaGlzIGlzIHR5cGljYWxseVxuICAgICAgICAgKiBub3Qgc29tZXRoaW5nIHlvdSBuZWVkIHRvIGZpZGRsZSB3aXRoLiBJZiB5b3Ugd2FudCB0cmFuc3BhcmVuY3ksIHVzZSBgYmFja2dyb3VuZEFscGhhYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVzZUNvbnRleHRBbHBoYSA9IG9wdGlvbnMudXNlQ29udGV4dEFscGhhO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBDU1MgZGltZW5zaW9ucyBvZiBjYW52YXMgdmlldyBzaG91bGQgYmUgcmVzaXplZCB0byBzY3JlZW4gZGltZW5zaW9ucyBhdXRvbWF0aWNhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b0RlbnNpdHkgPSAhIW9wdGlvbnMuYXV0b0RlbnNpdHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdmFsdWUgb2YgdGhlIHByZXNlcnZlRHJhd2luZ0J1ZmZlciBmbGFnIGFmZmVjdHMgd2hldGhlciBvciBub3QgdGhlIGNvbnRlbnRzIG9mXG4gICAgICAgICAqIHRoZSBzdGVuY2lsIGJ1ZmZlciBpcyByZXRhaW5lZCBhZnRlciByZW5kZXJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIgPSBvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgc2V0cyBpZiB0aGUgQ2FudmFzUmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAgICAgICAgICogSWYgdGhlIHNjZW5lIGlzIE5PVCB0cmFuc3BhcmVudCBQaXhpSlMgd2lsbCB1c2UgYSBjYW52YXMgc2l6ZWQgZmlsbFJlY3Qgb3BlcmF0aW9uIGV2ZXJ5XG4gICAgICAgICAqIGZyYW1lIHRvIHNldCB0aGUgY2FudmFzIGJhY2tncm91bmQgY29sb3IuIElmIHRoZSBzY2VuZSBpcyB0cmFuc3BhcmVudCBQaXhpSlMgd2lsbCB1c2UgY2xlYXJSZWN0XG4gICAgICAgICAqIHRvIGNsZWFyIHRoZSBjYW52YXMgZXZlcnkgZnJhbWUuIERpc2FibGUgdGhpcyBieSBzZXR0aW5nIHRoaXMgdG8gZmFsc2UuIEZvciBleGFtcGxlLCBpZlxuICAgICAgICAgKiB5b3VyIGdhbWUgaGFzIGEgY2FudmFzIGZpbGxpbmcgYmFja2dyb3VuZCBpbWFnZSB5b3Ugb2Z0ZW4gZG9uJ3QgbmVlZCB0aGlzIHNldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNsZWFyQmVmb3JlUmVuZGVyID0gb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFzIGEgbnVtYmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSAweDAwMDAwMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFzIGFuIFtSLCBHLCBCLCBBXSBhcnJheS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhID0gWzAsIDAsIDAsIDFdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYSBzdHJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZyA9ICcjMDAwMDAwJztcbiAgICAgICAgX3RoaXMuYmFja2dyb3VuZENvbG9yID0gb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IgfHwgX3RoaXMuX2JhY2tncm91bmRDb2xvcjsgLy8gcnVuIGJnIGNvbG9yIHNldHRlclxuICAgICAgICBfdGhpcy5iYWNrZ3JvdW5kQWxwaGEgPSBvcHRpb25zLmJhY2tncm91bmRBbHBoYTtcbiAgICAgICAgLy8gQGRlcHJlY2F0ZWRcbiAgICAgICAgaWYgKG9wdGlvbnMudHJhbnNwYXJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJzYuMC4wJywgJ09wdGlvbiB0cmFuc3BhcmVudCBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGJhY2tncm91bmRBbHBoYSBpbnN0ZWFkLicpO1xuICAgICAgICAgICAgX3RoaXMudXNlQ29udGV4dEFscGhhID0gb3B0aW9ucy50cmFuc3BhcmVudDtcbiAgICAgICAgICAgIF90aGlzLmJhY2tncm91bmRBbHBoYSA9IG9wdGlvbnMudHJhbnNwYXJlbnQgPyAwIDogMTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxhc3Qgcm9vdCBvYmplY3QgdGhhdCB0aGUgcmVuZGVyZXIgdHJpZWQgdG8gcmVuZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBwbHVnaW5zLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGx1Z2lucyA9IHt9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIHBsdWdpbnMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHN0YXRpY01hcCAtIFRoZSBkaWN0aW9uYXJ5IG9mIHN0YXRpY2FsbHkgc2F2ZWQgcGx1Z2lucy5cbiAgICAgKi9cbiAgICBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZS5pbml0UGx1Z2lucyA9IGZ1bmN0aW9uIChzdGF0aWNNYXApIHtcbiAgICAgICAgZm9yICh2YXIgbyBpbiBzdGF0aWNNYXApIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1tvXSA9IG5ldyAoc3RhdGljTWFwW29dKSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNhbWUgYXMgdmlldy53aWR0aCwgYWN0dWFsIG51bWJlciBvZiBwaXhlbHMgaW4gdGhlIGNhbnZhcyBieSBob3Jpem9udGFsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZGVmYXVsdCA4MDBcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlldy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJoZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2FtZSBhcyB2aWV3LmhlaWdodCwgYWN0dWFsIG51bWJlciBvZiBwaXhlbHMgaW4gdGhlIGNhbnZhcyBieSB2ZXJ0aWNhbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgNjAwXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZXcuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgc2NyZWVuIGFuZCBjYW52YXMgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqIENhbnZhcyBkaW1lbnNpb25zIGFyZSBtdWx0aXBsaWVkIGJ5IHJlc29sdXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2NyZWVuV2lkdGggLSBUaGUgbmV3IHdpZHRoIG9mIHRoZSBzY3JlZW4uXG4gICAgICogQHBhcmFtIHNjcmVlbkhlaWdodCAtIFRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBzY3JlZW4uXG4gICAgICovXG4gICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpIHtcbiAgICAgICAgdGhpcy5zY3JlZW4ud2lkdGggPSBzY3JlZW5XaWR0aDtcbiAgICAgICAgdGhpcy5zY3JlZW4uaGVpZ2h0ID0gc2NyZWVuSGVpZ2h0O1xuICAgICAgICB0aGlzLnZpZXcud2lkdGggPSBzY3JlZW5XaWR0aCAqIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy52aWV3LmhlaWdodCA9IHNjcmVlbkhlaWdodCAqIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKHRoaXMuYXV0b0RlbnNpdHkpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5zdHlsZS53aWR0aCA9IHNjcmVlbldpZHRoICsgXCJweFwiO1xuICAgICAgICAgICAgdGhpcy52aWV3LnN0eWxlLmhlaWdodCA9IHNjcmVlbkhlaWdodCArIFwicHhcIjtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgYWZ0ZXIgdmlldyBoYXMgYmVlbiByZXNpemVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5SZW5kZXJlciNyZXNpemVcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbldpZHRoIC0gVGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuSGVpZ2h0IC0gVGhlIG5ldyBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW1pdCgncmVzaXplJywgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVc2VmdWwgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdGV4dHVyZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBjYW4gdGhlbiBiZSB1c2VkIHRvIGNyZWF0ZSBzcHJpdGVzXG4gICAgICogVGhpcyBjYW4gYmUgcXVpdGUgdXNlZnVsIGlmIHlvdXIgZGlzcGxheU9iamVjdCBpcyBjb21wbGljYXRlZCBhbmQgbmVlZHMgdG8gYmUgcmV1c2VkIG11bHRpcGxlIHRpbWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheU9iamVjdCB0aGUgb2JqZWN0IHdpbGwgYmUgZ2VuZXJhdGVkIGZyb20uXG4gICAgICogQHBhcmFtIHNjYWxlTW9kZSAtIFRoZSBzY2FsZSBtb2RlIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSByZXNvbHV0aW9uIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmUgYmVpbmcgZ2VuZXJhdGVkLlxuICAgICAqIEBwYXJhbSBbcmVnaW9uXSAtIFRoZSByZWdpb24gb2YgdGhlIGRpc3BsYXlPYmplY3QsIHRoYXQgc2hhbGwgYmUgcmVuZGVyZWQsXG4gICAgICogICAgICAgIGlmIG5vIHJlZ2lvbiBpcyBzcGVjaWZpZWQsIGRlZmF1bHRzIHRvIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICogQHJldHVybiBBIHRleHR1cmUgb2YgdGhlIGdyYXBoaWNzIG9iamVjdC5cbiAgICAgKi9cbiAgICBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZS5nZW5lcmF0ZVRleHR1cmUgPSBmdW5jdGlvbiAoZGlzcGxheU9iamVjdCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uLCByZWdpb24pIHtcbiAgICAgICAgcmVnaW9uID0gcmVnaW9uIHx8IGRpc3BsYXlPYmplY3QuZ2V0TG9jYWxCb3VuZHMobnVsbCwgdHJ1ZSk7XG4gICAgICAgIC8vIG1pbmltdW0gdGV4dHVyZSBzaXplIGlzIDF4MSwgMHgwIHdpbGwgdGhyb3cgYW4gZXJyb3JcbiAgICAgICAgaWYgKHJlZ2lvbi53aWR0aCA9PT0gMClcbiAgICAgICAgICAgIHsgcmVnaW9uLndpZHRoID0gMTsgfVxuICAgICAgICBpZiAocmVnaW9uLmhlaWdodCA9PT0gMClcbiAgICAgICAgICAgIHsgcmVnaW9uLmhlaWdodCA9IDE7IH1cbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmUgPSBSZW5kZXJUZXh0dXJlLmNyZWF0ZSh7XG4gICAgICAgICAgICB3aWR0aDogcmVnaW9uLndpZHRoIHwgMCxcbiAgICAgICAgICAgIGhlaWdodDogcmVnaW9uLmhlaWdodCB8IDAsXG4gICAgICAgICAgICBzY2FsZU1vZGU6IHNjYWxlTW9kZSxcbiAgICAgICAgICAgIHJlc29sdXRpb246IHJlc29sdXRpb24sXG4gICAgICAgIH0pO1xuICAgICAgICB0ZW1wTWF0cml4JDEudHggPSAtcmVnaW9uLng7XG4gICAgICAgIHRlbXBNYXRyaXgkMS50eSA9IC1yZWdpb24ueTtcbiAgICAgICAgdGhpcy5yZW5kZXIoZGlzcGxheU9iamVjdCwge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZTogcmVuZGVyVGV4dHVyZSxcbiAgICAgICAgICAgIGNsZWFyOiBmYWxzZSxcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdGVtcE1hdHJpeCQxLFxuICAgICAgICAgICAgc2tpcFVwZGF0ZVRyYW5zZm9ybTogISFkaXNwbGF5T2JqZWN0LnBhcmVudFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlbmRlclRleHR1cmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGV2ZXJ5dGhpbmcgZnJvbSB0aGUgcmVuZGVyZXIgYW5kIG9wdGlvbmFsbHkgcmVtb3ZlcyB0aGUgQ2FudmFzIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIFtyZW1vdmVWaWV3PWZhbHNlXSAtIFJlbW92ZXMgdGhlIENhbnZhcyBlbGVtZW50IGZyb20gdGhlIERPTS5cbiAgICAgKi9cbiAgICBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKHJlbW92ZVZpZXcpIHtcbiAgICAgICAgZm9yICh2YXIgbyBpbiB0aGlzLnBsdWdpbnMpIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1tvXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbb10gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZW1vdmVWaWV3ICYmIHRoaXMudmlldy5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aGlzQW55ID0gdGhpcztcbiAgICAgICAgLy8gbnVsbC1pbmcgYWxsIG9iamVjdHMsIHRoYXQncyBhIHRyYWRpdGlvbiFcbiAgICAgICAgdGhpc0FueS5wbHVnaW5zID0gbnVsbDtcbiAgICAgICAgdGhpc0FueS50eXBlID0gUkVOREVSRVJfVFlQRS5VTktOT1dOO1xuICAgICAgICB0aGlzQW55LnZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzQW55LnNjcmVlbiA9IG51bGw7XG4gICAgICAgIHRoaXNBbnkuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpc0FueS5vcHRpb25zID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xhc3RPYmplY3RSZW5kZXJlZCA9IG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUsIFwiYmFja2dyb3VuZENvbG9yXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIHRvIGZpbGwgaWYgbm90IHRyYW5zcGFyZW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JhY2tncm91bmRDb2xvcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvciA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nID0gaGV4MnN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICBoZXgycmdiKHZhbHVlLCB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJiYWNrZ3JvdW5kQWxwaGFcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYWxwaGEuIFNldHRpbmcgdGhpcyB0byAwIHdpbGwgbWFrZSB0aGUgY2FudmFzIHRyYW5zcGFyZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhWzNdO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYVszXSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEFic3RyYWN0UmVuZGVyZXI7XG59KEV2ZW50RW1pdHRlcikpO1xuXG4vKipcbiAqIFRoZSBSZW5kZXJlciBkcmF3cyB0aGUgc2NlbmUgYW5kIGFsbCBpdHMgY29udGVudCBvbnRvIGEgV2ViR0wgZW5hYmxlZCBjYW52YXMuXG4gKlxuICogVGhpcyByZW5kZXJlciBzaG91bGQgYmUgdXNlZCBmb3IgYnJvd3NlcnMgdGhhdCBzdXBwb3J0IFdlYkdMLlxuICpcbiAqIFRoaXMgcmVuZGVyZXIgd29ya3MgYnkgYXV0b21hdGljYWxseSBtYW5hZ2luZyBXZWJHTEJhdGNoZXNtLCBzbyBubyBuZWVkIGZvciBTcHJpdGUgQmF0Y2hlcyBvciBTcHJpdGUgQ2xvdWRzLlxuICogRG9uJ3QgZm9yZ2V0IHRvIGFkZCB0aGUgdmlldyB0byB5b3VyIERPTSBvciB5b3Ugd2lsbCBub3Qgc2VlIGFueXRoaW5nIVxuICpcbiAqIFJlbmRlcmVyIGlzIGNvbXBvc2VkIG9mIHN5c3RlbXMgdGhhdCBtYW5hZ2Ugc3BlY2lmaWMgdGFza3MuIFRoZSBmb2xsb3dpbmcgc3lzdGVtcyBhcmUgYWRkZWQgYnkgZGVmYXVsdFxuICogd2hlbmV2ZXIgeW91IGNyZWF0ZSBhIHJlbmRlcmVyOlxuICpcbiAqIHwgU3lzdGVtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgRGVzY3JpcHRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gfCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSB8XG4gKiB8IHtAbGluayBQSVhJLkJhdGNoU3lzdGVtfSAgICAgICAgICAgICB8IFRoaXMgbWFuYWdlcyBvYmplY3QgcmVuZGVyZXJzIHRoYXQgZGVmZXIgcmVuZGVyaW5nIHVudGlsIGEgZmx1c2guICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIFBJWEkuQ29udGV4dFN5c3RlbX0gICAgICAgICAgIHwgVGhpcyBtYW5hZ2VzIHRoZSBXZWJHTCBjb250ZXh0IGFuZCBleHRlbnNpb25zLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgUElYSS5GaWx0ZXJTeXN0ZW19ICAgICAgICAgICAgfCBUaGlzIG1hbmFnZXMgdGhlIGZpbHRlcmluZyBwaXBlbGluZSBmb3IgcG9zdC1wcm9jZXNzaW5nIGVmZmVjdHMuICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBQSVhJLkZyYW1lYnVmZmVyU3lzdGVtfSAgICAgICB8IFRoaXMgbWFuYWdlcyBmcmFtZWJ1ZmZlcnMsIHdoaWNoIGFyZSB1c2VkIGZvciBvZmZzY3JlZW4gcmVuZGVyaW5nLiAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIFBJWEkuR2VvbWV0cnlTeXN0ZW19ICAgICAgICAgIHwgVGhpcyBtYW5hZ2VzIGdlb21ldHJpZXMgJiBidWZmZXJzLCB3aGljaCBhcmUgdXNlZCB0byBkcmF3IG9iamVjdCBtZXNoZXMuICAgICAgfFxuICogfCB7QGxpbmsgUElYSS5NYXNrU3lzdGVtfSAgICAgICAgICAgICAgfCBUaGlzIG1hbmFnZXMgbWFza2luZyBvcGVyYXRpb25zLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBQSVhJLlByb2plY3Rpb25TeXN0ZW19ICAgICAgICB8IFRoaXMgbWFuYWdlcyB0aGUgYHByb2plY3Rpb25NYXRyaXhgLCB1c2VkIGJ5IHNoYWRlcnMgdG8gZ2V0IE5EQyBjb29yZGluYXRlcy4gIHxcbiAqIHwge0BsaW5rIFBJWEkuUmVuZGVyVGV4dHVyZVN5c3RlbX0gICAgIHwgVGhpcyBtYW5hZ2VzIHJlbmRlci10ZXh0dXJlcywgd2hpY2ggYXJlIGFuIGFic3RyYWN0aW9uIG92ZXIgZnJhbWVidWZmZXJzLiAgICAgfFxuICogfCB7QGxpbmsgUElYSS5TY2lzc29yU3lzdGVtfSAgICAgICAgICAgfCBUaGlzIGhhbmRsZXMgc2Npc3NvciBtYXNraW5nLCBhbmQgaXMgdXNlZCBpbnRlcm5hbGx5IGJ5IHtAbGluayBNYXNrU3lzdGVtfSAgICB8XG4gKiB8IHtAbGluayBQSVhJLlNoYWRlclN5c3RlbX0gICAgICAgICAgICB8IFRoaXMgbWFuYWdlcyBzaGFkZXJzLCBwcm9ncmFtcyB0aGF0IHJ1biBvbiB0aGUgR1BVIHRvIGNhbGN1bGF0ZSAnZW0gcGl4ZWxzLiAgIHxcbiAqIHwge0BsaW5rIFBJWEkuU3RhdGVTeXN0ZW19ICAgICAgICAgICAgIHwgVGhpcyBtYW5hZ2VzIHRoZSBXZWJHTCBzdGF0ZSB2YXJpYWJsZXMgbGlrZSBibGVuZCBtb2RlLCBkZXB0aCB0ZXN0aW5nLCBldGMuICAgfFxuICogfCB7QGxpbmsgUElYSS5TdGVuY2lsU3lzdGVtfSAgICAgICAgICAgfCBUaGlzIGhhbmRsZXMgc3RlbmNpbCBtYXNraW5nLCBhbmQgaXMgdXNlZCBpbnRlcm5hbGx5IGJ5IHtAbGluayBNYXNrU3lzdGVtfSAgICB8XG4gKiB8IHtAbGluayBQSVhJLlRleHR1cmVTeXN0ZW19ICAgICAgICAgICB8IFRoaXMgbWFuYWdlcyB0ZXh0dXJlcyBhbmQgdGhlaXIgcmVzb3VyY2VzIG9uIHRoZSBHUFUuICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIFBJWEkuVGV4dHVyZUdDU3lzdGVtfSAgICAgICAgIHwgVGhpcyB3aWxsIGF1dG9tYXRpY2FsbHkgcmVtb3ZlIHRleHR1cmVzIGZyb20gdGhlIEdQVSBpZiB0aGV5IGFyZSBub3QgdXNlZC4gICAgfFxuICpcbiAqIFRoZSBicmVhZHRoIG9mIHRoZSBBUEkgc3VyZmFjZSBwcm92aWRlZCBieSB0aGUgcmVuZGVyZXIgaXMgY29udGFpbmVkIHdpdGhpbiB0aGVzZSBzeXN0ZW1zLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuQWJzdHJhY3RSZW5kZXJlclxuICovXG52YXIgUmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlbmRlcmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIFRoZSBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIFRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWwuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy51c2VDb250ZXh0QWxwaGE9dHJ1ZV0gLSBQYXNzLXRocm91Z2ggdmFsdWUgZm9yIGNhbnZhcycgY29udGV4dCBgYWxwaGFgIHByb3BlcnR5LlxuICAgICAqICAgSWYgeW91IHdhbnQgdG8gc2V0IHRyYW5zcGFyZW5jeSwgcGxlYXNlIHVzZSBgYmFja2dyb3VuZEFscGhhYC4gVGhpcyBvcHRpb24gaXMgZm9yIGNhc2VzIHdoZXJlIHRoZVxuICAgICAqICAgY2FudmFzIG5lZWRzIHRvIGJlIG9wYXF1ZSwgcG9zc2libHkgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgb24gc29tZSBvbGRlciBkZXZpY2VzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0RlbnNpdHk9ZmFsc2VdIC0gUmVzaXplcyByZW5kZXJlciB2aWV3IGluIENTUyBwaXhlbHMgdG8gYWxsb3cgZm9yXG4gICAgICogICByZXNvbHV0aW9ucyBvdGhlciB0aGFuIDEuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gU2V0cyBhbnRpYWxpYXMuIElmIG5vdCBhdmFpbGFibGUgbmF0aXZlbHkgdGhlbiBGWEFBXG4gICAgICogIGFudGlhbGlhc2luZyBpcyB1c2VkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLlxuICAgICAqICBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyZXIgcmV0aW5hIHdvdWxkIGJlIDIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhclxuICAgICAqICB0aGUgY2FudmFzIG9yIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy4gSWYgeW91IHdpc2ggdG8gc2V0IHRoaXMgdG8gZmFsc2UsIHlvdSAqbXVzdCogc2V0XG4gICAgICogIHByZXNlcnZlRHJhd2luZ0J1ZmZlciB0byBgdHJ1ZWAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gRW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sXG4gICAgICogIGVuYWJsZSB0aGlzIGlmIHlvdSBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSBXZWJHTCBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAgICAgKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRBbHBoYT0xXSAtIFZhbHVlIGZyb20gMCAoZnVsbHkgdHJhbnNwYXJlbnQpIHRvIDEgKGZ1bGx5IG9wYXF1ZSkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBvd2VyUHJlZmVyZW5jZV0gLSBQYXJhbWV0ZXIgcGFzc2VkIHRvIFdlYkdMIGNvbnRleHQsIHNldCB0byBcImhpZ2gtcGVyZm9ybWFuY2VcIlxuICAgICAqICBmb3IgZGV2aWNlcyB3aXRoIGR1YWwgZ3JhcGhpY3MgY2FyZC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMuY29udGV4dF0gLSBJZiBXZWJHTCBjb250ZXh0IGFscmVhZHkgZXhpc3RzLCBhbGwgcGFyYW1ldGVycyBtdXN0IGJlIHRha2VuIGZyb20gaXQuXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgUkVOREVSRVJfVFlQRS5XRUJHTCwgb3B0aW9ucykgfHwgdGhpcztcbiAgICAgICAgLy8gdGhlIG9wdGlvbnMgd2lsbCBoYXZlIGJlZW4gbW9kaWZpZWQgaGVyZSBpbiB0aGUgc3VwZXIgY29uc3RydWN0b3Igd2l0aCBwaXhpJ3MgZGVmYXVsdCBzZXR0aW5ncy4uXG4gICAgICAgIG9wdGlvbnMgPSBfdGhpcy5vcHRpb25zO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2ViR0wgY29udGV4dCwgc2V0IGJ5IHRoZSBjb250ZXh0U3lzdGVtICh0aGlzLmNvbnRleHQpXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5nbCA9IG51bGw7XG4gICAgICAgIF90aGlzLkNPTlRFWFRfVUlEID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHNpZ25hbCBpbnN0YW5jZXMgb2YgKipydW5uZXIqKiwgdGhlc2VcbiAgICAgICAgICogYXJlIGFzc2lnbmVkIHRvIGVhY2ggc3lzdGVtIGNyZWF0ZWQuXG4gICAgICAgICAqIEBzZWUgUElYSS5SdW5uZXJcbiAgICAgICAgICogQG5hbWUgcnVubmVyc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gZGVzdHJveSAtIERlc3Ryb3kgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IGNvbnRleHRDaGFuZ2UgLSBDb250ZXh0IGNoYW5nZSBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gcmVzZXQgLSBSZXNldCBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gdXBkYXRlIC0gVXBkYXRlIHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSBwb3N0cmVuZGVyIC0gUG9zdC1yZW5kZXIgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IHByZXJlbmRlciAtIFByZS1yZW5kZXIgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IHJlc2l6ZSAtIFJlc2l6ZSBydW5uZXJcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJ1bm5lcnMgPSB7XG4gICAgICAgICAgICBkZXN0cm95OiBuZXcgUnVubmVyKCdkZXN0cm95JyksXG4gICAgICAgICAgICBjb250ZXh0Q2hhbmdlOiBuZXcgUnVubmVyKCdjb250ZXh0Q2hhbmdlJyksXG4gICAgICAgICAgICByZXNldDogbmV3IFJ1bm5lcigncmVzZXQnKSxcbiAgICAgICAgICAgIHVwZGF0ZTogbmV3IFJ1bm5lcigndXBkYXRlJyksXG4gICAgICAgICAgICBwb3N0cmVuZGVyOiBuZXcgUnVubmVyKCdwb3N0cmVuZGVyJyksXG4gICAgICAgICAgICBwcmVyZW5kZXI6IG5ldyBSdW5uZXIoJ3ByZXJlbmRlcicpLFxuICAgICAgICAgICAgcmVzaXplOiBuZXcgUnVubmVyKCdyZXNpemUnKSxcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdsb2JhbCB1bmlmb3Jtc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlVuaWZvcm1Hcm91cH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdsb2JhbFVuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICAgICAgICBwcm9qZWN0aW9uTWF0cml4OiBuZXcgTWF0cml4KCksXG4gICAgICAgIH0sIHRydWUpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFzayBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXNrU3lzdGVtfSBtYXNrXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFkZFN5c3RlbShNYXNrU3lzdGVtLCAnbWFzaycpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENvbnRleHQgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNvbnRleHRTeXN0ZW19IGNvbnRleHRcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oQ29udGV4dFN5c3RlbSwgJ2NvbnRleHQnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTdGF0ZSBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGVTeXN0ZW19IHN0YXRlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFN0YXRlU3lzdGVtLCAnc3RhdGUnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTaGFkZXIgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlclN5c3RlbX0gc2hhZGVyXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFNoYWRlclN5c3RlbSwgJ3NoYWRlcicpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRleHR1cmUgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVTeXN0ZW19IHRleHR1cmVcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oVGV4dHVyZVN5c3RlbSwgJ3RleHR1cmUnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBHZW9tZXRyeSBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuR2VvbWV0cnlTeXN0ZW19IGdlb21ldHJ5XG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEdlb21ldHJ5U3lzdGVtLCAnZ2VvbWV0cnknKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGcmFtZWJ1ZmZlciBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuRnJhbWVidWZmZXJTeXN0ZW19IGZyYW1lYnVmZmVyXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEZyYW1lYnVmZmVyU3lzdGVtLCAnZnJhbWVidWZmZXInKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTY2lzc29yIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5TY2lzc29yU3lzdGVtfSBzY2lzc29yXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFNjaXNzb3JTeXN0ZW0sICdzY2lzc29yJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU3RlbmNpbCBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RlbmNpbFN5c3RlbX0gc3RlbmNpbFxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShTdGVuY2lsU3lzdGVtLCAnc3RlbmNpbCcpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFByb2plY3Rpb24gc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlByb2plY3Rpb25TeXN0ZW19IHByb2plY3Rpb25cbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oUHJvamVjdGlvblN5c3RlbSwgJ3Byb2plY3Rpb24nKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUZXh0dXJlIGdhcmJhZ2UgY29sbGVjdG9yIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlR0NTeXN0ZW19IHRleHR1cmVHQ1xuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShUZXh0dXJlR0NTeXN0ZW0sICd0ZXh0dXJlR0MnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGaWx0ZXIgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbHRlclN5c3RlbX0gZmlsdGVyXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEZpbHRlclN5c3RlbSwgJ2ZpbHRlcicpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJlbmRlclRleHR1cmUgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlbmRlclRleHR1cmVTeXN0ZW19IHJlbmRlclRleHR1cmVcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oUmVuZGVyVGV4dHVyZVN5c3RlbSwgJ3JlbmRlclRleHR1cmUnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCYXRjaCBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmF0Y2hTeXN0ZW19IGJhdGNoXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEJhdGNoU3lzdGVtLCAnYmF0Y2gnKTtcbiAgICAgICAgX3RoaXMuaW5pdFBsdWdpbnMoUmVuZGVyZXIuX19wbHVnaW5zKTtcbiAgICAgICAgLypcbiAgICAgICAgICogVGhlIG9wdGlvbnMgcGFzc2VkIGluIHRvIGNyZWF0ZSBhIG5ldyBXZWJHTCBjb250ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKG9wdGlvbnMuY29udGV4dCkge1xuICAgICAgICAgICAgX3RoaXMuY29udGV4dC5pbml0RnJvbUNvbnRleHQob3B0aW9ucy5jb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLmNvbnRleHQuaW5pdEZyb21PcHRpb25zKHtcbiAgICAgICAgICAgICAgICBhbHBoYTogISFfdGhpcy51c2VDb250ZXh0QWxwaGEsXG4gICAgICAgICAgICAgICAgYW50aWFsaWFzOiBvcHRpb25zLmFudGlhbGlhcyxcbiAgICAgICAgICAgICAgICBwcmVtdWx0aXBsaWVkQWxwaGE6IF90aGlzLnVzZUNvbnRleHRBbHBoYSAmJiBfdGhpcy51c2VDb250ZXh0QWxwaGEgIT09ICdub3RNdWx0aXBsaWVkJyxcbiAgICAgICAgICAgICAgICBzdGVuY2lsOiB0cnVlLFxuICAgICAgICAgICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIsXG4gICAgICAgICAgICAgICAgcG93ZXJQcmVmZXJlbmNlOiBfdGhpcy5vcHRpb25zLnBvd2VyUHJlZmVyZW5jZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGbGFnIGlmIHdlIGFyZSByZW5kZXJpbmcgdG8gdGhlIHNjcmVlbiB2cyByZW5kZXJUZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9IHRydWU7XG4gICAgICAgIHNheUhlbGxvKF90aGlzLmNvbnRleHQud2ViR0xWZXJzaW9uID09PSAyID8gJ1dlYkdMIDInIDogJ1dlYkdMIDEnKTtcbiAgICAgICAgX3RoaXMucmVzaXplKF90aGlzLm9wdGlvbnMud2lkdGgsIF90aGlzLm9wdGlvbnMuaGVpZ2h0KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgcmVuZGVyZXIgaWYgV2ViR0wgaXMgYXZhaWxhYmxlLiBPdmVycmlkZWFibGVcbiAgICAgKiBieSB0aGUgKipAcGl4aS9jYW52YXMtcmVuZGVyZXIqKiBwYWNrYWdlIHRvIGFsbG93IGZhbGxiYWNrLlxuICAgICAqIHRocm93cyBlcnJvciBpZiBXZWJHTCBpcyBub3QgYXZhaWxhYmxlLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFJlbmRlcmVyLmNyZWF0ZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGlmIChpc1dlYkdMU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVuZGVyZXIob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWJHTCB1bnN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIsIHVzZSBcInBpeGkuanMtbGVnYWN5XCIgZm9yIGZhbGxiYWNrIGNhbnZhczJkIHN1cHBvcnQuJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYSBuZXcgc3lzdGVtIHRvIHRoZSByZW5kZXJlci5cbiAgICAgKiBAcGFyYW0gQ2xhc3NSZWYgLSBDbGFzcyByZWZlcmVuY2VcbiAgICAgKiBAcGFyYW0gW25hbWVdIC0gUHJvcGVydHkgbmFtZSBmb3Igc3lzdGVtLCBpZiBub3Qgc3BlY2lmaWVkXG4gICAgICogICAgICAgIHdpbGwgdXNlIGEgc3RhdGljIGBuYW1lYCBwcm9wZXJ0eSBvbiB0aGUgY2xhc3MgaXRzZWxmLiBUaGlzXG4gICAgICogICAgICAgIG5hbWUgd2lsbCBiZSBhc3NpZ25lZCBhcyBzIHByb3BlcnR5IG9uIHRoZSBSZW5kZXJlciBzbyBtYWtlXG4gICAgICogICAgICAgIHN1cmUgaXQgZG9lc24ndCBjb2xsaWRlIHdpdGggcHJvcGVydGllcyBvbiBSZW5kZXJlci5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlcmVyfSBSZXR1cm4gaW5zdGFuY2Ugb2YgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUuYWRkU3lzdGVtID0gZnVuY3Rpb24gKENsYXNzUmVmLCBuYW1lKSB7XG4gICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgbmFtZSA9IENsYXNzUmVmLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN5c3RlbSA9IG5ldyBDbGFzc1JlZih0aGlzKTtcbiAgICAgICAgaWYgKHRoaXNbbmFtZV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIldob29wcyEgVGhlIG5hbWUgXFxcIlwiICsgbmFtZSArIFwiXFxcIiBpcyBhbHJlYWR5IGluIHVzZVwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzW25hbWVdID0gc3lzdGVtO1xuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMucnVubmVycykge1xuICAgICAgICAgICAgdGhpcy5ydW5uZXJzW2ldLmFkZChzeXN0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBhZnRlciByZW5kZXJpbmcgZmluaXNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLlJlbmRlcmVyI3Bvc3RyZW5kZXJcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBiZWZvcmUgcmVuZGVyaW5nIHN0YXJ0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuUmVuZGVyZXIjcHJlcmVuZGVyXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgV2ViR0wgY29udGV4dCBpcyBzZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLlJlbmRlcmVyI2NvbnRleHRcbiAgICAgICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gV2ViR0wgY29udGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoZGlzcGxheU9iamVjdCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgcmVuZGVyVGV4dHVyZTtcbiAgICAgICAgdmFyIGNsZWFyO1xuICAgICAgICB2YXIgdHJhbnNmb3JtO1xuICAgICAgICB2YXIgc2tpcFVwZGF0ZVRyYW5zZm9ybTtcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zIGluc3RhbmNlb2YgUmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc2LjAuMCcsICdSZW5kZXJlciNyZW5kZXIgYXJndW1lbnRzIGNoYW5nZWQsIHVzZSBvcHRpb25zIGluc3RlYWQuJyk7XG4gICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IG9wdGlvbnM7XG4gICAgICAgICAgICAgICAgY2xlYXIgPSBhcmd1bWVudHNbMl07XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtID0gYXJndW1lbnRzWzNdO1xuICAgICAgICAgICAgICAgIHNraXBVcGRhdGVUcmFuc2Zvcm0gPSBhcmd1bWVudHNbNF07XG4gICAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMgKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSBvcHRpb25zLnJlbmRlclRleHR1cmU7XG4gICAgICAgICAgICAgICAgY2xlYXIgPSBvcHRpb25zLmNsZWFyO1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybSA9IG9wdGlvbnMudHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIHNraXBVcGRhdGVUcmFuc2Zvcm0gPSBvcHRpb25zLnNraXBVcGRhdGVUcmFuc2Zvcm07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2FuIGJlIGhhbmR5IHRvIGtub3chXG4gICAgICAgIHRoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSAhcmVuZGVyVGV4dHVyZTtcbiAgICAgICAgdGhpcy5ydW5uZXJzLnByZXJlbmRlci5lbWl0KCk7XG4gICAgICAgIHRoaXMuZW1pdCgncHJlcmVuZGVyJyk7XG4gICAgICAgIC8vIGFwcGx5IGEgdHJhbnNmb3JtIGF0IGEgR1BVIGxldmVsXG4gICAgICAgIHRoaXMucHJvamVjdGlvbi50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgIC8vIG5vIHBvaW50IHJlbmRlcmluZyBpZiBvdXIgY29udGV4dCBoYXMgYmVlbiBibG93biB1cCFcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5pc0xvc3QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RPYmplY3RSZW5kZXJlZCA9IGRpc3BsYXlPYmplY3Q7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIHNjZW5lIGdyYXBoXG4gICAgICAgICAgICB2YXIgY2FjaGVQYXJlbnQgPSBkaXNwbGF5T2JqZWN0LmVuYWJsZVRlbXBQYXJlbnQoKTtcbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LmRpc2FibGVUZW1wUGFyZW50KGNhY2hlUGFyZW50KTtcbiAgICAgICAgICAgIC8vIGRpc3BsYXlPYmplY3QuaGl0QXJlYSA9IC8vVE9ETyBhZGQgYSB0ZW1wIGhpdCBhcmVhXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJUZXh0dXJlLmJpbmQocmVuZGVyVGV4dHVyZSk7XG4gICAgICAgIHRoaXMuYmF0Y2guY3VycmVudFJlbmRlcmVyLnN0YXJ0KCk7XG4gICAgICAgIGlmIChjbGVhciAhPT0gdW5kZWZpbmVkID8gY2xlYXIgOiB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICBkaXNwbGF5T2JqZWN0LnJlbmRlcih0aGlzKTtcbiAgICAgICAgLy8gYXBwbHkgdHJhbnNmb3JtLi5cbiAgICAgICAgdGhpcy5iYXRjaC5jdXJyZW50UmVuZGVyZXIuZmx1c2goKTtcbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ydW5uZXJzLnBvc3RyZW5kZXIuZW1pdCgpO1xuICAgICAgICAvLyByZXNldCB0cmFuc2Zvcm0gYWZ0ZXIgcmVuZGVyXG4gICAgICAgIHRoaXMucHJvamVjdGlvbi50cmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICB0aGlzLmVtaXQoJ3Bvc3RyZW5kZXInKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIFdlYkdMIHZpZXcgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHNjcmVlbldpZHRoIC0gVGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSBzY3JlZW5IZWlnaHQgLSBUaGUgbmV3IGhlaWdodCBvZiB0aGUgc2NyZWVuLlxuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAoc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnJlc2l6ZS5jYWxsKHRoaXMsIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpO1xuICAgICAgICB0aGlzLnJ1bm5lcnMucmVzaXplLmVtaXQoc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIFdlYkdMIHN0YXRlIHNvIHlvdSBjYW4gcmVuZGVyIHRoaW5ncyBob3dldmVyIHlvdSBmYW5jeSFcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5ydW5uZXJzLnJlc2V0LmVtaXQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUuYmluZCgpO1xuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUuY2xlYXIoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZXZlcnl0aGluZyBmcm9tIHRoZSByZW5kZXJlciAoZXZlbnQgbGlzdGVuZXJzLCBzcHJpdGViYXRjaCwgZXRjLi4uKVxuICAgICAqXG4gICAgICogQHBhcmFtIFtyZW1vdmVWaWV3PWZhbHNlXSAtIFJlbW92ZXMgdGhlIENhbnZhcyBlbGVtZW50IGZyb20gdGhlIERPTS5cbiAgICAgKiAgU2VlOiBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzIyMzNcbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChyZW1vdmVWaWV3KSB7XG4gICAgICAgIHRoaXMucnVubmVycy5kZXN0cm95LmVtaXQoKTtcbiAgICAgICAgZm9yICh2YXIgciBpbiB0aGlzLnJ1bm5lcnMpIHtcbiAgICAgICAgICAgIHRoaXMucnVubmVyc1tyXS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2FsbCBiYXNlIGRlc3Ryb3lcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgcmVtb3ZlVmlldyk7XG4gICAgICAgIC8vIFRPRE8gbnVsbGlmeSBhbGwgdGhlIG1hbmFnZXJzLi5cbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVuZGVyZXIucHJvdG90eXBlLCBcImV4dHJhY3RcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUGxlYXNlIHVzZSBgcGx1Z2lucy5leHRyYWN0YCBpbnN0ZWFkLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkV4dHJhY3R9IGV4dHJhY3RcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNi4wLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc2LjAuMCcsICdSZW5kZXJlciNleHRyYWN0IGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUmVuZGVyZXIjcGx1Z2lucy5leHRyYWN0IGluc3RlYWQuJyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wbHVnaW5zLmV4dHJhY3Q7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcGx1Z2luIHRvIHRoZSByZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAcGFyYW0gcGx1Z2luTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBwbHVnaW4uXG4gICAgICogQHBhcmFtIGN0b3IgLSBUaGUgY29uc3RydWN0b3IgZnVuY3Rpb24gb3IgY2xhc3MgZm9yIHRoZSBwbHVnaW4uXG4gICAgICovXG4gICAgUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4gPSBmdW5jdGlvbiAocGx1Z2luTmFtZSwgY3Rvcikge1xuICAgICAgICBSZW5kZXJlci5fX3BsdWdpbnMgPSBSZW5kZXJlci5fX3BsdWdpbnMgfHwge307XG4gICAgICAgIFJlbmRlcmVyLl9fcGx1Z2luc1twbHVnaW5OYW1lXSA9IGN0b3I7XG4gICAgfTtcbiAgICByZXR1cm4gUmVuZGVyZXI7XG59KEFic3RyYWN0UmVuZGVyZXIpKTtcblxuLyoqXG4gKiBUaGlzIGhlbHBlciBmdW5jdGlvbiB3aWxsIGF1dG9tYXRpY2FsbHkgZGV0ZWN0IHdoaWNoIHJlbmRlcmVyIHlvdSBzaG91bGQgYmUgdXNpbmcuXG4gKiBXZWJHTCBpcyB0aGUgcHJlZmVycmVkIHJlbmRlcmVyIGFzIGl0IGlzIGEgbG90IGZhc3Rlci4gSWYgV2ViR0wgaXMgbm90IHN1cHBvcnRlZCBieVxuICogdGhlIGJyb3dzZXIgdGhlbiB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGEgY2FudmFzIHJlbmRlcmVyXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiBhdXRvRGV0ZWN0UmVuZGVyZXJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVyc1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSB0aGUgd2lkdGggb2YgdGhlIHJlbmRlcmVycyB2aWV3XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSB0aGUgaGVpZ2h0IG9mIHRoZSByZW5kZXJlcnMgdmlld1xuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSB0aGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnVzZUNvbnRleHRBbHBoYT10cnVlXSAtIFBhc3MtdGhyb3VnaCB2YWx1ZSBmb3IgY2FudmFzJyBjb250ZXh0IGBhbHBoYWAgcHJvcGVydHkuXG4gKiAgIElmIHlvdSB3YW50IHRvIHNldCB0cmFuc3BhcmVuY3ksIHBsZWFzZSB1c2UgYGJhY2tncm91bmRBbHBoYWAuIFRoaXMgb3B0aW9uIGlzIGZvciBjYXNlcyB3aGVyZSB0aGVcbiAqICAgY2FudmFzIG5lZWRzIHRvIGJlIG9wYXF1ZSwgcG9zc2libHkgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgb24gc29tZSBvbGRlciBkZXZpY2VzLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvRGVuc2l0eT1mYWxzZV0gLSBSZXNpemVzIHJlbmRlcmVyIHZpZXcgaW4gQ1NTIHBpeGVscyB0byBhbGxvdyBmb3JcbiAqICAgcmVzb2x1dGlvbnMgb3RoZXIgdGhhbiAxXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBzZXRzIGFudGlhbGlhc1xuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gZW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sIGVuYWJsZSB0aGlzIGlmIHlvdVxuICogIG5lZWQgdG8gY2FsbCB0b0RhdGFVcmwgb24gdGhlIHdlYmdsIGNvbnRleHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAqICAoc2hvd24gaWYgbm90IHRyYW5zcGFyZW50KS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQWxwaGE9MV0gLSBWYWx1ZSBmcm9tIDAgKGZ1bGx5IHRyYW5zcGFyZW50KSB0byAxIChmdWxseSBvcGFxdWUpLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gKiAgIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLCByZXRpbmEgd291bGQgYmUgMlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUNhbnZhcz1mYWxzZV0gLSBwcmV2ZW50cyBzZWxlY3Rpb24gb2YgV2ViR0wgcmVuZGVyZXIsIGV2ZW4gaWYgc3VjaCBpcyBwcmVzZW50LCB0aGlzXG4gKiAgIG9wdGlvbiBvbmx5IGlzIGF2YWlsYWJsZSB3aGVuIHVzaW5nICoqcGl4aS5qcy1sZWdhY3kqKiBvciAqKkBwaXhpL2NhbnZhcy1yZW5kZXJlcioqIG1vZHVsZXMsIG90aGVyd2lzZVxuICogICBpdCBpcyBpZ25vcmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBvd2VyUHJlZmVyZW5jZV0gLSBQYXJhbWV0ZXIgcGFzc2VkIHRvIHdlYmdsIGNvbnRleHQsIHNldCB0byBcImhpZ2gtcGVyZm9ybWFuY2VcIlxuICogIGZvciBkZXZpY2VzIHdpdGggZHVhbCBncmFwaGljcyBjYXJkICoqd2ViZ2wgb25seSoqXG4gKiBAcmV0dXJuIHtQSVhJLlJlbmRlcmVyfFBJWEkuQ2FudmFzUmVuZGVyZXJ9IFJldHVybnMgV2ViR0wgcmVuZGVyZXIgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgQ2FudmFzUmVuZGVyZXJcbiAqL1xuZnVuY3Rpb24gYXV0b0RldGVjdFJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gUmVuZGVyZXIuY3JlYXRlKG9wdGlvbnMpO1xufVxuXG52YXIgJGRlZmF1bHRWZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn1cIjtcblxudmFyICRkZWZhdWx0RmlsdGVyVmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWM0IGlucHV0U2l6ZTtcXG51bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuXFxudmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXFxue1xcbiAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbn1cXG5cXG52ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXFxue1xcbiAgICByZXR1cm4gYVZlcnRleFBvc2l0aW9uICogKG91dHB1dEZyYW1lLnp3ICogaW5wdXRTaXplLnp3KTtcXG59XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBmaWx0ZXJUZXh0dXJlQ29vcmQoKTtcXG59XFxuXCI7XG5cbi8qKlxuICogRGVmYXVsdCB2ZXJ0ZXggc2hhZGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG1lbWJlciB7c3RyaW5nfSBkZWZhdWx0VmVydGV4XG4gKi9cbi8qKlxuICogRGVmYXVsdCBmaWx0ZXIgdmVydGV4IHNoYWRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBtZW1iZXIge3N0cmluZ30gZGVmYXVsdEZpbHRlclZlcnRleFxuICovXG4vLyBOT1RFOiBUaGlzIGJsYWNrIG1hZ2ljIGlzIHNvIHRoYXQgQG1pY3Jvc29mdC9hcGktZXh0cmFjdG9yIGRvZXMgbm90IGNvbXBsYWluISBUaGlzIGV4cGxpY2l0bHkgc3BlY2lmaWVzIHRoZSB0eXBlc1xuLy8gb2YgZGVmYXVsdFZlcnRleCwgZGVmYXVsdEZpbHRlclZlcnRleC5cbnZhciBkZWZhdWx0VmVydGV4JDIgPSAkZGVmYXVsdFZlcnRleDtcbnZhciBkZWZhdWx0RmlsdGVyVmVydGV4ID0gJGRlZmF1bHRGaWx0ZXJWZXJ0ZXg7XG5cbi8qKlxuICogVXNlZCBieSB0aGUgYmF0Y2hlciB0byBkcmF3IGJhdGNoZXMuXG4gKiBFYWNoIG9uZSBvZiB0aGVzZSBjb250YWlucyBhbGwgaW5mb3JtYXRpb24gcmVxdWlyZWQgdG8gZHJhdyBhIGJvdW5kIGdlb21ldHJ5LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhdGNoRHJhd0NhbGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmF0Y2hEcmF3Q2FsbCgpIHtcbiAgICAgICAgdGhpcy50ZXhBcnJheSA9IG51bGw7XG4gICAgICAgIHRoaXMuYmxlbmQgPSAwO1xuICAgICAgICB0aGlzLnR5cGUgPSBEUkFXX01PREVTLlRSSUFOR0xFUztcbiAgICAgICAgdGhpcy5zdGFydCA9IDA7XG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkYXRhIGZvciB1bmlmb3JtcyBvciBjdXN0b20gd2ViZ2wgc3RhdGVcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIEJhdGNoRHJhd0NhbGw7XG59KCkpO1xuXG4vKipcbiAqIFVzZWQgYnkgdGhlIGJhdGNoZXIgdG8gYnVpbGQgdGV4dHVyZSBiYXRjaGVzLlxuICogSG9sZHMgbGlzdCBvZiB0ZXh0dXJlcyBhbmQgdGhlaXIgcmVzcGVjdGl2ZSBsb2NhdGlvbnMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmF0Y2hUZXh0dXJlQXJyYXkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmF0Y2hUZXh0dXJlQXJyYXkoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBpbnNpZGUgdGV4dHVyZXMgYXJyYXlcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVzcGVjdGl2ZSBsb2NhdGlvbnMgZm9yIHRleHR1cmVzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pZHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIG51bWJlciBvZiBmaWxsZWQgZWxlbWVudHNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgfVxuICAgIEJhdGNoVGV4dHVyZUFycmF5LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbaV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgIH07XG4gICAgcmV0dXJuIEJhdGNoVGV4dHVyZUFycmF5O1xufSgpKTtcblxuLyoqXG4gKiBGbGV4aWJsZSB3cmFwcGVyIGFyb3VuZCBgQXJyYXlCdWZmZXJgIHRoYXQgYWxzbyBwcm92aWRlcyB0eXBlZCBhcnJheSB2aWV3cyBvbiBkZW1hbmQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVmlld2FibGVCdWZmZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmlld2FibGVCdWZmZXIoc2l6ZU9yQnVmZmVyKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2l6ZU9yQnVmZmVyID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBVbmRlcmx5aW5nIGBBcnJheUJ1ZmZlcmAgdGhhdCBob2xkcyBhbGwgdGhlIGRhdGEgYW5kIGlzIG9mIGNhcGFjaXR5IGB0aGlzLnNpemVgLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBtZW1iZXIge0FycmF5QnVmZmVyfVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLnJhd0JpbmFyeURhdGEgPSBuZXcgQXJyYXlCdWZmZXIoc2l6ZU9yQnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplT3JCdWZmZXIgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgICAgICB0aGlzLnJhd0JpbmFyeURhdGEgPSBzaXplT3JCdWZmZXIuYnVmZmVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yYXdCaW5hcnlEYXRhID0gc2l6ZU9yQnVmZmVyO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgVWludDMyQXJyYXlgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudWludDMyVmlldyA9IG5ldyBVaW50MzJBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEZsb2F0MzJBcnJheWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmxvYXQzMlZpZXcgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWV3YWJsZUJ1ZmZlci5wcm90b3R5cGUsIFwiaW50OFZpZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEludDhBcnJheWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0ludDhBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9pbnQ4Vmlldykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludDhWaWV3ID0gbmV3IEludDhBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ludDhWaWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZSwgXCJ1aW50OFZpZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYFVpbnQ4QXJyYXlgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50OEFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3VpbnQ4Vmlldykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VpbnQ4VmlldyA9IG5ldyBVaW50OEFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdWludDhWaWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZSwgXCJpbnQxNlZpZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEludDE2QXJyYXlgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtJbnQxNkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2ludDE2Vmlldykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludDE2VmlldyA9IG5ldyBJbnQxNkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW50MTZWaWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZSwgXCJ1aW50MTZWaWV3XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBVaW50MTZBcnJheWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3VpbnQxNlZpZXcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91aW50MTZWaWV3ID0gbmV3IFVpbnQxNkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdWludDE2VmlldztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWV3YWJsZUJ1ZmZlci5wcm90b3R5cGUsIFwiaW50MzJWaWV3XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBJbnQzMkFycmF5YC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7SW50MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9pbnQzMlZpZXcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnQzMlZpZXcgPSBuZXcgSW50MzJBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ludDMyVmlldztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZpZXcgb2YgdGhlIGdpdmVuIHR5cGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIE9uZSBvZiBgaW50OGAsIGB1aW50OGAsIGBpbnQxNmAsXG4gICAgICogICAgYHVpbnQxNmAsIGBpbnQzMmAsIGB1aW50MzJgLCBhbmQgYGZsb2F0MzJgLlxuICAgICAqIEByZXR1cm4ge29iamVjdH0gdHlwZWQgYXJyYXkgb2YgZ2l2ZW4gdHlwZVxuICAgICAqL1xuICAgIFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZS52aWV3ID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbdHlwZSArIFwiVmlld1wiXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIGFsbCBidWZmZXIgcmVmZXJlbmNlcy4gRG8gbm90IHVzZSBhZnRlciBjYWxsaW5nXG4gICAgICogdGhpcy5cbiAgICAgKi9cbiAgICBWaWV3YWJsZUJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yYXdCaW5hcnlEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5faW50OFZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLl91aW50OFZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLl9pbnQxNlZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLl91aW50MTZWaWV3ID0gbnVsbDtcbiAgICAgICAgdGhpcy5faW50MzJWaWV3ID0gbnVsbDtcbiAgICAgICAgdGhpcy51aW50MzJWaWV3ID0gbnVsbDtcbiAgICAgICAgdGhpcy5mbG9hdDMyVmlldyA9IG51bGw7XG4gICAgfTtcbiAgICBWaWV3YWJsZUJ1ZmZlci5zaXplT2YgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2ludDgnOlxuICAgICAgICAgICAgY2FzZSAndWludDgnOlxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgY2FzZSAnaW50MTYnOlxuICAgICAgICAgICAgY2FzZSAndWludDE2JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gMjtcbiAgICAgICAgICAgIGNhc2UgJ2ludDMyJzpcbiAgICAgICAgICAgIGNhc2UgJ3VpbnQzMic6XG4gICAgICAgICAgICBjYXNlICdmbG9hdDMyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gNDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHR5cGUgKyBcIiBpc24ndCBhIHZhbGlkIHZpZXcgdHlwZVwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFZpZXdhYmxlQnVmZmVyO1xufSgpKTtcblxuLyoqXG4gKiBSZW5kZXJlciBkZWRpY2F0ZWQgdG8gZHJhd2luZyBhbmQgYmF0Y2hpbmcgc3ByaXRlcy5cbiAqXG4gKiBUaGlzIGlzIHRoZSBkZWZhdWx0IGJhdGNoIHJlbmRlcmVyLiBJdCBidWZmZXJzIG9iamVjdHNcbiAqIHdpdGggdGV4dHVyZS1iYXNlZCBnZW9tZXRyaWVzIGFuZCByZW5kZXJzIHRoZW0gaW5cbiAqIGJhdGNoZXMuIEl0IHVwbG9hZHMgbXVsdGlwbGUgdGV4dHVyZXMgdG8gdGhlIEdQVSB0b1xuICogcmVkdWNlIHRvIHRoZSBudW1iZXIgb2YgZHJhdyBjYWxscy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcm90ZWN0ZWRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLk9iamVjdFJlbmRlcmVyXG4gKi9cbnZhciBBYnN0cmFjdEJhdGNoUmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFic3RyYWN0QmF0Y2hSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBUaGlzIHdpbGwgaG9vayBvbnRvIHRoZSByZW5kZXJlcidzIGBjb250ZXh0Q2hhbmdlYFxuICAgICAqIGFuZCBgcHJlcmVuZGVyYCBzaWduYWxzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBYnN0cmFjdEJhdGNoUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHVzZWQgdG8gZ2VuZXJhdGUgYSBzaGFkZXIgdGhhdCBjYW5cbiAgICAgICAgICogY29sb3IgZWFjaCB2ZXJ0ZXggYmFzZWQgb24gYSBgYVRleHR1cmVJZGBcbiAgICAgICAgICogYXR0cmlidXRlIHRoYXQgcG9pbnRzIHRvIGFuIHRleHR1cmUgaW4gYHVTYW1wbGVyYC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBlbmFibGVzIHRoZSBvYmplY3RzIHdpdGggZGlmZmVyZW50IHRleHR1cmVzXG4gICAgICAgICAqIHRvIGJlIGRyYXduIGluIHRoZSBzYW1lIGRyYXcgY2FsbC5cbiAgICAgICAgICpcbiAgICAgICAgICogWW91IGNhbiBjdXN0b21pemUgeW91ciBzaGFkZXIgYnkgY3JlYXRpbmcgeW91clxuICAgICAgICAgKiBjdXN0b20gc2hhZGVyIGdlbmVyYXRvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXRjaFNoYWRlckdlbmVyYXRvcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2hhZGVyR2VuZXJhdG9yID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjbGFzcyB0aGF0IHJlcHJlc2VudHMgdGhlIGdlb21ldHJ5IG9mIG9iamVjdHNcbiAgICAgICAgICogdGhhdCBhcmUgZ29pbmcgdG8gYmUgYmF0Y2hlZCB3aXRoIHRoaXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CYXRjaEdlb21ldHJ5XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdlb21ldHJ5Q2xhc3MgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2l6ZSBvZiBkYXRhIGJlaW5nIGJ1ZmZlcmVkIHBlciB2ZXJ0ZXggaW4gdGhlXG4gICAgICAgICAqIGF0dHJpYnV0ZSBidWZmZXJzIChpbiBmbG9hdHMpLiBCeSBkZWZhdWx0LCB0aGVcbiAgICAgICAgICogYmF0Y2gtcmVuZGVyZXIgcGx1Z2luIHVzZXMgNjpcbiAgICAgICAgICpcbiAgICAgICAgICogfCBhVmVydGV4UG9zaXRpb24gfCAyIHxcbiAgICAgICAgICogfC0tLS0tLS0tLS0tLS0tLS0tfC0tLXxcbiAgICAgICAgICogfCBhVGV4dHVyZUNvb3JkcyAgfCAyIHxcbiAgICAgICAgICogfCBhQ29sb3IgICAgICAgICAgfCAxIHxcbiAgICAgICAgICogfCBhVGV4dHVyZUlkICAgICAgfCAxIHxcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRleFNpemUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIHN0YXRlIGluIHdoaWNoIHRoaXMgcmVuZGVyZXIgd2lsbCB3b3JrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlID0gU3RhdGUuZm9yMmQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgYnVmZmVyYWJsZSBvYmplY3RzIGJlZm9yZSBhIGZsdXNoXG4gICAgICAgICAqIG9jY3VycyBhdXRvbWF0aWNhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IHNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFICogNFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2l6ZSA9IHNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFICogNDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRvdGFsIGNvdW50IG9mIGFsbCB2ZXJ0aWNlcyB1c2VkIGJ5IHRoZSBjdXJyZW50bHlcbiAgICAgICAgICogYnVmZmVyZWQgb2JqZWN0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3ZlcnRleENvdW50ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRvdGFsIGNvdW50IG9mIGFsbCBpbmRpY2VzIHVzZWQgYnkgdGhlIGN1cnJlbnRseVxuICAgICAgICAgKiBidWZmZXJlZCBvYmplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faW5kZXhDb3VudCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWZmZXIgb2Ygb2JqZWN0cyB0aGF0IGFyZSB5ZXQgdG8gYmUgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdFtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2J1ZmZlcmVkRWxlbWVudHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERhdGEgZm9yIHRleHR1cmUgYmF0Y2ggYnVpbGRlciwgaGVscHMgdG8gc2F2ZSBhIGJpdCBvZiBDUFUgb24gYSBwYXNzLlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5CYXNlVGV4dHVyZVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2J1ZmZlcmVkVGV4dHVyZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiBlbGVtZW50cyB0aGF0IGFyZSBidWZmZXJlZCBhbmQgYXJlXG4gICAgICAgICAqIHdhaXRpbmcgdG8gYmUgZmx1c2hlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2J1ZmZlclNpemUgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBzaGFkZXIgaXMgZ2VuZXJhdGVkIGJ5IGB0aGlzLnNoYWRlckdlbmVyYXRvcmAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEl0IGlzIGdlbmVyYXRlZCBzcGVjaWZpY2FsbHkgdG8gaGFuZGxlIHRoZSByZXF1aXJlZFxuICAgICAgICAgKiBudW1iZXIgb2YgdGV4dHVyZXMgYmVpbmcgYmF0Y2hlZCB0b2dldGhlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9zaGFkZXIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiBgdGhpcy5nZW9tZXRyeUNsYXNzYCBnZW9tZXRyeSBvYmplY3RzXG4gICAgICAgICAqIHRoYXQgc3RvcmUgYnVmZmVycy4gVGhleSBhcmUgdXNlZCB0byBwYXNzIGRhdGFcbiAgICAgICAgICogdG8gdGhlIHNoYWRlciBvbiBlYWNoIGRyYXcgY2FsbC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlc2UgYXJlIG5ldmVyIHJlLWFsbG9jYXRlZCBhZ2FpbiwgdW5sZXNzIGFcbiAgICAgICAgICogY29udGV4dCBjaGFuZ2Ugb2NjdXJzOyBob3dldmVyLCB0aGUgcG9vbCBtYXlcbiAgICAgICAgICogYmUgZXhwYW5kZWQgaWYgcmVxdWlyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR2VvbWV0cnlbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHNlZSBQSVhJLkFic3RyYWN0QmF0Y2hSZW5kZXJlci5jb250ZXh0Q2hhbmdlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcGFja2VkR2VvbWV0cmllcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2l6ZSBvZiBgdGhpcy5fcGFja2VkR2VvbWV0cmllc2AuIEl0IGNhbiBiZSBleHBhbmRlZFxuICAgICAgICAgKiBpZiBtb3JlIHRoYW4gYHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemVgIGZsdXNoZXNcbiAgICAgICAgICogb2NjdXIgaW4gYSBzaW5nbGUgZnJhbWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplID0gMjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmx1c2ggbWF5IG9jY3VyIG11bHRpcGxlIHRpbWVzIGluIGEgc2luZ2xlXG4gICAgICAgICAqIGZyYW1lLiBPbiBpT1MgZGV2aWNlcyBvciB3aGVuXG4gICAgICAgICAqIGBzZXR0aW5ncy5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSYCBpcyBmYWxzZSwgdGhlXG4gICAgICAgICAqIGJhdGNoIHJlbmRlcmVyIGRvZXMgbm90IHVwbG9hZCBkYXRhIHRvIHRoZSBzYW1lXG4gICAgICAgICAqIGBXZWJHTEJ1ZmZlcmAgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGluZGV4IGludG8gYHBhY2tlZEdlb21ldHJpZXNgIHRoYXQgcG9pbnRzIHRvXG4gICAgICAgICAqIGdlb21ldHJ5IGhvbGRpbmcgdGhlIG1vc3QgcmVjZW50IGJ1ZmZlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9mbHVzaElkID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgYFZpZXdhYmxlQnVmZmVyYCBvYmplY3RzIHRoYXQgYXJlIHNvcnRlZCBpblxuICAgICAgICAgKiBvcmRlciBvZiBpbmNyZWFzaW5nIHNpemUuIFRoZSBmbHVzaCBtZXRob2QgdXNlc1xuICAgICAgICAgKiB0aGUgYnVmZmVyIHdpdGggdGhlIGxlYXN0IHNpemUgYWJvdmUgdGhlIGFtb3VudFxuICAgICAgICAgKiBpdCByZXF1aXJlcy4gVGhlc2UgYXJlIHVzZWQgZm9yIHBhc3NpbmcgYXR0cmlidXRlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGZpcnN0IGJ1ZmZlciBoYXMgYSBzaXplIG9mIDg7IGVhY2ggc3Vic2VxdWVudFxuICAgICAgICAgKiBidWZmZXIgaGFzIGRvdWJsZSBjYXBhY2l0eSBvZiBpdHMgcHJldmlvdXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVmlld2FibGVCdWZmZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHNlZSBQSVhJLkFic3RyYWN0QmF0Y2hSZW5kZXJlciNnZXRBdHRyaWJ1dGVCdWZmZXJcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hQnVmZmVycyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiBgVWludDE2QXJyYXlgIG9iamVjdHMgdGhhdCBhcmUgc29ydGVkIGluXG4gICAgICAgICAqIG9yZGVyIG9mIGluY3JlYXNpbmcgc2l6ZS4gVGhlIGZsdXNoIG1ldGhvZCB1c2VzXG4gICAgICAgICAqIHRoZSBidWZmZXIgd2l0aCB0aGUgbGVhc3Qgc2l6ZSBhYm92ZSB0aGUgYW1vdW50XG4gICAgICAgICAqIGl0IHJlcXVpcmVzLiBUaGVzZSBhcmUgdXNlZCBmb3IgcGFzc2luZyBpbmRpY2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgZmlyc3QgYnVmZmVyIGhhcyBhIHNpemUgb2YgMTI7IGVhY2ggc3Vic2VxdWVudFxuICAgICAgICAgKiBidWZmZXIgaGFzIGRvdWJsZSBjYXBhY2l0eSBvZiBpdHMgcHJldmlvdXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5W119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdEJhdGNoUmVuZGVyZXIjZ2V0SW5kZXhCdWZmZXJcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9pQnVmZmVycyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogTWF4aW11bSBudW1iZXIgb2YgdGV4dHVyZXMgdGhhdCBjYW4gYmUgdXBsb2FkZWQgdG9cbiAgICAgICAgICogdGhlIEdQVSB1bmRlciB0aGUgY3VycmVudCBjb250ZXh0LiBJdCBpcyBpbml0aWFsaXplZFxuICAgICAgICAgKiBwcm9wZXJseSBpbiBgdGhpcy5jb250ZXh0Q2hhbmdlYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RCYXRjaFJlbmRlcmVyI2NvbnRleHRDaGFuZ2VcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5NQVhfVEVYVFVSRVMgPSAxO1xuICAgICAgICBfdGhpcy5yZW5kZXJlci5vbigncHJlcmVuZGVyJywgX3RoaXMub25QcmVyZW5kZXIsIF90aGlzKTtcbiAgICAgICAgcmVuZGVyZXIucnVubmVycy5jb250ZXh0Q2hhbmdlLmFkZChfdGhpcyk7XG4gICAgICAgIF90aGlzLl9kY0luZGV4ID0gMDtcbiAgICAgICAgX3RoaXMuX2FJbmRleCA9IDA7XG4gICAgICAgIF90aGlzLl9pSW5kZXggPSAwO1xuICAgICAgICBfdGhpcy5fYXR0cmlidXRlQnVmZmVyID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX2luZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX3RlbXBCb3VuZFRleHR1cmVzID0gW107XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgYGNvbnRleHRDaGFuZ2VgIHNpZ25hbC5cbiAgICAgKlxuICAgICAqIEl0IGNhbGN1bGF0ZXMgYHRoaXMuTUFYX1RFWFRVUkVTYCBhbmQgYWxsb2NhdGluZyB0aGVcbiAgICAgKiBwYWNrZWQtZ2VvbWV0cnkgb2JqZWN0IHBvb2wuXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA9PT0gRU5WLldFQkdMX0xFR0FDWSkge1xuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gc3RlcCAxOiBmaXJzdCBjaGVjayBtYXggdGV4dHVyZXMgdGhlIEdQVSBjYW4gaGFuZGxlLlxuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSBNYXRoLm1pbihnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpLCBzZXR0aW5ncy5TUFJJVEVfTUFYX1RFWFRVUkVTKTtcbiAgICAgICAgICAgIC8vIHN0ZXAgMjogY2hlY2sgdGhlIG1heGltdW0gbnVtYmVyIG9mIGlmIHN0YXRlbWVudHMgdGhlIHNoYWRlciBjYW4gaGF2ZSB0b28uLlxuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyKHRoaXMuTUFYX1RFWFRVUkVTLCBnbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2hhZGVyID0gdGhpcy5zaGFkZXJHZW5lcmF0b3IuZ2VuZXJhdGVTaGFkZXIodGhpcy5NQVhfVEVYVFVSRVMpO1xuICAgICAgICAvLyB3ZSB1c2UgdGhlIHNlY29uZCBzaGFkZXIgYXMgdGhlIGZpcnN0IG9uZSBkZXBlbmRpbmcgb24geW91ciBicm93c2VyXG4gICAgICAgIC8vIG1heSBvbWl0IGFUZXh0dXJlSWQgYXMgaXQgaXMgbm90IHVzZWQgYnkgdGhlIHNoYWRlciBzbyBpcyBvcHRpbWl6ZWQgb3V0LlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemU7IGkrKykge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cmllc1tpXSA9IG5ldyAodGhpcy5nZW9tZXRyeUNsYXNzKSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5pdEZsdXNoQnVmZmVycygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFrZXMgc3VyZSB0aGF0IHN0YXRpYyBhbmQgZHluYW1pYyBmbHVzaCBwb29sZWQgb2JqZWN0cyBoYXZlIGNvcnJlY3QgZGltZW5zaW9uc1xuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuaW5pdEZsdXNoQnVmZmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9kcmF3Q2FsbFBvb2wgPSBBYnN0cmFjdEJhdGNoUmVuZGVyZXIuX2RyYXdDYWxsUG9vbCwgX3RleHR1cmVBcnJheVBvb2wgPSBBYnN0cmFjdEJhdGNoUmVuZGVyZXIuX3RleHR1cmVBcnJheVBvb2w7XG4gICAgICAgIC8vIG1heCBkcmF3IGNhbGxzXG4gICAgICAgIHZhciBNQVhfU1BSSVRFUyA9IHRoaXMuc2l6ZSAvIDQ7XG4gICAgICAgIC8vIG1heCB0ZXh0dXJlIGFycmF5c1xuICAgICAgICB2YXIgTUFYX1RBID0gTWF0aC5mbG9vcihNQVhfU1BSSVRFUyAvIHRoaXMuTUFYX1RFWFRVUkVTKSArIDE7XG4gICAgICAgIHdoaWxlIChfZHJhd0NhbGxQb29sLmxlbmd0aCA8IE1BWF9TUFJJVEVTKSB7XG4gICAgICAgICAgICBfZHJhd0NhbGxQb29sLnB1c2gobmV3IEJhdGNoRHJhd0NhbGwoKSk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKF90ZXh0dXJlQXJyYXlQb29sLmxlbmd0aCA8IE1BWF9UQSkge1xuICAgICAgICAgICAgX3RleHR1cmVBcnJheVBvb2wucHVzaChuZXcgQmF0Y2hUZXh0dXJlQXJyYXkoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLk1BWF9URVhUVVJFUzsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl90ZW1wQm91bmRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIGBwcmVyZW5kZXJgIHNpZ25hbC5cbiAgICAgKlxuICAgICAqIEl0IGVuc3VyZXMgdGhhdCBmbHVzaGVzIHN0YXJ0IGZyb20gdGhlIGZpcnN0IGdlb21ldHJ5XG4gICAgICogb2JqZWN0IGFnYWluLlxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUub25QcmVyZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2ZsdXNoSWQgPSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQnVmZmVycyB0aGUgXCJiYXRjaGFibGVcIiBvYmplY3QuIEl0IG5lZWQgbm90IGJlIHJlbmRlcmVkXG4gICAgICogaW1tZWRpYXRlbHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZWxlbWVudCAtIHRoZSBlbGVtZW50IHRvIHJlbmRlciB3aGVuXG4gICAgICogICAgdXNpbmcgdGhpcyByZW5kZXJlclxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCFlbGVtZW50Ll90ZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3ZlcnRleENvdW50ICsgKGVsZW1lbnQudmVydGV4RGF0YS5sZW5ndGggLyAyKSA+IHRoaXMuc2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ZlcnRleENvdW50ICs9IGVsZW1lbnQudmVydGV4RGF0YS5sZW5ndGggLyAyO1xuICAgICAgICB0aGlzLl9pbmRleENvdW50ICs9IGVsZW1lbnQuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIHRoaXMuX2J1ZmZlcmVkVGV4dHVyZXNbdGhpcy5fYnVmZmVyU2l6ZV0gPSBlbGVtZW50Ll90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB0aGlzLl9idWZmZXJlZEVsZW1lbnRzW3RoaXMuX2J1ZmZlclNpemUrK10gPSBlbGVtZW50O1xuICAgIH07XG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5idWlsZFRleHR1cmVzQW5kRHJhd0NhbGxzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCB0ZXh0dXJlcyA9IF9hLl9idWZmZXJlZFRleHR1cmVzLCBNQVhfVEVYVFVSRVMgPSBfYS5NQVhfVEVYVFVSRVM7XG4gICAgICAgIHZhciB0ZXh0dXJlQXJyYXlzID0gQWJzdHJhY3RCYXRjaFJlbmRlcmVyLl90ZXh0dXJlQXJyYXlQb29sO1xuICAgICAgICB2YXIgYmF0Y2ggPSB0aGlzLnJlbmRlcmVyLmJhdGNoO1xuICAgICAgICB2YXIgYm91bmRUZXh0dXJlcyA9IHRoaXMuX3RlbXBCb3VuZFRleHR1cmVzO1xuICAgICAgICB2YXIgdG91Y2ggPSB0aGlzLnJlbmRlcmVyLnRleHR1cmVHQy5jb3VudDtcbiAgICAgICAgdmFyIFRJQ0sgPSArK0Jhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaDtcbiAgICAgICAgdmFyIGNvdW50VGV4QXJyYXlzID0gMDtcbiAgICAgICAgdmFyIHRleEFycmF5ID0gdGV4dHVyZUFycmF5c1swXTtcbiAgICAgICAgdmFyIHN0YXJ0ID0gMDtcbiAgICAgICAgYmF0Y2guY29weUJvdW5kVGV4dHVyZXMoYm91bmRUZXh0dXJlcywgTUFYX1RFWFRVUkVTKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9idWZmZXJTaXplOyArK2kpIHtcbiAgICAgICAgICAgIHZhciB0ZXggPSB0ZXh0dXJlc1tpXTtcbiAgICAgICAgICAgIHRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0ZXguX2JhdGNoRW5hYmxlZCA9PT0gVElDSykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRleEFycmF5LmNvdW50ID49IE1BWF9URVhUVVJFUykge1xuICAgICAgICAgICAgICAgIGJhdGNoLmJvdW5kQXJyYXkodGV4QXJyYXksIGJvdW5kVGV4dHVyZXMsIFRJQ0ssIE1BWF9URVhUVVJFUyk7XG4gICAgICAgICAgICAgICAgdGhpcy5idWlsZERyYXdDYWxscyh0ZXhBcnJheSwgc3RhcnQsIGkpO1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICB0ZXhBcnJheSA9IHRleHR1cmVBcnJheXNbKytjb3VudFRleEFycmF5c107XG4gICAgICAgICAgICAgICAgKytUSUNLO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGV4Ll9iYXRjaEVuYWJsZWQgPSBUSUNLO1xuICAgICAgICAgICAgdGV4LnRvdWNoZWQgPSB0b3VjaDtcbiAgICAgICAgICAgIHRleEFycmF5LmVsZW1lbnRzW3RleEFycmF5LmNvdW50KytdID0gdGV4O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ZXhBcnJheS5jb3VudCA+IDApIHtcbiAgICAgICAgICAgIGJhdGNoLmJvdW5kQXJyYXkodGV4QXJyYXksIGJvdW5kVGV4dHVyZXMsIFRJQ0ssIE1BWF9URVhUVVJFUyk7XG4gICAgICAgICAgICB0aGlzLmJ1aWxkRHJhd0NhbGxzKHRleEFycmF5LCBzdGFydCwgdGhpcy5fYnVmZmVyU2l6ZSk7XG4gICAgICAgICAgICArK2NvdW50VGV4QXJyYXlzO1xuICAgICAgICAgICAgKytUSUNLO1xuICAgICAgICB9XG4gICAgICAgIC8vIENsZWFuLXVwXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYm91bmRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoID0gVElDSztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBvcHVsYXRpbmcgZHJhd2NhbGxzIGZvciByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXRjaFRleHR1cmVBcnJheX0gdGV4QXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmluaXNoXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5idWlsZERyYXdDYWxscyA9IGZ1bmN0aW9uICh0ZXhBcnJheSwgc3RhcnQsIGZpbmlzaCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBlbGVtZW50cyA9IF9hLl9idWZmZXJlZEVsZW1lbnRzLCBfYXR0cmlidXRlQnVmZmVyID0gX2EuX2F0dHJpYnV0ZUJ1ZmZlciwgX2luZGV4QnVmZmVyID0gX2EuX2luZGV4QnVmZmVyLCB2ZXJ0ZXhTaXplID0gX2EudmVydGV4U2l6ZTtcbiAgICAgICAgdmFyIGRyYXdDYWxscyA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fZHJhd0NhbGxQb29sO1xuICAgICAgICB2YXIgZGNJbmRleCA9IHRoaXMuX2RjSW5kZXg7XG4gICAgICAgIHZhciBhSW5kZXggPSB0aGlzLl9hSW5kZXg7XG4gICAgICAgIHZhciBpSW5kZXggPSB0aGlzLl9pSW5kZXg7XG4gICAgICAgIHZhciBkcmF3Q2FsbCA9IGRyYXdDYWxsc1tkY0luZGV4XTtcbiAgICAgICAgZHJhd0NhbGwuc3RhcnQgPSB0aGlzLl9pSW5kZXg7XG4gICAgICAgIGRyYXdDYWxsLnRleEFycmF5ID0gdGV4QXJyYXk7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGZpbmlzaDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gZWxlbWVudHNbaV07XG4gICAgICAgICAgICB2YXIgdGV4ID0gc3ByaXRlLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgdmFyIHNwcml0ZUJsZW5kTW9kZSA9IHByZW11bHRpcGx5QmxlbmRNb2RlW3RleC5hbHBoYU1vZGUgPyAxIDogMF1bc3ByaXRlLmJsZW5kTW9kZV07XG4gICAgICAgICAgICBlbGVtZW50c1tpXSA9IG51bGw7XG4gICAgICAgICAgICBpZiAoc3RhcnQgPCBpICYmIGRyYXdDYWxsLmJsZW5kICE9PSBzcHJpdGVCbGVuZE1vZGUpIHtcbiAgICAgICAgICAgICAgICBkcmF3Q2FsbC5zaXplID0gaUluZGV4IC0gZHJhd0NhbGwuc3RhcnQ7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgIGRyYXdDYWxsID0gZHJhd0NhbGxzWysrZGNJbmRleF07XG4gICAgICAgICAgICAgICAgZHJhd0NhbGwudGV4QXJyYXkgPSB0ZXhBcnJheTtcbiAgICAgICAgICAgICAgICBkcmF3Q2FsbC5zdGFydCA9IGlJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucGFja0ludGVybGVhdmVkR2VvbWV0cnkoc3ByaXRlLCBfYXR0cmlidXRlQnVmZmVyLCBfaW5kZXhCdWZmZXIsIGFJbmRleCwgaUluZGV4KTtcbiAgICAgICAgICAgIGFJbmRleCArPSBzcHJpdGUudmVydGV4RGF0YS5sZW5ndGggLyAyICogdmVydGV4U2l6ZTtcbiAgICAgICAgICAgIGlJbmRleCArPSBzcHJpdGUuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgICAgICBkcmF3Q2FsbC5ibGVuZCA9IHNwcml0ZUJsZW5kTW9kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnQgPCBmaW5pc2gpIHtcbiAgICAgICAgICAgIGRyYXdDYWxsLnNpemUgPSBpSW5kZXggLSBkcmF3Q2FsbC5zdGFydDtcbiAgICAgICAgICAgICsrZGNJbmRleDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kY0luZGV4ID0gZGNJbmRleDtcbiAgICAgICAgdGhpcy5fYUluZGV4ID0gYUluZGV4O1xuICAgICAgICB0aGlzLl9pSW5kZXggPSBpSW5kZXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCaW5kIHRleHR1cmVzIGZvciBjdXJyZW50IHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhdGNoVGV4dHVyZUFycmF5fSB0ZXhBcnJheVxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuYmluZEFuZENsZWFyVGV4QXJyYXkgPSBmdW5jdGlvbiAodGV4QXJyYXkpIHtcbiAgICAgICAgdmFyIHRleHR1cmVTeXN0ZW0gPSB0aGlzLnJlbmRlcmVyLnRleHR1cmU7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGV4QXJyYXkuY291bnQ7IGorKykge1xuICAgICAgICAgICAgdGV4dHVyZVN5c3RlbS5iaW5kKHRleEFycmF5LmVsZW1lbnRzW2pdLCB0ZXhBcnJheS5pZHNbal0pO1xuICAgICAgICAgICAgdGV4QXJyYXkuZWxlbWVudHNbal0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRleEFycmF5LmNvdW50ID0gMDtcbiAgICB9O1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUudXBkYXRlR2VvbWV0cnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHBhY2tlZEdlb21ldHJpZXMgPSBfYS5fcGFja2VkR2VvbWV0cmllcywgYXR0cmlidXRlQnVmZmVyID0gX2EuX2F0dHJpYnV0ZUJ1ZmZlciwgaW5kZXhCdWZmZXIgPSBfYS5faW5kZXhCdWZmZXI7XG4gICAgICAgIGlmICghc2V0dGluZ3MuQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUikgeyAvKiBVc3VhbGx5IG9uIGlPUyBkZXZpY2VzLCB3aGVyZSB0aGUgYnJvd3NlciBkb2Vzbid0XG4gICAgICAgICAgICBsaWtlIHVwbG9hZHMgdG8gdGhlIHNhbWUgYnVmZmVyIGluIGEgc2luZ2xlIGZyYW1lLiAqL1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUgPD0gdGhpcy5fZmx1c2hJZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUrKztcbiAgICAgICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdID0gbmV3ICh0aGlzLmdlb21ldHJ5Q2xhc3MpKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdLl9idWZmZXIudXBkYXRlKGF0dHJpYnV0ZUJ1ZmZlci5yYXdCaW5hcnlEYXRhKTtcbiAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0uX2luZGV4QnVmZmVyLnVwZGF0ZShpbmRleEJ1ZmZlcik7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LmJpbmQocGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXSk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LnVwZGF0ZUJ1ZmZlcnMoKTtcbiAgICAgICAgICAgIHRoaXMuX2ZsdXNoSWQrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGxldHMgdXNlIHRoZSBmYXN0ZXIgb3B0aW9uLCBhbHdheXMgdXNlIGJ1ZmZlciBudW1iZXIgMFxuICAgICAgICAgICAgcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXS5fYnVmZmVyLnVwZGF0ZShhdHRyaWJ1dGVCdWZmZXIucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdLl9pbmRleEJ1ZmZlci51cGRhdGUoaW5kZXhCdWZmZXIpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS51cGRhdGVCdWZmZXJzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuZHJhd0JhdGNoZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkY0NvdW50ID0gdGhpcy5fZGNJbmRleDtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5yZW5kZXJlciwgZ2wgPSBfYS5nbCwgc3RhdGVTeXN0ZW0gPSBfYS5zdGF0ZTtcbiAgICAgICAgdmFyIGRyYXdDYWxscyA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fZHJhd0NhbGxQb29sO1xuICAgICAgICB2YXIgY3VyVGV4QXJyYXkgPSBudWxsO1xuICAgICAgICAvLyBVcGxvYWQgdGV4dHVyZXMgYW5kIGRvIHRoZSBkcmF3IGNhbGxzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGNDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2IgPSBkcmF3Q2FsbHNbaV0sIHRleEFycmF5ID0gX2IudGV4QXJyYXksIHR5cGUgPSBfYi50eXBlLCBzaXplID0gX2Iuc2l6ZSwgc3RhcnQgPSBfYi5zdGFydCwgYmxlbmQgPSBfYi5ibGVuZDtcbiAgICAgICAgICAgIGlmIChjdXJUZXhBcnJheSAhPT0gdGV4QXJyYXkpIHtcbiAgICAgICAgICAgICAgICBjdXJUZXhBcnJheSA9IHRleEFycmF5O1xuICAgICAgICAgICAgICAgIHRoaXMuYmluZEFuZENsZWFyVGV4QXJyYXkodGV4QXJyYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSBibGVuZDtcbiAgICAgICAgICAgIHN0YXRlU3lzdGVtLnNldCh0aGlzLnN0YXRlKTtcbiAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyh0eXBlLCBzaXplLCBnbC5VTlNJR05FRF9TSE9SVCwgc3RhcnQgKiAyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgY29udGVudCBfbm93XyBhbmQgZW1wdGllcyB0aGUgY3VycmVudCBiYXRjaC5cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fdmVydGV4Q291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hdHRyaWJ1dGVCdWZmZXIgPSB0aGlzLmdldEF0dHJpYnV0ZUJ1ZmZlcih0aGlzLl92ZXJ0ZXhDb3VudCk7XG4gICAgICAgIHRoaXMuX2luZGV4QnVmZmVyID0gdGhpcy5nZXRJbmRleEJ1ZmZlcih0aGlzLl9pbmRleENvdW50KTtcbiAgICAgICAgdGhpcy5fYUluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5faUluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fZGNJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuYnVpbGRUZXh0dXJlc0FuZERyYXdDYWxscygpO1xuICAgICAgICB0aGlzLnVwZGF0ZUdlb21ldHJ5KCk7XG4gICAgICAgIHRoaXMuZHJhd0JhdGNoZXMoKTtcbiAgICAgICAgLy8gcmVzZXQgZWxlbWVudHMgYnVmZmVyIGZvciB0aGUgbmV4dCBmbHVzaFxuICAgICAgICB0aGlzLl9idWZmZXJTaXplID0gMDtcbiAgICAgICAgdGhpcy5fdmVydGV4Q291bnQgPSAwO1xuICAgICAgICB0aGlzLl9pbmRleENvdW50ID0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0YXJ0cyBhIG5ldyBzcHJpdGUgYmF0Y2guXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5zdGF0ZSk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcy5fc2hhZGVyKTtcbiAgICAgICAgaWYgKHNldHRpbmdzLkNBTl9VUExPQURfU0FNRV9CVUZGRVIpIHtcbiAgICAgICAgICAgIC8vIGJpbmQgYnVmZmVyICMwLCB3ZSBkb24ndCBuZWVkIG90aGVyc1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMuX3BhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdG9wcyBhbmQgZmx1c2hlcyB0aGUgY3VycmVudCBiYXRjaC5cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgYEFic3RyYWN0QmF0Y2hSZW5kZXJlcmAuIEl0IGNhbm5vdCBiZSB1c2VkIGFnYWluLlxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYWNrZWRHZW9tZXRyaWVzW2ldKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cmllc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJlci5vZmYoJ3ByZXJlbmRlcicsIHRoaXMub25QcmVyZW5kZXIsIHRoaXMpO1xuICAgICAgICB0aGlzLl9hQnVmZmVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2lCdWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cmllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2F0dHJpYnV0ZUJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX2luZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuX3NoYWRlcikge1xuICAgICAgICAgICAgdGhpcy5fc2hhZGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX3NoYWRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIGFuIGF0dHJpYnV0ZSBidWZmZXIgZnJvbSBgdGhpcy5fYUJ1ZmZlcnNgIHRoYXRcbiAgICAgKiBjYW4gaG9sZCBhdGxlYXN0IGBzaXplYCBmbG9hdHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIG1pbmltdW0gY2FwYWNpdHkgcmVxdWlyZWRcbiAgICAgKiBAcmV0dXJuIHtWaWV3YWJsZUJ1ZmZlcn0gLSBidWZmZXIgdGhhbiBjYW4gaG9sZCBhdGxlYXN0IGBzaXplYCBmbG9hdHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuZ2V0QXR0cmlidXRlQnVmZmVyID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgLy8gOCB2ZXJ0aWNlcyBpcyBlbm91Z2ggZm9yIDIgcXVhZHNcbiAgICAgICAgdmFyIHJvdW5kZWRQMiA9IG5leHRQb3cyKE1hdGguY2VpbChzaXplIC8gOCkpO1xuICAgICAgICB2YXIgcm91bmRlZFNpemVJbmRleCA9IGxvZzIocm91bmRlZFAyKTtcbiAgICAgICAgdmFyIHJvdW5kZWRTaXplID0gcm91bmRlZFAyICogODtcbiAgICAgICAgaWYgKHRoaXMuX2FCdWZmZXJzLmxlbmd0aCA8PSByb3VuZGVkU2l6ZUluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLl9pQnVmZmVycy5sZW5ndGggPSByb3VuZGVkU2l6ZUluZGV4ICsgMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5fYUJ1ZmZlcnNbcm91bmRlZFNpemVdO1xuICAgICAgICBpZiAoIWJ1ZmZlcikge1xuICAgICAgICAgICAgdGhpcy5fYUJ1ZmZlcnNbcm91bmRlZFNpemVdID0gYnVmZmVyID0gbmV3IFZpZXdhYmxlQnVmZmVyKHJvdW5kZWRTaXplICogdGhpcy52ZXJ0ZXhTaXplICogNCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZldGNoZXMgYW4gaW5kZXggYnVmZmVyIGZyb20gYHRoaXMuX2lCdWZmZXJzYCB0aGF0IGNhblxuICAgICAqIGhhdmUgYXQgbGVhc3QgYHNpemVgIGNhcGFjaXR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBtaW5pbXVtIHJlcXVpcmVkIGNhcGFjaXR5XG4gICAgICogQHJldHVybiB7VWludDE2QXJyYXl9IC0gYnVmZmVyIHRoYXQgY2FuIGZpdCBgc2l6ZWBcbiAgICAgKiAgICBpbmRpY2VzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5nZXRJbmRleEJ1ZmZlciA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIC8vIDEyIGluZGljZXMgaXMgZW5vdWdoIGZvciAyIHF1YWRzXG4gICAgICAgIHZhciByb3VuZGVkUDIgPSBuZXh0UG93MihNYXRoLmNlaWwoc2l6ZSAvIDEyKSk7XG4gICAgICAgIHZhciByb3VuZGVkU2l6ZUluZGV4ID0gbG9nMihyb3VuZGVkUDIpO1xuICAgICAgICB2YXIgcm91bmRlZFNpemUgPSByb3VuZGVkUDIgKiAxMjtcbiAgICAgICAgaWYgKHRoaXMuX2lCdWZmZXJzLmxlbmd0aCA8PSByb3VuZGVkU2l6ZUluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLl9pQnVmZmVycy5sZW5ndGggPSByb3VuZGVkU2l6ZUluZGV4ICsgMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5faUJ1ZmZlcnNbcm91bmRlZFNpemVJbmRleF07XG4gICAgICAgIGlmICghYnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9pQnVmZmVyc1tyb3VuZGVkU2l6ZUluZGV4XSA9IGJ1ZmZlciA9IG5ldyBVaW50MTZBcnJheShyb3VuZGVkU2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRha2VzIHRoZSBmb3VyIGJhdGNoaW5nIHBhcmFtZXRlcnMgb2YgYGVsZW1lbnRgLCBpbnRlcmxlYXZlc1xuICAgICAqIGFuZCBwdXNoZXMgdGhlbSBpbnRvIHRoZSBiYXRjaGluZyBhdHRyaWJ1dGUvaW5kZXggYnVmZmVycyBnaXZlbi5cbiAgICAgKlxuICAgICAqIEl0IHVzZXMgdGhlc2UgcHJvcGVydGllczogYHZlcnRleERhdGFgIGB1dnNgLCBgdGV4dHVyZUlkYCBhbmRcbiAgICAgKiBgaW5kaWNpZXNgLiBJdCBhbHNvIHVzZXMgdGhlIFwidGludFwiIG9mIHRoZSBiYXNlLXRleHR1cmUsIGlmXG4gICAgICogcHJlc2VudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IGVsZW1lbnQgLSBlbGVtZW50IGJlaW5nIHJlbmRlcmVkXG4gICAgICogQHBhcmFtIHtQSVhJLlZpZXdhYmxlQnVmZmVyfSBhdHRyaWJ1dGVCdWZmZXIgLSBhdHRyaWJ1dGUgYnVmZmVyLlxuICAgICAqIEBwYXJhbSB7VWludDE2QXJyYXl9IGluZGV4QnVmZmVyIC0gaW5kZXggYnVmZmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFJbmRleCAtIG51bWJlciBvZiBmbG9hdHMgYWxyZWFkeSBpbiB0aGUgYXR0cmlidXRlIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpSW5kZXggLSBudW1iZXIgb2YgaW5kaWNlcyBhbHJlYWR5IGluIGBpbmRleEJ1ZmZlcmBcbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLnBhY2tJbnRlcmxlYXZlZEdlb21ldHJ5ID0gZnVuY3Rpb24gKGVsZW1lbnQsIGF0dHJpYnV0ZUJ1ZmZlciwgaW5kZXhCdWZmZXIsIGFJbmRleCwgaUluZGV4KSB7XG4gICAgICAgIHZhciB1aW50MzJWaWV3ID0gYXR0cmlidXRlQnVmZmVyLnVpbnQzMlZpZXcsIGZsb2F0MzJWaWV3ID0gYXR0cmlidXRlQnVmZmVyLmZsb2F0MzJWaWV3O1xuICAgICAgICB2YXIgcGFja2VkVmVydGljZXMgPSBhSW5kZXggLyB0aGlzLnZlcnRleFNpemU7XG4gICAgICAgIHZhciB1dnMgPSBlbGVtZW50LnV2cztcbiAgICAgICAgdmFyIGluZGljaWVzID0gZWxlbWVudC5pbmRpY2VzO1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IGVsZW1lbnQudmVydGV4RGF0YTtcbiAgICAgICAgdmFyIHRleHR1cmVJZCA9IGVsZW1lbnQuX3RleHR1cmUuYmFzZVRleHR1cmUuX2JhdGNoTG9jYXRpb247XG4gICAgICAgIHZhciBhbHBoYSA9IE1hdGgubWluKGVsZW1lbnQud29ybGRBbHBoYSwgMS4wKTtcbiAgICAgICAgdmFyIGFyZ2IgPSAoYWxwaGEgPCAxLjBcbiAgICAgICAgICAgICYmIGVsZW1lbnQuX3RleHR1cmUuYmFzZVRleHR1cmUuYWxwaGFNb2RlKVxuICAgICAgICAgICAgPyBwcmVtdWx0aXBseVRpbnQoZWxlbWVudC5fdGludFJHQiwgYWxwaGEpXG4gICAgICAgICAgICA6IGVsZW1lbnQuX3RpbnRSR0IgKyAoYWxwaGEgKiAyNTUgPDwgMjQpO1xuICAgICAgICAvLyBsZXRzIG5vdCB3b3JyeSBhYm91dCB0aW50ISBmb3Igbm93Li5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB2ZXJ0ZXhEYXRhW2ldO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdmVydGV4RGF0YVtpICsgMV07XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB1dnNbaV07XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB1dnNbaSArIDFdO1xuICAgICAgICAgICAgdWludDMyVmlld1thSW5kZXgrK10gPSBhcmdiO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdGV4dHVyZUlkO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5kaWNpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGluZGV4QnVmZmVyW2lJbmRleCsrXSA9IHBhY2tlZFZlcnRpY2VzICsgaW5kaWNpZXNbaV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBvb2wgb2YgYEJhdGNoRHJhd0NhbGxgIG9iamVjdHMgdGhhdCBgZmx1c2hgIHVzZWRcbiAgICAgKiB0byBjcmVhdGUgXCJiYXRjaGVzXCIgb2YgdGhlIG9iamVjdHMgYmVpbmcgcmVuZGVyZWQuXG4gICAgICpcbiAgICAgKiBUaGVzZSBhcmUgbmV2ZXIgcmUtYWxsb2NhdGVkIGFnYWluLlxuICAgICAqIFNoYXJlZCBiZXR3ZWVuIGFsbCBiYXRjaCByZW5kZXJlcnMgYmVjYXVzZSBpdCBjYW4gYmUgb25seSBvbmUgXCJmbHVzaFwiIHdvcmtpbmcgYXQgdGhlIG1vbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhdGNoRHJhd0NhbGxbXX1cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIuX2RyYXdDYWxsUG9vbCA9IFtdO1xuICAgIC8qKlxuICAgICAqIFBvb2wgb2YgYEJhdGNoRHJhd0NhbGxgIG9iamVjdHMgdGhhdCBgZmx1c2hgIHVzZWRcbiAgICAgKiB0byBjcmVhdGUgXCJiYXRjaGVzXCIgb2YgdGhlIG9iamVjdHMgYmVpbmcgcmVuZGVyZWQuXG4gICAgICpcbiAgICAgKiBUaGVzZSBhcmUgbmV2ZXIgcmUtYWxsb2NhdGVkIGFnYWluLlxuICAgICAqIFNoYXJlZCBiZXR3ZWVuIGFsbCBiYXRjaCByZW5kZXJlcnMgYmVjYXVzZSBpdCBjYW4gYmUgb25seSBvbmUgXCJmbHVzaFwiIHdvcmtpbmcgYXQgdGhlIG1vbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhdGNoVGV4dHVyZUFycmF5W119XG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLl90ZXh0dXJlQXJyYXlQb29sID0gW107XG4gICAgcmV0dXJuIEFic3RyYWN0QmF0Y2hSZW5kZXJlcjtcbn0oT2JqZWN0UmVuZGVyZXIpKTtcblxuLyoqXG4gKiBIZWxwZXIgdGhhdCBnZW5lcmF0ZXMgYmF0Y2hpbmcgbXVsdGktdGV4dHVyZSBzaGFkZXIuIFVzZSBpdCB3aXRoIHlvdXIgbmV3IEJhdGNoUmVuZGVyZXJcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXRjaFNoYWRlckdlbmVyYXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmVydGV4U3JjIC0gVmVydGV4IHNoYWRlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmcmFnVGVtcGxhdGUgLSBGcmFnbWVudCBzaGFkZXIgdGVtcGxhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXRjaFNoYWRlckdlbmVyYXRvcih2ZXJ0ZXhTcmMsIGZyYWdUZW1wbGF0ZSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSB2ZXJ0ZXggc2hhZGVyIHNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0ZXhTcmMgPSB2ZXJ0ZXhTcmM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGZyYWdtZW50IHNoYWRlciB0ZW1wbGF0ZS4gTXVzdCBjb250YWluIFwiJWNvdW50JVwiIGFuZCBcIiVmb3Jsb29wJVwiLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZyYWdUZW1wbGF0ZSA9IGZyYWdUZW1wbGF0ZTtcbiAgICAgICAgdGhpcy5wcm9ncmFtQ2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5kZWZhdWx0R3JvdXBDYWNoZSA9IHt9O1xuICAgICAgICBpZiAoZnJhZ1RlbXBsYXRlLmluZGV4T2YoJyVjb3VudCUnKSA8IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRnJhZ21lbnQgdGVtcGxhdGUgbXVzdCBjb250YWluIFwiJWNvdW50JVwiLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmcmFnVGVtcGxhdGUuaW5kZXhPZignJWZvcmxvb3AlJykgPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZyYWdtZW50IHRlbXBsYXRlIG11c3QgY29udGFpbiBcIiVmb3Jsb29wJVwiLicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIEJhdGNoU2hhZGVyR2VuZXJhdG9yLnByb3RvdHlwZS5nZW5lcmF0ZVNoYWRlciA9IGZ1bmN0aW9uIChtYXhUZXh0dXJlcykge1xuICAgICAgICBpZiAoIXRoaXMucHJvZ3JhbUNhY2hlW21heFRleHR1cmVzXSkge1xuICAgICAgICAgICAgdmFyIHNhbXBsZVZhbHVlcyA9IG5ldyBJbnQzMkFycmF5KG1heFRleHR1cmVzKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRHcm91cENhY2hlW21heFRleHR1cmVzXSA9IFVuaWZvcm1Hcm91cC5mcm9tKHsgdVNhbXBsZXJzOiBzYW1wbGVWYWx1ZXMgfSwgdHJ1ZSk7XG4gICAgICAgICAgICB2YXIgZnJhZ21lbnRTcmMgPSB0aGlzLmZyYWdUZW1wbGF0ZTtcbiAgICAgICAgICAgIGZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMucmVwbGFjZSgvJWNvdW50JS9naSwgXCJcIiArIG1heFRleHR1cmVzKTtcbiAgICAgICAgICAgIGZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMucmVwbGFjZSgvJWZvcmxvb3AlL2dpLCB0aGlzLmdlbmVyYXRlU2FtcGxlU3JjKG1heFRleHR1cmVzKSk7XG4gICAgICAgICAgICB0aGlzLnByb2dyYW1DYWNoZVttYXhUZXh0dXJlc10gPSBuZXcgUHJvZ3JhbSh0aGlzLnZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IHtcbiAgICAgICAgICAgIHRpbnQ6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSxcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uTWF0cml4OiBuZXcgTWF0cml4KCksXG4gICAgICAgICAgICBkZWZhdWx0OiB0aGlzLmRlZmF1bHRHcm91cENhY2hlW21heFRleHR1cmVzXSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBTaGFkZXIodGhpcy5wcm9ncmFtQ2FjaGVbbWF4VGV4dHVyZXNdLCB1bmlmb3Jtcyk7XG4gICAgfTtcbiAgICBCYXRjaFNoYWRlckdlbmVyYXRvci5wcm90b3R5cGUuZ2VuZXJhdGVTYW1wbGVTcmMgPSBmdW5jdGlvbiAobWF4VGV4dHVyZXMpIHtcbiAgICAgICAgdmFyIHNyYyA9ICcnO1xuICAgICAgICBzcmMgKz0gJ1xcbic7XG4gICAgICAgIHNyYyArPSAnXFxuJztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICBzcmMgKz0gJ1xcbmVsc2UgJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpIDwgbWF4VGV4dHVyZXMgLSAxKSB7XG4gICAgICAgICAgICAgICAgc3JjICs9IFwiaWYodlRleHR1cmVJZCA8IFwiICsgaSArIFwiLjUpXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzcmMgKz0gJ1xcbnsnO1xuICAgICAgICAgICAgc3JjICs9IFwiXFxuXFx0Y29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXJzW1wiICsgaSArIFwiXSwgdlRleHR1cmVDb29yZCk7XCI7XG4gICAgICAgICAgICBzcmMgKz0gJ1xcbn0nO1xuICAgICAgICB9XG4gICAgICAgIHNyYyArPSAnXFxuJztcbiAgICAgICAgc3JjICs9ICdcXG4nO1xuICAgICAgICByZXR1cm4gc3JjO1xuICAgIH07XG4gICAgcmV0dXJuIEJhdGNoU2hhZGVyR2VuZXJhdG9yO1xufSgpKTtcblxuLyoqXG4gKiBHZW9tZXRyeSB1c2VkIHRvIGJhdGNoIHN0YW5kYXJkIFBJWEkgY29udGVudCAoZS5nLiBNZXNoLCBTcHJpdGUsIEdyYXBoaWNzIG9iamVjdHMpLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhdGNoR2VvbWV0cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhdGNoR2VvbWV0cnksIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbX3N0YXRpYz1mYWxzZV0gLSBPcHRpbWl6YXRpb24gZmxhZywgd2hlcmUgYGZhbHNlYFxuICAgICAqICAgICAgICBpcyB1cGRhdGVkIGV2ZXJ5IGZyYW1lLCBgdHJ1ZWAgZG9lc24ndCBjaGFuZ2UgZnJhbWUtdG8tZnJhbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmF0Y2hHZW9tZXRyeShfc3RhdGljKSB7XG4gICAgICAgIGlmIChfc3RhdGljID09PSB2b2lkIDApIHsgX3N0YXRpYyA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWZmZXIgdXNlZCBmb3IgcG9zaXRpb24sIGNvbG9yLCB0ZXh0dXJlIElEc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2J1ZmZlciA9IG5ldyBCdWZmZXIobnVsbCwgX3N0YXRpYywgZmFsc2UpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kZXggYnVmZmVyIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CdWZmZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9pbmRleEJ1ZmZlciA9IG5ldyBCdWZmZXIobnVsbCwgX3N0YXRpYywgdHJ1ZSk7XG4gICAgICAgIF90aGlzLmFkZEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJywgX3RoaXMuX2J1ZmZlciwgMiwgZmFsc2UsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVDb29yZCcsIF90aGlzLl9idWZmZXIsIDIsIGZhbHNlLCBUWVBFUy5GTE9BVClcbiAgICAgICAgICAgIC5hZGRBdHRyaWJ1dGUoJ2FDb2xvcicsIF90aGlzLl9idWZmZXIsIDQsIHRydWUsIFRZUEVTLlVOU0lHTkVEX0JZVEUpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUlkJywgX3RoaXMuX2J1ZmZlciwgMSwgdHJ1ZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkSW5kZXgoX3RoaXMuX2luZGV4QnVmZmVyKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gQmF0Y2hHZW9tZXRyeTtcbn0oR2VvbWV0cnkpKTtcblxudmFyIGRlZmF1bHRWZXJ0ZXgkMyA9IFwicHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbmF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcbmF0dHJpYnV0ZSB2ZWM0IGFDb2xvcjtcXG5hdHRyaWJ1dGUgZmxvYXQgYVRleHR1cmVJZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSB2ZWM0IHRpbnQ7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG52YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSWQ7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG4gICAgdlRleHR1cmVJZCA9IGFUZXh0dXJlSWQ7XFxuICAgIHZDb2xvciA9IGFDb2xvciAqIHRpbnQ7XFxufVxcblwiO1xuXG52YXIgZGVmYXVsdEZyYWdtZW50JDIgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxudmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyc1slY291bnQlXTtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgIHZlYzQgY29sb3I7XFxuICAgICVmb3Jsb29wJVxcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvciAqIHZDb2xvcjtcXG59XFxuXCI7XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGhpZGVjb25zdHJ1Y3RvclxuICovXG52YXIgQmF0Y2hQbHVnaW5GYWN0b3J5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJhdGNoUGx1Z2luRmFjdG9yeSgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEJhdGNoUmVuZGVyZXIgcGx1Z2luIGZvciBSZW5kZXJlci4gdGhpcyBjb252ZW5pZW5jZSBjYW4gcHJvdmlkZSBhbiBlYXN5IHdheVxuICAgICAqIHRvIGV4dGVuZCBCYXRjaFJlbmRlcmVyIHdpdGggYWxsIHRoZSBuZWNlc3NhcnkgcGllY2VzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgZnJhZ21lbnQgPSBgXG4gICAgICogdmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XG4gICAgICogdmFyeWluZyB2ZWM0IHZDb2xvcjtcbiAgICAgKiB2YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSWQ7XG4gICAgICogdW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXJzWyVjb3VudCVdO1xuICAgICAqXG4gICAgICogdm9pZCBtYWluKHZvaWQpe1xuICAgICAqICAgICB2ZWM0IGNvbG9yO1xuICAgICAqICAgICAlZm9ybG9vcCVcbiAgICAgKiAgICAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yICogdmVjNChjb2xvci5hIC0gY29sb3IucmdiLCBjb2xvci5hKTtcbiAgICAgKiB9XG4gICAgICogYDtcbiAgICAgKiBjb25zdCBJbnZlcnRCYXRjaFJlbmRlcmVyID0gUElYSS5CYXRjaFBsdWdpbkZhY3RvcnkuY3JlYXRlKHsgZnJhZ21lbnQgfSk7XG4gICAgICogUElYSS5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignaW52ZXJ0JywgSW52ZXJ0QmF0Y2hSZW5kZXJlcik7XG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKCk7XG4gICAgICogc3ByaXRlLnBsdWdpbk5hbWUgPSAnaW52ZXJ0JztcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnZlcnRleD1QSVhJLkJhdGNoUGx1Z2luRmFjdG9yeS5kZWZhdWx0VmVydGV4U3JjXSAtIFZlcnRleCBzaGFkZXIgc291cmNlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmZyYWdtZW50PVBJWEkuQmF0Y2hQbHVnaW5GYWN0b3J5LmRlZmF1bHRGcmFnbWVudFRlbXBsYXRlXSAtIEZyYWdtZW50IHNoYWRlciB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy52ZXJ0ZXhTaXplPTZdIC0gVmVydGV4IHNpemVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMuZ2VvbWV0cnlDbGFzcz1QSVhJLkJhdGNoR2VvbWV0cnldXG4gICAgICogQHJldHVybiB7Kn0gTmV3IGJhdGNoIHJlbmRlcmVyIHBsdWdpblxuICAgICAqL1xuICAgIEJhdGNoUGx1Z2luRmFjdG9yeS5jcmVhdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX2EgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHZlcnRleDogZGVmYXVsdFZlcnRleCQzLFxuICAgICAgICAgICAgZnJhZ21lbnQ6IGRlZmF1bHRGcmFnbWVudCQyLFxuICAgICAgICAgICAgZ2VvbWV0cnlDbGFzczogQmF0Y2hHZW9tZXRyeSxcbiAgICAgICAgICAgIHZlcnRleFNpemU6IDYsXG4gICAgICAgIH0sIG9wdGlvbnMpLCB2ZXJ0ZXggPSBfYS52ZXJ0ZXgsIGZyYWdtZW50ID0gX2EuZnJhZ21lbnQsIHZlcnRleFNpemUgPSBfYS52ZXJ0ZXhTaXplLCBnZW9tZXRyeUNsYXNzID0gX2EuZ2VvbWV0cnlDbGFzcztcbiAgICAgICAgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgICAgIF9fZXh0ZW5kcyhCYXRjaFBsdWdpbiwgX3N1cGVyKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIEJhdGNoUGx1Z2luKHJlbmRlcmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2hhZGVyR2VuZXJhdG9yID0gbmV3IEJhdGNoU2hhZGVyR2VuZXJhdG9yKHZlcnRleCwgZnJhZ21lbnQpO1xuICAgICAgICAgICAgICAgIF90aGlzLmdlb21ldHJ5Q2xhc3MgPSBnZW9tZXRyeUNsYXNzO1xuICAgICAgICAgICAgICAgIF90aGlzLnZlcnRleFNpemUgPSB2ZXJ0ZXhTaXplO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBCYXRjaFBsdWdpbjtcbiAgICAgICAgfShBYnN0cmFjdEJhdGNoUmVuZGVyZXIpKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXRjaFBsdWdpbkZhY3RvcnksIFwiZGVmYXVsdFZlcnRleFNyY1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyIHNvdXJjZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZlcnRleCQzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhdGNoUGx1Z2luRmFjdG9yeSwgXCJkZWZhdWx0RnJhZ21lbnRUZW1wbGF0ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBmcmFnbWVudCBzaGFkZXIgc291cmNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0RnJhZ21lbnQkMjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBCYXRjaFBsdWdpbkZhY3Rvcnk7XG59KCkpO1xuLy8gU2V0dXAgdGhlIGRlZmF1bHQgQmF0Y2hSZW5kZXJlciBwbHVnaW4sIHRoaXMgaXMgd2hhdFxuLy8gd2UnbGwgYWN0dWFsbHkgZXhwb3J0IGF0IHRoZSByb290IGxldmVsXG52YXIgQmF0Y2hSZW5kZXJlciA9IEJhdGNoUGx1Z2luRmFjdG9yeS5jcmVhdGUoKTtcblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWVzcGFjZSByZXNvdXJjZXNcbiAqIEBzZWUgUElYSVxuICogQGRlcHJlY2F0ZWQgc2luY2UgNi4wLjBcbiAqL1xudmFyIHJlc291cmNlcyA9IHt9O1xudmFyIF9sb29wXzEgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXNvdXJjZXMsIG5hbWUsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNi4wLjAnLCBcIlBJWEkuc3lzdGVtcy5cIiArIG5hbWUgKyBcIiBoYXMgbW92ZWQgdG8gUElYSS5cIiArIG5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIF9yZXNvdXJjZXNbbmFtZV07XG4gICAgICAgIH0sXG4gICAgfSk7XG59O1xuZm9yICh2YXIgbmFtZSBpbiBfcmVzb3VyY2VzKSB7XG4gICAgX2xvb3BfMShuYW1lKTtcbn1cbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lc3BhY2Ugc3lzdGVtc1xuICogQHNlZSBQSVhJXG4gKiBAZGVwcmVjYXRlZCBzaW5jZSA2LjAuMFxuICovXG52YXIgc3lzdGVtcyA9IHt9O1xudmFyIF9sb29wXzIgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzeXN0ZW1zLCBuYW1lLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJzYuMC4wJywgXCJQSVhJLnJlc291cmNlcy5cIiArIG5hbWUgKyBcIiBoYXMgbW92ZWQgdG8gUElYSS5cIiArIG5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIF9zeXN0ZW1zW25hbWVdO1xuICAgICAgICB9LFxuICAgIH0pO1xufTtcbmZvciAodmFyIG5hbWUgaW4gX3N5c3RlbXMpIHtcbiAgICBfbG9vcF8yKG5hbWUpO1xufVxuXG5leHBvcnQgeyBBYnN0cmFjdEJhdGNoUmVuZGVyZXIsIEFic3RyYWN0TXVsdGlSZXNvdXJjZSwgQWJzdHJhY3RSZW5kZXJlciwgQXJyYXlSZXNvdXJjZSwgQXR0cmlidXRlLCBCYXNlSW1hZ2VSZXNvdXJjZSwgQmFzZVJlbmRlclRleHR1cmUsIEJhc2VUZXh0dXJlLCBCYXRjaERyYXdDYWxsLCBCYXRjaEdlb21ldHJ5LCBCYXRjaFBsdWdpbkZhY3RvcnksIEJhdGNoUmVuZGVyZXIsIEJhdGNoU2hhZGVyR2VuZXJhdG9yLCBCYXRjaFN5c3RlbSwgQmF0Y2hUZXh0dXJlQXJyYXksIEJ1ZmZlciwgQnVmZmVyUmVzb3VyY2UsIENhbnZhc1Jlc291cmNlLCBDb250ZXh0U3lzdGVtLCBDdWJlUmVzb3VyY2UsIEZpbHRlciwgRmlsdGVyU3RhdGUsIEZpbHRlclN5c3RlbSwgRnJhbWVidWZmZXIsIEZyYW1lYnVmZmVyU3lzdGVtLCBHTEZyYW1lYnVmZmVyLCBHTFByb2dyYW0sIEdMVGV4dHVyZSwgR2VvbWV0cnksIEdlb21ldHJ5U3lzdGVtLCBJR0xVbmlmb3JtRGF0YSwgSU5TVEFMTEVELCBJbWFnZUJpdG1hcFJlc291cmNlLCBJbWFnZVJlc291cmNlLCBNYXNrRGF0YSwgTWFza1N5c3RlbSwgT2JqZWN0UmVuZGVyZXIsIFByb2dyYW0sIFByb2plY3Rpb25TeXN0ZW0sIFF1YWQsIFF1YWRVdiwgUmVuZGVyVGV4dHVyZSwgUmVuZGVyVGV4dHVyZVBvb2wsIFJlbmRlclRleHR1cmVTeXN0ZW0sIFJlbmRlcmVyLCBSZXNvdXJjZSwgU1ZHUmVzb3VyY2UsIFNjaXNzb3JTeXN0ZW0sIFNoYWRlciwgU2hhZGVyU3lzdGVtLCBTcHJpdGVNYXNrRmlsdGVyLCBTdGF0ZSwgU3RhdGVTeXN0ZW0sIFN0ZW5jaWxTeXN0ZW0sIFN5c3RlbSwgVGV4dHVyZSwgVGV4dHVyZUdDU3lzdGVtLCBUZXh0dXJlTWF0cml4LCBUZXh0dXJlU3lzdGVtLCBUZXh0dXJlVXZzLCBVbmlmb3JtR3JvdXAsIFZpZGVvUmVzb3VyY2UsIFZpZXdhYmxlQnVmZmVyLCBhdXRvRGV0ZWN0UmVuZGVyZXIsIGF1dG9EZXRlY3RSZXNvdXJjZSwgY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlciwgZGVmYXVsdEZpbHRlclZlcnRleCwgZGVmYXVsdFZlcnRleCQyIGFzIGRlZmF1bHRWZXJ0ZXgsIHJlc291cmNlcywgc3lzdGVtcywgdW5pZm9ybVBhcnNlcnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvcmUuanMubWFwXG4iLCIvKiFcbiAqIHJlc291cmNlLWxvYWRlciAtIHYzLjAuMVxuICogaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLXNvdW5kXG4gKiBDb21waWxlZCBUdWUsIDAyIEp1bCAyMDE5IDE0OjA2OjE4IFVUQ1xuICpcbiAqIHJlc291cmNlLWxvYWRlciBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCBwYXJzZVVyaSBmcm9tICdwYXJzZS11cmknO1xuaW1wb3J0IFNpZ25hbCBmcm9tICdtaW5pLXNpZ25hbHMnO1xuXG4vKipcbiAqIFNtYWxsZXIgdmVyc2lvbiBvZiB0aGUgYXN5bmMgbGlicmFyeSBjb25zdHJ1Y3RzLlxuICpcbiAqIEBuYW1lc3BhY2UgYXN5bmNcbiAqL1xuXG4vKipcbiAqIE5vb3AgZnVuY3Rpb25cbiAqXG4gKiBAaWdub3JlXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBhc3luY1xuICovXG5mdW5jdGlvbiBfbm9vcCgpIHt9XG4vKiBlbXB0eSAqL1xuXG4vKipcbiAqIEl0ZXJhdGVzIGFuIGFycmF5IGluIHNlcmllcy5cbiAqXG4gKiBAbWVtYmVyb2YgYXN5bmNcbiAqIEBmdW5jdGlvbiBlYWNoU2VyaWVzXG4gKiBAcGFyYW0ge0FycmF5LjwqPn0gYXJyYXkgLSBBcnJheSB0byBpdGVyYXRlLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gaXRlcmF0b3IgLSBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGVsZW1lbnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBkb25lLCBvciBvbiBlcnJvci5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RlZmVyTmV4dD1mYWxzZV0gLSBCcmVhayBzeW5jaHJvbm91cyBlYWNoIGxvb3AgYnkgY2FsbGluZyBuZXh0IHdpdGggYSBzZXRUaW1lb3V0IG9mIDEuXG4gKi9cblxuXG5mdW5jdGlvbiBlYWNoU2VyaWVzKGFycmF5LCBpdGVyYXRvciwgY2FsbGJhY2ssIGRlZmVyTmV4dCkge1xuICB2YXIgaSA9IDA7XG4gIHZhciBsZW4gPSBhcnJheS5sZW5ndGg7XG5cbiAgKGZ1bmN0aW9uIG5leHQoZXJyKSB7XG4gICAgaWYgKGVyciB8fCBpID09PSBsZW4pIHtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGRlZmVyTmV4dCkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGl0ZXJhdG9yKGFycmF5W2krK10sIG5leHQpO1xuICAgICAgfSwgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZXJhdG9yKGFycmF5W2krK10sIG5leHQpO1xuICAgIH1cbiAgfSkoKTtcbn1cbi8qKlxuICogRW5zdXJlcyBhIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkIG9uY2UuXG4gKlxuICogQGlnbm9yZVxuICogQG1lbWJlcm9mIGFzeW5jXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHJldHVybiB7ZnVuY3Rpb259IFRoZSB3cmFwcGluZyBmdW5jdGlvbi5cbiAqL1xuXG5mdW5jdGlvbiBvbmx5T25jZShmbikge1xuICByZXR1cm4gZnVuY3Rpb24gb25jZVdyYXBwZXIoKSB7XG4gICAgaWYgKGZuID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbGxiYWNrIHdhcyBhbHJlYWR5IGNhbGxlZC4nKTtcbiAgICB9XG5cbiAgICB2YXIgY2FsbEZuID0gZm47XG4gICAgZm4gPSBudWxsO1xuICAgIGNhbGxGbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuLyoqXG4gKiBBc3luYyBxdWV1ZSBpbXBsZW1lbnRhdGlvbixcbiAqXG4gKiBAbWVtYmVyb2YgYXN5bmNcbiAqIEBmdW5jdGlvbiBxdWV1ZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gd29ya2VyIC0gVGhlIHdvcmtlciBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHRhc2suXG4gKiBAcGFyYW0ge251bWJlcn0gY29uY3VycmVuY3kgLSBIb3cgbWFueSB3b3JrZXJzIHRvIHJ1biBpbiBwYXJyYWxsZWwuXG4gKiBAcmV0dXJuIHsqfSBUaGUgYXN5bmMgcXVldWUgb2JqZWN0LlxuICovXG5cblxuZnVuY3Rpb24gcXVldWUod29ya2VyLCBjb25jdXJyZW5jeSkge1xuICBpZiAoY29uY3VycmVuY3kgPT0gbnVsbCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICBjb25jdXJyZW5jeSA9IDE7XG4gIH0gZWxzZSBpZiAoY29uY3VycmVuY3kgPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbmN1cnJlbmN5IG11c3Qgbm90IGJlIHplcm8nKTtcbiAgfVxuXG4gIHZhciB3b3JrZXJzID0gMDtcbiAgdmFyIHEgPSB7XG4gICAgX3Rhc2tzOiBbXSxcbiAgICBjb25jdXJyZW5jeTogY29uY3VycmVuY3ksXG4gICAgc2F0dXJhdGVkOiBfbm9vcCxcbiAgICB1bnNhdHVyYXRlZDogX25vb3AsXG4gICAgYnVmZmVyOiBjb25jdXJyZW5jeSAvIDQsXG4gICAgZW1wdHk6IF9ub29wLFxuICAgIGRyYWluOiBfbm9vcCxcbiAgICBlcnJvcjogX25vb3AsXG4gICAgc3RhcnRlZDogZmFsc2UsXG4gICAgcGF1c2VkOiBmYWxzZSxcbiAgICBwdXNoOiBmdW5jdGlvbiBwdXNoKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICBfaW5zZXJ0KGRhdGEsIGZhbHNlLCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBraWxsOiBmdW5jdGlvbiBraWxsKCkge1xuICAgICAgd29ya2VycyA9IDA7XG4gICAgICBxLmRyYWluID0gX25vb3A7XG4gICAgICBxLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgIHEuX3Rhc2tzID0gW107XG4gICAgfSxcbiAgICB1bnNoaWZ0OiBmdW5jdGlvbiB1bnNoaWZ0KGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICBfaW5zZXJ0KGRhdGEsIHRydWUsIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uIHByb2Nlc3MoKSB7XG4gICAgICB3aGlsZSAoIXEucGF1c2VkICYmIHdvcmtlcnMgPCBxLmNvbmN1cnJlbmN5ICYmIHEuX3Rhc2tzLmxlbmd0aCkge1xuICAgICAgICB2YXIgdGFzayA9IHEuX3Rhc2tzLnNoaWZ0KCk7XG5cbiAgICAgICAgaWYgKHEuX3Rhc2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHEuZW1wdHkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdvcmtlcnMgKz0gMTtcblxuICAgICAgICBpZiAod29ya2VycyA9PT0gcS5jb25jdXJyZW5jeSkge1xuICAgICAgICAgIHEuc2F0dXJhdGVkKCk7XG4gICAgICAgIH1cblxuICAgICAgICB3b3JrZXIodGFzay5kYXRhLCBvbmx5T25jZShfbmV4dCh0YXNrKSkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgbGVuZ3RoOiBmdW5jdGlvbiBsZW5ndGgoKSB7XG4gICAgICByZXR1cm4gcS5fdGFza3MubGVuZ3RoO1xuICAgIH0sXG4gICAgcnVubmluZzogZnVuY3Rpb24gcnVubmluZygpIHtcbiAgICAgIHJldHVybiB3b3JrZXJzO1xuICAgIH0sXG4gICAgaWRsZTogZnVuY3Rpb24gaWRsZSgpIHtcbiAgICAgIHJldHVybiBxLl90YXNrcy5sZW5ndGggKyB3b3JrZXJzID09PSAwO1xuICAgIH0sXG4gICAgcGF1c2U6IGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgaWYgKHEucGF1c2VkID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcS5wYXVzZWQgPSB0cnVlO1xuICAgIH0sXG4gICAgcmVzdW1lOiBmdW5jdGlvbiByZXN1bWUoKSB7XG4gICAgICBpZiAocS5wYXVzZWQgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcS5wYXVzZWQgPSBmYWxzZTsgLy8gTmVlZCB0byBjYWxsIHEucHJvY2VzcyBvbmNlIHBlciBjb25jdXJyZW50XG4gICAgICAvLyB3b3JrZXIgdG8gcHJlc2VydmUgZnVsbCBjb25jdXJyZW5jeSBhZnRlciBwYXVzZVxuXG4gICAgICBmb3IgKHZhciB3ID0gMTsgdyA8PSBxLmNvbmN1cnJlbmN5OyB3KyspIHtcbiAgICAgICAgcS5wcm9jZXNzKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIF9pbnNlcnQoZGF0YSwgaW5zZXJ0QXRGcm9udCwgY2FsbGJhY2spIHtcbiAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCAmJiB0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgIHRocm93IG5ldyBFcnJvcigndGFzayBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICBxLnN0YXJ0ZWQgPSB0cnVlO1xuXG4gICAgaWYgKGRhdGEgPT0gbnVsbCAmJiBxLmlkbGUoKSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgLy8gY2FsbCBkcmFpbiBpbW1lZGlhdGVseSBpZiB0aGVyZSBhcmUgbm8gdGFza3NcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcS5kcmFpbigpO1xuICAgICAgfSwgMSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGl0ZW0gPSB7XG4gICAgICBkYXRhOiBkYXRhLFxuICAgICAgY2FsbGJhY2s6IHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyA/IGNhbGxiYWNrIDogX25vb3BcbiAgICB9O1xuXG4gICAgaWYgKGluc2VydEF0RnJvbnQpIHtcbiAgICAgIHEuX3Rhc2tzLnVuc2hpZnQoaXRlbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHEuX3Rhc2tzLnB1c2goaXRlbSk7XG4gICAgfVxuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcS5wcm9jZXNzKCk7XG4gICAgfSwgMSk7XG4gIH1cblxuICBmdW5jdGlvbiBfbmV4dCh0YXNrKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3b3JrZXJzIC09IDE7XG4gICAgICB0YXNrLmNhbGxiYWNrLmFwcGx5KHRhc2ssIGFyZ3VtZW50cyk7XG5cbiAgICAgIGlmIChhcmd1bWVudHNbMF0gIT0gbnVsbCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAgIHEuZXJyb3IoYXJndW1lbnRzWzBdLCB0YXNrLmRhdGEpO1xuICAgICAgfVxuXG4gICAgICBpZiAod29ya2VycyA8PSBxLmNvbmN1cnJlbmN5IC0gcS5idWZmZXIpIHtcbiAgICAgICAgcS51bnNhdHVyYXRlZCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAocS5pZGxlKCkpIHtcbiAgICAgICAgcS5kcmFpbigpO1xuICAgICAgfVxuXG4gICAgICBxLnByb2Nlc3MoKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHE7XG59XG5cbnZhciBhc3luYyA9ICh7XG4gICAgZWFjaFNlcmllczogZWFjaFNlcmllcyxcbiAgICBxdWV1ZTogcXVldWVcbn0pO1xuXG4vLyBhIHNpbXBsZSBpbi1tZW1vcnkgY2FjaGUgZm9yIHJlc291cmNlc1xudmFyIGNhY2hlID0ge307XG4vKipcbiAqIEEgc2ltcGxlIGluLW1lbW9yeSBjYWNoZSBmb3IgcmVzb3VyY2UuXG4gKlxuICogQG1lbWJlcm9mIG1pZGRsZXdhcmVcbiAqIEBmdW5jdGlvbiBjYWNoaW5nXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgTG9hZGVyLCBtaWRkbGV3YXJlIH0gZnJvbSAncmVzb3VyY2UtbG9hZGVyJztcbiAqIGNvbnN0IGxvYWRlciA9IG5ldyBMb2FkZXIoKTtcbiAqIGxvYWRlci51c2UobWlkZGxld2FyZS5jYWNoaW5nKTtcbiAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gQ3VycmVudCBSZXNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dCAtIENhbGxiYWNrIHdoZW4gY29tcGxldGVcbiAqL1xuXG5mdW5jdGlvbiBjYWNoaW5nKHJlc291cmNlLCBuZXh0KSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgLy8gaWYgY2FjaGVkLCB0aGVuIHNldCBkYXRhIGFuZCBjb21wbGV0ZSB0aGUgcmVzb3VyY2VcbiAgaWYgKGNhY2hlW3Jlc291cmNlLnVybF0pIHtcbiAgICByZXNvdXJjZS5kYXRhID0gY2FjaGVbcmVzb3VyY2UudXJsXTtcbiAgICByZXNvdXJjZS5jb21wbGV0ZSgpOyAvLyBtYXJrcyByZXNvdXJjZSBsb2FkIGNvbXBsZXRlIGFuZCBzdG9wcyBwcm9jZXNzaW5nIGJlZm9yZSBtaWRkbGV3YXJlc1xuICB9IC8vIGlmIG5vdCBjYWNoZWQsIHdhaXQgZm9yIGNvbXBsZXRlIGFuZCBzdG9yZSBpdCBpbiB0aGUgY2FjaGUuXG4gIGVsc2Uge1xuICAgICAgcmVzb3VyY2Uub25Db21wbGV0ZS5vbmNlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlW190aGlzLnVybF0gPSBfdGhpcy5kYXRhO1xuICAgICAgfSk7XG4gICAgfVxuXG4gIG5leHQoKTtcbn1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxuXG52YXIgdXNlWGRyID0gISEod2luZG93LlhEb21haW5SZXF1ZXN0ICYmICEoJ3dpdGhDcmVkZW50aWFscycgaW4gbmV3IFhNTEh0dHBSZXF1ZXN0KCkpKTtcbnZhciB0ZW1wQW5jaG9yID0gbnVsbDsgLy8gc29tZSBzdGF0dXMgY29uc3RhbnRzXG5cbnZhciBTVEFUVVNfTk9ORSA9IDA7XG52YXIgU1RBVFVTX09LID0gMjAwO1xudmFyIFNUQVRVU19FTVBUWSA9IDIwNDtcbnZhciBTVEFUVVNfSUVfQlVHX0VNUFRZID0gMTIyMztcbnZhciBTVEFUVVNfVFlQRV9PSyA9IDI7IC8vIG5vb3BcblxuZnVuY3Rpb24gX25vb3AkMSgpIHt9XG4vKiBlbXB0eSAqL1xuXG4vKipcbiAqIE1hbmFnZXMgdGhlIHN0YXRlIGFuZCBsb2FkaW5nIG9mIGEgcmVzb3VyY2UgYW5kIGFsbCBjaGlsZCByZXNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKi9cblxuXG52YXIgUmVzb3VyY2UgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogU2V0cyB0aGUgbG9hZCB0eXBlIHRvIGJlIHVzZWQgZm9yIGEgc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiB0byBzZXQgdGhlIHR5cGUgZm9yLCBlLmcuIFwicG5nXCIgb3IgXCJmbnRcIlxuICAgKiBAcGFyYW0ge1Jlc291cmNlLkxPQURfVFlQRX0gbG9hZFR5cGUgLSBUaGUgbG9hZCB0eXBlIHRvIHNldCBpdCB0by5cbiAgICovXG4gIFJlc291cmNlLnNldEV4dGVuc2lvbkxvYWRUeXBlID0gZnVuY3Rpb24gc2V0RXh0ZW5zaW9uTG9hZFR5cGUoZXh0bmFtZSwgbG9hZFR5cGUpIHtcbiAgICBzZXRFeHRNYXAoUmVzb3VyY2UuX2xvYWRUeXBlTWFwLCBleHRuYW1lLCBsb2FkVHlwZSk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIGxvYWQgdHlwZSB0byBiZSB1c2VkIGZvciBhIHNwZWNpZmljIGV4dGVuc2lvbi5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0bmFtZSAtIFRoZSBleHRlbnNpb24gdG8gc2V0IHRoZSB0eXBlIGZvciwgZS5nLiBcInBuZ1wiIG9yIFwiZm50XCJcbiAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0geGhyVHlwZSAtIFRoZSB4aHIgdHlwZSB0byBzZXQgaXQgdG8uXG4gICAqL1xuICA7XG5cbiAgUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uWGhyVHlwZSA9IGZ1bmN0aW9uIHNldEV4dGVuc2lvblhoclR5cGUoZXh0bmFtZSwgeGhyVHlwZSkge1xuICAgIHNldEV4dE1hcChSZXNvdXJjZS5feGhyVHlwZU1hcCwgZXh0bmFtZSwgeGhyVHlwZSk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIHRvIGxvYWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSB1cmwgLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCBmb3IgYXVkaW8vdmlkZW8gbG9hZHMgeW91IGNhbiBwYXNzXG4gICAqICAgICAgYW4gYXJyYXkgb2Ygc291cmNlcy5cbiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbG9hZC5cbiAgICogQHBhcmFtIHtzdHJpbmd8Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NPcmlnaW5dIC0gSXMgdGhpcyByZXF1ZXN0IGNyb3NzLW9yaWdpbj8gRGVmYXVsdCBpcyB0b1xuICAgKiAgICAgIGRldGVybWluZSBhdXRvbWF0aWNhbGx5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudGltZW91dD0wXSAtIEEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgZm9yIHRoZSBsb2FkLiBJZiB0aGUgbG9hZCB0YWtlc1xuICAgKiAgICAgIGxvbmdlciB0aGFuIHRoaXMgdGltZSBpdCBpcyBjYW5jZWxsZWQgYW5kIHRoZSBsb2FkIGlzIGNvbnNpZGVyZWQgYSBmYWlsdXJlLiBJZiB0aGlzIHZhbHVlIGlzXG4gICAqICAgICAgc2V0IHRvIGAwYCB0aGVuIHRoZXJlIGlzIG5vIGV4cGxpY2l0IHRpbWVvdXQuXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuTE9BRF9UWVBFfSBbb3B0aW9ucy5sb2FkVHlwZT1SZXNvdXJjZS5MT0FEX1RZUEUuWEhSXSAtIEhvdyBzaG91bGQgdGhpcyByZXNvdXJjZVxuICAgKiAgICAgIGJlIGxvYWRlZD9cbiAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gW29wdGlvbnMueGhyVHlwZT1SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ERUZBVUxUXSAtIEhvd1xuICAgKiAgICAgIHNob3VsZCB0aGUgZGF0YSBiZWluZyBsb2FkZWQgYmUgaW50ZXJwcmV0ZWQgd2hlbiB1c2luZyBYSFI/XG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuSU1ldGFkYXRhfSBbb3B0aW9ucy5tZXRhZGF0YV0gLSBFeHRyYSBjb25maWd1cmF0aW9uIGZvciBtaWRkbGV3YXJlIGFuZCB0aGUgUmVzb3VyY2Ugb2JqZWN0LlxuICAgKi9cbiAgO1xuXG4gIGZ1bmN0aW9uIFJlc291cmNlKG5hbWUsIHVybCwgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQm90aCBuYW1lIGFuZCB1cmwgYXJlIHJlcXVpcmVkIGZvciBjb25zdHJ1Y3RpbmcgYSByZXNvdXJjZS4nKTtcbiAgICB9XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhdGUgZmxhZ3Mgb2YgdGhpcyByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG4gICAgdGhpcy5fZmxhZ3MgPSAwOyAvLyBzZXQgZGF0YSB1cmwgZmxhZywgbmVlZHMgdG8gYmUgc2V0IGVhcmx5IGZvciBzb21lIF9kZXRlcm1pbmVYIGNoZWNrcyB0byB3b3JrLlxuXG4gICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwsIHVybC5pbmRleE9mKCdkYXRhOicpID09PSAwKTtcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGlzIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuXG5cbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIC8qKlxuICAgICAqIFRoZSB1cmwgdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG5cbiAgICB0aGlzLnVybCA9IHVybDtcbiAgICAvKipcbiAgICAgKiBUaGUgZXh0ZW5zaW9uIHVzZWQgdG8gbG9hZCB0aGlzIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuXG4gICAgdGhpcy5leHRlbnNpb24gPSB0aGlzLl9nZXRFeHRlbnNpb24oKTtcbiAgICAvKipcbiAgICAgKiBUaGUgZGF0YSB0aGF0IHdhcyBsb2FkZWQgYnkgdGhlIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7YW55fVxuICAgICAqL1xuXG4gICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBJcyB0aGlzIHJlcXVlc3QgY3Jvc3Mtb3JpZ2luPyBJZiB1bnNldCwgZGV0ZXJtaW5lZCBhdXRvbWF0aWNhbGx5LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuXG4gICAgdGhpcy5jcm9zc09yaWdpbiA9IG9wdGlvbnMuY3Jvc3NPcmlnaW4gPT09IHRydWUgPyAnYW5vbnltb3VzJyA6IG9wdGlvbnMuY3Jvc3NPcmlnaW47XG4gICAgLyoqXG4gICAgICogQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGxvYWQuIElmIHRoZSBsb2FkIHRha2VzIGxvbmdlciB0aGFuIHRoaXMgdGltZVxuICAgICAqIGl0IGlzIGNhbmNlbGxlZCBhbmQgdGhlIGxvYWQgaXMgY29uc2lkZXJlZCBhIGZhaWx1cmUuIElmIHRoaXMgdmFsdWUgaXMgc2V0IHRvIGAwYFxuICAgICAqIHRoZW4gdGhlcmUgaXMgbm8gZXhwbGljaXQgdGltZW91dC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuICAgIHRoaXMudGltZW91dCA9IG9wdGlvbnMudGltZW91dCB8fCAwO1xuICAgIC8qKlxuICAgICAqIFRoZSBtZXRob2Qgb2YgbG9hZGluZyB0byB1c2UgZm9yIHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5MT0FEX1RZUEV9XG4gICAgICovXG5cbiAgICB0aGlzLmxvYWRUeXBlID0gb3B0aW9ucy5sb2FkVHlwZSB8fCB0aGlzLl9kZXRlcm1pbmVMb2FkVHlwZSgpO1xuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIHVzZWQgdG8gbG9hZCB0aGUgcmVzb3VyY2UgdmlhIFhIUi4gSWYgdW5zZXQsIGRldGVybWluZWQgYXV0b21hdGljYWxseS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cblxuICAgIHRoaXMueGhyVHlwZSA9IG9wdGlvbnMueGhyVHlwZTtcbiAgICAvKipcbiAgICAgKiBFeHRyYSBpbmZvIGZvciBtaWRkbGV3YXJlLCBhbmQgY29udHJvbGxpbmcgc3BlY2lmaWNzIGFib3V0IGhvdyB0aGUgcmVzb3VyY2UgbG9hZHMuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgaWYgeW91IHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgLCB0aGUgUmVzb3VyY2UgY2xhc3MgdGFrZXMgb3duZXJzaGlwIG9mIGl0LlxuICAgICAqIE1lYW5pbmcgaXQgd2lsbCBtb2RpZnkgaXQgYXMgaXQgc2VlcyBmaXQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5JTWV0YWRhdGF9XG4gICAgICovXG5cbiAgICB0aGlzLm1ldGFkYXRhID0gb3B0aW9ucy5tZXRhZGF0YSB8fCB7fTtcbiAgICAvKipcbiAgICAgKiBUaGUgZXJyb3IgdGhhdCBvY2N1cnJlZCB3aGlsZSBsb2FkaW5nIChpZiBhbnkpLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7RXJyb3J9XG4gICAgICovXG5cbiAgICB0aGlzLmVycm9yID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBUaGUgWEhSIG9iamVjdCB0aGF0IHdhcyB1c2VkIHRvIGxvYWQgdGhpcyByZXNvdXJjZS4gVGhpcyBpcyBvbmx5IHNldFxuICAgICAqIHdoZW4gYGxvYWRUeXBlYCBpcyBgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUmAuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtYTUxIdHRwUmVxdWVzdH1cbiAgICAgKi9cblxuICAgIHRoaXMueGhyID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBUaGUgY2hpbGQgcmVzb3VyY2VzIHRoaXMgcmVzb3VyY2Ugb3ducy5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlW119XG4gICAgICovXG5cbiAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIHJlc291cmNlIHR5cGUuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5UWVBFfVxuICAgICAqL1xuXG4gICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5VTktOT1dOO1xuICAgIC8qKlxuICAgICAqIFRoZSBwcm9ncmVzcyBjaHVuayBvd25lZCBieSB0aGlzIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG4gICAgdGhpcy5wcm9ncmVzc0NodW5rID0gMDtcbiAgICAvKipcbiAgICAgKiBUaGUgYGRlcXVldWVgIG1ldGhvZCB0aGF0IHdpbGwgYmUgdXNlZCBhIHN0b3JhZ2UgcGxhY2UgZm9yIHRoZSBhc3luYyBxdWV1ZSBkZXF1ZXVlIG1ldGhvZFxuICAgICAqIHVzZWQgcHJpdmF0ZWx5IGJ5IHRoZSBsb2FkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fZGVxdWV1ZSA9IF9ub29wJDE7XG4gICAgLyoqXG4gICAgICogVXNlZCBhIHN0b3JhZ2UgcGxhY2UgZm9yIHRoZSBvbiBsb2FkIGJpbmRpbmcgdXNlZCBwcml2YXRlbHkgYnkgdGhlIGxvYWRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICovXG5cbiAgICB0aGlzLl9vbkxvYWRCaW5kaW5nID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBUaGUgdGltZXIgZm9yIGVsZW1lbnQgbG9hZHMgdG8gY2hlY2sgaWYgdGhleSB0aW1lb3V0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLl9lbGVtZW50VGltZXIgPSAwO1xuICAgIC8qKlxuICAgICAqIFRoZSBgY29tcGxldGVgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JvdW5kQ29tcGxldGUgPSB0aGlzLmNvbXBsZXRlLmJpbmQodGhpcyk7XG4gICAgLyoqXG4gICAgICogVGhlIGBfb25FcnJvcmAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fYm91bmRPbkVycm9yID0gdGhpcy5fb25FcnJvci5iaW5kKHRoaXMpO1xuICAgIC8qKlxuICAgICAqIFRoZSBgX29uUHJvZ3Jlc3NgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JvdW5kT25Qcm9ncmVzcyA9IHRoaXMuX29uUHJvZ3Jlc3MuYmluZCh0aGlzKTtcbiAgICAvKipcbiAgICAgKiBUaGUgYF9vblRpbWVvdXRgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JvdW5kT25UaW1lb3V0ID0gdGhpcy5fb25UaW1lb3V0LmJpbmQodGhpcyk7IC8vIHhociBjYWxsYmFja3NcblxuICAgIHRoaXMuX2JvdW5kWGhyT25FcnJvciA9IHRoaXMuX3hock9uRXJyb3IuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9ib3VuZFhock9uVGltZW91dCA9IHRoaXMuX3hock9uVGltZW91dC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2JvdW5kWGhyT25BYm9ydCA9IHRoaXMuX3hock9uQWJvcnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9ib3VuZFhock9uTG9hZCA9IHRoaXMuX3hock9uTG9hZC5iaW5kKHRoaXMpO1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgcmVzb3VyY2UgYmVpbmdzIHRvIGxvYWQuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25TdGFydFNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25TdGFydFNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uU3RhcnQgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBlYWNoIHRpbWUgcHJvZ3Jlc3Mgb2YgdGhpcyByZXNvdXJjZSBsb2FkIHVwZGF0ZXMuXG4gICAgICogTm90IGFsbCByZXNvdXJjZXMgdHlwZXMgYW5kIGxvYWRlciBzeXN0ZW1zIGNhbiBzdXBwb3J0IHRoaXMgZXZlbnRcbiAgICAgKiBzbyBzb21ldGltZXMgaXQgbWF5IG5vdCBiZSBhdmFpbGFibGUuIElmIHRoZSByZXNvdXJjZVxuICAgICAqIGlzIGJlaW5nIGxvYWRlZCBvbiBhIG1vZGVybiBicm93c2VyLCB1c2luZyBYSFIsIGFuZCB0aGUgcmVtb3RlIHNlcnZlclxuICAgICAqIHByb3Blcmx5IHNldHMgQ29udGVudC1MZW5ndGggaGVhZGVycywgdGhlbiB0aGlzIHdpbGwgYmUgYXZhaWxhYmxlLlxuICAgICAqXG4gICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uUHJvZ3Jlc3NTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPFJlc291cmNlLk9uUHJvZ3Jlc3NTaWduYWw+fVxuICAgICAqL1xuXG4gICAgdGhpcy5vblByb2dyZXNzID0gbmV3IFNpZ25hbCgpO1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgb25jZSB0aGlzIHJlc291cmNlIGhhcyBsb2FkZWQsIGlmIHRoZXJlIHdhcyBhbiBlcnJvciBpdCB3aWxsXG4gICAgICogYmUgaW4gdGhlIGBlcnJvcmAgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uQ29tcGxldGUgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBhZnRlciB0aGlzIHJlc291cmNlIGhhcyBoYWQgYWxsIHRoZSAqYWZ0ZXIqIG1pZGRsZXdhcmUgcnVuIG9uIGl0LlxuICAgICAqXG4gICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPFJlc291cmNlLk9uQ29tcGxldGVTaWduYWw+fVxuICAgICAqL1xuXG4gICAgdGhpcy5vbkFmdGVyTWlkZGxld2FyZSA9IG5ldyBTaWduYWwoKTtcbiAgfVxuICAvKipcbiAgICogV2hlbiB0aGUgcmVzb3VyY2Ugc3RhcnRzIHRvIGxvYWQuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBSZXNvdXJjZVxuICAgKiBAY2FsbGJhY2sgT25TdGFydFNpZ25hbFxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHRoZSBldmVudCBoYXBwZW5lZCBvbi5cbiAgICovXG5cbiAgLyoqXG4gICAqIFdoZW4gdGhlIHJlc291cmNlIHJlcG9ydHMgbG9hZGluZyBwcm9ncmVzcy5cbiAgICpcbiAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAqIEBjYWxsYmFjayBPblByb2dyZXNzU2lnbmFsXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGVyY2VudGFnZSAtIFRoZSBwcm9ncmVzcyBvZiB0aGUgbG9hZCBpbiB0aGUgcmFuZ2UgWzAsIDFdLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiB0aGUgcmVzb3VyY2UgZmluaXNoZXMgbG9hZGluZy5cbiAgICpcbiAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAqIEBjYWxsYmFjayBPbkNvbXBsZXRlU2lnbmFsXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgKi9cblxuICAvKipcbiAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAqIEB0eXBlZGVmIHtvYmplY3R9IElNZXRhZGF0YVxuICAgKiBAcHJvcGVydHkge0hUTUxJbWFnZUVsZW1lbnR8SFRNTEF1ZGlvRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBbbG9hZEVsZW1lbnQ9bnVsbF0gLSBUaGVcbiAgICogICAgICBlbGVtZW50IHRvIHVzZSBmb3IgbG9hZGluZywgaW5zdGVhZCBvZiBjcmVhdGluZyBvbmUuXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3NraXBTb3VyY2U9ZmFsc2VdIC0gU2tpcHMgYWRkaW5nIHNvdXJjZShzKSB0byB0aGUgbG9hZCBlbGVtZW50LiBUaGlzXG4gICAqICAgICAgaXMgdXNlZnVsIGlmIHlvdSB3YW50IHRvIHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgIHRoYXQgeW91IGFscmVhZHkgYWRkZWQgbG9hZCBzb3VyY2VzIHRvLlxuICAgKiBAcHJvcGVydHkge3N0cmluZ3xzdHJpbmdbXX0gW21pbWVUeXBlXSAtIFRoZSBtaW1lIHR5cGUgdG8gdXNlIGZvciB0aGUgc291cmNlIGVsZW1lbnRcbiAgICogICAgICBvZiBhIHZpZGVvL2F1ZGlvIGVsbWVudC4gSWYgdGhlIHVybHMgYXJlIGFuIGFycmF5LCB5b3UgY2FuIHBhc3MgdGhpcyBhcyBhbiBhcnJheSBhcyB3ZWxsXG4gICAqICAgICAgd2hlcmUgZWFjaCBpbmRleCBpcyB0aGUgbWltZSB0eXBlIHRvIHVzZSBmb3IgdGhlIGNvcnJlc3BvbmRpbmcgdXJsIGluZGV4LlxuICAgKi9cblxuICAvKipcbiAgICogU3RvcmVzIHdoZXRoZXIgb3Igbm90IHRoaXMgdXJsIGlzIGEgZGF0YSB1cmwuXG4gICAqXG4gICAqIEByZWFkb25seVxuICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBSZXNvdXJjZS5wcm90b3R5cGU7XG5cbiAgLyoqXG4gICAqIE1hcmtzIHRoZSByZXNvdXJjZSBhcyBjb21wbGV0ZS5cbiAgICpcbiAgICovXG4gIF9wcm90by5jb21wbGV0ZSA9IGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgIHRoaXMuX2NsZWFyRXZlbnRzKCk7XG5cbiAgICB0aGlzLl9maW5pc2goKTtcbiAgfVxuICAvKipcbiAgICogQWJvcnRzIHRoZSBsb2FkaW5nIG9mIHRoaXMgcmVzb3VyY2UsIHdpdGggYW4gb3B0aW9uYWwgbWVzc2FnZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBUaGUgbWVzc2FnZSB0byB1c2UgZm9yIHRoZSBlcnJvclxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5hYm9ydCA9IGZ1bmN0aW9uIGFib3J0KG1lc3NhZ2UpIHtcbiAgICAvLyBhYm9ydCBjYW4gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzLCBpZ25vcmUgc3Vic2VxdWVudCBjYWxscy5cbiAgICBpZiAodGhpcy5lcnJvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gc3RvcmUgZXJyb3JcblxuXG4gICAgdGhpcy5lcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTsgLy8gY2xlYXIgZXZlbnRzIGJlZm9yZSBjYWxsaW5nIGFib3J0c1xuXG4gICAgdGhpcy5fY2xlYXJFdmVudHMoKTsgLy8gYWJvcnQgdGhlIGFjdHVhbCBsb2FkaW5nXG5cblxuICAgIGlmICh0aGlzLnhocikge1xuICAgICAgdGhpcy54aHIuYWJvcnQoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMueGRyKSB7XG4gICAgICB0aGlzLnhkci5hYm9ydCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhKSB7XG4gICAgICAvLyBzaW5nbGUgc291cmNlXG4gICAgICBpZiAodGhpcy5kYXRhLnNyYykge1xuICAgICAgICB0aGlzLmRhdGEuc3JjID0gUmVzb3VyY2UuRU1QVFlfR0lGO1xuICAgICAgfSAvLyBtdWx0aS1zb3VyY2VcbiAgICAgIGVsc2Uge1xuICAgICAgICAgIHdoaWxlICh0aGlzLmRhdGEuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUNoaWxkKHRoaXMuZGF0YS5maXJzdENoaWxkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IC8vIGRvbmUgbm93LlxuXG5cbiAgICB0aGlzLl9maW5pc2goKTtcbiAgfVxuICAvKipcbiAgICogS2lja3Mgb2ZmIGxvYWRpbmcgb2YgdGhpcyByZXNvdXJjZS4gVGhpcyBtZXRob2QgaXMgYXN5bmNocm9ub3VzLlxuICAgKlxuICAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYl0gLSBPcHRpb25hbCBjYWxsYmFjayB0byBjYWxsIG9uY2UgdGhlIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ubG9hZCA9IGZ1bmN0aW9uIGxvYWQoY2IpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKHRoaXMuaXNMb2FkaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNDb21wbGV0ZSkge1xuICAgICAgaWYgKGNiKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBjYihfdGhpcyk7XG4gICAgICAgIH0sIDEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChjYikge1xuICAgICAgdGhpcy5vbkNvbXBsZXRlLm9uY2UoY2IpO1xuICAgIH1cblxuICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcsIHRydWUpO1xuXG4gICAgdGhpcy5vblN0YXJ0LmRpc3BhdGNoKHRoaXMpOyAvLyBpZiB1bnNldCwgZGV0ZXJtaW5lIHRoZSB2YWx1ZVxuXG4gICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4gPT09IGZhbHNlIHx8IHR5cGVvZiB0aGlzLmNyb3NzT3JpZ2luICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5jcm9zc09yaWdpbiA9IHRoaXMuX2RldGVybWluZUNyb3NzT3JpZ2luKHRoaXMudXJsKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHRoaXMubG9hZFR5cGUpIHtcbiAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFOlxuICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLklNQUdFO1xuXG4gICAgICAgIHRoaXMuX2xvYWRFbGVtZW50KCdpbWFnZScpO1xuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5BVURJTzpcbiAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5BVURJTztcblxuICAgICAgICB0aGlzLl9sb2FkU291cmNlRWxlbWVudCgnYXVkaW8nKTtcblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU86XG4gICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuVklERU87XG5cbiAgICAgICAgdGhpcy5fbG9hZFNvdXJjZUVsZW1lbnQoJ3ZpZGVvJyk7XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUjpcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHVzZVhkciAmJiB0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICAgICAgdGhpcy5fbG9hZFhkcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX2xvYWRYaHIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBmbGFnIGlzIHNldC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZsYWcgLSBUaGUgZmxhZyB0byBjaGVjay5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZmxhZyBpcyBzZXQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9oYXNGbGFnID0gZnVuY3Rpb24gX2hhc0ZsYWcoZmxhZykge1xuICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiBmbGFnKSAhPT0gMDtcbiAgfVxuICAvKipcbiAgICogKFVuKVNldHMgdGhlIGZsYWcuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGZsYWcgdG8gKHVuKXNldC5cbiAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFdoZXRoZXIgdG8gc2V0IG9yICh1bilzZXQgdGhlIGZsYWcuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9zZXRGbGFnID0gZnVuY3Rpb24gX3NldEZsYWcoZmxhZywgdmFsdWUpIHtcbiAgICB0aGlzLl9mbGFncyA9IHZhbHVlID8gdGhpcy5fZmxhZ3MgfCBmbGFnIDogdGhpcy5fZmxhZ3MgJiB+ZmxhZztcbiAgfVxuICAvKipcbiAgICogQ2xlYXJzIGFsbCB0aGUgZXZlbnRzIGZyb20gdGhlIHVuZGVybHlpbmcgbG9hZGluZyBzb3VyY2UuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9jbGVhckV2ZW50cyA9IGZ1bmN0aW9uIF9jbGVhckV2ZW50cygpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fZWxlbWVudFRpbWVyKTtcblxuICAgIGlmICh0aGlzLmRhdGEgJiYgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy54aHIpIHtcbiAgICAgIGlmICh0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRYaHJPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RpbWVvdXQnLCB0aGlzLl9ib3VuZFhock9uVGltZW91dCwgZmFsc2UpO1xuICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRYaHJPbkxvYWQsIGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMueGhyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLnhoci5vbnRpbWVvdXQgPSBudWxsO1xuICAgICAgICB0aGlzLnhoci5vbnByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgdGhpcy54aHIub25sb2FkID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEZpbmFsaXplcyB0aGUgbG9hZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2ZpbmlzaCA9IGZ1bmN0aW9uIF9maW5pc2goKSB7XG4gICAgaWYgKHRoaXMuaXNDb21wbGV0ZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb21wbGV0ZSBjYWxsZWQgYWdhaW4gZm9yIGFuIGFscmVhZHkgY29tcGxldGVkIHJlc291cmNlLicpO1xuICAgIH1cblxuICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkNPTVBMRVRFLCB0cnVlKTtcblxuICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcsIGZhbHNlKTtcblxuICAgIHRoaXMub25Db21wbGV0ZS5kaXNwYXRjaCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gZWxlbWVudCB0aGF0IGhhcyBhIHNpbmdsZSBzb3VyY2UsXG4gICAqIGxpa2UgYW4gSFRNTEltYWdlRWxlbWVudC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50IHRvIHVzZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2xvYWRFbGVtZW50ID0gZnVuY3Rpb24gX2xvYWRFbGVtZW50KHR5cGUpIHtcbiAgICBpZiAodGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudCkge1xuICAgICAgdGhpcy5kYXRhID0gdGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudDtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdpbWFnZScgJiYgdHlwZW9mIHdpbmRvdy5JbWFnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5tZXRhZGF0YS5za2lwU291cmNlKSB7XG4gICAgICB0aGlzLmRhdGEuc3JjID0gdGhpcy51cmw7XG4gICAgfVxuXG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG5cbiAgICBpZiAodGhpcy50aW1lb3V0KSB7XG4gICAgICB0aGlzLl9lbGVtZW50VGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuX2JvdW5kT25UaW1lb3V0LCB0aGlzLnRpbWVvdXQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gZWxlbWVudCB0aGF0IGhhcyBtdWx0aXBsZSBzb3VyY2VzLFxuICAgKiBsaWtlIGFuIEhUTUxBdWRpb0VsZW1lbnQgb3IgSFRNTFZpZGVvRWxlbWVudC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50IHRvIHVzZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2xvYWRTb3VyY2VFbGVtZW50ID0gZnVuY3Rpb24gX2xvYWRTb3VyY2VFbGVtZW50KHR5cGUpIHtcbiAgICBpZiAodGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudCkge1xuICAgICAgdGhpcy5kYXRhID0gdGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudDtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdhdWRpbycgJiYgdHlwZW9mIHdpbmRvdy5BdWRpbyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuZGF0YSA9IG5ldyBBdWRpbygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmRhdGEgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuYWJvcnQoXCJVbnN1cHBvcnRlZCBlbGVtZW50OiBcIiArIHR5cGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5tZXRhZGF0YS5za2lwU291cmNlKSB7XG4gICAgICAvLyBzdXBwb3J0IGZvciBDb2Nvb25KUyBDYW52YXMrIHJ1bnRpbWUsIGxhY2tzIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpXG4gICAgICBpZiAobmF2aWdhdG9yLmlzQ29jb29uSlMpIHtcbiAgICAgICAgdGhpcy5kYXRhLnNyYyA9IEFycmF5LmlzQXJyYXkodGhpcy51cmwpID8gdGhpcy51cmxbMF0gOiB0aGlzLnVybDtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnVybCkpIHtcbiAgICAgICAgdmFyIG1pbWVUeXBlcyA9IHRoaXMubWV0YWRhdGEubWltZVR5cGU7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnVybC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIHRoaXMuZGF0YS5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVTb3VyY2UodHlwZSwgdGhpcy51cmxbaV0sIEFycmF5LmlzQXJyYXkobWltZVR5cGVzKSA/IG1pbWVUeXBlc1tpXSA6IG1pbWVUeXBlcykpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgX21pbWVUeXBlcyA9IHRoaXMubWV0YWRhdGEubWltZVR5cGU7XG4gICAgICAgIHRoaXMuZGF0YS5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVTb3VyY2UodHlwZSwgdGhpcy51cmwsIEFycmF5LmlzQXJyYXkoX21pbWVUeXBlcykgPyBfbWltZVR5cGVzWzBdIDogX21pbWVUeXBlcykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICB0aGlzLmRhdGEubG9hZCgpO1xuXG4gICAgaWYgKHRoaXMudGltZW91dCkge1xuICAgICAgdGhpcy5fZWxlbWVudFRpbWVyID0gc2V0VGltZW91dCh0aGlzLl9ib3VuZE9uVGltZW91dCwgdGhpcy50aW1lb3V0KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIFhNTEh0dHBSZXF1ZXN0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fbG9hZFhociA9IGZ1bmN0aW9uIF9sb2FkWGhyKCkge1xuICAgIC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG4gICAgaWYgKHR5cGVvZiB0aGlzLnhoclR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLnhoclR5cGUgPSB0aGlzLl9kZXRlcm1pbmVYaHJUeXBlKCk7XG4gICAgfVxuXG4gICAgdmFyIHhociA9IHRoaXMueGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7IC8vIHNldCB0aGUgcmVxdWVzdCB0eXBlIGFuZCB1cmxcblxuICAgIHhoci5vcGVuKCdHRVQnLCB0aGlzLnVybCwgdHJ1ZSk7XG4gICAgeGhyLnRpbWVvdXQgPSB0aGlzLnRpbWVvdXQ7IC8vIGxvYWQganNvbiBhcyB0ZXh0IGFuZCBwYXJzZSBpdCBvdXJzZWx2ZXMuIFdlIGRvIHRoaXMgYmVjYXVzZSBzb21lIGJyb3dzZXJzXG4gICAgLy8gKmNvdWdoKiBzYWZhcmkgKmNvdWdoKiBjYW4ndCBkZWFsIHdpdGggaXQuXG5cbiAgICBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OIHx8IHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpIHtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUO1xuICAgIH0gZWxzZSB7XG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gdGhpcy54aHJUeXBlO1xuICAgIH1cblxuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kWGhyT25FcnJvciwgZmFsc2UpO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCd0aW1lb3V0JywgdGhpcy5fYm91bmRYaHJPblRpbWVvdXQsIGZhbHNlKTtcbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCB0aGlzLl9ib3VuZFhock9uQWJvcnQsIGZhbHNlKTtcbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kWGhyT25Mb2FkLCBmYWxzZSk7XG4gICAgeGhyLnNlbmQoKTtcbiAgfVxuICAvKipcbiAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gWERvbWFpblJlcXVlc3QuIFRoaXMgaXMgaGVyZSBiZWNhdXNlIHdlIG5lZWQgdG8gc3VwcG9ydCBJRTkgKGdyb3NzKS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2xvYWRYZHIgPSBmdW5jdGlvbiBfbG9hZFhkcigpIHtcbiAgICAvLyBpZiB1bnNldCwgZGV0ZXJtaW5lIHRoZSB2YWx1ZVxuICAgIGlmICh0eXBlb2YgdGhpcy54aHJUeXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy54aHJUeXBlID0gdGhpcy5fZGV0ZXJtaW5lWGhyVHlwZSgpO1xuICAgIH1cblxuICAgIHZhciB4ZHIgPSB0aGlzLnhociA9IG5ldyBYRG9tYWluUmVxdWVzdCgpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG4gICAgLy8gWERvbWFpblJlcXVlc3QgaGFzIGEgZmV3IHF1aXJrcy4gT2NjYXNpb25hbGx5IGl0IHdpbGwgYWJvcnQgcmVxdWVzdHNcbiAgICAvLyBBIHdheSB0byBhdm9pZCB0aGlzIGlzIHRvIG1ha2Ugc3VyZSBBTEwgY2FsbGJhY2tzIGFyZSBzZXQgZXZlbiBpZiBub3QgdXNlZFxuICAgIC8vIE1vcmUgaW5mbyBoZXJlOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE1Nzg2OTY2L3hkb21haW5yZXF1ZXN0LWFib3J0cy1wb3N0LW9uLWllLTlcblxuICAgIHhkci50aW1lb3V0ID0gdGhpcy50aW1lb3V0IHx8IDUwMDA7IC8vIFhEUiBuZWVkcyBhIHRpbWVvdXQgdmFsdWUgb3IgaXQgYnJlYWtzIGluIElFOVxuXG4gICAgeGRyLm9uZXJyb3IgPSB0aGlzLl9ib3VuZFhock9uRXJyb3I7XG4gICAgeGRyLm9udGltZW91dCA9IHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0O1xuICAgIHhkci5vbnByb2dyZXNzID0gdGhpcy5fYm91bmRPblByb2dyZXNzO1xuICAgIHhkci5vbmxvYWQgPSB0aGlzLl9ib3VuZFhock9uTG9hZDtcbiAgICB4ZHIub3BlbignR0VUJywgdGhpcy51cmwsIHRydWUpOyAvLyBOb3RlOiBUaGUgeGRyLnNlbmQoKSBjYWxsIGlzIHdyYXBwZWQgaW4gYSB0aW1lb3V0IHRvIHByZXZlbnQgYW5cbiAgICAvLyBpc3N1ZSB3aXRoIHRoZSBpbnRlcmZhY2Ugd2hlcmUgc29tZSByZXF1ZXN0cyBhcmUgbG9zdCBpZiBtdWx0aXBsZVxuICAgIC8vIFhEb21haW5SZXF1ZXN0cyBhcmUgYmVpbmcgc2VudCBhdCB0aGUgc2FtZSB0aW1lLlxuICAgIC8vIFNvbWUgaW5mbyBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vcGhvdG9uc3Rvcm0vcGhhc2VyL2lzc3Vlcy8xMjQ4XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB4ZHIuc2VuZCgpO1xuICAgIH0sIDEpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgc291cmNlIHVzZWQgaW4gbG9hZGluZyB2aWEgYW4gZWxlbWVudC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgZWxlbWVudCB0eXBlICh2aWRlbyBvciBhdWRpbykuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgc291cmNlIFVSTCB0byBsb2FkIGZyb20uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbWltZV0gLSBUaGUgbWltZSB0eXBlIG9mIHRoZSB2aWRlb1xuICAgKiBAcmV0dXJuIHtIVE1MU291cmNlRWxlbWVudH0gVGhlIHNvdXJjZSBlbGVtZW50LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fY3JlYXRlU291cmNlID0gZnVuY3Rpb24gX2NyZWF0ZVNvdXJjZSh0eXBlLCB1cmwsIG1pbWUpIHtcbiAgICBpZiAoIW1pbWUpIHtcbiAgICAgIG1pbWUgPSB0eXBlICsgXCIvXCIgKyB0aGlzLl9nZXRFeHRlbnNpb24odXJsKTtcbiAgICB9XG5cbiAgICB2YXIgc291cmNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG4gICAgc291cmNlLnNyYyA9IHVybDtcbiAgICBzb3VyY2UudHlwZSA9IG1pbWU7XG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIGlmIGEgbG9hZCBlcnJvcnMgb3V0LlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIFRoZSBlcnJvciBldmVudCBmcm9tIHRoZSBlbGVtZW50IHRoYXQgZW1pdHMgaXQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9vbkVycm9yID0gZnVuY3Rpb24gX29uRXJyb3IoZXZlbnQpIHtcbiAgICB0aGlzLmFib3J0KFwiRmFpbGVkIHRvIGxvYWQgZWxlbWVudCB1c2luZzogXCIgKyBldmVudC50YXJnZXQubm9kZU5hbWUpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYSBsb2FkIHByb2dyZXNzIGV2ZW50IGZpcmVzIGZvciBhbiBlbGVtZW50IG9yIHhoci94ZHIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3RQcm9ncmVzc0V2ZW50fEV2ZW50fSBldmVudCAtIFByb2dyZXNzIGV2ZW50LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fb25Qcm9ncmVzcyA9IGZ1bmN0aW9uIF9vblByb2dyZXNzKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50ICYmIGV2ZW50Lmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICAgIHRoaXMub25Qcm9ncmVzcy5kaXNwYXRjaCh0aGlzLCBldmVudC5sb2FkZWQgLyBldmVudC50b3RhbCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYSB0aW1lb3V0IGV2ZW50IGZpcmVzIGZvciBhbiBlbGVtZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fb25UaW1lb3V0ID0gZnVuY3Rpb24gX29uVGltZW91dCgpIHtcbiAgICB0aGlzLmFib3J0KFwiTG9hZCB0aW1lZCBvdXQuXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYW4gZXJyb3IgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl94aHJPbkVycm9yID0gZnVuY3Rpb24gX3hock9uRXJyb3IoKSB7XG4gICAgdmFyIHhociA9IHRoaXMueGhyO1xuICAgIHRoaXMuYWJvcnQocmVxVHlwZSh4aHIpICsgXCIgUmVxdWVzdCBmYWlsZWQuIFN0YXR1czogXCIgKyB4aHIuc3RhdHVzICsgXCIsIHRleHQ6IFxcXCJcIiArIHhoci5zdGF0dXNUZXh0ICsgXCJcXFwiXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYW4gZXJyb3IgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl94aHJPblRpbWVvdXQgPSBmdW5jdGlvbiBfeGhyT25UaW1lb3V0KCkge1xuICAgIHZhciB4aHIgPSB0aGlzLnhocjtcbiAgICB0aGlzLmFib3J0KHJlcVR5cGUoeGhyKSArIFwiIFJlcXVlc3QgdGltZWQgb3V0LlwiKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIGlmIGFuIGFib3J0IGV2ZW50IGZpcmVzIGZvciB4aHIveGRyLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5feGhyT25BYm9ydCA9IGZ1bmN0aW9uIF94aHJPbkFib3J0KCkge1xuICAgIHZhciB4aHIgPSB0aGlzLnhocjtcbiAgICB0aGlzLmFib3J0KHJlcVR5cGUoeGhyKSArIFwiIFJlcXVlc3Qgd2FzIGFib3J0ZWQgYnkgdGhlIHVzZXIuXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBkYXRhIHN1Y2Nlc3NmdWxseSBsb2FkcyBmcm9tIGFuIHhoci94ZHIgcmVxdWVzdC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdExvYWRFdmVudHxFdmVudH0gZXZlbnQgLSBMb2FkIGV2ZW50XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl94aHJPbkxvYWQgPSBmdW5jdGlvbiBfeGhyT25Mb2FkKCkge1xuICAgIHZhciB4aHIgPSB0aGlzLnhocjtcbiAgICB2YXIgdGV4dCA9ICcnO1xuICAgIHZhciBzdGF0dXMgPSB0eXBlb2YgeGhyLnN0YXR1cyA9PT0gJ3VuZGVmaW5lZCcgPyBTVEFUVVNfT0sgOiB4aHIuc3RhdHVzOyAvLyBYRFIgaGFzIG5vIGAuc3RhdHVzYCwgYXNzdW1lIDIwMC5cbiAgICAvLyByZXNwb25zZVRleHQgaXMgYWNjZXNzaWJsZSBvbmx5IGlmIHJlc3BvbnNlVHlwZSBpcyAnJyBvciAndGV4dCcgYW5kIG9uIG9sZGVyIGJyb3dzZXJzXG5cbiAgICBpZiAoeGhyLnJlc3BvbnNlVHlwZSA9PT0gJycgfHwgeGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnIHx8IHR5cGVvZiB4aHIucmVzcG9uc2VUeXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGV4dCA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgfSAvLyBzdGF0dXMgY2FuIGJlIDAgd2hlbiB1c2luZyB0aGUgYGZpbGU6Ly9gIHByb3RvY29sIHNvIHdlIGFsc28gY2hlY2sgaWYgYSByZXNwb25zZSBpcyBzZXQuXG4gICAgLy8gSWYgaXQgaGFzIGEgcmVzcG9uc2UsIHdlIGFzc3VtZSAyMDA7IG90aGVyd2lzZSBhIDAgc3RhdHVzIGNvZGUgd2l0aCBubyBjb250ZW50cyBpcyBhbiBhYm9ydGVkIHJlcXVlc3QuXG5cblxuICAgIGlmIChzdGF0dXMgPT09IFNUQVRVU19OT05FICYmICh0ZXh0Lmxlbmd0aCA+IDAgfHwgeGhyLnJlc3BvbnNlVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSKSkge1xuICAgICAgc3RhdHVzID0gU1RBVFVTX09LO1xuICAgIH0gLy8gaGFuZGxlIElFOSBidWc6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTAwNDY5NzIvbXNpZS1yZXR1cm5zLXN0YXR1cy1jb2RlLW9mLTEyMjMtZm9yLWFqYXgtcmVxdWVzdFxuICAgIGVsc2UgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX0lFX0JVR19FTVBUWSkge1xuICAgICAgICBzdGF0dXMgPSBTVEFUVVNfRU1QVFk7XG4gICAgICB9XG5cbiAgICB2YXIgc3RhdHVzVHlwZSA9IHN0YXR1cyAvIDEwMCB8IDA7XG5cbiAgICBpZiAoc3RhdHVzVHlwZSA9PT0gU1RBVFVTX1RZUEVfT0spIHtcbiAgICAgIC8vIGlmIHRleHQsIGp1c3QgcmV0dXJuIGl0XG4gICAgICBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IHRleHQ7XG4gICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuVEVYVDtcbiAgICAgIH0gLy8gaWYganNvbiwgcGFyc2UgaW50byBqc29uIG9iamVjdFxuICAgICAgZWxzZSBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLkpTT047XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5hYm9ydChcIkVycm9yIHRyeWluZyB0byBwYXJzZSBsb2FkZWQganNvbjogXCIgKyBlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gaWYgeG1sLCBwYXJzZSBpbnRvIGFuIHhtbCBkb2N1bWVudCBvciBkaXYgZWxlbWVudFxuICAgICAgICBlbHNlIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBpZiAod2luZG93LkRPTVBhcnNlcikge1xuICAgICAgICAgICAgICAgIHZhciBkb21wYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9tcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh0ZXh0LCAndGV4dC94bWwnKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IHRleHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZGl2O1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5YTUw7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIHRoaXMuYWJvcnQoXCJFcnJvciB0cnlpbmcgdG8gcGFyc2UgbG9hZGVkIHhtbDogXCIgKyBlKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gLy8gb3RoZXIgdHlwZXMganVzdCByZXR1cm4gdGhlIHJlc3BvbnNlXG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHhoci5yZXNwb25zZSB8fCB0ZXh0O1xuICAgICAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFib3J0KFwiW1wiICsgeGhyLnN0YXR1cyArIFwiXSBcIiArIHhoci5zdGF0dXNUZXh0ICsgXCI6IFwiICsgeGhyLnJlc3BvbnNlVVJMKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmNvbXBsZXRlKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIGBjcm9zc09yaWdpbmAgcHJvcGVydHkgZm9yIHRoaXMgcmVzb3VyY2UgYmFzZWQgb24gaWYgdGhlIHVybFxuICAgKiBmb3IgdGhpcyByZXNvdXJjZSBpcyBjcm9zcy1vcmlnaW4uIElmIGNyb3NzT3JpZ2luIHdhcyBtYW51YWxseSBzZXQsIHRoaXNcbiAgICogZnVuY3Rpb24gZG9lcyBub3RoaW5nLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byB0ZXN0LlxuICAgKiBAcGFyYW0ge29iamVjdH0gW2xvYz13aW5kb3cubG9jYXRpb25dIC0gVGhlIGxvY2F0aW9uIG9iamVjdCB0byB0ZXN0IGFnYWluc3QuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNyb3NzT3JpZ2luIHZhbHVlIHRvIHVzZSAob3IgZW1wdHkgc3RyaW5nIGZvciBub25lKS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2RldGVybWluZUNyb3NzT3JpZ2luID0gZnVuY3Rpb24gX2RldGVybWluZUNyb3NzT3JpZ2luKHVybCwgbG9jKSB7XG4gICAgLy8gZGF0YTogYW5kIGphdmFzY3JpcHQ6IHVybHMgYXJlIGNvbnNpZGVyZWQgc2FtZS1vcmlnaW5cbiAgICBpZiAodXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9IC8vIEEgc2FuZGJveGVkIGlmcmFtZSB3aXRob3V0IHRoZSAnYWxsb3ctc2FtZS1vcmlnaW4nIGF0dHJpYnV0ZSB3aWxsIGhhdmUgYSBzcGVjaWFsXG4gICAgLy8gb3JpZ2luIGRlc2lnbmVkIG5vdCB0byBtYXRjaCB3aW5kb3cubG9jYXRpb24ub3JpZ2luLCBhbmQgd2lsbCBhbHdheXMgcmVxdWlyZVxuICAgIC8vIGNyb3NzT3JpZ2luIHJlcXVlc3RzIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGUgbG9jYXRpb24gbWF0Y2hlcy5cblxuXG4gICAgaWYgKHdpbmRvdy5vcmlnaW4gIT09IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pIHtcbiAgICAgIHJldHVybiAnYW5vbnltb3VzJztcbiAgICB9IC8vIGRlZmF1bHQgaXMgd2luZG93LmxvY2F0aW9uXG5cblxuICAgIGxvYyA9IGxvYyB8fCB3aW5kb3cubG9jYXRpb247XG5cbiAgICBpZiAoIXRlbXBBbmNob3IpIHtcbiAgICAgIHRlbXBBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgfSAvLyBsZXQgdGhlIGJyb3dzZXIgZGV0ZXJtaW5lIHRoZSBmdWxsIGhyZWYgZm9yIHRoZSB1cmwgb2YgdGhpcyByZXNvdXJjZSBhbmQgdGhlblxuICAgIC8vIHBhcnNlIHdpdGggdGhlIG5vZGUgdXJsIGxpYiwgd2UgY2FuJ3QgdXNlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBhbmNob3IgZWxlbWVudFxuICAgIC8vIGJlY2F1c2UgdGhleSBkb24ndCB3b3JrIGluIElFOSA6KFxuXG5cbiAgICB0ZW1wQW5jaG9yLmhyZWYgPSB1cmw7XG4gICAgdXJsID0gcGFyc2VVcmkodGVtcEFuY2hvci5ocmVmLCB7XG4gICAgICBzdHJpY3RNb2RlOiB0cnVlXG4gICAgfSk7XG4gICAgdmFyIHNhbWVQb3J0ID0gIXVybC5wb3J0ICYmIGxvYy5wb3J0ID09PSAnJyB8fCB1cmwucG9ydCA9PT0gbG9jLnBvcnQ7XG4gICAgdmFyIHByb3RvY29sID0gdXJsLnByb3RvY29sID8gdXJsLnByb3RvY29sICsgXCI6XCIgOiAnJzsgLy8gaWYgY3Jvc3Mgb3JpZ2luXG5cbiAgICBpZiAodXJsLmhvc3QgIT09IGxvYy5ob3N0bmFtZSB8fCAhc2FtZVBvcnQgfHwgcHJvdG9jb2wgIT09IGxvYy5wcm90b2NvbCkge1xuICAgICAgcmV0dXJuICdhbm9ueW1vdXMnO1xuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfVxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB0aGUgcmVzcG9uc2VUeXBlIG9mIGFuIFhIUiByZXF1ZXN0IGJhc2VkIG9uIHRoZSBleHRlbnNpb24gb2YgdGhlXG4gICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFRoZSByZXNwb25zZVR5cGUgdG8gdXNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZGV0ZXJtaW5lWGhyVHlwZSA9IGZ1bmN0aW9uIF9kZXRlcm1pbmVYaHJUeXBlKCkge1xuICAgIHJldHVybiBSZXNvdXJjZS5feGhyVHlwZU1hcFt0aGlzLmV4dGVuc2lvbl0gfHwgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDtcbiAgfVxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB0aGUgbG9hZFR5cGUgb2YgYSByZXNvdXJjZSBiYXNlZCBvbiB0aGUgZXh0ZW5zaW9uIG9mIHRoZVxuICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge1Jlc291cmNlLkxPQURfVFlQRX0gVGhlIGxvYWRUeXBlIHRvIHVzZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2RldGVybWluZUxvYWRUeXBlID0gZnVuY3Rpb24gX2RldGVybWluZUxvYWRUeXBlKCkge1xuICAgIHJldHVybiBSZXNvdXJjZS5fbG9hZFR5cGVNYXBbdGhpcy5leHRlbnNpb25dIHx8IFJlc291cmNlLkxPQURfVFlQRS5YSFI7XG4gIH1cbiAgLyoqXG4gICAqIEV4dHJhY3RzIHRoZSBleHRlbnNpb24gKHNhbnMgJy4nKSBvZiB0aGUgZmlsZSBiZWluZyBsb2FkZWQgYnkgdGhlIHJlc291cmNlLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBleHRlbnNpb24uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9nZXRFeHRlbnNpb24gPSBmdW5jdGlvbiBfZ2V0RXh0ZW5zaW9uKCkge1xuICAgIHZhciB1cmwgPSB0aGlzLnVybDtcbiAgICB2YXIgZXh0ID0gJyc7XG5cbiAgICBpZiAodGhpcy5pc0RhdGFVcmwpIHtcbiAgICAgIHZhciBzbGFzaEluZGV4ID0gdXJsLmluZGV4T2YoJy8nKTtcbiAgICAgIGV4dCA9IHVybC5zdWJzdHJpbmcoc2xhc2hJbmRleCArIDEsIHVybC5pbmRleE9mKCc7Jywgc2xhc2hJbmRleCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcXVlcnlTdGFydCA9IHVybC5pbmRleE9mKCc/Jyk7XG4gICAgICB2YXIgaGFzaFN0YXJ0ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgICAgIHZhciBpbmRleCA9IE1hdGgubWluKHF1ZXJ5U3RhcnQgPiAtMSA/IHF1ZXJ5U3RhcnQgOiB1cmwubGVuZ3RoLCBoYXNoU3RhcnQgPiAtMSA/IGhhc2hTdGFydCA6IHVybC5sZW5ndGgpO1xuICAgICAgdXJsID0gdXJsLnN1YnN0cmluZygwLCBpbmRleCk7XG4gICAgICBleHQgPSB1cmwuc3Vic3RyaW5nKHVybC5sYXN0SW5kZXhPZignLicpICsgMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4dC50b0xvd2VyQ2FzZSgpO1xuICB9XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSBtaW1lIHR5cGUgb2YgYW4gWEhSIHJlcXVlc3QgYmFzZWQgb24gdGhlIHJlc3BvbnNlVHlwZSBvZlxuICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IHR5cGUgLSBUaGUgdHlwZSB0byBnZXQgYSBtaW1lIHR5cGUgZm9yLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBtaW1lIHR5cGUgdG8gdXNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZ2V0TWltZUZyb21YaHJUeXBlID0gZnVuY3Rpb24gX2dldE1pbWVGcm9tWGhyVHlwZSh0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUjpcbiAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9vY3RldC1iaW5hcnknO1xuXG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0I6XG4gICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vYmxvYic7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQ6XG4gICAgICAgIHJldHVybiAnYXBwbGljYXRpb24veG1sJztcblxuICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OOlxuICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL2pzb24nO1xuXG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRFRkFVTFQ6XG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ6XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAndGV4dC9wbGFpbic7XG4gICAgfVxuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhSZXNvdXJjZSwgW3tcbiAgICBrZXk6IFwiaXNEYXRhVXJsXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZXMgaWYgdGhpcyByZXNvdXJjZSBoYXMgZmluaXNoZWQgbG9hZGluZy4gSXMgdHJ1ZSB3aGVuIHRoZSByZXNvdXJjZSBoYXMgY29tcGxldGVseVxuICAgICAqIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc0NvbXBsZXRlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuQ09NUExFVEUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZXMgaWYgdGhpcyByZXNvdXJjZSBpcyBjdXJyZW50bHkgbG9hZGluZy4gSXMgdHJ1ZSB3aGVuIHRoZSByZXNvdXJjZSBzdGFydHMgbG9hZGluZyxcbiAgICAgKiBhbmQgaXMgZmFsc2UgYWdhaW4gd2hlbiBjb21wbGV0ZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc0xvYWRpbmdcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5MT0FESU5HKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUmVzb3VyY2U7XG59KCk7XG4vKipcbiAqIFRoZSB0eXBlcyBvZiByZXNvdXJjZXMgYSByZXNvdXJjZSBjb3VsZCByZXByZXNlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5cblxuUmVzb3VyY2UuU1RBVFVTX0ZMQUdTID0ge1xuICBOT05FOiAwLFxuICBEQVRBX1VSTDogMSA8PCAwLFxuICBDT01QTEVURTogMSA8PCAxLFxuICBMT0FESU5HOiAxIDw8IDJcbn07XG4vKipcbiAqIFRoZSB0eXBlcyBvZiByZXNvdXJjZXMgYSByZXNvdXJjZSBjb3VsZCByZXByZXNlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5cblJlc291cmNlLlRZUEUgPSB7XG4gIFVOS05PV046IDAsXG4gIEpTT046IDEsXG4gIFhNTDogMixcbiAgSU1BR0U6IDMsXG4gIEFVRElPOiA0LFxuICBWSURFTzogNSxcbiAgVEVYVDogNlxufTtcbi8qKlxuICogVGhlIHR5cGVzIG9mIGxvYWRpbmcgYSByZXNvdXJjZSBjYW4gdXNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuXG5SZXNvdXJjZS5MT0FEX1RZUEUgPSB7XG4gIC8qKiBVc2VzIFhNTEh0dHBSZXF1ZXN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICBYSFI6IDEsXG5cbiAgLyoqIFVzZXMgYW4gYEltYWdlYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gIElNQUdFOiAyLFxuXG4gIC8qKiBVc2VzIGFuIGBBdWRpb2Agb2JqZWN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICBBVURJTzogMyxcblxuICAvKiogVXNlcyBhIGBWaWRlb2Agb2JqZWN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICBWSURFTzogNFxufTtcbi8qKlxuICogVGhlIFhIUiByZWFkeSBzdGF0ZXMsIHVzZWQgaW50ZXJuYWxseS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cblxuUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUgPSB7XG4gIC8qKiBzdHJpbmcgKi9cbiAgREVGQVVMVDogJ3RleHQnLFxuXG4gIC8qKiBBcnJheUJ1ZmZlciAqL1xuICBCVUZGRVI6ICdhcnJheWJ1ZmZlcicsXG5cbiAgLyoqIEJsb2IgKi9cbiAgQkxPQjogJ2Jsb2InLFxuXG4gIC8qKiBEb2N1bWVudCAqL1xuICBET0NVTUVOVDogJ2RvY3VtZW50JyxcblxuICAvKiogT2JqZWN0ICovXG4gIEpTT046ICdqc29uJyxcblxuICAvKiogU3RyaW5nICovXG4gIFRFWFQ6ICd0ZXh0J1xufTtcblJlc291cmNlLl9sb2FkVHlwZU1hcCA9IHtcbiAgLy8gaW1hZ2VzXG4gIGdpZjogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICBwbmc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgYm1wOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIGpwZzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICBqcGVnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHRpZjogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICB0aWZmOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHdlYnA6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgdGdhOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHN2ZzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAnc3ZnK3htbCc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgLy8gZm9yIFNWRyBkYXRhIHVybHNcbiAgLy8gYXVkaW9cbiAgbXAzOiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG4gIG9nZzogUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPLFxuICB3YXY6IFJlc291cmNlLkxPQURfVFlQRS5BVURJTyxcbiAgLy8gdmlkZW9zXG4gIG1wNDogUmVzb3VyY2UuTE9BRF9UWVBFLlZJREVPLFxuICB3ZWJtOiBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU9cbn07XG5SZXNvdXJjZS5feGhyVHlwZU1hcCA9IHtcbiAgLy8geG1sXG4gIHhodG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgaHRtbDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIGh0bTogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIHhtbDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIHRteDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIHN2ZzogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIC8vIFRoaXMgd2FzIGFkZGVkIHRvIGhhbmRsZSBUaWxlZCBUaWxlc2V0IFhNTCwgYnV0IC50c3ggaXMgYWxzbyBhIFR5cGVTY3JpcHQgUmVhY3QgQ29tcG9uZW50LlxuICAvLyBTaW5jZSBpdCBpcyB3YXkgbGVzcyBsaWtlbHkgZm9yIHBlb3BsZSB0byBiZSBsb2FkaW5nIFR5cGVTY3JpcHQgZmlsZXMgaW5zdGVhZCBvZiBUaWxlZCBmaWxlcyxcbiAgLy8gdGhpcyBzaG91bGQgcHJvYmFibHkgYmUgZmluZS5cbiAgdHN4OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgLy8gaW1hZ2VzXG4gIGdpZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgcG5nOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICBibXA6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIGpwZzogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAganBlZzogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgdGlmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICB0aWZmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICB3ZWJwOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICB0Z2E6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIC8vIGpzb25cbiAganNvbjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTixcbiAgLy8gdGV4dFxuICB0ZXh0OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhULFxuICB0eHQ6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQsXG4gIC8vIGZvbnRzXG4gIHR0ZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSLFxuICBvdGY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUlxufTsgLy8gV2UgY2FuJ3Qgc2V0IHRoZSBgc3JjYCBhdHRyaWJ1dGUgdG8gZW1wdHkgc3RyaW5nLCBzbyBvbiBhYm9ydCB3ZSBzZXQgaXQgdG8gdGhpcyAxcHggdHJhbnNwYXJlbnQgZ2lmXG5cblJlc291cmNlLkVNUFRZX0dJRiA9ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFQLy8vd0FBQUNINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQ1JBRUFPdz09Jztcbi8qKlxuICogUXVpY2sgaGVscGVyIHRvIHNldCBhIHZhbHVlIG9uIG9uZSBvZiB0aGUgZXh0ZW5zaW9uIG1hcHMuIEVuc3VyZXMgdGhlcmUgaXMgbm9cbiAqIGRvdCBhdCB0aGUgc3RhcnQgb2YgdGhlIGV4dGVuc2lvbi5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge29iamVjdH0gbWFwIC0gVGhlIG1hcCB0byBzZXQgb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gZXh0bmFtZSAtIFRoZSBleHRlbnNpb24gKG9yIGtleSkgdG8gc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCAtIFRoZSB2YWx1ZSB0byBzZXQuXG4gKi9cblxuZnVuY3Rpb24gc2V0RXh0TWFwKG1hcCwgZXh0bmFtZSwgdmFsKSB7XG4gIGlmIChleHRuYW1lICYmIGV4dG5hbWUuaW5kZXhPZignLicpID09PSAwKSB7XG4gICAgZXh0bmFtZSA9IGV4dG5hbWUuc3Vic3RyaW5nKDEpO1xuICB9XG5cbiAgaWYgKCFleHRuYW1lKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbWFwW2V4dG5hbWVdID0gdmFsO1xufVxuLyoqXG4gKiBRdWljayBoZWxwZXIgdG8gZ2V0IHN0cmluZyB4aHIgdHlwZS5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0fFhEb21haW5SZXF1ZXN0fSB4aHIgLSBUaGUgcmVxdWVzdCB0byBjaGVjay5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHR5cGUuXG4gKi9cblxuXG5mdW5jdGlvbiByZXFUeXBlKHhocikge1xuICByZXR1cm4geGhyLnRvU3RyaW5nKCkucmVwbGFjZSgnb2JqZWN0ICcsICcnKTtcbn1cblxudmFyIF9rZXlTdHIgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuLyoqXG4gKiBFbmNvZGVzIGJpbmFyeSBpbnRvIGJhc2U2NC5cbiAqXG4gKiBAZnVuY3Rpb24gZW5jb2RlQmluYXJ5XG4gKiBAcGFyYW0ge3N0cmluZ30gaW5wdXQgVGhlIGlucHV0IGRhdGEgdG8gZW5jb2RlLlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGVuY29kZWQgYmFzZTY0IHN0cmluZ1xuICovXG5cbmZ1bmN0aW9uIGVuY29kZUJpbmFyeShpbnB1dCkge1xuICB2YXIgb3V0cHV0ID0gJyc7XG4gIHZhciBpbnggPSAwO1xuXG4gIHdoaWxlIChpbnggPCBpbnB1dC5sZW5ndGgpIHtcbiAgICAvLyBGaWxsIGJ5dGUgYnVmZmVyIGFycmF5XG4gICAgdmFyIGJ5dGVidWZmZXIgPSBbMCwgMCwgMF07XG4gICAgdmFyIGVuY29kZWRDaGFySW5kZXhlcyA9IFswLCAwLCAwLCAwXTtcblxuICAgIGZvciAodmFyIGpueCA9IDA7IGpueCA8IGJ5dGVidWZmZXIubGVuZ3RoOyArK2pueCkge1xuICAgICAgaWYgKGlueCA8IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAvLyB0aHJvdyBhd2F5IGhpZ2gtb3JkZXIgYnl0ZSwgYXMgZG9jdW1lbnRlZCBhdDpcbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvRW4vVXNpbmdfWE1MSHR0cFJlcXVlc3QjSGFuZGxpbmdfYmluYXJ5X2RhdGFcbiAgICAgICAgYnl0ZWJ1ZmZlcltqbnhdID0gaW5wdXQuY2hhckNvZGVBdChpbngrKykgJiAweGZmO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnl0ZWJ1ZmZlcltqbnhdID0gMDtcbiAgICAgIH1cbiAgICB9IC8vIEdldCBlYWNoIGVuY29kZWQgY2hhcmFjdGVyLCA2IGJpdHMgYXQgYSB0aW1lXG4gICAgLy8gaW5kZXggMTogZmlyc3QgNiBiaXRzXG5cblxuICAgIGVuY29kZWRDaGFySW5kZXhlc1swXSA9IGJ5dGVidWZmZXJbMF0gPj4gMjsgLy8gaW5kZXggMjogc2Vjb25kIDYgYml0cyAoMiBsZWFzdCBzaWduaWZpY2FudCBiaXRzIGZyb20gaW5wdXQgYnl0ZSAxICsgNCBtb3N0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBieXRlIDIpXG5cbiAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMV0gPSAoYnl0ZWJ1ZmZlclswXSAmIDB4MykgPDwgNCB8IGJ5dGVidWZmZXJbMV0gPj4gNDsgLy8gaW5kZXggMzogdGhpcmQgNiBiaXRzICg0IGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDIgKyAyIG1vc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGJ5dGUgMylcblxuICAgIGVuY29kZWRDaGFySW5kZXhlc1syXSA9IChieXRlYnVmZmVyWzFdICYgMHgwZikgPDwgMiB8IGJ5dGVidWZmZXJbMl0gPj4gNjsgLy8gaW5kZXggMzogZm9ydGggNiBiaXRzICg2IGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDMpXG5cbiAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSBieXRlYnVmZmVyWzJdICYgMHgzZjsgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgcGFkZGluZyBoYXBwZW5lZCwgYW5kIGFkanVzdCBhY2NvcmRpbmdseVxuXG4gICAgdmFyIHBhZGRpbmdCeXRlcyA9IGlueCAtIChpbnB1dC5sZW5ndGggLSAxKTtcblxuICAgIHN3aXRjaCAocGFkZGluZ0J5dGVzKSB7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIC8vIFNldCBsYXN0IDIgY2hhcmFjdGVycyB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzNdID0gNjQ7XG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1syXSA9IDY0O1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAxOlxuICAgICAgICAvLyBTZXQgbGFzdCBjaGFyYWN0ZXIgdG8gcGFkZGluZyBjaGFyXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IDY0O1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBObyBwYWRkaW5nIC0gcHJvY2VlZFxuICAgIH0gLy8gTm93IHdlIHdpbGwgZ3JhYiBlYWNoIGFwcHJvcHJpYXRlIGNoYXJhY3RlciBvdXQgb2Ygb3VyIGtleXN0cmluZ1xuICAgIC8vIGJhc2VkIG9uIG91ciBpbmRleCBhcnJheSBhbmQgYXBwZW5kIGl0IHRvIHRoZSBvdXRwdXQgc3RyaW5nXG5cblxuICAgIGZvciAodmFyIF9qbnggPSAwOyBfam54IDwgZW5jb2RlZENoYXJJbmRleGVzLmxlbmd0aDsgKytfam54KSB7XG4gICAgICBvdXRwdXQgKz0gX2tleVN0ci5jaGFyQXQoZW5jb2RlZENoYXJJbmRleGVzW19qbnhdKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb3V0cHV0O1xufVxuXG52YXIgVXJsID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMO1xuLyoqXG4gKiBBIG1pZGRsZXdhcmUgZm9yIHRyYW5zZm9ybWluZyBYSFIgbG9hZGVkIEJsb2JzIGludG8gbW9yZSB1c2VmdWwgb2JqZWN0c1xuICpcbiAqIEBtZW1iZXJvZiBtaWRkbGV3YXJlXG4gKiBAZnVuY3Rpb24gcGFyc2luZ1xuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IExvYWRlciwgbWlkZGxld2FyZSB9IGZyb20gJ3Jlc291cmNlLWxvYWRlcic7XG4gKiBjb25zdCBsb2FkZXIgPSBuZXcgTG9hZGVyKCk7XG4gKiBsb2FkZXIudXNlKG1pZGRsZXdhcmUucGFyc2luZyk7XG4gKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIEN1cnJlbnQgUmVzb3VyY2VcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHQgLSBDYWxsYmFjayB3aGVuIGNvbXBsZXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2luZyhyZXNvdXJjZSwgbmV4dCkge1xuICBpZiAoIXJlc291cmNlLmRhdGEpIHtcbiAgICBuZXh0KCk7XG4gICAgcmV0dXJuO1xuICB9IC8vIGlmIHRoaXMgd2FzIGFuIFhIUiBsb2FkIG9mIGEgYmxvYlxuXG5cbiAgaWYgKHJlc291cmNlLnhociAmJiByZXNvdXJjZS54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CKSB7XG4gICAgLy8gaWYgdGhlcmUgaXMgbm8gYmxvYiBzdXBwb3J0IHdlIHByb2JhYmx5IGdvdCBhIGJpbmFyeSBzdHJpbmcgYmFja1xuICAgIGlmICghd2luZG93LkJsb2IgfHwgdHlwZW9mIHJlc291cmNlLmRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgdHlwZSA9IHJlc291cmNlLnhoci5nZXRSZXNwb25zZUhlYWRlcignY29udGVudC10eXBlJyk7IC8vIHRoaXMgaXMgYW4gaW1hZ2UsIGNvbnZlcnQgdGhlIGJpbmFyeSBzdHJpbmcgaW50byBhIGRhdGEgdXJsXG5cbiAgICAgIGlmICh0eXBlICYmIHR5cGUuaW5kZXhPZignaW1hZ2UnKSA9PT0gMCkge1xuICAgICAgICByZXNvdXJjZS5kYXRhID0gbmV3IEltYWdlKCk7XG4gICAgICAgIHJlc291cmNlLmRhdGEuc3JjID0gXCJkYXRhOlwiICsgdHlwZSArIFwiO2Jhc2U2NCxcIiArIGVuY29kZUJpbmFyeShyZXNvdXJjZS54aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgcmVzb3VyY2UudHlwZSA9IFJlc291cmNlLlRZUEUuSU1BR0U7IC8vIHdhaXQgdW50aWwgdGhlIGltYWdlIGxvYWRzIGFuZCB0aGVuIGNhbGxiYWNrXG5cbiAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfTsgLy8gbmV4dCB3aWxsIGJlIGNhbGxlZCBvbiBsb2FkXG5cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSAvLyBpZiBjb250ZW50IHR5cGUgc2F5cyB0aGlzIGlzIGFuIGltYWdlLCB0aGVuIHdlIHNob3VsZCB0cmFuc2Zvcm0gdGhlIGJsb2IgaW50byBhbiBJbWFnZSBvYmplY3RcbiAgICBlbHNlIGlmIChyZXNvdXJjZS5kYXRhLnR5cGUuaW5kZXhPZignaW1hZ2UnKSA9PT0gMCkge1xuICAgICAgICB2YXIgc3JjID0gVXJsLmNyZWF0ZU9iamVjdFVSTChyZXNvdXJjZS5kYXRhKTtcbiAgICAgICAgcmVzb3VyY2UuYmxvYiA9IHJlc291cmNlLmRhdGE7XG4gICAgICAgIHJlc291cmNlLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgcmVzb3VyY2UuZGF0YS5zcmMgPSBzcmM7XG4gICAgICAgIHJlc291cmNlLnR5cGUgPSBSZXNvdXJjZS5UWVBFLklNQUdFOyAvLyBjbGVhbnVwIHRoZSBubyBsb25nZXIgdXNlZCBibG9iIGFmdGVyIHRoZSBpbWFnZSBsb2Fkc1xuICAgICAgICAvLyBUT0RPOiBJcyB0aGlzIGNvcnJlY3Q/IFdpbGwgdGhlIGltYWdlIGJlIGludmFsaWQgYWZ0ZXIgcmV2b2tpbmc/XG5cbiAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgVXJsLnJldm9rZU9iamVjdFVSTChzcmMpO1xuICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gbnVsbDtcbiAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH07IC8vIG5leHQgd2lsbCBiZSBjYWxsZWQgb24gbG9hZC5cblxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgfVxuXG4gIG5leHQoKTtcbn1cblxuLyoqXG4gKiBAbmFtZXNwYWNlIG1pZGRsZXdhcmVcbiAqL1xuXG52YXIgaW5kZXggPSAoe1xuICAgIGNhY2hpbmc6IGNhY2hpbmcsXG4gICAgcGFyc2luZzogcGFyc2luZ1xufSk7XG5cbnZhciBNQVhfUFJPR1JFU1MgPSAxMDA7XG52YXIgcmd4RXh0cmFjdFVybEhhc2ggPSAvKCNbXFx3LV0rKT8kLztcbi8qKlxuICogTWFuYWdlcyB0aGUgc3RhdGUgYW5kIGxvYWRpbmcgb2YgbXVsdGlwbGUgcmVzb3VyY2VzIHRvIGxvYWQuXG4gKlxuICogQGNsYXNzXG4gKi9cblxudmFyIExvYWRlciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2Jhc2VVcmw9JyddIC0gVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtjb25jdXJyZW5jeT0xMF0gLSBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0byBsb2FkIGNvbmN1cnJlbnRseS5cbiAgICovXG4gIGZ1bmN0aW9uIExvYWRlcihiYXNlVXJsLCBjb25jdXJyZW5jeSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoYmFzZVVybCA9PT0gdm9pZCAwKSB7XG4gICAgICBiYXNlVXJsID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKGNvbmN1cnJlbmN5ID09PSB2b2lkIDApIHtcbiAgICAgIGNvbmN1cnJlbmN5ID0gMTA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsO1xuICAgIC8qKlxuICAgICAqIFRoZSBwcm9ncmVzcyBwZXJjZW50IG9mIHRoZSBsb2FkZXIgZ29pbmcgdGhyb3VnaCB0aGUgcXVldWUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgLyoqXG4gICAgICogTG9hZGluZyBzdGF0ZSBvZiB0aGUgbG9hZGVyLCB0cnVlIGlmIGl0IGlzIGN1cnJlbnRseSBsb2FkaW5nIHJlc291cmNlcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIEEgcXVlcnlzdHJpbmcgdG8gYXBwZW5kIHRvIGV2ZXJ5IFVSTCBhZGRlZCB0byB0aGUgbG9hZGVyLlxuICAgICAqXG4gICAgICogVGhpcyBzaG91bGQgYmUgYSB2YWxpZCBxdWVyeSBzdHJpbmcgKndpdGhvdXQqIHRoZSBxdWVzdGlvbi1tYXJrIChgP2ApLiBUaGUgbG9hZGVyIHdpbGxcbiAgICAgKiBhbHNvICpub3QqIGVzY2FwZSB2YWx1ZXMgZm9yIHlvdS4gTWFrZSBzdXJlIHRvIGVzY2FwZSB5b3VyIHBhcmFtZXRlcnMgd2l0aFxuICAgICAqIFtgZW5jb2RlVVJJQ29tcG9uZW50YF0oaHR0cHM6Ly9tZG4uaW8vZW5jb2RlVVJJQ29tcG9uZW50KSBiZWZvcmUgYXNzaWduaW5nIHRoaXMgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGxvYWRlciA9IG5ldyBMb2FkZXIoKTtcbiAgICAgKlxuICAgICAqIGxvYWRlci5kZWZhdWx0UXVlcnlTdHJpbmcgPSAndXNlcj1tZSZwYXNzd29yZD1zZWNyZXQnO1xuICAgICAqXG4gICAgICogLy8gVGhpcyB3aWxsIHJlcXVlc3QgJ2ltYWdlLnBuZz91c2VyPW1lJnBhc3N3b3JkPXNlY3JldCdcbiAgICAgKiBsb2FkZXIuYWRkKCdpbWFnZS5wbmcnKS5sb2FkKCk7XG4gICAgICpcbiAgICAgKiBsb2FkZXIucmVzZXQoKTtcbiAgICAgKlxuICAgICAqIC8vIFRoaXMgd2lsbCByZXF1ZXN0ICdpbWFnZS5wbmc/dj0xJnVzZXI9bWUmcGFzc3dvcmQ9c2VjcmV0J1xuICAgICAqIGxvYWRlci5hZGQoJ2lhbWdlLnBuZz92PTEnKS5sb2FkKCk7XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQGRlZmF1bHQgJydcbiAgICAgKi9cblxuICAgIHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nID0gJyc7XG4gICAgLyoqXG4gICAgICogVGhlIG1pZGRsZXdhcmUgdG8gcnVuIGJlZm9yZSBsb2FkaW5nIGVhY2ggcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gICAgICovXG5cbiAgICB0aGlzLl9iZWZvcmVNaWRkbGV3YXJlID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIG1pZGRsZXdhcmUgdG8gcnVuIGFmdGVyIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAgICAgKi9cblxuICAgIHRoaXMuX2FmdGVyTWlkZGxld2FyZSA9IFtdO1xuICAgIC8qKlxuICAgICAqIFRoZSB0cmFja3MgdGhlIHJlc291cmNlcyB3ZSBhcmUgY3VycmVudGx5IGNvbXBsZXRpbmcgcGFyc2luZyBmb3IuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlW119XG4gICAgICovXG5cbiAgICB0aGlzLl9yZXNvdXJjZXNQYXJzaW5nID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIGBfbG9hZFJlc291cmNlYCBmdW5jdGlvbiBib3VuZCB3aXRoIHRoaXMgb2JqZWN0IGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHIgLSBUaGUgcmVzb3VyY2UgdG8gbG9hZFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGQgLSBUaGUgZGVxdWV1ZSBmdW5jdGlvblxuICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JvdW5kTG9hZFJlc291cmNlID0gZnVuY3Rpb24gKHIsIGQpIHtcbiAgICAgIHJldHVybiBfdGhpcy5fbG9hZFJlc291cmNlKHIsIGQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIHJlc291cmNlcyB3YWl0aW5nIHRvIGJlIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgKi9cblxuXG4gICAgdGhpcy5fcXVldWUgPSBxdWV1ZSh0aGlzLl9ib3VuZExvYWRSZXNvdXJjZSwgY29uY3VycmVuY3kpO1xuXG4gICAgdGhpcy5fcXVldWUucGF1c2UoKTtcbiAgICAvKipcbiAgICAgKiBBbGwgdGhlIHJlc291cmNlcyBmb3IgdGhpcyBsb2FkZXIga2V5ZWQgYnkgbmFtZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge29iamVjdDxzdHJpbmcsIFJlc291cmNlPn1cbiAgICAgKi9cblxuXG4gICAgdGhpcy5yZXNvdXJjZXMgPSB7fTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGxvYWRlZCBvciBlcnJvcmVkIHJlc291cmNlLlxuICAgICAqXG4gICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PblByb2dyZXNzU2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxMb2FkZXIuT25Qcm9ncmVzc1NpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uUHJvZ3Jlc3MgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBvbmNlIHBlciBlcnJvcmVkIHJlc291cmNlLlxuICAgICAqXG4gICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PbkVycm9yU2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxMb2FkZXIuT25FcnJvclNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uRXJyb3IgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBvbmNlIHBlciBsb2FkZWQgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uTG9hZFNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8TG9hZGVyLk9uTG9hZFNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uTG9hZCA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIHdoZW4gdGhlIGxvYWRlciBiZWdpbnMgdG8gcHJvY2VzcyB0aGUgcXVldWUuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uU3RhcnRTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PblN0YXJ0U2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25TdGFydCA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIHdoZW4gdGhlIHF1ZXVlZCByZXNvdXJjZXMgYWxsIGxvYWQuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PbkNvbXBsZXRlU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25Db21wbGV0ZSA9IG5ldyBTaWduYWwoKTsgLy8gQWRkIGRlZmF1bHQgYmVmb3JlIG1pZGRsZXdhcmVcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZS5sZW5ndGg7ICsraSkge1xuICAgICAgdGhpcy5wcmUoTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZVtpXSk7XG4gICAgfSAvLyBBZGQgZGVmYXVsdCBhZnRlciBtaWRkbGV3YXJlXG5cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBMb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmUubGVuZ3RoOyArK19pKSB7XG4gICAgICB0aGlzLnVzZShMb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmVbX2ldKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFdoZW4gdGhlIHByb2dyZXNzIGNoYW5nZXMgdGhlIGxvYWRlciBhbmQgcmVzb3VyY2UgYXJlIGRpc2FwdGNoZWQuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICogQGNhbGxiYWNrIE9uUHJvZ3Jlc3NTaWduYWxcbiAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhlIHByb2dyZXNzIGlzIGFkdmFuY2luZyBvbi5cbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBoYXMgY29tcGxldGVkIG9yIGZhaWxlZCB0byBjYXVzZSB0aGUgcHJvZ3Jlc3MgdG8gYWR2YW5jZS5cbiAgICovXG5cbiAgLyoqXG4gICAqIFdoZW4gYW4gZXJyb3Igb2NjdXJycyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICpcbiAgICogQG1lbWJlcm9mIExvYWRlclxuICAgKiBAY2FsbGJhY2sgT25FcnJvclNpZ25hbFxuICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGUgZXJyb3IgaGFwcGVuZWQgaW4uXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgY2F1c2VkIHRoZSBlcnJvci5cbiAgICovXG5cbiAgLyoqXG4gICAqIFdoZW4gYSBsb2FkIGNvbXBsZXRlcyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICpcbiAgICogQG1lbWJlcm9mIExvYWRlclxuICAgKiBAY2FsbGJhY2sgT25Mb2FkU2lnbmFsXG4gICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoYXQgbGFvZGVkIHRoZSByZXNvdXJjZS5cbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBoYXMgY29tcGxldGVkIGxvYWRpbmcuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSBsb2FkZXIgc3RhcnRzIGxvYWRpbmcgcmVzb3VyY2VzIGl0IGRpc3BhdGNoZXMgdGhpcyBjYWxsYmFjay5cbiAgICpcbiAgICogQG1lbWJlcm9mIExvYWRlclxuICAgKiBAY2FsbGJhY2sgT25TdGFydFNpZ25hbFxuICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGF0IGhhcyBzdGFydGVkIGxvYWRpbmcgcmVzb3VyY2VzLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiB0aGUgbG9hZGVyIGNvbXBsZXRlcyBsb2FkaW5nIHJlc291cmNlcyBpdCBkaXNwYXRjaGVzIHRoaXMgY2FsbGJhY2suXG4gICAqXG4gICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICogQGNhbGxiYWNrIE9uQ29tcGxldGVTaWduYWxcbiAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhhdCBoYXMgZmluaXNoZWQgbG9hZGluZyByZXNvdXJjZXMuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBPcHRpb25zIGZvciBhIGNhbGwgdG8gYC5hZGQoKWAuXG4gICAqXG4gICAqIEBzZWUgTG9hZGVyI2FkZFxuICAgKlxuICAgKiBAdHlwZWRlZiB7b2JqZWN0fSBJQWRkT3B0aW9uc1xuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW25hbWVdIC0gVGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIHRvIGxvYWQsIGlmIG5vdCBwYXNzZWQgdGhlIHVybCBpcyB1c2VkLlxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW2tleV0gLSBBbGlhcyBmb3IgYG5hbWVgLlxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF0gLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgICogQHByb3BlcnR5IHtzdHJpbmd8Ym9vbGVhbn0gW2Nyb3NzT3JpZ2luXSAtIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IERlZmF1bHQgaXMgdG9cbiAgICogICAgICBkZXRlcm1pbmUgYXV0b21hdGljYWxseS5cbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aW1lb3V0PTBdIC0gQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGxvYWQuIElmIHRoZSBsb2FkIHRha2VzXG4gICAqICAgICAgbG9uZ2VyIHRoYW4gdGhpcyB0aW1lIGl0IGlzIGNhbmNlbGxlZCBhbmQgdGhlIGxvYWQgaXMgY29uc2lkZXJlZCBhIGZhaWx1cmUuIElmIHRoaXMgdmFsdWUgaXNcbiAgICogICAgICBzZXQgdG8gYDBgIHRoZW4gdGhlcmUgaXMgbm8gZXhwbGljaXQgdGltZW91dC5cbiAgICogQHByb3BlcnR5IHtSZXNvdXJjZS5MT0FEX1RZUEV9IFtsb2FkVHlwZT1SZXNvdXJjZS5MT0FEX1RZUEUuWEhSXSAtIEhvdyBzaG91bGQgdGhpcyByZXNvdXJjZVxuICAgKiAgICAgIGJlIGxvYWRlZD9cbiAgICogQHByb3BlcnR5IHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gW3hoclR5cGU9UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVF0gLSBIb3dcbiAgICogICAgICBzaG91bGQgdGhlIGRhdGEgYmVpbmcgbG9hZGVkIGJlIGludGVycHJldGVkIHdoZW4gdXNpbmcgWEhSP1xuICAgKiBAcHJvcGVydHkge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtvbkNvbXBsZXRlXSAtIENhbGxiYWNrIHRvIGFkZCBhbiBhbiBvbkNvbXBsZXRlIHNpZ25hbCBpc3RlbmVyLlxuICAgKiBAcHJvcGVydHkge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBBbGlhcyBmb3IgYG9uQ29tcGxldGVgLlxuICAgKiBAcHJvcGVydHkge1Jlc291cmNlLklNZXRhZGF0YX0gW21ldGFkYXRhXSAtIEV4dHJhIGNvbmZpZ3VyYXRpb24gZm9yIG1pZGRsZXdhcmUgYW5kIHRoZSBSZXNvdXJjZSBvYmplY3QuXG4gICAqL1xuXG4gIC8qIGVzbGludC1kaXNhYmxlIHJlcXVpcmUtanNkb2MsdmFsaWQtanNkb2MgKi9cblxuICAvKipcbiAgICogQWRkcyBhIHJlc291cmNlIChvciBtdWx0aXBsZSByZXNvdXJjZXMpIHRvIHRoZSBsb2FkZXIgcXVldWUuXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gY2FuIHRha2UgYSB3aWRlIHZhcmlldHkgb2YgZGlmZmVyZW50IHBhcmFtZXRlcnMuIFRoZSBvbmx5IHRoaW5nIHRoYXQgaXMgYWx3YXlzXG4gICAqIHJlcXVpcmVkIHRoZSB1cmwgdG8gbG9hZC4gQWxsIHRoZSBmb2xsb3dpbmcgd2lsbCB3b3JrOlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBsb2FkZXJcbiAgICogICAgIC8vIG5vcm1hbCBwYXJhbSBzeW50YXhcbiAgICogICAgIC5hZGQoJ2tleScsICdodHRwOi8vLi4uJywgZnVuY3Rpb24gKCkge30pXG4gICAqICAgICAuYWRkKCdodHRwOi8vLi4uJywgZnVuY3Rpb24gKCkge30pXG4gICAqICAgICAuYWRkKCdodHRwOi8vLi4uJylcbiAgICpcbiAgICogICAgIC8vIG9iamVjdCBzeW50YXhcbiAgICogICAgIC5hZGQoe1xuICAgKiAgICAgICAgIG5hbWU6ICdrZXkyJyxcbiAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgKiAgICAgfSwgZnVuY3Rpb24gKCkge30pXG4gICAqICAgICAuYWRkKHtcbiAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgKiAgICAgfSwgZnVuY3Rpb24gKCkge30pXG4gICAqICAgICAuYWRkKHtcbiAgICogICAgICAgICBuYW1lOiAna2V5MycsXG4gICAqICAgICAgICAgdXJsOiAnaHR0cDovLy4uLidcbiAgICogICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fVxuICAgKiAgICAgfSlcbiAgICogICAgIC5hZGQoe1xuICAgKiAgICAgICAgIHVybDogJ2h0dHBzOi8vLi4uJyxcbiAgICogICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fSxcbiAgICogICAgICAgICBjcm9zc09yaWdpbjogdHJ1ZVxuICAgKiAgICAgfSlcbiAgICpcbiAgICogICAgIC8vIHlvdSBjYW4gYWxzbyBwYXNzIGFuIGFycmF5IG9mIG9iamVjdHMgb3IgdXJscyBvciBib3RoXG4gICAqICAgICAuYWRkKFtcbiAgICogICAgICAgICB7IG5hbWU6ICdrZXk0JywgdXJsOiAnaHR0cDovLy4uLicsIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9IH0sXG4gICAqICAgICAgICAgeyB1cmw6ICdodHRwOi8vLi4uJywgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge30gfSxcbiAgICogICAgICAgICAnaHR0cDovLy4uLidcbiAgICogICAgIF0pXG4gICAqXG4gICAqICAgICAvLyBhbmQgeW91IGNhbiB1c2UgYm90aCBwYXJhbXMgYW5kIG9wdGlvbnNcbiAgICogICAgIC5hZGQoJ2tleScsICdodHRwOi8vLi4uJywgeyBjcm9zc09yaWdpbjogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nLCB7IGNyb3NzT3JpZ2luOiB0cnVlIH0sIGZ1bmN0aW9uICgpIHt9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAdmFyaWF0aW9uIDFcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuXG4gIC8qKlxuICAqIEBmdW5jdGlvblxuICAqIEB2YXJpYXRpb24gMlxuICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIHRvIGxvYWQuXG4gICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAqIEBwYXJhbSB7SUFkZE9wdGlvbnN9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbG9hZC5cbiAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgKi9cblxuICAvKipcbiAgKiBAZnVuY3Rpb25cbiAgKiBAdmFyaWF0aW9uIDNcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2FsbGJhY2tdIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgc3BlY2lmaWMgcmVzb3VyY2UgY29tcGxldGVzIGxvYWRpbmcuXG4gICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICovXG5cbiAgLyoqXG4gICogQGZ1bmN0aW9uXG4gICogQHZhcmlhdGlvbiA0XG4gICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAqIEBwYXJhbSB7SUFkZE9wdGlvbnN9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbG9hZC5cbiAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgKi9cblxuICAvKipcbiAgKiBAZnVuY3Rpb25cbiAgKiBAdmFyaWF0aW9uIDVcbiAgKiBAcGFyYW0ge0lBZGRPcHRpb25zfSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLiBUaGlzIG9iamVjdCBtdXN0IGNvbnRhaW4gYSBgdXJsYCBwcm9wZXJ0eS5cbiAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgKi9cblxuICAvKipcbiAgKiBAZnVuY3Rpb25cbiAgKiBAdmFyaWF0aW9uIDZcbiAgKiBAcGFyYW0ge0FycmF5PElBZGRPcHRpb25zfHN0cmluZz59IHJlc291cmNlcyAtIEFuIGFycmF5IG9mIHJlc291cmNlcyB0byBsb2FkLCB3aGVyZSBlYWNoIGlzXG4gICogICAgICBlaXRoZXIgYW4gb2JqZWN0IHdpdGggdGhlIG9wdGlvbnMgb3IgYSBzdHJpbmcgdXJsLiBJZiB5b3UgcGFzcyBhbiBvYmplY3QsIGl0IG11c3QgY29udGFpbiBhIGB1cmxgIHByb3BlcnR5LlxuICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IExvYWRlci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmFkZCA9IGZ1bmN0aW9uIGFkZChuYW1lLCB1cmwsIG9wdGlvbnMsIGNiKSB7XG4gICAgLy8gc3BlY2lhbCBjYXNlIG9mIGFuIGFycmF5IG9mIG9iamVjdHMgb3IgdXJsc1xuICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWUpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdGhpcy5hZGQobmFtZVtpXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gLy8gaWYgYW4gb2JqZWN0IGlzIHBhc3NlZCBpbnN0ZWFkIG9mIHBhcmFtc1xuXG5cbiAgICBpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XG4gICAgICBjYiA9IHVybCB8fCBuYW1lLmNhbGxiYWNrIHx8IG5hbWUub25Db21wbGV0ZTtcbiAgICAgIG9wdGlvbnMgPSBuYW1lO1xuICAgICAgdXJsID0gbmFtZS51cmw7XG4gICAgICBuYW1lID0gbmFtZS5uYW1lIHx8IG5hbWUua2V5IHx8IG5hbWUudXJsO1xuICAgIH0gLy8gY2FzZSB3aGVyZSBubyBuYW1lIGlzIHBhc3NlZCBzaGlmdCBhbGwgYXJncyBvdmVyIGJ5IG9uZS5cblxuXG4gICAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICBjYiA9IG9wdGlvbnM7XG4gICAgICBvcHRpb25zID0gdXJsO1xuICAgICAgdXJsID0gbmFtZTtcbiAgICB9IC8vIG5vdyB0aGF0IHdlIHNoaWZ0ZWQgbWFrZSBzdXJlIHdlIGhhdmUgYSBwcm9wZXIgdXJsLlxuXG5cbiAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXJsIHBhc3NlZCB0byBhZGQgcmVzb3VyY2UgdG8gbG9hZGVyLicpO1xuICAgIH0gLy8gb3B0aW9ucyBhcmUgb3B0aW9uYWwgc28gcGVvcGxlIG1pZ2h0IHBhc3MgYSBmdW5jdGlvbiBhbmQgbm8gb3B0aW9uc1xuXG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNiID0gb3B0aW9ucztcbiAgICAgIG9wdGlvbnMgPSBudWxsO1xuICAgIH0gLy8gaWYgbG9hZGluZyBhbHJlYWR5IHlvdSBjYW4gb25seSBhZGQgcmVzb3VyY2VzIHRoYXQgaGF2ZSBhIHBhcmVudC5cblxuXG4gICAgaWYgKHRoaXMubG9hZGluZyAmJiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMucGFyZW50UmVzb3VyY2UpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhZGQgcmVzb3VyY2VzIHdoaWxlIHRoZSBsb2FkZXIgaXMgcnVubmluZy4nKTtcbiAgICB9IC8vIGNoZWNrIGlmIHJlc291cmNlIGFscmVhZHkgZXhpc3RzLlxuXG5cbiAgICBpZiAodGhpcy5yZXNvdXJjZXNbbmFtZV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlc291cmNlIG5hbWVkIFxcXCJcIiArIG5hbWUgKyBcIlxcXCIgYWxyZWFkeSBleGlzdHMuXCIpO1xuICAgIH0gLy8gYWRkIGJhc2UgdXJsIGlmIHRoaXMgaXNuJ3QgYW4gYWJzb2x1dGUgdXJsXG5cblxuICAgIHVybCA9IHRoaXMuX3ByZXBhcmVVcmwodXJsKTsgLy8gY3JlYXRlIHRoZSBzdG9yZSB0aGUgcmVzb3VyY2VcblxuICAgIHRoaXMucmVzb3VyY2VzW25hbWVdID0gbmV3IFJlc291cmNlKG5hbWUsIHVybCwgb3B0aW9ucyk7XG5cbiAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLnJlc291cmNlc1tuYW1lXS5vbkFmdGVyTWlkZGxld2FyZS5vbmNlKGNiKTtcbiAgICB9IC8vIGlmIGFjdGl2ZWx5IGxvYWRpbmcsIG1ha2Ugc3VyZSB0byBhZGp1c3QgcHJvZ3Jlc3MgY2h1bmtzIGZvciB0aGF0IHBhcmVudCBhbmQgaXRzIGNoaWxkcmVuXG5cblxuICAgIGlmICh0aGlzLmxvYWRpbmcpIHtcbiAgICAgIHZhciBwYXJlbnQgPSBvcHRpb25zLnBhcmVudFJlc291cmNlO1xuICAgICAgdmFyIGluY29tcGxldGVDaGlsZHJlbiA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoOyArK19pMikge1xuICAgICAgICBpZiAoIXBhcmVudC5jaGlsZHJlbltfaTJdLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICBpbmNvbXBsZXRlQ2hpbGRyZW4ucHVzaChwYXJlbnQuY2hpbGRyZW5bX2kyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGZ1bGxDaHVuayA9IHBhcmVudC5wcm9ncmVzc0NodW5rICogKGluY29tcGxldGVDaGlsZHJlbi5sZW5ndGggKyAxKTsgLy8gKzEgZm9yIHBhcmVudFxuXG4gICAgICB2YXIgZWFjaENodW5rID0gZnVsbENodW5rIC8gKGluY29tcGxldGVDaGlsZHJlbi5sZW5ndGggKyAyKTsgLy8gKzIgZm9yIHBhcmVudCAmIG5ldyBjaGlsZFxuXG4gICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaCh0aGlzLnJlc291cmNlc1tuYW1lXSk7XG4gICAgICBwYXJlbnQucHJvZ3Jlc3NDaHVuayA9IGVhY2hDaHVuaztcblxuICAgICAgZm9yICh2YXIgX2kzID0gMDsgX2kzIDwgaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aDsgKytfaTMpIHtcbiAgICAgICAgaW5jb21wbGV0ZUNoaWxkcmVuW19pM10ucHJvZ3Jlc3NDaHVuayA9IGVhY2hDaHVuaztcbiAgICAgIH1cblxuICAgICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0ucHJvZ3Jlc3NDaHVuayA9IGVhY2hDaHVuaztcbiAgICB9IC8vIGFkZCB0aGUgcmVzb3VyY2UgdG8gdGhlIHF1ZXVlXG5cblxuICAgIHRoaXMuX3F1ZXVlLnB1c2godGhpcy5yZXNvdXJjZXNbbmFtZV0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSByZXF1aXJlLWpzZG9jLHZhbGlkLWpzZG9jICovXG5cbiAgLyoqXG4gICAqIFNldHMgdXAgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gKmJlZm9yZSogdGhlXG4gICAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnByZSA9IGZ1bmN0aW9uIHByZShmbikge1xuICAgIHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYWZ0ZXIqIHRoZVxuICAgKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by51c2UgPSBmdW5jdGlvbiB1c2UoZm4pIHtcbiAgICB0aGlzLl9hZnRlck1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogUmVzZXRzIHRoZSBxdWV1ZSBvZiB0aGUgbG9hZGVyIHRvIHByZXBhcmUgZm9yIGEgbmV3IGxvYWQuXG4gICAqXG4gICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuXG4gICAgdGhpcy5fcXVldWUua2lsbCgpO1xuXG4gICAgdGhpcy5fcXVldWUucGF1c2UoKTsgLy8gYWJvcnQgYWxsIHJlc291cmNlIGxvYWRzXG5cblxuICAgIGZvciAodmFyIGsgaW4gdGhpcy5yZXNvdXJjZXMpIHtcbiAgICAgIHZhciByZXMgPSB0aGlzLnJlc291cmNlc1trXTtcblxuICAgICAgaWYgKHJlcy5fb25Mb2FkQmluZGluZykge1xuICAgICAgICByZXMuX29uTG9hZEJpbmRpbmcuZGV0YWNoKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXMuaXNMb2FkaW5nKSB7XG4gICAgICAgIHJlcy5hYm9ydCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucmVzb3VyY2VzID0ge307XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFN0YXJ0cyBsb2FkaW5nIHRoZSBxdWV1ZWQgcmVzb3VyY2VzLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2JdIC0gT3B0aW9uYWwgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGJvdW5kIHRvIHRoZSBgY29tcGxldGVgIGV2ZW50LlxuICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ubG9hZCA9IGZ1bmN0aW9uIGxvYWQoY2IpIHtcbiAgICAvLyByZWdpc3RlciBjb21wbGV0ZSBjYWxsYmFjayBpZiB0aGV5IHBhc3Mgb25lXG4gICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vbkNvbXBsZXRlLm9uY2UoY2IpO1xuICAgIH0gLy8gaWYgdGhlIHF1ZXVlIGhhcyBhbHJlYWR5IHN0YXJ0ZWQgd2UgYXJlIGRvbmUgaGVyZVxuXG5cbiAgICBpZiAodGhpcy5sb2FkaW5nKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcXVldWUuaWRsZSgpKSB7XG4gICAgICB0aGlzLl9vblN0YXJ0KCk7XG5cbiAgICAgIHRoaXMuX29uQ29tcGxldGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZGlzdHJpYnV0ZSBwcm9ncmVzcyBjaHVua3NcbiAgICAgIHZhciBudW1UYXNrcyA9IHRoaXMuX3F1ZXVlLl90YXNrcy5sZW5ndGg7XG4gICAgICB2YXIgY2h1bmsgPSBNQVhfUFJPR1JFU1MgLyBudW1UYXNrcztcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9xdWV1ZS5fdGFza3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdGhpcy5fcXVldWUuX3Rhc2tzW2ldLmRhdGEucHJvZ3Jlc3NDaHVuayA9IGNodW5rO1xuICAgICAgfSAvLyBub3RpZnkgd2UgYXJlIHN0YXJ0aW5nXG5cblxuICAgICAgdGhpcy5fb25TdGFydCgpOyAvLyBzdGFydCBsb2FkaW5nXG5cblxuICAgICAgdGhpcy5fcXVldWUucmVzdW1lKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgKlxuICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDEwXG4gICAqL1xuICA7XG5cbiAgLyoqXG4gICAqIFByZXBhcmVzIGEgdXJsIGZvciB1c2FnZSBiYXNlZCBvbiB0aGUgY29uZmlndXJhdGlvbiBvZiB0aGlzIG9iamVjdFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byBwcmVwYXJlLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBwcmVwYXJlZCB1cmwuXG4gICAqL1xuICBfcHJvdG8uX3ByZXBhcmVVcmwgPSBmdW5jdGlvbiBfcHJlcGFyZVVybCh1cmwpIHtcbiAgICB2YXIgcGFyc2VkVXJsID0gcGFyc2VVcmkodXJsLCB7XG4gICAgICBzdHJpY3RNb2RlOiB0cnVlXG4gICAgfSk7XG4gICAgdmFyIHJlc3VsdDsgLy8gYWJzb2x1dGUgdXJsLCBqdXN0IHVzZSBpdCBhcyBpcy5cblxuICAgIGlmIChwYXJzZWRVcmwucHJvdG9jb2wgfHwgIXBhcnNlZFVybC5wYXRoIHx8IHVybC5pbmRleE9mKCcvLycpID09PSAwKSB7XG4gICAgICByZXN1bHQgPSB1cmw7XG4gICAgfSAvLyBpZiBiYXNlVXJsIGRvZXNuJ3QgZW5kIGluIHNsYXNoIGFuZCB1cmwgZG9lc24ndCBzdGFydCB3aXRoIHNsYXNoLCB0aGVuIGFkZCBhIHNsYXNoIGluYmV0d2VlblxuICAgIGVsc2UgaWYgKHRoaXMuYmFzZVVybC5sZW5ndGggJiYgdGhpcy5iYXNlVXJsLmxhc3RJbmRleE9mKCcvJykgIT09IHRoaXMuYmFzZVVybC5sZW5ndGggLSAxICYmIHVybC5jaGFyQXQoMCkgIT09ICcvJykge1xuICAgICAgICByZXN1bHQgPSB0aGlzLmJhc2VVcmwgKyBcIi9cIiArIHVybDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuYmFzZVVybCArIHVybDtcbiAgICAgIH0gLy8gaWYgd2UgbmVlZCB0byBhZGQgYSBkZWZhdWx0IHF1ZXJ5c3RyaW5nLCB0aGVyZSBpcyBhIGJpdCBtb3JlIHdvcmtcblxuXG4gICAgaWYgKHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nKSB7XG4gICAgICB2YXIgaGFzaCA9IHJneEV4dHJhY3RVcmxIYXNoLmV4ZWMocmVzdWx0KVswXTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5zdWJzdHIoMCwgcmVzdWx0Lmxlbmd0aCAtIGhhc2gubGVuZ3RoKTtcblxuICAgICAgaWYgKHJlc3VsdC5pbmRleE9mKCc/JykgIT09IC0xKSB7XG4gICAgICAgIHJlc3VsdCArPSBcIiZcIiArIHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ICs9IFwiP1wiICsgdGhpcy5kZWZhdWx0UXVlcnlTdHJpbmc7XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdCArPSBoYXNoO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLyoqXG4gICAqIExvYWRzIGEgc2luZ2xlIHJlc291cmNlLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0byBsb2FkLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBkZXF1ZXVlIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB3ZSBuZWVkIHRvIGRlcXVldWUgdGhpcyBpdGVtLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fbG9hZFJlc291cmNlID0gZnVuY3Rpb24gX2xvYWRSZXNvdXJjZShyZXNvdXJjZSwgZGVxdWV1ZSkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgcmVzb3VyY2UuX2RlcXVldWUgPSBkZXF1ZXVlOyAvLyBydW4gYmVmb3JlIG1pZGRsZXdhcmVcblxuICAgIGVhY2hTZXJpZXModGhpcy5fYmVmb3JlTWlkZGxld2FyZSwgZnVuY3Rpb24gKGZuLCBuZXh0KSB7XG4gICAgICBmbi5jYWxsKF90aGlzMiwgcmVzb3VyY2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gaWYgdGhlIGJlZm9yZSBtaWRkbGV3YXJlIG1hcmtzIHRoZSByZXNvdXJjZSBhcyBjb21wbGV0ZSxcbiAgICAgICAgLy8gYnJlYWsgYW5kIGRvbid0IHByb2Nlc3MgYW55IG1vcmUgYmVmb3JlIG1pZGRsZXdhcmVcbiAgICAgICAgbmV4dChyZXNvdXJjZS5pc0NvbXBsZXRlID8ge30gOiBudWxsKTtcbiAgICAgIH0pO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChyZXNvdXJjZS5pc0NvbXBsZXRlKSB7XG4gICAgICAgIF90aGlzMi5fb25Mb2FkKHJlc291cmNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc291cmNlLl9vbkxvYWRCaW5kaW5nID0gcmVzb3VyY2Uub25Db21wbGV0ZS5vbmNlKF90aGlzMi5fb25Mb2FkLCBfdGhpczIpO1xuICAgICAgICByZXNvdXJjZS5sb2FkKCk7XG4gICAgICB9XG4gICAgfSwgdHJ1ZSk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBvbmNlIGxvYWRpbmcgaGFzIHN0YXJ0ZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9vblN0YXJ0ID0gZnVuY3Rpb24gX29uU3RhcnQoKSB7XG4gICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcbiAgICB0aGlzLm9uU3RhcnQuZGlzcGF0Y2godGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBvbmNlIGVhY2ggcmVzb3VyY2UgaGFzIGxvYWRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX29uQ29tcGxldGUgPSBmdW5jdGlvbiBfb25Db21wbGV0ZSgpIHtcbiAgICB0aGlzLnByb2dyZXNzID0gTUFYX1BST0dSRVNTO1xuICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgIHRoaXMub25Db21wbGV0ZS5kaXNwYXRjaCh0aGlzLCB0aGlzLnJlc291cmNlcyk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBlYWNoIHRpbWUgYSByZXNvdXJjZXMgaXMgbG9hZGVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHdhcyBsb2FkZWRcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX29uTG9hZCA9IGZ1bmN0aW9uIF9vbkxvYWQocmVzb3VyY2UpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHJlc291cmNlLl9vbkxvYWRCaW5kaW5nID0gbnVsbDsgLy8gcmVtb3ZlIHRoaXMgcmVzb3VyY2UgZnJvbSB0aGUgYXN5bmMgcXVldWUsIGFuZCBhZGQgaXQgdG8gb3VyIGxpc3Qgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIGJlaW5nIHBhcnNlZFxuXG4gICAgdGhpcy5fcmVzb3VyY2VzUGFyc2luZy5wdXNoKHJlc291cmNlKTtcblxuICAgIHJlc291cmNlLl9kZXF1ZXVlKCk7IC8vIHJ1biBhbGwgdGhlIGFmdGVyIG1pZGRsZXdhcmUgZm9yIHRoaXMgcmVzb3VyY2VcblxuXG4gICAgZWFjaFNlcmllcyh0aGlzLl9hZnRlck1pZGRsZXdhcmUsIGZ1bmN0aW9uIChmbiwgbmV4dCkge1xuICAgICAgZm4uY2FsbChfdGhpczMsIHJlc291cmNlLCBuZXh0KTtcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXNvdXJjZS5vbkFmdGVyTWlkZGxld2FyZS5kaXNwYXRjaChyZXNvdXJjZSk7XG4gICAgICBfdGhpczMucHJvZ3Jlc3MgPSBNYXRoLm1pbihNQVhfUFJPR1JFU1MsIF90aGlzMy5wcm9ncmVzcyArIHJlc291cmNlLnByb2dyZXNzQ2h1bmspO1xuXG4gICAgICBfdGhpczMub25Qcm9ncmVzcy5kaXNwYXRjaChfdGhpczMsIHJlc291cmNlKTtcblxuICAgICAgaWYgKHJlc291cmNlLmVycm9yKSB7XG4gICAgICAgIF90aGlzMy5vbkVycm9yLmRpc3BhdGNoKHJlc291cmNlLmVycm9yLCBfdGhpczMsIHJlc291cmNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzMy5vbkxvYWQuZGlzcGF0Y2goX3RoaXMzLCByZXNvdXJjZSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzMy5fcmVzb3VyY2VzUGFyc2luZy5zcGxpY2UoX3RoaXMzLl9yZXNvdXJjZXNQYXJzaW5nLmluZGV4T2YocmVzb3VyY2UpLCAxKTsgLy8gZG8gY29tcGxldGlvbiBjaGVja1xuXG5cbiAgICAgIGlmIChfdGhpczMuX3F1ZXVlLmlkbGUoKSAmJiBfdGhpczMuX3Jlc291cmNlc1BhcnNpbmcubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIF90aGlzMy5fb25Db21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH0sIHRydWUpO1xuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhMb2FkZXIsIFt7XG4gICAga2V5OiBcImNvbmN1cnJlbmN5XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcXVldWUuY29uY3VycmVuY3k7XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChjb25jdXJyZW5jeSkge1xuICAgICAgdGhpcy5fcXVldWUuY29uY3VycmVuY3kgPSBjb25jdXJyZW5jeTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTG9hZGVyO1xufSgpO1xuLyoqXG4gKiBBIGRlZmF1bHQgYXJyYXkgb2YgbWlkZGxld2FyZSB0byBydW4gYmVmb3JlIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAqIEVhY2ggb2YgdGhlc2UgbWlkZGxld2FyZXMgYXJlIGFkZGVkIHRvIGFueSBuZXcgTG9hZGVyIGluc3RhbmNlcyB3aGVuIHRoZXkgYXJlIGNyZWF0ZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gKi9cblxuXG5Mb2FkZXIuX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlID0gW107XG4vKipcbiAqIEEgZGVmYXVsdCBhcnJheSBvZiBtaWRkbGV3YXJlIHRvIHJ1biBhZnRlciBsb2FkaW5nIGVhY2ggcmVzb3VyY2UuXG4gKiBFYWNoIG9mIHRoZXNlIG1pZGRsZXdhcmVzIGFyZSBhZGRlZCB0byBhbnkgbmV3IExvYWRlciBpbnN0YW5jZXMgd2hlbiB0aGV5IGFyZSBjcmVhdGVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICovXG5cbkxvYWRlci5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZSA9IFtdO1xuLyoqXG4gKiBTZXRzIHVwIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuICpiZWZvcmUqIHRoZVxuICogcmVzb3VyY2UgaXMgbG9hZGVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gKiBAcmV0dXJuIHtMb2FkZXJ9IFJldHVybnMgaXRzZWxmLlxuICovXG5cbkxvYWRlci5wcmUgPSBmdW5jdGlvbiBMb2FkZXJQcmVTdGF0aWMoZm4pIHtcbiAgTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICByZXR1cm4gTG9hZGVyO1xufTtcbi8qKlxuICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYWZ0ZXIqIHRoZVxuICogcmVzb3VyY2UgaXMgbG9hZGVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gKiBAcmV0dXJuIHtMb2FkZXJ9IFJldHVybnMgaXRzZWxmLlxuICovXG5cblxuTG9hZGVyLnVzZSA9IGZ1bmN0aW9uIExvYWRlclVzZVN0YXRpYyhmbikge1xuICBMb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgcmV0dXJuIExvYWRlcjtcbn07XG5cbmV4cG9ydCB7IExvYWRlciwgUmVzb3VyY2UsIGFzeW5jLCBlbmNvZGVCaW5hcnksIGluZGV4IGFzIG1pZGRsZXdhcmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc291cmNlLWxvYWRlci5lc20uanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2xvYWRlcnMgLSB2Ni4wLjBcbiAqIENvbXBpbGVkIFR1ZSwgMDIgTWFyIDIwMjEgMjE6NDU6MDMgVVRDXG4gKlxuICogQHBpeGkvbG9hZGVycyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFJlc291cmNlLCBtaWRkbGV3YXJlLCBMb2FkZXIgYXMgTG9hZGVyJDEgfSBmcm9tICdyZXNvdXJjZS1sb2FkZXInO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBMb2FkZXIgcGx1Z2luIGZvciBoYW5kbGluZyBUZXh0dXJlIHJlc291cmNlcy5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIFBJWEkuSUxvYWRlclBsdWdpblxuICovXG52YXIgVGV4dHVyZUxvYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUZXh0dXJlTG9hZGVyKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgU1ZHIGVsZW1lbnRzIGEgdGV4dCwgcmVuZGVyIHdpdGggU1ZHUmVzb3VyY2UuXG4gICAgICovXG4gICAgVGV4dHVyZUxvYWRlci5hZGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIFJlc291cmNlLnNldEV4dGVuc2lvbkxvYWRUeXBlKCdzdmcnLCBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSKTtcbiAgICAgICAgUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uWGhyVHlwZSgnc3ZnJywgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgYSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAgICAgKi9cbiAgICBUZXh0dXJlTG9hZGVyLnVzZSA9IGZ1bmN0aW9uIChyZXNvdXJjZSwgbmV4dCkge1xuICAgICAgICAvLyBjcmVhdGUgYSBuZXcgdGV4dHVyZSBpZiB0aGUgZGF0YSBpcyBhbiBJbWFnZSBvYmplY3RcbiAgICAgICAgaWYgKHJlc291cmNlLmRhdGEgJiYgKHJlc291cmNlLnR5cGUgPT09IFJlc291cmNlLlRZUEUuSU1BR0UgfHwgcmVzb3VyY2UuZXh0ZW5zaW9uID09PSAnc3ZnJykpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gcmVzb3VyY2UuZGF0YSwgdXJsID0gcmVzb3VyY2UudXJsLCBuYW1lID0gcmVzb3VyY2UubmFtZSwgbWV0YWRhdGEgPSByZXNvdXJjZS5tZXRhZGF0YTtcbiAgICAgICAgICAgIFRleHR1cmUuZnJvbUxvYWRlcihkYXRhLCB1cmwsIG5hbWUsIG1ldGFkYXRhKS50aGVuKGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2UudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBoYW5kbGUgZXJyb3JzIGluIFRleHR1cmUuZnJvbUxvYWRlclxuICAgICAgICAgICAgICAgIC8vIHNvIHdlIGNhbiBwYXNzIHRoZW0gdG8gdGhlIExvYWRlclxuICAgICAgICAgICAgICAgIC5jYXRjaChuZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRleHR1cmVMb2FkZXI7XG59KCkpO1xuXG4vKipcbiAqIFRoZSBuZXcgbG9hZGVyLCBleHRlbmRzIFJlc291cmNlIExvYWRlciBieSBDaGFkIEVuZ2xlcjogaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBsb2FkZXIgPSBQSVhJLkxvYWRlci5zaGFyZWQ7IC8vIFBpeGlKUyBleHBvc2VzIGEgcHJlbWFkZSBpbnN0YW5jZSBmb3IgeW91IHRvIHVzZS5cbiAqIC8vb3JcbiAqIGNvbnN0IGxvYWRlciA9IG5ldyBQSVhJLkxvYWRlcigpOyAvLyB5b3UgY2FuIGFsc28gY3JlYXRlIHlvdXIgb3duIGlmIHlvdSB3YW50XG4gKlxuICogY29uc3Qgc3ByaXRlcyA9IHt9O1xuICpcbiAqIC8vIENoYWluYWJsZSBgYWRkYCB0byBlbnF1ZXVlIGEgcmVzb3VyY2VcbiAqIGxvYWRlci5hZGQoJ2J1bm55JywgJ2RhdGEvYnVubnkucG5nJylcbiAqICAgICAgIC5hZGQoJ3NwYWNlc2hpcCcsICdhc3NldHMvc3ByaXRlc2hlZXQuanNvbicpO1xuICogbG9hZGVyLmFkZCgnc2NvcmVGb250JywgJ2Fzc2V0cy9zY29yZS5mbnQnKTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYHByZWAgdG8gYWRkIGEgbWlkZGxld2FyZSB0aGF0IHJ1bnMgZm9yIGVhY2ggcmVzb3VyY2UsICpiZWZvcmUqIGxvYWRpbmcgdGhhdCByZXNvdXJjZS5cbiAqIC8vIFRoaXMgaXMgdXNlZnVsIHRvIGltcGxlbWVudCBjdXN0b20gY2FjaGluZyBtb2R1bGVzICh1c2luZyBmaWxlc3lzdGVtLCBpbmRleGVkZGIsIG1lbW9yeSwgZXRjKS5cbiAqIGxvYWRlci5wcmUoY2FjaGluZ01pZGRsZXdhcmUpO1xuICpcbiAqIC8vIENoYWluYWJsZSBgdXNlYCB0byBhZGQgYSBtaWRkbGV3YXJlIHRoYXQgcnVucyBmb3IgZWFjaCByZXNvdXJjZSwgKmFmdGVyKiBsb2FkaW5nIHRoYXQgcmVzb3VyY2UuXG4gKiAvLyBUaGlzIGlzIHVzZWZ1bCB0byBpbXBsZW1lbnQgY3VzdG9tIHBhcnNpbmcgbW9kdWxlcyAobGlrZSBzcHJpdGVzaGVldCBwYXJzZXJzLCBzcGluZSBwYXJzZXIsIGV0YykuXG4gKiBsb2FkZXIudXNlKHBhcnNpbmdNaWRkbGV3YXJlKTtcbiAqXG4gKiAvLyBUaGUgYGxvYWRgIG1ldGhvZCBsb2FkcyB0aGUgcXVldWUgb2YgcmVzb3VyY2VzLCBhbmQgY2FsbHMgdGhlIHBhc3NlZCBpbiBjYWxsYmFjayBjYWxsZWQgb25jZSBhbGxcbiAqIC8vIHJlc291cmNlcyBoYXZlIGxvYWRlZC5cbiAqIGxvYWRlci5sb2FkKChsb2FkZXIsIHJlc291cmNlcykgPT4ge1xuICogICAgIC8vIHJlc291cmNlcyBpcyBhbiBvYmplY3Qgd2hlcmUgdGhlIGtleSBpcyB0aGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgbG9hZGVkIGFuZCB0aGUgdmFsdWUgaXMgdGhlIHJlc291cmNlIG9iamVjdC5cbiAqICAgICAvLyBUaGV5IGhhdmUgYSBjb3VwbGUgZGVmYXVsdCBwcm9wZXJ0aWVzOlxuICogICAgIC8vIC0gYHVybGA6IFRoZSBVUkwgdGhhdCB0aGUgcmVzb3VyY2Ugd2FzIGxvYWRlZCBmcm9tXG4gKiAgICAgLy8gLSBgZXJyb3JgOiBUaGUgZXJyb3IgdGhhdCBoYXBwZW5lZCB3aGVuIHRyeWluZyB0byBsb2FkIChpZiBhbnkpXG4gKiAgICAgLy8gLSBgZGF0YWA6IFRoZSByYXcgZGF0YSB0aGF0IHdhcyBsb2FkZWRcbiAqICAgICAvLyBhbHNvIG1heSBjb250YWluIG90aGVyIHByb3BlcnRpZXMgYmFzZWQgb24gdGhlIG1pZGRsZXdhcmUgdGhhdCBydW5zLlxuICogICAgIHNwcml0ZXMuYnVubnkgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUocmVzb3VyY2VzLmJ1bm55LnRleHR1cmUpO1xuICogICAgIHNwcml0ZXMuc3BhY2VzaGlwID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5zcGFjZXNoaXAudGV4dHVyZSk7XG4gKiAgICAgc3ByaXRlcy5zY29yZUZvbnQgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUocmVzb3VyY2VzLnNjb3JlRm9udC50ZXh0dXJlKTtcbiAqIH0pO1xuICpcbiAqIC8vIHRocm91Z2hvdXQgdGhlIHByb2Nlc3MgbXVsdGlwbGUgc2lnbmFscyBjYW4gYmUgZGlzcGF0Y2hlZC5cbiAqIGxvYWRlci5vblByb2dyZXNzLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHBlciBsb2FkZWQvZXJyb3JlZCBmaWxlXG4gKiBsb2FkZXIub25FcnJvci5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgZXJyb3JlZCBmaWxlXG4gKiBsb2FkZXIub25Mb2FkLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHBlciBsb2FkZWQgZmlsZVxuICogbG9hZGVyLm9uQ29tcGxldGUuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2Ugd2hlbiB0aGUgcXVldWVkIHJlc291cmNlcyBhbGwgbG9hZC5cbiAqIGBgYFxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuICpcbiAqIEBjbGFzcyBMb2FkZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBMb2FkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKExvYWRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Jhc2VVcmw9JyddIC0gVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbmN5PTEwXSAtIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvYWRlcihiYXNlVXJsLCBjb25jdXJyZW5jeSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBiYXNlVXJsLCBjb25jdXJyZW5jeSkgfHwgdGhpcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBMb2FkZXIuX3BsdWdpbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwbHVnaW4gPSBMb2FkZXIuX3BsdWdpbnNbaV07XG4gICAgICAgICAgICB2YXIgcHJlID0gcGx1Z2luLnByZSwgdXNlID0gcGx1Z2luLnVzZTtcbiAgICAgICAgICAgIGlmIChwcmUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcmUocHJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1c2UpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy51c2UodXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhpcyBsb2FkZXIgY2Fubm90IGJlIGRlc3Ryb3llZC5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9wcm90ZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSBsb2FkZXIsIHJlbW92ZXMgcmVmZXJlbmNlcy5cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gICAgICogQG1ldGhvZCBkZXN0cm95XG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIExvYWRlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wcm90ZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExvYWRlciwgXCJzaGFyZWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBwcmVtYWRlIGluc3RhbmNlIG9mIHRoZSBsb2FkZXIgdGhhdCBjYW4gYmUgdXNlZCB0byBsb2FkIHJlc291cmNlcy5cbiAgICAgICAgICogQG5hbWUgc2hhcmVkXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkxvYWRlcn1cbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNoYXJlZCA9IExvYWRlci5fc2hhcmVkO1xuICAgICAgICAgICAgaWYgKCFzaGFyZWQpIHtcbiAgICAgICAgICAgICAgICBzaGFyZWQgPSBuZXcgTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgc2hhcmVkLl9wcm90ZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIExvYWRlci5fc2hhcmVkID0gc2hhcmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNoYXJlZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSBMb2FkZXIgcGx1Z2luIGZvciB0aGUgZ2xvYmFsIHNoYXJlZCBsb2FkZXIgYW5kIGFsbFxuICAgICAqIG5ldyBMb2FkZXIgaW5zdGFuY2VzIGNyZWF0ZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1ldGhvZCByZWdpc3RlclBsdWdpblxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICAgICAqIEBwYXJhbSB7UElYSS5JTG9hZGVyUGx1Z2lufSBwbHVnaW4gLSBUaGUgcGx1Z2luIHRvIGFkZFxuICAgICAqIEByZXR1cm4ge1BJWEkuTG9hZGVyfSBSZWZlcmVuY2UgdG8gUElYSS5Mb2FkZXIgZm9yIGNoYWluaW5nXG4gICAgICovXG4gICAgTG9hZGVyLnJlZ2lzdGVyUGx1Z2luID0gZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICBMb2FkZXIuX3BsdWdpbnMucHVzaChwbHVnaW4pO1xuICAgICAgICBpZiAocGx1Z2luLmFkZCkge1xuICAgICAgICAgICAgcGx1Z2luLmFkZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBMb2FkZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGFsbCBpbnN0YWxsZWQgYHVzZWAgbWlkZGxld2FyZSBmb3IgTG9hZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge0FycmF5PFBJWEkuSUxvYWRlclBsdWdpbj59IF9wbHVnaW5zXG4gICAgICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBMb2FkZXIuX3BsdWdpbnMgPSBbXTtcbiAgICByZXR1cm4gTG9hZGVyO1xufShMb2FkZXIkMSkpO1xuLy8gcGFyc2UgYW55IGJsb2IgaW50byBtb3JlIHVzYWJsZSBvYmplY3RzIChlLmcuIEltYWdlKVxuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKHsgdXNlOiBtaWRkbGV3YXJlLnBhcnNpbmcgfSk7XG4vLyBwYXJzZSBhbnkgSW1hZ2Ugb2JqZWN0cyBpbnRvIHRleHR1cmVzXG5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oVGV4dHVyZUxvYWRlcik7XG4vKipcbiAqIFBsdWdpbiB0byBiZSBpbnN0YWxsZWQgZm9yIGhhbmRsaW5nIHNwZWNpZmljIExvYWRlciByZXNvdXJjZXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElMb2FkZXJQbHVnaW5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IFthZGRdIC0gRnVuY3Rpb24gdG8gY2FsbCBpbW1lZGlhdGUgYWZ0ZXIgcmVnaXN0ZXJpbmcgcGx1Z2luLlxuICogQHByb3BlcnR5IHtQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlfSBbcHJlXSAtIE1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcnVuIGJlZm9yZSBsb2FkLCB0aGVcbiAqICAgICAgICAgICBhcmd1bWVudHMgZm9yIHRoaXMgYXJlIGAocmVzb3VyY2UsIG5leHQpYFxuICogQHByb3BlcnR5IHtQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlfSBbdXNlXSAtIE1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcnVuIGFmdGVyIGxvYWQsIHRoZVxuICogICAgICAgICAgIGFyZ3VtZW50cyBmb3IgdGhpcyBhcmUgYChyZXNvdXJjZSwgbmV4dClgXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQ2FsbGJhY2tJRFxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICogQHR5cGVkZWYge2Z1bmN0aW9ufSBJU2lnbmFsQ2FsbGJhY2tcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gQ2FsbGJhY2sgZnVuY3Rpb25cbiAqIEBwYXJhbSB7b2JqZWN0fSBbY29udGV4dF0gLSBDb250ZXh0XG4gKiBAcmV0dXJucyB7SUNhbGxiYWNrSUR9IC0gQ2FsbGJhY2tJRFxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICogQHR5cGVkZWYge2Z1bmN0aW9ufSBJU2lnbmFsRGV0YWNoXG4gKiBAcGFyYW0ge0lDYWxsYmFja0lEfSBpZCAtIENhbGxiYWNrSUQgcmV0dXJuZWQgYnkgYGFkZGAvYG9uY2VgIG1ldGhvZHNcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElMb2FkZXJTaWduYWxcbiAqIEBwcm9wZXJ0eSB7SVNpZ25hbENhbGxiYWNrfSBhZGQgLSBSZWdpc3RlciBjYWxsYmFja1xuICogQHByb3BlcnR5IHtJU2lnbmFsQ2FsbGJhY2t9IG9uY2UgLSBSZWdpc3RlciBvbmVzaG90IGNhbGxiYWNrXG4gKiBAcHJvcGVydHkge0lTaWduYWxEZXRhY2h9IGRldGFjaCAtIERldGFjaCBzcGVjaWZpYyBjYWxsYmFjayBieSBJRFxuICovXG4vKipcbiAqIENhbGxiYWNrXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbn0gbG9hZGVyTWlkZGxld2FyZVxuICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dFxuICovXG4vKipcbiAqIERpc3BhdGNoZWQgd2hlbiB0aGUgbG9hZGVyIGJlZ2lucyB0byBsb2FkaW5nIHByb2Nlc3MuXG4gKiBAbmFtZSBvblN0YXJ0XG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gKiBAbWVtYmVyIHtQSVhJLkxvYWRlci5JTG9hZGVyU2lnbmFsfVxuICovXG4vKipcbiAqIERpc3BhdGNoZWQgb25jZSBwZXIgbG9hZGVkIG9yIGVycm9yZWQgcmVzb3VyY2UuXG4gKiBAbmFtZSBvblByb2dyZXNzXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gKiBAbWVtYmVyIHtQSVhJLkxvYWRlci5JTG9hZGVyU2lnbmFsfSBvblByb2dyZXNzXG4gKi9cbi8qKlxuICogRGlzcGF0Y2hlZCBvbmNlIHBlciBlcnJvcmVkIHJlc291cmNlLlxuICogQG5hbWUgb25FcnJvclxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyI1xuICogQG1lbWJlciB7UElYSS5Mb2FkZXIuSUxvYWRlclNpZ25hbH1cbiAqL1xuLyoqXG4gKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGxvYWRlZCByZXNvdXJjZS5cbiAqIEBuYW1lIG9uTG9hZFxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyI1xuICogQG1lbWJlciB7UElYSS5Mb2FkZXIuSUxvYWRlclNpZ25hbH1cbiAqL1xuLyoqXG4gKiBEaXNwYXRjaGVkIHdoZW4gY29tcGxldGVseSBsb2FkZWQgYWxsIHJlc291cmNlcy5cbiAqIEBuYW1lIG9uQ29tcGxldGVcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBtZW1iZXIge1BJWEkuTG9hZGVyLklMb2FkZXJTaWduYWx9XG4gKi9cblxuLyoqXG4gKiBBcHBsaWNhdGlvbiBwbHVnaW4gZm9yIHN1cHBvcnRpbmcgbG9hZGVyIG9wdGlvbi4gSW5zdGFsbGluZyB0aGUgTG9hZGVyUGx1Z2luXG4gKiBpcyBub3QgbmVjZXNzYXJ5IGlmIHVzaW5nICoqcGl4aS5qcyoqIG9yICoqcGl4aS5qcy1sZWdhY3kqKi5cbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQge0FwcExvYWRlclBsdWdpbn0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG4gKiBpbXBvcnQge0FwcGxpY2F0aW9ufSBmcm9tICdAcGl4aS9hcHAnO1xuICogQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oQXBwTG9hZGVyUGx1Z2luKTtcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEFwcExvYWRlclBsdWdpbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBcHBMb2FkZXJQbHVnaW4oKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCBvbiBhcHBsaWNhdGlvbiBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBcHBMb2FkZXJQbHVnaW4uaW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHNoYXJlZExvYWRlcjogZmFsc2UsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTG9hZGVyIGluc3RhbmNlIHRvIGhlbHAgd2l0aCBhc3NldCBsb2FkaW5nLlxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvbiNcbiAgICAgICAgICogQHR5cGUge1BJWEkuTG9hZGVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubG9hZGVyID0gb3B0aW9ucy5zaGFyZWRMb2FkZXIgPyBMb2FkZXIuc2hhcmVkIDogbmV3IExvYWRlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gYXBwbGljYXRpb24gZGVzdHJveWVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFwcExvYWRlclBsdWdpbi5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5sb2FkZXIpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMubG9hZGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFwcExvYWRlclBsdWdpbjtcbn0oKSk7XG5cbi8qKlxuKiBSZWZlcmVuY2UgdG8gKip7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlcn0qKidzIFJlc291cmNlIGNsYXNzLlxuKiBAc2VlIGh0dHBzOi8vZW5nbGVyY2ouZ2l0aHViLmlvL3Jlc291cmNlLWxvYWRlci9jbGFzc2VzL3Jlc291cmNlLmh0bWxcbiogQGNsYXNzIExvYWRlclJlc291cmNlXG4qIEBtZW1iZXJvZiBQSVhJXG4qL1xudmFyIExvYWRlclJlc291cmNlID0gUmVzb3VyY2U7XG5cbmV4cG9ydCB7IEFwcExvYWRlclBsdWdpbiwgTG9hZGVyLCBMb2FkZXJSZXNvdXJjZSwgVGV4dHVyZUxvYWRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9hZGVycy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWF0aCAtIHY2LjAuMFxuICogQ29tcGlsZWQgVHVlLCAwMiBNYXIgMjAyMSAyMTo0NTowMyBVVENcbiAqXG4gKiBAcGl4aS9tYXRoIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUd28gUGkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlciB7bnVtYmVyfVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBJXzIgPSBNYXRoLlBJICogMjtcbi8qKlxuICogQ29udmVyc2lvbiBmYWN0b3IgZm9yIGNvbnZlcnRpbmcgcmFkaWFucyB0byBkZWdyZWVzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXIge251bWJlcn0gUkFEX1RPX0RFR1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJBRF9UT19ERUcgPSAxODAgLyBNYXRoLlBJO1xuLyoqXG4gKiBDb252ZXJzaW9uIGZhY3RvciBmb3IgY29udmVydGluZyBkZWdyZWVzIHRvIHJhZGlhbnMuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlciB7bnVtYmVyfVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIERFR19UT19SQUQgPSBNYXRoLlBJIC8gMTgwO1xuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBpZGVudGlmeSBzaGFwZXMsIG1haW5seSB0byBwcmV2ZW50IGBpbnN0YW5jZW9mYCBjYWxscy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT0xZIFBvbHlnb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSRUNUIFJlY3RhbmdsZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENJUkMgQ2lyY2xlXG4gKiBAcHJvcGVydHkge251bWJlcn0gRUxJUCBFbGxpcHNlXG4gKiBAcHJvcGVydHkge251bWJlcn0gUlJFQyBSb3VuZGVkIFJlY3RhbmdsZVxuICovXG52YXIgU0hBUEVTO1xuKGZ1bmN0aW9uIChTSEFQRVMpIHtcbiAgICBTSEFQRVNbU0hBUEVTW1wiUE9MWVwiXSA9IDBdID0gXCJQT0xZXCI7XG4gICAgU0hBUEVTW1NIQVBFU1tcIlJFQ1RcIl0gPSAxXSA9IFwiUkVDVFwiO1xuICAgIFNIQVBFU1tTSEFQRVNbXCJDSVJDXCJdID0gMl0gPSBcIkNJUkNcIjtcbiAgICBTSEFQRVNbU0hBUEVTW1wiRUxJUFwiXSA9IDNdID0gXCJFTElQXCI7XG4gICAgU0hBUEVTW1NIQVBFU1tcIlJSRUNcIl0gPSA0XSA9IFwiUlJFQ1wiO1xufSkoU0hBUEVTIHx8IChTSEFQRVMgPSB7fSkpO1xuXG4vKipcbiAqIFNpemUgb2JqZWN0LCBjb250YWlucyB3aWR0aCBhbmQgaGVpZ2h0XG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElTaXplXG4gKiBAcHJvcGVydHkge251bWJlcn0gd2lkdGggLSBXaWR0aCBjb21wb25lbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgY29tcG9uZW50XG4gKi9cbi8qKlxuICogUmVjdGFuZ2xlIG9iamVjdCBpcyBhbiBhcmVhIGRlZmluZWQgYnkgaXRzIHBvc2l0aW9uLCBhcyBpbmRpY2F0ZWQgYnkgaXRzIHRvcC1sZWZ0IGNvcm5lclxuICogcG9pbnQgKHgsIHkpIGFuZCBieSBpdHMgd2lkdGggYW5kIGl0cyBoZWlnaHQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUmVjdGFuZ2xlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIFRoZSBvdmVyYWxsIHdpZHRoIG9mIHRoaXMgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9MF0gLSBUaGUgb3ZlcmFsbCBoZWlnaHQgb2YgdGhpcyByZWN0YW5nbGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgaWYgKHdpZHRoID09PSB2b2lkIDApIHsgd2lkdGggPSAwOyB9XG4gICAgICAgIGlmIChoZWlnaHQgPT09IHZvaWQgMCkgeyBoZWlnaHQgPSAwOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IE51bWJlcih4KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0gTnVtYmVyKHkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gTnVtYmVyKHdpZHRoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBOdW1iZXIoaGVpZ2h0KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUkVDVFxuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBTSEFQRVMuUkVDVDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlY3RhbmdsZS5wcm90b3R5cGUsIFwibGVmdFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLng7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVjdGFuZ2xlLnByb3RvdHlwZSwgXCJyaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSByaWdodCBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy54ICsgdGhpcy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWN0YW5nbGUucHJvdG90eXBlLCBcInRvcFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSB0b3AgZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWN0YW5nbGUucHJvdG90eXBlLCBcImJvdHRvbVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSBib3R0b20gZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueSArIHRoaXMuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlY3RhbmdsZSwgXCJFTVBUWVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNvbnN0YW50IGVtcHR5IHJlY3RhbmdsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBBbiBlbXB0eSByZWN0YW5nbGVcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUoMCwgMCwgMCwgMCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBhIGNvcHkgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqL1xuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgYW5vdGhlciByZWN0YW5nbGUgdG8gdGhpcyBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGNvcHkgZnJvbS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5jb3B5RnJvbSA9IGZ1bmN0aW9uIChyZWN0YW5nbGUpIHtcbiAgICAgICAgdGhpcy54ID0gcmVjdGFuZ2xlLng7XG4gICAgICAgIHRoaXMueSA9IHJlY3RhbmdsZS55O1xuICAgICAgICB0aGlzLndpZHRoID0gcmVjdGFuZ2xlLndpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHJlY3RhbmdsZS5oZWlnaHQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIHRoaXMgcmVjdGFuZ2xlIHRvIGFub3RoZXIgb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBjb3B5IHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGdpdmVuIHBhcmFtZXRlci5cbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmNvcHlUbyA9IGZ1bmN0aW9uIChyZWN0YW5nbGUpIHtcbiAgICAgICAgcmVjdGFuZ2xlLnggPSB0aGlzLng7XG4gICAgICAgIHJlY3RhbmdsZS55ID0gdGhpcy55O1xuICAgICAgICByZWN0YW5nbGUud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICByZWN0YW5nbGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgICAgIHJldHVybiByZWN0YW5nbGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBSZWN0YW5nbGVcbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHggPj0gdGhpcy54ICYmIHggPCB0aGlzLnggKyB0aGlzLndpZHRoKSB7XG4gICAgICAgICAgICBpZiAoeSA+PSB0aGlzLnkgJiYgeSA8IHRoaXMueSArIHRoaXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGFkcyB0aGUgcmVjdGFuZ2xlIG1ha2luZyBpdCBncm93IGluIGFsbCBkaXJlY3Rpb25zLlxuICAgICAqIElmIHBhZGRpbmdZIGlzIG9taXR0ZWQsIGJvdGggcGFkZGluZ1ggYW5kIHBhZGRpbmdZIHdpbGwgYmUgc2V0IHRvIHBhZGRpbmdYLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYWRkaW5nWD0wXSAtIFRoZSBob3Jpem9udGFsIHBhZGRpbmcgYW1vdW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkZGluZ1k9MF0gLSBUaGUgdmVydGljYWwgcGFkZGluZyBhbW91bnQuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUucGFkID0gZnVuY3Rpb24gKHBhZGRpbmdYLCBwYWRkaW5nWSkge1xuICAgICAgICBpZiAocGFkZGluZ1ggPT09IHZvaWQgMCkgeyBwYWRkaW5nWCA9IDA7IH1cbiAgICAgICAgaWYgKHBhZGRpbmdZID09PSB2b2lkIDApIHsgcGFkZGluZ1kgPSBwYWRkaW5nWDsgfVxuICAgICAgICB0aGlzLnggLT0gcGFkZGluZ1g7XG4gICAgICAgIHRoaXMueSAtPSBwYWRkaW5nWTtcbiAgICAgICAgdGhpcy53aWR0aCArPSBwYWRkaW5nWCAqIDI7XG4gICAgICAgIHRoaXMuaGVpZ2h0ICs9IHBhZGRpbmdZICogMjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaXRzIHRoaXMgcmVjdGFuZ2xlIGFyb3VuZCB0aGUgcGFzc2VkIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gZml0LlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmZpdCA9IGZ1bmN0aW9uIChyZWN0YW5nbGUpIHtcbiAgICAgICAgdmFyIHgxID0gTWF0aC5tYXgodGhpcy54LCByZWN0YW5nbGUueCk7XG4gICAgICAgIHZhciB4MiA9IE1hdGgubWluKHRoaXMueCArIHRoaXMud2lkdGgsIHJlY3RhbmdsZS54ICsgcmVjdGFuZ2xlLndpZHRoKTtcbiAgICAgICAgdmFyIHkxID0gTWF0aC5tYXgodGhpcy55LCByZWN0YW5nbGUueSk7XG4gICAgICAgIHZhciB5MiA9IE1hdGgubWluKHRoaXMueSArIHRoaXMuaGVpZ2h0LCByZWN0YW5nbGUueSArIHJlY3RhbmdsZS5oZWlnaHQpO1xuICAgICAgICB0aGlzLnggPSB4MTtcbiAgICAgICAgdGhpcy53aWR0aCA9IE1hdGgubWF4KHgyIC0geDEsIDApO1xuICAgICAgICB0aGlzLnkgPSB5MTtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLm1heCh5MiAtIHkxLCAwKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmxhcmdlcyByZWN0YW5nbGUgdGhhdCB3YXkgaXRzIGNvcm5lcnMgbGllIG9uIGdyaWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIHJlc29sdXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Vwcz0wLjAwMV0gLSBwcmVjaXNpb25cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5jZWlsID0gZnVuY3Rpb24gKHJlc29sdXRpb24sIGVwcykge1xuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb24gPSAxOyB9XG4gICAgICAgIGlmIChlcHMgPT09IHZvaWQgMCkgeyBlcHMgPSAwLjAwMTsgfVxuICAgICAgICB2YXIgeDIgPSBNYXRoLmNlaWwoKHRoaXMueCArIHRoaXMud2lkdGggLSBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgeTIgPSBNYXRoLmNlaWwoKHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gZXBzKSAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy54ID0gTWF0aC5mbG9vcigodGhpcy54ICsgZXBzKSAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy55ID0gTWF0aC5mbG9vcigodGhpcy55ICsgZXBzKSAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy53aWR0aCA9IHgyIC0gdGhpcy54O1xuICAgICAgICB0aGlzLmhlaWdodCA9IHkyIC0gdGhpcy55O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVubGFyZ2VzIHRoaXMgcmVjdGFuZ2xlIHRvIGluY2x1ZGUgdGhlIHBhc3NlZCByZWN0YW5nbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGluY2x1ZGUuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuZW5sYXJnZSA9IGZ1bmN0aW9uIChyZWN0YW5nbGUpIHtcbiAgICAgICAgdmFyIHgxID0gTWF0aC5taW4odGhpcy54LCByZWN0YW5nbGUueCk7XG4gICAgICAgIHZhciB4MiA9IE1hdGgubWF4KHRoaXMueCArIHRoaXMud2lkdGgsIHJlY3RhbmdsZS54ICsgcmVjdGFuZ2xlLndpZHRoKTtcbiAgICAgICAgdmFyIHkxID0gTWF0aC5taW4odGhpcy55LCByZWN0YW5nbGUueSk7XG4gICAgICAgIHZhciB5MiA9IE1hdGgubWF4KHRoaXMueSArIHRoaXMuaGVpZ2h0LCByZWN0YW5nbGUueSArIHJlY3RhbmdsZS5oZWlnaHQpO1xuICAgICAgICB0aGlzLnggPSB4MTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHgyIC0geDE7XG4gICAgICAgIHRoaXMueSA9IHkxO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHkyIC0geTE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiW0BwaXhpL21hdGg6UmVjdGFuZ2xlIHg9XCIgKyB0aGlzLnggKyBcIiB5PVwiICsgdGhpcy55ICsgXCIgd2lkdGg9XCIgKyB0aGlzLndpZHRoICsgXCIgaGVpZ2h0PVwiICsgdGhpcy5oZWlnaHQgKyBcIl1cIjtcbiAgICB9O1xuICAgIHJldHVybiBSZWN0YW5nbGU7XG59KCkpO1xuXG4vKipcbiAqIFRoZSBDaXJjbGUgb2JqZWN0IGlzIHVzZWQgdG8gaGVscCBkcmF3IGdyYXBoaWNzIGFuZCBjYW4gYWxzbyBiZSB1c2VkIHRvIHNwZWNpZnkgYSBoaXQgYXJlYSBmb3IgZGlzcGxheU9iamVjdHMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ2lyY2xlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmFkaXVzPTBdIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2lyY2xlKHgsIHksIHJhZGl1cykge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgaWYgKHJhZGl1cyA9PT0gdm9pZCAwKSB7IHJhZGl1cyA9IDA7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLkNJUkNcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLkNJUkM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIENpcmNsZSBpbnN0YW5jZVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5DaXJjbGV9IGEgY29weSBvZiB0aGUgQ2lyY2xlXG4gICAgICovXG4gICAgQ2lyY2xlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDaXJjbGUodGhpcy54LCB0aGlzLnksIHRoaXMucmFkaXVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgY2lyY2xlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIENpcmNsZVxuICAgICAqL1xuICAgIENpcmNsZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICBpZiAodGhpcy5yYWRpdXMgPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciByMiA9IHRoaXMucmFkaXVzICogdGhpcy5yYWRpdXM7XG4gICAgICAgIHZhciBkeCA9ICh0aGlzLnggLSB4KTtcbiAgICAgICAgdmFyIGR5ID0gKHRoaXMueSAtIHkpO1xuICAgICAgICBkeCAqPSBkeDtcbiAgICAgICAgZHkgKj0gZHk7XG4gICAgICAgIHJldHVybiAoZHggKyBkeSA8PSByMik7XG4gICAgfTtcbiAgICAvKipcbiAgICAqIFJldHVybnMgdGhlIGZyYW1pbmcgcmVjdGFuZ2xlIG9mIHRoZSBjaXJjbGUgYXMgYSBSZWN0YW5nbGUgb2JqZWN0XG4gICAgKlxuICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IHRoZSBmcmFtaW5nIHJlY3RhbmdsZVxuICAgICovXG4gICAgQ2lyY2xlLnByb3RvdHlwZS5nZXRCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCAtIHRoaXMucmFkaXVzLCB0aGlzLnkgLSB0aGlzLnJhZGl1cywgdGhpcy5yYWRpdXMgKiAyLCB0aGlzLnJhZGl1cyAqIDIpO1xuICAgIH07XG4gICAgQ2lyY2xlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiW0BwaXhpL21hdGg6Q2lyY2xlIHg9XCIgKyB0aGlzLnggKyBcIiB5PVwiICsgdGhpcy55ICsgXCIgcmFkaXVzPVwiICsgdGhpcy5yYWRpdXMgKyBcIl1cIjtcbiAgICB9O1xuICAgIHJldHVybiBDaXJjbGU7XG59KCkpO1xuXG4vKipcbiAqIFRoZSBFbGxpcHNlIG9iamVjdCBpcyB1c2VkIHRvIGhlbHAgZHJhdyBncmFwaGljcyBhbmQgY2FuIGFsc28gYmUgdXNlZCB0byBzcGVjaWZ5IGEgaGl0IGFyZWEgZm9yIGRpc3BsYXlPYmplY3RzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEVsbGlwc2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoaXMgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hhbGZXaWR0aD0wXSAtIFRoZSBoYWxmIHdpZHRoIG9mIHRoaXMgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGFsZkhlaWdodD0wXSAtIFRoZSBoYWxmIGhlaWdodCBvZiB0aGlzIGVsbGlwc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFbGxpcHNlKHgsIHksIGhhbGZXaWR0aCwgaGFsZkhlaWdodCkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgaWYgKGhhbGZXaWR0aCA9PT0gdm9pZCAwKSB7IGhhbGZXaWR0aCA9IDA7IH1cbiAgICAgICAgaWYgKGhhbGZIZWlnaHQgPT09IHZvaWQgMCkgeyBoYWxmSGVpZ2h0ID0gMDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gaGFsZldpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhhbGZIZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLkVMSVBcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLkVMSVA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIEVsbGlwc2UgaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuRWxsaXBzZX0gYSBjb3B5IG9mIHRoZSBlbGxpcHNlXG4gICAgICovXG4gICAgRWxsaXBzZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRWxsaXBzZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBlbGxpcHNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRzIGFyZSB3aXRoaW4gdGhpcyBlbGxpcHNlXG4gICAgICovXG4gICAgRWxsaXBzZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBub3JtYWxpemUgdGhlIGNvb3JkcyB0byBhbiBlbGxpcHNlIHdpdGggY2VudGVyIDAsMFxuICAgICAgICB2YXIgbm9ybXggPSAoKHggLSB0aGlzLngpIC8gdGhpcy53aWR0aCk7XG4gICAgICAgIHZhciBub3JteSA9ICgoeSAtIHRoaXMueSkgLyB0aGlzLmhlaWdodCk7XG4gICAgICAgIG5vcm14ICo9IG5vcm14O1xuICAgICAgICBub3JteSAqPSBub3JteTtcbiAgICAgICAgcmV0dXJuIChub3JteCArIG5vcm15IDw9IDEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZnJhbWluZyByZWN0YW5nbGUgb2YgdGhlIGVsbGlwc2UgYXMgYSBSZWN0YW5nbGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gdGhlIGZyYW1pbmcgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgRWxsaXBzZS5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLnggLSB0aGlzLndpZHRoLCB0aGlzLnkgLSB0aGlzLmhlaWdodCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH07XG4gICAgRWxsaXBzZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIltAcGl4aS9tYXRoOkVsbGlwc2UgeD1cIiArIHRoaXMueCArIFwiIHk9XCIgKyB0aGlzLnkgKyBcIiB3aWR0aD1cIiArIHRoaXMud2lkdGggKyBcIiBoZWlnaHQ9XCIgKyB0aGlzLmhlaWdodCArIFwiXVwiO1xuICAgIH07XG4gICAgcmV0dXJuIEVsbGlwc2U7XG59KCkpO1xuXG4vKipcbiAqIEEgY2xhc3MgdG8gZGVmaW5lIGEgc2hhcGUgdmlhIHVzZXIgZGVmaW5lZCBjb29yZGluYXRlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQb2x5Z29uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnRbXXxudW1iZXJbXX0gcG9pbnRzIC0gVGhpcyBjYW4gYmUgYW4gYXJyYXkgb2YgUG9pbnRzXG4gICAgICogIHRoYXQgZm9ybSB0aGUgcG9seWdvbiwgYSBmbGF0IGFycmF5IG9mIG51bWJlcnMgdGhhdCB3aWxsIGJlIGludGVycHJldGVkIGFzIFt4LHksIHgseSwgLi4uXSwgb3JcbiAgICAgKiAgdGhlIGFyZ3VtZW50cyBwYXNzZWQgY2FuIGJlIGFsbCB0aGUgcG9pbnRzIG9mIHRoZSBwb2x5Z29uIGUuZy5cbiAgICAgKiAgYG5ldyBQSVhJLlBvbHlnb24obmV3IFBJWEkuUG9pbnQoKSwgbmV3IFBJWEkuUG9pbnQoKSwgLi4uKWAsIG9yIHRoZSBhcmd1bWVudHMgcGFzc2VkIGNhbiBiZSBmbGF0XG4gICAgICogIHgseSB2YWx1ZXMgZS5nLiBgbmV3IFBvbHlnb24oeCx5LCB4LHksIHgseSwgLi4uKWAgd2hlcmUgYHhgIGFuZCBgeWAgYXJlIE51bWJlcnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUG9seWdvbigpIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgICAgIHZhciBwb2ludHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHBvaW50c1tfaV0gPSBhcmd1bWVudHMkMVtfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZsYXQgPSBBcnJheS5pc0FycmF5KHBvaW50c1swXSkgPyBwb2ludHNbMF0gOiBwb2ludHM7XG4gICAgICAgIC8vIGlmIHRoaXMgaXMgYW4gYXJyYXkgb2YgcG9pbnRzLCBjb252ZXJ0IGl0IHRvIGEgZmxhdCBhcnJheSBvZiBudW1iZXJzXG4gICAgICAgIGlmICh0eXBlb2YgZmxhdFswXSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHZhciBwID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmbGF0Lmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwLnB1c2goZmxhdFtpXS54LCBmbGF0W2ldLnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmxhdCA9IHA7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHRoZSBwb2ludHMgb2YgdGhpcyBwb2x5Z29uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb2ludHMgPSBmbGF0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5QT0xZXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFNIQVBFUy5QT0xZO1xuICAgICAgICAvKipcbiAgICAgICAgICogYGZhbHNlYCBhZnRlciBtb3ZlVG8sIGB0cnVlYCBhZnRlciBgY2xvc2VQYXRoYC4gSW4gYWxsIG90aGVyIGNhc2VzIGl0IGlzIGB0cnVlYC5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbG9zZVN0cm9rZSA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIHBvbHlnb25cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9seWdvbn0gYSBjb3B5IG9mIHRoZSBwb2x5Z29uXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50cy5zbGljZSgpO1xuICAgICAgICB2YXIgcG9seWdvbiA9IG5ldyBQb2x5Z29uKHBvaW50cyk7XG4gICAgICAgIHBvbHlnb24uY2xvc2VTdHJva2UgPSB0aGlzLmNsb3NlU3Ryb2tlO1xuICAgICAgICByZXR1cm4gcG9seWdvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIHBhc3NlZCB0byB0aGlzIGZ1bmN0aW9uIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgcG9seWdvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBwb2x5Z29uXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICB2YXIgaW5zaWRlID0gZmFsc2U7XG4gICAgICAgIC8vIHVzZSBzb21lIHJheWNhc3RpbmcgdG8gdGVzdCBoaXRzXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zdWJzdGFjay9wb2ludC1pbi1wb2x5Z29uL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IGxlbmd0aCAtIDE7IGkgPCBsZW5ndGg7IGogPSBpKyspIHtcbiAgICAgICAgICAgIHZhciB4aSA9IHRoaXMucG9pbnRzW2kgKiAyXTtcbiAgICAgICAgICAgIHZhciB5aSA9IHRoaXMucG9pbnRzWyhpICogMikgKyAxXTtcbiAgICAgICAgICAgIHZhciB4aiA9IHRoaXMucG9pbnRzW2ogKiAyXTtcbiAgICAgICAgICAgIHZhciB5aiA9IHRoaXMucG9pbnRzWyhqICogMikgKyAxXTtcbiAgICAgICAgICAgIHZhciBpbnRlcnNlY3QgPSAoKHlpID4geSkgIT09ICh5aiA+IHkpKSAmJiAoeCA8ICgoeGogLSB4aSkgKiAoKHkgLSB5aSkgLyAoeWogLSB5aSkpKSArIHhpKTtcbiAgICAgICAgICAgIGlmIChpbnRlcnNlY3QpIHtcbiAgICAgICAgICAgICAgICBpbnNpZGUgPSAhaW5zaWRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnNpZGU7XG4gICAgfTtcbiAgICBQb2x5Z29uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiW0BwaXhpL21hdGg6UG9seWdvblwiXG4gICAgICAgICAgICArIChcImNsb3NlU3Ryb2tlPVwiICsgdGhpcy5jbG9zZVN0cm9rZSlcbiAgICAgICAgICAgICsgKFwicG9pbnRzPVwiICsgdGhpcy5wb2ludHMucmVkdWNlKGZ1bmN0aW9uIChwb2ludHNEZXNjLCBjdXJyZW50UG9pbnQpIHsgcmV0dXJuIHBvaW50c0Rlc2MgKyBcIiwgXCIgKyBjdXJyZW50UG9pbnQ7IH0sICcnKSArIFwiXVwiKTtcbiAgICB9O1xuICAgIHJldHVybiBQb2x5Z29uO1xufSgpKTtcblxuLyoqXG4gKiBUaGUgUm91bmRlZCBSZWN0YW5nbGUgb2JqZWN0IGlzIGFuIGFyZWEgdGhhdCBoYXMgbmljZSByb3VuZGVkIGNvcm5lcnMsIGFzIGluZGljYXRlZCBieSBpdHNcbiAqIHRvcC1sZWZ0IGNvcm5lciBwb2ludCAoeCwgeSkgYW5kIGJ5IGl0cyB3aWR0aCBhbmQgaXRzIGhlaWdodCBhbmQgaXRzIHJhZGl1cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSb3VuZGVkUmVjdGFuZ2xlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSBUaGUgb3ZlcmFsbCB3aWR0aCBvZiB0aGlzIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9MF0gLSBUaGUgb3ZlcmFsbCBoZWlnaHQgb2YgdGhpcyByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmFkaXVzPTIwXSAtIENvbnRyb2xzIHRoZSByYWRpdXMgb2YgdGhlIHJvdW5kZWQgY29ybmVyc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJvdW5kZWRSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKSB7XG4gICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxuICAgICAgICBpZiAod2lkdGggPT09IHZvaWQgMCkgeyB3aWR0aCA9IDA7IH1cbiAgICAgICAgaWYgKGhlaWdodCA9PT0gdm9pZCAwKSB7IGhlaWdodCA9IDA7IH1cbiAgICAgICAgaWYgKHJhZGl1cyA9PT0gdm9pZCAwKSB7IHJhZGl1cyA9IDIwOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDIwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUlJFQ1xuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBTSEFQRVMuUlJFQztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgUm91bmRlZCBSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUm91bmRlZFJlY3RhbmdsZX0gYSBjb3B5IG9mIHRoZSByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqL1xuICAgIFJvdW5kZWRSZWN0YW5nbGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJvdW5kZWRSZWN0YW5nbGUodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLnJhZGl1cyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gICAgICovXG4gICAgUm91bmRlZFJlY3RhbmdsZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeCA+PSB0aGlzLnggJiYgeCA8PSB0aGlzLnggKyB0aGlzLndpZHRoKSB7XG4gICAgICAgICAgICBpZiAoeSA+PSB0aGlzLnkgJiYgeSA8PSB0aGlzLnkgKyB0aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIGlmICgoeSA+PSB0aGlzLnkgKyB0aGlzLnJhZGl1cyAmJiB5IDw9IHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gdGhpcy5yYWRpdXMpXG4gICAgICAgICAgICAgICAgICAgIHx8ICh4ID49IHRoaXMueCArIHRoaXMucmFkaXVzICYmIHggPD0gdGhpcy54ICsgdGhpcy53aWR0aCAtIHRoaXMucmFkaXVzKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgdmFyIGR5ID0geSAtICh0aGlzLnkgKyB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgdmFyIHJhZGl1czIgPSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzO1xuICAgICAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHggPSB4IC0gKHRoaXMueCArIHRoaXMud2lkdGggLSB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgaWYgKChkeCAqIGR4KSArIChkeSAqIGR5KSA8PSByYWRpdXMyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkeSA9IHkgLSAodGhpcy55ICsgdGhpcy5oZWlnaHQgLSB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgaWYgKChkeCAqIGR4KSArIChkeSAqIGR5KSA8PSByYWRpdXMyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkeCA9IHggLSAodGhpcy54ICsgdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgUm91bmRlZFJlY3RhbmdsZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIltAcGl4aS9tYXRoOlJvdW5kZWRSZWN0YW5nbGUgeD1cIiArIHRoaXMueCArIFwiIHk9XCIgKyB0aGlzLnlcbiAgICAgICAgICAgICsgKFwid2lkdGg9XCIgKyB0aGlzLndpZHRoICsgXCIgaGVpZ2h0PVwiICsgdGhpcy5oZWlnaHQgKyBcIiByYWRpdXM9XCIgKyB0aGlzLnJhZGl1cyArIFwiXVwiKTtcbiAgICB9O1xuICAgIHJldHVybiBSb3VuZGVkUmVjdGFuZ2xlO1xufSgpKTtcblxuLyoqXG4gKiBUaGUgUG9pbnQgb2JqZWN0IHJlcHJlc2VudHMgYSBsb2NhdGlvbiBpbiBhIHR3by1kaW1lbnNpb25hbCBjb29yZGluYXRlIHN5c3RlbSwgd2hlcmUgeCByZXByZXNlbnRzXG4gKiB0aGUgaG9yaXpvbnRhbCBheGlzIGFuZCB5IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIGF4aXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGltcGxlbWVudHMgSVBvaW50XG4gKi9cbnZhciBQb2ludCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUG9pbnQoeCwgeSkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0geTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgcG9pbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IGEgY29weSBvZiB0aGUgcG9pbnRcbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54LCB0aGlzLnkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIHggYW5kIHkgZnJvbSB0aGUgZ2l2ZW4gcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwIC0gVGhlIHBvaW50IHRvIGNvcHkgZnJvbVxuICAgICAqIEByZXR1cm5zIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiAocCkge1xuICAgICAgICB0aGlzLnNldChwLngsIHAueSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIHggYW5kIHkgaW50byB0aGUgZ2l2ZW4gcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY29weS5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5JUG9pbnR9IEdpdmVuIHBvaW50IHdpdGggdmFsdWVzIHVwZGF0ZWRcbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuY29weVRvID0gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcC5zZXQodGhpcy54LCB0aGlzLnkpO1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gcG9pbnQgaXMgZXF1YWwgdG8gdGhpcyBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHAgLSBUaGUgcG9pbnQgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgZ2l2ZW4gcG9pbnQgZXF1YWwgdG8gdGhpcyBwb2ludFxuICAgICAqL1xuICAgIFBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gKHAueCA9PT0gdGhpcy54KSAmJiAocC55ID09PSB0aGlzLnkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9pbnQgdG8gYSBuZXcgeCBhbmQgeSBwb3NpdGlvbi5cbiAgICAgKiBJZiB5IGlzIG9taXR0ZWQsIGJvdGggeCBhbmQgeSB3aWxsIGJlIHNldCB0byB4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9eF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqIEByZXR1cm5zIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSB4OyB9XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUG9pbnQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJbQHBpeGkvbWF0aDpQb2ludCB4PVwiICsgdGhpcy54ICsgXCIgeT1cIiArIHRoaXMueSArIFwiXVwiO1xuICAgIH07XG4gICAgcmV0dXJuIFBvaW50O1xufSgpKTtcblxuLyoqXG4gKiBUaGUgUG9pbnQgb2JqZWN0IHJlcHJlc2VudHMgYSBsb2NhdGlvbiBpbiBhIHR3by1kaW1lbnNpb25hbCBjb29yZGluYXRlIHN5c3RlbSwgd2hlcmUgeCByZXByZXNlbnRzXG4gKiB0aGUgaG9yaXpvbnRhbCBheGlzIGFuZCB5IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIGF4aXMuXG4gKlxuICogQW4gT2JzZXJ2YWJsZVBvaW50IGlzIGEgcG9pbnQgdGhhdCB0cmlnZ2VycyBhIGNhbGxiYWNrIHdoZW4gdGhlIHBvaW50J3MgcG9zaXRpb24gaXMgY2hhbmdlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBJUG9pbnRcbiAqL1xudmFyIE9ic2VydmFibGVQb2ludCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiAtIGNhbGxiYWNrIHdoZW4gY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzY29wZSAtIG93bmVyIG9mIGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIE9ic2VydmFibGVQb2ludChjYiwgc2NvcGUsIHgsIHkpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgdGhpcy5jYiA9IGNiO1xuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIHBvaW50LlxuICAgICAqIFRoZSBjYWxsYmFjayBhbmQgc2NvcGUgcGFyYW1zIGNhbiBiZSBvdmVycmlkZGVuIG90aGVyd2lzZSB0aGV5IHdpbGwgZGVmYXVsdFxuICAgICAqIHRvIHRoZSBjbG9uZSBvYmplY3QncyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2I9bnVsbF0gLSBjYWxsYmFjayB3aGVuIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3Njb3BlPW51bGxdIC0gb3duZXIgb2YgY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk9ic2VydmFibGVQb2ludH0gYSBjb3B5IG9mIHRoZSBwb2ludFxuICAgICAqL1xuICAgIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoY2IsIHNjb3BlKSB7XG4gICAgICAgIGlmIChjYiA9PT0gdm9pZCAwKSB7IGNiID0gdGhpcy5jYjsgfVxuICAgICAgICBpZiAoc2NvcGUgPT09IHZvaWQgMCkgeyBzY29wZSA9IHRoaXMuc2NvcGU7IH1cbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlUG9pbnQoY2IsIHNjb3BlLCB0aGlzLl94LCB0aGlzLl95KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvaW50IHRvIGEgbmV3IHggYW5kIHkgcG9zaXRpb24uXG4gICAgICogSWYgeSBpcyBvbWl0dGVkLCBib3RoIHggYW5kIHkgd2lsbCBiZSBzZXQgdG8geC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PXhdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcmV0dXJucyB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IHg7IH1cbiAgICAgICAgaWYgKHRoaXMuX3ggIT09IHggfHwgdGhpcy5feSAhPT0geSkge1xuICAgICAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvcGllcyB4IGFuZCB5IGZyb20gdGhlIGdpdmVuIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcCAtIFRoZSBwb2ludCB0byBjb3B5IGZyb20uXG4gICAgICogQHJldHVybnMge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiAocCkge1xuICAgICAgICBpZiAodGhpcy5feCAhPT0gcC54IHx8IHRoaXMuX3kgIT09IHAueSkge1xuICAgICAgICAgICAgdGhpcy5feCA9IHAueDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSBwLnk7XG4gICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgeCBhbmQgeSBpbnRvIHRoZSBnaXZlbiBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjb3B5LlxuICAgICAqIEByZXR1cm5zIHtQSVhJLklQb2ludH0gR2l2ZW4gcG9pbnQgd2l0aCB2YWx1ZXMgdXBkYXRlZFxuICAgICAqL1xuICAgIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuY29weVRvID0gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcC5zZXQodGhpcy5feCwgdGhpcy5feSk7XG4gICAgICAgIHJldHVybiBwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBwb2ludCBpcyBlcXVhbCB0byB0aGlzIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcCAtIFRoZSBwb2ludCB0byBjaGVja1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBnaXZlbiBwb2ludCBlcXVhbCB0byB0aGlzIHBvaW50XG4gICAgICovXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gKHAueCA9PT0gdGhpcy5feCkgJiYgKHAueSA9PT0gdGhpcy5feSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJbQHBpeGkvbWF0aDpPYnNlcnZhYmxlUG9pbnQgeD1cIiArIDAgKyBcIiB5PVwiICsgMCArIFwiIHNjb3BlPVwiICsgdGhpcy5zY29wZSArIFwiXVwiO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUsIFwieFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHggYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5feDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl94ICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ggPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZSwgXCJ5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeCBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl95O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3kgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5feSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBPYnNlcnZhYmxlUG9pbnQ7XG59KCkpO1xuXG4vKipcbiAqIFRoZSBQaXhpSlMgTWF0cml4IGFzIGEgY2xhc3MgbWFrZXMgaXQgYSBsb3QgZmFzdGVyLlxuICpcbiAqIEhlcmUgaXMgYSByZXByZXNlbnRhdGlvbiBvZiBpdDpcbiAqIGBgYGpzXG4gKiB8IGEgfCBjIHwgdHh8XG4gKiB8IGIgfCBkIHwgdHl8XG4gKiB8IDAgfCAwIHwgMSB8XG4gKiBgYGBcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1hdHJpeCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2E9MV0gLSB4IHNjYWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiPTBdIC0geSBza2V3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjPTBdIC0geCBza2V3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkPTFdIC0geSBzY2FsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdHg9MF0gLSB4IHRyYW5zbGF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0eT0wXSAtIHkgdHJhbnNsYXRpb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXRyaXgoYSwgYiwgYywgZCwgdHgsIHR5KSB7XG4gICAgICAgIGlmIChhID09PSB2b2lkIDApIHsgYSA9IDE7IH1cbiAgICAgICAgaWYgKGIgPT09IHZvaWQgMCkgeyBiID0gMDsgfVxuICAgICAgICBpZiAoYyA9PT0gdm9pZCAwKSB7IGMgPSAwOyB9XG4gICAgICAgIGlmIChkID09PSB2b2lkIDApIHsgZCA9IDE7IH1cbiAgICAgICAgaWYgKHR4ID09PSB2b2lkIDApIHsgdHggPSAwOyB9XG4gICAgICAgIGlmICh0eSA9PT0gdm9pZCAwKSB7IHR5ID0gMDsgfVxuICAgICAgICB0aGlzLmFycmF5ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hID0gYTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iID0gYjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jID0gYztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kID0gZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eCA9IHR4O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5ID0gdHk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBNYXRyaXggb2JqZWN0IGJhc2VkIG9uIHRoZSBnaXZlbiBhcnJheS4gVGhlIEVsZW1lbnQgdG8gTWF0cml4IG1hcHBpbmcgb3JkZXIgaXMgYXMgZm9sbG93czpcbiAgICAgKlxuICAgICAqIGEgPSBhcnJheVswXVxuICAgICAqIGIgPSBhcnJheVsxXVxuICAgICAqIGMgPSBhcnJheVszXVxuICAgICAqIGQgPSBhcnJheVs0XVxuICAgICAqIHR4ID0gYXJyYXlbMl1cbiAgICAgKiB0eSA9IGFycmF5WzVdXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSBhcnJheSB0aGF0IHRoZSBtYXRyaXggd2lsbCBiZSBwb3B1bGF0ZWQgZnJvbS5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmZyb21BcnJheSA9IGZ1bmN0aW9uIChhcnJheSkge1xuICAgICAgICB0aGlzLmEgPSBhcnJheVswXTtcbiAgICAgICAgdGhpcy5iID0gYXJyYXlbMV07XG4gICAgICAgIHRoaXMuYyA9IGFycmF5WzNdO1xuICAgICAgICB0aGlzLmQgPSBhcnJheVs0XTtcbiAgICAgICAgdGhpcy50eCA9IGFycmF5WzJdO1xuICAgICAgICB0aGlzLnR5ID0gYXJyYXlbNV07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBzZXRzIHRoZSBtYXRyaXggcHJvcGVydGllc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGEgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGIgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGMgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGQgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR4IC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eSAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIHR4LCB0eSkge1xuICAgICAgICB0aGlzLmEgPSBhO1xuICAgICAgICB0aGlzLmIgPSBiO1xuICAgICAgICB0aGlzLmMgPSBjO1xuICAgICAgICB0aGlzLmQgPSBkO1xuICAgICAgICB0aGlzLnR4ID0gdHg7XG4gICAgICAgIHRoaXMudHkgPSB0eTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGZyb20gdGhlIGN1cnJlbnQgTWF0cml4IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdHJhbnNwb3NlIC0gV2hldGhlciB3ZSBuZWVkIHRvIHRyYW5zcG9zZSB0aGUgbWF0cml4IG9yIG5vdFxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0PW5ldyBGbG9hdDMyQXJyYXkoOSldIC0gSWYgcHJvdmlkZWQgdGhlIGFycmF5IHdpbGwgYmUgYXNzaWduZWQgdG8gb3V0XG4gICAgICogQHJldHVybiB7bnVtYmVyW119IHRoZSBuZXdseSBjcmVhdGVkIGFycmF5IHdoaWNoIGNvbnRhaW5zIHRoZSBtYXRyaXhcbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiAodHJhbnNwb3NlLCBvdXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFycmF5KSB7XG4gICAgICAgICAgICB0aGlzLmFycmF5ID0gbmV3IEZsb2F0MzJBcnJheSg5KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJyYXkgPSBvdXQgfHwgdGhpcy5hcnJheTtcbiAgICAgICAgaWYgKHRyYW5zcG9zZSkge1xuICAgICAgICAgICAgYXJyYXlbMF0gPSB0aGlzLmE7XG4gICAgICAgICAgICBhcnJheVsxXSA9IHRoaXMuYjtcbiAgICAgICAgICAgIGFycmF5WzJdID0gMDtcbiAgICAgICAgICAgIGFycmF5WzNdID0gdGhpcy5jO1xuICAgICAgICAgICAgYXJyYXlbNF0gPSB0aGlzLmQ7XG4gICAgICAgICAgICBhcnJheVs1XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs2XSA9IHRoaXMudHg7XG4gICAgICAgICAgICBhcnJheVs3XSA9IHRoaXMudHk7XG4gICAgICAgICAgICBhcnJheVs4XSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhcnJheVswXSA9IHRoaXMuYTtcbiAgICAgICAgICAgIGFycmF5WzFdID0gdGhpcy5jO1xuICAgICAgICAgICAgYXJyYXlbMl0gPSB0aGlzLnR4O1xuICAgICAgICAgICAgYXJyYXlbM10gPSB0aGlzLmI7XG4gICAgICAgICAgICBhcnJheVs0XSA9IHRoaXMuZDtcbiAgICAgICAgICAgIGFycmF5WzVdID0gdGhpcy50eTtcbiAgICAgICAgICAgIGFycmF5WzZdID0gMDtcbiAgICAgICAgICAgIGFycmF5WzddID0gMDtcbiAgICAgICAgICAgIGFycmF5WzhdID0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSBuZXcgcG9zaXRpb24gd2l0aCB0aGUgY3VycmVudCB0cmFuc2Zvcm1hdGlvbiBhcHBsaWVkLlxuICAgICAqIENhbiBiZSB1c2VkIHRvIGdvIGZyb20gYSBjaGlsZCdzIGNvb3JkaW5hdGUgc3BhY2UgdG8gdGhlIHdvcmxkIGNvb3JkaW5hdGUgc3BhY2UuIChlLmcuIHJlbmRlcmluZylcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwb3MgLSBUaGUgb3JpZ2luXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbbmV3UG9zXSAtIFRoZSBwb2ludCB0aGF0IHRoZSBuZXcgcG9zaXRpb24gaXMgYXNzaWduZWQgdG8gKGFsbG93ZWQgdG8gYmUgc2FtZSBhcyBpbnB1dClcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBUaGUgbmV3IHBvaW50LCB0cmFuc2Zvcm1lZCB0aHJvdWdoIHRoaXMgbWF0cml4XG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIChwb3MsIG5ld1Bvcykge1xuICAgICAgICBuZXdQb3MgPSAobmV3UG9zIHx8IG5ldyBQb2ludCgpKTtcbiAgICAgICAgdmFyIHggPSBwb3MueDtcbiAgICAgICAgdmFyIHkgPSBwb3MueTtcbiAgICAgICAgbmV3UG9zLnggPSAodGhpcy5hICogeCkgKyAodGhpcy5jICogeSkgKyB0aGlzLnR4O1xuICAgICAgICBuZXdQb3MueSA9ICh0aGlzLmIgKiB4KSArICh0aGlzLmQgKiB5KSArIHRoaXMudHk7XG4gICAgICAgIHJldHVybiBuZXdQb3M7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSBuZXcgcG9zaXRpb24gd2l0aCB0aGUgaW52ZXJzZSBvZiB0aGUgY3VycmVudCB0cmFuc2Zvcm1hdGlvbiBhcHBsaWVkLlxuICAgICAqIENhbiBiZSB1c2VkIHRvIGdvIGZyb20gdGhlIHdvcmxkIGNvb3JkaW5hdGUgc3BhY2UgdG8gYSBjaGlsZCdzIGNvb3JkaW5hdGUgc3BhY2UuIChlLmcuIGlucHV0KVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHBvcyAtIFRoZSBvcmlnaW5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtuZXdQb3NdIC0gVGhlIHBvaW50IHRoYXQgdGhlIG5ldyBwb3NpdGlvbiBpcyBhc3NpZ25lZCB0byAoYWxsb3dlZCB0byBiZSBzYW1lIGFzIGlucHV0KVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IFRoZSBuZXcgcG9pbnQsIGludmVyc2UtdHJhbnNmb3JtZWQgdGhyb3VnaCB0aGlzIG1hdHJpeFxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuYXBwbHlJbnZlcnNlID0gZnVuY3Rpb24gKHBvcywgbmV3UG9zKSB7XG4gICAgICAgIG5ld1BvcyA9IChuZXdQb3MgfHwgbmV3IFBvaW50KCkpO1xuICAgICAgICB2YXIgaWQgPSAxIC8gKCh0aGlzLmEgKiB0aGlzLmQpICsgKHRoaXMuYyAqIC10aGlzLmIpKTtcbiAgICAgICAgdmFyIHggPSBwb3MueDtcbiAgICAgICAgdmFyIHkgPSBwb3MueTtcbiAgICAgICAgbmV3UG9zLnggPSAodGhpcy5kICogaWQgKiB4KSArICgtdGhpcy5jICogaWQgKiB5KSArICgoKHRoaXMudHkgKiB0aGlzLmMpIC0gKHRoaXMudHggKiB0aGlzLmQpKSAqIGlkKTtcbiAgICAgICAgbmV3UG9zLnkgPSAodGhpcy5hICogaWQgKiB5KSArICgtdGhpcy5iICogaWQgKiB4KSArICgoKC10aGlzLnR5ICogdGhpcy5hKSArICh0aGlzLnR4ICogdGhpcy5iKSkgKiBpZCk7XG4gICAgICAgIHJldHVybiBuZXdQb3M7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIHRoZSBtYXRyaXggb24gdGhlIHggYW5kIHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIEhvdyBtdWNoIHRvIHRyYW5zbGF0ZSB4IGJ5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBIb3cgbXVjaCB0byB0cmFuc2xhdGUgeSBieVxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUudHJhbnNsYXRlID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgdGhpcy50eCArPSB4O1xuICAgICAgICB0aGlzLnR5ICs9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIHNjYWxlIHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBhbW91bnQgdG8gc2NhbGUgaG9yaXpvbnRhbGx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgYW1vdW50IHRvIHNjYWxlIHZlcnRpY2FsbHlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLnNjYWxlID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgdGhpcy5hICo9IHg7XG4gICAgICAgIHRoaXMuZCAqPSB5O1xuICAgICAgICB0aGlzLmMgKj0geDtcbiAgICAgICAgdGhpcy5iICo9IHk7XG4gICAgICAgIHRoaXMudHggKj0geDtcbiAgICAgICAgdGhpcy50eSAqPSB5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYSByb3RhdGlvbiB0cmFuc2Zvcm1hdGlvbiB0byB0aGUgbWF0cml4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIC0gVGhlIGFuZ2xlIGluIHJhZGlhbnMuXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5yb3RhdGUgPSBmdW5jdGlvbiAoYW5nbGUpIHtcbiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgdmFyIHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICB2YXIgYzEgPSB0aGlzLmM7XG4gICAgICAgIHZhciB0eDEgPSB0aGlzLnR4O1xuICAgICAgICB0aGlzLmEgPSAoYTEgKiBjb3MpIC0gKHRoaXMuYiAqIHNpbik7XG4gICAgICAgIHRoaXMuYiA9IChhMSAqIHNpbikgKyAodGhpcy5iICogY29zKTtcbiAgICAgICAgdGhpcy5jID0gKGMxICogY29zKSAtICh0aGlzLmQgKiBzaW4pO1xuICAgICAgICB0aGlzLmQgPSAoYzEgKiBzaW4pICsgKHRoaXMuZCAqIGNvcyk7XG4gICAgICAgIHRoaXMudHggPSAodHgxICogY29zKSAtICh0aGlzLnR5ICogc2luKTtcbiAgICAgICAgdGhpcy50eSA9ICh0eDEgKiBzaW4pICsgKHRoaXMudHkgKiBjb3MpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgdGhlIGdpdmVuIE1hdHJpeCB0byB0aGlzIE1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gYXBwZW5kLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKG1hdHJpeCkge1xuICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgIHZhciBiMSA9IHRoaXMuYjtcbiAgICAgICAgdmFyIGMxID0gdGhpcy5jO1xuICAgICAgICB2YXIgZDEgPSB0aGlzLmQ7XG4gICAgICAgIHRoaXMuYSA9IChtYXRyaXguYSAqIGExKSArIChtYXRyaXguYiAqIGMxKTtcbiAgICAgICAgdGhpcy5iID0gKG1hdHJpeC5hICogYjEpICsgKG1hdHJpeC5iICogZDEpO1xuICAgICAgICB0aGlzLmMgPSAobWF0cml4LmMgKiBhMSkgKyAobWF0cml4LmQgKiBjMSk7XG4gICAgICAgIHRoaXMuZCA9IChtYXRyaXguYyAqIGIxKSArIChtYXRyaXguZCAqIGQxKTtcbiAgICAgICAgdGhpcy50eCA9IChtYXRyaXgudHggKiBhMSkgKyAobWF0cml4LnR5ICogYzEpICsgdGhpcy50eDtcbiAgICAgICAgdGhpcy50eSA9IChtYXRyaXgudHggKiBiMSkgKyAobWF0cml4LnR5ICogZDEpICsgdGhpcy50eTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXRyaXggYmFzZWQgb24gYWxsIHRoZSBhdmFpbGFibGUgcHJvcGVydGllc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBQb3NpdGlvbiBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBQb3NpdGlvbiBvbiB0aGUgeSBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpdm90WCAtIFBpdm90IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl2b3RZIC0gUGl2b3Qgb24gdGhlIHkgYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVggLSBTY2FsZSBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWSAtIFNjYWxlIG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBSb3RhdGlvbiBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNrZXdYIC0gU2tldyBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNrZXdZIC0gU2tldyBvbiB0aGUgeSBheGlzXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoeCwgeSwgcGl2b3RYLCBwaXZvdFksIHNjYWxlWCwgc2NhbGVZLCByb3RhdGlvbiwgc2tld1gsIHNrZXdZKSB7XG4gICAgICAgIHRoaXMuYSA9IE1hdGguY29zKHJvdGF0aW9uICsgc2tld1kpICogc2NhbGVYO1xuICAgICAgICB0aGlzLmIgPSBNYXRoLnNpbihyb3RhdGlvbiArIHNrZXdZKSAqIHNjYWxlWDtcbiAgICAgICAgdGhpcy5jID0gLU1hdGguc2luKHJvdGF0aW9uIC0gc2tld1gpICogc2NhbGVZO1xuICAgICAgICB0aGlzLmQgPSBNYXRoLmNvcyhyb3RhdGlvbiAtIHNrZXdYKSAqIHNjYWxlWTtcbiAgICAgICAgdGhpcy50eCA9IHggLSAoKHBpdm90WCAqIHRoaXMuYSkgKyAocGl2b3RZICogdGhpcy5jKSk7XG4gICAgICAgIHRoaXMudHkgPSB5IC0gKChwaXZvdFggKiB0aGlzLmIpICsgKHBpdm90WSAqIHRoaXMuZCkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByZXBlbmRzIHRoZSBnaXZlbiBNYXRyaXggdG8gdGhpcyBNYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIHByZXBlbmRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLnByZXBlbmQgPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIHZhciB0eDEgPSB0aGlzLnR4O1xuICAgICAgICBpZiAobWF0cml4LmEgIT09IDEgfHwgbWF0cml4LmIgIT09IDAgfHwgbWF0cml4LmMgIT09IDAgfHwgbWF0cml4LmQgIT09IDEpIHtcbiAgICAgICAgICAgIHZhciBhMSA9IHRoaXMuYTtcbiAgICAgICAgICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICAgICAgICAgIHRoaXMuYSA9IChhMSAqIG1hdHJpeC5hKSArICh0aGlzLmIgKiBtYXRyaXguYyk7XG4gICAgICAgICAgICB0aGlzLmIgPSAoYTEgKiBtYXRyaXguYikgKyAodGhpcy5iICogbWF0cml4LmQpO1xuICAgICAgICAgICAgdGhpcy5jID0gKGMxICogbWF0cml4LmEpICsgKHRoaXMuZCAqIG1hdHJpeC5jKTtcbiAgICAgICAgICAgIHRoaXMuZCA9IChjMSAqIG1hdHJpeC5iKSArICh0aGlzLmQgKiBtYXRyaXguZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50eCA9ICh0eDEgKiBtYXRyaXguYSkgKyAodGhpcy50eSAqIG1hdHJpeC5jKSArIG1hdHJpeC50eDtcbiAgICAgICAgdGhpcy50eSA9ICh0eDEgKiBtYXRyaXguYikgKyAodGhpcy50eSAqIG1hdHJpeC5kKSArIG1hdHJpeC50eTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZWNvbXBvc2VzIHRoZSBtYXRyaXggKHgsIHksIHNjYWxlWCwgc2NhbGVZLCBhbmQgcm90YXRpb24pIGFuZCBzZXRzIHRoZSBwcm9wZXJ0aWVzIG9uIHRvIGEgdHJhbnNmb3JtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gdHJhbnNmb3JtIC0gVGhlIHRyYW5zZm9ybSB0byBhcHBseSB0aGUgcHJvcGVydGllcyB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRyYW5zZm9ybX0gVGhlIHRyYW5zZm9ybSB3aXRoIHRoZSBuZXdseSBhcHBsaWVkIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmRlY29tcG9zZSA9IGZ1bmN0aW9uICh0cmFuc2Zvcm0pIHtcbiAgICAgICAgLy8gc29ydCBvdXQgcm90YXRpb24gLyBza2V3Li5cbiAgICAgICAgdmFyIGEgPSB0aGlzLmE7XG4gICAgICAgIHZhciBiID0gdGhpcy5iO1xuICAgICAgICB2YXIgYyA9IHRoaXMuYztcbiAgICAgICAgdmFyIGQgPSB0aGlzLmQ7XG4gICAgICAgIHZhciBwaXZvdCA9IHRyYW5zZm9ybS5waXZvdDtcbiAgICAgICAgdmFyIHNrZXdYID0gLU1hdGguYXRhbjIoLWMsIGQpO1xuICAgICAgICB2YXIgc2tld1kgPSBNYXRoLmF0YW4yKGIsIGEpO1xuICAgICAgICB2YXIgZGVsdGEgPSBNYXRoLmFicyhza2V3WCArIHNrZXdZKTtcbiAgICAgICAgaWYgKGRlbHRhIDwgMC4wMDAwMSB8fCBNYXRoLmFicyhQSV8yIC0gZGVsdGEpIDwgMC4wMDAwMSkge1xuICAgICAgICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uID0gc2tld1k7XG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy54ID0gdHJhbnNmb3JtLnNrZXcueSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSAwO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueCA9IHNrZXdYO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueSA9IHNrZXdZO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5leHQgc2V0IHNjYWxlXG4gICAgICAgIHRyYW5zZm9ybS5zY2FsZS54ID0gTWF0aC5zcXJ0KChhICogYSkgKyAoYiAqIGIpKTtcbiAgICAgICAgdHJhbnNmb3JtLnNjYWxlLnkgPSBNYXRoLnNxcnQoKGMgKiBjKSArIChkICogZCkpO1xuICAgICAgICAvLyBuZXh0IHNldCBwb3NpdGlvblxuICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24ueCA9IHRoaXMudHggKyAoKHBpdm90LnggKiBhKSArIChwaXZvdC55ICogYykpO1xuICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24ueSA9IHRoaXMudHkgKyAoKHBpdm90LnggKiBiKSArIChwaXZvdC55ICogZCkpO1xuICAgICAgICByZXR1cm4gdHJhbnNmb3JtO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW52ZXJ0cyB0aGlzIG1hdHJpeFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhMSA9IHRoaXMuYTtcbiAgICAgICAgdmFyIGIxID0gdGhpcy5iO1xuICAgICAgICB2YXIgYzEgPSB0aGlzLmM7XG4gICAgICAgIHZhciBkMSA9IHRoaXMuZDtcbiAgICAgICAgdmFyIHR4MSA9IHRoaXMudHg7XG4gICAgICAgIHZhciBuID0gKGExICogZDEpIC0gKGIxICogYzEpO1xuICAgICAgICB0aGlzLmEgPSBkMSAvIG47XG4gICAgICAgIHRoaXMuYiA9IC1iMSAvIG47XG4gICAgICAgIHRoaXMuYyA9IC1jMSAvIG47XG4gICAgICAgIHRoaXMuZCA9IGExIC8gbjtcbiAgICAgICAgdGhpcy50eCA9ICgoYzEgKiB0aGlzLnR5KSAtIChkMSAqIHR4MSkpIC8gbjtcbiAgICAgICAgdGhpcy50eSA9IC0oKGExICogdGhpcy50eSkgLSAoYjEgKiB0eDEpKSAvIG47XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoaXMgTWF0cml4IHRvIGFuIGlkZW50aXR5IChkZWZhdWx0KSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmlkZW50aXR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmEgPSAxO1xuICAgICAgICB0aGlzLmIgPSAwO1xuICAgICAgICB0aGlzLmMgPSAwO1xuICAgICAgICB0aGlzLmQgPSAxO1xuICAgICAgICB0aGlzLnR4ID0gMDtcbiAgICAgICAgdGhpcy50eSA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBNYXRyaXggb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IEEgY29weSBvZiB0aGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIG1hdHJpeC5hID0gdGhpcy5hO1xuICAgICAgICBtYXRyaXguYiA9IHRoaXMuYjtcbiAgICAgICAgbWF0cml4LmMgPSB0aGlzLmM7XG4gICAgICAgIG1hdHJpeC5kID0gdGhpcy5kO1xuICAgICAgICBtYXRyaXgudHggPSB0aGlzLnR4O1xuICAgICAgICBtYXRyaXgudHkgPSB0aGlzLnR5O1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgdmFsdWVzIG9mIHRoZSBnaXZlbiBtYXRyaXggdG8gYmUgdGhlIHNhbWUgYXMgdGhlIG9uZXMgaW4gdGhpcyBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gY29weSB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hdHJpeCBnaXZlbiBpbiBwYXJhbWV0ZXIgd2l0aCBpdHMgdmFsdWVzIHVwZGF0ZWQuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5jb3B5VG8gPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIG1hdHJpeC5hID0gdGhpcy5hO1xuICAgICAgICBtYXRyaXguYiA9IHRoaXMuYjtcbiAgICAgICAgbWF0cml4LmMgPSB0aGlzLmM7XG4gICAgICAgIG1hdHJpeC5kID0gdGhpcy5kO1xuICAgICAgICBtYXRyaXgudHggPSB0aGlzLnR4O1xuICAgICAgICBtYXRyaXgudHkgPSB0aGlzLnR5O1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgdmFsdWVzIG9mIHRoZSBtYXRyaXggdG8gYmUgdGhlIHNhbWUgYXMgdGhlIG9uZXMgaW4gZ2l2ZW4gbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGNvcHkgZnJvbS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gdGhpc1xuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIHRoaXMuYSA9IG1hdHJpeC5hO1xuICAgICAgICB0aGlzLmIgPSBtYXRyaXguYjtcbiAgICAgICAgdGhpcy5jID0gbWF0cml4LmM7XG4gICAgICAgIHRoaXMuZCA9IG1hdHJpeC5kO1xuICAgICAgICB0aGlzLnR4ID0gbWF0cml4LnR4O1xuICAgICAgICB0aGlzLnR5ID0gbWF0cml4LnR5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE1hdHJpeC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIltAcGl4aS9tYXRoOk1hdHJpeCBhPVwiICsgdGhpcy5hICsgXCIgYj1cIiArIHRoaXMuYiArIFwiIGM9XCIgKyB0aGlzLmMgKyBcIiBkPVwiICsgdGhpcy5kICsgXCIgdHg9XCIgKyB0aGlzLnR4ICsgXCIgdHk9XCIgKyB0aGlzLnR5ICsgXCJdXCI7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWF0cml4LCBcIklERU5USVRZXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZGVmYXVsdCAoaWRlbnRpdHkpIG1hdHJpeFxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXgsIFwiVEVNUF9NQVRSSVhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSB0ZW1wIG1hdHJpeFxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBNYXRyaXg7XG59KCkpO1xuXG4vLyBZb3VyIGZyaWVuZGx5IG5laWdoYm91ciBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9EaWhlZHJhbF9ncm91cFxuLypcbiAqIFRyYW5zZm9ybSBtYXRyaXggZm9yIG9wZXJhdGlvbiBuIGlzOlxuICogfCB1eCB8IHZ4IHxcbiAqIHwgdXkgfCB2eSB8XG4gKi9cbnZhciB1eCA9IFsxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxXTtcbnZhciB1eSA9IFswLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xXTtcbnZhciB2eCA9IFswLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xXTtcbnZhciB2eSA9IFsxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xXTtcbi8qKlxuICogW0NheWxleSBUYWJsZV17QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2F5bGV5X3RhYmxlfVxuICogZm9yIHRoZSBjb21wb3NpdGlvbiBvZiBlYWNoIHJvdGF0aW9uIGluIHRoZSBkaWhlZGVyYWwgZ3JvdXAgRDguXG4gKlxuICogQHR5cGUgbnVtYmVyW11bXVxuICogQHByaXZhdGVcbiAqL1xudmFyIHJvdGF0aW9uQ2F5bGV5ID0gW107XG4vKipcbiAqIE1hdHJpY2VzIGZvciBlYWNoIGBHRDhTeW1tZXRyeWAgcm90YXRpb24uXG4gKlxuICogQHR5cGUgTWF0cml4W11cbiAqIEBwcml2YXRlXG4gKi9cbnZhciByb3RhdGlvbk1hdHJpY2VzID0gW107XG4vKlxuICogQWxpYXMgZm9yIHtAY29kZSBNYXRoLnNpZ259LlxuICovXG52YXIgc2lnbnVtID0gTWF0aC5zaWduO1xuLypcbiAqIEluaXRpYWxpemVzIGByb3RhdGlvbkNheWxleWAgYW5kIGByb3RhdGlvbk1hdHJpY2VzYC4gSXQgaXMgY2FsbGVkXG4gKiBvbmx5IG9uY2UgYmVsb3cuXG4gKi9cbmZ1bmN0aW9uIGluaXQoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgIHZhciByb3cgPSBbXTtcbiAgICAgICAgcm90YXRpb25DYXlsZXkucHVzaChyb3cpO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDE2OyBqKyspIHtcbiAgICAgICAgICAgIC8qIE11bHRpcGxpZXMgcm90YXRpb24gbWF0cmljZXMgaSBhbmQgai4gKi9cbiAgICAgICAgICAgIHZhciBfdXggPSBzaWdudW0oKHV4W2ldICogdXhbal0pICsgKHZ4W2ldICogdXlbal0pKTtcbiAgICAgICAgICAgIHZhciBfdXkgPSBzaWdudW0oKHV5W2ldICogdXhbal0pICsgKHZ5W2ldICogdXlbal0pKTtcbiAgICAgICAgICAgIHZhciBfdnggPSBzaWdudW0oKHV4W2ldICogdnhbal0pICsgKHZ4W2ldICogdnlbal0pKTtcbiAgICAgICAgICAgIHZhciBfdnkgPSBzaWdudW0oKHV5W2ldICogdnhbal0pICsgKHZ5W2ldICogdnlbal0pKTtcbiAgICAgICAgICAgIC8qIEZpbmRzIHJvdGF0aW9uIG1hdHJpeCBtYXRjaGluZyB0aGUgcHJvZHVjdCBhbmQgcHVzaGVzIGl0LiAqL1xuICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCAxNjsgaysrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHV4W2tdID09PSBfdXggJiYgdXlba10gPT09IF91eVxuICAgICAgICAgICAgICAgICAgICAmJiB2eFtrXSA9PT0gX3Z4ICYmIHZ5W2tdID09PSBfdnkpIHtcbiAgICAgICAgICAgICAgICAgICAgcm93LnB1c2goayk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgdmFyIG1hdCA9IG5ldyBNYXRyaXgoKTtcbiAgICAgICAgbWF0LnNldCh1eFtpXSwgdXlbaV0sIHZ4W2ldLCB2eVtpXSwgMCwgMCk7XG4gICAgICAgIHJvdGF0aW9uTWF0cmljZXMucHVzaChtYXQpO1xuICAgIH1cbn1cbmluaXQoKTtcbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtudW1iZXJ9IEdEOFN5bW1ldHJ5XG4gKiBAc2VlIFBJWEkuZ3JvdXBEOFxuICovXG4vKipcbiAqIEltcGxlbWVudHMgdGhlIGRpaGVkcmFsIGdyb3VwIEQ4LCB3aGljaCBpcyBzaW1pbGFyIHRvXG4gKiBbZ3JvdXAgRDRde0BsaW5rIGh0dHA6Ly9tYXRod29ybGQud29sZnJhbS5jb20vRGloZWRyYWxHcm91cEQ0Lmh0bWx9O1xuICogRDggaXMgdGhlIHNhbWUgYnV0IHdpdGggZGlhZ29uYWxzLCBhbmQgaXQgaXMgdXNlZCBmb3IgdGV4dHVyZVxuICogcm90YXRpb25zLlxuICpcbiAqIFRoZSBkaXJlY3Rpb25zIHRoZSBVLSBhbmQgVi0gYXhlcyBhZnRlciByb3RhdGlvblxuICogb2YgYW4gYW5nbGUgb2YgYGE6IEdEOENvbnN0YW50YCBhcmUgdGhlIHZlY3RvcnMgYCh1WChhKSwgdVkoYSkpYFxuICogYW5kIGAodlgoYSksIHZZKGEpKWAuIFRoZXNlIGFyZW4ndCBuZWNlc3NhcmlseSB1bml0IHZlY3RvcnMuXG4gKlxuICogKipPcmlnaW46Kio8YnI+XG4gKiAgVGhpcyBpcyB0aGUgc21hbGwgcGFydCBvZiBnYW1lb2Zib21icy5jb20gcG9ydGFsIHN5c3RlbS4gSXQgd29ya3MuXG4gKlxuICogQHNlZSBQSVhJLmdyb3VwRDguRVxuICogQHNlZSBQSVhJLmdyb3VwRDguU0VcbiAqIEBzZWUgUElYSS5ncm91cEQ4LlNcbiAqIEBzZWUgUElYSS5ncm91cEQ4LlNXXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5XXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5OV1xuICogQHNlZSBQSVhJLmdyb3VwRDguTlxuICogQHNlZSBQSVhJLmdyb3VwRDguTkVcbiAqIEBhdXRob3IgSXZhbiBAaXZhbnBvcGVseXNoZXZcbiAqIEBuYW1lc3BhY2UgUElYSS5ncm91cEQ4XG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgZ3JvdXBEOCA9IHtcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uIHwgRGlyZWN0aW9uIHxcbiAgICAgKiB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tLXxcbiAgICAgKiB8IDDCsCAgICAgICB8IEVhc3QgICAgICB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIEU6IDAsXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiB8IERpcmVjdGlvbiB8XG4gICAgICogfC0tLS0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAgICogfCA0NcKw4oa7ICAgICB8IFNvdXRoZWFzdCB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFNFOiAxLFxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgOTDCsOKGuyAgICAgfCBTb3V0aCAgICAgfFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBTOiAyLFxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgMTM1wrDihrsgICAgfCBTb3V0aHdlc3QgfFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBTVzogMyxcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uIHwgRGlyZWN0aW9uIHxcbiAgICAgKiB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tLXxcbiAgICAgKiB8IDE4MMKwICAgICB8IFdlc3QgICAgICB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFc6IDQsXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiAgICB8IERpcmVjdGlvbiAgICB8XG4gICAgICogfC0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS18XG4gICAgICogfCAtMTM1wrAvMjI1wrDihrsgfCBOb3J0aHdlc3QgICAgfFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBOVzogNSxcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uICAgIHwgRGlyZWN0aW9uICAgIHxcbiAgICAgKiB8LS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLXxcbiAgICAgKiB8IC05MMKwLzI3MMKw4oa7ICB8IE5vcnRoICAgICAgICB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE46IDYsXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiAgICB8IERpcmVjdGlvbiAgICB8XG4gICAgICogfC0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS18XG4gICAgICogfCAtNDXCsC8zMTXCsOKGuyAgfCBOb3J0aGVhc3QgICAgfFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBORTogNyxcbiAgICAvKipcbiAgICAgKiBSZWZsZWN0aW9uIGFib3V0IFktYXhpcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTUlSUk9SX1ZFUlRJQ0FMOiA4LFxuICAgIC8qKlxuICAgICAqIFJlZmxlY3Rpb24gYWJvdXQgdGhlIG1haW4gZGlhZ29uYWwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE1BSU5fRElBR09OQUw6IDEwLFxuICAgIC8qKlxuICAgICAqIFJlZmxlY3Rpb24gYWJvdXQgWC1heGlzLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBNSVJST1JfSE9SSVpPTlRBTDogMTIsXG4gICAgLyoqXG4gICAgICogUmVmbGVjdGlvbiBhYm91dCByZXZlcnNlIGRpYWdvbmFsLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBSRVZFUlNFX0RJQUdPTkFMOiAxNCxcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSBpbmQgLSBzcHJpdGUgcm90YXRpb24gYW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gVGhlIFgtY29tcG9uZW50IG9mIHRoZSBVLWF4aXNcbiAgICAgKiAgICBhZnRlciByb3RhdGluZyB0aGUgYXhlcy5cbiAgICAgKi9cbiAgICB1WDogZnVuY3Rpb24gKGluZCkgeyByZXR1cm4gdXhbaW5kXTsgfSxcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSBpbmQgLSBzcHJpdGUgcm90YXRpb24gYW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gVGhlIFktY29tcG9uZW50IG9mIHRoZSBVLWF4aXNcbiAgICAgKiAgICBhZnRlciByb3RhdGluZyB0aGUgYXhlcy5cbiAgICAgKi9cbiAgICB1WTogZnVuY3Rpb24gKGluZCkgeyByZXR1cm4gdXlbaW5kXTsgfSxcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSBpbmQgLSBzcHJpdGUgcm90YXRpb24gYW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gVGhlIFgtY29tcG9uZW50IG9mIHRoZSBWLWF4aXNcbiAgICAgKiAgICBhZnRlciByb3RhdGluZyB0aGUgYXhlcy5cbiAgICAgKi9cbiAgICB2WDogZnVuY3Rpb24gKGluZCkgeyByZXR1cm4gdnhbaW5kXTsgfSxcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSBpbmQgLSBzcHJpdGUgcm90YXRpb24gYW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gVGhlIFktY29tcG9uZW50IG9mIHRoZSBWLWF4aXNcbiAgICAgKiAgICBhZnRlciByb3RhdGluZyB0aGUgYXhlcy5cbiAgICAgKi9cbiAgICB2WTogZnVuY3Rpb24gKGluZCkgeyByZXR1cm4gdnlbaW5kXTsgfSxcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbiAtIHN5bW1ldHJ5IHdob3NlIG9wcG9zaXRlXG4gICAgICogICBpcyBuZWVkZWQuIE9ubHkgcm90YXRpb25zIGhhdmUgb3Bwb3NpdGUgc3ltbWV0cmllcyB3aGlsZVxuICAgICAqICAgcmVmbGVjdGlvbnMgZG9uJ3QuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gVGhlIG9wcG9zaXRlIHN5bW1ldHJ5IG9mIGByb3RhdGlvbmBcbiAgICAgKi9cbiAgICBpbnY6IGZ1bmN0aW9uIChyb3RhdGlvbikge1xuICAgICAgICBpZiAocm90YXRpb24gJiA4KSAvLyB0cnVlIG9ubHkgaWYgYmV0d2VlbiA4ICYgMTUgKHJlZmxlY3Rpb25zKVxuICAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHJvdGF0aW9uICYgMTU7IC8vIG9yIHJvdGF0aW9uICUgMTZcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKC1yb3RhdGlvbikgJiA3OyAvLyBvciAoOCAtIHJvdGF0aW9uKSAlIDhcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENvbXBvc2VzIHRoZSB0d28gRDggb3BlcmF0aW9ucy5cbiAgICAgKlxuICAgICAqIFRha2luZyBgXmAgYXMgcmVmbGVjdGlvbjpcbiAgICAgKlxuICAgICAqIHwgICAgICAgfCBFPTAgfCBTPTIgfCBXPTQgfCBOPTYgfCBFXj04IHwgU149MTAgfCBXXj0xMiB8IE5ePTE0IHxcbiAgICAgKiB8LS0tLS0tLXwtLS0tLXwtLS0tLXwtLS0tLXwtLS0tLXwtLS0tLS18LS0tLS0tLXwtLS0tLS0tfC0tLS0tLS18XG4gICAgICogfCBFPTAgICB8IEUgICB8IFMgICB8IFcgICB8IE4gICB8IEVeICAgfCBTXiAgICB8IFdeICAgIHwgTl4gICAgfFxuICAgICAqIHwgUz0yICAgfCBTICAgfCBXICAgfCBOICAgfCBFICAgfCBTXiAgIHwgV14gICAgfCBOXiAgICB8IEVeICAgIHxcbiAgICAgKiB8IFc9NCAgIHwgVyAgIHwgTiAgIHwgRSAgIHwgUyAgIHwgV14gICB8IE5eICAgIHwgRV4gICAgfCBTXiAgICB8XG4gICAgICogfCBOPTYgICB8IE4gICB8IEUgICB8IFMgICB8IFcgICB8IE5eICAgfCBFXiAgICB8IFNeICAgIHwgV14gICAgfFxuICAgICAqIHwgRV49OCAgfCBFXiAgfCBOXiAgfCBXXiAgfCBTXiAgfCBFICAgIHwgTiAgICAgfCBXICAgICB8IFMgICAgIHxcbiAgICAgKiB8IFNePTEwIHwgU14gIHwgRV4gIHwgTl4gIHwgV14gIHwgUyAgICB8IEUgICAgIHwgTiAgICAgfCBXICAgICB8XG4gICAgICogfCBXXj0xMiB8IFdeICB8IFNeICB8IEVeICB8IE5eICB8IFcgICAgfCBTICAgICB8IEUgICAgIHwgTiAgICAgfFxuICAgICAqIHwgTl49MTQgfCBOXiAgfCBXXiAgfCBTXiAgfCBFXiAgfCBOICAgIHwgVyAgICAgfCBTICAgICB8IEUgICAgIHxcbiAgICAgKlxuICAgICAqIFtUaGlzIGlzIGEgQ2F5bGV5IHRhYmxlXXtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYXlsZXlfdGFibGV9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb25TZWNvbmQgLSBTZWNvbmQgb3BlcmF0aW9uLCB3aGljaFxuICAgICAqICAgaXMgdGhlIHJvdyBpbiB0aGUgYWJvdmUgY2F5bGV5IHRhYmxlLlxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb25GaXJzdCAtIEZpcnN0IG9wZXJhdGlvbiwgd2hpY2hcbiAgICAgKiAgIGlzIHRoZSBjb2x1bW4gaW4gdGhlIGFib3ZlIGNheWxleSB0YWJsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBDb21wb3NlZCBvcGVyYXRpb25cbiAgICAgKi9cbiAgICBhZGQ6IGZ1bmN0aW9uIChyb3RhdGlvblNlY29uZCwgcm90YXRpb25GaXJzdCkgeyByZXR1cm4gKHJvdGF0aW9uQ2F5bGV5W3JvdGF0aW9uU2Vjb25kXVtyb3RhdGlvbkZpcnN0XSk7IH0sXG4gICAgLyoqXG4gICAgICogUmV2ZXJzZSBvZiBgYWRkYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uU2Vjb25kIC0gU2Vjb25kIG9wZXJhdGlvblxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb25GaXJzdCAtIEZpcnN0IG9wZXJhdGlvblxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IFJlc3VsdFxuICAgICAqL1xuICAgIHN1YjogZnVuY3Rpb24gKHJvdGF0aW9uU2Vjb25kLCByb3RhdGlvbkZpcnN0KSB7IHJldHVybiAocm90YXRpb25DYXlsZXlbcm90YXRpb25TZWNvbmRdW2dyb3VwRDguaW52KHJvdGF0aW9uRmlyc3QpXSk7IH0sXG4gICAgLyoqXG4gICAgICogQWRkcyAxODAgZGVncmVlcyB0byByb3RhdGlvbiwgd2hpY2ggaXMgYSBjb21tdXRhdGl2ZVxuICAgICAqIG9wZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBUaGUgbnVtYmVyIHRvIHJvdGF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSb3RhdGVkIG51bWJlclxuICAgICAqL1xuICAgIHJvdGF0ZTE4MDogZnVuY3Rpb24gKHJvdGF0aW9uKSB7IHJldHVybiByb3RhdGlvbiBeIDQ7IH0sXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSByb3RhdGlvbiBhbmdsZSBpcyB2ZXJ0aWNhbCwgaS5lLiBzb3V0aFxuICAgICAqIG9yIG5vcnRoLiBJdCBkb2Vzbid0IHdvcmsgZm9yIHJlZmxlY3Rpb25zLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb24gLSBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgZGlyZWN0aW9uIGlzIHZlcnRpY2FsXG4gICAgICovXG4gICAgaXNWZXJ0aWNhbDogZnVuY3Rpb24gKHJvdGF0aW9uKSB7IHJldHVybiAocm90YXRpb24gJiAzKSA9PT0gMjsgfSxcbiAgICAvKipcbiAgICAgKiBBcHByb3hpbWF0ZXMgdGhlIHZlY3RvciBgVihkeCxkeSlgIGludG8gb25lIG9mIHRoZVxuICAgICAqIGVpZ2h0IGRpcmVjdGlvbnMgcHJvdmlkZWQgYnkgYGdyb3VwRDhgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkeCAtIFgtY29tcG9uZW50IG9mIHRoZSB2ZWN0b3JcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZHkgLSBZLWNvbXBvbmVudCBvZiB0aGUgdmVjdG9yXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gQXBwcm94aW1hdGlvbiBvZiB0aGUgdmVjdG9yIGludG9cbiAgICAgKiAgb25lIG9mIHRoZSBlaWdodCBzeW1tZXRyaWVzLlxuICAgICAqL1xuICAgIGJ5RGlyZWN0aW9uOiBmdW5jdGlvbiAoZHgsIGR5KSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhkeCkgKiAyIDw9IE1hdGguYWJzKGR5KSkge1xuICAgICAgICAgICAgaWYgKGR5ID49IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5TO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdyb3VwRDguTjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChNYXRoLmFicyhkeSkgKiAyIDw9IE1hdGguYWJzKGR4KSkge1xuICAgICAgICAgICAgaWYgKGR4ID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBncm91cEQ4LkU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5XO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGR5ID4gMCkge1xuICAgICAgICAgICAgaWYgKGR4ID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBncm91cEQ4LlNFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdyb3VwRDguU1c7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5ORTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ3JvdXBEOC5OVztcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEhlbHBzIHNwcml0ZSB0byBjb21wZW5zYXRlIHRleHR1cmUgcGFja2VyIHJvdGF0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIHNwcml0ZSB3b3JsZCBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uIC0gVGhlIHJvdGF0aW9uIGZhY3RvciB0byB1c2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR4IC0gc3ByaXRlIGFuY2hvcmluZ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eSAtIHNwcml0ZSBhbmNob3JpbmdcbiAgICAgKi9cbiAgICBtYXRyaXhBcHBlbmRSb3RhdGlvbkludjogZnVuY3Rpb24gKG1hdHJpeCwgcm90YXRpb24sIHR4LCB0eSkge1xuICAgICAgICBpZiAodHggPT09IHZvaWQgMCkgeyB0eCA9IDA7IH1cbiAgICAgICAgaWYgKHR5ID09PSB2b2lkIDApIHsgdHkgPSAwOyB9XG4gICAgICAgIC8vIFBhY2tlciB1c2VkIFwicm90YXRpb25cIiwgd2UgdXNlIFwiaW52KHJvdGF0aW9uKVwiXG4gICAgICAgIHZhciBtYXQgPSByb3RhdGlvbk1hdHJpY2VzW2dyb3VwRDguaW52KHJvdGF0aW9uKV07XG4gICAgICAgIG1hdC50eCA9IHR4O1xuICAgICAgICBtYXQudHkgPSB0eTtcbiAgICAgICAgbWF0cml4LmFwcGVuZChtYXQpO1xuICAgIH0sXG59O1xuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGF0IHRha2VzIGNhcmUgYWJvdXQgaXRzIHZlcnNpb25zXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVHJhbnNmb3JtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRyYW5zZm9ybSgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3b3JsZCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybSA9IG5ldyBNYXRyaXgoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sb2NhbFRyYW5zZm9ybSA9IG5ldyBNYXRyaXgoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb29yZGluYXRlIG9mIHRoZSBvYmplY3QgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBPYnNlcnZhYmxlUG9pbnQodGhpcy5vbkNoYW5nZSwgdGhpcywgMCwgMCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGUgZmFjdG9yIG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2FsZSA9IG5ldyBPYnNlcnZhYmxlUG9pbnQodGhpcy5vbkNoYW5nZSwgdGhpcywgMSwgMSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGl2b3QgcG9pbnQgb2YgdGhlIGRpc3BsYXlPYmplY3QgdGhhdCBpdCByb3RhdGVzIGFyb3VuZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBpdm90ID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAwLCAwKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBza2V3IGFtb3VudCwgb24gdGhlIHggYW5kIHkgYXhpcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNrZXcgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KHRoaXMudXBkYXRlU2tldywgdGhpcywgMCwgMCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcm90YXRpb24gYW1vdW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JvdGF0aW9uID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBYLWNvb3JkaW5hdGUgdmFsdWUgb2YgdGhlIG5vcm1hbGl6ZWQgbG9jYWwgWCBheGlzLFxuICAgICAgICAgKiB0aGUgZmlyc3QgY29sdW1uIG9mIHRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggd2l0aG91dCBhIHNjYWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2N4ID0gMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBZLWNvb3JkaW5hdGUgdmFsdWUgb2YgdGhlIG5vcm1hbGl6ZWQgbG9jYWwgWCBheGlzLFxuICAgICAgICAgKiB0aGUgZmlyc3QgY29sdW1uIG9mIHRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggd2l0aG91dCBhIHNjYWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3N4ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBYLWNvb3JkaW5hdGUgdmFsdWUgb2YgdGhlIG5vcm1hbGl6ZWQgbG9jYWwgWSBheGlzLFxuICAgICAgICAgKiB0aGUgc2Vjb25kIGNvbHVtbiBvZiB0aGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4IHdpdGhvdXQgYSBzY2FsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jeSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgWS1jb29yZGluYXRlIHZhbHVlIG9mIHRoZSBub3JtYWxpemVkIGxvY2FsIFkgYXhpcyxcbiAgICAgICAgICogdGhlIHNlY29uZCBjb2x1bW4gb2YgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB3aXRob3V0IGEgc2NhbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3kgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxvY2FsbHkgdW5pcXVlIElEIG9mIHRoZSBsb2NhbCB0cmFuc2Zvcm0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbG9jYWxJRCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbG9jYWxseSB1bmlxdWUgSUQgb2YgdGhlIGxvY2FsIHRyYW5zZm9ybVxuICAgICAgICAgKiB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgY3VycmVudCBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY3VycmVudExvY2FsSUQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxvY2FsbHkgdW5pcXVlIElEIG9mIHRoZSB3b3JsZCB0cmFuc2Zvcm0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fd29ybGRJRCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbG9jYWxseSB1bmlxdWUgSUQgb2YgdGhlIHBhcmVudCdzIHdvcmxkIHRyYW5zZm9ybVxuICAgICAgICAgKiB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgY3VycmVudCB3b3JsZCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcGFyZW50SUQgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBhIHZhbHVlIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVHJhbnNmb3JtLnByb3RvdHlwZS5vbkNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fbG9jYWxJRCsrO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIHNrZXcgb3IgdGhlIHJvdGF0aW9uIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVHJhbnNmb3JtLnByb3RvdHlwZS51cGRhdGVTa2V3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9jeCA9IE1hdGguY29zKHRoaXMuX3JvdGF0aW9uICsgdGhpcy5za2V3LnkpO1xuICAgICAgICB0aGlzLl9zeCA9IE1hdGguc2luKHRoaXMuX3JvdGF0aW9uICsgdGhpcy5za2V3LnkpO1xuICAgICAgICB0aGlzLl9jeSA9IC1NYXRoLnNpbih0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy54KTsgLy8gY29zLCBhZGRlZCBQSS8yXG4gICAgICAgIHRoaXMuX3N5ID0gTWF0aC5jb3ModGhpcy5fcm90YXRpb24gLSB0aGlzLnNrZXcueCk7IC8vIHNpbiwgYWRkZWQgUEkvMlxuICAgICAgICB0aGlzLl9sb2NhbElEKys7XG4gICAgfTtcbiAgICBUcmFuc2Zvcm0ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJbQHBpeGkvbWF0aDpUcmFuc2Zvcm0gXCJcbiAgICAgICAgICAgICsgKFwicG9zaXRpb249KFwiICsgdGhpcy5wb3NpdGlvbi54ICsgXCIsIFwiICsgdGhpcy5wb3NpdGlvbi55ICsgXCIpIFwiKVxuICAgICAgICAgICAgKyAoXCJyb3RhdGlvbj1cIiArIHRoaXMucm90YXRpb24gKyBcIiBcIilcbiAgICAgICAgICAgICsgKFwic2NhbGU9KFwiICsgdGhpcy5zY2FsZS54ICsgXCIsIFwiICsgdGhpcy5zY2FsZS55ICsgXCIpIFwiKVxuICAgICAgICAgICAgKyAoXCJza2V3PShcIiArIHRoaXMuc2tldy54ICsgXCIsIFwiICsgdGhpcy5za2V3LnkgKyBcIikgXCIpXG4gICAgICAgICAgICArIFwiXVwiO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuICAgICAqL1xuICAgIFRyYW5zZm9ybS5wcm90b3R5cGUudXBkYXRlTG9jYWxUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG4gICAgICAgIGlmICh0aGlzLl9sb2NhbElEICE9PSB0aGlzLl9jdXJyZW50TG9jYWxJRCkge1xuICAgICAgICAgICAgLy8gZ2V0IHRoZSBtYXRyaXggdmFsdWVzIG9mIHRoZSBkaXNwbGF5b2JqZWN0IGJhc2VkIG9uIGl0cyB0cmFuc2Zvcm0gcHJvcGVydGllcy4uXG4gICAgICAgICAgICBsdC5hID0gdGhpcy5fY3ggKiB0aGlzLnNjYWxlLng7XG4gICAgICAgICAgICBsdC5iID0gdGhpcy5fc3ggKiB0aGlzLnNjYWxlLng7XG4gICAgICAgICAgICBsdC5jID0gdGhpcy5fY3kgKiB0aGlzLnNjYWxlLnk7XG4gICAgICAgICAgICBsdC5kID0gdGhpcy5fc3kgKiB0aGlzLnNjYWxlLnk7XG4gICAgICAgICAgICBsdC50eCA9IHRoaXMucG9zaXRpb24ueCAtICgodGhpcy5waXZvdC54ICogbHQuYSkgKyAodGhpcy5waXZvdC55ICogbHQuYykpO1xuICAgICAgICAgICAgbHQudHkgPSB0aGlzLnBvc2l0aW9uLnkgLSAoKHRoaXMucGl2b3QueCAqIGx0LmIpICsgKHRoaXMucGl2b3QueSAqIGx0LmQpKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRMb2NhbElEID0gdGhpcy5fbG9jYWxJRDtcbiAgICAgICAgICAgIC8vIGZvcmNlIGFuIHVwZGF0ZS4uXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBsb2NhbCBhbmQgdGhlIHdvcmxkIHRyYW5zZm9ybWF0aW9uIG1hdHJpY2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gcGFyZW50VHJhbnNmb3JtIC0gVGhlIHBhcmVudCB0cmFuc2Zvcm1cbiAgICAgKi9cbiAgICBUcmFuc2Zvcm0ucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIChwYXJlbnRUcmFuc2Zvcm0pIHtcbiAgICAgICAgdmFyIGx0ID0gdGhpcy5sb2NhbFRyYW5zZm9ybTtcbiAgICAgICAgaWYgKHRoaXMuX2xvY2FsSUQgIT09IHRoaXMuX2N1cnJlbnRMb2NhbElEKSB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIG1hdHJpeCB2YWx1ZXMgb2YgdGhlIGRpc3BsYXlvYmplY3QgYmFzZWQgb24gaXRzIHRyYW5zZm9ybSBwcm9wZXJ0aWVzLi5cbiAgICAgICAgICAgIGx0LmEgPSB0aGlzLl9jeCAqIHRoaXMuc2NhbGUueDtcbiAgICAgICAgICAgIGx0LmIgPSB0aGlzLl9zeCAqIHRoaXMuc2NhbGUueDtcbiAgICAgICAgICAgIGx0LmMgPSB0aGlzLl9jeSAqIHRoaXMuc2NhbGUueTtcbiAgICAgICAgICAgIGx0LmQgPSB0aGlzLl9zeSAqIHRoaXMuc2NhbGUueTtcbiAgICAgICAgICAgIGx0LnR4ID0gdGhpcy5wb3NpdGlvbi54IC0gKCh0aGlzLnBpdm90LnggKiBsdC5hKSArICh0aGlzLnBpdm90LnkgKiBsdC5jKSk7XG4gICAgICAgICAgICBsdC50eSA9IHRoaXMucG9zaXRpb24ueSAtICgodGhpcy5waXZvdC54ICogbHQuYikgKyAodGhpcy5waXZvdC55ICogbHQuZCkpO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudExvY2FsSUQgPSB0aGlzLl9sb2NhbElEO1xuICAgICAgICAgICAgLy8gZm9yY2UgYW4gdXBkYXRlLi5cbiAgICAgICAgICAgIHRoaXMuX3BhcmVudElEID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3BhcmVudElEICE9PSBwYXJlbnRUcmFuc2Zvcm0uX3dvcmxkSUQpIHtcbiAgICAgICAgICAgIC8vIGNvbmNhdCB0aGUgcGFyZW50IG1hdHJpeCB3aXRoIHRoZSBvYmplY3RzIHRyYW5zZm9ybS5cbiAgICAgICAgICAgIHZhciBwdCA9IHBhcmVudFRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgICAgIHZhciB3dCA9IHRoaXMud29ybGRUcmFuc2Zvcm07XG4gICAgICAgICAgICB3dC5hID0gKGx0LmEgKiBwdC5hKSArIChsdC5iICogcHQuYyk7XG4gICAgICAgICAgICB3dC5iID0gKGx0LmEgKiBwdC5iKSArIChsdC5iICogcHQuZCk7XG4gICAgICAgICAgICB3dC5jID0gKGx0LmMgKiBwdC5hKSArIChsdC5kICogcHQuYyk7XG4gICAgICAgICAgICB3dC5kID0gKGx0LmMgKiBwdC5iKSArIChsdC5kICogcHQuZCk7XG4gICAgICAgICAgICB3dC50eCA9IChsdC50eCAqIHB0LmEpICsgKGx0LnR5ICogcHQuYykgKyBwdC50eDtcbiAgICAgICAgICAgIHd0LnR5ID0gKGx0LnR4ICogcHQuYikgKyAobHQudHkgKiBwdC5kKSArIHB0LnR5O1xuICAgICAgICAgICAgdGhpcy5fcGFyZW50SUQgPSBwYXJlbnRUcmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGlkIG9mIHRoZSB0cmFuc2Zvcm0uLlxuICAgICAgICAgICAgdGhpcy5fd29ybGRJRCsrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZWNvbXBvc2VzIGEgbWF0cml4IGFuZCBzZXRzIHRoZSB0cmFuc2Zvcm1zIHByb3BlcnRpZXMgYmFzZWQgb24gaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGRlY29tcG9zZVxuICAgICAqL1xuICAgIFRyYW5zZm9ybS5wcm90b3R5cGUuc2V0RnJvbU1hdHJpeCA9IGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICAgICAgbWF0cml4LmRlY29tcG9zZSh0aGlzKTtcbiAgICAgICAgdGhpcy5fbG9jYWxJRCsrO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRyYW5zZm9ybS5wcm90b3R5cGUsIFwicm90YXRpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJvdGF0aW9uIG9mIHRoZSBvYmplY3QgaW4gcmFkaWFucy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcm90YXRpb24gIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcm90YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNrZXcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEEgZGVmYXVsdCAoaWRlbnRpdHkpIHRyYW5zZm9ybVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBjb25zdGFudFxuICAgICAqIEBtZW1iZXIge1BJWEkuVHJhbnNmb3JtfVxuICAgICAqL1xuICAgIFRyYW5zZm9ybS5JREVOVElUWSA9IG5ldyBUcmFuc2Zvcm0oKTtcbiAgICByZXR1cm4gVHJhbnNmb3JtO1xufSgpKTtcblxuZXhwb3J0IHsgQ2lyY2xlLCBERUdfVE9fUkFELCBFbGxpcHNlLCBNYXRyaXgsIE9ic2VydmFibGVQb2ludCwgUElfMiwgUG9pbnQsIFBvbHlnb24sIFJBRF9UT19ERUcsIFJlY3RhbmdsZSwgUm91bmRlZFJlY3RhbmdsZSwgU0hBUEVTLCBUcmFuc2Zvcm0sIGdyb3VwRDggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hdGguanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3J1bm5lciAtIHY2LjAuMFxuICogQ29tcGlsZWQgVHVlLCAwMiBNYXIgMjAyMSAyMTo0NTowMyBVVENcbiAqXG4gKiBAcGl4aS9ydW5uZXIgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG4vKipcbiAqIEEgUnVubmVyIGlzIGEgaGlnaGx5IHBlcmZvcm1hbnQgYW5kIHNpbXBsZSBhbHRlcm5hdGl2ZSB0byBzaWduYWxzLiBCZXN0IHVzZWQgaW4gc2l0dWF0aW9uc1xuICogd2hlcmUgZXZlbnRzIGFyZSBkaXNwYXRjaGVkIHRvIG1hbnkgb2JqZWN0cyBhdCBoaWdoIGZyZXF1ZW5jeSAoc2F5IGV2ZXJ5IGZyYW1lISlcbiAqXG4gKlxuICogbGlrZSBhIHNpZ25hbC4uXG4gKiBgYGBcbiAqIGltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG4gKlxuICogY29uc3QgbXlPYmplY3QgPSB7XG4gKiAgICAgbG9hZGVkOiBuZXcgUnVubmVyKCdsb2FkZWQnKVxuICogfVxuICpcbiAqIGNvbnN0IGxpc3RlbmVyID0ge1xuICogICAgIGxvYWRlZDogZnVuY3Rpb24oKXtcbiAqICAgICAgICAgLy8gdGhpblxuICogICAgIH1cbiAqIH1cbiAqXG4gKiBteU9iamVjdC51cGRhdGUuYWRkKGxpc3RlbmVyKTtcbiAqXG4gKiBteU9iamVjdC5sb2FkZWQuZW1pdCgpO1xuICogYGBgXG4gKlxuICogT3IgZm9yIGhhbmRsaW5nIGNhbGxpbmcgdGhlIHNhbWUgZnVuY3Rpb24gb24gbWFueSBpdGVtc1xuICogYGBgXG4gKiBpbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuICpcbiAqIGNvbnN0IG15R2FtZSA9IHtcbiAqICAgICB1cGRhdGU6IG5ldyBSdW5uZXIoJ3VwZGF0ZScpXG4gKiB9XG4gKlxuICogY29uc3QgZ2FtZU9iamVjdCA9IHtcbiAqICAgICB1cGRhdGU6IGZ1bmN0aW9uKHRpbWUpe1xuICogICAgICAgICAvLyB1cGRhdGUgbXkgZ2FtZXkgc3RhdGVcbiAqICAgICB9XG4gKiB9XG4gKlxuICogbXlHYW1lLnVwZGF0ZS5hZGQoZ2FtZU9iamVjdDEpO1xuICpcbiAqIG15R2FtZS51cGRhdGUuZW1pdCh0aW1lKTtcbiAqIGBgYFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUnVubmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqICBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIHRoZSBmdW5jdGlvbiBuYW1lIHRoYXQgd2lsbCBiZSBleGVjdXRlZCBvbiB0aGUgbGlzdGVuZXJzIGFkZGVkIHRvIHRoaXMgUnVubmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJ1bm5lcihuYW1lKSB7XG4gICAgICAgIHRoaXMuaXRlbXMgPSBbXTtcbiAgICAgICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuX2FsaWFzQ291bnQgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaC9Ccm9hZGNhc3QgUnVubmVyIHRvIGFsbCBsaXN0ZW5lcnMgYWRkZWQgdG8gdGhlIHF1ZXVlLlxuICAgICAqIEBwYXJhbSB7Li4uYW55fSBwYXJhbXMgLSBvcHRpb25hbCBwYXJhbWV0ZXJzIHRvIHBhc3MgdG8gZWFjaCBsaXN0ZW5lclxuICAgICAqIEByZXR1cm4ge1BJWEkuUnVubmVyfVxuICAgICAqL1xuICAgIFJ1bm5lci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIChhMCwgYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiA4KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ21heCBhcmd1bWVudHMgcmVhY2hlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIG5hbWUgPSBfYS5uYW1lLCBpdGVtcyA9IF9hLml0ZW1zO1xuICAgICAgICB0aGlzLl9hbGlhc0NvdW50Kys7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBpdGVtcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaXRlbXNbaV1bbmFtZV0oYTAsIGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXRlbXMgPT09IHRoaXMuaXRlbXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2FsaWFzQ291bnQtLTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFJ1bm5lci5wcm90b3R5cGUuZW5zdXJlTm9uQWxpYXNlZEl0ZW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fYWxpYXNDb3VudCA+IDAgJiYgdGhpcy5pdGVtcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0aGlzLl9hbGlhc0NvdW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMuaXRlbXMgPSB0aGlzLml0ZW1zLnNsaWNlKDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYSBsaXN0ZW5lciB0byB0aGUgUnVubmVyXG4gICAgICpcbiAgICAgKiBSdW5uZXJzIGRvIG5vdCBuZWVkIHRvIGhhdmUgc2NvcGUgb3IgZnVuY3Rpb25zIHBhc3NlZCB0byB0aGVtLlxuICAgICAqIEFsbCB0aGF0IGlzIHJlcXVpcmVkIGlzIHRvIHBhc3MgdGhlIGxpc3RlbmluZyBvYmplY3QgYW5kIGVuc3VyZSB0aGF0IGl0IGhhcyBjb250YWlucyBhIGZ1bmN0aW9uIHRoYXQgaGFzIHRoZSBzYW1lIG5hbWVcbiAgICAgKiBhcyB0aGUgbmFtZSBwcm92aWRlZCB0byB0aGUgUnVubmVyIHdoZW4gaXQgd2FzIGNyZWF0ZWQuXG4gICAgICpcbiAgICAgKiBFZyBBIGxpc3RlbmVyIHBhc3NlZCB0byB0aGlzIFJ1bm5lciB3aWxsIHJlcXVpcmUgYSAnY29tcGxldGUnIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogaW1wb3J0IHsgUnVubmVyIH0gZnJvbSAnQHBpeGkvcnVubmVyJztcbiAgICAgKlxuICAgICAqIGNvbnN0IGNvbXBsZXRlID0gbmV3IFJ1bm5lcignY29tcGxldGUnKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFRoZSBzY29wZSB1c2VkIHdpbGwgYmUgdGhlIG9iamVjdCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2FueX0gaXRlbSAtIFRoZSBvYmplY3QgdGhhdCB3aWxsIGJlIGxpc3RlbmluZy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJ1bm5lcn1cbiAgICAgKi9cbiAgICBSdW5uZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGlmIChpdGVtW3RoaXMuX25hbWVdKSB7XG4gICAgICAgICAgICB0aGlzLmVuc3VyZU5vbkFsaWFzZWRJdGVtcygpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUoaXRlbSk7XG4gICAgICAgICAgICB0aGlzLml0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBzaW5nbGUgbGlzdGVuZXIgZnJvbSB0aGUgZGlzcGF0Y2ggcXVldWUuXG4gICAgICogQHBhcmFtIHthbnl9IGl0ZW0gLSBUaGUgbGlzdGVuZXIgdGhhdCB5b3Ugd291bGQgbGlrZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybiB7UElYSS5SdW5uZXJ9XG4gICAgICovXG4gICAgUnVubmVyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLml0ZW1zLmluZGV4T2YoaXRlbSk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuZW5zdXJlTm9uQWxpYXNlZEl0ZW1zKCk7XG4gICAgICAgICAgICB0aGlzLml0ZW1zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVjayB0byBzZWUgaWYgdGhlIGxpc3RlbmVyIGlzIGFscmVhZHkgaW4gdGhlIFJ1bm5lclxuICAgICAqIEBwYXJhbSB7YW55fSBpdGVtIC0gVGhlIGxpc3RlbmVyIHRoYXQgeW91IHdvdWxkIGxpa2UgdG8gY2hlY2suXG4gICAgICovXG4gICAgUnVubmVyLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zLmluZGV4T2YoaXRlbSkgIT09IC0xO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMgZnJvbSB0aGUgUnVubmVyXG4gICAgICogQHJldHVybiB7UElYSS5SdW5uZXJ9XG4gICAgICovXG4gICAgUnVubmVyLnByb3RvdHlwZS5yZW1vdmVBbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW5zdXJlTm9uQWxpYXNlZEl0ZW1zKCk7XG4gICAgICAgIHRoaXMuaXRlbXMubGVuZ3RoID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIHJlZmVyZW5jZXMsIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqL1xuICAgIFJ1bm5lci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBbGwoKTtcbiAgICAgICAgdGhpcy5pdGVtcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX25hbWUgPSBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJ1bm5lci5wcm90b3R5cGUsIFwiZW1wdHlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHRoZXJlIGFyZSBubyB0aGlzIFJ1bm5lciBjb250YWlucyBubyBsaXN0ZW5lcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLml0ZW1zLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSdW5uZXIucHJvdG90eXBlLCBcIm5hbWVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5hbWUgb2YgdGhlIHJ1bm5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gUnVubmVyO1xufSgpKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFJ1bm5lci5wcm90b3R5cGUsIHtcbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgYGVtaXRgXG4gICAgICogQG1lbWJlcm9mIFBJWEkuUnVubmVyI1xuICAgICAqIEBtZXRob2QgZGlzcGF0Y2hcbiAgICAgKiBAc2VlIFBJWEkuUnVubmVyI2VtaXRcbiAgICAgKi9cbiAgICBkaXNwYXRjaDogeyB2YWx1ZTogUnVubmVyLnByb3RvdHlwZS5lbWl0IH0sXG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIGBlbWl0YFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLlJ1bm5lciNcbiAgICAgKiBAbWV0aG9kIHJ1blxuICAgICAqIEBzZWUgUElYSS5SdW5uZXIjZW1pdFxuICAgICAqL1xuICAgIHJ1bjogeyB2YWx1ZTogUnVubmVyLnByb3RvdHlwZS5lbWl0IH0sXG59KTtcblxuZXhwb3J0IHsgUnVubmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ydW5uZXIuanMubWFwXG4iLCJ2YXIgYXBwbGVJcGhvbmUgPSAvaVBob25lL2k7XG52YXIgYXBwbGVJcG9kID0gL2lQb2QvaTtcbnZhciBhcHBsZVRhYmxldCA9IC9pUGFkL2k7XG52YXIgYXBwbGVVbml2ZXJzYWwgPSAvXFxiaU9TLXVuaXZlcnNhbCg/Oi4rKU1hY1xcYi9pO1xudmFyIGFuZHJvaWRQaG9uZSA9IC9cXGJBbmRyb2lkKD86LispTW9iaWxlXFxiL2k7XG52YXIgYW5kcm9pZFRhYmxldCA9IC9BbmRyb2lkL2k7XG52YXIgYW1hem9uUGhvbmUgPSAvKD86U0Q0OTMwVVJ8XFxiU2lsayg/Oi4rKU1vYmlsZVxcYikvaTtcbnZhciBhbWF6b25UYWJsZXQgPSAvU2lsay9pO1xudmFyIHdpbmRvd3NQaG9uZSA9IC9XaW5kb3dzIFBob25lL2k7XG52YXIgd2luZG93c1RhYmxldCA9IC9cXGJXaW5kb3dzKD86LispQVJNXFxiL2k7XG52YXIgb3RoZXJCbGFja0JlcnJ5ID0gL0JsYWNrQmVycnkvaTtcbnZhciBvdGhlckJsYWNrQmVycnkxMCA9IC9CQjEwL2k7XG52YXIgb3RoZXJPcGVyYSA9IC9PcGVyYSBNaW5pL2k7XG52YXIgb3RoZXJDaHJvbWUgPSAvXFxiKENyaU9TfENocm9tZSkoPzouKylNb2JpbGUvaTtcbnZhciBvdGhlckZpcmVmb3ggPSAvTW9iaWxlKD86LispRmlyZWZveFxcYi9pO1xudmFyIGlzQXBwbGVUYWJsZXRPbklvczEzID0gZnVuY3Rpb24gKG5hdmlnYXRvcikge1xuICAgIHJldHVybiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgbmF2aWdhdG9yLnBsYXRmb3JtID09PSAnTWFjSW50ZWwnICYmXG4gICAgICAgIHR5cGVvZiBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPT09ICdudW1iZXInICYmXG4gICAgICAgIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDEgJiZcbiAgICAgICAgdHlwZW9mIE1TU3RyZWFtID09PSAndW5kZWZpbmVkJyk7XG59O1xuZnVuY3Rpb24gY3JlYXRlTWF0Y2godXNlckFnZW50KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZWdleCkgeyByZXR1cm4gcmVnZXgudGVzdCh1c2VyQWdlbnQpOyB9O1xufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNNb2JpbGUocGFyYW0pIHtcbiAgICB2YXIgbmF2ID0ge1xuICAgICAgICB1c2VyQWdlbnQ6ICcnLFxuICAgICAgICBwbGF0Zm9ybTogJycsXG4gICAgICAgIG1heFRvdWNoUG9pbnRzOiAwXG4gICAgfTtcbiAgICBpZiAoIXBhcmFtICYmIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG5hdiA9IHtcbiAgICAgICAgICAgIHVzZXJBZ2VudDogbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgIHBsYXRmb3JtOiBuYXZpZ2F0b3IucGxhdGZvcm0sXG4gICAgICAgICAgICBtYXhUb3VjaFBvaW50czogbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzIHx8IDBcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHBhcmFtID09PSAnc3RyaW5nJykge1xuICAgICAgICBuYXYudXNlckFnZW50ID0gcGFyYW07XG4gICAgfVxuICAgIGVsc2UgaWYgKHBhcmFtICYmIHBhcmFtLnVzZXJBZ2VudCkge1xuICAgICAgICBuYXYgPSB7XG4gICAgICAgICAgICB1c2VyQWdlbnQ6IHBhcmFtLnVzZXJBZ2VudCxcbiAgICAgICAgICAgIHBsYXRmb3JtOiBwYXJhbS5wbGF0Zm9ybSxcbiAgICAgICAgICAgIG1heFRvdWNoUG9pbnRzOiBwYXJhbS5tYXhUb3VjaFBvaW50cyB8fCAwXG4gICAgICAgIH07XG4gICAgfVxuICAgIHZhciB1c2VyQWdlbnQgPSBuYXYudXNlckFnZW50O1xuICAgIHZhciB0bXAgPSB1c2VyQWdlbnQuc3BsaXQoJ1tGQkFOJyk7XG4gICAgaWYgKHR5cGVvZiB0bXBbMV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHVzZXJBZ2VudCA9IHRtcFswXTtcbiAgICB9XG4gICAgdG1wID0gdXNlckFnZW50LnNwbGl0KCdUd2l0dGVyJyk7XG4gICAgaWYgKHR5cGVvZiB0bXBbMV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHVzZXJBZ2VudCA9IHRtcFswXTtcbiAgICB9XG4gICAgdmFyIG1hdGNoID0gY3JlYXRlTWF0Y2godXNlckFnZW50KTtcbiAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICBhcHBsZToge1xuICAgICAgICAgICAgcGhvbmU6IG1hdGNoKGFwcGxlSXBob25lKSAmJiAhbWF0Y2god2luZG93c1Bob25lKSxcbiAgICAgICAgICAgIGlwb2Q6IG1hdGNoKGFwcGxlSXBvZCksXG4gICAgICAgICAgICB0YWJsZXQ6ICFtYXRjaChhcHBsZUlwaG9uZSkgJiZcbiAgICAgICAgICAgICAgICAobWF0Y2goYXBwbGVUYWJsZXQpIHx8IGlzQXBwbGVUYWJsZXRPbklvczEzKG5hdikpICYmXG4gICAgICAgICAgICAgICAgIW1hdGNoKHdpbmRvd3NQaG9uZSksXG4gICAgICAgICAgICB1bml2ZXJzYWw6IG1hdGNoKGFwcGxlVW5pdmVyc2FsKSxcbiAgICAgICAgICAgIGRldmljZTogKG1hdGNoKGFwcGxlSXBob25lKSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKGFwcGxlSXBvZCkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChhcHBsZVRhYmxldCkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChhcHBsZVVuaXZlcnNhbCkgfHxcbiAgICAgICAgICAgICAgICBpc0FwcGxlVGFibGV0T25Jb3MxMyhuYXYpKSAmJlxuICAgICAgICAgICAgICAgICFtYXRjaCh3aW5kb3dzUGhvbmUpXG4gICAgICAgIH0sXG4gICAgICAgIGFtYXpvbjoge1xuICAgICAgICAgICAgcGhvbmU6IG1hdGNoKGFtYXpvblBob25lKSxcbiAgICAgICAgICAgIHRhYmxldDogIW1hdGNoKGFtYXpvblBob25lKSAmJiBtYXRjaChhbWF6b25UYWJsZXQpLFxuICAgICAgICAgICAgZGV2aWNlOiBtYXRjaChhbWF6b25QaG9uZSkgfHwgbWF0Y2goYW1hem9uVGFibGV0KVxuICAgICAgICB9LFxuICAgICAgICBhbmRyb2lkOiB7XG4gICAgICAgICAgICBwaG9uZTogKCFtYXRjaCh3aW5kb3dzUGhvbmUpICYmIG1hdGNoKGFtYXpvblBob25lKSkgfHxcbiAgICAgICAgICAgICAgICAoIW1hdGNoKHdpbmRvd3NQaG9uZSkgJiYgbWF0Y2goYW5kcm9pZFBob25lKSksXG4gICAgICAgICAgICB0YWJsZXQ6ICFtYXRjaCh3aW5kb3dzUGhvbmUpICYmXG4gICAgICAgICAgICAgICAgIW1hdGNoKGFtYXpvblBob25lKSAmJlxuICAgICAgICAgICAgICAgICFtYXRjaChhbmRyb2lkUGhvbmUpICYmXG4gICAgICAgICAgICAgICAgKG1hdGNoKGFtYXpvblRhYmxldCkgfHwgbWF0Y2goYW5kcm9pZFRhYmxldCkpLFxuICAgICAgICAgICAgZGV2aWNlOiAoIW1hdGNoKHdpbmRvd3NQaG9uZSkgJiZcbiAgICAgICAgICAgICAgICAobWF0Y2goYW1hem9uUGhvbmUpIHx8XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoKGFtYXpvblRhYmxldCkgfHxcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2goYW5kcm9pZFBob25lKSB8fFxuICAgICAgICAgICAgICAgICAgICBtYXRjaChhbmRyb2lkVGFibGV0KSkpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2goL1xcYm9raHR0cFxcYi9pKVxuICAgICAgICB9LFxuICAgICAgICB3aW5kb3dzOiB7XG4gICAgICAgICAgICBwaG9uZTogbWF0Y2god2luZG93c1Bob25lKSxcbiAgICAgICAgICAgIHRhYmxldDogbWF0Y2god2luZG93c1RhYmxldCksXG4gICAgICAgICAgICBkZXZpY2U6IG1hdGNoKHdpbmRvd3NQaG9uZSkgfHwgbWF0Y2god2luZG93c1RhYmxldClcbiAgICAgICAgfSxcbiAgICAgICAgb3RoZXI6IHtcbiAgICAgICAgICAgIGJsYWNrYmVycnk6IG1hdGNoKG90aGVyQmxhY2tCZXJyeSksXG4gICAgICAgICAgICBibGFja2JlcnJ5MTA6IG1hdGNoKG90aGVyQmxhY2tCZXJyeTEwKSxcbiAgICAgICAgICAgIG9wZXJhOiBtYXRjaChvdGhlck9wZXJhKSxcbiAgICAgICAgICAgIGZpcmVmb3g6IG1hdGNoKG90aGVyRmlyZWZveCksXG4gICAgICAgICAgICBjaHJvbWU6IG1hdGNoKG90aGVyQ2hyb21lKSxcbiAgICAgICAgICAgIGRldmljZTogbWF0Y2gob3RoZXJCbGFja0JlcnJ5KSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKG90aGVyQmxhY2tCZXJyeTEwKSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKG90aGVyT3BlcmEpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2gob3RoZXJGaXJlZm94KSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKG90aGVyQ2hyb21lKVxuICAgICAgICB9LFxuICAgICAgICBhbnk6IGZhbHNlLFxuICAgICAgICBwaG9uZTogZmFsc2UsXG4gICAgICAgIHRhYmxldDogZmFsc2VcbiAgICB9O1xuICAgIHJlc3VsdC5hbnkgPVxuICAgICAgICByZXN1bHQuYXBwbGUuZGV2aWNlIHx8XG4gICAgICAgICAgICByZXN1bHQuYW5kcm9pZC5kZXZpY2UgfHxcbiAgICAgICAgICAgIHJlc3VsdC53aW5kb3dzLmRldmljZSB8fFxuICAgICAgICAgICAgcmVzdWx0Lm90aGVyLmRldmljZTtcbiAgICByZXN1bHQucGhvbmUgPVxuICAgICAgICByZXN1bHQuYXBwbGUucGhvbmUgfHwgcmVzdWx0LmFuZHJvaWQucGhvbmUgfHwgcmVzdWx0LndpbmRvd3MucGhvbmU7XG4gICAgcmVzdWx0LnRhYmxldCA9XG4gICAgICAgIHJlc3VsdC5hcHBsZS50YWJsZXQgfHwgcmVzdWx0LmFuZHJvaWQudGFibGV0IHx8IHJlc3VsdC53aW5kb3dzLnRhYmxldDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNNb2JpbGUuanMubWFwIiwiLyohXG4gKiBAcGl4aS9zZXR0aW5ncyAtIHY2LjAuMFxuICogQ29tcGlsZWQgVHVlLCAwMiBNYXIgMjAyMSAyMTo0NTowMyBVVENcbiAqXG4gKiBAcGl4aS9zZXR0aW5ncyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCBpc01vYmlsZUNhbGwgZnJvbSAnaXNtb2JpbGVqcyc7XG5cbi8vIFRoZSBFU00vQ0pTIHZlcnNpb25zIG9mIGlzbW9iaWxlanMgb25seVxudmFyIGlzTW9iaWxlID0gaXNNb2JpbGVDYWxsKHNlbGYubmF2aWdhdG9yKTtcblxuLyoqXG4gKiBUaGUgbWF4aW11bSByZWNvbW1lbmRlZCB0ZXh0dXJlIHVuaXRzIHRvIHVzZS5cbiAqIEluIHRoZW9yeSB0aGUgYmlnZ2VyIHRoZSBiZXR0ZXIsIGFuZCBmb3IgZGVza3RvcCB3ZSdsbCB1c2UgYXMgbWFueSBhcyB3ZSBjYW4uXG4gKiBCdXQgc29tZSBtb2JpbGUgZGV2aWNlcyBzbG93IGRvd24gaWYgdGhlcmUgaXMgdG8gbWFueSBicmFuY2hlcyBpbiB0aGUgc2hhZGVyLlxuICogU28gaW4gcHJhY3RpY2UgdGhlcmUgc2VlbXMgdG8gYmUgYSBzd2VldCBzcG90IHNpemUgdGhhdCB2YXJpZXMgZGVwZW5kaW5nIG9uIHRoZSBkZXZpY2UuXG4gKlxuICogSW4gdjQsIGFsbCBtb2JpbGUgZGV2aWNlcyB3ZXJlIGxpbWl0ZWQgdG8gNCB0ZXh0dXJlIHVuaXRzIGJlY2F1c2UgZm9yIHRoaXMuXG4gKiBJbiB2NSwgd2UgYWxsb3cgYWxsIHRleHR1cmUgdW5pdHMgdG8gYmUgdXNlZCBvbiBtb2Rlcm4gQXBwbGUgb3IgQW5kcm9pZCBkZXZpY2VzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBtYXhSZWNvbW1lbmRlZFRleHR1cmVzKG1heCkge1xuICAgIHZhciBhbGxvd01heCA9IHRydWU7XG4gICAgaWYgKGlzTW9iaWxlLnRhYmxldCB8fCBpc01vYmlsZS5waG9uZSkge1xuICAgICAgICBpZiAoaXNNb2JpbGUuYXBwbGUuZGV2aWNlKSB7XG4gICAgICAgICAgICB2YXIgbWF0Y2ggPSAobmF2aWdhdG9yLnVzZXJBZ2VudCkubWF0Y2goL09TIChcXGQrKV8oXFxkKyk/Lyk7XG4gICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFqb3JWZXJzaW9uID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcbiAgICAgICAgICAgICAgICAvLyBMaW1pdCB0ZXh0dXJlIHVuaXRzIG9uIGRldmljZXMgYmVsb3cgaU9TIDExLCB3aGljaCB3aWxsIGJlIG9sZGVyIGhhcmR3YXJlXG4gICAgICAgICAgICAgICAgaWYgKG1ham9yVmVyc2lvbiA8IDExKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsbG93TWF4ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc01vYmlsZS5hbmRyb2lkLmRldmljZSkge1xuICAgICAgICAgICAgdmFyIG1hdGNoID0gKG5hdmlnYXRvci51c2VyQWdlbnQpLm1hdGNoKC9BbmRyb2lkXFxzKFswLTkuXSopLyk7XG4gICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFqb3JWZXJzaW9uID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcbiAgICAgICAgICAgICAgICAvLyBMaW1pdCB0ZXh0dXJlIHVuaXRzIG9uIGRldmljZXMgYmVsb3cgQW5kcm9pZCA3IChOb3VnYXQpLCB3aGljaCB3aWxsIGJlIG9sZGVyIGhhcmR3YXJlXG4gICAgICAgICAgICAgICAgaWYgKG1ham9yVmVyc2lvbiA8IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dNYXggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFsbG93TWF4ID8gbWF4IDogNDtcbn1cblxuLyoqXG4gKiBVcGxvYWRpbmcgdGhlIHNhbWUgYnVmZmVyIG11bHRpcGxlIHRpbWVzIGluIGEgc2luZ2xlIGZyYW1lIGNhbiBjYXVzZSBwZXJmb3JtYW5jZSBpc3N1ZXMuXG4gKiBBcHBhcmVudCBvbiBpT1Mgc28gb25seSBjaGVjayBmb3IgdGhhdCBhdCB0aGUgbW9tZW50XG4gKiBUaGlzIGNoZWNrIG1heSBiZWNvbWUgbW9yZSBjb21wbGV4IGlmIHRoaXMgaXNzdWUgcG9wcyB1cCBlbHNld2hlcmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBjYW5VcGxvYWRTYW1lQnVmZmVyKCkge1xuICAgIHJldHVybiAhaXNNb2JpbGUuYXBwbGUuZGV2aWNlO1xufVxuXG4vKipcbiAqIFVzZXIncyBjdXN0b21pemFibGUgZ2xvYmFscyBmb3Igb3ZlcnJpZGluZyB0aGUgZGVmYXVsdCBQSVhJIHNldHRpbmdzLCBzdWNoXG4gKiBhcyBhIHJlbmRlcmVyJ3MgZGVmYXVsdCByZXNvbHV0aW9uLCBmcmFtZXJhdGUsIGZsb2F0IHByZWNpc2lvbiwgZXRjLlxuICogQGV4YW1wbGVcbiAqIC8vIFVzZSB0aGUgbmF0aXZlIHdpbmRvdyByZXNvbHV0aW9uIGFzIHRoZSBkZWZhdWx0IHJlc29sdXRpb25cbiAqIC8vIHdpbGwgc3VwcG9ydCBoaWdoLWRlbnNpdHkgZGlzcGxheXMgd2hlbiByZW5kZXJpbmdcbiAqIFBJWEkuc2V0dGluZ3MuUkVTT0xVVElPTiA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICpcbiAqIC8vIERpc2FibGUgaW50ZXJwb2xhdGlvbiB3aGVuIHNjYWxpbmcsIHdpbGwgbWFrZSB0ZXh0dXJlIGJlIHBpeGVsYXRlZFxuICogUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFID0gUElYSS5TQ0FMRV9NT0RFUy5ORUFSRVNUO1xuICogQG5hbWVzcGFjZSBQSVhJLnNldHRpbmdzXG4gKi9cbnZhciBzZXR0aW5ncyA9IHtcbiAgICAvKipcbiAgICAgKiBJZiBzZXQgdG8gdHJ1ZSBXZWJHTCB3aWxsIGF0dGVtcHQgbWFrZSB0ZXh0dXJlcyBtaW1wYXBlZCBieSBkZWZhdWx0LlxuICAgICAqIE1pcG1hcHBpbmcgd2lsbCBvbmx5IHN1Y2NlZWQgaWYgdGhlIGJhc2UgdGV4dHVyZSB1cGxvYWRlZCBoYXMgcG93ZXIgb2YgdHdvIGRpbWVuc2lvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgTUlQTUFQX1RFWFRVUkVTXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5NSVBNQVBfTU9ERVN9XG4gICAgICogQGRlZmF1bHQgUElYSS5NSVBNQVBfTU9ERVMuUE9XMlxuICAgICAqL1xuICAgIE1JUE1BUF9URVhUVVJFUzogMSxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGFuaXNvdHJvcGljIGZpbHRlcmluZyBsZXZlbCBvZiB0ZXh0dXJlcy5cbiAgICAgKiBVc3VhbGx5IGZyb20gMCB0byAxNlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEFOSVNPVFJPUElDX0xFVkVMXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICBBTklTT1RST1BJQ19MRVZFTDogMCxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFJFU09MVVRJT05cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIFJFU09MVVRJT046IDEsXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBmaWx0ZXIgcmVzb2x1dGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBGSUxURVJfUkVTT0xVVElPTlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgRklMVEVSX1JFU09MVVRJT046IDEsXG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gdGV4dHVyZXMgdGhhdCB0aGlzIGRldmljZSBzdXBwb3J0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBTUFJJVEVfTUFYX1RFWFRVUkVTXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDMyXG4gICAgICovXG4gICAgU1BSSVRFX01BWF9URVhUVVJFUzogbWF4UmVjb21tZW5kZWRUZXh0dXJlcygzMiksXG4gICAgLy8gVE9ETzogbWF5YmUgY2hhbmdlIHRvIFNQUklURS5CQVRDSF9TSVpFOiAyMDAwXG4gICAgLy8gVE9ETzogbWF5YmUgYWRkIFBBUlRJQ0xFLkJBVENIX1NJWkU6IDE1MDAwXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgc3ByaXRlIGJhdGNoIHNpemUuXG4gICAgICpcbiAgICAgKiBUaGUgZGVmYXVsdCBhaW1zIHRvIGJhbGFuY2UgZGVza3RvcCBhbmQgbW9iaWxlIGRldmljZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgU1BSSVRFX0JBVENIX1NJWkVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgNDA5NlxuICAgICAqL1xuICAgIFNQUklURV9CQVRDSF9TSVpFOiA0MDk2LFxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHJlbmRlciBvcHRpb25zIGlmIG5vbmUgYXJlIHN1cHBsaWVkIHRvIHtAbGluayBQSVhJLlJlbmRlcmVyfVxuICAgICAqIG9yIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyfS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBSRU5ERVJfT1BUSU9OU1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge0hUTUxDYW52YXNFbGVtZW50fSB2aWV3PW51bGxcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gcmVzb2x1dGlvbj0xXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBhbnRpYWxpYXM9ZmFsc2VcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGF1dG9EZW5zaXR5PWZhbHNlXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSB1c2VDb250ZXh0QWxwaGE9dHJ1ZVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBiYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gYmFja2dyb3VuZEFscGhhPTFcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGNsZWFyQmVmb3JlUmVuZGVyPXRydWVcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aWR0aD04MDBcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gaGVpZ2h0PTYwMFxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gbGVnYWN5PWZhbHNlXG4gICAgICovXG4gICAgUkVOREVSX09QVElPTlM6IHtcbiAgICAgICAgdmlldzogbnVsbCxcbiAgICAgICAgYW50aWFsaWFzOiBmYWxzZSxcbiAgICAgICAgYXV0b0RlbnNpdHk6IGZhbHNlLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IDB4MDAwMDAwLFxuICAgICAgICBiYWNrZ3JvdW5kQWxwaGE6IDEsXG4gICAgICAgIHVzZUNvbnRleHRBbHBoYTogdHJ1ZSxcbiAgICAgICAgY2xlYXJCZWZvcmVSZW5kZXI6IHRydWUsXG4gICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogZmFsc2UsXG4gICAgICAgIHdpZHRoOiA4MDAsXG4gICAgICAgIGhlaWdodDogNjAwLFxuICAgICAgICBsZWdhY3k6IGZhbHNlLFxuICAgIH0sXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBHYXJiYWdlIENvbGxlY3Rpb24gbW9kZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBHQ19NT0RFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5HQ19NT0RFU31cbiAgICAgKiBAZGVmYXVsdCBQSVhJLkdDX01PREVTLkFVVE9cbiAgICAgKi9cbiAgICBHQ19NT0RFOiAwLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgR2FyYmFnZSBDb2xsZWN0aW9uIG1heCBpZGxlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEdDX01BWF9JRExFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDM2MDBcbiAgICAgKi9cbiAgICBHQ19NQVhfSURMRTogNjAgKiA2MCxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtYXhpbXVtIGNoZWNrIGNvdW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEdDX01BWF9DSEVDS19DT1VOVFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCA2MDBcbiAgICAgKi9cbiAgICBHQ19NQVhfQ0hFQ0tfQ09VTlQ6IDYwICogMTAsXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCB3cmFwIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFdSQVBfTU9ERVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuV1JBUF9NT0RFU31cbiAgICAgKiBAZGVmYXVsdCBQSVhJLldSQVBfTU9ERVMuQ0xBTVBcbiAgICAgKi9cbiAgICBXUkFQX01PREU6IDMzMDcxLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgc2NhbGUgbW9kZSBmb3IgdGV4dHVyZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgU0NBTEVfTU9ERVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuU0NBTEVfTU9ERVN9XG4gICAgICogQGRlZmF1bHQgUElYSS5TQ0FMRV9NT0RFUy5MSU5FQVJcbiAgICAgKi9cbiAgICBTQ0FMRV9NT0RFOiAxLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gdmVydGV4IHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBQUkVDSVNJT05fVkVSVEVYXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5QUkVDSVNJT059XG4gICAgICogQGRlZmF1bHQgUElYSS5QUkVDSVNJT04uSElHSFxuICAgICAqL1xuICAgIFBSRUNJU0lPTl9WRVJURVg6ICdoaWdocCcsXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBzcGVjaWZ5IGZsb2F0IHByZWNpc2lvbiBpbiBmcmFnbWVudCBzaGFkZXIuXG4gICAgICogaU9TIGlzIGJlc3Qgc2V0IGF0IGhpZ2hwIGR1ZSB0byBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzM3NDJcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBQUkVDSVNJT05fRlJBR01FTlRcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLlBSRUNJU0lPTn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLlBSRUNJU0lPTi5NRURJVU1cbiAgICAgKi9cbiAgICBQUkVDSVNJT05fRlJBR01FTlQ6IGlzTW9iaWxlLmFwcGxlLmRldmljZSA/ICdoaWdocCcgOiAnbWVkaXVtcCcsXG4gICAgLyoqXG4gICAgICogQ2FuIHdlIHVwbG9hZCB0aGUgc2FtZSBidWZmZXIgaW4gYSBzaW5nbGUgZnJhbWU/XG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUjogY2FuVXBsb2FkU2FtZUJ1ZmZlcigpLFxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgYml0bWFwIGNyZWF0aW9uIGJlZm9yZSBpbWFnZSBsb2FkLiBUaGlzIGZlYXR1cmUgaXMgZXhwZXJpbWVudGFsLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIENSRUFURV9JTUFHRV9CSVRNQVBcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgQ1JFQVRFX0lNQUdFX0JJVE1BUDogZmFsc2UsXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICogVGhlIG1haW4gZGlzYWR2YW50YWdlIGlzIG1vdmVtZW50IG9mIG9iamVjdHMgbWF5IGFwcGVhciBsZXNzIHNtb290aC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgUk9VTkRfUElYRUxTOiBmYWxzZSxcbn07XG5cbmV4cG9ydCB7IGlzTW9iaWxlLCBzZXR0aW5ncyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2V0dGluZ3MuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3RpY2tlciAtIHY2LjAuMFxuICogQ29tcGlsZWQgVHVlLCAwMiBNYXIgMjAyMSAyMTo0NTowMyBVVENcbiAqXG4gKiBAcGl4aS90aWNrZXIgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxuLyoqXG4gKiBUYXJnZXQgZnJhbWVzIHBlciBtaWxsaXNlY29uZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUQVJHRVRfRlBNU1xuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCAwLjA2XG4gKi9cbnNldHRpbmdzLlRBUkdFVF9GUE1TID0gMC4wNjtcblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSB1cGRhdGUgcHJpb3JpdGllcyB1c2VkIGJ5IGludGVybmFsIFBJWEkgY2xhc3NlcyB3aGVuIHJlZ2lzdGVyZWQgd2l0aFxuICogdGhlIHtAbGluayBQSVhJLlRpY2tlcn0gb2JqZWN0LiBIaWdoZXIgcHJpb3JpdHkgaXRlbXMgYXJlIHVwZGF0ZWQgZmlyc3QgYW5kIGxvd2VyXG4gKiBwcmlvcml0eSBpdGVtcywgc3VjaCBhcyByZW5kZXIsIHNob3VsZCBnbyBsYXRlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFVQREFURV9QUklPUklUWVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gSU5URVJBQ1RJT049NTAgSGlnaGVzdCBwcmlvcml0eSwgdXNlZCBmb3Ige0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhJR0g9MjUgSGlnaCBwcmlvcml0eSB1cGRhdGluZywge0BsaW5rIFBJWEkuVmlkZW9CYXNlVGV4dHVyZX0gYW5kIHtAbGluayBQSVhJLkFuaW1hdGVkU3ByaXRlfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTD0wIERlZmF1bHQgcHJpb3JpdHkgZm9yIHRpY2tlciBldmVudHMsIHNlZSB7QGxpbmsgUElYSS5UaWNrZXIjYWRkfS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMT1c9LTI1IExvdyBwcmlvcml0eSB1c2VkIGZvciB7QGxpbmsgUElYSS5BcHBsaWNhdGlvbn0gcmVuZGVyaW5nLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVUSUxJVFk9LTUwIExvd2VzdCBwcmlvcml0eSB1c2VkIGZvciB7QGxpbmsgUElYSS5CYXNlUHJlcGFyZX0gdXRpbGl0eS5cbiAqL1xudmFyIFVQREFURV9QUklPUklUWTtcbihmdW5jdGlvbiAoVVBEQVRFX1BSSU9SSVRZKSB7XG4gICAgVVBEQVRFX1BSSU9SSVRZW1VQREFURV9QUklPUklUWVtcIklOVEVSQUNUSU9OXCJdID0gNTBdID0gXCJJTlRFUkFDVElPTlwiO1xuICAgIFVQREFURV9QUklPUklUWVtVUERBVEVfUFJJT1JJVFlbXCJISUdIXCJdID0gMjVdID0gXCJISUdIXCI7XG4gICAgVVBEQVRFX1BSSU9SSVRZW1VQREFURV9QUklPUklUWVtcIk5PUk1BTFwiXSA9IDBdID0gXCJOT1JNQUxcIjtcbiAgICBVUERBVEVfUFJJT1JJVFlbVVBEQVRFX1BSSU9SSVRZW1wiTE9XXCJdID0gLTI1XSA9IFwiTE9XXCI7XG4gICAgVVBEQVRFX1BSSU9SSVRZW1VQREFURV9QUklPUklUWVtcIlVUSUxJVFlcIl0gPSAtNTBdID0gXCJVVElMSVRZXCI7XG59KShVUERBVEVfUFJJT1JJVFkgfHwgKFVQREFURV9QUklPUklUWSA9IHt9KSk7XG5cbi8qKlxuICogSW50ZXJuYWwgY2xhc3MgZm9yIGhhbmRsaW5nIHRoZSBwcmlvcml0eSBzb3J0aW5nIG9mIHRpY2tlciBoYW5kbGVycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGlja2VyTGlzdGVuZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3Igb25lIHVwZGF0ZVxuICAgICAqIEBwYXJhbSBjb250ZXh0IC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcGFyYW0gcHJpb3JpdHkgLSBUaGUgcHJpb3JpdHkgZm9yIGVtaXR0aW5nXG4gICAgICogQHBhcmFtIG9uY2UgLSBJZiB0aGUgaGFuZGxlciBzaG91bGQgZmlyZSBvbmNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlja2VyTGlzdGVuZXIoZm4sIGNvbnRleHQsIHByaW9yaXR5LCBvbmNlKSB7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IG51bGw7IH1cbiAgICAgICAgaWYgKHByaW9yaXR5ID09PSB2b2lkIDApIHsgcHJpb3JpdHkgPSAwOyB9XG4gICAgICAgIGlmIChvbmNlID09PSB2b2lkIDApIHsgb25jZSA9IGZhbHNlOyB9XG4gICAgICAgIC8qKiBUaGUgbmV4dCBpdGVtIGluIGNoYWluLiAqL1xuICAgICAgICB0aGlzLm5leHQgPSBudWxsO1xuICAgICAgICAvKiogVGhlIHByZXZpb3VzIGl0ZW0gaW4gY2hhaW4uICovXG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBudWxsO1xuICAgICAgICAvKiogYHRydWVgIGlmIHRoaXMgbGlzdGVuZXIgaGFzIGJlZW4gZGVzdHJveWVkIGFscmVhZHkuICovXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZuID0gZm47XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgICAgICAgdGhpcy5vbmNlID0gb25jZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2ltcGxlIGNvbXBhcmUgZnVuY3Rpb24gdG8gZmlndXJlIG91dCBpZiBhIGZ1bmN0aW9uIGFuZCBjb250ZXh0IG1hdGNoLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIGNvbnRleHQgLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICAgICAqIEByZXR1cm4gYHRydWVgIGlmIHRoZSBsaXN0ZW5lciBtYXRjaCB0aGUgYXJndW1lbnRzXG4gICAgICovXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLm1hdGNoID0gZnVuY3Rpb24gKGZuLCBjb250ZXh0KSB7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IG51bGw7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZm4gPT09IGZuICYmIHRoaXMuY29udGV4dCA9PT0gY29udGV4dDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVtaXQgYnkgY2FsbGluZyB0aGUgY3VycmVudCBmdW5jdGlvbi5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSBkZWx0YVRpbWUgLSB0aW1lIHNpbmNlIHRoZSBsYXN0IGVtaXQuXG4gICAgICogQHJldHVybiBOZXh0IHRpY2tlclxuICAgICAqL1xuICAgIFRpY2tlckxpc3RlbmVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gKGRlbHRhVGltZSkge1xuICAgICAgICBpZiAodGhpcy5mbikge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udGV4dCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZm4uY2FsbCh0aGlzLmNvbnRleHQsIGRlbHRhVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZuKGRlbHRhVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlZGlyZWN0ID0gdGhpcy5uZXh0O1xuICAgICAgICBpZiAodGhpcy5vbmNlKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU29mdC1kZXN0cm95aW5nIHNob3VsZCByZW1vdmVcbiAgICAgICAgLy8gdGhlIG5leHQgcmVmZXJlbmNlXG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZGlyZWN0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29ubmVjdCB0byB0aGUgbGlzdC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSBwcmV2aW91cyAtIElucHV0IG5vZGUsIHByZXZpb3VzIGxpc3RlbmVyXG4gICAgICovXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAocHJldmlvdXMpIHtcbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IHByZXZpb3VzO1xuICAgICAgICBpZiAocHJldmlvdXMubmV4dCkge1xuICAgICAgICAgICAgcHJldmlvdXMubmV4dC5wcmV2aW91cyA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uZXh0ID0gcHJldmlvdXMubmV4dDtcbiAgICAgICAgcHJldmlvdXMubmV4dCA9IHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSBoYXJkIC0gYHRydWVgIHRvIHJlbW92ZSB0aGUgYG5leHRgIHJlZmVyZW5jZSwgdGhpc1xuICAgICAqICAgICAgICBpcyBjb25zaWRlcmVkIGEgaGFyZCBkZXN0cm95LiBTb2Z0IGRlc3Ryb3kgbWFpbnRhaW5zIHRoZSBuZXh0IHJlZmVyZW5jZS5cbiAgICAgKiBAcmV0dXJuIFRoZSBsaXN0ZW5lciB0byByZWRpcmVjdCB3aGlsZSBlbWl0dGluZyBvciByZW1vdmluZy5cbiAgICAgKi9cbiAgICBUaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChoYXJkKSB7XG4gICAgICAgIGlmIChoYXJkID09PSB2b2lkIDApIHsgaGFyZCA9IGZhbHNlOyB9XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZm4gPSBudWxsO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICAvLyBEaXNjb25uZWN0LCBob29rIHVwIG5leHQgYW5kIHByZXZpb3VzXG4gICAgICAgIGlmICh0aGlzLnByZXZpb3VzKSB7XG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzLm5leHQgPSB0aGlzLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubmV4dCkge1xuICAgICAgICAgICAgdGhpcy5uZXh0LnByZXZpb3VzID0gdGhpcy5wcmV2aW91cztcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWRpcmVjdCB0byB0aGUgbmV4dCBpdGVtXG4gICAgICAgIHZhciByZWRpcmVjdCA9IHRoaXMubmV4dDtcbiAgICAgICAgLy8gUmVtb3ZlIHJlZmVyZW5jZXNcbiAgICAgICAgdGhpcy5uZXh0ID0gaGFyZCA/IG51bGwgOiByZWRpcmVjdDtcbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IG51bGw7XG4gICAgICAgIHJldHVybiByZWRpcmVjdDtcbiAgICB9O1xuICAgIHJldHVybiBUaWNrZXJMaXN0ZW5lcjtcbn0oKSk7XG5cbi8qKlxuICogQSBUaWNrZXIgY2xhc3MgdGhhdCBydW5zIGFuIHVwZGF0ZSBsb29wIHRoYXQgb3RoZXIgb2JqZWN0cyBsaXN0ZW4gdG8uXG4gKlxuICogVGhpcyBjbGFzcyBpcyBjb21wb3NlZCBhcm91bmQgbGlzdGVuZXJzIG1lYW50IGZvciBleGVjdXRpb24gb24gdGhlIG5leHQgcmVxdWVzdGVkIGFuaW1hdGlvbiBmcmFtZS5cbiAqIEFuaW1hdGlvbiBmcmFtZXMgYXJlIHJlcXVlc3RlZCBvbmx5IHdoZW4gbmVjZXNzYXJ5LCBlLmcuIFdoZW4gdGhlIHRpY2tlciBpcyBzdGFydGVkIGFuZCB0aGUgZW1pdHRlciBoYXMgbGlzdGVuZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpY2tlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUaWNrZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGlzIHRpY2tlciBzaG91bGQgaW52b2tlIHRoZSBtZXRob2RcbiAgICAgICAgICoge0BsaW5rIFBJWEkuVGlja2VyI3N0YXJ0fSBhdXRvbWF0aWNhbGx5XG4gICAgICAgICAqIHdoZW4gYSBsaXN0ZW5lciBpcyBhZGRlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b1N0YXJ0ID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FsYXIgdGltZSB2YWx1ZSBmcm9tIGxhc3QgZnJhbWUgdG8gdGhpcyBmcmFtZS5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyBjYXBwZWQgYnkgc2V0dGluZyB7QGxpbmsgUElYSS5UaWNrZXIjbWluRlBTfVxuICAgICAgICAgKiBhbmQgaXMgc2NhbGVkIHdpdGgge0BsaW5rIFBJWEkuVGlja2VyI3NwZWVkfS5cbiAgICAgICAgICogKipOb3RlOioqIFRoZSBjYXAgbWF5IGJlIGV4Y2VlZGVkIGJ5IHNjYWxpbmcuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlbHRhVGltZSA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGFzdCB0aW1lIHtAbGluayBQSVhJLlRpY2tlciN1cGRhdGV9IHdhcyBpbnZva2VkLlxuICAgICAgICAgKiBUaGlzIHZhbHVlIGlzIGFsc28gcmVzZXQgaW50ZXJuYWxseSBvdXRzaWRlIG9mIGludm9raW5nXG4gICAgICAgICAqIHVwZGF0ZSwgYnV0IG9ubHkgd2hlbiBhIG5ldyBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkLlxuICAgICAgICAgKiBJZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgRE9NSGlnaFJlc1RpbWVTdGFtcCxcbiAgICAgICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxhc3RUaW1lID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGYWN0b3Igb2YgY3VycmVudCB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfS5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gU2NhbGVzIHRpY2tlci5kZWx0YVRpbWUgdG8gd2hhdCB3b3VsZCBiZVxuICAgICAgICAgKiAvLyB0aGUgZXF1aXZhbGVudCBvZiBhcHByb3hpbWF0ZWx5IDEyMCBGUFNcbiAgICAgICAgICogdGlja2VyLnNwZWVkID0gMjtcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3BlZWQgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhpcyB0aWNrZXIgaGFzIGJlZW4gc3RhcnRlZC5cbiAgICAgICAgICogYHRydWVgIGlmIHtAbGluayBQSVhJLlRpY2tlciNzdGFydH0gaGFzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgKiBgZmFsc2VgIGlmIHtAbGluayBQSVhJLlRpY2tlciNzdG9wfSBoYXMgYmVlbiBjYWxsZWQuXG4gICAgICAgICAqIFdoaWxlIGBmYWxzZWAsIHRoaXMgdmFsdWUgbWF5IGNoYW5nZSB0byBgdHJ1ZWAgaW4gdGhlXG4gICAgICAgICAqIGV2ZW50IG9mIHtAbGluayBQSVhJLlRpY2tlciNhdXRvU3RhcnR9IGJlaW5nIGB0cnVlYFxuICAgICAgICAgKiBhbmQgYSBsaXN0ZW5lciBpcyBhZGRlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAvKiogSW50ZXJuYWwgY3VycmVudCBmcmFtZSByZXF1ZXN0IElEICovXG4gICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCB2YWx1ZSBtYW5hZ2VkIGJ5IG1pbkZQUyBwcm9wZXJ0eSBzZXR0ZXIgYW5kIGdldHRlci5cbiAgICAgICAgICogVGhpcyBpcyB0aGUgbWF4aW11bSBhbGxvd2VkIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIHVwZGF0ZXMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tYXhFbGFwc2VkTVMgPSAxMDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCB2YWx1ZSBtYW5hZ2VkIGJ5IG1pbkZQUyBwcm9wZXJ0eSBzZXR0ZXIgYW5kIGdldHRlci5cbiAgICAgICAgICogVGhpcyBpcyB0aGUgbWF4aW11bSBhbGxvd2VkIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIHVwZGF0ZXMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9taW5FbGFwc2VkTVMgPSAwO1xuICAgICAgICAvKiogSWYgZW5hYmxlZCwgZGVsZXRpbmcgaXMgZGlzYWJsZWQuKi9cbiAgICAgICAgdGhpcy5fcHJvdGVjdGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGFzdCB0aW1lIGtleWZyYW1lIHdhcyBleGVjdXRlZC5cbiAgICAgICAgICogTWFpbnRhaW5zIGEgcmVsYXRpdmVseSBmaXhlZCBpbnRlcnZhbCB3aXRoIHRoZSBwcmV2aW91cyB2YWx1ZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xhc3RGcmFtZSA9IC0xO1xuICAgICAgICB0aGlzLl9oZWFkID0gbmV3IFRpY2tlckxpc3RlbmVyKG51bGwsIG51bGwsIEluZmluaXR5KTtcbiAgICAgICAgdGhpcy5kZWx0YU1TID0gMSAvIHNldHRpbmdzLlRBUkdFVF9GUE1TO1xuICAgICAgICB0aGlzLmVsYXBzZWRNUyA9IDEgLyBzZXR0aW5ncy5UQVJHRVRfRlBNUztcbiAgICAgICAgdGhpcy5fdGljayA9IGZ1bmN0aW9uICh0aW1lKSB7XG4gICAgICAgICAgICBfdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChfdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICAgICAgLy8gSW52b2tlIGxpc3RlbmVycyBub3dcbiAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGUodGltZSk7XG4gICAgICAgICAgICAgICAgLy8gTGlzdGVuZXIgc2lkZSBlZmZlY3RzIG1heSBoYXZlIG1vZGlmaWVkIHRpY2tlciBzdGF0ZS5cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuc3RhcnRlZCAmJiBfdGhpcy5fcmVxdWVzdElkID09PSBudWxsICYmIF90aGlzLl9oZWFkLm5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3JlcXVlc3RJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShfdGhpcy5fdGljayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25kaXRpb25hbGx5IHJlcXVlc3RzIGEgbmV3IGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKiBJZiBhIGZyYW1lIGhhcyBub3QgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZCwgYW5kIGlmIHRoZSBpbnRlcm5hbFxuICAgICAqIGVtaXR0ZXIgaGFzIGxpc3RlbmVycywgYSBuZXcgZnJhbWUgaXMgcmVxdWVzdGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLl9yZXF1ZXN0SWZOZWVkZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZXF1ZXN0SWQgPT09IG51bGwgJiYgdGhpcy5faGVhZC5uZXh0KSB7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2FsbGJhY2tzIGdldCBjb3JyZWN0IGRlbHRhXG4gICAgICAgICAgICB0aGlzLmxhc3RUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICB0aGlzLl9sYXN0RnJhbWUgPSB0aGlzLmxhc3RUaW1lO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX3RpY2spO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb25kaXRpb25hbGx5IGNhbmNlbHMgYSBwZW5kaW5nIGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuX2NhbmNlbElmTmVlZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVxdWVzdElkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9yZXF1ZXN0SWQpO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSByZXF1ZXN0cyBhIG5ldyBhbmltYXRpb24gZnJhbWUuXG4gICAgICogSWYgdGhlIHRpY2tlciBoYXMgYmVlbiBzdGFydGVkIGl0IGNoZWNrcyBpZiBhIGZyYW1lIGhhcyBub3QgYWxyZWFkeVxuICAgICAqIGJlZW4gcmVxdWVzdGVkLCBhbmQgaWYgdGhlIGludGVybmFsIGVtaXR0ZXIgaGFzIGxpc3RlbmVycy4gSWYgdGhlc2VcbiAgICAgKiBjb25kaXRpb25zIGFyZSBtZXQsIGEgbmV3IGZyYW1lIGlzIHJlcXVlc3RlZC4gSWYgdGhlIHRpY2tlciBoYXMgbm90XG4gICAgICogYmVlbiBzdGFydGVkLCBidXQgYXV0b1N0YXJ0IGlzIGB0cnVlYCwgdGhlbiB0aGUgdGlja2VyIHN0YXJ0cyBub3csXG4gICAgICogYW5kIGNvbnRpbnVlcyB3aXRoIHRoZSBwcmV2aW91cyBjb25kaXRpb25zIHRvIHJlcXVlc3QgYSBuZXcgZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuX3N0YXJ0SWZQb3NzaWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hdXRvU3RhcnQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBoYW5kbGVyIGZvciB0aWNrIGV2ZW50cy4gQ2FsbHMgY29udGludW91c2x5IHVubGVzc1xuICAgICAqIGl0IGlzIHJlbW92ZWQgb3IgdGhlIHRpY2tlciBpcyBzdG9wcGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciB1cGRhdGVzXG4gICAgICogQHBhcmFtIGNvbnRleHQgLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9UElYSS5VUERBVEVfUFJJT1JJVFkuTk9STUFMXSAtIFRoZSBwcmlvcml0eSBmb3IgZW1pdHRpbmdcbiAgICAgKiBAcmV0dXJucyBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZm4sIGNvbnRleHQsIHByaW9yaXR5KSB7XG4gICAgICAgIGlmIChwcmlvcml0eSA9PT0gdm9pZCAwKSB7IHByaW9yaXR5ID0gVVBEQVRFX1BSSU9SSVRZLk5PUk1BTDsgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkTGlzdGVuZXIobmV3IFRpY2tlckxpc3RlbmVyKGZuLCBjb250ZXh0LCBwcmlvcml0eSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGEgaGFuZGxlciBmb3IgdGhlIHRpY2sgZXZlbnQgd2hpY2ggaXMgb25seSBleGVjdXRlIG9uY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIG9uZSB1cGRhdGVcbiAgICAgKiBAcGFyYW0gY29udGV4dCAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT1QSVhJLlVQREFURV9QUklPUklUWS5OT1JNQUxdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICAgICAqIEByZXR1cm5zIFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLmFkZE9uY2UgPSBmdW5jdGlvbiAoZm4sIGNvbnRleHQsIHByaW9yaXR5KSB7XG4gICAgICAgIGlmIChwcmlvcml0eSA9PT0gdm9pZCAwKSB7IHByaW9yaXR5ID0gVVBEQVRFX1BSSU9SSVRZLk5PUk1BTDsgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkTGlzdGVuZXIobmV3IFRpY2tlckxpc3RlbmVyKGZuLCBjb250ZXh0LCBwcmlvcml0eSwgdHJ1ZSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWxseSBhZGRzIHRoZSBldmVudCBoYW5kbGVyIHNvIHRoYXQgaXQgY2FuIGJlIHNvcnRlZCBieSBwcmlvcml0eS5cbiAgICAgKiBQcmlvcml0eSBhbGxvd3MgY2VydGFpbiBoYW5kbGVyICh1c2VyLCBBbmltYXRlZFNwcml0ZSwgSW50ZXJhY3Rpb24pIHRvIGJlIHJ1blxuICAgICAqIGJlZm9yZSB0aGUgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXIgLSBDdXJyZW50IGxpc3RlbmVyIGJlaW5nIGFkZGVkLlxuICAgICAqIEByZXR1cm5zIFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLl9hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICAvLyBGb3IgYXR0YWNoaW5nIHRvIGhlYWRcbiAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLl9oZWFkLm5leHQ7XG4gICAgICAgIHZhciBwcmV2aW91cyA9IHRoaXMuX2hlYWQ7XG4gICAgICAgIC8vIEFkZCB0aGUgZmlyc3QgaXRlbVxuICAgICAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gR28gZnJvbSBoaWdoZXN0IHRvIGxvd2VzdCBwcmlvcml0eVxuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIucHJpb3JpdHkgPiBjdXJyZW50LnByaW9yaXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldmlvdXMgPSBjdXJyZW50O1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBOb3QgeWV0IGNvbm5lY3RlZFxuICAgICAgICAgICAgaWYgKCFsaXN0ZW5lci5wcmV2aW91cykge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0YXJ0SWZQb3NzaWJsZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW55IGhhbmRsZXJzIG1hdGNoaW5nIHRoZSBmdW5jdGlvbiBhbmQgY29udGV4dCBwYXJhbWV0ZXJzLlxuICAgICAqIElmIG5vIGhhbmRsZXJzIGFyZSBsZWZ0IGFmdGVyIHJlbW92aW5nLCB0aGVuIGl0IGNhbmNlbHMgdGhlIGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSByZW1vdmVkXG4gICAgICogQHBhcmFtIGNvbnRleHQgLSBUaGUgbGlzdGVuZXIgY29udGV4dCB0byBiZSByZW1vdmVkXG4gICAgICogQHJldHVybnMgVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGZuLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBsaXN0ZW5lciA9IHRoaXMuX2hlYWQubmV4dDtcbiAgICAgICAgd2hpbGUgKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAvLyBXZSBmb3VuZCBhIG1hdGNoLCBsZXRzIHJlbW92ZSBpdFxuICAgICAgICAgICAgLy8gbm8gYnJlYWsgdG8gZGVsZXRlIGFsbCBwb3NzaWJsZSBtYXRjaGVzXG4gICAgICAgICAgICAvLyBpbmNhc2UgYSBsaXN0ZW5lciB3YXMgYWRkZWQgMisgdGltZXNcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5tYXRjaChmbiwgY29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2hlYWQubmV4dCkge1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWNrZXIucHJvdG90eXBlLCBcImNvdW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIG9uIHRoaXMgdGlja2VyLCBjYWxjdWxhdGVkIGJ5IHdhbGtpbmcgdGhyb3VnaCBsaW5rZWQgbGlzdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2hlYWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuX2hlYWQ7XG4gICAgICAgICAgICB3aGlsZSAoKGN1cnJlbnQgPSBjdXJyZW50Lm5leHQpKSB7XG4gICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb3VudDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0aGUgdGlja2VyLiBJZiB0aGUgdGlja2VyIGhhcyBsaXN0ZW5lcnNcbiAgICAgKiBhIG5ldyBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkIGF0IHRoaXMgcG9pbnQuXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWZOZWVkZWQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIHRpY2tlci4gSWYgdGhlIHRpY2tlciBoYXMgcmVxdWVzdGVkXG4gICAgICogYW4gYW5pbWF0aW9uIGZyYW1lIGl0IGlzIGNhbmNlbGVkIGF0IHRoaXMgcG9pbnQuXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhlIHRpY2tlciBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuIENhbGxpbmdcbiAgICAgKiB0aGlzIG1ldGhvZCByZW1vdmVzIGFsbCByZWZlcmVuY2VzIHRvIGludGVybmFsIGV2ZW50cy5cbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5fcHJvdGVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgICAgIHZhciBsaXN0ZW5lciA9IHRoaXMuX2hlYWQubmV4dDtcbiAgICAgICAgICAgIHdoaWxlIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2hlYWQuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5faGVhZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRyaWdnZXJzIGFuIHVwZGF0ZS4gQW4gdXBkYXRlIGVudGFpbHMgc2V0dGluZyB0aGVcbiAgICAgKiBjdXJyZW50IHtAbGluayBQSVhJLlRpY2tlciNlbGFwc2VkTVN9LFxuICAgICAqIHRoZSBjdXJyZW50IHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9LFxuICAgICAqIGludm9raW5nIGFsbCBsaXN0ZW5lcnMgd2l0aCBjdXJyZW50IGRlbHRhVGltZSxcbiAgICAgKiBhbmQgdGhlbiBmaW5hbGx5IHNldHRpbmcge0BsaW5rIFBJWEkuVGlja2VyI2xhc3RUaW1lfVxuICAgICAqIHdpdGggdGhlIHZhbHVlIG9mIGN1cnJlbnRUaW1lIHRoYXQgd2FzIHByb3ZpZGVkLlxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgYmUgY2FsbGVkIGF1dG9tYXRpY2FsbHkgYnkgYW5pbWF0aW9uXG4gICAgICogZnJhbWUgY2FsbGJhY2tzIGlmIHRoZSB0aWNrZXIgaW5zdGFuY2UgaGFzIGJlZW4gc3RhcnRlZFxuICAgICAqIGFuZCBsaXN0ZW5lcnMgYXJlIGFkZGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjdXJyZW50VGltZT1wZXJmb3JtYW5jZS5ub3coKV0gLSB0aGUgY3VycmVudCB0aW1lIG9mIGV4ZWN1dGlvblxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGN1cnJlbnRUaW1lKSB7XG4gICAgICAgIGlmIChjdXJyZW50VGltZSA9PT0gdm9pZCAwKSB7IGN1cnJlbnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7IH1cbiAgICAgICAgdmFyIGVsYXBzZWRNUztcbiAgICAgICAgLy8gSWYgdGhlIGRpZmZlcmVuY2UgaW4gdGltZSBpcyB6ZXJvIG9yIG5lZ2F0aXZlLCB3ZSBpZ25vcmUgbW9zdCBvZiB0aGUgd29yayBkb25lIGhlcmUuXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIHZhbGlkIGRpZmZlcmVuY2UsIHRoZW4gc2hvdWxkIGJlIG5vIHJlYXNvbiB0byBsZXQgYW55b25lIGtub3cgYWJvdXQgaXQuXG4gICAgICAgIC8vIEEgemVybyBkZWx0YSwgaXMgZXhhY3RseSB0aGF0LCBub3RoaW5nIHNob3VsZCB1cGRhdGUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSBkaWZmZXJlbmNlIGluIHRpbWUgY2FuIGJlIG5lZ2F0aXZlLCBhbmQgbm8gdGhpcyBkb2VzIG5vdCBtZWFuIHRpbWUgdHJhdmVsaW5nLlxuICAgICAgICAvLyBUaGlzIGNhbiBiZSB0aGUgcmVzdWx0IG9mIGEgcmFjZSBjb25kaXRpb24gYmV0d2VlbiB3aGVuIGFuIGFuaW1hdGlvbiBmcmFtZSBpcyByZXF1ZXN0ZWRcbiAgICAgICAgLy8gb24gdGhlIGN1cnJlbnQgSmF2YVNjcmlwdCBlbmdpbmUgZXZlbnQgbG9vcCwgYW5kIHdoZW4gdGhlIHRpY2tlcidzIHN0YXJ0IG1ldGhvZCBpcyBpbnZva2VkXG4gICAgICAgIC8vICh3aGljaCBpbnZva2VzIHRoZSBpbnRlcm5hbCBfcmVxdWVzdElmTmVlZGVkIG1ldGhvZCkuIElmIGEgZnJhbWUgaXMgcmVxdWVzdGVkIGJlZm9yZVxuICAgICAgICAvLyBfcmVxdWVzdElmTmVlZGVkIGlzIGludm9rZWQsIHRoZW4gdGhlIGNhbGxiYWNrIGZvciB0aGUgYW5pbWF0aW9uIGZyYW1lIHRoZSB0aWNrZXIgcmVxdWVzdHMsXG4gICAgICAgIC8vIGNhbiByZWNlaXZlIGEgdGltZSBhcmd1bWVudCB0aGF0IGNhbiBiZSBsZXNzIHRoYW4gdGhlIGxhc3RUaW1lIHZhbHVlIHRoYXQgd2FzIHNldCB3aXRoaW5cbiAgICAgICAgLy8gX3JlcXVlc3RJZk5lZWRlZC4gVGhpcyBkaWZmZXJlbmNlIGlzIGluIG1pY3Jvc2Vjb25kcywgYnV0IHRoaXMgaXMgZW5vdWdoIHRvIGNhdXNlIHByb2JsZW1zLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGNoZWNrIGNvdmVycyB0aGlzIGJyb3dzZXIgZW5naW5lIHRpbWluZyBpc3N1ZSwgYXMgd2VsbCBhcyBpZiBjb25zdW1lcnMgcGFzcyBhbiBpbnZhbGlkXG4gICAgICAgIC8vIGN1cnJlbnRUaW1lIHZhbHVlLiBUaGlzIG1heSBoYXBwZW4gaWYgY29uc3VtZXJzIG9wdC1vdXQgb2YgdGhlIGF1dG9TdGFydCwgYW5kIHVwZGF0ZSB0aGVtc2VsdmVzLlxuICAgICAgICBpZiAoY3VycmVudFRpbWUgPiB0aGlzLmxhc3RUaW1lKSB7XG4gICAgICAgICAgICAvLyBTYXZlIHVuY2FwcGVkIGVsYXBzZWRNUyBmb3IgbWVhc3VyZW1lbnRcbiAgICAgICAgICAgIGVsYXBzZWRNUyA9IHRoaXMuZWxhcHNlZE1TID0gY3VycmVudFRpbWUgLSB0aGlzLmxhc3RUaW1lO1xuICAgICAgICAgICAgLy8gY2FwIHRoZSBtaWxsaXNlY29uZHMgZWxhcHNlZCB1c2VkIGZvciBkZWx0YVRpbWVcbiAgICAgICAgICAgIGlmIChlbGFwc2VkTVMgPiB0aGlzLl9tYXhFbGFwc2VkTVMpIHtcbiAgICAgICAgICAgICAgICBlbGFwc2VkTVMgPSB0aGlzLl9tYXhFbGFwc2VkTVM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbGFwc2VkTVMgKj0gdGhpcy5zcGVlZDtcbiAgICAgICAgICAgIC8vIElmIG5vdCBlbm91Z2ggdGltZSBoYXMgcGFzc2VkLCBleGl0IHRoZSBmdW5jdGlvbi5cbiAgICAgICAgICAgIC8vIEdldCByZWFkeSBmb3IgbmV4dCBmcmFtZSBieSBzZXR0aW5nIF9sYXN0RnJhbWUsIGJ1dCBiYXNlZCBvbiBfbWluRWxhcHNlZE1TXG4gICAgICAgICAgICAvLyBhZGp1c3RtZW50IHRvIGVuc3VyZSBhIHJlbGF0aXZlbHkgc3RhYmxlIGludGVydmFsLlxuICAgICAgICAgICAgaWYgKHRoaXMuX21pbkVsYXBzZWRNUykge1xuICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IGN1cnJlbnRUaW1lIC0gdGhpcy5fbGFzdEZyYW1lIHwgMDtcbiAgICAgICAgICAgICAgICBpZiAoZGVsdGEgPCB0aGlzLl9taW5FbGFwc2VkTVMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0RnJhbWUgPSBjdXJyZW50VGltZSAtIChkZWx0YSAlIHRoaXMuX21pbkVsYXBzZWRNUyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlbHRhTVMgPSBlbGFwc2VkTVM7XG4gICAgICAgICAgICB0aGlzLmRlbHRhVGltZSA9IHRoaXMuZGVsdGFNUyAqIHNldHRpbmdzLlRBUkdFVF9GUE1TO1xuICAgICAgICAgICAgLy8gQ2FjaGUgYSBsb2NhbCByZWZlcmVuY2UsIGluLWNhc2UgdGlja2VyIGlzIGRlc3Ryb3llZFxuICAgICAgICAgICAgLy8gZHVyaW5nIHRoZSBlbWl0LCB3ZSBjYW4gc3RpbGwgY2hlY2sgZm9yIGhlYWQubmV4dFxuICAgICAgICAgICAgdmFyIGhlYWQgPSB0aGlzLl9oZWFkO1xuICAgICAgICAgICAgLy8gSW52b2tlIGxpc3RlbmVycyBhZGRlZCB0byBpbnRlcm5hbCBlbWl0dGVyXG4gICAgICAgICAgICB2YXIgbGlzdGVuZXIgPSBoZWFkLm5leHQ7XG4gICAgICAgICAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmVtaXQodGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFoZWFkLm5leHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYW5jZWxJZk5lZWRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSB0aGlzLmRlbHRhTVMgPSB0aGlzLmVsYXBzZWRNUyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpY2tlci5wcm90b3R5cGUsIFwiRlBTXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmcmFtZXMgcGVyIHNlY29uZCBhdCB3aGljaCB0aGlzIHRpY2tlciBpcyBydW5uaW5nLlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBpcyBhcHByb3hpbWF0ZWx5IDYwIGluIG1vc3QgbW9kZXJuIGJyb3dzZXJzLlxuICAgICAgICAgKiAqKk5vdGU6KiogVGhpcyBkb2VzIG5vdCBmYWN0b3IgaW4gdGhlIHZhbHVlIG9mXG4gICAgICAgICAqIHtAbGluayBQSVhJLlRpY2tlciNzcGVlZH0sIHdoaWNoIGlzIHNwZWNpZmljXG4gICAgICAgICAqIHRvIHNjYWxpbmcge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAxMDAwIC8gdGhpcy5lbGFwc2VkTVM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlja2VyLnByb3RvdHlwZSwgXCJtaW5GUFNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFuYWdlcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgbWlsbGlzZWNvbmRzIGFsbG93ZWQgdG9cbiAgICAgICAgICogZWxhcHNlIGJldHdlZW4gaW52b2tpbmcge0BsaW5rIFBJWEkuVGlja2VyI3VwZGF0ZX0uXG4gICAgICAgICAqIFRoaXMgdmFsdWUgaXMgdXNlZCB0byBjYXAge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX0sXG4gICAgICAgICAqIGJ1dCBkb2VzIG5vdCBlZmZlY3QgdGhlIG1lYXN1cmVkIHZhbHVlIG9mIHtAbGluayBQSVhJLlRpY2tlciNGUFN9LlxuICAgICAgICAgKiBXaGVuIHNldHRpbmcgdGhpcyBwcm9wZXJ0eSBpdCBpcyBjbGFtcGVkIHRvIGEgdmFsdWUgYmV0d2VlblxuICAgICAgICAgKiBgMGAgYW5kIGBQSVhJLnNldHRpbmdzLlRBUkdFVF9GUE1TICogMTAwMGAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTBcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIDEwMDAgLyB0aGlzLl9tYXhFbGFwc2VkTVM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZwcykge1xuICAgICAgICAgICAgLy8gTWluaW11bSBtdXN0IGJlIGJlbG93IHRoZSBtYXhGUFNcbiAgICAgICAgICAgIHZhciBtaW5GUFMgPSBNYXRoLm1pbih0aGlzLm1heEZQUywgZnBzKTtcbiAgICAgICAgICAgIC8vIE11c3QgYmUgYXQgbGVhc3QgMCwgYnV0IGJlbG93IDEgLyBzZXR0aW5ncy5UQVJHRVRfRlBNU1xuICAgICAgICAgICAgdmFyIG1pbkZQTVMgPSBNYXRoLm1pbihNYXRoLm1heCgwLCBtaW5GUFMpIC8gMTAwMCwgc2V0dGluZ3MuVEFSR0VUX0ZQTVMpO1xuICAgICAgICAgICAgdGhpcy5fbWF4RWxhcHNlZE1TID0gMSAvIG1pbkZQTVM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlja2VyLnByb3RvdHlwZSwgXCJtYXhGUFNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFuYWdlcyB0aGUgbWluaW11bSBhbW91bnQgb2YgbWlsbGlzZWNvbmRzIHJlcXVpcmVkIHRvXG4gICAgICAgICAqIGVsYXBzZSBiZXR3ZWVuIGludm9raW5nIHtAbGluayBQSVhJLlRpY2tlciN1cGRhdGV9LlxuICAgICAgICAgKiBUaGlzIHdpbGwgZWZmZWN0IHRoZSBtZWFzdXJlZCB2YWx1ZSBvZiB7QGxpbmsgUElYSS5UaWNrZXIjRlBTfS5cbiAgICAgICAgICogSWYgaXQgaXMgc2V0IHRvIGAwYCwgdGhlbiB0aGVyZSBpcyBubyBsaW1pdDsgUGl4aUpTIHdpbGwgcmVuZGVyIGFzIG1hbnkgZnJhbWVzIGFzIGl0IGNhbi5cbiAgICAgICAgICogT3RoZXJ3aXNlIGl0IHdpbGwgYmUgYXQgbGVhc3QgYG1pbkZQU2BcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9taW5FbGFwc2VkTVMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgxMDAwIC8gdGhpcy5fbWluRWxhcHNlZE1TKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmcHMpIHtcbiAgICAgICAgICAgIGlmIChmcHMgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5FbGFwc2VkTVMgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTWF4IG11c3QgYmUgYXQgbGVhc3QgdGhlIG1pbkZQU1xuICAgICAgICAgICAgICAgIHZhciBtYXhGUFMgPSBNYXRoLm1heCh0aGlzLm1pbkZQUywgZnBzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5FbGFwc2VkTVMgPSAxIC8gKG1heEZQUyAvIDEwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpY2tlciwgXCJzaGFyZWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNoYXJlZCB0aWNrZXIgaW5zdGFuY2UgdXNlZCBieSB7QGxpbmsgUElYSS5BbmltYXRlZFNwcml0ZX0gYW5kIGJ5XG4gICAgICAgICAqIHtAbGluayBQSVhJLlZpZGVvUmVzb3VyY2V9IHRvIHVwZGF0ZSBhbmltYXRpb24gZnJhbWVzIC8gdmlkZW8gdGV4dHVyZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEl0IG1heSBhbHNvIGJlIHVzZWQgYnkge0BsaW5rIFBJWEkuQXBwbGljYXRpb259IGlmIGNyZWF0ZWQgd2l0aCB0aGUgYHNoYXJlZFRpY2tlcmAgb3B0aW9uIHByb3BlcnR5IHNldCB0byB0cnVlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgcHJvcGVydHkge0BsaW5rIFBJWEkuVGlja2VyI2F1dG9TdGFydH0gaXMgc2V0IHRvIGB0cnVlYCBmb3IgdGhpcyBpbnN0YW5jZS5cbiAgICAgICAgICogUGxlYXNlIGZvbGxvdyB0aGUgZXhhbXBsZXMgZm9yIHVzYWdlLCBpbmNsdWRpbmcgaG93IHRvIG9wdC1vdXQgb2YgYXV0by1zdGFydGluZyB0aGUgc2hhcmVkIHRpY2tlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogbGV0IHRpY2tlciA9IFBJWEkuVGlja2VyLnNoYXJlZDtcbiAgICAgICAgICogLy8gU2V0IHRoaXMgdG8gcHJldmVudCBzdGFydGluZyB0aGlzIHRpY2tlciB3aGVuIGxpc3RlbmVycyBhcmUgYWRkZWQuXG4gICAgICAgICAqIC8vIEJ5IGRlZmF1bHQgdGhpcyBpcyB0cnVlIG9ubHkgZm9yIHRoZSBQSVhJLlRpY2tlci5zaGFyZWQgaW5zdGFuY2UuXG4gICAgICAgICAqIHRpY2tlci5hdXRvU3RhcnQgPSBmYWxzZTtcbiAgICAgICAgICogLy8gRllJLCBjYWxsIHRoaXMgdG8gZW5zdXJlIHRoZSB0aWNrZXIgaXMgc3RvcHBlZC4gSXQgc2hvdWxkIGJlIHN0b3BwZWRcbiAgICAgICAgICogLy8gaWYgeW91IGhhdmUgbm90IGF0dGVtcHRlZCB0byByZW5kZXIgYW55dGhpbmcgeWV0LlxuICAgICAgICAgKiB0aWNrZXIuc3RvcCgpO1xuICAgICAgICAgKiAvLyBDYWxsIHRoaXMgd2hlbiB5b3UgYXJlIHJlYWR5IGZvciBhIHJ1bm5pbmcgc2hhcmVkIHRpY2tlci5cbiAgICAgICAgICogdGlja2VyLnN0YXJ0KCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFlvdSBtYXkgdXNlIHRoZSBzaGFyZWQgdGlja2VyIHRvIHJlbmRlci4uLlxuICAgICAgICAgKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigpO1xuICAgICAgICAgKiBsZXQgc3RhZ2UgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAgICAgICAgICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyZW5kZXJlci52aWV3KTtcbiAgICAgICAgICogdGlja2VyLmFkZChmdW5jdGlvbiAodGltZSkge1xuICAgICAgICAgKiAgICAgcmVuZGVyZXIucmVuZGVyKHN0YWdlKTtcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIE9yIHlvdSBjYW4ganVzdCB1cGRhdGUgaXQgbWFudWFsbHkuXG4gICAgICAgICAqIHRpY2tlci5hdXRvU3RhcnQgPSBmYWxzZTtcbiAgICAgICAgICogdGlja2VyLnN0b3AoKTtcbiAgICAgICAgICogZnVuY3Rpb24gYW5pbWF0ZSh0aW1lKSB7XG4gICAgICAgICAqICAgICB0aWNrZXIudXBkYXRlKHRpbWUpO1xuICAgICAgICAgKiAgICAgcmVuZGVyZXIucmVuZGVyKHN0YWdlKTtcbiAgICAgICAgICogICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgICAgICAgICogfVxuICAgICAgICAgKiBhbmltYXRlKHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFUaWNrZXIuX3NoYXJlZCkge1xuICAgICAgICAgICAgICAgIHZhciBzaGFyZWQgPSBUaWNrZXIuX3NoYXJlZCA9IG5ldyBUaWNrZXIoKTtcbiAgICAgICAgICAgICAgICBzaGFyZWQuYXV0b1N0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzaGFyZWQuX3Byb3RlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gVGlja2VyLl9zaGFyZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlja2VyLCBcInN5c3RlbVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3lzdGVtIHRpY2tlciBpbnN0YW5jZSB1c2VkIGJ5IHtAbGluayBQSVhJLkludGVyYWN0aW9uTWFuYWdlcn0gYW5kIGJ5XG4gICAgICAgICAqIHtAbGluayBQSVhJLkJhc2VQcmVwYXJlfSBmb3IgY29yZSB0aW1pbmcgZnVuY3Rpb25hbGl0eSB0aGF0IHNob3VsZG4ndCB1c3VhbGx5IG5lZWQgdG8gYmUgcGF1c2VkLFxuICAgICAgICAgKiB1bmxpa2UgdGhlIGBzaGFyZWRgIHRpY2tlciB3aGljaCBkcml2ZXMgdmlzdWFsIGFuaW1hdGlvbnMgYW5kIHJlbmRlcmluZyB3aGljaCBtYXkgd2FudCB0byBiZSBwYXVzZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBwcm9wZXJ0eSB7QGxpbmsgUElYSS5UaWNrZXIjYXV0b1N0YXJ0fSBpcyBzZXQgdG8gYHRydWVgIGZvciB0aGlzIGluc3RhbmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRpY2tlcn1cbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIVRpY2tlci5fc3lzdGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN5c3RlbSA9IFRpY2tlci5fc3lzdGVtID0gbmV3IFRpY2tlcigpO1xuICAgICAgICAgICAgICAgIHN5c3RlbS5hdXRvU3RhcnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN5c3RlbS5fcHJvdGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBUaWNrZXIuX3N5c3RlbTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBUaWNrZXI7XG59KCkpO1xuXG4vKipcbiAqIE1pZGRsZXdhcmUgZm9yIGZvciBBcHBsaWNhdGlvbiBUaWNrZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7VGlja2VyUGx1Z2lufSBmcm9tICdAcGl4aS90aWNrZXInO1xuICogaW1wb3J0IHtBcHBsaWNhdGlvbn0gZnJvbSAnQHBpeGkvYXBwJztcbiAqIEFwcGxpY2F0aW9uLnJlZ2lzdGVyUGx1Z2luKFRpY2tlclBsdWdpbik7XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGlja2VyUGx1Z2luID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRpY2tlclBsdWdpbigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgcGx1Z2luIHdpdGggc2NvcGUgb2YgYXBwbGljYXRpb24gaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBTZWUgYXBwbGljYXRpb24gb3B0aW9uc1xuICAgICAqL1xuICAgIFRpY2tlclBsdWdpbi5pbml0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gU2V0IGRlZmF1bHRcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgYXV0b1N0YXJ0OiB0cnVlLFxuICAgICAgICAgICAgc2hhcmVkVGlja2VyOiBmYWxzZSxcbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIC8vIENyZWF0ZSB0aWNrZXIgc2V0dGVyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAndGlja2VyJywge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodGlja2VyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3RpY2tlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aWNrZXIucmVtb3ZlKHRoaXMucmVuZGVyLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fdGlja2VyID0gdGlja2VyO1xuICAgICAgICAgICAgICAgIGlmICh0aWNrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGlja2VyLmFkZCh0aGlzLnJlbmRlciwgdGhpcywgVVBEQVRFX1BSSU9SSVRZLkxPVyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90aWNrZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3Igc3RvcHBpbmcgdGhlIHJlbmRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvblxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLl90aWNrZXIuc3RvcCgpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29udmVuaWVuY2UgbWV0aG9kIGZvciBzdGFydGluZyB0aGUgcmVuZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkFwcGxpY2F0aW9uXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLl90aWNrZXIuc3RhcnQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHJlZmVyZW5jZSB0byB0aGUgdGlja2VyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBuYW1lIF90aWNrZXJcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aWNrZXIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGlja2VyIGZvciBkb2luZyByZW5kZXIgdXBkYXRlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge1BJWEkuVGlja2VyfVxuICAgICAgICAgKiBAbmFtZSB0aWNrZXJcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuVGlja2VyLnNoYXJlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWNrZXIgPSBvcHRpb25zLnNoYXJlZFRpY2tlciA/IFRpY2tlci5zaGFyZWQgOiBuZXcgVGlja2VyKCk7XG4gICAgICAgIC8vIFN0YXJ0IHRoZSByZW5kZXJpbmdcbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b1N0YXJ0KSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIHRoZSB0aWNrZXIsIHNjb3BlZCB0byBhcHBsaWNhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRpY2tlclBsdWdpbi5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fdGlja2VyKSB7XG4gICAgICAgICAgICB2YXIgb2xkVGlja2VyID0gdGhpcy5fdGlja2VyO1xuICAgICAgICAgICAgdGhpcy50aWNrZXIgPSBudWxsO1xuICAgICAgICAgICAgb2xkVGlja2VyLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRpY2tlclBsdWdpbjtcbn0oKSk7XG5cbmV4cG9ydCB7IFRpY2tlciwgVGlja2VyUGx1Z2luLCBVUERBVEVfUFJJT1JJVFkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpY2tlci5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvdXRpbHMgLSB2Ni4wLjBcbiAqIENvbXBpbGVkIFR1ZSwgMDIgTWFyIDIwMjEgMjE6NDU6MDMgVVRDXG4gKlxuICogQHBpeGkvdXRpbHMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmV4cG9ydCB7IGlzTW9iaWxlIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudGVtaXR0ZXIzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZWFyY3V0IH0gZnJvbSAnZWFyY3V0JztcbmltcG9ydCB7IHBhcnNlLCBmb3JtYXQsIHJlc29sdmUgfSBmcm9tICd1cmwnO1xuaW1wb3J0IHsgQkxFTkRfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG4vKipcbiAqIFRoZSBwcmVmaXggdGhhdCBkZW5vdGVzIGEgVVJMIGlzIGZvciBhIHJldGluYSBhc3NldC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBSRVRJTkFfUFJFRklYXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQHR5cGUge1JlZ0V4cH1cbiAqIEBkZWZhdWx0IC9AKFswLTlcXC5dKyl4L1xuICogQGV4YW1wbGUgYEAyeGBcbiAqL1xuc2V0dGluZ3MuUkVUSU5BX1BSRUZJWCA9IC9AKFswLTlcXC5dKyl4Lztcbi8qKlxuICogU2hvdWxkIHRoZSBgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdGAgZmxhZyBiZSBlbmFibGVkIGFzIGEgY29udGV4dCBvcHRpb24gdXNlZCBpbiB0aGUgYGlzV2ViR0xTdXBwb3J0ZWRgIGZ1bmN0aW9uLlxuICogSWYgc2V0IHRvIHRydWUsIGEgV2ViR0wgcmVuZGVyZXIgY2FuIGZhaWwgdG8gYmUgY3JlYXRlZCBpZiB0aGUgYnJvd3NlciB0aGlua3MgdGhlcmUgY291bGQgYmUgcGVyZm9ybWFuY2UgaXNzdWVzIHdoZW5cbiAqIHVzaW5nIFdlYkdMLlxuICpcbiAqIEluIFBpeGlKUyB2NiB0aGlzIGhhcyBjaGFuZ2VkIGZyb20gdHJ1ZSB0byBmYWxzZSBieSBkZWZhdWx0LCB0byBhbGxvdyBXZWJHTCB0byB3b3JrIGluIGFzIG1hbnkgc2NlbmFyaW9zIGFzIHBvc3NpYmxlLlxuICogSG93ZXZlciwgc29tZSB1c2VycyBtYXkgaGF2ZSBhIHBvb3IgZXhwZXJpZW5jZSwgZm9yIGV4YW1wbGUsIGlmIGEgdXNlciBoYXMgYSBncHUgb3IgZHJpdmVyIHZlcnNpb24gYmxhY2tsaXN0ZWQgYnkgdGhlXG4gKiBicm93c2VyLlxuICpcbiAqIElmIHlvdXIgYXBwbGljYXRpb24gcmVxdWlyZXMgaGlnaCBwZXJmb3JtYW5jZSByZW5kZXJpbmcsIHlvdSBtYXkgd2lzaCB0byBzZXQgdGhpcyB0byBmYWxzZS5cbiAqIFdlIHJlY29tbWVuZCBvbmUgb2YgdHdvIG9wdGlvbnMgaWYgeW91IGRlY2lkZSB0byBzZXQgdGhpcyBmbGFnIHRvIGZhbHNlOlxuICpcbiAqIDE6IFVzZSB0aGUgYHBpeGkuanMtbGVnYWN5YCBwYWNrYWdlLCB3aGljaCBpbmNsdWRlcyBhIENhbnZhcyByZW5kZXJlciBhcyBhIGZhbGxiYWNrIGluIGNhc2UgaGlnaCBwZXJmb3JtYW5jZSBXZWJHTCBpc1xuICogICAgbm90IHN1cHBvcnRlZC5cbiAqXG4gKiAyOiBDYWxsIGBpc1dlYkdMU3VwcG9ydGVkYCAod2hpY2ggaWYgZm91bmQgaW4gdGhlIFBJWEkudXRpbHMgcGFja2FnZSkgaW4geW91ciBjb2RlIGJlZm9yZSBhdHRlbXB0aW5nIHRvIGNyZWF0ZSBhIFBpeGlKU1xuICogICAgcmVuZGVyZXIsIGFuZCBzaG93IGFuIGVycm9yIG1lc3NhZ2UgdG8gdGhlIHVzZXIgaWYgdGhlIGZ1bmN0aW9uIHJldHVybnMgZmFsc2UsIGV4cGxhaW5pbmcgdGhhdCB0aGVpciBkZXZpY2UgJiBicm93c2VyXG4gKiAgICBjb21iaW5hdGlvbiBkb2VzIG5vdCBzdXBwb3J0IGhpZ2ggcGVyZm9ybWFuY2UgV2ViR0wuXG4gKiAgICBUaGlzIGlzIGEgbXVjaCBiZXR0ZXIgc3RyYXRlZ3kgdGhhbiB0cnlpbmcgdG8gY3JlYXRlIGEgUGl4aUpTIHJlbmRlcmVyIGFuZCBmaW5kaW5nIGl0IHRoZW4gZmFpbHMuXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVRcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IGZhbHNlXG4gKi9cbnNldHRpbmdzLkZBSUxfSUZfTUFKT1JfUEVSRk9STUFOQ0VfQ0FWRUFUID0gZmFsc2U7XG5cbnZhciBzYWlkSGVsbG8gPSBmYWxzZTtcbnZhciBWRVJTSU9OID0gJzYuMC4wJztcbi8qKlxuICogU2tpcHMgdGhlIGhlbGxvIG1lc3NhZ2Ugb2YgcmVuZGVyZXJzIHRoYXQgYXJlIGNyZWF0ZWQgYWZ0ZXIgdGhpcyBpcyBydW4uXG4gKlxuICogQGZ1bmN0aW9uIHNraXBIZWxsb1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqL1xuZnVuY3Rpb24gc2tpcEhlbGxvKCkge1xuICAgIHNhaWRIZWxsbyA9IHRydWU7XG59XG4vKipcbiAqIExvZ3Mgb3V0IHRoZSB2ZXJzaW9uIGFuZCByZW5kZXJlciBpbmZvcm1hdGlvbiBmb3IgdGhpcyBydW5uaW5nIGluc3RhbmNlIG9mIFBJWEkuXG4gKiBJZiB5b3UgZG9uJ3Qgd2FudCB0byBzZWUgdGhpcyBtZXNzYWdlIHlvdSBjYW4gcnVuIGBQSVhJLnV0aWxzLnNraXBIZWxsbygpYCBiZWZvcmVcbiAqIGNyZWF0aW5nIHlvdXIgcmVuZGVyZXIuIEtlZXAgaW4gbWluZCB0aGF0IGRvaW5nIHRoYXQgd2lsbCBmb3JldmVyIG1ha2UgeW91IGEgamVyayBmYWNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBmdW5jdGlvbiBzYXlIZWxsb1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIHN0cmluZyByZW5kZXJlciB0eXBlIHRvIGxvZy5cbiAqL1xuZnVuY3Rpb24gc2F5SGVsbG8odHlwZSkge1xuICAgIHZhciBfYTtcbiAgICBpZiAoc2FpZEhlbGxvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdjaHJvbWUnKSA+IC0xKSB7XG4gICAgICAgIHZhciBhcmdzID0gW1xuICAgICAgICAgICAgXCJcXG4gJWMgJWMgJWMgUGl4aUpTIFwiICsgVkVSU0lPTiArIFwiIC0gXFx1MjczMCBcIiArIHR5cGUgKyBcIiBcXHUyNzMwICAlYyAgJWMgIGh0dHA6Ly93d3cucGl4aWpzLmNvbS8gICVjICVjIFxcdTI2NjUlY1xcdTI2NjUlY1xcdTI2NjUgXFxuXFxuXCIsXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmNjZhNTsgYmFja2dyb3VuZDogIzAzMDMwNzsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kOiAjZmZjM2RjOyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2NvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnY29sb3I6ICNmZjI0MjQ7IGJhY2tncm91bmQ6ICNmZmY7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmMjQyNDsgYmFja2dyb3VuZDogI2ZmZjsgcGFkZGluZzo1cHggMDsnIF07XG4gICAgICAgIChfYSA9IHNlbGYuY29uc29sZSkubG9nLmFwcGx5KF9hLCBhcmdzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2VsZi5jb25zb2xlKSB7XG4gICAgICAgIHNlbGYuY29uc29sZS5sb2coXCJQaXhpSlMgXCIgKyBWRVJTSU9OICsgXCIgLSBcIiArIHR5cGUgKyBcIiAtIGh0dHA6Ly93d3cucGl4aWpzLmNvbS9cIik7XG4gICAgfVxuICAgIHNhaWRIZWxsbyA9IHRydWU7XG59XG5cbnZhciBzdXBwb3J0ZWQ7XG4vKipcbiAqIEhlbHBlciBmb3IgY2hlY2tpbmcgZm9yIFdlYkdMIHN1cHBvcnQuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBpc1dlYkdMU3VwcG9ydGVkXG4gKiBAcmV0dXJuIHtib29sZWFufSBJcyBXZWJHTCBzdXBwb3J0ZWQuXG4gKi9cbmZ1bmN0aW9uIGlzV2ViR0xTdXBwb3J0ZWQoKSB7XG4gICAgaWYgKHR5cGVvZiBzdXBwb3J0ZWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHN1cHBvcnRlZCA9IChmdW5jdGlvbiBzdXBwb3J0ZWQoKSB7XG4gICAgICAgICAgICB2YXIgY29udGV4dE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgc3RlbmNpbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiBzZXR0aW5ncy5GQUlMX0lGX01BSk9SX1BFUkZPUk1BTkNFX0NBVkVBVCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICghc2VsZi5XZWJHTFJlbmRlcmluZ0NvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICAgICAgdmFyIGdsID0gKGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIGNvbnRleHRPcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgY29udGV4dE9wdGlvbnMpKTtcbiAgICAgICAgICAgICAgICB2YXIgc3VjY2VzcyA9ICEhKGdsICYmIGdsLmdldENvbnRleHRBdHRyaWJ1dGVzKCkuc3RlbmNpbCk7XG4gICAgICAgICAgICAgICAgaWYgKGdsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsb3NlQ29udGV4dCA9IGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsb3NlQ29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9zZUNvbnRleHQubG9zZUNvbnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBnbCA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkoKTtcbiAgICB9XG4gICAgcmV0dXJuIHN1cHBvcnRlZDtcbn1cblxudmFyIGFsaWNlYmx1ZSA9IFwiI2YwZjhmZlwiO1xudmFyIGFudGlxdWV3aGl0ZSA9IFwiI2ZhZWJkN1wiO1xudmFyIGFxdWEgPSBcIiMwMGZmZmZcIjtcbnZhciBhcXVhbWFyaW5lID0gXCIjN2ZmZmQ0XCI7XG52YXIgYXp1cmUgPSBcIiNmMGZmZmZcIjtcbnZhciBiZWlnZSA9IFwiI2Y1ZjVkY1wiO1xudmFyIGJpc3F1ZSA9IFwiI2ZmZTRjNFwiO1xudmFyIGJsYWNrID0gXCIjMDAwMDAwXCI7XG52YXIgYmxhbmNoZWRhbG1vbmQgPSBcIiNmZmViY2RcIjtcbnZhciBibHVlID0gXCIjMDAwMGZmXCI7XG52YXIgYmx1ZXZpb2xldCA9IFwiIzhhMmJlMlwiO1xudmFyIGJyb3duID0gXCIjYTUyYTJhXCI7XG52YXIgYnVybHl3b29kID0gXCIjZGViODg3XCI7XG52YXIgY2FkZXRibHVlID0gXCIjNWY5ZWEwXCI7XG52YXIgY2hhcnRyZXVzZSA9IFwiIzdmZmYwMFwiO1xudmFyIGNob2NvbGF0ZSA9IFwiI2QyNjkxZVwiO1xudmFyIGNvcmFsID0gXCIjZmY3ZjUwXCI7XG52YXIgY29ybmZsb3dlcmJsdWUgPSBcIiM2NDk1ZWRcIjtcbnZhciBjb3Juc2lsayA9IFwiI2ZmZjhkY1wiO1xudmFyIGNyaW1zb24gPSBcIiNkYzE0M2NcIjtcbnZhciBjeWFuID0gXCIjMDBmZmZmXCI7XG52YXIgZGFya2JsdWUgPSBcIiMwMDAwOGJcIjtcbnZhciBkYXJrY3lhbiA9IFwiIzAwOGI4YlwiO1xudmFyIGRhcmtnb2xkZW5yb2QgPSBcIiNiODg2MGJcIjtcbnZhciBkYXJrZ3JheSA9IFwiI2E5YTlhOVwiO1xudmFyIGRhcmtncmVlbiA9IFwiIzAwNjQwMFwiO1xudmFyIGRhcmtncmV5ID0gXCIjYTlhOWE5XCI7XG52YXIgZGFya2toYWtpID0gXCIjYmRiNzZiXCI7XG52YXIgZGFya21hZ2VudGEgPSBcIiM4YjAwOGJcIjtcbnZhciBkYXJrb2xpdmVncmVlbiA9IFwiIzU1NmIyZlwiO1xudmFyIGRhcmtvcmFuZ2UgPSBcIiNmZjhjMDBcIjtcbnZhciBkYXJrb3JjaGlkID0gXCIjOTkzMmNjXCI7XG52YXIgZGFya3JlZCA9IFwiIzhiMDAwMFwiO1xudmFyIGRhcmtzYWxtb24gPSBcIiNlOTk2N2FcIjtcbnZhciBkYXJrc2VhZ3JlZW4gPSBcIiM4ZmJjOGZcIjtcbnZhciBkYXJrc2xhdGVibHVlID0gXCIjNDgzZDhiXCI7XG52YXIgZGFya3NsYXRlZ3JheSA9IFwiIzJmNGY0ZlwiO1xudmFyIGRhcmtzbGF0ZWdyZXkgPSBcIiMyZjRmNGZcIjtcbnZhciBkYXJrdHVycXVvaXNlID0gXCIjMDBjZWQxXCI7XG52YXIgZGFya3Zpb2xldCA9IFwiIzk0MDBkM1wiO1xudmFyIGRlZXBwaW5rID0gXCIjZmYxNDkzXCI7XG52YXIgZGVlcHNreWJsdWUgPSBcIiMwMGJmZmZcIjtcbnZhciBkaW1ncmF5ID0gXCIjNjk2OTY5XCI7XG52YXIgZGltZ3JleSA9IFwiIzY5Njk2OVwiO1xudmFyIGRvZGdlcmJsdWUgPSBcIiMxZTkwZmZcIjtcbnZhciBmaXJlYnJpY2sgPSBcIiNiMjIyMjJcIjtcbnZhciBmbG9yYWx3aGl0ZSA9IFwiI2ZmZmFmMFwiO1xudmFyIGZvcmVzdGdyZWVuID0gXCIjMjI4YjIyXCI7XG52YXIgZnVjaHNpYSA9IFwiI2ZmMDBmZlwiO1xudmFyIGdhaW5zYm9ybyA9IFwiI2RjZGNkY1wiO1xudmFyIGdob3N0d2hpdGUgPSBcIiNmOGY4ZmZcIjtcbnZhciBnb2xkZW5yb2QgPSBcIiNkYWE1MjBcIjtcbnZhciBnb2xkID0gXCIjZmZkNzAwXCI7XG52YXIgZ3JheSA9IFwiIzgwODA4MFwiO1xudmFyIGdyZWVuID0gXCIjMDA4MDAwXCI7XG52YXIgZ3JlZW55ZWxsb3cgPSBcIiNhZGZmMmZcIjtcbnZhciBncmV5ID0gXCIjODA4MDgwXCI7XG52YXIgaG9uZXlkZXcgPSBcIiNmMGZmZjBcIjtcbnZhciBob3RwaW5rID0gXCIjZmY2OWI0XCI7XG52YXIgaW5kaWFucmVkID0gXCIjY2Q1YzVjXCI7XG52YXIgaW5kaWdvID0gXCIjNGIwMDgyXCI7XG52YXIgaXZvcnkgPSBcIiNmZmZmZjBcIjtcbnZhciBraGFraSA9IFwiI2YwZTY4Y1wiO1xudmFyIGxhdmVuZGVyYmx1c2ggPSBcIiNmZmYwZjVcIjtcbnZhciBsYXZlbmRlciA9IFwiI2U2ZTZmYVwiO1xudmFyIGxhd25ncmVlbiA9IFwiIzdjZmMwMFwiO1xudmFyIGxlbW9uY2hpZmZvbiA9IFwiI2ZmZmFjZFwiO1xudmFyIGxpZ2h0Ymx1ZSA9IFwiI2FkZDhlNlwiO1xudmFyIGxpZ2h0Y29yYWwgPSBcIiNmMDgwODBcIjtcbnZhciBsaWdodGN5YW4gPSBcIiNlMGZmZmZcIjtcbnZhciBsaWdodGdvbGRlbnJvZHllbGxvdyA9IFwiI2ZhZmFkMlwiO1xudmFyIGxpZ2h0Z3JheSA9IFwiI2QzZDNkM1wiO1xudmFyIGxpZ2h0Z3JlZW4gPSBcIiM5MGVlOTBcIjtcbnZhciBsaWdodGdyZXkgPSBcIiNkM2QzZDNcIjtcbnZhciBsaWdodHBpbmsgPSBcIiNmZmI2YzFcIjtcbnZhciBsaWdodHNhbG1vbiA9IFwiI2ZmYTA3YVwiO1xudmFyIGxpZ2h0c2VhZ3JlZW4gPSBcIiMyMGIyYWFcIjtcbnZhciBsaWdodHNreWJsdWUgPSBcIiM4N2NlZmFcIjtcbnZhciBsaWdodHNsYXRlZ3JheSA9IFwiIzc3ODg5OVwiO1xudmFyIGxpZ2h0c2xhdGVncmV5ID0gXCIjNzc4ODk5XCI7XG52YXIgbGlnaHRzdGVlbGJsdWUgPSBcIiNiMGM0ZGVcIjtcbnZhciBsaWdodHllbGxvdyA9IFwiI2ZmZmZlMFwiO1xudmFyIGxpbWUgPSBcIiMwMGZmMDBcIjtcbnZhciBsaW1lZ3JlZW4gPSBcIiMzMmNkMzJcIjtcbnZhciBsaW5lbiA9IFwiI2ZhZjBlNlwiO1xudmFyIG1hZ2VudGEgPSBcIiNmZjAwZmZcIjtcbnZhciBtYXJvb24gPSBcIiM4MDAwMDBcIjtcbnZhciBtZWRpdW1hcXVhbWFyaW5lID0gXCIjNjZjZGFhXCI7XG52YXIgbWVkaXVtYmx1ZSA9IFwiIzAwMDBjZFwiO1xudmFyIG1lZGl1bW9yY2hpZCA9IFwiI2JhNTVkM1wiO1xudmFyIG1lZGl1bXB1cnBsZSA9IFwiIzkzNzBkYlwiO1xudmFyIG1lZGl1bXNlYWdyZWVuID0gXCIjM2NiMzcxXCI7XG52YXIgbWVkaXVtc2xhdGVibHVlID0gXCIjN2I2OGVlXCI7XG52YXIgbWVkaXVtc3ByaW5nZ3JlZW4gPSBcIiMwMGZhOWFcIjtcbnZhciBtZWRpdW10dXJxdW9pc2UgPSBcIiM0OGQxY2NcIjtcbnZhciBtZWRpdW12aW9sZXRyZWQgPSBcIiNjNzE1ODVcIjtcbnZhciBtaWRuaWdodGJsdWUgPSBcIiMxOTE5NzBcIjtcbnZhciBtaW50Y3JlYW0gPSBcIiNmNWZmZmFcIjtcbnZhciBtaXN0eXJvc2UgPSBcIiNmZmU0ZTFcIjtcbnZhciBtb2NjYXNpbiA9IFwiI2ZmZTRiNVwiO1xudmFyIG5hdmFqb3doaXRlID0gXCIjZmZkZWFkXCI7XG52YXIgbmF2eSA9IFwiIzAwMDA4MFwiO1xudmFyIG9sZGxhY2UgPSBcIiNmZGY1ZTZcIjtcbnZhciBvbGl2ZSA9IFwiIzgwODAwMFwiO1xudmFyIG9saXZlZHJhYiA9IFwiIzZiOGUyM1wiO1xudmFyIG9yYW5nZSA9IFwiI2ZmYTUwMFwiO1xudmFyIG9yYW5nZXJlZCA9IFwiI2ZmNDUwMFwiO1xudmFyIG9yY2hpZCA9IFwiI2RhNzBkNlwiO1xudmFyIHBhbGVnb2xkZW5yb2QgPSBcIiNlZWU4YWFcIjtcbnZhciBwYWxlZ3JlZW4gPSBcIiM5OGZiOThcIjtcbnZhciBwYWxldHVycXVvaXNlID0gXCIjYWZlZWVlXCI7XG52YXIgcGFsZXZpb2xldHJlZCA9IFwiI2RiNzA5M1wiO1xudmFyIHBhcGF5YXdoaXAgPSBcIiNmZmVmZDVcIjtcbnZhciBwZWFjaHB1ZmYgPSBcIiNmZmRhYjlcIjtcbnZhciBwZXJ1ID0gXCIjY2Q4NTNmXCI7XG52YXIgcGluayA9IFwiI2ZmYzBjYlwiO1xudmFyIHBsdW0gPSBcIiNkZGEwZGRcIjtcbnZhciBwb3dkZXJibHVlID0gXCIjYjBlMGU2XCI7XG52YXIgcHVycGxlID0gXCIjODAwMDgwXCI7XG52YXIgcmViZWNjYXB1cnBsZSA9IFwiIzY2MzM5OVwiO1xudmFyIHJlZCA9IFwiI2ZmMDAwMFwiO1xudmFyIHJvc3licm93biA9IFwiI2JjOGY4ZlwiO1xudmFyIHJveWFsYmx1ZSA9IFwiIzQxNjllMVwiO1xudmFyIHNhZGRsZWJyb3duID0gXCIjOGI0NTEzXCI7XG52YXIgc2FsbW9uID0gXCIjZmE4MDcyXCI7XG52YXIgc2FuZHlicm93biA9IFwiI2Y0YTQ2MFwiO1xudmFyIHNlYWdyZWVuID0gXCIjMmU4YjU3XCI7XG52YXIgc2Vhc2hlbGwgPSBcIiNmZmY1ZWVcIjtcbnZhciBzaWVubmEgPSBcIiNhMDUyMmRcIjtcbnZhciBzaWx2ZXIgPSBcIiNjMGMwYzBcIjtcbnZhciBza3libHVlID0gXCIjODdjZWViXCI7XG52YXIgc2xhdGVibHVlID0gXCIjNmE1YWNkXCI7XG52YXIgc2xhdGVncmF5ID0gXCIjNzA4MDkwXCI7XG52YXIgc2xhdGVncmV5ID0gXCIjNzA4MDkwXCI7XG52YXIgc25vdyA9IFwiI2ZmZmFmYVwiO1xudmFyIHNwcmluZ2dyZWVuID0gXCIjMDBmZjdmXCI7XG52YXIgc3RlZWxibHVlID0gXCIjNDY4MmI0XCI7XG52YXIgdGFuID0gXCIjZDJiNDhjXCI7XG52YXIgdGVhbCA9IFwiIzAwODA4MFwiO1xudmFyIHRoaXN0bGUgPSBcIiNkOGJmZDhcIjtcbnZhciB0b21hdG8gPSBcIiNmZjYzNDdcIjtcbnZhciB0dXJxdW9pc2UgPSBcIiM0MGUwZDBcIjtcbnZhciB2aW9sZXQgPSBcIiNlZTgyZWVcIjtcbnZhciB3aGVhdCA9IFwiI2Y1ZGViM1wiO1xudmFyIHdoaXRlID0gXCIjZmZmZmZmXCI7XG52YXIgd2hpdGVzbW9rZSA9IFwiI2Y1ZjVmNVwiO1xudmFyIHllbGxvdyA9IFwiI2ZmZmYwMFwiO1xudmFyIHllbGxvd2dyZWVuID0gXCIjOWFjZDMyXCI7XG52YXIgY3NzQ29sb3JOYW1lcyA9IHtcblx0YWxpY2VibHVlOiBhbGljZWJsdWUsXG5cdGFudGlxdWV3aGl0ZTogYW50aXF1ZXdoaXRlLFxuXHRhcXVhOiBhcXVhLFxuXHRhcXVhbWFyaW5lOiBhcXVhbWFyaW5lLFxuXHRhenVyZTogYXp1cmUsXG5cdGJlaWdlOiBiZWlnZSxcblx0YmlzcXVlOiBiaXNxdWUsXG5cdGJsYWNrOiBibGFjayxcblx0YmxhbmNoZWRhbG1vbmQ6IGJsYW5jaGVkYWxtb25kLFxuXHRibHVlOiBibHVlLFxuXHRibHVldmlvbGV0OiBibHVldmlvbGV0LFxuXHRicm93bjogYnJvd24sXG5cdGJ1cmx5d29vZDogYnVybHl3b29kLFxuXHRjYWRldGJsdWU6IGNhZGV0Ymx1ZSxcblx0Y2hhcnRyZXVzZTogY2hhcnRyZXVzZSxcblx0Y2hvY29sYXRlOiBjaG9jb2xhdGUsXG5cdGNvcmFsOiBjb3JhbCxcblx0Y29ybmZsb3dlcmJsdWU6IGNvcm5mbG93ZXJibHVlLFxuXHRjb3Juc2lsazogY29ybnNpbGssXG5cdGNyaW1zb246IGNyaW1zb24sXG5cdGN5YW46IGN5YW4sXG5cdGRhcmtibHVlOiBkYXJrYmx1ZSxcblx0ZGFya2N5YW46IGRhcmtjeWFuLFxuXHRkYXJrZ29sZGVucm9kOiBkYXJrZ29sZGVucm9kLFxuXHRkYXJrZ3JheTogZGFya2dyYXksXG5cdGRhcmtncmVlbjogZGFya2dyZWVuLFxuXHRkYXJrZ3JleTogZGFya2dyZXksXG5cdGRhcmtraGFraTogZGFya2toYWtpLFxuXHRkYXJrbWFnZW50YTogZGFya21hZ2VudGEsXG5cdGRhcmtvbGl2ZWdyZWVuOiBkYXJrb2xpdmVncmVlbixcblx0ZGFya29yYW5nZTogZGFya29yYW5nZSxcblx0ZGFya29yY2hpZDogZGFya29yY2hpZCxcblx0ZGFya3JlZDogZGFya3JlZCxcblx0ZGFya3NhbG1vbjogZGFya3NhbG1vbixcblx0ZGFya3NlYWdyZWVuOiBkYXJrc2VhZ3JlZW4sXG5cdGRhcmtzbGF0ZWJsdWU6IGRhcmtzbGF0ZWJsdWUsXG5cdGRhcmtzbGF0ZWdyYXk6IGRhcmtzbGF0ZWdyYXksXG5cdGRhcmtzbGF0ZWdyZXk6IGRhcmtzbGF0ZWdyZXksXG5cdGRhcmt0dXJxdW9pc2U6IGRhcmt0dXJxdW9pc2UsXG5cdGRhcmt2aW9sZXQ6IGRhcmt2aW9sZXQsXG5cdGRlZXBwaW5rOiBkZWVwcGluayxcblx0ZGVlcHNreWJsdWU6IGRlZXBza3libHVlLFxuXHRkaW1ncmF5OiBkaW1ncmF5LFxuXHRkaW1ncmV5OiBkaW1ncmV5LFxuXHRkb2RnZXJibHVlOiBkb2RnZXJibHVlLFxuXHRmaXJlYnJpY2s6IGZpcmVicmljayxcblx0ZmxvcmFsd2hpdGU6IGZsb3JhbHdoaXRlLFxuXHRmb3Jlc3RncmVlbjogZm9yZXN0Z3JlZW4sXG5cdGZ1Y2hzaWE6IGZ1Y2hzaWEsXG5cdGdhaW5zYm9ybzogZ2FpbnNib3JvLFxuXHRnaG9zdHdoaXRlOiBnaG9zdHdoaXRlLFxuXHRnb2xkZW5yb2Q6IGdvbGRlbnJvZCxcblx0Z29sZDogZ29sZCxcblx0Z3JheTogZ3JheSxcblx0Z3JlZW46IGdyZWVuLFxuXHRncmVlbnllbGxvdzogZ3JlZW55ZWxsb3csXG5cdGdyZXk6IGdyZXksXG5cdGhvbmV5ZGV3OiBob25leWRldyxcblx0aG90cGluazogaG90cGluayxcblx0aW5kaWFucmVkOiBpbmRpYW5yZWQsXG5cdGluZGlnbzogaW5kaWdvLFxuXHRpdm9yeTogaXZvcnksXG5cdGtoYWtpOiBraGFraSxcblx0bGF2ZW5kZXJibHVzaDogbGF2ZW5kZXJibHVzaCxcblx0bGF2ZW5kZXI6IGxhdmVuZGVyLFxuXHRsYXduZ3JlZW46IGxhd25ncmVlbixcblx0bGVtb25jaGlmZm9uOiBsZW1vbmNoaWZmb24sXG5cdGxpZ2h0Ymx1ZTogbGlnaHRibHVlLFxuXHRsaWdodGNvcmFsOiBsaWdodGNvcmFsLFxuXHRsaWdodGN5YW46IGxpZ2h0Y3lhbixcblx0bGlnaHRnb2xkZW5yb2R5ZWxsb3c6IGxpZ2h0Z29sZGVucm9keWVsbG93LFxuXHRsaWdodGdyYXk6IGxpZ2h0Z3JheSxcblx0bGlnaHRncmVlbjogbGlnaHRncmVlbixcblx0bGlnaHRncmV5OiBsaWdodGdyZXksXG5cdGxpZ2h0cGluazogbGlnaHRwaW5rLFxuXHRsaWdodHNhbG1vbjogbGlnaHRzYWxtb24sXG5cdGxpZ2h0c2VhZ3JlZW46IGxpZ2h0c2VhZ3JlZW4sXG5cdGxpZ2h0c2t5Ymx1ZTogbGlnaHRza3libHVlLFxuXHRsaWdodHNsYXRlZ3JheTogbGlnaHRzbGF0ZWdyYXksXG5cdGxpZ2h0c2xhdGVncmV5OiBsaWdodHNsYXRlZ3JleSxcblx0bGlnaHRzdGVlbGJsdWU6IGxpZ2h0c3RlZWxibHVlLFxuXHRsaWdodHllbGxvdzogbGlnaHR5ZWxsb3csXG5cdGxpbWU6IGxpbWUsXG5cdGxpbWVncmVlbjogbGltZWdyZWVuLFxuXHRsaW5lbjogbGluZW4sXG5cdG1hZ2VudGE6IG1hZ2VudGEsXG5cdG1hcm9vbjogbWFyb29uLFxuXHRtZWRpdW1hcXVhbWFyaW5lOiBtZWRpdW1hcXVhbWFyaW5lLFxuXHRtZWRpdW1ibHVlOiBtZWRpdW1ibHVlLFxuXHRtZWRpdW1vcmNoaWQ6IG1lZGl1bW9yY2hpZCxcblx0bWVkaXVtcHVycGxlOiBtZWRpdW1wdXJwbGUsXG5cdG1lZGl1bXNlYWdyZWVuOiBtZWRpdW1zZWFncmVlbixcblx0bWVkaXVtc2xhdGVibHVlOiBtZWRpdW1zbGF0ZWJsdWUsXG5cdG1lZGl1bXNwcmluZ2dyZWVuOiBtZWRpdW1zcHJpbmdncmVlbixcblx0bWVkaXVtdHVycXVvaXNlOiBtZWRpdW10dXJxdW9pc2UsXG5cdG1lZGl1bXZpb2xldHJlZDogbWVkaXVtdmlvbGV0cmVkLFxuXHRtaWRuaWdodGJsdWU6IG1pZG5pZ2h0Ymx1ZSxcblx0bWludGNyZWFtOiBtaW50Y3JlYW0sXG5cdG1pc3R5cm9zZTogbWlzdHlyb3NlLFxuXHRtb2NjYXNpbjogbW9jY2FzaW4sXG5cdG5hdmFqb3doaXRlOiBuYXZham93aGl0ZSxcblx0bmF2eTogbmF2eSxcblx0b2xkbGFjZTogb2xkbGFjZSxcblx0b2xpdmU6IG9saXZlLFxuXHRvbGl2ZWRyYWI6IG9saXZlZHJhYixcblx0b3JhbmdlOiBvcmFuZ2UsXG5cdG9yYW5nZXJlZDogb3JhbmdlcmVkLFxuXHRvcmNoaWQ6IG9yY2hpZCxcblx0cGFsZWdvbGRlbnJvZDogcGFsZWdvbGRlbnJvZCxcblx0cGFsZWdyZWVuOiBwYWxlZ3JlZW4sXG5cdHBhbGV0dXJxdW9pc2U6IHBhbGV0dXJxdW9pc2UsXG5cdHBhbGV2aW9sZXRyZWQ6IHBhbGV2aW9sZXRyZWQsXG5cdHBhcGF5YXdoaXA6IHBhcGF5YXdoaXAsXG5cdHBlYWNocHVmZjogcGVhY2hwdWZmLFxuXHRwZXJ1OiBwZXJ1LFxuXHRwaW5rOiBwaW5rLFxuXHRwbHVtOiBwbHVtLFxuXHRwb3dkZXJibHVlOiBwb3dkZXJibHVlLFxuXHRwdXJwbGU6IHB1cnBsZSxcblx0cmViZWNjYXB1cnBsZTogcmViZWNjYXB1cnBsZSxcblx0cmVkOiByZWQsXG5cdHJvc3licm93bjogcm9zeWJyb3duLFxuXHRyb3lhbGJsdWU6IHJveWFsYmx1ZSxcblx0c2FkZGxlYnJvd246IHNhZGRsZWJyb3duLFxuXHRzYWxtb246IHNhbG1vbixcblx0c2FuZHlicm93bjogc2FuZHlicm93bixcblx0c2VhZ3JlZW46IHNlYWdyZWVuLFxuXHRzZWFzaGVsbDogc2Vhc2hlbGwsXG5cdHNpZW5uYTogc2llbm5hLFxuXHRzaWx2ZXI6IHNpbHZlcixcblx0c2t5Ymx1ZTogc2t5Ymx1ZSxcblx0c2xhdGVibHVlOiBzbGF0ZWJsdWUsXG5cdHNsYXRlZ3JheTogc2xhdGVncmF5LFxuXHRzbGF0ZWdyZXk6IHNsYXRlZ3JleSxcblx0c25vdzogc25vdyxcblx0c3ByaW5nZ3JlZW46IHNwcmluZ2dyZWVuLFxuXHRzdGVlbGJsdWU6IHN0ZWVsYmx1ZSxcblx0dGFuOiB0YW4sXG5cdHRlYWw6IHRlYWwsXG5cdHRoaXN0bGU6IHRoaXN0bGUsXG5cdHRvbWF0bzogdG9tYXRvLFxuXHR0dXJxdW9pc2U6IHR1cnF1b2lzZSxcblx0dmlvbGV0OiB2aW9sZXQsXG5cdHdoZWF0OiB3aGVhdCxcblx0d2hpdGU6IHdoaXRlLFxuXHR3aGl0ZXNtb2tlOiB3aGl0ZXNtb2tlLFxuXHR5ZWxsb3c6IHllbGxvdyxcblx0eWVsbG93Z3JlZW46IHllbGxvd2dyZWVuXG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgaGV4YWRlY2ltYWwgY29sb3IgbnVtYmVyIHRvIGFuIFtSLCBHLCBCXSBhcnJheSBvZiBub3JtYWxpemVkIGZsb2F0cyAobnVtYmVycyBmcm9tIDAuMCB0byAxLjApLlxuICpcbiAqIEBleGFtcGxlXG4gKiBQSVhJLnV0aWxzLmhleDJyZ2IoMHhmZmZmZmYpOyAvLyByZXR1cm5zIFsxLCAxLCAxXVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBoZXgycmdiXG4gKiBAcGFyYW0ge251bWJlcn0gaGV4IC0gVGhlIGhleGFkZWNpbWFsIG51bWJlciB0byBjb252ZXJ0XG4gKiBAcGFyYW0gIHtudW1iZXJbXX0gW291dD1bXV0gLSBJZiBzdXBwbGllZCwgdGhpcyBhcnJheSB3aWxsIGJlIHVzZWQgcmF0aGVyIHRoYW4gcmV0dXJuaW5nIGEgbmV3IG9uZVxuICogQHJldHVybiB7bnVtYmVyW119IEFuIGFycmF5IHJlcHJlc2VudGluZyB0aGUgW1IsIEcsIEJdIG9mIHRoZSBjb2xvciB3aGVyZSBhbGwgdmFsdWVzIGFyZSBmbG9hdHMuXG4gKi9cbmZ1bmN0aW9uIGhleDJyZ2IoaGV4LCBvdXQpIHtcbiAgICBpZiAob3V0ID09PSB2b2lkIDApIHsgb3V0ID0gW107IH1cbiAgICBvdXRbMF0gPSAoKGhleCA+PiAxNikgJiAweEZGKSAvIDI1NTtcbiAgICBvdXRbMV0gPSAoKGhleCA+PiA4KSAmIDB4RkYpIC8gMjU1O1xuICAgIG91dFsyXSA9IChoZXggJiAweEZGKSAvIDI1NTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleGFkZWNpbWFsIGNvbG9yIG51bWJlciB0byBhIHN0cmluZy5cbiAqXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5oZXgyc3RyaW5nKDB4ZmZmZmZmKTsgLy8gcmV0dXJucyBcIiNmZmZmZmZcIlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBoZXgyc3RyaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gaGV4IC0gTnVtYmVyIGluIGhleCAoZS5nLiwgYDB4ZmZmZmZmYClcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHN0cmluZyBjb2xvciAoZS5nLiwgYFwiI2ZmZmZmZlwiYCkuXG4gKi9cbmZ1bmN0aW9uIGhleDJzdHJpbmcoaGV4KSB7XG4gICAgdmFyIGhleFN0cmluZyA9IGhleC50b1N0cmluZygxNik7XG4gICAgaGV4U3RyaW5nID0gJzAwMDAwMCcuc3Vic3RyKDAsIDYgLSBoZXhTdHJpbmcubGVuZ3RoKSArIGhleFN0cmluZztcbiAgICByZXR1cm4gXCIjXCIgKyBoZXhTdHJpbmc7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgc3RyaW5nIHRvIGEgaGV4YWRlY2ltYWwgY29sb3IgbnVtYmVyLlxuICogSXQgY2FuIGhhbmRsZTpcbiAqICBoZXggc3RyaW5ncyBzdGFydGluZyB3aXRoICM6IFwiI2ZmZmZmZlwiXG4gKiAgaGV4IHN0cmluZ3Mgc3RhcnRpbmcgd2l0aCAweDogXCIweGZmZmZmZlwiXG4gKiAgaGV4IHN0cmluZ3Mgd2l0aG91dCBwcmVmaXg6IFwiZmZmZmZmXCJcbiAqICBjc3MgY29sb3JzOiBcImJsYWNrXCJcbiAqXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5zdHJpbmcyaGV4KFwiI2ZmZmZmZlwiKTsgLy8gcmV0dXJucyAweGZmZmZmZlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBzdHJpbmcyaGV4XG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIC0gVGhlIHN0cmluZyBjb2xvciAoZS5nLiwgYFwiI2ZmZmZmZlwiYClcbiAqIEByZXR1cm4ge251bWJlcn0gTnVtYmVyIGluIGhleGFkZWNpbWFsLlxuICovXG5mdW5jdGlvbiBzdHJpbmcyaGV4KHN0cmluZykge1xuICAgIGlmICh0eXBlb2Ygc3RyaW5nID09PSAnc3RyaW5nJykge1xuICAgICAgICBzdHJpbmcgPSBjc3NDb2xvck5hbWVzW3N0cmluZy50b0xvd2VyQ2FzZSgpXSB8fCBzdHJpbmc7XG4gICAgICAgIGlmIChzdHJpbmdbMF0gPT09ICcjJykge1xuICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cigxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGFyc2VJbnQoc3RyaW5nLCAxNik7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgY29sb3IgYXMgYW4gW1IsIEcsIEJdIGFycmF5IG9mIG5vcm1hbGl6ZWQgZmxvYXRzIHRvIGEgaGV4YWRlY2ltYWwgbnVtYmVyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBQSVhJLnV0aWxzLnJnYjJoZXgoWzEsIDEsIDFdKTsgLy8gcmV0dXJucyAweGZmZmZmZlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiByZ2IyaGV4XG4gKiBAcGFyYW0ge251bWJlcltdfSByZ2IgLSBBcnJheSBvZiBudW1iZXJzIHdoZXJlIGFsbCB2YWx1ZXMgYXJlIG5vcm1hbGl6ZWQgZmxvYXRzIGZyb20gMC4wIHRvIDEuMC5cbiAqIEByZXR1cm4ge251bWJlcn0gTnVtYmVyIGluIGhleGFkZWNpbWFsLlxuICovXG5mdW5jdGlvbiByZ2IyaGV4KHJnYikge1xuICAgIHJldHVybiAoKChyZ2JbMF0gKiAyNTUpIDw8IDE2KSArICgocmdiWzFdICogMjU1KSA8PCA4KSArIChyZ2JbMl0gKiAyNTUgfCAwKSk7XG59XG5cbi8qKlxuICogQ29ycmVjdHMgUGl4aUpTIGJsZW5kLCB0YWtlcyBwcmVtdWx0aXBsaWVkIGFscGhhIGludG8gYWNjb3VudFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXNcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXJbXT59IE1hcHBlZCBtb2Rlcy5cbiAqL1xuZnVuY3Rpb24gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMoKSB7XG4gICAgdmFyIHBtID0gW107XG4gICAgdmFyIG5wbSA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzI7IGkrKykge1xuICAgICAgICBwbVtpXSA9IGk7XG4gICAgICAgIG5wbVtpXSA9IGk7XG4gICAgfVxuICAgIHBtW0JMRU5EX01PREVTLk5PUk1BTF9OUE1dID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgIHBtW0JMRU5EX01PREVTLkFERF9OUE1dID0gQkxFTkRfTU9ERVMuQUREO1xuICAgIHBtW0JMRU5EX01PREVTLlNDUkVFTl9OUE1dID0gQkxFTkRfTU9ERVMuU0NSRUVOO1xuICAgIG5wbVtCTEVORF9NT0RFUy5OT1JNQUxdID0gQkxFTkRfTU9ERVMuTk9STUFMX05QTTtcbiAgICBucG1bQkxFTkRfTU9ERVMuQUREXSA9IEJMRU5EX01PREVTLkFERF9OUE07XG4gICAgbnBtW0JMRU5EX01PREVTLlNDUkVFTl0gPSBCTEVORF9NT0RFUy5TQ1JFRU5fTlBNO1xuICAgIHZhciBhcnJheSA9IFtdO1xuICAgIGFycmF5LnB1c2gobnBtKTtcbiAgICBhcnJheS5wdXNoKHBtKTtcbiAgICByZXR1cm4gYXJyYXk7XG59XG4vKipcbiAqIG1hcHMgcHJlbXVsdGlwbHkgZmxhZyBhbmQgYmxlbmRNb2RlIHRvIGFkanVzdGVkIGJsZW5kTW9kZVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBjb25zdCBwcmVtdWx0aXBseUJsZW5kTW9kZVxuICogQHR5cGUge0FycmF5PG51bWJlcltdPn1cbiAqL1xudmFyIHByZW11bHRpcGx5QmxlbmRNb2RlID0gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMoKTtcbi8qKlxuICogY2hhbmdlcyBibGVuZE1vZGUgYWNjb3JkaW5nIHRvIHRleHR1cmUgZm9ybWF0XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBjb3JyZWN0QmxlbmRNb2RlXG4gKiBAcGFyYW0ge251bWJlcn0gYmxlbmRNb2RlIC0gc3VwcG9zZWQgYmxlbmQgbW9kZVxuICogQHBhcmFtIHtib29sZWFufSBwcmVtdWx0aXBsaWVkIC0gd2hldGhlciBzb3VyY2UgaXMgcHJlbXVsdGlwbGllZFxuICogQHJldHVybnMge251bWJlcn0gdHJ1ZSBibGVuZCBtb2RlIGZvciB0aGlzIHRleHR1cmVcbiAqL1xuZnVuY3Rpb24gY29ycmVjdEJsZW5kTW9kZShibGVuZE1vZGUsIHByZW11bHRpcGxpZWQpIHtcbiAgICByZXR1cm4gcHJlbXVsdGlwbHlCbGVuZE1vZGVbcHJlbXVsdGlwbGllZCA/IDEgOiAwXVtibGVuZE1vZGVdO1xufVxuLyoqXG4gKiBjb21iaW5lcyByZ2IgYW5kIGFscGhhIHRvIG91dCBhcnJheVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gcHJlbXVsdGlwbHlSZ2JhXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxudW1iZXJbXX0gcmdiIC0gaW5wdXQgcmdiXG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgLSBhbHBoYSBwYXJhbVxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtvdXRdIC0gb3V0cHV0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtwcmVtdWx0aXBseT10cnVlXSAtIGRvIHByZW11bHRpcGx5IGl0XG4gKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSB2ZWM0IHJnYmFcbiAqL1xuZnVuY3Rpb24gcHJlbXVsdGlwbHlSZ2JhKHJnYiwgYWxwaGEsIG91dCwgcHJlbXVsdGlwbHkpIHtcbiAgICBvdXQgPSBvdXQgfHwgbmV3IEZsb2F0MzJBcnJheSg0KTtcbiAgICBpZiAocHJlbXVsdGlwbHkgfHwgcHJlbXVsdGlwbHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvdXRbMF0gPSByZ2JbMF0gKiBhbHBoYTtcbiAgICAgICAgb3V0WzFdID0gcmdiWzFdICogYWxwaGE7XG4gICAgICAgIG91dFsyXSA9IHJnYlsyXSAqIGFscGhhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgb3V0WzBdID0gcmdiWzBdO1xuICAgICAgICBvdXRbMV0gPSByZ2JbMV07XG4gICAgICAgIG91dFsyXSA9IHJnYlsyXTtcbiAgICB9XG4gICAgb3V0WzNdID0gYWxwaGE7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogcHJlbXVsdGlwbGllcyB0aW50XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBwcmVtdWx0aXBseVRpbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW50IC0gaW50ZWdlciBSR0JcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbHBoYSAtIGZsb2F0aW5nIHBvaW50IGFscGhhICgwLjAtMS4wKVxuICogQHJldHVybnMge251bWJlcn0gdGludCBtdWx0aXBsaWVkIGJ5IGFscGhhXG4gKi9cbmZ1bmN0aW9uIHByZW11bHRpcGx5VGludCh0aW50LCBhbHBoYSkge1xuICAgIGlmIChhbHBoYSA9PT0gMS4wKSB7XG4gICAgICAgIHJldHVybiAoYWxwaGEgKiAyNTUgPDwgMjQpICsgdGludDtcbiAgICB9XG4gICAgaWYgKGFscGhhID09PSAwLjApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHZhciBSID0gKCh0aW50ID4+IDE2KSAmIDB4RkYpO1xuICAgIHZhciBHID0gKCh0aW50ID4+IDgpICYgMHhGRik7XG4gICAgdmFyIEIgPSAodGludCAmIDB4RkYpO1xuICAgIFIgPSAoKFIgKiBhbHBoYSkgKyAwLjUpIHwgMDtcbiAgICBHID0gKChHICogYWxwaGEpICsgMC41KSB8IDA7XG4gICAgQiA9ICgoQiAqIGFscGhhKSArIDAuNSkgfCAwO1xuICAgIHJldHVybiAoYWxwaGEgKiAyNTUgPDwgMjQpICsgKFIgPDwgMTYpICsgKEcgPDwgOCkgKyBCO1xufVxuLyoqXG4gKiBjb252ZXJ0cyBpbnRlZ2VyIHRpbnQgYW5kIGZsb2F0IGFscGhhIHRvIHZlYzQgZm9ybSwgcHJlbXVsdGlwbGllcyBieSBkZWZhdWx0XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBwcmVtdWx0aXBseVRpbnRUb1JnYmFcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW50IC0gaW5wdXQgdGludFxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIC0gYWxwaGEgcGFyYW1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0XSAtIG91dHB1dFxuICogQHBhcmFtIHtib29sZWFufSBbcHJlbXVsdGlwbHk9dHJ1ZV0gLSBkbyBwcmVtdWx0aXBseSBpdFxuICogQHJldHVybnMge0Zsb2F0MzJBcnJheX0gdmVjNCByZ2JhXG4gKi9cbmZ1bmN0aW9uIHByZW11bHRpcGx5VGludFRvUmdiYSh0aW50LCBhbHBoYSwgb3V0LCBwcmVtdWx0aXBseSkge1xuICAgIG91dCA9IG91dCB8fCBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgIG91dFswXSA9ICgodGludCA+PiAxNikgJiAweEZGKSAvIDI1NS4wO1xuICAgIG91dFsxXSA9ICgodGludCA+PiA4KSAmIDB4RkYpIC8gMjU1LjA7XG4gICAgb3V0WzJdID0gKHRpbnQgJiAweEZGKSAvIDI1NS4wO1xuICAgIGlmIChwcmVtdWx0aXBseSB8fCBwcmVtdWx0aXBseSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG91dFswXSAqPSBhbHBoYTtcbiAgICAgICAgb3V0WzFdICo9IGFscGhhO1xuICAgICAgICBvdXRbMl0gKj0gYWxwaGE7XG4gICAgfVxuICAgIG91dFszXSA9IGFscGhhO1xuICAgIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogR2VuZXJpYyBNYXNrIFN0YWNrIGRhdGEgc3RydWN0dXJlXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBjcmVhdGVJbmRpY2VzRm9yUXVhZHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gTnVtYmVyIG9mIHF1YWRzXG4gKiBAcGFyYW0ge1VpbnQxNkFycmF5fFVpbnQzMkFycmF5fSBbb3V0QnVmZmVyXSAtIEJ1ZmZlciBmb3Igb3V0cHV0LCBsZW5ndGggaGFzIHRvIGJlIGA2ICogc2l6ZWBcbiAqIEByZXR1cm4ge1VpbnQxNkFycmF5fFVpbnQzMkFycmF5fSAtIFJlc3VsdGluZyBpbmRleCBidWZmZXJcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5kaWNlc0ZvclF1YWRzKHNpemUsIG91dEJ1ZmZlcikge1xuICAgIGlmIChvdXRCdWZmZXIgPT09IHZvaWQgMCkgeyBvdXRCdWZmZXIgPSBudWxsOyB9XG4gICAgLy8gdGhlIHRvdGFsIG51bWJlciBvZiBpbmRpY2VzIGluIG91ciBhcnJheSwgdGhlcmUgYXJlIDYgcG9pbnRzIHBlciBxdWFkLlxuICAgIHZhciB0b3RhbEluZGljZXMgPSBzaXplICogNjtcbiAgICBvdXRCdWZmZXIgPSBvdXRCdWZmZXIgfHwgbmV3IFVpbnQxNkFycmF5KHRvdGFsSW5kaWNlcyk7XG4gICAgaWYgKG91dEJ1ZmZlci5sZW5ndGggIT09IHRvdGFsSW5kaWNlcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPdXQgYnVmZmVyIGxlbmd0aCBpcyBpbmNvcnJlY3QsIGdvdCBcIiArIG91dEJ1ZmZlci5sZW5ndGggKyBcIiBhbmQgZXhwZWN0ZWQgXCIgKyB0b3RhbEluZGljZXMpO1xuICAgIH1cbiAgICAvLyBmaWxsIHRoZSBpbmRpY2VzIHdpdGggdGhlIHF1YWRzIHRvIGRyYXdcbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IDA7IGkgPCB0b3RhbEluZGljZXM7IGkgKz0gNiwgaiArPSA0KSB7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgMF0gPSBqICsgMDtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyAxXSA9IGogKyAxO1xuICAgICAgICBvdXRCdWZmZXJbaSArIDJdID0gaiArIDI7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgM10gPSBqICsgMDtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyA0XSA9IGogKyAyO1xuICAgICAgICBvdXRCdWZmZXJbaSArIDVdID0gaiArIDM7XG4gICAgfVxuICAgIHJldHVybiBvdXRCdWZmZXI7XG59XG5cbmZ1bmN0aW9uIGdldEJ1ZmZlclR5cGUoYXJyYXkpIHtcbiAgICBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDQpIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gJ0Zsb2F0MzJBcnJheSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50MzJBcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuICdVaW50MzJBcnJheSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdJbnQzMkFycmF5JztcbiAgICB9XG4gICAgZWxzZSBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDIpIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDE2QXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDE2QXJyYXknO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSAxKSB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDhBcnJheSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVE9ETyBtYXAgb3V0IHRoZSByZXN0IG9mIHRoZSBhcnJheSBlbGVtZW50cyFcbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLyogZXNsaW50LWRpc2FibGUgb2JqZWN0LXNob3J0aGFuZCAqL1xudmFyIG1hcCA9IHsgRmxvYXQzMkFycmF5OiBGbG9hdDMyQXJyYXksIFVpbnQzMkFycmF5OiBVaW50MzJBcnJheSwgSW50MzJBcnJheTogSW50MzJBcnJheSwgVWludDhBcnJheTogVWludDhBcnJheSB9O1xuZnVuY3Rpb24gaW50ZXJsZWF2ZVR5cGVkQXJyYXlzKGFycmF5cywgc2l6ZXMpIHtcbiAgICB2YXIgb3V0U2l6ZSA9IDA7XG4gICAgdmFyIHN0cmlkZSA9IDA7XG4gICAgdmFyIHZpZXdzID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc3RyaWRlICs9IHNpemVzW2ldO1xuICAgICAgICBvdXRTaXplICs9IGFycmF5c1tpXS5sZW5ndGg7XG4gICAgfVxuICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIob3V0U2l6ZSAqIDQpO1xuICAgIHZhciBvdXQgPSBudWxsO1xuICAgIHZhciBsaXR0bGVPZmZzZXQgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzaXplID0gc2l6ZXNbaV07XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tpXTtcbiAgICAgICAgLypcbiAgICAgICAgQHRvZG8gVGhpcyBpcyB1bnNhZmUgY2FzdGluZyBidXQgY29uc2lzdGVudCB3aXRoIGhvdyB0aGUgY29kZSB3b3JrZWQgcHJldmlvdXNseS4gU2hvdWxkIGl0IHN0YXkgdGhpcyB3YXlcbiAgICAgICAgICAgICAgb3Igc2hvdWxkIGFuZCBgZ2V0QnVmZmVyVHlwZVVuc2FmZWAgZnVuY3Rpb24gYmUgZXhwb3NlZCB0aGF0IHRocm93cyBhbiBFcnJvciBpZiB1bnN1cHBvcnRlZCB0eXBlIGlzIHBhc3NlZD9cbiAgICAgICAgICovXG4gICAgICAgIHZhciB0eXBlID0gZ2V0QnVmZmVyVHlwZShhcnJheSk7XG4gICAgICAgIGlmICghdmlld3NbdHlwZV0pIHtcbiAgICAgICAgICAgIHZpZXdzW3R5cGVdID0gbmV3IG1hcFt0eXBlXShidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIG91dCA9IHZpZXdzW3R5cGVdO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFycmF5Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXhTdGFydCA9ICgoaiAvIHNpemUgfCAwKSAqIHN0cmlkZSkgKyBsaXR0bGVPZmZzZXQ7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBqICUgc2l6ZTtcbiAgICAgICAgICAgIG91dFtpbmRleFN0YXJ0ICsgaW5kZXhdID0gYXJyYXlbal07XG4gICAgICAgIH1cbiAgICAgICAgbGl0dGxlT2Zmc2V0ICs9IHNpemU7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcik7XG59XG5cbi8vIFRha2VuIGZyb20gdGhlIGJpdC10d2lkZGxlIHBhY2thZ2Vcbi8qKlxuICogUm91bmRzIHRvIG5leHQgcG93ZXIgb2YgdHdvLlxuICpcbiAqIEBmdW5jdGlvbiBuZXh0UG93MlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSB2IC0gaW5wdXQgdmFsdWVcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gbmV4dFBvdzIodikge1xuICAgIHYgKz0gdiA9PT0gMCA/IDEgOiAwO1xuICAgIC0tdjtcbiAgICB2IHw9IHYgPj4+IDE7XG4gICAgdiB8PSB2ID4+PiAyO1xuICAgIHYgfD0gdiA+Pj4gNDtcbiAgICB2IHw9IHYgPj4+IDg7XG4gICAgdiB8PSB2ID4+PiAxNjtcbiAgICByZXR1cm4gdiArIDE7XG59XG4vKipcbiAqIENoZWNrcyBpZiBhIG51bWJlciBpcyBhIHBvd2VyIG9mIHR3by5cbiAqXG4gKiBAZnVuY3Rpb24gaXNQb3cyXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtudW1iZXJ9IHYgLSBpbnB1dCB2YWx1ZVxuICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHZhbHVlIGlzIHBvd2VyIG9mIHR3b1xuICovXG5mdW5jdGlvbiBpc1BvdzIodikge1xuICAgIHJldHVybiAhKHYgJiAodiAtIDEpKSAmJiAoISF2KTtcbn1cbi8qKlxuICogQ29tcHV0ZXMgY2VpbCBvZiBsb2cgYmFzZSAyXG4gKlxuICogQGZ1bmN0aW9uIGxvZzJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge251bWJlcn0gdiAtIGlucHV0IHZhbHVlXG4gKiBAcmV0dXJuIHtudW1iZXJ9IGxvZ2FyaXRobSBiYXNlIDJcbiAqL1xuZnVuY3Rpb24gbG9nMih2KSB7XG4gICAgdmFyIHIgPSAodiA+IDB4RkZGRiA/IDEgOiAwKSA8PCA0O1xuICAgIHYgPj4+PSByO1xuICAgIHZhciBzaGlmdCA9ICh2ID4gMHhGRiA/IDEgOiAwKSA8PCAzO1xuICAgIHYgPj4+PSBzaGlmdDtcbiAgICByIHw9IHNoaWZ0O1xuICAgIHNoaWZ0ID0gKHYgPiAweEYgPyAxIDogMCkgPDwgMjtcbiAgICB2ID4+Pj0gc2hpZnQ7XG4gICAgciB8PSBzaGlmdDtcbiAgICBzaGlmdCA9ICh2ID4gMHgzID8gMSA6IDApIDw8IDE7XG4gICAgdiA+Pj49IHNoaWZ0O1xuICAgIHIgfD0gc2hpZnQ7XG4gICAgcmV0dXJuIHIgfCAodiA+PiAxKTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgaXRlbXMgZnJvbSBhIGphdmFzY3JpcHQgYXJyYXkgd2l0aG91dCBnZW5lcmF0aW5nIGdhcmJhZ2VcbiAqXG4gKiBAZnVuY3Rpb24gcmVtb3ZlSXRlbXNcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge0FycmF5PGFueT59IGFyciAtIEFycmF5IHRvIHJlbW92ZSBlbGVtZW50cyBmcm9tXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJZHggLSBzdGFydGluZyBpbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IHJlbW92ZUNvdW50IC0gaG93IG1hbnkgdG8gcmVtb3ZlXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUl0ZW1zKGFyciwgc3RhcnRJZHgsIHJlbW92ZUNvdW50KSB7XG4gICAgdmFyIGxlbmd0aCA9IGFyci5sZW5ndGg7XG4gICAgdmFyIGk7XG4gICAgaWYgKHN0YXJ0SWR4ID49IGxlbmd0aCB8fCByZW1vdmVDb3VudCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJlbW92ZUNvdW50ID0gKHN0YXJ0SWR4ICsgcmVtb3ZlQ291bnQgPiBsZW5ndGggPyBsZW5ndGggLSBzdGFydElkeCA6IHJlbW92ZUNvdW50KTtcbiAgICB2YXIgbGVuID0gbGVuZ3RoIC0gcmVtb3ZlQ291bnQ7XG4gICAgZm9yIChpID0gc3RhcnRJZHg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICBhcnJbaV0gPSBhcnJbaSArIHJlbW92ZUNvdW50XTtcbiAgICB9XG4gICAgYXJyLmxlbmd0aCA9IGxlbjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHNpZ24gb2YgbnVtYmVyXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBzaWduXG4gKiBAcGFyYW0ge251bWJlcn0gbiAtIHRoZSBudW1iZXIgdG8gY2hlY2sgdGhlIHNpZ24gb2ZcbiAqIEByZXR1cm5zIHtudW1iZXJ9IDAgaWYgYG5gIGlzIDAsIC0xIGlmIGBuYCBpcyBuZWdhdGl2ZSwgMSBpZiBgbmAgaXMgcG9zaXRpdmVcbiAqL1xuZnVuY3Rpb24gc2lnbihuKSB7XG4gICAgaWYgKG4gPT09IDApXG4gICAgICAgIHsgcmV0dXJuIDA7IH1cbiAgICByZXR1cm4gbiA8IDAgPyAtMSA6IDE7XG59XG5cbnZhciBuZXh0VWlkID0gMDtcbi8qKlxuICogR2V0cyB0aGUgbmV4dCB1bmlxdWUgaWRlbnRpZmllclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gdWlkXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBuZXh0IHVuaXF1ZSBpZGVudGlmaWVyIHRvIHVzZS5cbiAqL1xuZnVuY3Rpb24gdWlkKCkge1xuICAgIHJldHVybiArK25leHRVaWQ7XG59XG5cbi8vIEEgbWFwIG9mIHdhcm5pbmcgbWVzc2FnZXMgYWxyZWFkeSBmaXJlZFxudmFyIHdhcm5pbmdzID0ge307XG4vKipcbiAqIEhlbHBlciBmb3Igd2FybmluZyBkZXZlbG9wZXJzIGFib3V0IGRlcHJlY2F0ZWQgZmVhdHVyZXMgJiBzZXR0aW5ncy5cbiAqIEEgc3RhY2sgdHJhY2sgZm9yIHdhcm5pbmdzIGlzIGdpdmVuOyB1c2VmdWwgZm9yIHRyYWNraW5nLWRvd24gd2hlcmVcbiAqIGRlcHJlY2F0ZWQgbWV0aG9kcy9wcm9wZXJ0aWVzL2NsYXNzZXMgYXJlIGJlaW5nIHVzZWQgd2l0aGluIHRoZSBjb2RlLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZGVwcmVjYXRpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSB2ZXJzaW9uIC0gVGhlIHZlcnNpb24gd2hlcmUgdGhlIGZlYXR1cmUgYmVjYW1lIGRlcHJlY2F0ZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gTWVzc2FnZSBzaG91bGQgaW5jbHVkZSB3aGF0IGlzIGRlcHJlY2F0ZWQsIHdoZXJlLCBhbmQgdGhlIG5ldyBzb2x1dGlvblxuICogQHBhcmFtIHtudW1iZXJ9IFtpZ25vcmVEZXB0aD0zXSAtIFRoZSBudW1iZXIgb2Ygc3RlcHMgdG8gaWdub3JlIGF0IHRoZSB0b3Agb2YgdGhlIGVycm9yIHN0YWNrXG4gKiAgICAgICAgdGhpcyBpcyBtb3N0bHkgdG8gaWdub3JlIGludGVybmFsIGRlcHJlY2F0aW9uIGNhbGxzLlxuICovXG5mdW5jdGlvbiBkZXByZWNhdGlvbih2ZXJzaW9uLCBtZXNzYWdlLCBpZ25vcmVEZXB0aCkge1xuICAgIGlmIChpZ25vcmVEZXB0aCA9PT0gdm9pZCAwKSB7IGlnbm9yZURlcHRoID0gMzsgfVxuICAgIC8vIElnbm9yZSBkdXBsaWNhdFxuICAgIGlmICh3YXJuaW5nc1ttZXNzYWdlXSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICB2YXIgc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcbiAgICAvLyBIYW5kbGUgSUUgPCAxMCBhbmQgU2FmYXJpIDwgNlxuICAgIGlmICh0eXBlb2Ygc3RhY2sgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignUGl4aUpTIERlcHJlY2F0aW9uIFdhcm5pbmc6ICcsIG1lc3NhZ2UgKyBcIlxcbkRlcHJlY2F0ZWQgc2luY2UgdlwiICsgdmVyc2lvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBjaG9wIG9mZiB0aGUgc3RhY2sgdHJhY2Ugd2hpY2ggaW5jbHVkZXMgUGl4aUpTIGludGVybmFsIGNhbGxzXG4gICAgICAgIHN0YWNrID0gc3RhY2suc3BsaXQoJ1xcbicpLnNwbGljZShpZ25vcmVEZXB0aCkuam9pbignXFxuJyk7XG4gICAgICAgIGlmIChjb25zb2xlLmdyb3VwQ29sbGFwc2VkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmdyb3VwQ29sbGFwc2VkKCclY1BpeGlKUyBEZXByZWNhdGlvbiBXYXJuaW5nOiAlYyVzJywgJ2NvbG9yOiM2MTQxMDg7YmFja2dyb3VuZDojZmZmYmU2JywgJ2ZvbnQtd2VpZ2h0Om5vcm1hbDtjb2xvcjojNjE0MTA4O2JhY2tncm91bmQ6I2ZmZmJlNicsIG1lc3NhZ2UgKyBcIlxcbkRlcHJlY2F0ZWQgc2luY2UgdlwiICsgdmVyc2lvbik7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oc3RhY2spO1xuICAgICAgICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdQaXhpSlMgRGVwcmVjYXRpb24gV2FybmluZzogJywgbWVzc2FnZSArIFwiXFxuRGVwcmVjYXRlZCBzaW5jZSB2XCIgKyB2ZXJzaW9uKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihzdGFjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gICAgd2FybmluZ3NbbWVzc2FnZV0gPSB0cnVlO1xufVxuXG4vKipcbiAqIEB0b2RvIERlc2NyaWJlIHByb3BlcnR5IHVzYWdlXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgUHJvZ3JhbUNhY2hlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHR5cGUge09iamVjdH1cbiAqL1xudmFyIFByb2dyYW1DYWNoZSA9IHt9O1xuLyoqXG4gKiBAdG9kbyBEZXNjcmliZSBwcm9wZXJ0eSB1c2FnZVxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRleHR1cmVDYWNoZVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbnZhciBUZXh0dXJlQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuLyoqXG4gKiBAdG9kbyBEZXNjcmliZSBwcm9wZXJ0eSB1c2FnZVxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIEJhc2VUZXh0dXJlQ2FjaGVcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgQmFzZVRleHR1cmVDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4vKipcbiAqIERlc3Ryb3lzIGFsbCB0ZXh0dXJlIGluIHRoZSBjYWNoZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZGVzdHJveVRleHR1cmVDYWNoZVxuICovXG5mdW5jdGlvbiBkZXN0cm95VGV4dHVyZUNhY2hlKCkge1xuICAgIHZhciBrZXk7XG4gICAgZm9yIChrZXkgaW4gVGV4dHVyZUNhY2hlKSB7XG4gICAgICAgIFRleHR1cmVDYWNoZVtrZXldLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gQmFzZVRleHR1cmVDYWNoZSkge1xuICAgICAgICBCYXNlVGV4dHVyZUNhY2hlW2tleV0uZGVzdHJveSgpO1xuICAgIH1cbn1cbi8qKlxuICogUmVtb3ZlcyBhbGwgdGV4dHVyZXMgZnJvbSBjYWNoZSwgYnV0IGRvZXMgbm90IGRlc3Ryb3kgdGhlbVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gY2xlYXJUZXh0dXJlQ2FjaGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJUZXh0dXJlQ2FjaGUoKSB7XG4gICAgdmFyIGtleTtcbiAgICBmb3IgKGtleSBpbiBUZXh0dXJlQ2FjaGUpIHtcbiAgICAgICAgZGVsZXRlIFRleHR1cmVDYWNoZVtrZXldO1xuICAgIH1cbiAgICBmb3IgKGtleSBpbiBCYXNlVGV4dHVyZUNhY2hlKSB7XG4gICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW2tleV07XG4gICAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBDYW52YXMgZWxlbWVudCBvZiB0aGUgZ2l2ZW4gc2l6ZSB0byBiZSB1c2VkIGFzIGEgdGFyZ2V0IGZvciByZW5kZXJpbmcgdG8uXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICovXG52YXIgQ2FudmFzUmVuZGVyVGFyZ2V0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB3aWR0aCAtIHRoZSB3aWR0aCBmb3IgdGhlIG5ld2x5IGNyZWF0ZWQgY2FudmFzXG4gICAgICogQHBhcmFtIGhlaWdodCAtIHRoZSBoZWlnaHQgZm9yIHRoZSBuZXdseSBjcmVhdGVkIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBjYW52YXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgICAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgIHRoaXMucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGNhbnZhcyB0aGF0IHdhcyBjcmVhdGVkIGJ5IHRoZSBDYW52YXNSZW5kZXJUYXJnZXQgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBjYW52YXMgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHdpZHRoIC0gdGhlIG5ldyB3aWR0aCBvZiB0aGUgY2FudmFzXG4gICAgICogQHBhcmFtIGhlaWdodCAtIHRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBjYW52YXNcbiAgICAgKi9cbiAgICBDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2lkdGggKiB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IGhlaWdodCAqIHRoaXMucmVzb2x1dGlvbjtcbiAgICB9O1xuICAgIC8qKiBEZXN0cm95cyB0aGlzIGNhbnZhcy4gKi9cbiAgICBDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgY2FudmFzIGJ1ZmZlciBpbiBwaXhlbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gdmFsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGNhbnZhcyBidWZmZXIgaW4gcGl4ZWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbnZhcy5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdmFsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIENhbnZhc1JlbmRlclRhcmdldDtcbn0oKSk7XG5cbi8qKlxuICogVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzIGZyb20gYSBjYW52YXNcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHRyaW1DYW52YXNcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyAtIHRoZSBjYW52YXMgdG8gdHJpbVxuICogQHJldHVybnMge29iamVjdH0gVHJpbSBkYXRhXG4gKi9cbmZ1bmN0aW9uIHRyaW1DYW52YXMoY2FudmFzKSB7XG4gICAgLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vcmVteS83ODQ1MDhcbiAgICB2YXIgd2lkdGggPSBjYW52YXMud2lkdGg7XG4gICAgdmFyIGhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB2YXIgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgdmFyIHBpeGVscyA9IGltYWdlRGF0YS5kYXRhO1xuICAgIHZhciBsZW4gPSBwaXhlbHMubGVuZ3RoO1xuICAgIHZhciBib3VuZCA9IHtcbiAgICAgICAgdG9wOiBudWxsLFxuICAgICAgICBsZWZ0OiBudWxsLFxuICAgICAgICByaWdodDogbnVsbCxcbiAgICAgICAgYm90dG9tOiBudWxsLFxuICAgIH07XG4gICAgdmFyIGRhdGEgPSBudWxsO1xuICAgIHZhciBpO1xuICAgIHZhciB4O1xuICAgIHZhciB5O1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgICAgICBpZiAocGl4ZWxzW2kgKyAzXSAhPT0gMCkge1xuICAgICAgICAgICAgeCA9IChpIC8gNCkgJSB3aWR0aDtcbiAgICAgICAgICAgIHkgPSB+figoaSAvIDQpIC8gd2lkdGgpO1xuICAgICAgICAgICAgaWYgKGJvdW5kLnRvcCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLnRvcCA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYm91bmQubGVmdCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLmxlZnQgPSB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoeCA8IGJvdW5kLmxlZnQpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5sZWZ0ID0geDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChib3VuZC5yaWdodCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLnJpZ2h0ID0geCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChib3VuZC5yaWdodCA8IHgpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5yaWdodCA9IHggKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJvdW5kLmJvdHRvbSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLmJvdHRvbSA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChib3VuZC5ib3R0b20gPCB5KSB7XG4gICAgICAgICAgICAgICAgYm91bmQuYm90dG9tID0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoYm91bmQudG9wICE9PSBudWxsKSB7XG4gICAgICAgIHdpZHRoID0gYm91bmQucmlnaHQgLSBib3VuZC5sZWZ0O1xuICAgICAgICBoZWlnaHQgPSBib3VuZC5ib3R0b20gLSBib3VuZC50b3AgKyAxO1xuICAgICAgICBkYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoYm91bmQubGVmdCwgYm91bmQudG9wLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICB9O1xufVxuXG4vKipcbiAqIFJlZ2V4cCBmb3IgZGF0YSBVUkkuXG4gKiBCYXNlZCBvbjoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9yYWdpbmd3aW5kL2RhdGEtdXJpLXJlZ2V4fVxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudCB7UmVnRXhwfHN0cmluZ30gREFUQV9VUklcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXhhbXBsZSBkYXRhOmltYWdlL3BuZztiYXNlNjRcbiAqL1xudmFyIERBVEFfVVJJID0gL15cXHMqZGF0YTooPzooW1xcdy1dKylcXC8oW1xcdysuLV0rKSk/KD86O2NoYXJzZXQ9KFtcXHctXSspKT8oPzo7KGJhc2U2NCkpPywoLiopL2k7XG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBpbnRlcmZhY2UgRGVjb21wb3NlZERhdGFVcmlcbiAqL1xuLyoqXG4gKiB0eXBlLCBlZy4gYGltYWdlYFxuICogQG1lbWJlcm9mIFBJWEkudXRpbHMuRGVjb21wb3NlZERhdGFVcmkjXG4gKiBAbWVtYmVyIHtzdHJpbmd9IG1lZGlhVHlwZVxuICovXG4vKipcbiAqIFN1YiB0eXBlLCBlZy4gYHBuZ2BcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLkRlY29tcG9zZWREYXRhVXJpI1xuICogQG1lbWJlciB7c3RyaW5nfSBzdWJUeXBlXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHMuRGVjb21wb3NlZERhdGFVcmkjXG4gKiBAbWVtYmVyIHtzdHJpbmd9IGNoYXJzZXRcbiAqL1xuLyoqXG4gKiBEYXRhIGVuY29kaW5nLCBlZy4gYGJhc2U2NGBcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLkRlY29tcG9zZWREYXRhVXJpI1xuICogQG1lbWJlciB7c3RyaW5nfSBlbmNvZGluZ1xuICovXG4vKipcbiAqIFRoZSBhY3R1YWwgZGF0YVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHMuRGVjb21wb3NlZERhdGFVcmkjXG4gKiBAbWVtYmVyIHtzdHJpbmd9IGRhdGFcbiAqL1xuLyoqXG4gKiBTcGxpdCBhIGRhdGEgVVJJIGludG8gY29tcG9uZW50cy4gUmV0dXJucyB1bmRlZmluZWQgaWZcbiAqIHBhcmFtZXRlciBgZGF0YVVyaWAgaXMgbm90IGEgdmFsaWQgZGF0YSBVUkkuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBkZWNvbXBvc2VEYXRhVXJpXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YVVyaSAtIHRoZSBkYXRhIFVSSSB0byBjaGVja1xuICogQHJldHVybiB7UElYSS51dGlscy5EZWNvbXBvc2VkRGF0YVVyaXx1bmRlZmluZWR9IFRoZSBkZWNvbXBvc2VkIGRhdGEgdXJpIG9yIHVuZGVmaW5lZFxuICovXG5mdW5jdGlvbiBkZWNvbXBvc2VEYXRhVXJpKGRhdGFVcmkpIHtcbiAgICB2YXIgZGF0YVVyaU1hdGNoID0gREFUQV9VUkkuZXhlYyhkYXRhVXJpKTtcbiAgICBpZiAoZGF0YVVyaU1hdGNoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZWRpYVR5cGU6IGRhdGFVcmlNYXRjaFsxXSA/IGRhdGFVcmlNYXRjaFsxXS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc3ViVHlwZTogZGF0YVVyaU1hdGNoWzJdID8gZGF0YVVyaU1hdGNoWzJdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjaGFyc2V0OiBkYXRhVXJpTWF0Y2hbM10gPyBkYXRhVXJpTWF0Y2hbM10udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGVuY29kaW5nOiBkYXRhVXJpTWF0Y2hbNF0gPyBkYXRhVXJpTWF0Y2hbNF0udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRhdGE6IGRhdGFVcmlNYXRjaFs1XSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxudmFyIHRlbXBBbmNob3I7XG4vKipcbiAqIFNldHMgdGhlIGBjcm9zc09yaWdpbmAgcHJvcGVydHkgZm9yIHRoaXMgcmVzb3VyY2UgYmFzZWQgb24gaWYgdGhlIHVybFxuICogZm9yIHRoaXMgcmVzb3VyY2UgaXMgY3Jvc3Mtb3JpZ2luLiBJZiBjcm9zc09yaWdpbiB3YXMgbWFudWFsbHkgc2V0LCB0aGlzXG4gKiBmdW5jdGlvbiBkb2VzIG5vdGhpbmcuXG4gKiBOaXBwZWQgZnJvbSB0aGUgcmVzb3VyY2UgbG9hZGVyIVxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHRlc3QuXG4gKiBAcGFyYW0ge29iamVjdH0gW2xvYz13aW5kb3cubG9jYXRpb25dIC0gVGhlIGxvY2F0aW9uIG9iamVjdCB0byB0ZXN0IGFnYWluc3QuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjcm9zc09yaWdpbiB2YWx1ZSB0byB1c2UgKG9yIGVtcHR5IHN0cmluZyBmb3Igbm9uZSkuXG4gKi9cbmZ1bmN0aW9uIGRldGVybWluZUNyb3NzT3JpZ2luKHVybCwgbG9jKSB7XG4gICAgaWYgKGxvYyA9PT0gdm9pZCAwKSB7IGxvYyA9IHNlbGYubG9jYXRpb247IH1cbiAgICAvLyBkYXRhOiBhbmQgamF2YXNjcmlwdDogdXJscyBhcmUgY29uc2lkZXJlZCBzYW1lLW9yaWdpblxuICAgIGlmICh1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIC8vIGRlZmF1bHQgaXMgd2luZG93LmxvY2F0aW9uXG4gICAgbG9jID0gbG9jIHx8IHNlbGYubG9jYXRpb247XG4gICAgaWYgKCF0ZW1wQW5jaG9yKSB7XG4gICAgICAgIHRlbXBBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgfVxuICAgIC8vIGxldCB0aGUgYnJvd3NlciBkZXRlcm1pbmUgdGhlIGZ1bGwgaHJlZiBmb3IgdGhlIHVybCBvZiB0aGlzIHJlc291cmNlIGFuZCB0aGVuXG4gICAgLy8gcGFyc2Ugd2l0aCB0aGUgbm9kZSB1cmwgbGliLCB3ZSBjYW4ndCB1c2UgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGFuY2hvciBlbGVtZW50XG4gICAgLy8gYmVjYXVzZSB0aGV5IGRvbid0IHdvcmsgaW4gSUU5IDooXG4gICAgdGVtcEFuY2hvci5ocmVmID0gdXJsO1xuICAgIHZhciBwYXJzZWRVcmwgPSBwYXJzZSh0ZW1wQW5jaG9yLmhyZWYpO1xuICAgIHZhciBzYW1lUG9ydCA9ICghcGFyc2VkVXJsLnBvcnQgJiYgbG9jLnBvcnQgPT09ICcnKSB8fCAocGFyc2VkVXJsLnBvcnQgPT09IGxvYy5wb3J0KTtcbiAgICAvLyBpZiBjcm9zcyBvcmlnaW5cbiAgICBpZiAocGFyc2VkVXJsLmhvc3RuYW1lICE9PSBsb2MuaG9zdG5hbWUgfHwgIXNhbWVQb3J0IHx8IHBhcnNlZFVybC5wcm90b2NvbCAhPT0gbG9jLnByb3RvY29sKSB7XG4gICAgICAgIHJldHVybiAnYW5vbnltb3VzJztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIGdldCB0aGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiBhbiBhc3NldCBieSBsb29raW5nIGZvciB0aGUgcHJlZml4XG4gKiB1c2VkIGJ5IHNwcml0ZXNoZWV0cyBhbmQgaW1hZ2UgdXJsc1xuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZ2V0UmVzb2x1dGlvbk9mVXJsXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gdGhlIGltYWdlIHBhdGhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbZGVmYXVsdFZhbHVlPTFdIC0gdGhlIGRlZmF1bHRWYWx1ZSBpZiBubyBmaWxlbmFtZSBwcmVmaXggaXMgc2V0LlxuICogQHJldHVybiB7bnVtYmVyfSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIGFuIGFzc2V0XG4gKi9cbmZ1bmN0aW9uIGdldFJlc29sdXRpb25PZlVybCh1cmwsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHZhciByZXNvbHV0aW9uID0gc2V0dGluZ3MuUkVUSU5BX1BSRUZJWC5leGVjKHVybCk7XG4gICAgaWYgKHJlc29sdXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQocmVzb2x1dGlvblsxXSk7XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWx1ZSA6IDE7XG59XG5cbi8qKlxuICogR2VuZXJhbGl6ZWQgY29udmVuaWVuY2UgdXRpbGl0aWVzIGZvciBQSVhJLlxuICogQGV4YW1wbGVcbiAqIC8vIEV4dGVuZCBQSVhJJ3MgaW50ZXJuYWwgRXZlbnQgRW1pdHRlci5cbiAqIGNsYXNzIE15RW1pdHRlciBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyIHtcbiAqICAgY29uc3RydWN0b3IoKSB7XG4gKiAgICAgIHN1cGVyKCk7XG4gKiAgICAgIGNvbnNvbGUubG9nKFwiRW1pdHRlciBjcmVhdGVkIVwiKTtcbiAqICAgfVxuICogfVxuICpcbiAqIC8vIEdldCBpbmZvIG9uIGN1cnJlbnQgZGV2aWNlXG4gKiBjb25zb2xlLmxvZyhQSVhJLnV0aWxzLmlzTW9iaWxlKTtcbiAqXG4gKiAvLyBDb252ZXJ0IGhleCBjb2xvciB0byBzdHJpbmdcbiAqIGNvbnNvbGUubG9nKFBJWEkudXRpbHMuaGV4MnN0cmluZygweGZmMDBmZikpOyAvLyByZXR1cm5zOiBcIiNmZjAwZmZcIlxuICogQG5hbWVzcGFjZSBQSVhJLnV0aWxzXG4gKi9cbi8qKlxuICogTm9kZS5qcyBjb21wYXRpYmxlIFVSTCB1dGlsaXRpZXMuXG4gKlxuICogQHNlZSBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS91cmxcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQG5hbWUgdXJsXG4gKiBAbWVtYmVyIHtvYmplY3R9XG4gKi9cbnZhciB1cmwgPSB7IHBhcnNlOiBwYXJzZSwgZm9ybWF0OiBmb3JtYXQsIHJlc29sdmU6IHJlc29sdmUgfTtcblxuZXhwb3J0IHsgQmFzZVRleHR1cmVDYWNoZSwgQ2FudmFzUmVuZGVyVGFyZ2V0LCBEQVRBX1VSSSwgUHJvZ3JhbUNhY2hlLCBUZXh0dXJlQ2FjaGUsIGNsZWFyVGV4dHVyZUNhY2hlLCBjb3JyZWN0QmxlbmRNb2RlLCBjcmVhdGVJbmRpY2VzRm9yUXVhZHMsIGRlY29tcG9zZURhdGFVcmksIGRlcHJlY2F0aW9uLCBkZXN0cm95VGV4dHVyZUNhY2hlLCBkZXRlcm1pbmVDcm9zc09yaWdpbiwgZ2V0QnVmZmVyVHlwZSwgZ2V0UmVzb2x1dGlvbk9mVXJsLCBoZXgycmdiLCBoZXgyc3RyaW5nLCBpbnRlcmxlYXZlVHlwZWRBcnJheXMsIGlzUG93MiwgaXNXZWJHTFN1cHBvcnRlZCwgbG9nMiwgbmV4dFBvdzIsIHByZW11bHRpcGx5QmxlbmRNb2RlLCBwcmVtdWx0aXBseVJnYmEsIHByZW11bHRpcGx5VGludCwgcHJlbXVsdGlwbHlUaW50VG9SZ2JhLCByZW1vdmVJdGVtcywgcmdiMmhleCwgc2F5SGVsbG8sIHNpZ24sIHNraXBIZWxsbywgc3RyaW5nMmhleCwgdHJpbUNhbnZhcywgdWlkLCB1cmwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmpzLm1hcFxuIiwiLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHsgQ29udGFpbmVyLCBHcmFwaGljcyB9IGZyb20gJ3BpeGkuanMnXG5cbmNvbnN0IEdSSURfT0ZGU0VUID0gMVxuXG5leHBvcnQgY2xhc3MgR3JpZCB7XG4gIHNpemVYOiBudW1iZXJcbiAgc2l6ZVk6IG51bWJlclxuICBjZWxsU2l6ZTogbnVtYmVyXG5cbiAgYWN0aXZlWCA9IDFcbiAgYWN0aXZlWSA9IDFcbiAgdGFpbExlbmd0aCA9IDNcbiAgYWN0aXZlSW5kZXggPSAyMDBcbiAgZm9vZEluZGV4ID0gNjNcbiAgYWN0aXZlVGFpbEluZGV4ZXM6IG51bWJlcltdID0gW11cblxuICBzdGFnZSA9IG5ldyBDb250YWluZXIoKVxuICBjZWxsczogQ29udGFpbmVyW10gPSBbXVxuXG4gIGNvbnN0cnVjdG9yKHNpemVYOiBudW1iZXIsIHNpemVZOiBudW1iZXIsIGNlbGxTaXplOiBudW1iZXIpIHtcbiAgICB0aGlzLnNpemVYID0gc2l6ZVhcbiAgICB0aGlzLnNpemVZID0gc2l6ZVlcbiAgICB0aGlzLmNlbGxTaXplID0gY2VsbFNpemVcbiAgfVxuXG4gIGdlbmVyYXRlKCk6IHZvaWQge1xuICAgIGNvbnN0IHsgc2l6ZVgsIHNpemVZLCBzdGFnZSwgY2VsbFNpemUgfSA9IHRoaXNcblxuICAgIGZvciAobGV0IHggPSAwOyB4IDwgc2l6ZVg7IHgrKykge1xuICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCBzaXplWTsgeSsrKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0geCArIHkgKiBzaXplWVxuXG4gICAgICAgIGNvbnN0IHhQb3MgPSB4ICogY2VsbFNpemVcbiAgICAgICAgY29uc3QgeVBvcyA9IHkgKiBjZWxsU2l6ZSArIEdSSURfT0ZGU0VUXG5cbiAgICAgICAgY29uc3QgcmVjdCA9IG5ldyBDb250YWluZXIoKVxuXG4gICAgICAgIHJlY3QueCA9IHhQb3NcbiAgICAgICAgcmVjdC55ID0geVBvc1xuXG4gICAgICAgIHRoaXMuY2VsbHNbaW5kZXhdID0gcmVjdFxuICAgICAgfVxuICAgIH1cblxuICAgIHN0YWdlLmFkZENoaWxkKC4uLnRoaXMuY2VsbHMpXG4gIH1cblxuICBwbGFjZUZvb2QoKTogdm9pZCB7XG4gICAgY29uc3QgZm9vZEluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5jZWxscy5sZW5ndGgpXG4gICAgaWYgKFxuICAgICAgIXRoaXMuYWN0aXZlVGFpbEluZGV4ZXMuaW5jbHVkZXMoZm9vZEluZGV4KSAmJlxuICAgICAgZm9vZEluZGV4ICE9PSB0aGlzLmFjdGl2ZUluZGV4XG4gICAgKSB7XG4gICAgICB0aGlzLmZvb2RJbmRleCA9IGZvb2RJbmRleFxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBsYWNlRm9vZCgpXG4gICAgfVxuICB9XG5cbiAgZHJhdygpOiB2b2lkIHtcbiAgICBjb25zdCB7XG4gICAgICBzaXplWCxcbiAgICAgIHNpemVZLFxuICAgICAgY2VsbHMsXG4gICAgICBhY3RpdmVJbmRleCxcbiAgICAgIGFjdGl2ZVRhaWxJbmRleGVzLFxuICAgICAgY2VsbFNpemUsXG4gICAgICBmb29kSW5kZXgsXG4gICAgfSA9IHRoaXNcblxuICAgIGZvciAobGV0IHggPSAwOyB4IDwgc2l6ZVg7IHgrKykge1xuICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCBzaXplWTsgeSsrKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0geCArIHkgKiBzaXplWVxuXG4gICAgICAgIGNvbnN0IHJlY3RHcmFwaGljID0gbmV3IEdyYXBoaWNzKClcbiAgICAgICAgY29uc3QgcmVjdCA9IGNlbGxzW2luZGV4XVxuXG4gICAgICAgIHJlY3QucmVtb3ZlQ2hpbGRyZW4oKVxuXG4gICAgICAgIGlmIChhY3RpdmVJbmRleCA9PT0gaW5kZXgpIHtcbiAgICAgICAgICB0aGlzLmFjdGl2ZVggPSB4XG4gICAgICAgICAgdGhpcy5hY3RpdmVZID0geVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluZGV4ICE9PSBmb29kSW5kZXgpIHtcbiAgICAgICAgICBpZiAoYWN0aXZlSW5kZXggPT09IGluZGV4KSB7XG4gICAgICAgICAgICByZWN0R3JhcGhpYy5iZWdpbkZpbGwoMHg3YWEzZDYpXG4gICAgICAgICAgfSBlbHNlIGlmIChhY3RpdmVUYWlsSW5kZXhlcy5pbmNsdWRlcyhpbmRleCkpIHtcbiAgICAgICAgICAgIHJlY3RHcmFwaGljLmJlZ2luRmlsbChcbiAgICAgICAgICAgICAgMHg1ZDhmYzIsXG4gICAgICAgICAgICAgIGFjdGl2ZVRhaWxJbmRleGVzLmluZGV4T2YoaW5kZXgpIC8gYWN0aXZlVGFpbEluZGV4ZXMubGVuZ3RoICsgMC4yLFxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWN0R3JhcGhpYy5iZWdpbkZpbGwoKVxuXG4gICAgICAgICAgICByZWN0R3JhcGhpYy5saW5lU3R5bGUoMSwgMHgxYzFjMWMsIDEpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh4IDwgMSB8fCB4ID4gMjAgfHwgeSA8IDEgfHwgeSA+IDIwKSB7XG4gICAgICAgICAgICB0aGlzLnBsYWNlRm9vZCgpXG4gICAgICAgICAgfVxuICAgICAgICAgIHJlY3RHcmFwaGljLmJlZ2luRmlsbCgweGIzZmZkNilcbiAgICAgICAgfVxuXG4gICAgICAgIHJlY3RHcmFwaGljLmRyYXdSZWN0KDEsIC0xLCBjZWxsU2l6ZSwgY2VsbFNpemUpXG5cbiAgICAgICAgcmVjdEdyYXBoaWMuZW5kRmlsbCgpXG4gICAgICAgIHJlY3QuYWRkQ2hpbGQocmVjdEdyYXBoaWMpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBQSVhJIGZyb20gJ3BpeGkuanMnXG5pbXBvcnQgUElYSVNvdW5kIGZyb20gJ3BpeGktc291bmQnXG5cbi8vIEB0cy1pZ25vcmVcbmdsb2JhbC5QSVhJID0gUElYSVxuLy8gQHRzLWlnbm9yZVxud2luZG93LlBJWEkgPSBQSVhJXG5cbmltcG9ydCB7IEdyaWQgfSBmcm9tICdAL2NvbXBvbmVudHMvR3JpZCdcblxuY29uc3QgR1JJRF9TSVpFID0gNDYxXG5jb25zdCBHUklEX1NJWkVfWCA9IDIyXG5jb25zdCBHUklEX1NJWkVfWSA9IDIyXG5jb25zdCBHUklEX0NFTExfU0laRSA9IDIzXG5cbmxldCBsYXN0ID0gMFxuXG5jb25zdCBzdG9yZWREZWF0aHMgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2RlYXRocycpXG5cbm5ldyAoY2xhc3MgU25ha2Uge1xuICBoYXNQcmludGVkU2V0dGluZ3MgPSBmYWxzZVxuXG4gIHN0YXJ0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0LWJ1dHRvbicpXG5cbiAgbm9tcyA9IFtcbiAgICBQSVhJU291bmQuU291bmQuZnJvbSgnLi9wdWJsaWMvZWF0MS53YXYnKSxcbiAgICBQSVhJU291bmQuU291bmQuZnJvbSgnLi9wdWJsaWMvZWF0Mi53YXYnKSxcbiAgICBQSVhJU291bmQuU291bmQuZnJvbSgnLi9wdWJsaWMvZWF0My53YXYnKSxcbiAgXVxuICBkZWFkID0gUElYSVNvdW5kLlNvdW5kLmZyb20oJy4vcHVibGljL2RlYWQud2F2JylcbiAgbW92ZSA9IFBJWElTb3VuZC5Tb3VuZC5mcm9tKCcuL3B1YmxpYy9tb3ZlLndhdicpXG5cbiAgLy8gQHRzLWlnbm9yZVxuICBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbihHUklEX1NJWkUsIEdSSURfU0laRSwge1xuICAgIHNoYXJlZFRpY2tlcjogZmFsc2UsXG4gICAgYXV0b1N0YXJ0OiBmYWxzZSxcbiAgfSlcblxuICBncmlkID0gbmV3IEdyaWQoR1JJRF9TSVpFX1gsIEdSSURfU0laRV9ZLCBHUklEX0NFTExfU0laRSlcblxuICBhY3RpdmVLZXk6IHN0cmluZyB8IG51bGwgPSBudWxsXG5cbiAgc2NvcmUgPSAwXG4gIGRlYXRocyA9XG4gICAgc3RvcmVkRGVhdGhzICYmIHR5cGVvZiBzdG9yZWREZWF0aHMgPT09ICdzdHJpbmcnXG4gICAgICA/IHBhcnNlSW50KHN0b3JlZERlYXRocylcbiAgICAgIDogMFxuICBkZWF0aEtlZXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVhdGhzJylcbiAgc2NvcmVLZWVwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njb3JlJylcblxuICBpc1Jlc2V0dGluZyA9IHRydWVcblxuICBkaXJlY3Rpb24gPSB7XG4gICAgeDogMSxcbiAgICB5OiAwLFxuICB9XG5cbiAgYWN0dWFsbHlSZXNldCgpIHtcbiAgICB0aGlzLmRpcmVjdGlvbi54ID0gMVxuICAgIHRoaXMuZGlyZWN0aW9uLnkgPSAwXG4gICAgdGhpcy5ncmlkLnRhaWxMZW5ndGggPSAzXG4gICAgdGhpcy5ncmlkLmFjdGl2ZUluZGV4ID0gMjAwXG4gICAgdGhpcy5ncmlkLmFjdGl2ZVRhaWxJbmRleGVzID0gW11cbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5hcHAudmlldylcblxuICAgIHRoaXMuc3RhcnRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnQtYnV0dG9uJylcbiAgICB0aGlzLmFwcC52aWV3LndpZHRoID0gR1JJRF9TSVpFXG4gICAgdGhpcy5hcHAudmlldy5oZWlnaHQgPSBHUklEX1NJWkVcblxuICAgIGRvY3VtZW50LmJvZHkub25rZXlkb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAodGhpcy5pc1Jlc2V0dGluZykge1xuICAgICAgICBpZiAoWydFbnRlcicsICdTcGFjZSddLmluY2x1ZGVzKGV2ZW50LmNvZGUpKSB7XG4gICAgICAgICAgdGhpcy5hY3R1YWxseVJlc2V0KClcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNSZXNldHRpbmcgPSBmYWxzZVxuICAgICAgICAgICAgdGhpcy5zdGFydEJ1dHRvbj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcbiAgICAgICAgICB9LCAxMjApXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYWN0aXZlS2V5ID0gZXZlbnQuY29kZVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc3RhcnQoKVxuICB9XG5cbiAgdGljayhkZWx0YTogbnVtYmVyKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IEZQUyA9IHdpbmRvdy5HTE9CQUxfU1BFRUQgfHwgMTBcbiAgICBjb25zdCBJTlRFUlZBTCA9ICgxZTMgLyBGUFMpIHwgMFxuXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudGljay5iaW5kKHRoaXMpKVxuXG4gICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCkgfCAwIC8vIEZpeCBvY2Nhc2lvbmFsIGRyb3Atb2ZmIGZyYW1lc1xuICAgIGNvbnN0IGVsYXBzZWQgPSBub3cgLSBsYXN0XG5cbiAgICBpZiAoZWxhcHNlZCA8IElOVEVSVkFMKSByZXR1cm5cblxuICAgIHN3aXRjaCAodGhpcy5hY3RpdmVLZXkpIHtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdBcnJvd1VwJzpcbiAgICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uLnkgIT09IDEpIHtcbiAgICAgICAgICB0aGlzLmRpcmVjdGlvbi55ID0gLTFcbiAgICAgICAgICB0aGlzLmRpcmVjdGlvbi54ID0gMFxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdBcnJvd0Rvd24nOlxuICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24ueSAhPT0gLTEpIHtcbiAgICAgICAgICB0aGlzLmRpcmVjdGlvbi55ID0gMVxuICAgICAgICAgIHRoaXMuZGlyZWN0aW9uLnggPSAwXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ0Fycm93TGVmdCc6XG4gICAgICAgIGlmICh0aGlzLmRpcmVjdGlvbi54ICE9PSAxKSB7XG4gICAgICAgICAgdGhpcy5kaXJlY3Rpb24ueCA9IC0xXG4gICAgICAgICAgdGhpcy5kaXJlY3Rpb24ueSA9IDBcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnQXJyb3dSaWdodCc6XG4gICAgICAgIGlmICh0aGlzLmRpcmVjdGlvbi54ICE9PSAtMSkge1xuICAgICAgICAgIHRoaXMuZGlyZWN0aW9uLnggPSAxXG4gICAgICAgICAgdGhpcy5kaXJlY3Rpb24ueSA9IDBcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlKGRlbHRhKVxuXG4gICAgLy8gRXhjZWxsZW50XG4gICAgbGFzdCA9IG5vdyAtIChlbGFwc2VkICUgSU5URVJWQUwpXG4gIH1cblxuICBzdGFydCgpIHtcbiAgICB0aGlzLmdyaWQuc3RhZ2UueCA9IC1HUklEX0NFTExfU0laRVxuICAgIHRoaXMuZ3JpZC5zdGFnZS55ID0gLUdSSURfQ0VMTF9TSVpFXG4gICAgdGhpcy5hcHAuc3RhZ2UuYWRkQ2hpbGQodGhpcy5ncmlkLnN0YWdlKVxuICAgIHRoaXMuZ3JpZC5nZW5lcmF0ZSgpXG5cbiAgICB0aGlzLnRpY2soMClcblxuICAgIGNvbnN0IGxvYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nJylcbiAgICBpZiAobG9hZGVyKSB7XG4gICAgICBsb2FkZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgIH1cbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIGlmICh0aGlzLnN0YXJ0QnV0dG9uKSB7XG4gICAgICB0aGlzLnN0YXJ0QnV0dG9uLmlubmVyVGV4dCA9ICdSZXNldCdcbiAgICAgIHRoaXMuc3RhcnRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcbiAgICB9XG4gICAgdGhpcy5kZWFkLnBsYXkoKVxuICAgIHRoaXMuaXNSZXNldHRpbmcgPSB0cnVlXG4gICAgdGhpcy5kZWF0aHMgKz0gMVxuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZGVhdGhzJywgU3RyaW5nKHRoaXMuZGVhdGhzKSlcbiAgfVxuXG4gIGhhbmRsZU1vdmVtZW50KCkge1xuICAgIGlmICh0aGlzLmdyaWQuYWN0aXZlVGFpbEluZGV4ZXMuaW5jbHVkZXModGhpcy5ncmlkLmFjdGl2ZUluZGV4KSkge1xuICAgICAgcmV0dXJuIHRoaXMucmVzZXQoKVxuICAgIH1cblxuICAgIGlmICh0aGlzLmdyaWQuYWN0aXZlWSA8IDEpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlc2V0KClcbiAgICB9XG5cbiAgICBpZiAodGhpcy5ncmlkLmFjdGl2ZVkgPiAyMCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVzZXQoKVxuICAgIH1cblxuICAgIGlmICh0aGlzLmdyaWQuYWN0aXZlWCA8IDEpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlc2V0KClcbiAgICB9XG5cbiAgICBpZiAodGhpcy5ncmlkLmFjdGl2ZVggPiAyMCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVzZXQoKVxuICAgIH1cblxuICAgIGlmICh0aGlzLmdyaWQuYWN0aXZlSW5kZXggPT09IHRoaXMuZ3JpZC5mb29kSW5kZXgpIHtcbiAgICAgIHRoaXMubm9tc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLm5vbXMubGVuZ3RoKV0ucGxheSgpXG4gICAgICB0aGlzLmdyaWQucGxhY2VGb29kKClcbiAgICAgIHRoaXMuZ3JpZC50YWlsTGVuZ3RoICs9IDNcbiAgICB9XG5cbiAgICB0aGlzLmdyaWQuYWN0aXZlVGFpbEluZGV4ZXMucHVzaCh0aGlzLmdyaWQuYWN0aXZlSW5kZXgpXG4gICAgaWYgKHRoaXMuZ3JpZC5hY3RpdmVUYWlsSW5kZXhlcy5sZW5ndGggPiB0aGlzLmdyaWQudGFpbExlbmd0aCkge1xuICAgICAgdGhpcy5ncmlkLmFjdGl2ZVRhaWxJbmRleGVzLnNwbGljZSgwLCAxKVxuICAgIH1cblxuICAgIGlmICh0aGlzLmRpcmVjdGlvbi55ID09PSAtMSkge1xuICAgICAgdGhpcy5ncmlkLmFjdGl2ZUluZGV4IC09IEdSSURfU0laRV9ZXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGlyZWN0aW9uLnkgPT09IDEpIHtcbiAgICAgIHRoaXMuZ3JpZC5hY3RpdmVJbmRleCArPSBHUklEX1NJWkVfWVxuICAgIH1cblxuICAgIGlmICh0aGlzLmRpcmVjdGlvbi54ID09PSAtMSkge1xuICAgICAgdGhpcy5ncmlkLmFjdGl2ZUluZGV4IC09IDFcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kaXJlY3Rpb24ueCA9PT0gMSkge1xuICAgICAgdGhpcy5ncmlkLmFjdGl2ZUluZGV4ICs9IDFcbiAgICB9XG5cbiAgICB0aGlzLm1vdmUucGxheSgpXG5cbiAgICB0aGlzLmFjdGl2ZUtleSA9IG51bGxcbiAgfVxuXG4gIHVwZGF0ZVNjb3JlKCkge1xuICAgIGlmICh0aGlzLnNjb3JlS2VlcCAmJiB0aGlzLnNjb3JlICE9PSB0aGlzLmdyaWQudGFpbExlbmd0aCkge1xuICAgICAgdGhpcy5zY29yZSA9IHRoaXMuZ3JpZC50YWlsTGVuZ3RoXG4gICAgICB0aGlzLnNjb3JlS2VlcC5pbm5lclRleHQgPSBTdHJpbmcodGhpcy5zY29yZSlcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kZWF0aEtlZXAgJiYgdGhpcy5kZWF0aHMgIT09IE51bWJlcih0aGlzLmRlYXRoS2VlcC5pbm5lclRleHQpKSB7XG4gICAgICB0aGlzLmRlYXRoS2VlcC5pbm5lclRleHQgPSBTdHJpbmcodGhpcy5kZWF0aHMpXG4gICAgfVxuICB9XG5cbiAgdXBkYXRlKF9kZWx0YTogbnVtYmVyKSB7XG4gICAgaWYgKCF0aGlzLmhhc1ByaW50ZWRTZXR0aW5ncykge1xuICAgICAgdGhpcy5oYXNQcmludGVkU2V0dGluZ3MgPSB0cnVlXG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgYEhlbGxvIGdhbWVyIVxuICBTZXR0aW5nczpcbiVjfCAgICBHTE9CQUxfU1BFRUQgPSAxMCAgICB8XG5gLFxuICAgICAgICAnY29sb3I6IHdoaXRlOyBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsnLFxuICAgICAgKVxuICAgIH1cblxuICAgIGlmICghdGhpcy5pc1Jlc2V0dGluZykge1xuICAgICAgdGhpcy5oYW5kbGVNb3ZlbWVudCgpXG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVTY29yZSgpXG4gICAgdGhpcy5ncmlkLmRyYXcoKVxuXG4gICAgaWYgKCF0aGlzLnN0YXJ0QnV0dG9uKSB7XG4gICAgICB0aGlzLnN0YXJ0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0LWJ1dHRvbicpXG5cbiAgICAgIGlmICh0aGlzLnN0YXJ0QnV0dG9uKSB7XG4gICAgICAgIHRoaXMuc3RhcnRCdXR0b24ub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmFjdHVhbGx5UmVzZXQoKVxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc1Jlc2V0dGluZyA9IGZhbHNlXG4gICAgICAgICAgICB0aGlzLnN0YXJ0QnV0dG9uPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuICAgICAgICAgIH0sIDEyMClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufSkoKVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVhcmN1dDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBlYXJjdXQ7XG5cbmZ1bmN0aW9uIGVhcmN1dChkYXRhLCBob2xlSW5kaWNlcywgZGltKSB7XG5cbiAgICBkaW0gPSBkaW0gfHwgMjtcblxuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aCxcbiAgICAgICAgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGgsXG4gICAgICAgIG91dGVyTm9kZSA9IGxpbmtlZExpc3QoZGF0YSwgMCwgb3V0ZXJMZW4sIGRpbSwgdHJ1ZSksXG4gICAgICAgIHRyaWFuZ2xlcyA9IFtdO1xuXG4gICAgaWYgKCFvdXRlck5vZGUgfHwgb3V0ZXJOb2RlLm5leHQgPT09IG91dGVyTm9kZS5wcmV2KSByZXR1cm4gdHJpYW5nbGVzO1xuXG4gICAgdmFyIG1pblgsIG1pblksIG1heFgsIG1heFksIHgsIHksIGludlNpemU7XG5cbiAgICBpZiAoaGFzSG9sZXMpIG91dGVyTm9kZSA9IGVsaW1pbmF0ZUhvbGVzKGRhdGEsIGhvbGVJbmRpY2VzLCBvdXRlck5vZGUsIGRpbSk7XG5cbiAgICAvLyBpZiB0aGUgc2hhcGUgaXMgbm90IHRvbyBzaW1wbGUsIHdlJ2xsIHVzZSB6LW9yZGVyIGN1cnZlIGhhc2ggbGF0ZXI7IGNhbGN1bGF0ZSBwb2x5Z29uIGJib3hcbiAgICBpZiAoZGF0YS5sZW5ndGggPiA4MCAqIGRpbSkge1xuICAgICAgICBtaW5YID0gbWF4WCA9IGRhdGFbMF07XG4gICAgICAgIG1pblkgPSBtYXhZID0gZGF0YVsxXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gZGltOyBpIDwgb3V0ZXJMZW47IGkgKz0gZGltKSB7XG4gICAgICAgICAgICB4ID0gZGF0YVtpXTtcbiAgICAgICAgICAgIHkgPSBkYXRhW2kgKyAxXTtcbiAgICAgICAgICAgIGlmICh4IDwgbWluWCkgbWluWCA9IHg7XG4gICAgICAgICAgICBpZiAoeSA8IG1pblkpIG1pblkgPSB5O1xuICAgICAgICAgICAgaWYgKHggPiBtYXhYKSBtYXhYID0geDtcbiAgICAgICAgICAgIGlmICh5ID4gbWF4WSkgbWF4WSA9IHk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtaW5YLCBtaW5ZIGFuZCBpbnZTaXplIGFyZSBsYXRlciB1c2VkIHRvIHRyYW5zZm9ybSBjb29yZHMgaW50byBpbnRlZ2VycyBmb3Igei1vcmRlciBjYWxjdWxhdGlvblxuICAgICAgICBpbnZTaXplID0gTWF0aC5tYXgobWF4WCAtIG1pblgsIG1heFkgLSBtaW5ZKTtcbiAgICAgICAgaW52U2l6ZSA9IGludlNpemUgIT09IDAgPyAxIC8gaW52U2l6ZSA6IDA7XG4gICAgfVxuXG4gICAgZWFyY3V0TGlua2VkKG91dGVyTm9kZSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgcmV0dXJuIHRyaWFuZ2xlcztcbn1cblxuLy8gY3JlYXRlIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0IGZyb20gcG9seWdvbiBwb2ludHMgaW4gdGhlIHNwZWNpZmllZCB3aW5kaW5nIG9yZGVyXG5mdW5jdGlvbiBsaW5rZWRMaXN0KGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSwgY2xvY2t3aXNlKSB7XG4gICAgdmFyIGksIGxhc3Q7XG5cbiAgICBpZiAoY2xvY2t3aXNlID09PSAoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pID4gMCkpIHtcbiAgICAgICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gZGltKSBsYXN0ID0gaW5zZXJ0Tm9kZShpLCBkYXRhW2ldLCBkYXRhW2kgKyAxXSwgbGFzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChpID0gZW5kIC0gZGltOyBpID49IHN0YXJ0OyBpIC09IGRpbSkgbGFzdCA9IGluc2VydE5vZGUoaSwgZGF0YVtpXSwgZGF0YVtpICsgMV0sIGxhc3QpO1xuICAgIH1cblxuICAgIGlmIChsYXN0ICYmIGVxdWFscyhsYXN0LCBsYXN0Lm5leHQpKSB7XG4gICAgICAgIHJlbW92ZU5vZGUobGFzdCk7XG4gICAgICAgIGxhc3QgPSBsYXN0Lm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhc3Q7XG59XG5cbi8vIGVsaW1pbmF0ZSBjb2xpbmVhciBvciBkdXBsaWNhdGUgcG9pbnRzXG5mdW5jdGlvbiBmaWx0ZXJQb2ludHMoc3RhcnQsIGVuZCkge1xuICAgIGlmICghc3RhcnQpIHJldHVybiBzdGFydDtcbiAgICBpZiAoIWVuZCkgZW5kID0gc3RhcnQ7XG5cbiAgICB2YXIgcCA9IHN0YXJ0LFxuICAgICAgICBhZ2FpbjtcbiAgICBkbyB7XG4gICAgICAgIGFnYWluID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFwLnN0ZWluZXIgJiYgKGVxdWFscyhwLCBwLm5leHQpIHx8IGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID09PSAwKSkge1xuICAgICAgICAgICAgcmVtb3ZlTm9kZShwKTtcbiAgICAgICAgICAgIHAgPSBlbmQgPSBwLnByZXY7XG4gICAgICAgICAgICBpZiAocCA9PT0gcC5uZXh0KSBicmVhaztcbiAgICAgICAgICAgIGFnYWluID0gdHJ1ZTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcCA9IHAubmV4dDtcbiAgICAgICAgfVxuICAgIH0gd2hpbGUgKGFnYWluIHx8IHAgIT09IGVuZCk7XG5cbiAgICByZXR1cm4gZW5kO1xufVxuXG4vLyBtYWluIGVhciBzbGljaW5nIGxvb3Agd2hpY2ggdHJpYW5ndWxhdGVzIGEgcG9seWdvbiAoZ2l2ZW4gYXMgYSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGVhcmN1dExpbmtlZChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCBwYXNzKSB7XG4gICAgaWYgKCFlYXIpIHJldHVybjtcblxuICAgIC8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbiAgICBpZiAoIXBhc3MgJiYgaW52U2l6ZSkgaW5kZXhDdXJ2ZShlYXIsIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgdmFyIHN0b3AgPSBlYXIsXG4gICAgICAgIHByZXYsIG5leHQ7XG5cbiAgICAvLyBpdGVyYXRlIHRocm91Z2ggZWFycywgc2xpY2luZyB0aGVtIG9uZSBieSBvbmVcbiAgICB3aGlsZSAoZWFyLnByZXYgIT09IGVhci5uZXh0KSB7XG4gICAgICAgIHByZXYgPSBlYXIucHJldjtcbiAgICAgICAgbmV4dCA9IGVhci5uZXh0O1xuXG4gICAgICAgIGlmIChpbnZTaXplID8gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSA6IGlzRWFyKGVhcikpIHtcbiAgICAgICAgICAgIC8vIGN1dCBvZmYgdGhlIHRyaWFuZ2xlXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChwcmV2LmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goZWFyLmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gobmV4dC5pIC8gZGltKTtcblxuICAgICAgICAgICAgcmVtb3ZlTm9kZShlYXIpO1xuXG4gICAgICAgICAgICAvLyBza2lwcGluZyB0aGUgbmV4dCB2ZXJ0ZXggbGVhZHMgdG8gbGVzcyBzbGl2ZXIgdHJpYW5nbGVzXG4gICAgICAgICAgICBlYXIgPSBuZXh0Lm5leHQ7XG4gICAgICAgICAgICBzdG9wID0gbmV4dC5uZXh0O1xuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVhciA9IG5leHQ7XG5cbiAgICAgICAgLy8gaWYgd2UgbG9vcGVkIHRocm91Z2ggdGhlIHdob2xlIHJlbWFpbmluZyBwb2x5Z29uIGFuZCBjYW4ndCBmaW5kIGFueSBtb3JlIGVhcnNcbiAgICAgICAgaWYgKGVhciA9PT0gc3RvcCkge1xuICAgICAgICAgICAgLy8gdHJ5IGZpbHRlcmluZyBwb2ludHMgYW5kIHNsaWNpbmcgYWdhaW5cbiAgICAgICAgICAgIGlmICghcGFzcykge1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDEpO1xuXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGRpZG4ndCB3b3JrLCB0cnkgY3VyaW5nIGFsbCBzbWFsbCBzZWxmLWludGVyc2VjdGlvbnMgbG9jYWxseVxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZWFyID0gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0pO1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAyKTtcblxuICAgICAgICAgICAgLy8gYXMgYSBsYXN0IHJlc29ydCwgdHJ5IHNwbGl0dGluZyB0aGUgcmVtYWluaW5nIHBvbHlnb24gaW50byB0d29cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFzcyA9PT0gMikge1xuICAgICAgICAgICAgICAgIHNwbGl0RWFyY3V0KGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gY2hlY2sgd2hldGhlciBhIHBvbHlnb24gbm9kZSBmb3JtcyBhIHZhbGlkIGVhciB3aXRoIGFkamFjZW50IG5vZGVzXG5mdW5jdGlvbiBpc0VhcihlYXIpIHtcbiAgICB2YXIgYSA9IGVhci5wcmV2LFxuICAgICAgICBiID0gZWFyLFxuICAgICAgICBjID0gZWFyLm5leHQ7XG5cbiAgICBpZiAoYXJlYShhLCBiLCBjKSA+PSAwKSByZXR1cm4gZmFsc2U7IC8vIHJlZmxleCwgY2FuJ3QgYmUgYW4gZWFyXG5cbiAgICAvLyBub3cgbWFrZSBzdXJlIHdlIGRvbid0IGhhdmUgb3RoZXIgcG9pbnRzIGluc2lkZSB0aGUgcG90ZW50aWFsIGVhclxuICAgIHZhciBwID0gZWFyLm5leHQubmV4dDtcblxuICAgIHdoaWxlIChwICE9PSBlYXIucHJldikge1xuICAgICAgICBpZiAocG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIHAueCwgcC55KSAmJlxuICAgICAgICAgICAgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBpc0Vhckhhc2hlZChlYXIsIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICB2YXIgYSA9IGVhci5wcmV2LFxuICAgICAgICBiID0gZWFyLFxuICAgICAgICBjID0gZWFyLm5leHQ7XG5cbiAgICBpZiAoYXJlYShhLCBiLCBjKSA+PSAwKSByZXR1cm4gZmFsc2U7IC8vIHJlZmxleCwgY2FuJ3QgYmUgYW4gZWFyXG5cbiAgICAvLyB0cmlhbmdsZSBiYm94OyBtaW4gJiBtYXggYXJlIGNhbGN1bGF0ZWQgbGlrZSB0aGlzIGZvciBzcGVlZFxuICAgIHZhciBtaW5UWCA9IGEueCA8IGIueCA/IChhLnggPCBjLnggPyBhLnggOiBjLngpIDogKGIueCA8IGMueCA/IGIueCA6IGMueCksXG4gICAgICAgIG1pblRZID0gYS55IDwgYi55ID8gKGEueSA8IGMueSA/IGEueSA6IGMueSkgOiAoYi55IDwgYy55ID8gYi55IDogYy55KSxcbiAgICAgICAgbWF4VFggPSBhLnggPiBiLnggPyAoYS54ID4gYy54ID8gYS54IDogYy54KSA6IChiLnggPiBjLnggPyBiLnggOiBjLngpLFxuICAgICAgICBtYXhUWSA9IGEueSA+IGIueSA/IChhLnkgPiBjLnkgPyBhLnkgOiBjLnkpIDogKGIueSA+IGMueSA/IGIueSA6IGMueSk7XG5cbiAgICAvLyB6LW9yZGVyIHJhbmdlIGZvciB0aGUgY3VycmVudCB0cmlhbmdsZSBiYm94O1xuICAgIHZhciBtaW5aID0gek9yZGVyKG1pblRYLCBtaW5UWSwgbWluWCwgbWluWSwgaW52U2l6ZSksXG4gICAgICAgIG1heFogPSB6T3JkZXIobWF4VFgsIG1heFRZLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcblxuICAgIHZhciBwID0gZWFyLnByZXZaLFxuICAgICAgICBuID0gZWFyLm5leHRaO1xuXG4gICAgLy8gbG9vayBmb3IgcG9pbnRzIGluc2lkZSB0aGUgdHJpYW5nbGUgaW4gYm90aCBkaXJlY3Rpb25zXG4gICAgd2hpbGUgKHAgJiYgcC56ID49IG1pblogJiYgbiAmJiBuLnogPD0gbWF4Wikge1xuICAgICAgICBpZiAocCAhPT0gZWFyLnByZXYgJiYgcCAhPT0gZWFyLm5leHQgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAucHJldlo7XG5cbiAgICAgICAgaWYgKG4gIT09IGVhci5wcmV2ICYmIG4gIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgbi54LCBuLnkpICYmXG4gICAgICAgICAgICBhcmVhKG4ucHJldiwgbiwgbi5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIG4gPSBuLm5leHRaO1xuICAgIH1cblxuICAgIC8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gZGVjcmVhc2luZyB6LW9yZGVyXG4gICAgd2hpbGUgKHAgJiYgcC56ID49IG1pblopIHtcbiAgICAgICAgaWYgKHAgIT09IGVhci5wcmV2ICYmIHAgIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgcC54LCBwLnkpICYmXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLnByZXZaO1xuICAgIH1cblxuICAgIC8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gaW5jcmVhc2luZyB6LW9yZGVyXG4gICAgd2hpbGUgKG4gJiYgbi56IDw9IG1heFopIHtcbiAgICAgICAgaWYgKG4gIT09IGVhci5wcmV2ICYmIG4gIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgbi54LCBuLnkpICYmXG4gICAgICAgICAgICBhcmVhKG4ucHJldiwgbiwgbi5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIG4gPSBuLm5leHRaO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG4vLyBnbyB0aHJvdWdoIGFsbCBwb2x5Z29uIG5vZGVzIGFuZCBjdXJlIHNtYWxsIGxvY2FsIHNlbGYtaW50ZXJzZWN0aW9uc1xuZnVuY3Rpb24gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhzdGFydCwgdHJpYW5nbGVzLCBkaW0pIHtcbiAgICB2YXIgcCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGEgPSBwLnByZXYsXG4gICAgICAgICAgICBiID0gcC5uZXh0Lm5leHQ7XG5cbiAgICAgICAgaWYgKCFlcXVhbHMoYSwgYikgJiYgaW50ZXJzZWN0cyhhLCBwLCBwLm5leHQsIGIpICYmIGxvY2FsbHlJbnNpZGUoYSwgYikgJiYgbG9jYWxseUluc2lkZShiLCBhKSkge1xuXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChhLmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gocC5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGIuaSAvIGRpbSk7XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSB0d28gbm9kZXMgaW52b2x2ZWRcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocCk7XG4gICAgICAgICAgICByZW1vdmVOb2RlKHAubmV4dCk7XG5cbiAgICAgICAgICAgIHAgPSBzdGFydCA9IGI7XG4gICAgICAgIH1cbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gZmlsdGVyUG9pbnRzKHApO1xufVxuXG4vLyB0cnkgc3BsaXR0aW5nIHBvbHlnb24gaW50byB0d28gYW5kIHRyaWFuZ3VsYXRlIHRoZW0gaW5kZXBlbmRlbnRseVxuZnVuY3Rpb24gc3BsaXRFYXJjdXQoc3RhcnQsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgLy8gbG9vayBmb3IgYSB2YWxpZCBkaWFnb25hbCB0aGF0IGRpdmlkZXMgdGhlIHBvbHlnb24gaW50byB0d29cbiAgICB2YXIgYSA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGIgPSBhLm5leHQubmV4dDtcbiAgICAgICAgd2hpbGUgKGIgIT09IGEucHJldikge1xuICAgICAgICAgICAgaWYgKGEuaSAhPT0gYi5pICYmIGlzVmFsaWREaWFnb25hbChhLCBiKSkge1xuICAgICAgICAgICAgICAgIC8vIHNwbGl0IHRoZSBwb2x5Z29uIGluIHR3byBieSB0aGUgZGlhZ29uYWxcbiAgICAgICAgICAgICAgICB2YXIgYyA9IHNwbGl0UG9seWdvbihhLCBiKTtcblxuICAgICAgICAgICAgICAgIC8vIGZpbHRlciBjb2xpbmVhciBwb2ludHMgYXJvdW5kIHRoZSBjdXRzXG4gICAgICAgICAgICAgICAgYSA9IGZpbHRlclBvaW50cyhhLCBhLm5leHQpO1xuICAgICAgICAgICAgICAgIGMgPSBmaWx0ZXJQb2ludHMoYywgYy5uZXh0KTtcblxuICAgICAgICAgICAgICAgIC8vIHJ1biBlYXJjdXQgb24gZWFjaCBoYWxmXG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGEsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoYywgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGIgPSBiLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgYSA9IGEubmV4dDtcbiAgICB9IHdoaWxlIChhICE9PSBzdGFydCk7XG59XG5cbi8vIGxpbmsgZXZlcnkgaG9sZSBpbnRvIHRoZSBvdXRlciBsb29wLCBwcm9kdWNpbmcgYSBzaW5nbGUtcmluZyBwb2x5Z29uIHdpdGhvdXQgaG9sZXNcbmZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGVzKGRhdGEsIGhvbGVJbmRpY2VzLCBvdXRlck5vZGUsIGRpbSkge1xuICAgIHZhciBxdWV1ZSA9IFtdLFxuICAgICAgICBpLCBsZW4sIHN0YXJ0LCBlbmQsIGxpc3Q7XG5cbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBzdGFydCA9IGhvbGVJbmRpY2VzW2ldICogZGltO1xuICAgICAgICBlbmQgPSBpIDwgbGVuIC0gMSA/IGhvbGVJbmRpY2VzW2kgKyAxXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuICAgICAgICBsaXN0ID0gbGlua2VkTGlzdChkYXRhLCBzdGFydCwgZW5kLCBkaW0sIGZhbHNlKTtcbiAgICAgICAgaWYgKGxpc3QgPT09IGxpc3QubmV4dCkgbGlzdC5zdGVpbmVyID0gdHJ1ZTtcbiAgICAgICAgcXVldWUucHVzaChnZXRMZWZ0bW9zdChsaXN0KSk7XG4gICAgfVxuXG4gICAgcXVldWUuc29ydChjb21wYXJlWCk7XG5cbiAgICAvLyBwcm9jZXNzIGhvbGVzIGZyb20gbGVmdCB0byByaWdodFxuICAgIGZvciAoaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBlbGltaW5hdGVIb2xlKHF1ZXVlW2ldLCBvdXRlck5vZGUpO1xuICAgICAgICBvdXRlck5vZGUgPSBmaWx0ZXJQb2ludHMob3V0ZXJOb2RlLCBvdXRlck5vZGUubmV4dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dGVyTm9kZTtcbn1cblxuZnVuY3Rpb24gY29tcGFyZVgoYSwgYikge1xuICAgIHJldHVybiBhLnggLSBiLng7XG59XG5cbi8vIGZpbmQgYSBicmlkZ2UgYmV0d2VlbiB2ZXJ0aWNlcyB0aGF0IGNvbm5lY3RzIGhvbGUgd2l0aCBhbiBvdXRlciByaW5nIGFuZCBhbmQgbGluayBpdFxuZnVuY3Rpb24gZWxpbWluYXRlSG9sZShob2xlLCBvdXRlck5vZGUpIHtcbiAgICBvdXRlck5vZGUgPSBmaW5kSG9sZUJyaWRnZShob2xlLCBvdXRlck5vZGUpO1xuICAgIGlmIChvdXRlck5vZGUpIHtcbiAgICAgICAgdmFyIGIgPSBzcGxpdFBvbHlnb24ob3V0ZXJOb2RlLCBob2xlKTtcblxuICAgICAgICAvLyBmaWx0ZXIgY29sbGluZWFyIHBvaW50cyBhcm91bmQgdGhlIGN1dHNcbiAgICAgICAgZmlsdGVyUG9pbnRzKG91dGVyTm9kZSwgb3V0ZXJOb2RlLm5leHQpO1xuICAgICAgICBmaWx0ZXJQb2ludHMoYiwgYi5uZXh0KTtcbiAgICB9XG59XG5cbi8vIERhdmlkIEViZXJseSdzIGFsZ29yaXRobSBmb3IgZmluZGluZyBhIGJyaWRnZSBiZXR3ZWVuIGhvbGUgYW5kIG91dGVyIHBvbHlnb25cbmZ1bmN0aW9uIGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSkge1xuICAgIHZhciBwID0gb3V0ZXJOb2RlLFxuICAgICAgICBoeCA9IGhvbGUueCxcbiAgICAgICAgaHkgPSBob2xlLnksXG4gICAgICAgIHF4ID0gLUluZmluaXR5LFxuICAgICAgICBtO1xuXG4gICAgLy8gZmluZCBhIHNlZ21lbnQgaW50ZXJzZWN0ZWQgYnkgYSByYXkgZnJvbSB0aGUgaG9sZSdzIGxlZnRtb3N0IHBvaW50IHRvIHRoZSBsZWZ0O1xuICAgIC8vIHNlZ21lbnQncyBlbmRwb2ludCB3aXRoIGxlc3NlciB4IHdpbGwgYmUgcG90ZW50aWFsIGNvbm5lY3Rpb24gcG9pbnRcbiAgICBkbyB7XG4gICAgICAgIGlmIChoeSA8PSBwLnkgJiYgaHkgPj0gcC5uZXh0LnkgJiYgcC5uZXh0LnkgIT09IHAueSkge1xuICAgICAgICAgICAgdmFyIHggPSBwLnggKyAoaHkgLSBwLnkpICogKHAubmV4dC54IC0gcC54KSAvIChwLm5leHQueSAtIHAueSk7XG4gICAgICAgICAgICBpZiAoeCA8PSBoeCAmJiB4ID4gcXgpIHtcbiAgICAgICAgICAgICAgICBxeCA9IHg7XG4gICAgICAgICAgICAgICAgaWYgKHggPT09IGh4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoeSA9PT0gcC55KSByZXR1cm4gcDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh5ID09PSBwLm5leHQueSkgcmV0dXJuIHAubmV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbSA9IHAueCA8IHAubmV4dC54ID8gcCA6IHAubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IG91dGVyTm9kZSk7XG5cbiAgICBpZiAoIW0pIHJldHVybiBudWxsO1xuXG4gICAgaWYgKGh4ID09PSBxeCkgcmV0dXJuIG07IC8vIGhvbGUgdG91Y2hlcyBvdXRlciBzZWdtZW50OyBwaWNrIGxlZnRtb3N0IGVuZHBvaW50XG5cbiAgICAvLyBsb29rIGZvciBwb2ludHMgaW5zaWRlIHRoZSB0cmlhbmdsZSBvZiBob2xlIHBvaW50LCBzZWdtZW50IGludGVyc2VjdGlvbiBhbmQgZW5kcG9pbnQ7XG4gICAgLy8gaWYgdGhlcmUgYXJlIG5vIHBvaW50cyBmb3VuZCwgd2UgaGF2ZSBhIHZhbGlkIGNvbm5lY3Rpb247XG4gICAgLy8gb3RoZXJ3aXNlIGNob29zZSB0aGUgcG9pbnQgb2YgdGhlIG1pbmltdW0gYW5nbGUgd2l0aCB0aGUgcmF5IGFzIGNvbm5lY3Rpb24gcG9pbnRcblxuICAgIHZhciBzdG9wID0gbSxcbiAgICAgICAgbXggPSBtLngsXG4gICAgICAgIG15ID0gbS55LFxuICAgICAgICB0YW5NaW4gPSBJbmZpbml0eSxcbiAgICAgICAgdGFuO1xuXG4gICAgcCA9IG07XG5cbiAgICBkbyB7XG4gICAgICAgIGlmIChoeCA+PSBwLnggJiYgcC54ID49IG14ICYmIGh4ICE9PSBwLnggJiZcbiAgICAgICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoaHkgPCBteSA/IGh4IDogcXgsIGh5LCBteCwgbXksIGh5IDwgbXkgPyBxeCA6IGh4LCBoeSwgcC54LCBwLnkpKSB7XG5cbiAgICAgICAgICAgIHRhbiA9IE1hdGguYWJzKGh5IC0gcC55KSAvIChoeCAtIHAueCk7IC8vIHRhbmdlbnRpYWxcblxuICAgICAgICAgICAgaWYgKGxvY2FsbHlJbnNpZGUocCwgaG9sZSkgJiZcbiAgICAgICAgICAgICAgICAodGFuIDwgdGFuTWluIHx8ICh0YW4gPT09IHRhbk1pbiAmJiAocC54ID4gbS54IHx8IChwLnggPT09IG0ueCAmJiBzZWN0b3JDb250YWluc1NlY3RvcihtLCBwKSkpKSkpIHtcbiAgICAgICAgICAgICAgICBtID0gcDtcbiAgICAgICAgICAgICAgICB0YW5NaW4gPSB0YW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IHN0b3ApO1xuXG4gICAgcmV0dXJuIG07XG59XG5cbi8vIHdoZXRoZXIgc2VjdG9yIGluIHZlcnRleCBtIGNvbnRhaW5zIHNlY3RvciBpbiB2ZXJ0ZXggcCBpbiB0aGUgc2FtZSBjb29yZGluYXRlc1xuZnVuY3Rpb24gc2VjdG9yQ29udGFpbnNTZWN0b3IobSwgcCkge1xuICAgIHJldHVybiBhcmVhKG0ucHJldiwgbSwgcC5wcmV2KSA8IDAgJiYgYXJlYShwLm5leHQsIG0sIG0ubmV4dCkgPCAwO1xufVxuXG4vLyBpbnRlcmxpbmsgcG9seWdvbiBub2RlcyBpbiB6LW9yZGVyXG5mdW5jdGlvbiBpbmRleEN1cnZlKHN0YXJ0LCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgdmFyIHAgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLnogPT09IG51bGwpIHAueiA9IHpPcmRlcihwLngsIHAueSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgIHAucHJldlogPSBwLnByZXY7XG4gICAgICAgIHAubmV4dFogPSBwLm5leHQ7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcC5wcmV2Wi5uZXh0WiA9IG51bGw7XG4gICAgcC5wcmV2WiA9IG51bGw7XG5cbiAgICBzb3J0TGlua2VkKHApO1xufVxuXG4vLyBTaW1vbiBUYXRoYW0ncyBsaW5rZWQgbGlzdCBtZXJnZSBzb3J0IGFsZ29yaXRobVxuLy8gaHR0cDovL3d3dy5jaGlhcmsuZ3JlZW5lbmQub3JnLnVrL35zZ3RhdGhhbS9hbGdvcml0aG1zL2xpc3Rzb3J0Lmh0bWxcbmZ1bmN0aW9uIHNvcnRMaW5rZWQobGlzdCkge1xuICAgIHZhciBpLCBwLCBxLCBlLCB0YWlsLCBudW1NZXJnZXMsIHBTaXplLCBxU2l6ZSxcbiAgICAgICAgaW5TaXplID0gMTtcblxuICAgIGRvIHtcbiAgICAgICAgcCA9IGxpc3Q7XG4gICAgICAgIGxpc3QgPSBudWxsO1xuICAgICAgICB0YWlsID0gbnVsbDtcbiAgICAgICAgbnVtTWVyZ2VzID0gMDtcblxuICAgICAgICB3aGlsZSAocCkge1xuICAgICAgICAgICAgbnVtTWVyZ2VzKys7XG4gICAgICAgICAgICBxID0gcDtcbiAgICAgICAgICAgIHBTaXplID0gMDtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBpblNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgIHBTaXplKys7XG4gICAgICAgICAgICAgICAgcSA9IHEubmV4dFo7XG4gICAgICAgICAgICAgICAgaWYgKCFxKSBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHFTaXplID0gaW5TaXplO1xuXG4gICAgICAgICAgICB3aGlsZSAocFNpemUgPiAwIHx8IChxU2l6ZSA+IDAgJiYgcSkpIHtcblxuICAgICAgICAgICAgICAgIGlmIChwU2l6ZSAhPT0gMCAmJiAocVNpemUgPT09IDAgfHwgIXEgfHwgcC56IDw9IHEueikpIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IHA7XG4gICAgICAgICAgICAgICAgICAgIHAgPSBwLm5leHRaO1xuICAgICAgICAgICAgICAgICAgICBwU2l6ZS0tO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGUgPSBxO1xuICAgICAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcbiAgICAgICAgICAgICAgICAgICAgcVNpemUtLTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGFpbCkgdGFpbC5uZXh0WiA9IGU7XG4gICAgICAgICAgICAgICAgZWxzZSBsaXN0ID0gZTtcblxuICAgICAgICAgICAgICAgIGUucHJldlogPSB0YWlsO1xuICAgICAgICAgICAgICAgIHRhaWwgPSBlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwID0gcTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhaWwubmV4dFogPSBudWxsO1xuICAgICAgICBpblNpemUgKj0gMjtcblxuICAgIH0gd2hpbGUgKG51bU1lcmdlcyA+IDEpO1xuXG4gICAgcmV0dXJuIGxpc3Q7XG59XG5cbi8vIHotb3JkZXIgb2YgYSBwb2ludCBnaXZlbiBjb29yZHMgYW5kIGludmVyc2Ugb2YgdGhlIGxvbmdlciBzaWRlIG9mIGRhdGEgYmJveFxuZnVuY3Rpb24gek9yZGVyKHgsIHksIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICAvLyBjb29yZHMgYXJlIHRyYW5zZm9ybWVkIGludG8gbm9uLW5lZ2F0aXZlIDE1LWJpdCBpbnRlZ2VyIHJhbmdlXG4gICAgeCA9IDMyNzY3ICogKHggLSBtaW5YKSAqIGludlNpemU7XG4gICAgeSA9IDMyNzY3ICogKHkgLSBtaW5ZKSAqIGludlNpemU7XG5cbiAgICB4ID0gKHggfCAoeCA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICAgIHggPSAoeCB8ICh4IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gICAgeCA9ICh4IHwgKHggPDwgMikpICYgMHgzMzMzMzMzMztcbiAgICB4ID0gKHggfCAoeCA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gICAgeSA9ICh5IHwgKHkgPDwgOCkpICYgMHgwMEZGMDBGRjtcbiAgICB5ID0gKHkgfCAoeSA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICAgIHkgPSAoeSB8ICh5IDw8IDIpKSAmIDB4MzMzMzMzMzM7XG4gICAgeSA9ICh5IHwgKHkgPDwgMSkpICYgMHg1NTU1NTU1NTtcblxuICAgIHJldHVybiB4IHwgKHkgPDwgMSk7XG59XG5cbi8vIGZpbmQgdGhlIGxlZnRtb3N0IG5vZGUgb2YgYSBwb2x5Z29uIHJpbmdcbmZ1bmN0aW9uIGdldExlZnRtb3N0KHN0YXJ0KSB7XG4gICAgdmFyIHAgPSBzdGFydCxcbiAgICAgICAgbGVmdG1vc3QgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLnggPCBsZWZ0bW9zdC54IHx8IChwLnggPT09IGxlZnRtb3N0LnggJiYgcC55IDwgbGVmdG1vc3QueSkpIGxlZnRtb3N0ID0gcDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gbGVmdG1vc3Q7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9pbnQgbGllcyB3aXRoaW4gYSBjb252ZXggdHJpYW5nbGVcbmZ1bmN0aW9uIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBweCwgcHkpIHtcbiAgICByZXR1cm4gKGN4IC0gcHgpICogKGF5IC0gcHkpIC0gKGF4IC0gcHgpICogKGN5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGF4IC0gcHgpICogKGJ5IC0gcHkpIC0gKGJ4IC0gcHgpICogKGF5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGJ4IC0gcHgpICogKGN5IC0gcHkpIC0gKGN4IC0gcHgpICogKGJ5IC0gcHkpID49IDA7XG59XG5cbi8vIGNoZWNrIGlmIGEgZGlhZ29uYWwgYmV0d2VlbiB0d28gcG9seWdvbiBub2RlcyBpcyB2YWxpZCAobGllcyBpbiBwb2x5Z29uIGludGVyaW9yKVxuZnVuY3Rpb24gaXNWYWxpZERpYWdvbmFsKGEsIGIpIHtcbiAgICByZXR1cm4gYS5uZXh0LmkgIT09IGIuaSAmJiBhLnByZXYuaSAhPT0gYi5pICYmICFpbnRlcnNlY3RzUG9seWdvbihhLCBiKSAmJiAvLyBkb25lcyd0IGludGVyc2VjdCBvdGhlciBlZGdlc1xuICAgICAgICAgICAobG9jYWxseUluc2lkZShhLCBiKSAmJiBsb2NhbGx5SW5zaWRlKGIsIGEpICYmIG1pZGRsZUluc2lkZShhLCBiKSAmJiAvLyBsb2NhbGx5IHZpc2libGVcbiAgICAgICAgICAgIChhcmVhKGEucHJldiwgYSwgYi5wcmV2KSB8fCBhcmVhKGEsIGIucHJldiwgYikpIHx8IC8vIGRvZXMgbm90IGNyZWF0ZSBvcHBvc2l0ZS1mYWNpbmcgc2VjdG9yc1xuICAgICAgICAgICAgZXF1YWxzKGEsIGIpICYmIGFyZWEoYS5wcmV2LCBhLCBhLm5leHQpID4gMCAmJiBhcmVhKGIucHJldiwgYiwgYi5uZXh0KSA+IDApOyAvLyBzcGVjaWFsIHplcm8tbGVuZ3RoIGNhc2Vcbn1cblxuLy8gc2lnbmVkIGFyZWEgb2YgYSB0cmlhbmdsZVxuZnVuY3Rpb24gYXJlYShwLCBxLCByKSB7XG4gICAgcmV0dXJuIChxLnkgLSBwLnkpICogKHIueCAtIHEueCkgLSAocS54IC0gcC54KSAqIChyLnkgLSBxLnkpO1xufVxuXG4vLyBjaGVjayBpZiB0d28gcG9pbnRzIGFyZSBlcXVhbFxuZnVuY3Rpb24gZXF1YWxzKHAxLCBwMikge1xuICAgIHJldHVybiBwMS54ID09PSBwMi54ICYmIHAxLnkgPT09IHAyLnk7XG59XG5cbi8vIGNoZWNrIGlmIHR3byBzZWdtZW50cyBpbnRlcnNlY3RcbmZ1bmN0aW9uIGludGVyc2VjdHMocDEsIHExLCBwMiwgcTIpIHtcbiAgICB2YXIgbzEgPSBzaWduKGFyZWEocDEsIHExLCBwMikpO1xuICAgIHZhciBvMiA9IHNpZ24oYXJlYShwMSwgcTEsIHEyKSk7XG4gICAgdmFyIG8zID0gc2lnbihhcmVhKHAyLCBxMiwgcDEpKTtcbiAgICB2YXIgbzQgPSBzaWduKGFyZWEocDIsIHEyLCBxMSkpO1xuXG4gICAgaWYgKG8xICE9PSBvMiAmJiBvMyAhPT0gbzQpIHJldHVybiB0cnVlOyAvLyBnZW5lcmFsIGNhc2VcblxuICAgIGlmIChvMSA9PT0gMCAmJiBvblNlZ21lbnQocDEsIHAyLCBxMSkpIHJldHVybiB0cnVlOyAvLyBwMSwgcTEgYW5kIHAyIGFyZSBjb2xsaW5lYXIgYW5kIHAyIGxpZXMgb24gcDFxMVxuICAgIGlmIChvMiA9PT0gMCAmJiBvblNlZ21lbnQocDEsIHEyLCBxMSkpIHJldHVybiB0cnVlOyAvLyBwMSwgcTEgYW5kIHEyIGFyZSBjb2xsaW5lYXIgYW5kIHEyIGxpZXMgb24gcDFxMVxuICAgIGlmIChvMyA9PT0gMCAmJiBvblNlZ21lbnQocDIsIHAxLCBxMikpIHJldHVybiB0cnVlOyAvLyBwMiwgcTIgYW5kIHAxIGFyZSBjb2xsaW5lYXIgYW5kIHAxIGxpZXMgb24gcDJxMlxuICAgIGlmIChvNCA9PT0gMCAmJiBvblNlZ21lbnQocDIsIHExLCBxMikpIHJldHVybiB0cnVlOyAvLyBwMiwgcTIgYW5kIHExIGFyZSBjb2xsaW5lYXIgYW5kIHExIGxpZXMgb24gcDJxMlxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBmb3IgY29sbGluZWFyIHBvaW50cyBwLCBxLCByLCBjaGVjayBpZiBwb2ludCBxIGxpZXMgb24gc2VnbWVudCBwclxuZnVuY3Rpb24gb25TZWdtZW50KHAsIHEsIHIpIHtcbiAgICByZXR1cm4gcS54IDw9IE1hdGgubWF4KHAueCwgci54KSAmJiBxLnggPj0gTWF0aC5taW4ocC54LCByLngpICYmIHEueSA8PSBNYXRoLm1heChwLnksIHIueSkgJiYgcS55ID49IE1hdGgubWluKHAueSwgci55KTtcbn1cblxuZnVuY3Rpb24gc2lnbihudW0pIHtcbiAgICByZXR1cm4gbnVtID4gMCA/IDEgOiBudW0gPCAwID8gLTEgOiAwO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaW50ZXJzZWN0cyBhbnkgcG9seWdvbiBzZWdtZW50c1xuZnVuY3Rpb24gaW50ZXJzZWN0c1BvbHlnb24oYSwgYikge1xuICAgIHZhciBwID0gYTtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLmkgIT09IGEuaSAmJiBwLm5leHQuaSAhPT0gYS5pICYmIHAuaSAhPT0gYi5pICYmIHAubmV4dC5pICE9PSBiLmkgJiZcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3RzKHAsIHAubmV4dCwgYSwgYikpIHJldHVybiB0cnVlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IGEpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgbG9jYWxseSBpbnNpZGUgdGhlIHBvbHlnb25cbmZ1bmN0aW9uIGxvY2FsbHlJbnNpZGUoYSwgYikge1xuICAgIHJldHVybiBhcmVhKGEucHJldiwgYSwgYS5uZXh0KSA8IDAgP1xuICAgICAgICBhcmVhKGEsIGIsIGEubmV4dCkgPj0gMCAmJiBhcmVhKGEsIGEucHJldiwgYikgPj0gMCA6XG4gICAgICAgIGFyZWEoYSwgYiwgYS5wcmV2KSA8IDAgfHwgYXJlYShhLCBhLm5leHQsIGIpIDwgMDtcbn1cblxuLy8gY2hlY2sgaWYgdGhlIG1pZGRsZSBwb2ludCBvZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgaW5zaWRlIHRoZSBwb2x5Z29uXG5mdW5jdGlvbiBtaWRkbGVJbnNpZGUoYSwgYikge1xuICAgIHZhciBwID0gYSxcbiAgICAgICAgaW5zaWRlID0gZmFsc2UsXG4gICAgICAgIHB4ID0gKGEueCArIGIueCkgLyAyLFxuICAgICAgICBweSA9IChhLnkgKyBiLnkpIC8gMjtcbiAgICBkbyB7XG4gICAgICAgIGlmICgoKHAueSA+IHB5KSAhPT0gKHAubmV4dC55ID4gcHkpKSAmJiBwLm5leHQueSAhPT0gcC55ICYmXG4gICAgICAgICAgICAgICAgKHB4IDwgKHAubmV4dC54IC0gcC54KSAqIChweSAtIHAueSkgLyAocC5uZXh0LnkgLSBwLnkpICsgcC54KSlcbiAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XG5cbiAgICByZXR1cm4gaW5zaWRlO1xufVxuXG4vLyBsaW5rIHR3byBwb2x5Z29uIHZlcnRpY2VzIHdpdGggYSBicmlkZ2U7IGlmIHRoZSB2ZXJ0aWNlcyBiZWxvbmcgdG8gdGhlIHNhbWUgcmluZywgaXQgc3BsaXRzIHBvbHlnb24gaW50byB0d287XG4vLyBpZiBvbmUgYmVsb25ncyB0byB0aGUgb3V0ZXIgcmluZyBhbmQgYW5vdGhlciB0byBhIGhvbGUsIGl0IG1lcmdlcyBpdCBpbnRvIGEgc2luZ2xlIHJpbmdcbmZ1bmN0aW9uIHNwbGl0UG9seWdvbihhLCBiKSB7XG4gICAgdmFyIGEyID0gbmV3IE5vZGUoYS5pLCBhLngsIGEueSksXG4gICAgICAgIGIyID0gbmV3IE5vZGUoYi5pLCBiLngsIGIueSksXG4gICAgICAgIGFuID0gYS5uZXh0LFxuICAgICAgICBicCA9IGIucHJldjtcblxuICAgIGEubmV4dCA9IGI7XG4gICAgYi5wcmV2ID0gYTtcblxuICAgIGEyLm5leHQgPSBhbjtcbiAgICBhbi5wcmV2ID0gYTI7XG5cbiAgICBiMi5uZXh0ID0gYTI7XG4gICAgYTIucHJldiA9IGIyO1xuXG4gICAgYnAubmV4dCA9IGIyO1xuICAgIGIyLnByZXYgPSBicDtcblxuICAgIHJldHVybiBiMjtcbn1cblxuLy8gY3JlYXRlIGEgbm9kZSBhbmQgb3B0aW9uYWxseSBsaW5rIGl0IHdpdGggcHJldmlvdXMgb25lIChpbiBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGluc2VydE5vZGUoaSwgeCwgeSwgbGFzdCkge1xuICAgIHZhciBwID0gbmV3IE5vZGUoaSwgeCwgeSk7XG5cbiAgICBpZiAoIWxhc3QpIHtcbiAgICAgICAgcC5wcmV2ID0gcDtcbiAgICAgICAgcC5uZXh0ID0gcDtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHAubmV4dCA9IGxhc3QubmV4dDtcbiAgICAgICAgcC5wcmV2ID0gbGFzdDtcbiAgICAgICAgbGFzdC5uZXh0LnByZXYgPSBwO1xuICAgICAgICBsYXN0Lm5leHQgPSBwO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlTm9kZShwKSB7XG4gICAgcC5uZXh0LnByZXYgPSBwLnByZXY7XG4gICAgcC5wcmV2Lm5leHQgPSBwLm5leHQ7XG5cbiAgICBpZiAocC5wcmV2WikgcC5wcmV2Wi5uZXh0WiA9IHAubmV4dFo7XG4gICAgaWYgKHAubmV4dFopIHAubmV4dFoucHJldlogPSBwLnByZXZaO1xufVxuXG5mdW5jdGlvbiBOb2RlKGksIHgsIHkpIHtcbiAgICAvLyB2ZXJ0ZXggaW5kZXggaW4gY29vcmRpbmF0ZXMgYXJyYXlcbiAgICB0aGlzLmkgPSBpO1xuXG4gICAgLy8gdmVydGV4IGNvb3JkaW5hdGVzXG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuXG4gICAgLy8gcHJldmlvdXMgYW5kIG5leHQgdmVydGV4IG5vZGVzIGluIGEgcG9seWdvbiByaW5nXG4gICAgdGhpcy5wcmV2ID0gbnVsbDtcbiAgICB0aGlzLm5leHQgPSBudWxsO1xuXG4gICAgLy8gei1vcmRlciBjdXJ2ZSB2YWx1ZVxuICAgIHRoaXMueiA9IG51bGw7XG5cbiAgICAvLyBwcmV2aW91cyBhbmQgbmV4dCBub2RlcyBpbiB6LW9yZGVyXG4gICAgdGhpcy5wcmV2WiA9IG51bGw7XG4gICAgdGhpcy5uZXh0WiA9IG51bGw7XG5cbiAgICAvLyBpbmRpY2F0ZXMgd2hldGhlciB0aGlzIGlzIGEgc3RlaW5lciBwb2ludFxuICAgIHRoaXMuc3RlaW5lciA9IGZhbHNlO1xufVxuXG4vLyByZXR1cm4gYSBwZXJjZW50YWdlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgcG9seWdvbiBhcmVhIGFuZCBpdHMgdHJpYW5ndWxhdGlvbiBhcmVhO1xuLy8gdXNlZCB0byB2ZXJpZnkgY29ycmVjdG5lc3Mgb2YgdHJpYW5ndWxhdGlvblxuZWFyY3V0LmRldmlhdGlvbiA9IGZ1bmN0aW9uIChkYXRhLCBob2xlSW5kaWNlcywgZGltLCB0cmlhbmdsZXMpIHtcbiAgICB2YXIgaGFzSG9sZXMgPSBob2xlSW5kaWNlcyAmJiBob2xlSW5kaWNlcy5sZW5ndGg7XG4gICAgdmFyIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuXG4gICAgdmFyIHBvbHlnb25BcmVhID0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCAwLCBvdXRlckxlbiwgZGltKSk7XG4gICAgaWYgKGhhc0hvbGVzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gaG9sZUluZGljZXNbaV0gKiBkaW07XG4gICAgICAgICAgICB2YXIgZW5kID0gaSA8IGxlbiAtIDEgPyBob2xlSW5kaWNlc1tpICsgMV0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIHBvbHlnb25BcmVhIC09IE1hdGguYWJzKHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdHJpYW5nbGVzQXJlYSA9IDA7XG4gICAgZm9yIChpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICB2YXIgYSA9IHRyaWFuZ2xlc1tpXSAqIGRpbTtcbiAgICAgICAgdmFyIGIgPSB0cmlhbmdsZXNbaSArIDFdICogZGltO1xuICAgICAgICB2YXIgYyA9IHRyaWFuZ2xlc1tpICsgMl0gKiBkaW07XG4gICAgICAgIHRyaWFuZ2xlc0FyZWEgKz0gTWF0aC5hYnMoXG4gICAgICAgICAgICAoZGF0YVthXSAtIGRhdGFbY10pICogKGRhdGFbYiArIDFdIC0gZGF0YVthICsgMV0pIC1cbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtiXSkgKiAoZGF0YVtjICsgMV0gLSBkYXRhW2EgKyAxXSkpO1xuICAgIH1cblxuICAgIHJldHVybiBwb2x5Z29uQXJlYSA9PT0gMCAmJiB0cmlhbmdsZXNBcmVhID09PSAwID8gMCA6XG4gICAgICAgIE1hdGguYWJzKCh0cmlhbmdsZXNBcmVhIC0gcG9seWdvbkFyZWEpIC8gcG9seWdvbkFyZWEpO1xufTtcblxuZnVuY3Rpb24gc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pIHtcbiAgICB2YXIgc3VtID0gMDtcbiAgICBmb3IgKHZhciBpID0gc3RhcnQsIGogPSBlbmQgLSBkaW07IGkgPCBlbmQ7IGkgKz0gZGltKSB7XG4gICAgICAgIHN1bSArPSAoZGF0YVtqXSAtIGRhdGFbaV0pICogKGRhdGFbaSArIDFdICsgZGF0YVtqICsgMV0pO1xuICAgICAgICBqID0gaTtcbiAgICB9XG4gICAgcmV0dXJuIHN1bTtcbn1cblxuLy8gdHVybiBhIHBvbHlnb24gaW4gYSBtdWx0aS1kaW1lbnNpb25hbCBhcnJheSBmb3JtIChlLmcuIGFzIGluIEdlb0pTT04pIGludG8gYSBmb3JtIEVhcmN1dCBhY2NlcHRzXG5lYXJjdXQuZmxhdHRlbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdmFyIGRpbSA9IGRhdGFbMF1bMF0ubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSB7dmVydGljZXM6IFtdLCBob2xlczogW10sIGRpbWVuc2lvbnM6IGRpbX0sXG4gICAgICAgIGhvbGVJbmRleCA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8IGRpbTsgZCsrKSByZXN1bHQudmVydGljZXMucHVzaChkYXRhW2ldW2pdW2RdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIGhvbGVJbmRleCArPSBkYXRhW2kgLSAxXS5sZW5ndGg7XG4gICAgICAgICAgICByZXN1bHQuaG9sZXMucHVzaChob2xlSW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICAsIHByZWZpeCA9ICd+JztcblxuLyoqXG4gKiBDb25zdHJ1Y3RvciB0byBjcmVhdGUgYSBzdG9yYWdlIGZvciBvdXIgYEVFYCBvYmplY3RzLlxuICogQW4gYEV2ZW50c2AgaW5zdGFuY2UgaXMgYSBwbGFpbiBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyBhcmUgZXZlbnQgbmFtZXMuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFdmVudHMoKSB7fVxuXG4vL1xuLy8gV2UgdHJ5IHRvIG5vdCBpbmhlcml0IGZyb20gYE9iamVjdC5wcm90b3R5cGVgLiBJbiBzb21lIGVuZ2luZXMgY3JlYXRpbmcgYW5cbi8vIGluc3RhbmNlIGluIHRoaXMgd2F5IGlzIGZhc3RlciB0aGFuIGNhbGxpbmcgYE9iamVjdC5jcmVhdGUobnVsbClgIGRpcmVjdGx5LlxuLy8gSWYgYE9iamVjdC5jcmVhdGUobnVsbClgIGlzIG5vdCBzdXBwb3J0ZWQgd2UgcHJlZml4IHRoZSBldmVudCBuYW1lcyB3aXRoIGFcbi8vIGNoYXJhY3RlciB0byBtYWtlIHN1cmUgdGhhdCB0aGUgYnVpbHQtaW4gb2JqZWN0IHByb3BlcnRpZXMgYXJlIG5vdFxuLy8gb3ZlcnJpZGRlbiBvciB1c2VkIGFzIGFuIGF0dGFjayB2ZWN0b3IuXG4vL1xuaWYgKE9iamVjdC5jcmVhdGUpIHtcbiAgRXZlbnRzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgLy9cbiAgLy8gVGhpcyBoYWNrIGlzIG5lZWRlZCBiZWNhdXNlIHRoZSBgX19wcm90b19fYCBwcm9wZXJ0eSBpcyBzdGlsbCBpbmhlcml0ZWQgaW5cbiAgLy8gc29tZSBvbGQgYnJvd3NlcnMgbGlrZSBBbmRyb2lkIDQsIGlQaG9uZSA1LjEsIE9wZXJhIDExIGFuZCBTYWZhcmkgNS5cbiAgLy9cbiAgaWYgKCFuZXcgRXZlbnRzKCkuX19wcm90b19fKSBwcmVmaXggPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRhdGlvbiBvZiBhIHNpbmdsZSBldmVudCBsaXN0ZW5lci5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBbb25jZT1mYWxzZV0gU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRUUoZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdGhpcy5mbiA9IGZuO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB0aGlzLm9uY2UgPSBvbmNlIHx8IGZhbHNlO1xufVxuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gYWRkTGlzdGVuZXIoZW1pdHRlciwgZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICB2YXIgbGlzdGVuZXIgPSBuZXcgRUUoZm4sIGNvbnRleHQgfHwgZW1pdHRlciwgb25jZSlcbiAgICAsIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XSkgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBsaXN0ZW5lciwgZW1pdHRlci5fZXZlbnRzQ291bnQrKztcbiAgZWxzZSBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdLmZuKSBlbWl0dGVyLl9ldmVudHNbZXZ0XS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IFtlbWl0dGVyLl9ldmVudHNbZXZ0XSwgbGlzdGVuZXJdO1xuXG4gIHJldHVybiBlbWl0dGVyO1xufVxuXG4vKipcbiAqIENsZWFyIGV2ZW50IGJ5IG5hbWUuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldnQgVGhlIEV2ZW50IG5hbWUuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjbGVhckV2ZW50KGVtaXR0ZXIsIGV2dCkge1xuICBpZiAoLS1lbWl0dGVyLl9ldmVudHNDb3VudCA9PT0gMCkgZW1pdHRlci5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICBlbHNlIGRlbGV0ZSBlbWl0dGVyLl9ldmVudHNbZXZ0XTtcbn1cblxuLyoqXG4gKiBNaW5pbWFsIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZSB0aGF0IGlzIG1vbGRlZCBhZ2FpbnN0IHRoZSBOb2RlLmpzXG4gKiBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG59XG5cbi8qKlxuICogUmV0dXJuIGFuIGFycmF5IGxpc3RpbmcgdGhlIGV2ZW50cyBmb3Igd2hpY2ggdGhlIGVtaXR0ZXIgaGFzIHJlZ2lzdGVyZWRcbiAqIGxpc3RlbmVycy5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHZhciBuYW1lcyA9IFtdXG4gICAgLCBldmVudHNcbiAgICAsIG5hbWU7XG5cbiAgaWYgKHRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSByZXR1cm4gbmFtZXM7XG5cbiAgZm9yIChuYW1lIGluIChldmVudHMgPSB0aGlzLl9ldmVudHMpKSB7XG4gICAgaWYgKGhhcy5jYWxsKGV2ZW50cywgbmFtZSkpIG5hbWVzLnB1c2gocHJlZml4ID8gbmFtZS5zbGljZSgxKSA6IG5hbWUpO1xuICB9XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICByZXR1cm4gbmFtZXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZXZlbnRzKSk7XG4gIH1cblxuICByZXR1cm4gbmFtZXM7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0FycmF5fSBUaGUgcmVnaXN0ZXJlZCBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBoYW5kbGVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghaGFuZGxlcnMpIHJldHVybiBbXTtcbiAgaWYgKGhhbmRsZXJzLmZuKSByZXR1cm4gW2hhbmRsZXJzLmZuXTtcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGhhbmRsZXJzLmxlbmd0aCwgZWUgPSBuZXcgQXJyYXkobCk7IGkgPCBsOyBpKyspIHtcbiAgICBlZVtpXSA9IGhhbmRsZXJzW2ldLmZuO1xuICB9XG5cbiAgcmV0dXJuIGVlO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIG51bWJlciBvZiBsaXN0ZW5lcnMgbGlzdGVuaW5nIHRvIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWJlciBvZiBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uIGxpc3RlbmVyQ291bnQoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghbGlzdGVuZXJzKSByZXR1cm4gMDtcbiAgaWYgKGxpc3RlbmVycy5mbikgcmV0dXJuIDE7XG4gIHJldHVybiBsaXN0ZW5lcnMubGVuZ3RoO1xufTtcblxuLyoqXG4gKiBDYWxscyBlYWNoIG9mIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBldmVudCBoYWQgbGlzdGVuZXJzLCBlbHNlIGBmYWxzZWAuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZXZlbnQsIGExLCBhMiwgYTMsIGE0LCBhNSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdXG4gICAgLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBhcmdzXG4gICAgLCBpO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAobGlzdGVuZXJzLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVycy5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICBjYXNlIDE6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCksIHRydWU7XG4gICAgICBjYXNlIDI6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEpLCB0cnVlO1xuICAgICAgY2FzZSAzOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiksIHRydWU7XG4gICAgICBjYXNlIDQ6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMyksIHRydWU7XG4gICAgICBjYXNlIDU6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQpLCB0cnVlO1xuICAgICAgY2FzZSA2OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0LCBhNSksIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5mbi5hcHBseShsaXN0ZW5lcnMuY29udGV4dCwgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGhcbiAgICAgICwgajtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGxpc3RlbmVyc1tpXS5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnNbaV0uZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICAgIGNhc2UgMTogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQpOyBicmVhaztcbiAgICAgICAgY2FzZSAyOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEpOyBicmVhaztcbiAgICAgICAgY2FzZSAzOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgNDogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMiwgYTMpOyBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoIWFyZ3MpIGZvciAoaiA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4uYXBwbHkobGlzdGVuZXJzW2ldLmNvbnRleHQsIGFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIG9uKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCBmYWxzZSk7XG59O1xuXG4vKipcbiAqIEFkZCBhIG9uZS10aW1lIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCB0cnVlKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBsaXN0ZW5lcnMgb2YgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgbWF0Y2ggdGhpcyBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgaGF2ZSB0aGlzIGNvbnRleHQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgT25seSByZW1vdmUgb25lLXRpbWUgbGlzdGVuZXJzLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiB0aGlzO1xuICBpZiAoIWZuKSB7XG4gICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAoXG4gICAgICBsaXN0ZW5lcnMuZm4gPT09IGZuICYmXG4gICAgICAoIW9uY2UgfHwgbGlzdGVuZXJzLm9uY2UpICYmXG4gICAgICAoIWNvbnRleHQgfHwgbGlzdGVuZXJzLmNvbnRleHQgPT09IGNvbnRleHQpXG4gICAgKSB7XG4gICAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGkgPSAwLCBldmVudHMgPSBbXSwgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGxpc3RlbmVyc1tpXS5mbiAhPT0gZm4gfHxcbiAgICAgICAgKG9uY2UgJiYgIWxpc3RlbmVyc1tpXS5vbmNlKSB8fFxuICAgICAgICAoY29udGV4dCAmJiBsaXN0ZW5lcnNbaV0uY29udGV4dCAhPT0gY29udGV4dClcbiAgICAgICkge1xuICAgICAgICBldmVudHMucHVzaChsaXN0ZW5lcnNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vXG4gICAgLy8gUmVzZXQgdGhlIGFycmF5LCBvciByZW1vdmUgaXQgY29tcGxldGVseSBpZiB3ZSBoYXZlIG5vIG1vcmUgbGlzdGVuZXJzLlxuICAgIC8vXG4gICAgaWYgKGV2ZW50cy5sZW5ndGgpIHRoaXMuX2V2ZW50c1tldnRdID0gZXZlbnRzLmxlbmd0aCA9PT0gMSA/IGV2ZW50c1swXSA6IGV2ZW50cztcbiAgICBlbHNlIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIGxpc3RlbmVycywgb3IgdGhvc2Ugb2YgdGhlIHNwZWNpZmllZCBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gW2V2ZW50XSBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dDtcblxuICBpZiAoZXZlbnQpIHtcbiAgICBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuICAgIGlmICh0aGlzLl9ldmVudHNbZXZ0XSkgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vXG4vLyBBbGlhcyBtZXRob2RzIG5hbWVzIGJlY2F1c2UgcGVvcGxlIHJvbGwgbGlrZSB0aGF0LlxuLy9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBwcmVmaXguXG4vL1xuRXZlbnRFbWl0dGVyLnByZWZpeGVkID0gcHJlZml4O1xuXG4vL1xuLy8gQWxsb3cgYEV2ZW50RW1pdHRlcmAgdG8gYmUgaW1wb3J0ZWQgYXMgbW9kdWxlIG5hbWVzcGFjZS5cbi8vXG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBtb2R1bGUuXG4vL1xuaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgbW9kdWxlKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cbnZhciBNaW5pU2lnbmFsQmluZGluZyA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1pbmlTaWduYWxCaW5kaW5nKGZuLCBvbmNlLCB0aGlzQXJnKSB7XG4gICAgaWYgKG9uY2UgPT09IHVuZGVmaW5lZCkgb25jZSA9IGZhbHNlO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1pbmlTaWduYWxCaW5kaW5nKTtcblxuICAgIHRoaXMuX2ZuID0gZm47XG4gICAgdGhpcy5fb25jZSA9IG9uY2U7XG4gICAgdGhpcy5fdGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgdGhpcy5fbmV4dCA9IHRoaXMuX3ByZXYgPSB0aGlzLl9vd25lciA9IG51bGw7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWluaVNpZ25hbEJpbmRpbmcsIFt7XG4gICAga2V5OiAnZGV0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKCkge1xuICAgICAgaWYgKHRoaXMuX293bmVyID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgICB0aGlzLl9vd25lci5kZXRhY2godGhpcyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWluaVNpZ25hbEJpbmRpbmc7XG59KSgpO1xuXG5mdW5jdGlvbiBfYWRkTWluaVNpZ25hbEJpbmRpbmcoc2VsZiwgbm9kZSkge1xuICBpZiAoIXNlbGYuX2hlYWQpIHtcbiAgICBzZWxmLl9oZWFkID0gbm9kZTtcbiAgICBzZWxmLl90YWlsID0gbm9kZTtcbiAgfSBlbHNlIHtcbiAgICBzZWxmLl90YWlsLl9uZXh0ID0gbm9kZTtcbiAgICBub2RlLl9wcmV2ID0gc2VsZi5fdGFpbDtcbiAgICBzZWxmLl90YWlsID0gbm9kZTtcbiAgfVxuXG4gIG5vZGUuX293bmVyID0gc2VsZjtcblxuICByZXR1cm4gbm9kZTtcbn1cblxudmFyIE1pbmlTaWduYWwgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNaW5pU2lnbmFsKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNaW5pU2lnbmFsKTtcblxuICAgIHRoaXMuX2hlYWQgPSB0aGlzLl90YWlsID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1pbmlTaWduYWwsIFt7XG4gICAga2V5OiAnaGFuZGxlcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVycygpIHtcbiAgICAgIHZhciBleGlzdHMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGFyZ3VtZW50c1swXTtcblxuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuXG4gICAgICBpZiAoZXhpc3RzKSByZXR1cm4gISFub2RlO1xuXG4gICAgICB2YXIgZWUgPSBbXTtcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgZWUucHVzaChub2RlKTtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYXMobm9kZSkge1xuICAgICAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIE1pbmlTaWduYWxCaW5kaW5nKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjaGFzKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgTWluaVNpZ25hbEJpbmRpbmcgb2JqZWN0LicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbm9kZS5fb3duZXIgPT09IHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGlzcGF0Y2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwYXRjaCgpIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcblxuICAgICAgaWYgKCFub2RlKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlLl9vbmNlKSB0aGlzLmRldGFjaChub2RlKTtcbiAgICAgICAgbm9kZS5fZm4uYXBwbHkobm9kZS5fdGhpc0FyZywgYXJndW1lbnRzKTtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2FkZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZChmbikge1xuICAgICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzFdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNhZGQoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfYWRkTWluaVNpZ25hbEJpbmRpbmcodGhpcywgbmV3IE1pbmlTaWduYWxCaW5kaW5nKGZuLCBmYWxzZSwgdGhpc0FyZykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uY2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbmNlKGZuKSB7XG4gICAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI29uY2UoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfYWRkTWluaVNpZ25hbEJpbmRpbmcodGhpcywgbmV3IE1pbmlTaWduYWxCaW5kaW5nKGZuLCB0cnVlLCB0aGlzQXJnKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGV0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKG5vZGUpIHtcbiAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBNaW5pU2lnbmFsQmluZGluZykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2RldGFjaCgpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIE1pbmlTaWduYWxCaW5kaW5nIG9iamVjdC4nKTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLl9vd25lciAhPT0gdGhpcykgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChub2RlLl9wcmV2KSBub2RlLl9wcmV2Ll9uZXh0ID0gbm9kZS5fbmV4dDtcbiAgICAgIGlmIChub2RlLl9uZXh0KSBub2RlLl9uZXh0Ll9wcmV2ID0gbm9kZS5fcHJldjtcblxuICAgICAgaWYgKG5vZGUgPT09IHRoaXMuX2hlYWQpIHtcbiAgICAgICAgdGhpcy5faGVhZCA9IG5vZGUuX25leHQ7XG4gICAgICAgIGlmIChub2RlLl9uZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5fdGFpbCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZSA9PT0gdGhpcy5fdGFpbCkge1xuICAgICAgICB0aGlzLl90YWlsID0gbm9kZS5fcHJldjtcbiAgICAgICAgdGhpcy5fdGFpbC5fbmV4dCA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIG5vZGUuX293bmVyID0gbnVsbDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RldGFjaEFsbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaEFsbCgpIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcbiAgICAgIGlmICghbm9kZSkgcmV0dXJuIHRoaXM7XG5cbiAgICAgIHRoaXMuX2hlYWQgPSB0aGlzLl90YWlsID0gbnVsbDtcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgbm9kZS5fb3duZXIgPSBudWxsO1xuICAgICAgICBub2RlID0gbm9kZS5fbmV4dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNaW5pU2lnbmFsO1xufSkoKTtcblxuTWluaVNpZ25hbC5NaW5pU2lnbmFsQmluZGluZyA9IE1pbmlTaWduYWxCaW5kaW5nO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBNaW5pU2lnbmFsO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4iLCIvKlxub2JqZWN0LWFzc2lnblxuKGMpIFNpbmRyZSBTb3JodXNcbkBsaWNlbnNlIE1JVFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBwcm9wSXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuZnVuY3Rpb24gdG9PYmplY3QodmFsKSB7XG5cdGlmICh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZCcpO1xuXHR9XG5cblx0cmV0dXJuIE9iamVjdCh2YWwpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRVc2VOYXRpdmUoKSB7XG5cdHRyeSB7XG5cdFx0aWYgKCFPYmplY3QuYXNzaWduKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZWN0IGJ1Z2d5IHByb3BlcnR5IGVudW1lcmF0aW9uIG9yZGVyIGluIG9sZGVyIFY4IHZlcnNpb25zLlxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9NDExOFxuXHRcdHZhciB0ZXN0MSA9IG5ldyBTdHJpbmcoJ2FiYycpOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXctd3JhcHBlcnNcblx0XHR0ZXN0MVs1XSA9ICdkZSc7XG5cdFx0aWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QxKVswXSA9PT0gJzUnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MiA9IHt9O1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuXHRcdFx0dGVzdDJbJ18nICsgU3RyaW5nLmZyb21DaGFyQ29kZShpKV0gPSBpO1xuXHRcdH1cblx0XHR2YXIgb3JkZXIyID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDIpLm1hcChmdW5jdGlvbiAobikge1xuXHRcdFx0cmV0dXJuIHRlc3QyW25dO1xuXHRcdH0pO1xuXHRcdGlmIChvcmRlcjIuam9pbignJykgIT09ICcwMTIzNDU2Nzg5Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDMgPSB7fTtcblx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChsZXR0ZXIpIHtcblx0XHRcdHRlc3QzW2xldHRlcl0gPSBsZXR0ZXI7XG5cdFx0fSk7XG5cdFx0aWYgKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIHRlc3QzKSkuam9pbignJykgIT09XG5cdFx0XHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Ly8gV2UgZG9uJ3QgZXhwZWN0IGFueSBvZiB0aGUgYWJvdmUgdG8gdGhyb3csIGJ1dCBiZXR0ZXIgdG8gYmUgc2FmZS5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaG91bGRVc2VOYXRpdmUoKSA/IE9iamVjdC5hc3NpZ24gOiBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UpIHtcblx0dmFyIGZyb207XG5cdHZhciB0byA9IHRvT2JqZWN0KHRhcmdldCk7XG5cdHZhciBzeW1ib2xzO1xuXG5cdGZvciAodmFyIHMgPSAxOyBzIDwgYXJndW1lbnRzLmxlbmd0aDsgcysrKSB7XG5cdFx0ZnJvbSA9IE9iamVjdChhcmd1bWVudHNbc10pO1xuXG5cdFx0Zm9yICh2YXIga2V5IGluIGZyb20pIHtcblx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZyb20sIGtleSkpIHtcblx0XHRcdFx0dG9ba2V5XSA9IGZyb21ba2V5XTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG5cdFx0XHRzeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGZyb20pO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChwcm9wSXNFbnVtZXJhYmxlLmNhbGwoZnJvbSwgc3ltYm9sc1tpXSkpIHtcblx0XHRcdFx0XHR0b1tzeW1ib2xzW2ldXSA9IGZyb21bc3ltYm9sc1tpXV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdG87XG59O1xuIiwiJ3VzZSBzdHJpY3QnXG5cbmZ1bmN0aW9uIHBhcnNlVVJJIChzdHIsIG9wdHMpIHtcbiAgaWYgKCFzdHIpIHJldHVybiB1bmRlZmluZWRcblxuICBvcHRzID0gb3B0cyB8fCB7fVxuXG4gIHZhciBvID0ge1xuICAgIGtleTogW1xuICAgICAgJ3NvdXJjZScsXG4gICAgICAncHJvdG9jb2wnLFxuICAgICAgJ2F1dGhvcml0eScsXG4gICAgICAndXNlckluZm8nLFxuICAgICAgJ3VzZXInLFxuICAgICAgJ3Bhc3N3b3JkJyxcbiAgICAgICdob3N0JyxcbiAgICAgICdwb3J0JyxcbiAgICAgICdyZWxhdGl2ZScsXG4gICAgICAncGF0aCcsXG4gICAgICAnZGlyZWN0b3J5JyxcbiAgICAgICdmaWxlJyxcbiAgICAgICdxdWVyeScsXG4gICAgICAnYW5jaG9yJ1xuICAgIF0sXG4gICAgcToge1xuICAgICAgbmFtZTogJ3F1ZXJ5S2V5JyxcbiAgICAgIHBhcnNlcjogLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nXG4gICAgfSxcbiAgICBwYXJzZXI6IHtcbiAgICAgIHN0cmljdDogL14oPzooW146XFwvPyNdKyk6KT8oPzpcXC9cXC8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykpPygoKCg/OltePyNcXC9dKlxcLykqKShbXj8jXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLyxcbiAgICAgIGxvb3NlOiAvXig/Oig/IVteOkBdKzpbXjpAXFwvXSpAKShbXjpcXC8/Iy5dKyk6KT8oPzpcXC9cXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSgoKFxcLyg/OltePyNdKD8hW14/I1xcL10qXFwuW14/I1xcLy5dKyg/Ols/I118JCkpKSpcXC8/KT8oW14/I1xcL10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS9cbiAgICB9XG4gIH1cblxuICB2YXIgbSA9IG8ucGFyc2VyW29wdHMuc3RyaWN0TW9kZSA/ICdzdHJpY3QnIDogJ2xvb3NlJ10uZXhlYyhzdHIpXG4gIHZhciB1cmkgPSB7fVxuICB2YXIgaSA9IDE0XG5cbiAgd2hpbGUgKGktLSkgdXJpW28ua2V5W2ldXSA9IG1baV0gfHwgJydcblxuICB1cmlbby5xLm5hbWVdID0ge31cbiAgdXJpW28ua2V5WzEyXV0ucmVwbGFjZShvLnEucGFyc2VyLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgIGlmICgkMSkgdXJpW28ucS5uYW1lXVskMV0gPSAkMlxuICB9KVxuXG4gIHJldHVybiB1cmlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBwYXJzZVVSSVxuIiwiLyohXG4gKiBwaXhpLXNvdW5kIC0gdjMuMC41XG4gKiBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktc291bmRcbiAqIENvbXBpbGVkIFRodSwgMDkgSnVsIDIwMjAgMTc6MzM6MzQgVVRDXG4gKlxuICogcGl4aS1zb3VuZCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydHtMb2FkZXJSZXNvdXJjZSBhcyB0LExvYWRlciBhcyBlfWZyb21cIkBwaXhpL2xvYWRlcnNcIjtpbXBvcnR7VGlja2VyIGFzIG59ZnJvbVwiQHBpeGkvdGlja2VyXCI7aW1wb3J0e0V2ZW50RW1pdHRlciBhcyBvfWZyb21cIkBwaXhpL3V0aWxzXCI7aW1wb3J0e0Jhc2VUZXh0dXJlIGFzIGl9ZnJvbVwiQHBpeGkvY29yZVwiO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX291dHB1dD1lLHRoaXMuX2lucHV0PXR9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImRlc3RpbmF0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnB1dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJmaWx0ZXJzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWx0ZXJzfSxzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0aGlzLl9maWx0ZXJzJiYodGhpcy5fZmlsdGVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QmJnQuZGlzY29ubmVjdCgpfSksdGhpcy5fZmlsdGVycz1udWxsLHRoaXMuX2lucHV0LmNvbm5lY3QodGhpcy5fb3V0cHV0KSksdCYmdC5sZW5ndGgpe3RoaXMuX2ZpbHRlcnM9dC5zbGljZSgwKSx0aGlzLl9pbnB1dC5kaXNjb25uZWN0KCk7dmFyIG49bnVsbDt0LmZvckVhY2goZnVuY3Rpb24odCl7bnVsbD09PW4/ZS5faW5wdXQuY29ubmVjdCh0LmRlc3RpbmF0aW9uKTpuLmNvbm5lY3QodC5kZXN0aW5hdGlvbiksbj10fSksbi5jb25uZWN0KHRoaXMuX291dHB1dCl9fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmZpbHRlcnM9bnVsbCx0aGlzLl9pbnB1dD1udWxsLHRoaXMuX291dHB1dD1udWxsfSx0fSgpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5pbml0KHQsZSl9cmV0dXJuIHQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlKXt0aGlzLmRlc3RpbmF0aW9uPXQsdGhpcy5zb3VyY2U9ZXx8dH0sdC5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbih0KXt0aGlzLnNvdXJjZS5jb25uZWN0KHQpfSx0LnByb3RvdHlwZS5kaXNjb25uZWN0PWZ1bmN0aW9uKCl7dGhpcy5zb3VyY2UuZGlzY29ubmVjdCgpfSx0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5kaXNjb25uZWN0KCksdGhpcy5kZXN0aW5hdGlvbj1udWxsLHRoaXMuc291cmNlPW51bGx9LHR9KCksdT1mdW5jdGlvbih0LGUpe3JldHVybih1PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0W25dPWVbbl0pfSkodCxlKX07ZnVuY3Rpb24gYSh0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9dSh0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX12YXIgYyxwPWZ1bmN0aW9uKCl7cmV0dXJuKHA9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49MSxvPWFyZ3VtZW50cy5sZW5ndGg7bjxvO24rKylmb3IodmFyIGkgaW4gZT1hcmd1bWVudHNbbl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkmJih0W2ldPWVbaV0pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtmdW5jdGlvbiBoKCl7cmV0dXJuIGN9dmFyIGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnNldFBhcmFtVmFsdWU9ZnVuY3Rpb24odCxlKXtpZih0LnNldFZhbHVlQXRUaW1lKXt2YXIgbj1oKCkuY29udGV4dDt0LnNldFZhbHVlQXRUaW1lKGUsbi5hdWRpb0NvbnRleHQuY3VycmVudFRpbWUpfWVsc2UgdC52YWx1ZT1lO3JldHVybiBlfSx0fSgpLGY9MCxkPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmlkPWYrKyxuLl9tZWRpYT1udWxsLG4uX3BhdXNlZD0hMSxuLl9tdXRlZD0hMSxuLl9lbGFwc2VkPTAsbi5pbml0KGUpLG59cmV0dXJuIGEoZSx0KSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT10aGlzW3RdKXRocm93IG5ldyBFcnJvcihcIlByb3BlcnR5IHdpdGggbmFtZSBcIit0K1wiIGRvZXMgbm90IGV4aXN0LlwiKTtyZXR1cm4gdGhpc1t0XT1lLHRoaXN9LGUucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9zb3VyY2UmJih0aGlzLl9pbnRlcm5hbFN0b3AoKSx0aGlzLmVtaXQoXCJzdG9wXCIpKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwic3BlZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NwZWVkfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fc3BlZWQ9dCx0aGlzLnJlZnJlc2goKSx0aGlzLl91cGRhdGUoITApfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInZvbHVtZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdm9sdW1lfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdm9sdW1lPXQsdGhpcy5yZWZyZXNoKCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibXV0ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX211dGVkfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbXV0ZWQ9dCx0aGlzLnJlZnJlc2goKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJsb29wXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb29wfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbG9vcD10LHRoaXMucmVmcmVzaCgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXtpZih0aGlzLl9zb3VyY2Upe3ZhciB0PXRoaXMuX21lZGlhLmNvbnRleHQsZT10aGlzLl9tZWRpYS5wYXJlbnQ7dGhpcy5fc291cmNlLmxvb3A9dGhpcy5fbG9vcHx8ZS5sb29wO3ZhciBuPXQudm9sdW1lKih0Lm11dGVkPzA6MSksbz1lLnZvbHVtZSooZS5tdXRlZD8wOjEpLGk9dGhpcy5fdm9sdW1lKih0aGlzLl9tdXRlZD8wOjEpO2wuc2V0UGFyYW1WYWx1ZSh0aGlzLl9nYWluLmdhaW4saSpvKm4pLGwuc2V0UGFyYW1WYWx1ZSh0aGlzLl9zb3VyY2UucGxheWJhY2tSYXRlLHRoaXMuX3NwZWVkKmUuc3BlZWQqdC5zcGVlZCl9fSxlLnByb3RvdHlwZS5yZWZyZXNoUGF1c2VkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWVkaWEuY29udGV4dCxlPXRoaXMuX21lZGlhLnBhcmVudCxuPXRoaXMuX3BhdXNlZHx8ZS5wYXVzZWR8fHQucGF1c2VkO24hPT10aGlzLl9wYXVzZWRSZWFsJiYodGhpcy5fcGF1c2VkUmVhbD1uLG4/KHRoaXMuX2ludGVybmFsU3RvcCgpLHRoaXMuZW1pdChcInBhdXNlZFwiKSk6KHRoaXMuZW1pdChcInJlc3VtZWRcIiksdGhpcy5wbGF5KHtzdGFydDp0aGlzLl9lbGFwc2VkJXRoaXMuX2R1cmF0aW9uLGVuZDp0aGlzLl9lbmQsc3BlZWQ6dGhpcy5fc3BlZWQsbG9vcDp0aGlzLl9sb29wLHZvbHVtZTp0aGlzLl92b2x1bWV9KSksdGhpcy5lbWl0KFwicGF1c2VcIixuKSl9LGUucHJvdG90eXBlLnBsYXk9ZnVuY3Rpb24odCl7dmFyIGU9dC5zdGFydCxuPXQuZW5kLG89dC5zcGVlZCxpPXQubG9vcCxyPXQudm9sdW1lLHM9dC5tdXRlZDt0aGlzLl9wYXVzZWQ9ITE7dmFyIHU9dGhpcy5fbWVkaWEubm9kZXMuY2xvbmVCdWZmZXJTb3VyY2UoKSxhPXUuc291cmNlLGM9dS5nYWluO3RoaXMuX3NvdXJjZT1hLHRoaXMuX2dhaW49Yyx0aGlzLl9zcGVlZD1vLHRoaXMuX3ZvbHVtZT1yLHRoaXMuX2xvb3A9ISFpLHRoaXMuX211dGVkPXMsdGhpcy5yZWZyZXNoKCk7dmFyIHA9dGhpcy5fc291cmNlLmJ1ZmZlci5kdXJhdGlvbjt0aGlzLl9kdXJhdGlvbj1wLHRoaXMuX2VuZD1uLHRoaXMuX2xhc3RVcGRhdGU9dGhpcy5fbm93KCksdGhpcy5fZWxhcHNlZD1lLHRoaXMuX3NvdXJjZS5vbmVuZGVkPXRoaXMuX29uQ29tcGxldGUuYmluZCh0aGlzKSx0aGlzLl9sb29wPyh0aGlzLl9zb3VyY2UubG9vcEVuZD1uLHRoaXMuX3NvdXJjZS5sb29wU3RhcnQ9ZSx0aGlzLl9zb3VyY2Uuc3RhcnQoMCxlKSk6bj90aGlzLl9zb3VyY2Uuc3RhcnQoMCxlLG4tZSk6dGhpcy5fc291cmNlLnN0YXJ0KDAsZSksdGhpcy5lbWl0KFwic3RhcnRcIiksdGhpcy5fdXBkYXRlKCEwKSx0aGlzLl9lbmFibGVkPSEwfSxlLnByb3RvdHlwZS5fdG9TZWM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+MTAmJih0Lz0xZTMpLHR8fDB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIl9lbmFibGVkXCIse3NldDpmdW5jdGlvbih0KXtuLnNoYXJlZC5yZW1vdmUodGhpcy5fdXBkYXRlTGlzdGVuZXIsdGhpcyksdCYmbi5zaGFyZWQuYWRkKHRoaXMuX3VwZGF0ZUxpc3RlbmVyLHRoaXMpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInByb2dyZXNzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9ncmVzc30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJwYXVzZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhdXNlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3BhdXNlZD10LHRoaXMucmVmcmVzaFBhdXNlZCgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMuX2ludGVybmFsU3RvcCgpLHRoaXMuX2dhaW4mJih0aGlzLl9nYWluLmRpc2Nvbm5lY3QoKSx0aGlzLl9nYWluPW51bGwpLHRoaXMuX21lZGlhJiYodGhpcy5fbWVkaWEuY29udGV4dC5ldmVudHMub2ZmKFwicmVmcmVzaFwiLHRoaXMucmVmcmVzaCx0aGlzKSx0aGlzLl9tZWRpYS5jb250ZXh0LmV2ZW50cy5vZmYoXCJyZWZyZXNoUGF1c2VkXCIsdGhpcy5yZWZyZXNoUGF1c2VkLHRoaXMpLHRoaXMuX21lZGlhPW51bGwpLHRoaXMuX2VuZD1udWxsLHRoaXMuX3NwZWVkPTEsdGhpcy5fdm9sdW1lPTEsdGhpcy5fbG9vcD0hMSx0aGlzLl9lbGFwc2VkPTAsdGhpcy5fZHVyYXRpb249MCx0aGlzLl9wYXVzZWQ9ITEsdGhpcy5fbXV0ZWQ9ITEsdGhpcy5fcGF1c2VkUmVhbD0hMX0sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltXZWJBdWRpb0luc3RhbmNlIGlkPVwiK3RoaXMuaWQrXCJdXCJ9LGUucHJvdG90eXBlLl9ub3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVkaWEuY29udGV4dC5hdWRpb0NvbnRleHQuY3VycmVudFRpbWV9LGUucHJvdG90eXBlLl91cGRhdGVMaXN0ZW5lcj1mdW5jdGlvbigpe3RoaXMuX3VwZGF0ZSgpfSxlLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQmJih0PSExKSx0aGlzLl9zb3VyY2Upe3ZhciBlPXRoaXMuX25vdygpLG49ZS10aGlzLl9sYXN0VXBkYXRlO2lmKG4+MHx8dCl7dmFyIG89dGhpcy5fc291cmNlLnBsYXliYWNrUmF0ZS52YWx1ZTt0aGlzLl9lbGFwc2VkKz1uKm8sdGhpcy5fbGFzdFVwZGF0ZT1lO3ZhciBpPXRoaXMuX2R1cmF0aW9uLHI9dm9pZCAwO2lmKHRoaXMuX3NvdXJjZS5sb29wU3RhcnQpe3ZhciBzPXRoaXMuX3NvdXJjZS5sb29wRW5kLXRoaXMuX3NvdXJjZS5sb29wU3RhcnQ7cj0odGhpcy5fc291cmNlLmxvb3BTdGFydCt0aGlzLl9lbGFwc2VkJXMpL2l9ZWxzZSByPXRoaXMuX2VsYXBzZWQlaS9pO3RoaXMuX3Byb2dyZXNzPXIsdGhpcy5lbWl0KFwicHJvZ3Jlc3NcIix0aGlzLl9wcm9ncmVzcyxpKX19fSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQpe3RoaXMuX21lZGlhPXQsdC5jb250ZXh0LmV2ZW50cy5vbihcInJlZnJlc2hcIix0aGlzLnJlZnJlc2gsdGhpcyksdC5jb250ZXh0LmV2ZW50cy5vbihcInJlZnJlc2hQYXVzZWRcIix0aGlzLnJlZnJlc2hQYXVzZWQsdGhpcyl9LGUucHJvdG90eXBlLl9pbnRlcm5hbFN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9zb3VyY2UmJih0aGlzLl9lbmFibGVkPSExLHRoaXMuX3NvdXJjZS5vbmVuZGVkPW51bGwsdGhpcy5fc291cmNlLnN0b3AoMCksdGhpcy5fc291cmNlLmRpc2Nvbm5lY3QoKSx0aGlzLl9zb3VyY2U9bnVsbCl9LGUucHJvdG90eXBlLl9vbkNvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5fc291cmNlJiYodGhpcy5fZW5hYmxlZD0hMSx0aGlzLl9zb3VyY2Uub25lbmRlZD1udWxsLHRoaXMuX3NvdXJjZS5kaXNjb25uZWN0KCkpLHRoaXMuX3NvdXJjZT1udWxsLHRoaXMuX3Byb2dyZXNzPTEsdGhpcy5lbWl0KFwicHJvZ3Jlc3NcIiwxLHRoaXMuX2R1cmF0aW9uKSx0aGlzLmVtaXQoXCJlbmRcIix0aGlzKX0sZX0obyksXz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXRoaXMsbz1lLmF1ZGlvQ29udGV4dCxpPW8uY3JlYXRlQnVmZmVyU291cmNlKCkscj1vLmNyZWF0ZUdhaW4oKSxzPW8uY3JlYXRlQW5hbHlzZXIoKTtyZXR1cm4gaS5jb25uZWN0KHMpLHMuY29ubmVjdChyKSxyLmNvbm5lY3QoZS5kZXN0aW5hdGlvbiksKG49dC5jYWxsKHRoaXMscyxyKXx8dGhpcykuY29udGV4dD1lLG4uYnVmZmVyU291cmNlPWksbi5nYWluPXIsbi5hbmFseXNlcj1zLG59cmV0dXJuIGEoZSx0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJzY3JpcHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjcmlwdHx8KHRoaXMuX3NjcmlwdD10aGlzLmNvbnRleHQuYXVkaW9Db250ZXh0LmNyZWF0ZVNjcmlwdFByb2Nlc3NvcihlLkJVRkZFUl9TSVpFKSx0aGlzLl9zY3JpcHQuY29ubmVjdCh0aGlzLmNvbnRleHQuZGVzdGluYXRpb24pKSx0aGlzLl9zY3JpcHR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3QucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKSx0aGlzLmJ1ZmZlclNvdXJjZS5kaXNjb25uZWN0KCksdGhpcy5fc2NyaXB0JiZ0aGlzLl9zY3JpcHQuZGlzY29ubmVjdCgpLHRoaXMuZ2Fpbi5kaXNjb25uZWN0KCksdGhpcy5hbmFseXNlci5kaXNjb25uZWN0KCksdGhpcy5idWZmZXJTb3VyY2U9bnVsbCx0aGlzLl9zY3JpcHQ9bnVsbCx0aGlzLmdhaW49bnVsbCx0aGlzLmFuYWx5c2VyPW51bGwsdGhpcy5jb250ZXh0PW51bGx9LGUucHJvdG90eXBlLmNsb25lQnVmZmVyU291cmNlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5idWZmZXJTb3VyY2UsZT10aGlzLmNvbnRleHQuYXVkaW9Db250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO2UuYnVmZmVyPXQuYnVmZmVyLGwuc2V0UGFyYW1WYWx1ZShlLnBsYXliYWNrUmF0ZSx0LnBsYXliYWNrUmF0ZS52YWx1ZSksZS5sb29wPXQubG9vcDt2YXIgbj10aGlzLmNvbnRleHQuYXVkaW9Db250ZXh0LmNyZWF0ZUdhaW4oKTtyZXR1cm4gZS5jb25uZWN0KG4pLG4uY29ubmVjdCh0aGlzLmRlc3RpbmF0aW9uKSx7c291cmNlOmUsZ2FpbjpufX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiYnVmZmVyU2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY3JpcHQuYnVmZmVyU2l6ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLkJVRkZFUl9TSVpFPTAsZX0ocikseT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCl7dGhpcy5wYXJlbnQ9dCx0aGlzLl9ub2Rlcz1uZXcgXyh0aGlzLmNvbnRleHQpLHRoaXMuX3NvdXJjZT10aGlzLl9ub2Rlcy5idWZmZXJTb3VyY2UsdGhpcy5zb3VyY2U9dC5vcHRpb25zLnNvdXJjZX0sdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMucGFyZW50PW51bGwsdGhpcy5fbm9kZXMuZGVzdHJveSgpLHRoaXMuX25vZGVzPW51bGwsdGhpcy5fc291cmNlPW51bGwsdGhpcy5zb3VyY2U9bnVsbH0sdC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBkKHRoaXMpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJjb250ZXh0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudC5jb250ZXh0fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImlzUGxheWFibGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9zb3VyY2UmJiEhdGhpcy5fc291cmNlLmJ1ZmZlcn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJmaWx0ZXJzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub2Rlcy5maWx0ZXJzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbm9kZXMuZmlsdGVycz10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImR1cmF0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2UuYnVmZmVyLmR1cmF0aW9ufSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImJ1ZmZlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlLmJ1ZmZlcn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NvdXJjZS5idWZmZXI9dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJub2Rlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbm9kZXN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbih0KXt0aGlzLnNvdXJjZT90aGlzLl9kZWNvZGUodGhpcy5zb3VyY2UsdCk6dGhpcy5wYXJlbnQudXJsP3RoaXMuX2xvYWRVcmwodCk6dCYmdChuZXcgRXJyb3IoXCJzb3VuZC51cmwgb3Igc291bmQuc291cmNlIG11c3QgYmUgc2V0XCIpKX0sdC5wcm90b3R5cGUuX2xvYWRVcmw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPW5ldyBYTUxIdHRwUmVxdWVzdCxvPXRoaXMucGFyZW50LnVybDtuLm9wZW4oXCJHRVRcIixvLCEwKSxuLnJlc3BvbnNlVHlwZT1cImFycmF5YnVmZmVyXCIsbi5vbmxvYWQ9ZnVuY3Rpb24oKXtlLnNvdXJjZT1uLnJlc3BvbnNlLGUuX2RlY29kZShuLnJlc3BvbnNlLHQpfSxuLnNlbmQoKX0sdC5wcm90b3R5cGUuX2RlY29kZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dGhpcy5wYXJlbnQuY29udGV4dC5kZWNvZGUodCxmdW5jdGlvbih0LG8pe2lmKHQpZSYmZSh0KTtlbHNle24ucGFyZW50LmlzTG9hZGVkPSEwLG4uYnVmZmVyPW87dmFyIGk9bi5wYXJlbnQuYXV0b1BsYXlTdGFydCgpO2UmJmUobnVsbCxuLnBhcmVudCxpKX19KX0sdH0oKSxtPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj10aGlzLGk9d2luZG93LHI9bmV3IGUuQXVkaW9Db250ZXh0LHM9ci5jcmVhdGVEeW5hbWljc0NvbXByZXNzb3IoKSx1PXIuY3JlYXRlQW5hbHlzZXIoKTtyZXR1cm4gdS5jb25uZWN0KHMpLHMuY29ubmVjdChyLmRlc3RpbmF0aW9uKSwobj10LmNhbGwodGhpcyx1LHMpfHx0aGlzKS5fY3R4PXIsbi5fb2ZmbGluZUN0eD1uZXcgZS5PZmZsaW5lQXVkaW9Db250ZXh0KDEsMixpLk9mZmxpbmVBdWRpb0NvbnRleHQ/ci5zYW1wbGVSYXRlOjQ0MTAwKSxuLl91bmxvY2tlZD0hMSxuLmNvbXByZXNzb3I9cyxuLmFuYWx5c2VyPXUsbi5ldmVudHM9bmV3IG8sbi52b2x1bWU9MSxuLnNwZWVkPTEsbi5tdXRlZD0hMSxuLnBhdXNlZD0hMSxcInJ1bm5pbmdcIiE9PXIuc3RhdGUmJihuLl91bmxvY2soKSxuLl91bmxvY2s9bi5fdW5sb2NrLmJpbmQobiksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLG4uX3VubG9jaywhMCksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIixuLl91bmxvY2ssITApLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLG4uX3VubG9jaywhMCkpLG59cmV0dXJuIGEoZSx0KSxlLnByb3RvdHlwZS5fdW5sb2NrPWZ1bmN0aW9uKCl7dGhpcy5fdW5sb2NrZWR8fCh0aGlzLnBsYXlFbXB0eVNvdW5kKCksXCJydW5uaW5nXCI9PT10aGlzLl9jdHguc3RhdGUmJihkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5fdW5sb2NrLCEwKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0aGlzLl91bmxvY2ssITApLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5fdW5sb2NrLCEwKSx0aGlzLl91bmxvY2tlZD0hMCkpfSxlLnByb3RvdHlwZS5wbGF5RW1wdHlTb3VuZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2N0eC5jcmVhdGVCdWZmZXJTb3VyY2UoKTt0LmJ1ZmZlcj10aGlzLl9jdHguY3JlYXRlQnVmZmVyKDEsMSwyMjA1MCksdC5jb25uZWN0KHRoaXMuX2N0eC5kZXN0aW5hdGlvbiksdC5zdGFydCgwLDAsMCksXCJzdXNwZW5kZWRcIj09PXQuY29udGV4dC5zdGF0ZSYmdC5jb250ZXh0LnJlc3VtZSgpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIkF1ZGlvQ29udGV4dFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD13aW5kb3c7cmV0dXJuIHQuQXVkaW9Db250ZXh0fHx0LndlYmtpdEF1ZGlvQ29udGV4dHx8bnVsbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIk9mZmxpbmVBdWRpb0NvbnRleHRcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9d2luZG93O3JldHVybiB0Lk9mZmxpbmVBdWRpb0NvbnRleHR8fHQud2Via2l0T2ZmbGluZUF1ZGlvQ29udGV4dHx8bnVsbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO3ZhciBlPXRoaXMuX2N0eDt2b2lkIDAhPT1lLmNsb3NlJiZlLmNsb3NlKCksdGhpcy5ldmVudHMucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy5hbmFseXNlci5kaXNjb25uZWN0KCksdGhpcy5jb21wcmVzc29yLmRpc2Nvbm5lY3QoKSx0aGlzLmFuYWx5c2VyPW51bGwsdGhpcy5jb21wcmVzc29yPW51bGwsdGhpcy5ldmVudHM9bnVsbCx0aGlzLl9vZmZsaW5lQ3R4PW51bGwsdGhpcy5fY3R4PW51bGx9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImF1ZGlvQ29udGV4dFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3R4fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9mZmxpbmVDb250ZXh0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vZmZsaW5lQ3R4fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInBhdXNlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGF1c2VkfSxzZXQ6ZnVuY3Rpb24odCl7dCYmXCJydW5uaW5nXCI9PT10aGlzLl9jdHguc3RhdGU/dGhpcy5fY3R4LnN1c3BlbmQoKTp0fHxcInN1c3BlbmRlZFwiIT09dGhpcy5fY3R4LnN0YXRlfHx0aGlzLl9jdHgucmVzdW1lKCksdGhpcy5fcGF1c2VkPXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe3RoaXMuZXZlbnRzLmVtaXQoXCJyZWZyZXNoXCIpfSxlLnByb3RvdHlwZS5yZWZyZXNoUGF1c2VkPWZ1bmN0aW9uKCl7dGhpcy5ldmVudHMuZW1pdChcInJlZnJlc2hQYXVzZWRcIil9LGUucHJvdG90eXBlLnRvZ2dsZU11dGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tdXRlZD0hdGhpcy5tdXRlZCx0aGlzLnJlZnJlc2goKSx0aGlzLm11dGVkfSxlLnByb3RvdHlwZS50b2dnbGVQYXVzZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdXNlZD0hdGhpcy5wYXVzZWQsdGhpcy5yZWZyZXNoUGF1c2VkKCksdGhpcy5fcGF1c2VkfSxlLnByb3RvdHlwZS5kZWNvZGU9ZnVuY3Rpb24odCxlKXt0aGlzLl9vZmZsaW5lQ3R4LmRlY29kZUF1ZGlvRGF0YSh0LGZ1bmN0aW9uKHQpe2UobnVsbCx0KX0sZnVuY3Rpb24odCl7ZShuZXcgRXJyb3IodC5tZXNzYWdlfHxcIlVuYWJsZSB0byBkZWNvZGUgZmlsZVwiKSl9KX0sZX0ociksZz17V2ViQXVkaW9NZWRpYTp5LFdlYkF1ZGlvSW5zdGFuY2U6ZCxXZWJBdWRpb05vZGVzOl8sV2ViQXVkaW9Db250ZXh0Om0sV2ViQXVkaW9VdGlsczpsfSxiPXtGaWx0ZXI6cyxFcXVhbGl6ZXJGaWx0ZXI6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShuLG8saSxyLHMsdSxhLGMscCxmKXt2b2lkIDA9PT1uJiYobj0wKSx2b2lkIDA9PT1vJiYobz0wKSx2b2lkIDA9PT1pJiYoaT0wKSx2b2lkIDA9PT1yJiYocj0wKSx2b2lkIDA9PT1zJiYocz0wKSx2b2lkIDA9PT11JiYodT0wKSx2b2lkIDA9PT1hJiYoYT0wKSx2b2lkIDA9PT1jJiYoYz0wKSx2b2lkIDA9PT1wJiYocD0wKSx2b2lkIDA9PT1mJiYoZj0wKTt2YXIgZD10aGlzO2lmKCFoKCkudXNlTGVnYWN5KXt2YXIgXz1be2Y6ZS5GMzIsdHlwZTpcImxvd3NoZWxmXCIsZ2FpbjpufSx7ZjplLkY2NCx0eXBlOlwicGVha2luZ1wiLGdhaW46b30se2Y6ZS5GMTI1LHR5cGU6XCJwZWFraW5nXCIsZ2FpbjppfSx7ZjplLkYyNTAsdHlwZTpcInBlYWtpbmdcIixnYWluOnJ9LHtmOmUuRjUwMCx0eXBlOlwicGVha2luZ1wiLGdhaW46c30se2Y6ZS5GMUssdHlwZTpcInBlYWtpbmdcIixnYWluOnV9LHtmOmUuRjJLLHR5cGU6XCJwZWFraW5nXCIsZ2FpbjphfSx7ZjplLkY0Syx0eXBlOlwicGVha2luZ1wiLGdhaW46Y30se2Y6ZS5GOEssdHlwZTpcInBlYWtpbmdcIixnYWluOnB9LHtmOmUuRjE2Syx0eXBlOlwiaGlnaHNoZWxmXCIsZ2FpbjpmfV0ubWFwKGZ1bmN0aW9uKHQpe3ZhciBlPWgoKS5jb250ZXh0LmF1ZGlvQ29udGV4dC5jcmVhdGVCaXF1YWRGaWx0ZXIoKTtyZXR1cm4gZS50eXBlPXQudHlwZSxsLnNldFBhcmFtVmFsdWUoZS5RLDEpLGUuZnJlcXVlbmN5LnZhbHVlPXQuZixsLnNldFBhcmFtVmFsdWUoZS5nYWluLHQuZ2FpbiksZX0pOyhkPXQuY2FsbCh0aGlzLF9bMF0sX1tfLmxlbmd0aC0xXSl8fHRoaXMpLmJhbmRzPV8sZC5iYW5kc01hcD17fTtmb3IodmFyIHk9MDt5PGQuYmFuZHMubGVuZ3RoO3krKyl7dmFyIG09ZC5iYW5kc1t5XTt5PjAmJmQuYmFuZHNbeS0xXS5jb25uZWN0KG0pLGQuYmFuZHNNYXBbbS5mcmVxdWVuY3kudmFsdWVdPW19cmV0dXJuIGR9ZD10LmNhbGwodGhpcyxudWxsKXx8dGhpc31yZXR1cm4gYShlLHQpLGUucHJvdG90eXBlLnNldEdhaW49ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1lJiYoZT0wKSwhdGhpcy5iYW5kc01hcFt0XSl0aHJvdyBuZXcgRXJyb3IoXCJObyBiYW5kIGZvdW5kIGZvciBmcmVxdWVuY3kgXCIrdCk7bC5zZXRQYXJhbVZhbHVlKHRoaXMuYmFuZHNNYXBbdF0uZ2FpbixlKX0sZS5wcm90b3R5cGUuZ2V0R2Fpbj1mdW5jdGlvbih0KXtpZighdGhpcy5iYW5kc01hcFt0XSl0aHJvdyBuZXcgRXJyb3IoXCJObyBiYW5kIGZvdW5kIGZvciBmcmVxdWVuY3kgXCIrdCk7cmV0dXJuIHRoaXMuYmFuZHNNYXBbdF0uZ2Fpbi52YWx1ZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiZjMyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEdhaW4oZS5GMzIpfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5zZXRHYWluKGUuRjMyLHQpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImY2NFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRHYWluKGUuRjY0KX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuc2V0R2FpbihlLkY2NCx0KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJmMTI1XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEdhaW4oZS5GMTI1KX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuc2V0R2FpbihlLkYxMjUsdCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiZjI1MFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRHYWluKGUuRjI1MCl9LHNldDpmdW5jdGlvbih0KXt0aGlzLnNldEdhaW4oZS5GMjUwLHQpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImY1MDBcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0R2FpbihlLkY1MDApfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5zZXRHYWluKGUuRjUwMCx0KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJmMWtcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0R2FpbihlLkYxSyl9LHNldDpmdW5jdGlvbih0KXt0aGlzLnNldEdhaW4oZS5GMUssdCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiZjJrXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEdhaW4oZS5GMkspfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5zZXRHYWluKGUuRjJLLHQpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImY0a1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRHYWluKGUuRjRLKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuc2V0R2FpbihlLkY0Syx0KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJmOGtcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0R2FpbihlLkY4Syl9LHNldDpmdW5jdGlvbih0KXt0aGlzLnNldEdhaW4oZS5GOEssdCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiZjE2a1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRHYWluKGUuRjE2Syl9LHNldDpmdW5jdGlvbih0KXt0aGlzLnNldEdhaW4oZS5GMTZLLHQpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5iYW5kcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2wuc2V0UGFyYW1WYWx1ZSh0LmdhaW4sMCl9KX0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYmFuZHMuZm9yRWFjaChmdW5jdGlvbih0KXt0LmRpc2Nvbm5lY3QoKX0pLHRoaXMuYmFuZHM9bnVsbCx0aGlzLmJhbmRzTWFwPW51bGx9LGUuRjMyPTMyLGUuRjY0PTY0LGUuRjEyNT0xMjUsZS5GMjUwPTI1MCxlLkY1MDA9NTAwLGUuRjFLPTFlMyxlLkYySz0yZTMsZS5GNEs9NGUzLGUuRjhLPThlMyxlLkYxNks9MTZlMyxlfShzKSxEaXN0b3J0aW9uRmlsdGVyOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dm9pZCAwPT09ZSYmKGU9MCk7dmFyIG49dGhpcztpZighaCgpLnVzZUxlZ2FjeSl7dmFyIG89aCgpLmNvbnRleHQuYXVkaW9Db250ZXh0LmNyZWF0ZVdhdmVTaGFwZXIoKTtyZXR1cm4obj10LmNhbGwodGhpcyxvKXx8dGhpcykuX2Rpc3RvcnRpb249byxuLmFtb3VudD1lLG59bj10LmNhbGwodGhpcyxudWxsKXx8dGhpc31yZXR1cm4gYShlLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImFtb3VudFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYW1vdW50fSxzZXQ6ZnVuY3Rpb24odCl7dCo9MWUzLHRoaXMuX2Ftb3VudD10O2Zvcih2YXIgZSxuPW5ldyBGbG9hdDMyQXJyYXkoNDQxMDApLG89TWF0aC5QSS8xODAsaT0wO2k8NDQxMDA7KytpKWU9MippLzQ0MTAwLTEsbltpXT0oMyt0KSplKjIwKm8vKE1hdGguUEkrdCpNYXRoLmFicyhlKSk7dGhpcy5fZGlzdG9ydGlvbi5jdXJ2ZT1uLHRoaXMuX2Rpc3RvcnRpb24ub3ZlcnNhbXBsZT1cIjR4XCJ9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX2Rpc3RvcnRpb249bnVsbCx0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9LGV9KHMpLFN0ZXJlb0ZpbHRlcjpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZvaWQgMD09PWUmJihlPTApO3ZhciBuPXRoaXM7aWYoIWgoKS51c2VMZWdhY3kpe3ZhciBvLGkscixzPWgoKS5jb250ZXh0LmF1ZGlvQ29udGV4dDtyZXR1cm4gcy5jcmVhdGVTdGVyZW9QYW5uZXI/cj1vPXMuY3JlYXRlU3RlcmVvUGFubmVyKCk6KChpPXMuY3JlYXRlUGFubmVyKCkpLnBhbm5pbmdNb2RlbD1cImVxdWFscG93ZXJcIixyPWkpLChuPXQuY2FsbCh0aGlzLHIpfHx0aGlzKS5fc3RlcmVvPW8sbi5fcGFubmVyPWksbi5wYW49ZSxufW49dC5jYWxsKHRoaXMsbnVsbCl8fHRoaXN9cmV0dXJuIGEoZSx0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJwYW5cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Bhbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3Bhbj10LHRoaXMuX3N0ZXJlbz9sLnNldFBhcmFtVmFsdWUodGhpcy5fc3RlcmVvLnBhbix0KTp0aGlzLl9wYW5uZXIuc2V0UG9zaXRpb24odCwwLDEtTWF0aC5hYnModCkpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy5fc3RlcmVvPW51bGwsdGhpcy5fcGFubmVyPW51bGx9LGV9KHMpLFJldmVyYkZpbHRlcjpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixvKXt2b2lkIDA9PT1lJiYoZT0zKSx2b2lkIDA9PT1uJiYobj0yKSx2b2lkIDA9PT1vJiYobz0hMSk7dmFyIGk9dGhpcztpZighaCgpLnVzZUxlZ2FjeSlyZXR1cm4oaT10LmNhbGwodGhpcyxudWxsKXx8dGhpcykuX3NlY29uZHM9aS5fY2xhbXAoZSwxLDUwKSxpLl9kZWNheT1pLl9jbGFtcChuLDAsMTAwKSxpLl9yZXZlcnNlPW8saS5fcmVidWlsZCgpLGk7aT10LmNhbGwodGhpcyxudWxsKXx8dGhpc31yZXR1cm4gYShlLHQpLGUucHJvdG90eXBlLl9jbGFtcD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIE1hdGgubWluKG4sTWF0aC5tYXgoZSx0KSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInNlY29uZHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlY29uZHN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9zZWNvbmRzPXRoaXMuX2NsYW1wKHQsMSw1MCksdGhpcy5fcmVidWlsZCgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImRlY2F5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWNheX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2RlY2F5PXRoaXMuX2NsYW1wKHQsMCwxMDApLHRoaXMuX3JlYnVpbGQoKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJyZXZlcnNlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXZlcnNlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcmV2ZXJzZT10LHRoaXMuX3JlYnVpbGQoKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fcmVidWlsZD1mdW5jdGlvbigpe2Zvcih2YXIgdCxlPWgoKS5jb250ZXh0LmF1ZGlvQ29udGV4dCxuPWUuc2FtcGxlUmF0ZSxvPW4qdGhpcy5fc2Vjb25kcyxpPWUuY3JlYXRlQnVmZmVyKDIsbyxuKSxyPWkuZ2V0Q2hhbm5lbERhdGEoMCkscz1pLmdldENoYW5uZWxEYXRhKDEpLHU9MDt1PG87dSsrKXQ9dGhpcy5fcmV2ZXJzZT9vLXU6dSxyW3VdPSgyKk1hdGgucmFuZG9tKCktMSkqTWF0aC5wb3coMS10L28sdGhpcy5fZGVjYXkpLHNbdV09KDIqTWF0aC5yYW5kb20oKS0xKSpNYXRoLnBvdygxLXQvbyx0aGlzLl9kZWNheSk7dmFyIGE9aCgpLmNvbnRleHQuYXVkaW9Db250ZXh0LmNyZWF0ZUNvbnZvbHZlcigpO2EuYnVmZmVyPWksdGhpcy5pbml0KGEpfSxlfShzKSxNb25vRmlsdGVyOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT10aGlzO2lmKCFoKCkudXNlTGVnYWN5KXt2YXIgbj1oKCkuY29udGV4dC5hdWRpb0NvbnRleHQsbz1uLmNyZWF0ZUNoYW5uZWxTcGxpdHRlcigpLGk9bi5jcmVhdGVDaGFubmVsTWVyZ2VyKCk7cmV0dXJuIGkuY29ubmVjdChvKSwoZT10LmNhbGwodGhpcyxpLG8pfHx0aGlzKS5fbWVyZ2VyPWksZX1lPXQuY2FsbCh0aGlzLG51bGwpfHx0aGlzfXJldHVybiBhKGUsdCksZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX21lcmdlci5kaXNjb25uZWN0KCksdGhpcy5fbWVyZ2VyPW51bGwsdC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfSxlfShzKSxUZWxlcGhvbmVGaWx0ZXI6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe2lmKCFoKCkudXNlTGVnYWN5KXt2YXIgZT1oKCkuY29udGV4dC5hdWRpb0NvbnRleHQsbj1lLmNyZWF0ZUJpcXVhZEZpbHRlcigpLG89ZS5jcmVhdGVCaXF1YWRGaWx0ZXIoKSxpPWUuY3JlYXRlQmlxdWFkRmlsdGVyKCkscj1lLmNyZWF0ZUJpcXVhZEZpbHRlcigpO3JldHVybiBuLnR5cGU9XCJsb3dwYXNzXCIsbC5zZXRQYXJhbVZhbHVlKG4uZnJlcXVlbmN5LDJlMyksby50eXBlPVwibG93cGFzc1wiLGwuc2V0UGFyYW1WYWx1ZShvLmZyZXF1ZW5jeSwyZTMpLGkudHlwZT1cImhpZ2hwYXNzXCIsbC5zZXRQYXJhbVZhbHVlKGkuZnJlcXVlbmN5LDUwMCksci50eXBlPVwiaGlnaHBhc3NcIixsLnNldFBhcmFtVmFsdWUoci5mcmVxdWVuY3ksNTAwKSxuLmNvbm5lY3Qobyksby5jb25uZWN0KGkpLGkuY29ubmVjdChyKSx0LmNhbGwodGhpcyxuLHIpfHx0aGlzfXQuY2FsbCh0aGlzLG51bGwpfXJldHVybiBhKGUsdCksZX0ocyl9LHY9MCxQPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmlkPXYrKyxuLmluaXQoZSksbn1yZXR1cm4gYShlLHQpLGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PXRoaXNbdF0pdGhyb3cgbmV3IEVycm9yKFwiUHJvcGVydHkgd2l0aCBuYW1lIFwiK3QrXCIgZG9lcyBub3QgZXhpc3QuXCIpO3JldHVybiB0aGlzW3RdPWUsdGhpc30sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwicHJvZ3Jlc3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZS5jdXJyZW50VGltZS90aGlzLl9kdXJhdGlvbn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJwYXVzZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhdXNlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3BhdXNlZD10LHRoaXMucmVmcmVzaFBhdXNlZCgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9vblBsYXk9ZnVuY3Rpb24oKXt0aGlzLl9wbGF5aW5nPSEwfSxlLnByb3RvdHlwZS5fb25QYXVzZT1mdW5jdGlvbigpe3RoaXMuX3BsYXlpbmc9ITF9LGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCl7dGhpcy5fcGxheWluZz0hMSx0aGlzLl9kdXJhdGlvbj10LnNvdXJjZS5kdXJhdGlvbjt2YXIgZT10aGlzLl9zb3VyY2U9dC5zb3VyY2UuY2xvbmVOb2RlKCExKTtlLnNyYz10LnBhcmVudC51cmwsZS5vbnBsYXk9dGhpcy5fb25QbGF5LmJpbmQodGhpcyksZS5vbnBhdXNlPXRoaXMuX29uUGF1c2UuYmluZCh0aGlzKSx0LmNvbnRleHQub24oXCJyZWZyZXNoXCIsdGhpcy5yZWZyZXNoLHRoaXMpLHQuY29udGV4dC5vbihcInJlZnJlc2hQYXVzZWRcIix0aGlzLnJlZnJlc2hQYXVzZWQsdGhpcyksdGhpcy5fbWVkaWE9dH0sZS5wcm90b3R5cGUuX2ludGVybmFsU3RvcD1mdW5jdGlvbigpe3RoaXMuX3NvdXJjZSYmdGhpcy5fcGxheWluZyYmKHRoaXMuX3NvdXJjZS5vbmVuZGVkPW51bGwsdGhpcy5fc291cmNlLnBhdXNlKCkpfSxlLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5faW50ZXJuYWxTdG9wKCksdGhpcy5fc291cmNlJiZ0aGlzLmVtaXQoXCJzdG9wXCIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJzcGVlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3BlZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9zcGVlZD10LHRoaXMucmVmcmVzaCgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInZvbHVtZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdm9sdW1lfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdm9sdW1lPXQsdGhpcy5yZWZyZXNoKCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibG9vcFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9vcH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2xvb3A9dCx0aGlzLnJlZnJlc2goKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJtdXRlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbXV0ZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9tdXRlZD10LHRoaXMucmVmcmVzaCgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tZWRpYS5jb250ZXh0LGU9dGhpcy5fbWVkaWEucGFyZW50O3RoaXMuX3NvdXJjZS5sb29wPXRoaXMuX2xvb3B8fGUubG9vcDt2YXIgbj10LnZvbHVtZSoodC5tdXRlZD8wOjEpLG89ZS52b2x1bWUqKGUubXV0ZWQ/MDoxKSxpPXRoaXMuX3ZvbHVtZSoodGhpcy5fbXV0ZWQ/MDoxKTt0aGlzLl9zb3VyY2Uudm9sdW1lPWkqbipvLHRoaXMuX3NvdXJjZS5wbGF5YmFja1JhdGU9dGhpcy5fc3BlZWQqdC5zcGVlZCplLnNwZWVkfSxlLnByb3RvdHlwZS5yZWZyZXNoUGF1c2VkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWVkaWEuY29udGV4dCxlPXRoaXMuX21lZGlhLnBhcmVudCxuPXRoaXMuX3BhdXNlZHx8ZS5wYXVzZWR8fHQucGF1c2VkO24hPT10aGlzLl9wYXVzZWRSZWFsJiYodGhpcy5fcGF1c2VkUmVhbD1uLG4/KHRoaXMuX2ludGVybmFsU3RvcCgpLHRoaXMuZW1pdChcInBhdXNlZFwiKSk6KHRoaXMuZW1pdChcInJlc3VtZWRcIiksdGhpcy5wbGF5KHtzdGFydDp0aGlzLl9zb3VyY2UuY3VycmVudFRpbWUsZW5kOnRoaXMuX2VuZCx2b2x1bWU6dGhpcy5fdm9sdW1lLHNwZWVkOnRoaXMuX3NwZWVkLGxvb3A6dGhpcy5fbG9vcH0pKSx0aGlzLmVtaXQoXCJwYXVzZVwiLG4pKX0sZS5wcm90b3R5cGUucGxheT1mdW5jdGlvbih0KXt2YXIgbz10aGlzLGk9dC5zdGFydCxyPXQuZW5kLHM9dC5zcGVlZCx1PXQubG9vcCxhPXQudm9sdW1lLGM9dC5tdXRlZDt0aGlzLl9zcGVlZD1zLHRoaXMuX3ZvbHVtZT1hLHRoaXMuX2xvb3A9ISF1LHRoaXMuX211dGVkPWMsdGhpcy5yZWZyZXNoKCksdGhpcy5sb29wJiZudWxsIT09ciYmKHRoaXMubG9vcD0hMSksdGhpcy5fc3RhcnQ9aSx0aGlzLl9lbmQ9cnx8dGhpcy5fZHVyYXRpb24sdGhpcy5fc3RhcnQ9TWF0aC5tYXgoMCx0aGlzLl9zdGFydC1lLlBBRERJTkcpLHRoaXMuX2VuZD1NYXRoLm1pbih0aGlzLl9lbmQrZS5QQURESU5HLHRoaXMuX2R1cmF0aW9uKSx0aGlzLl9zb3VyY2Uub25sb2FkZWRtZXRhZGF0YT1mdW5jdGlvbigpe28uX3NvdXJjZSYmKG8uX3NvdXJjZS5jdXJyZW50VGltZT1pLG8uX3NvdXJjZS5vbmxvYWRlZG1ldGFkYXRhPW51bGwsby5lbWl0KFwicHJvZ3Jlc3NcIixpLG8uX2R1cmF0aW9uKSxuLnNoYXJlZC5hZGQoby5fb25VcGRhdGUsbykpfSx0aGlzLl9zb3VyY2Uub25lbmRlZD10aGlzLl9vbkNvbXBsZXRlLmJpbmQodGhpcyksdGhpcy5fc291cmNlLnBsYXkoKSx0aGlzLmVtaXQoXCJzdGFydFwiKX0sZS5wcm90b3R5cGUuX29uVXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5lbWl0KFwicHJvZ3Jlc3NcIix0aGlzLnByb2dyZXNzLHRoaXMuX2R1cmF0aW9uKSx0aGlzLl9zb3VyY2UuY3VycmVudFRpbWU+PXRoaXMuX2VuZCYmIXRoaXMuX3NvdXJjZS5sb29wJiZ0aGlzLl9vbkNvbXBsZXRlKCl9LGUucHJvdG90eXBlLl9vbkNvbXBsZXRlPWZ1bmN0aW9uKCl7bi5zaGFyZWQucmVtb3ZlKHRoaXMuX29uVXBkYXRlLHRoaXMpLHRoaXMuX2ludGVybmFsU3RvcCgpLHRoaXMuZW1pdChcInByb2dyZXNzXCIsMSx0aGlzLl9kdXJhdGlvbiksdGhpcy5lbWl0KFwiZW5kXCIsdGhpcyl9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtuLnNoYXJlZC5yZW1vdmUodGhpcy5fb25VcGRhdGUsdGhpcyksdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTt2YXIgdD10aGlzLl9zb3VyY2U7dCYmKHQub25lbmRlZD1udWxsLHQub25wbGF5PW51bGwsdC5vbnBhdXNlPW51bGwsdGhpcy5faW50ZXJuYWxTdG9wKCkpLHRoaXMuX3NvdXJjZT1udWxsLHRoaXMuX3NwZWVkPTEsdGhpcy5fdm9sdW1lPTEsdGhpcy5fbG9vcD0hMSx0aGlzLl9lbmQ9bnVsbCx0aGlzLl9zdGFydD0wLHRoaXMuX2R1cmF0aW9uPTAsdGhpcy5fcGxheWluZz0hMSx0aGlzLl9wYXVzZWRSZWFsPSExLHRoaXMuX3BhdXNlZD0hMSx0aGlzLl9tdXRlZD0hMSx0aGlzLl9tZWRpYSYmKHRoaXMuX21lZGlhLmNvbnRleHQub2ZmKFwicmVmcmVzaFwiLHRoaXMucmVmcmVzaCx0aGlzKSx0aGlzLl9tZWRpYS5jb250ZXh0Lm9mZihcInJlZnJlc2hQYXVzZWRcIix0aGlzLnJlZnJlc2hQYXVzZWQsdGhpcyksdGhpcy5fbWVkaWE9bnVsbCl9LGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbSFRNTEF1ZGlvSW5zdGFuY2UgaWQ9XCIrdGhpcy5pZCtcIl1cIn0sZS5QQURESU5HPS4xLGV9KG8pLHg9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGEoZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQpe3RoaXMucGFyZW50PXQsdGhpcy5fc291cmNlPXQub3B0aW9ucy5zb3VyY2V8fG5ldyBBdWRpbyx0LnVybCYmKHRoaXMuX3NvdXJjZS5zcmM9dC51cmwpfSxlLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFAodGhpcyl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImlzUGxheWFibGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9zb3VyY2UmJjQ9PT10aGlzLl9zb3VyY2UucmVhZHlTdGF0ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJkdXJhdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlLmR1cmF0aW9ufSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImNvbnRleHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50LmNvbnRleHR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiZmlsdGVyc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sc2V0OmZ1bmN0aW9uKHQpe30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLnBhcmVudD1udWxsLHRoaXMuX3NvdXJjZSYmKHRoaXMuX3NvdXJjZS5zcmM9XCJcIix0aGlzLl9zb3VyY2UubG9hZCgpLHRoaXMuX3NvdXJjZT1udWxsKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwic291cmNlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2V9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zb3VyY2Usbj10aGlzLnBhcmVudDtpZig0IT09ZS5yZWFkeVN0YXRlKXtpZighbi51cmwpcmV0dXJuIHQobmV3IEVycm9yKFwic291bmQudXJsIG9yIHNvdW5kLnNvdXJjZSBtdXN0IGJlIHNldFwiKSk7ZS5zcmM9bi51cmw7dmFyIG89ZnVuY3Rpb24oKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5dGhyb3VnaFwiLGkpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIixpKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLHIpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIscyl9LGk9ZnVuY3Rpb24oKXtvKCksbi5pc0xvYWRlZD0hMDt2YXIgZT1uLmF1dG9QbGF5U3RhcnQoKTt0JiZ0KG51bGwsbixlKX0scj1mdW5jdGlvbigpe28oKSx0JiZ0KG5ldyBFcnJvcihcIlNvdW5kIGxvYWRpbmcgaGFzIGJlZW4gYWJvcnRlZFwiKSl9LHM9ZnVuY3Rpb24oKXtvKCk7dmFyIG49XCJGYWlsZWQgdG8gbG9hZCBhdWRpbyBlbGVtZW50IChjb2RlOiBcIitlLmVycm9yLmNvZGUrXCIpXCI7dCYmdChuZXcgRXJyb3IobikpfTtlLmFkZEV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5dGhyb3VnaFwiLGksITEpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixpLCExKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLHIsITEpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIscywhMSksZS5sb2FkKCl9ZWxzZXtuLmlzTG9hZGVkPSEwO3ZhciB1PW4uYXV0b1BsYXlTdGFydCgpO3QmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0KG51bGwsbix1KX0sMCl9fSxlfShvKSxPPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGUuc3BlZWQ9MSxlLnZvbHVtZT0xLGUubXV0ZWQ9ITEsZS5wYXVzZWQ9ITEsZX1yZXR1cm4gYShlLHQpLGUucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXt0aGlzLmVtaXQoXCJyZWZyZXNoXCIpfSxlLnByb3RvdHlwZS5yZWZyZXNoUGF1c2VkPWZ1bmN0aW9uKCl7dGhpcy5lbWl0KFwicmVmcmVzaFBhdXNlZFwiKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiZmlsdGVyc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sc2V0OmZ1bmN0aW9uKHQpe30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJhdWRpb0NvbnRleHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUudG9nZ2xlTXV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm11dGVkPSF0aGlzLm11dGVkLHRoaXMucmVmcmVzaCgpLHRoaXMubXV0ZWR9LGUucHJvdG90eXBlLnRvZ2dsZVBhdXNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF1c2VkPSF0aGlzLnBhdXNlZCx0aGlzLnJlZnJlc2hQYXVzZWQoKSx0aGlzLnBhdXNlZH0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCl9LGV9KG8pLGo9e0hUTUxBdWRpb01lZGlhOngsSFRNTEF1ZGlvSW5zdGFuY2U6UCxIVE1MQXVkaW9Db250ZXh0Ok99LHc9W1wibXAzXCIsXCJvZ2dcIixcIm9nYVwiLFwib3B1c1wiLFwibXBlZ1wiLFwid2F2XCIsXCJtNGFcIixcImFpZmZcIixcIndtYVwiLFwibWlkXCJdO3ZhciBBLEYsQyxTLEU9KEE9e200YTpcIm1wNFwiLG9nYTpcIm9nZ1wifSxGPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKSxDPXt9LFM9L15ubyQvLHcuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT1BW3RdfHx0LG49Ri5jYW5QbGF5VHlwZShcImF1ZGlvL1wiK3QpLnJlcGxhY2UoUyxcIlwiKSxvPUYuY2FuUGxheVR5cGUoXCJhdWRpby9cIitlKS5yZXBsYWNlKFMsXCJcIik7Q1t0XT0hIW58fCEhb30pLE9iamVjdC5mcmVlemUoQykpLEw9L1xcLihcXHsoW15cXH1dKylcXH0pKFxcPy4qKT8kLztmdW5jdGlvbiBNKHQpe3ZhciBlPUwsbj1cInN0cmluZ1wiPT10eXBlb2YgdD90OnQudXJsO2lmKGUudGVzdChuKSl7Zm9yKHZhciBvPWUuZXhlYyhuKSxpPW9bMl0uc3BsaXQoXCIsXCIpLHI9aVtpLmxlbmd0aC0xXSxzPTAsdT1pLmxlbmd0aDtzPHU7cysrKXt2YXIgYT1pW3NdO2lmKEVbYV0pe3I9YTticmVha319dmFyIGM9bi5yZXBsYWNlKG9bMV0scik7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIHQmJih0LmV4dGVuc2lvbj1yLHQudXJsPWMpLGN9cmV0dXJuIG59dmFyIGs9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLmFkZD1mdW5jdGlvbigpe2UubGVnYWN5PWgoKS51c2VMZWdhY3l9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwibGVnYWN5XCIse3NldDpmdW5jdGlvbihlKXt2YXIgbj13O2U/bi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Quc2V0RXh0ZW5zaW9uWGhyVHlwZShlLHQuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVCksdC5zZXRFeHRlbnNpb25Mb2FkVHlwZShlLHQuTE9BRF9UWVBFLkFVRElPKX0pOm4uZm9yRWFjaChmdW5jdGlvbihlKXt0LnNldEV4dGVuc2lvblhoclR5cGUoZSx0LlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUiksdC5zZXRFeHRlbnNpb25Mb2FkVHlwZShlLHQuTE9BRF9UWVBFLlhIUil9KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByZT1mdW5jdGlvbih0LGUpe00odCksZSgpfSxlLnVzZT1mdW5jdGlvbih0LGUpe3QuZGF0YSYmdy5pbmRleE9mKHQuZXh0ZW5zaW9uKT4tMT90LnNvdW5kPWgoKS5hZGQodC5uYW1lLHtsb2FkZWQ6ZSxwcmVsb2FkOiEwLHVybDp0LnVybCxzb3VyY2U6dC5kYXRhfSk6ZSgpfSxlfSgpLFQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5wYXJlbnQ9dCxPYmplY3QuYXNzaWduKHRoaXMsZSksdGhpcy5kdXJhdGlvbj10aGlzLmVuZC10aGlzLnN0YXJ0fXJldHVybiB0LnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBhcmVudC5wbGF5KHtjb21wbGV0ZTp0LHNwZWVkOnRoaXMuc3BlZWR8fHRoaXMucGFyZW50LnNwZWVkLGVuZDp0aGlzLmVuZCxzdGFydDp0aGlzLnN0YXJ0LGxvb3A6dGhpcy5sb29wfSl9LHQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnBhcmVudD1udWxsfSx0fSgpLEc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5tZWRpYT10LHRoaXMub3B0aW9ucz1lLHRoaXMuX2luc3RhbmNlcz1bXSx0aGlzLl9zcHJpdGVzPXt9LHRoaXMubWVkaWEuaW5pdCh0aGlzKTt2YXIgbj1lLmNvbXBsZXRlO3RoaXMuX2F1dG9QbGF5T3B0aW9ucz1uP3tjb21wbGV0ZTpufTpudWxsLHRoaXMuaXNMb2FkZWQ9ITEsdGhpcy5pc1BsYXlpbmc9ITEsdGhpcy5hdXRvUGxheT1lLmF1dG9QbGF5LHRoaXMuc2luZ2xlSW5zdGFuY2U9ZS5zaW5nbGVJbnN0YW5jZSx0aGlzLnByZWxvYWQ9ZS5wcmVsb2FkfHx0aGlzLmF1dG9QbGF5LHRoaXMudXJsPWUudXJsLHRoaXMuc3BlZWQ9ZS5zcGVlZCx0aGlzLnZvbHVtZT1lLnZvbHVtZSx0aGlzLmxvb3A9ZS5sb29wLGUuc3ByaXRlcyYmdGhpcy5hZGRTcHJpdGVzKGUuc3ByaXRlcyksdGhpcy5wcmVsb2FkJiZ0aGlzLl9wcmVsb2FkKGUubG9hZGVkKX1yZXR1cm4gdC5mcm9tPWZ1bmN0aW9uKGUpe3ZhciBuPXt9O3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP24udXJsPWU6ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxlIGluc3RhbmNlb2YgSFRNTEF1ZGlvRWxlbWVudD9uLnNvdXJjZT1lOm49ZSwobj1wKHthdXRvUGxheTohMSxzaW5nbGVJbnN0YW5jZTohMSx1cmw6bnVsbCxzb3VyY2U6bnVsbCxwcmVsb2FkOiExLHZvbHVtZToxLHNwZWVkOjEsY29tcGxldGU6bnVsbCxsb2FkZWQ6bnVsbCxsb29wOiExfSxuKSkudXJsJiYobi51cmw9TShuLnVybCkpLE9iamVjdC5mcmVlemUobiksbmV3IHQoaCgpLnVzZUxlZ2FjeT9uZXcgeDpuZXcgeSxuKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiY29udGV4dFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaCgpLmNvbnRleHR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1BsYXlpbmc9ITEsdGhpcy5wYXVzZWQ9ITAsdGhpc30sdC5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNQbGF5aW5nPXRoaXMuX2luc3RhbmNlcy5sZW5ndGg+MCx0aGlzLnBhdXNlZD0hMSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJwYXVzZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhdXNlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3BhdXNlZD10LHRoaXMucmVmcmVzaFBhdXNlZCgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInNwZWVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zcGVlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NwZWVkPXQsdGhpcy5yZWZyZXNoKCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZmlsdGVyc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZWRpYS5maWx0ZXJzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5tZWRpYS5maWx0ZXJzPXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuYWRkU3ByaXRlcz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0KXt2YXIgbj17fTtmb3IodmFyIG8gaW4gdCluW29dPXRoaXMuYWRkU3ByaXRlcyhvLHRbb10pO3JldHVybiBufWlmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXt2YXIgaT1uZXcgVCh0aGlzLGUpO3JldHVybiB0aGlzLl9zcHJpdGVzW3RdPWksaX19LHQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVJbnN0YW5jZXMoKSx0aGlzLnJlbW92ZVNwcml0ZXMoKSx0aGlzLm1lZGlhLmRlc3Ryb3koKSx0aGlzLm1lZGlhPW51bGwsdGhpcy5fc3ByaXRlcz1udWxsLHRoaXMuX2luc3RhbmNlcz1udWxsfSx0LnByb3RvdHlwZS5yZW1vdmVTcHJpdGVzPWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlPXRoaXMuX3Nwcml0ZXNbdF07dm9pZCAwIT09ZSYmKGUuZGVzdHJveSgpLGRlbGV0ZSB0aGlzLl9zcHJpdGVzW3RdKX1lbHNlIGZvcih2YXIgbiBpbiB0aGlzLl9zcHJpdGVzKXRoaXMucmVtb3ZlU3ByaXRlcyhuKTtyZXR1cm4gdGhpc30sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaXNQbGF5YWJsZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0xvYWRlZCYmdGhpcy5tZWRpYSYmdGhpcy5tZWRpYS5pc1BsYXlhYmxlfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXtpZighdGhpcy5pc1BsYXlhYmxlKXJldHVybiB0aGlzLmF1dG9QbGF5PSExLHRoaXMuX2F1dG9QbGF5T3B0aW9ucz1udWxsLHRoaXM7dGhpcy5pc1BsYXlpbmc9ITE7Zm9yKHZhciB0PXRoaXMuX2luc3RhbmNlcy5sZW5ndGgtMTt0Pj0wO3QtLSl0aGlzLl9pbnN0YW5jZXNbdF0uc3RvcCgpO3JldHVybiB0aGlzfSx0LnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKHQsZSl7dmFyIG4sbz10aGlzO1wic3RyaW5nXCI9PXR5cGVvZiB0P249e3Nwcml0ZTpyPXQsbG9vcDp0aGlzLmxvb3AsY29tcGxldGU6ZX06XCJmdW5jdGlvblwiPT10eXBlb2YgdD8obj17fSkuY29tcGxldGU9dDpuPXQ7aWYoKG49cCh7Y29tcGxldGU6bnVsbCxsb2FkZWQ6bnVsbCxzcHJpdGU6bnVsbCxlbmQ6bnVsbCxzdGFydDowLHZvbHVtZToxLHNwZWVkOjEsbXV0ZWQ6ITEsbG9vcDohMX0sbnx8e30pKS5zcHJpdGUpe3ZhciBpPW4uc3ByaXRlLHI9dGhpcy5fc3ByaXRlc1tpXTtuLnN0YXJ0PXIuc3RhcnQsbi5lbmQ9ci5lbmQsbi5zcGVlZD1yLnNwZWVkfHwxLG4ubG9vcD1yLmxvb3B8fG4ubG9vcCxkZWxldGUgbi5zcHJpdGV9aWYobi5vZmZzZXQmJihuLnN0YXJ0PW4ub2Zmc2V0KSwhdGhpcy5pc0xvYWRlZClyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odCxlKXtvLmF1dG9QbGF5PSEwLG8uX2F1dG9QbGF5T3B0aW9ucz1uLG8uX3ByZWxvYWQoZnVuY3Rpb24obyxpLHIpe28/ZShvKToobi5sb2FkZWQmJm4ubG9hZGVkKG8saSxyKSx0KHIpKX0pfSk7dGhpcy5zaW5nbGVJbnN0YW5jZSYmdGhpcy5fcmVtb3ZlSW5zdGFuY2VzKCk7dmFyIHM9dGhpcy5fY3JlYXRlSW5zdGFuY2UoKTtyZXR1cm4gdGhpcy5faW5zdGFuY2VzLnB1c2gocyksdGhpcy5pc1BsYXlpbmc9ITAscy5vbmNlKFwiZW5kXCIsZnVuY3Rpb24oKXtuLmNvbXBsZXRlJiZuLmNvbXBsZXRlKG8pLG8uX29uQ29tcGxldGUocyl9KSxzLm9uY2UoXCJzdG9wXCIsZnVuY3Rpb24oKXtvLl9vbkNvbXBsZXRlKHMpfSkscy5wbGF5KG4pLHN9LHQucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5faW5zdGFuY2VzLmxlbmd0aCxlPTA7ZTx0O2UrKyl0aGlzLl9pbnN0YW5jZXNbZV0ucmVmcmVzaCgpfSx0LnByb3RvdHlwZS5yZWZyZXNoUGF1c2VkPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX2luc3RhbmNlcy5sZW5ndGgsZT0wO2U8dDtlKyspdGhpcy5faW5zdGFuY2VzW2VdLnJlZnJlc2hQYXVzZWQoKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwidm9sdW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92b2x1bWV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl92b2x1bWU9dCx0aGlzLnJlZnJlc2goKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJtdXRlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbXV0ZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9tdXRlZD10LHRoaXMucmVmcmVzaCgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImxvb3BcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvb3B9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9sb29wPXQsdGhpcy5yZWZyZXNoKCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuX3ByZWxvYWQ9ZnVuY3Rpb24odCl7dGhpcy5tZWRpYS5sb2FkKHQpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpbnN0YW5jZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlc30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJzcHJpdGVzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zcHJpdGVzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImR1cmF0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1lZGlhLmR1cmF0aW9ufSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmF1dG9QbGF5U3RhcnQ9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gdGhpcy5hdXRvUGxheSYmKHQ9dGhpcy5wbGF5KHRoaXMuX2F1dG9QbGF5T3B0aW9ucykpLHR9LHQucHJvdG90eXBlLl9yZW1vdmVJbnN0YW5jZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5faW5zdGFuY2VzLmxlbmd0aC0xO3Q+PTA7dC0tKXRoaXMuX3Bvb2xJbnN0YW5jZSh0aGlzLl9pbnN0YW5jZXNbdF0pO3RoaXMuX2luc3RhbmNlcy5sZW5ndGg9MH0sdC5wcm90b3R5cGUuX29uQ29tcGxldGU9ZnVuY3Rpb24odCl7aWYodGhpcy5faW5zdGFuY2VzKXt2YXIgZT10aGlzLl9pbnN0YW5jZXMuaW5kZXhPZih0KTtlPi0xJiZ0aGlzLl9pbnN0YW5jZXMuc3BsaWNlKGUsMSksdGhpcy5pc1BsYXlpbmc9dGhpcy5faW5zdGFuY2VzLmxlbmd0aD4wfXRoaXMuX3Bvb2xJbnN0YW5jZSh0KX0sdC5wcm90b3R5cGUuX2NyZWF0ZUluc3RhbmNlPWZ1bmN0aW9uKCl7aWYodC5fcG9vbC5sZW5ndGg+MCl7dmFyIGU9dC5fcG9vbC5wb3AoKTtyZXR1cm4gZS5pbml0KHRoaXMubWVkaWEpLGV9cmV0dXJuIHRoaXMubWVkaWEuY3JlYXRlKCl9LHQucHJvdG90eXBlLl9wb29sSW5zdGFuY2U9ZnVuY3Rpb24oZSl7ZS5kZXN0cm95KCksdC5fcG9vbC5pbmRleE9mKGUpPDAmJnQuX3Bvb2wucHVzaChlKX0sdC5fcG9vbD1bXSx0fSgpLEk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5pbml0KCl9cmV0dXJuIHQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdXBwb3J0ZWQmJih0aGlzLl93ZWJBdWRpb0NvbnRleHQ9bmV3IG0pLHRoaXMuX2h0bWxBdWRpb0NvbnRleHQ9bmV3IE8sdGhpcy5fc291bmRzPXt9LHRoaXMudXNlTGVnYWN5PSF0aGlzLnN1cHBvcnRlZCx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJjb250ZXh0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250ZXh0fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImZpbHRlcnNBbGxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXNlTGVnYWN5P1tdOnRoaXMuX2NvbnRleHQuZmlsdGVyc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudXNlTGVnYWN5fHwodGhpcy5fY29udGV4dC5maWx0ZXJzPXQpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInN1cHBvcnRlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PW0uQXVkaW9Db250ZXh0fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0KXt2YXIgbj17fTtmb3IodmFyIG8gaW4gdCl7dmFyIGk9dGhpcy5fZ2V0T3B0aW9ucyh0W29dLGUpO25bb109dGhpcy5hZGQobyxpKX1yZXR1cm4gbn1pZihcInN0cmluZ1wiPT10eXBlb2YgdCl7aWYoZSBpbnN0YW5jZW9mIEcpcmV0dXJuIHRoaXMuX3NvdW5kc1t0XT1lLGU7aT10aGlzLl9nZXRPcHRpb25zKGUpO3ZhciByPUcuZnJvbShpKTtyZXR1cm4gdGhpcy5fc291bmRzW3RdPXIscn19LHQucHJvdG90eXBlLl9nZXRPcHRpb25zPWZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIG49XCJzdHJpbmdcIj09dHlwZW9mIHQ/e3VybDp0fTp0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fHQgaW5zdGFuY2VvZiBIVE1MQXVkaW9FbGVtZW50P3tzb3VyY2U6dH06dCxuPXAoe30sbixlfHx7fSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInVzZUxlZ2FjeVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXNlTGVnYWN5fSxzZXQ6ZnVuY3Rpb24odCl7ay5sZWdhY3k9dCx0aGlzLl91c2VMZWdhY3k9dCx0aGlzLl9jb250ZXh0PSF0JiZ0aGlzLnN1cHBvcnRlZD90aGlzLl93ZWJBdWRpb0NvbnRleHQ6dGhpcy5faHRtbEF1ZGlvQ29udGV4dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZXhpc3RzKHQsITApLHRoaXMuX3NvdW5kc1t0XS5kZXN0cm95KCksZGVsZXRlIHRoaXMuX3NvdW5kc1t0XSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJ2b2x1bWVBbGxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRleHQudm9sdW1lfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fY29udGV4dC52b2x1bWU9dCx0aGlzLl9jb250ZXh0LnJlZnJlc2goKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJzcGVlZEFsbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udGV4dC5zcGVlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2NvbnRleHQuc3BlZWQ9dCx0aGlzLl9jb250ZXh0LnJlZnJlc2goKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS50b2dnbGVQYXVzZUFsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250ZXh0LnRvZ2dsZVBhdXNlKCl9LHQucHJvdG90eXBlLnBhdXNlQWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRleHQucGF1c2VkPSEwLHRoaXMuX2NvbnRleHQucmVmcmVzaFBhdXNlZCgpLHRoaXN9LHQucHJvdG90eXBlLnJlc3VtZUFsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250ZXh0LnBhdXNlZD0hMSx0aGlzLl9jb250ZXh0LnJlZnJlc2hQYXVzZWQoKSx0aGlzfSx0LnByb3RvdHlwZS50b2dnbGVNdXRlQWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRleHQudG9nZ2xlTXV0ZSgpfSx0LnByb3RvdHlwZS5tdXRlQWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRleHQubXV0ZWQ9ITAsdGhpcy5fY29udGV4dC5yZWZyZXNoKCksdGhpc30sdC5wcm90b3R5cGUudW5tdXRlQWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRleHQubXV0ZWQ9ITEsdGhpcy5fY29udGV4dC5yZWZyZXNoKCksdGhpc30sdC5wcm90b3R5cGUucmVtb3ZlQWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuX3NvdW5kcyl0aGlzLl9zb3VuZHNbdF0uZGVzdHJveSgpLGRlbGV0ZSB0aGlzLl9zb3VuZHNbdF07cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLnN0b3BBbGw9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5fc291bmRzKXRoaXMuX3NvdW5kc1t0XS5zdG9wKCk7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLmV4aXN0cz1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMSksISF0aGlzLl9zb3VuZHNbdF19LHQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZXhpc3RzKHQsITApLHRoaXMuX3NvdW5kc1t0XX0sdC5wcm90b3R5cGUucGxheT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmZpbmQodCkucGxheShlKX0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5maW5kKHQpLnN0b3AoKX0sdC5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZmluZCh0KS5wYXVzZSgpfSx0LnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZmluZCh0KS5yZXN1bWUoKX0sdC5wcm90b3R5cGUudm9sdW1lPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5maW5kKHQpO3JldHVybiB2b2lkIDAhPT1lJiYobi52b2x1bWU9ZSksbi52b2x1bWV9LHQucHJvdG90eXBlLnNwZWVkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5maW5kKHQpO3JldHVybiB2b2lkIDAhPT1lJiYobi5zcGVlZD1lKSxuLnNwZWVkfSx0LnByb3RvdHlwZS5kdXJhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5maW5kKHQpLmR1cmF0aW9ufSx0LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbW92ZUFsbCgpLHRoaXMuX3NvdW5kcz1udWxsLHRoaXMuX3dlYkF1ZGlvQ29udGV4dCYmKHRoaXMuX3dlYkF1ZGlvQ29udGV4dC5kZXN0cm95KCksdGhpcy5fd2ViQXVkaW9Db250ZXh0PW51bGwpLHRoaXMuX2h0bWxBdWRpb0NvbnRleHQmJih0aGlzLl9odG1sQXVkaW9Db250ZXh0LmRlc3Ryb3koKSx0aGlzLl9odG1sQXVkaW9Db250ZXh0PW51bGwpLHRoaXMuX2NvbnRleHQ9bnVsbCx0aGlzfSx0fSgpLFI9MDt2YXIgSz17Z2V0IFBMQVlfSUQoKXtyZXR1cm4gUn0scGxheU9uY2U6ZnVuY3Rpb24odCxlKXt2YXIgbj1cImFsaWFzXCIrUisrO3JldHVybiBoKCkuYWRkKG4se3VybDp0LHByZWxvYWQ6ITAsYXV0b1BsYXk6ITAsbG9hZGVkOmZ1bmN0aW9uKHQpe3QmJihoKCkucmVtb3ZlKG4pLGUmJmUodCkpfSxjb21wbGV0ZTpmdW5jdGlvbigpe2goKS5yZW1vdmUobiksZSYmZShudWxsKX19KSxufSxyZW5kZXI6ZnVuY3Rpb24odCxlKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO2U9cCh7d2lkdGg6NTEyLGhlaWdodDoxMjgsZmlsbDpcImJsYWNrXCJ9LGV8fHt9KSxuLndpZHRoPWUud2lkdGgsbi5oZWlnaHQ9ZS5oZWlnaHQ7dmFyIG89aS5mcm9tKG4pO2lmKCEodC5tZWRpYSBpbnN0YW5jZW9mIHkpKXJldHVybiBvO3ZhciByPXQubWVkaWEscz1uLmdldENvbnRleHQoXCIyZFwiKTtzLmZpbGxTdHlsZT1lLmZpbGw7Zm9yKHZhciB1PXIuYnVmZmVyLmdldENoYW5uZWxEYXRhKDApLGE9TWF0aC5jZWlsKHUubGVuZ3RoL2Uud2lkdGgpLGM9ZS5oZWlnaHQvMixoPTA7aDxlLndpZHRoO2grKyl7Zm9yKHZhciBsPTEsZj0tMSxkPTA7ZDxhO2QrKyl7dmFyIF89dVtoKmErZF07XzxsJiYobD1fKSxfPmYmJihmPV8pfXMuZmlsbFJlY3QoaCwoMStsKSpjLDEsTWF0aC5tYXgoMSwoZi1sKSpjKSl9cmV0dXJuIG99LHJlc29sdmVVcmw6TSxzaW5lVG9uZTpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PXQmJih0PTIwMCksdm9pZCAwPT09ZSYmKGU9MSk7dmFyIG49Ry5mcm9tKHtzaW5nbGVJbnN0YW5jZTohMH0pO2lmKCEobi5tZWRpYSBpbnN0YW5jZW9mIHkpKXJldHVybiBuO2Zvcih2YXIgbz1uLm1lZGlhLGk9bi5jb250ZXh0LmF1ZGlvQ29udGV4dC5jcmVhdGVCdWZmZXIoMSw0OGUzKmUsNDhlMykscj1pLmdldENoYW5uZWxEYXRhKDApLHM9MDtzPHIubGVuZ3RoO3MrKyl7dmFyIHU9dCoocy9pLnNhbXBsZVJhdGUpKk1hdGguUEk7cltzXT0yKk1hdGguc2luKHUpfXJldHVybiBvLmJ1ZmZlcj1pLG4uaXNMb2FkZWQ9ITAsbn0sZXh0ZW5zaW9uczp3LHN1cHBvcnRlZDpFfSxCPWZ1bmN0aW9uKHQpe3JldHVybiBjPXQsdH0obmV3IEkpO2UucmVnaXN0ZXJQbHVnaW4oayksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQix7RmlsdGVyYWJsZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHJ9fSxmaWx0ZXJzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYn19LGh0bWxhdWRpbzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGp9fSxTb3VuZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEd9fSxTb3VuZExpYnJhcnk6e2dldDpmdW5jdGlvbigpe3JldHVybiBJfX0sU291bmRTcHJpdGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBUfX0sdXRpbHM6e2dldDpmdW5jdGlvbigpe3JldHVybiBLfX0sd2ViYXVkaW86e2dldDpmdW5jdGlvbigpe3JldHVybiBnfX0sc291bmQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBCfX19KTtleHBvcnQgZGVmYXVsdCBCO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGl4aS1zb3VuZC5lc20uanMubWFwXG4iLCJpbXBvcnQgcHJvbWlzZUZpbmFsbHkgZnJvbSAnLi9maW5hbGx5JztcbmltcG9ydCBhbGxTZXR0bGVkIGZyb20gJy4vYWxsU2V0dGxlZCc7XG5cbi8vIFN0b3JlIHNldFRpbWVvdXQgcmVmZXJlbmNlIHNvIHByb21pc2UtcG9seWZpbGwgd2lsbCBiZSB1bmFmZmVjdGVkIGJ5XG4vLyBvdGhlciBjb2RlIG1vZGlmeWluZyBzZXRUaW1lb3V0IChsaWtlIHNpbm9uLnVzZUZha2VUaW1lcnMoKSlcbnZhciBzZXRUaW1lb3V0RnVuYyA9IHNldFRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGlzQXJyYXkoeCkge1xuICByZXR1cm4gQm9vbGVhbih4ICYmIHR5cGVvZiB4Lmxlbmd0aCAhPT0gJ3VuZGVmaW5lZCcpO1xufVxuXG5mdW5jdGlvbiBub29wKCkge31cblxuLy8gUG9seWZpbGwgZm9yIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kXG5mdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBmbi5hcHBseSh0aGlzQXJnLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqL1xuZnVuY3Rpb24gUHJvbWlzZShmbikge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUHJvbWlzZSkpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvbWlzZXMgbXVzdCBiZSBjb25zdHJ1Y3RlZCB2aWEgbmV3Jyk7XG4gIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBUeXBlRXJyb3IoJ25vdCBhIGZ1bmN0aW9uJyk7XG4gIC8qKiBAdHlwZSB7IW51bWJlcn0gKi9cbiAgdGhpcy5fc3RhdGUgPSAwO1xuICAvKiogQHR5cGUgeyFib29sZWFufSAqL1xuICB0aGlzLl9oYW5kbGVkID0gZmFsc2U7XG4gIC8qKiBAdHlwZSB7UHJvbWlzZXx1bmRlZmluZWR9ICovXG4gIHRoaXMuX3ZhbHVlID0gdW5kZWZpbmVkO1xuICAvKiogQHR5cGUgeyFBcnJheTwhRnVuY3Rpb24+fSAqL1xuICB0aGlzLl9kZWZlcnJlZHMgPSBbXTtcblxuICBkb1Jlc29sdmUoZm4sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGUoc2VsZiwgZGVmZXJyZWQpIHtcbiAgd2hpbGUgKHNlbGYuX3N0YXRlID09PSAzKSB7XG4gICAgc2VsZiA9IHNlbGYuX3ZhbHVlO1xuICB9XG4gIGlmIChzZWxmLl9zdGF0ZSA9PT0gMCkge1xuICAgIHNlbGYuX2RlZmVycmVkcy5wdXNoKGRlZmVycmVkKTtcbiAgICByZXR1cm47XG4gIH1cbiAgc2VsZi5faGFuZGxlZCA9IHRydWU7XG4gIFByb21pc2UuX2ltbWVkaWF0ZUZuKGZ1bmN0aW9uKCkge1xuICAgIHZhciBjYiA9IHNlbGYuX3N0YXRlID09PSAxID8gZGVmZXJyZWQub25GdWxmaWxsZWQgOiBkZWZlcnJlZC5vblJlamVjdGVkO1xuICAgIGlmIChjYiA9PT0gbnVsbCkge1xuICAgICAgKHNlbGYuX3N0YXRlID09PSAxID8gcmVzb2x2ZSA6IHJlamVjdCkoZGVmZXJyZWQucHJvbWlzZSwgc2VsZi5fdmFsdWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcmV0O1xuICAgIHRyeSB7XG4gICAgICByZXQgPSBjYihzZWxmLl92YWx1ZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGRlZmVycmVkLnByb21pc2UsIGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXNvbHZlKGRlZmVycmVkLnByb21pc2UsIHJldCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlKHNlbGYsIG5ld1ZhbHVlKSB7XG4gIHRyeSB7XG4gICAgLy8gUHJvbWlzZSBSZXNvbHV0aW9uIFByb2NlZHVyZTogaHR0cHM6Ly9naXRodWIuY29tL3Byb21pc2VzLWFwbHVzL3Byb21pc2VzLXNwZWMjdGhlLXByb21pc2UtcmVzb2x1dGlvbi1wcm9jZWR1cmVcbiAgICBpZiAobmV3VmFsdWUgPT09IHNlbGYpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBIHByb21pc2UgY2Fubm90IGJlIHJlc29sdmVkIHdpdGggaXRzZWxmLicpO1xuICAgIGlmIChcbiAgICAgIG5ld1ZhbHVlICYmXG4gICAgICAodHlwZW9mIG5ld1ZhbHVlID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgbmV3VmFsdWUgPT09ICdmdW5jdGlvbicpXG4gICAgKSB7XG4gICAgICB2YXIgdGhlbiA9IG5ld1ZhbHVlLnRoZW47XG4gICAgICBpZiAobmV3VmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHNlbGYuX3N0YXRlID0gMztcbiAgICAgICAgc2VsZi5fdmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgZmluYWxlKHNlbGYpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGRvUmVzb2x2ZShiaW5kKHRoZW4sIG5ld1ZhbHVlKSwgc2VsZik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgc2VsZi5fc3RhdGUgPSAxO1xuICAgIHNlbGYuX3ZhbHVlID0gbmV3VmFsdWU7XG4gICAgZmluYWxlKHNlbGYpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmVqZWN0KHNlbGYsIGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlamVjdChzZWxmLCBuZXdWYWx1ZSkge1xuICBzZWxmLl9zdGF0ZSA9IDI7XG4gIHNlbGYuX3ZhbHVlID0gbmV3VmFsdWU7XG4gIGZpbmFsZShzZWxmKTtcbn1cblxuZnVuY3Rpb24gZmluYWxlKHNlbGYpIHtcbiAgaWYgKHNlbGYuX3N0YXRlID09PSAyICYmIHNlbGYuX2RlZmVycmVkcy5sZW5ndGggPT09IDApIHtcbiAgICBQcm9taXNlLl9pbW1lZGlhdGVGbihmdW5jdGlvbigpIHtcbiAgICAgIGlmICghc2VsZi5faGFuZGxlZCkge1xuICAgICAgICBQcm9taXNlLl91bmhhbmRsZWRSZWplY3Rpb25GbihzZWxmLl92YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gc2VsZi5fZGVmZXJyZWRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaGFuZGxlKHNlbGYsIHNlbGYuX2RlZmVycmVkc1tpXSk7XG4gIH1cbiAgc2VsZi5fZGVmZXJyZWRzID0gbnVsbDtcbn1cblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gSGFuZGxlcihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgcHJvbWlzZSkge1xuICB0aGlzLm9uRnVsZmlsbGVkID0gdHlwZW9mIG9uRnVsZmlsbGVkID09PSAnZnVuY3Rpb24nID8gb25GdWxmaWxsZWQgOiBudWxsO1xuICB0aGlzLm9uUmVqZWN0ZWQgPSB0eXBlb2Ygb25SZWplY3RlZCA9PT0gJ2Z1bmN0aW9uJyA/IG9uUmVqZWN0ZWQgOiBudWxsO1xuICB0aGlzLnByb21pc2UgPSBwcm9taXNlO1xufVxuXG4vKipcbiAqIFRha2UgYSBwb3RlbnRpYWxseSBtaXNiZWhhdmluZyByZXNvbHZlciBmdW5jdGlvbiBhbmQgbWFrZSBzdXJlXG4gKiBvbkZ1bGZpbGxlZCBhbmQgb25SZWplY3RlZCBhcmUgb25seSBjYWxsZWQgb25jZS5cbiAqXG4gKiBNYWtlcyBubyBndWFyYW50ZWVzIGFib3V0IGFzeW5jaHJvbnkuXG4gKi9cbmZ1bmN0aW9uIGRvUmVzb2x2ZShmbiwgc2VsZikge1xuICB2YXIgZG9uZSA9IGZhbHNlO1xuICB0cnkge1xuICAgIGZuKFxuICAgICAgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKGRvbmUpIHJldHVybjtcbiAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgIHJlc29sdmUoc2VsZiwgdmFsdWUpO1xuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICBpZiAoZG9uZSkgcmV0dXJuO1xuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgcmVqZWN0KHNlbGYsIHJlYXNvbik7XG4gICAgICB9XG4gICAgKTtcbiAgfSBjYXRjaCAoZXgpIHtcbiAgICBpZiAoZG9uZSkgcmV0dXJuO1xuICAgIGRvbmUgPSB0cnVlO1xuICAgIHJlamVjdChzZWxmLCBleCk7XG4gIH1cbn1cblxuUHJvbWlzZS5wcm90b3R5cGVbJ2NhdGNoJ10gPSBmdW5jdGlvbihvblJlamVjdGVkKSB7XG4gIHJldHVybiB0aGlzLnRoZW4obnVsbCwgb25SZWplY3RlZCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgLy8gQHRzLWlnbm9yZVxuICB2YXIgcHJvbSA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKG5vb3ApO1xuXG4gIGhhbmRsZSh0aGlzLCBuZXcgSGFuZGxlcihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgcHJvbSkpO1xuICByZXR1cm4gcHJvbTtcbn07XG5cblByb21pc2UucHJvdG90eXBlWydmaW5hbGx5J10gPSBwcm9taXNlRmluYWxseTtcblxuUHJvbWlzZS5hbGwgPSBmdW5jdGlvbihhcnIpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGlmICghaXNBcnJheShhcnIpKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ1Byb21pc2UuYWxsIGFjY2VwdHMgYW4gYXJyYXknKSk7XG4gICAgfVxuXG4gICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnIpO1xuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHJlc29sdmUoW10pO1xuICAgIHZhciByZW1haW5pbmcgPSBhcmdzLmxlbmd0aDtcblxuICAgIGZ1bmN0aW9uIHJlcyhpLCB2YWwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICh2YWwgJiYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgICAgdmFyIHRoZW4gPSB2YWwudGhlbjtcbiAgICAgICAgICBpZiAodHlwZW9mIHRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoZW4uY2FsbChcbiAgICAgICAgICAgICAgdmFsLFxuICAgICAgICAgICAgICBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgICByZXMoaSwgdmFsKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcmVqZWN0XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhcmdzW2ldID0gdmFsO1xuICAgICAgICBpZiAoLS1yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICByZXNvbHZlKGFyZ3MpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICByZWplY3QoZXgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgcmVzKGksIGFyZ3NbaV0pO1xuICAgIH1cbiAgfSk7XG59O1xuXG5Qcm9taXNlLmFsbFNldHRsZWQgPSBhbGxTZXR0bGVkO1xuXG5Qcm9taXNlLnJlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gUHJvbWlzZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG4gIH0pO1xufTtcblxuUHJvbWlzZS5yZWplY3QgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgcmVqZWN0KHZhbHVlKTtcbiAgfSk7XG59O1xuXG5Qcm9taXNlLnJhY2UgPSBmdW5jdGlvbihhcnIpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGlmICghaXNBcnJheShhcnIpKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ1Byb21pc2UucmFjZSBhY2NlcHRzIGFuIGFycmF5JykpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIFByb21pc2UucmVzb2x2ZShhcnJbaV0pLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICB9XG4gIH0pO1xufTtcblxuLy8gVXNlIHBvbHlmaWxsIGZvciBzZXRJbW1lZGlhdGUgZm9yIHBlcmZvcm1hbmNlIGdhaW5zXG5Qcm9taXNlLl9pbW1lZGlhdGVGbiA9XG4gIC8vIEB0cy1pZ25vcmVcbiAgKHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09ICdmdW5jdGlvbicgJiZcbiAgICBmdW5jdGlvbihmbikge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgc2V0SW1tZWRpYXRlKGZuKTtcbiAgICB9KSB8fFxuICBmdW5jdGlvbihmbikge1xuICAgIHNldFRpbWVvdXRGdW5jKGZuLCAwKTtcbiAgfTtcblxuUHJvbWlzZS5fdW5oYW5kbGVkUmVqZWN0aW9uRm4gPSBmdW5jdGlvbiBfdW5oYW5kbGVkUmVqZWN0aW9uRm4oZXJyKSB7XG4gIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uc29sZSkge1xuICAgIGNvbnNvbGUud2FybignUG9zc2libGUgVW5oYW5kbGVkIFByb21pc2UgUmVqZWN0aW9uOicsIGVycik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQcm9taXNlO1xuIiwiLyoqXG4gKiBAdGhpcyB7UHJvbWlzZX1cbiAqL1xuZnVuY3Rpb24gZmluYWxseUNvbnN0cnVjdG9yKGNhbGxiYWNrKSB7XG4gIHZhciBjb25zdHJ1Y3RvciA9IHRoaXMuY29uc3RydWN0b3I7XG4gIHJldHVybiB0aGlzLnRoZW4oXG4gICAgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZXNvbHZlKGNhbGxiYWNrKCkpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICByZXR1cm4gY29uc3RydWN0b3IucmVzb2x2ZShjYWxsYmFjaygpKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZWplY3QocmVhc29uKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZmluYWxseUNvbnN0cnVjdG9yO1xuIiwiZnVuY3Rpb24gYWxsU2V0dGxlZChhcnIpIHtcbiAgdmFyIFAgPSB0aGlzO1xuICByZXR1cm4gbmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgaWYgKCEoYXJyICYmIHR5cGVvZiBhcnIubGVuZ3RoICE9PSAndW5kZWZpbmVkJykpIHtcbiAgICAgIHJldHVybiByZWplY3QoXG4gICAgICAgIG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgdHlwZW9mIGFyciArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgYXJyICtcbiAgICAgICAgICAgICcgaXMgbm90IGl0ZXJhYmxlKGNhbm5vdCByZWFkIHByb3BlcnR5IFN5bWJvbChTeW1ib2wuaXRlcmF0b3IpKSdcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnIpO1xuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHJlc29sdmUoW10pO1xuICAgIHZhciByZW1haW5pbmcgPSBhcmdzLmxlbmd0aDtcblxuICAgIGZ1bmN0aW9uIHJlcyhpLCB2YWwpIHtcbiAgICAgIGlmICh2YWwgJiYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgIHZhciB0aGVuID0gdmFsLnRoZW47XG4gICAgICAgIGlmICh0eXBlb2YgdGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoZW4uY2FsbChcbiAgICAgICAgICAgIHZhbCxcbiAgICAgICAgICAgIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICByZXMoaSwgdmFsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgIGFyZ3NbaV0gPSB7IHN0YXR1czogJ3JlamVjdGVkJywgcmVhc29uOiBlIH07XG4gICAgICAgICAgICAgIGlmICgtLXJlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoYXJncyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXJnc1tpXSA9IHsgc3RhdHVzOiAnZnVsZmlsbGVkJywgdmFsdWU6IHZhbCB9O1xuICAgICAgaWYgKC0tcmVtYWluaW5nID09PSAwKSB7XG4gICAgICAgIHJlc29sdmUoYXJncyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXMoaSwgYXJnc1tpXSk7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYWxsU2V0dGxlZDtcbiIsIi8qIVxuICogQHBpeGkvcG9seWZpbGwgLSB2Ni4wLjBcbiAqIENvbXBpbGVkIFR1ZSwgMDIgTWFyIDIwMjEgMjE6NDU6MDMgVVRDXG4gKlxuICogQHBpeGkvcG9seWZpbGwgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgUG9seWZpbGwgZnJvbSAncHJvbWlzZS1wb2x5ZmlsbCc7XG5pbXBvcnQgb2JqZWN0QXNzaWduIGZyb20gJ29iamVjdC1hc3NpZ24nO1xuXG4vLyBTdXBwb3J0IGZvciBJRSA5IC0gMTEgd2hpY2ggZG9lcyBub3QgaW5jbHVkZSBQcm9taXNlc1xuaWYgKCFzZWxmLlByb21pc2UpIHtcbiAgICBzZWxmLlByb21pc2UgPSBQb2x5ZmlsbDtcbn1cblxuLy8gUmVmZXJlbmNlczpcbmlmICghT2JqZWN0LmFzc2lnbikge1xuICAgIE9iamVjdC5hc3NpZ24gPSBvYmplY3RBc3NpZ247XG59XG5cbi8vIFJlZmVyZW5jZXM6XG4vLyBodHRwOi8vcGF1bGlyaXNoLmNvbS8yMDExL3JlcXVlc3RhbmltYXRpb25mcmFtZS1mb3Itc21hcnQtYW5pbWF0aW5nL1xuLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vMTU3OTY3MVxuLy8gaHR0cDovL3VwZGF0ZXMuaHRtbDVyb2Nrcy5jb20vMjAxMi8wNS9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUtQVBJLW5vdy13aXRoLXN1Yi1taWxsaXNlY29uZC1wcmVjaXNpb25cbi8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3RpbWhhbGwvNDA3ODYxNFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL0ZpbmFuY2lhbC1UaW1lcy9wb2x5ZmlsbC1zZXJ2aWNlL3RyZWUvbWFzdGVyL3BvbHlmaWxscy9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbi8vIEV4cGVjdGVkIHRvIGJlIHVzZWQgd2l0aCBCcm93c2VyZml5XG4vLyBCcm93c2VyaWZ5IGF1dG9tYXRpY2FsbHkgZGV0ZWN0cyB0aGUgdXNlIG9mIGBnbG9iYWxgIGFuZCBwYXNzZXMgdGhlXG4vLyBjb3JyZWN0IHJlZmVyZW5jZSBvZiBgZ2xvYmFsYCwgYHNlbGZgLCBhbmQgZmluYWxseSBgd2luZG93YFxudmFyIE9ORV9GUkFNRV9USU1FID0gMTY7XG4vLyBEYXRlLm5vd1xuaWYgKCEoRGF0ZS5ub3cgJiYgRGF0ZS5wcm90b3R5cGUuZ2V0VGltZSkpIHtcbiAgICBEYXRlLm5vdyA9IGZ1bmN0aW9uIG5vdygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIH07XG59XG4vLyBwZXJmb3JtYW5jZS5ub3dcbmlmICghKHNlbGYucGVyZm9ybWFuY2UgJiYgc2VsZi5wZXJmb3JtYW5jZS5ub3cpKSB7XG4gICAgdmFyIHN0YXJ0VGltZV8xID0gRGF0ZS5ub3coKTtcbiAgICBpZiAoIXNlbGYucGVyZm9ybWFuY2UpIHtcbiAgICAgICAgc2VsZi5wZXJmb3JtYW5jZSA9IHt9O1xuICAgIH1cbiAgICBzZWxmLnBlcmZvcm1hbmNlLm5vdyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIERhdGUubm93KCkgLSBzdGFydFRpbWVfMTsgfTtcbn1cbi8vIHJlcXVlc3RBbmltYXRpb25GcmFtZVxudmFyIGxhc3RUaW1lID0gRGF0ZS5ub3coKTtcbnZhciB2ZW5kb3JzID0gWydtcycsICdtb3onLCAnd2Via2l0JywgJ28nXTtcbmZvciAodmFyIHggPSAwOyB4IDwgdmVuZG9ycy5sZW5ndGggJiYgIXNlbGYucmVxdWVzdEFuaW1hdGlvbkZyYW1lOyArK3gpIHtcbiAgICB2YXIgcCA9IHZlbmRvcnNbeF07XG4gICAgc2VsZi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBzZWxmW3AgKyBcIlJlcXVlc3RBbmltYXRpb25GcmFtZVwiXTtcbiAgICBzZWxmLmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gc2VsZltwICsgXCJDYW5jZWxBbmltYXRpb25GcmFtZVwiXVxuICAgICAgICB8fCBzZWxmW3AgKyBcIkNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZVwiXTtcbn1cbmlmICghc2VsZi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcbiAgICBzZWxmLnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGNhbGxiYWNrICsgXCJpcyBub3QgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgZGVsYXkgPSBPTkVfRlJBTUVfVElNRSArIGxhc3RUaW1lIC0gY3VycmVudFRpbWU7XG4gICAgICAgIGlmIChkZWxheSA8IDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBsYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xuICAgICAgICByZXR1cm4gc2VsZi5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxhc3RUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgICAgfSwgZGVsYXkpO1xuICAgIH07XG59XG5pZiAoIXNlbGYuY2FuY2VsQW5pbWF0aW9uRnJhbWUpIHtcbiAgICBzZWxmLmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24gKGlkKSB7IHJldHVybiBjbGVhclRpbWVvdXQoaWQpOyB9O1xufVxuXG4vLyBSZWZlcmVuY2VzOlxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaWduXG5pZiAoIU1hdGguc2lnbikge1xuICAgIE1hdGguc2lnbiA9IGZ1bmN0aW9uIG1hdGhTaWduKHgpIHtcbiAgICAgICAgeCA9IE51bWJlcih4KTtcbiAgICAgICAgaWYgKHggPT09IDAgfHwgaXNOYU4oeCkpIHtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB4ID4gMCA/IDEgOiAtMTtcbiAgICB9O1xufVxuXG4vLyBSZWZlcmVuY2VzOlxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTnVtYmVyL2lzSW50ZWdlclxuaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKSB7XG4gICAgTnVtYmVyLmlzSW50ZWdlciA9IGZ1bmN0aW9uIG51bWJlcklzSW50ZWdlcih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSh2YWx1ZSkgJiYgTWF0aC5mbG9vcih2YWx1ZSkgPT09IHZhbHVlO1xuICAgIH07XG59XG5cbmlmICghc2VsZi5BcnJheUJ1ZmZlcikge1xuICAgIHNlbGYuQXJyYXlCdWZmZXIgPSBBcnJheTtcbn1cbmlmICghc2VsZi5GbG9hdDMyQXJyYXkpIHtcbiAgICBzZWxmLkZsb2F0MzJBcnJheSA9IEFycmF5O1xufVxuaWYgKCFzZWxmLlVpbnQzMkFycmF5KSB7XG4gICAgc2VsZi5VaW50MzJBcnJheSA9IEFycmF5O1xufVxuaWYgKCFzZWxmLlVpbnQxNkFycmF5KSB7XG4gICAgc2VsZi5VaW50MTZBcnJheSA9IEFycmF5O1xufVxuaWYgKCFzZWxmLlVpbnQ4QXJyYXkpIHtcbiAgICBzZWxmLlVpbnQ4QXJyYXkgPSBBcnJheTtcbn1cbmlmICghc2VsZi5JbnQzMkFycmF5KSB7XG4gICAgc2VsZi5JbnQzMkFycmF5ID0gQXJyYXk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wb2x5ZmlsbC5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZGlzcGxheSAtIHY2LjAuMFxuICogQ29tcGlsZWQgVHVlLCAwMiBNYXIgMjAyMSAyMTo0NTowMyBVVENcbiAqXG4gKiBAcGl4aS9kaXNwbGF5IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUsIFJBRF9UT19ERUcsIERFR19UT19SQUQsIFRyYW5zZm9ybSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyLCByZW1vdmVJdGVtcyB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyoqXG4gKiBTZXRzIHRoZSBkZWZhdWx0IHZhbHVlIGZvciB0aGUgY29udGFpbmVyIHByb3BlcnR5ICdzb3J0YWJsZUNoaWxkcmVuJy5cbiAqIElmIHNldCB0byB0cnVlLCB0aGUgY29udGFpbmVyIHdpbGwgc29ydCBpdHMgY2hpbGRyZW4gYnkgekluZGV4IHZhbHVlXG4gKiB3aGVuIHVwZGF0ZVRyYW5zZm9ybSgpIGlzIGNhbGxlZCwgb3IgbWFudWFsbHkgaWYgc29ydENoaWxkcmVuKCkgaXMgY2FsbGVkLlxuICpcbiAqIFRoaXMgYWN0dWFsbHkgY2hhbmdlcyB0aGUgb3JkZXIgb2YgZWxlbWVudHMgaW4gdGhlIGFycmF5LCBzbyBzaG91bGQgYmUgdHJlYXRlZFxuICogYXMgYSBiYXNpYyBzb2x1dGlvbiB0aGF0IGlzIG5vdCBwZXJmb3JtYW50IGNvbXBhcmVkIHRvIG90aGVyIHNvbHV0aW9ucyxcbiAqIHN1Y2ggYXMgQGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLWRpc3BsYXlcbiAqXG4gKiBBbHNvIGJlIGF3YXJlIG9mIHRoYXQgdGhpcyBtYXkgbm90IHdvcmsgbmljZWx5IHdpdGggdGhlIGFkZENoaWxkQXQoKSBmdW5jdGlvbixcbiAqIGFzIHRoZSB6SW5kZXggc29ydGluZyBtYXkgY2F1c2UgdGhlIGNoaWxkIHRvIGF1dG9tYXRpY2FsbHkgc29ydGVkIHRvIGFub3RoZXIgcG9zaXRpb24uXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBTT1JUQUJMRV9DSElMRFJFTlxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtib29sZWFufVxuICogQGRlZmF1bHQgZmFsc2VcbiAqL1xuc2V0dGluZ3MuU09SVEFCTEVfQ0hJTERSRU4gPSBmYWxzZTtcblxuLyoqXG4gKiAnQnVpbGRlcicgcGF0dGVybiBmb3IgYm91bmRzIHJlY3RhbmdsZXMuXG4gKlxuICogVGhpcyBjb3VsZCBiZSBjYWxsZWQgYW4gQXhpcy1BbGlnbmVkIEJvdW5kaW5nIEJveC5cbiAqIEl0IGlzIG5vdCBhbiBhY3R1YWwgc2hhcGUuIEl0IGlzIGEgbXV0YWJsZSB0aGluZzsgbm8gJ0VNUFRZJyBvciB0aG9zZSBraW5kIG9mIHByb2JsZW1zLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJvdW5kcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCb3VuZHMoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWluWCA9IEluZmluaXR5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1pblkgPSBJbmZpbml0eTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhYID0gLUluZmluaXR5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heFkgPSAtSW5maW5pdHk7XG4gICAgICAgIHRoaXMucmVjdCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJdCBpcyB1cGRhdGVkIHRvIF9ib3VuZHNJRCBvZiBjb3JyZXNwb25kaW5nIG9iamVjdCB0byBrZWVwIGJvdW5kcyBpbiBzeW5jIHdpdGggY29udGVudC5cbiAgICAgICAgICogVXBkYXRlZCBmcm9tIG91dHNpZGUsIHRodXMgcHVibGljIG1vZGlmaWVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwdWJsaWNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXBkYXRlSUQgPSAtMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGJvdW5kcyBhcmUgZW1wdHkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGVtcHR5LlxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluWCA+IHRoaXMubWF4WCB8fCB0aGlzLm1pblkgPiB0aGlzLm1heFk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGJvdW5kcyBhbmQgcmVzZXRzLlxuICAgICAqXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5taW5YID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWluWSA9IEluZmluaXR5O1xuICAgICAgICB0aGlzLm1heFggPSAtSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWF4WSA9IC1JbmZpbml0eTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbiByZXR1cm4gUmVjdGFuZ2xlLkVNUFRZIGNvbnN0YW50LCBlaXRoZXIgY29uc3RydWN0IG5ldyByZWN0YW5nbGUsIGVpdGhlciB1c2UgeW91ciByZWN0YW5nbGVcbiAgICAgKiBJdCBpcyBub3QgZ3VhcmFudGVlZCB0aGF0IGl0IHdpbGwgcmV0dXJuIHRlbXBSZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gdGVtcG9yYXJ5IG9iamVjdCB3aWxsIGJlIHVzZWQgaWYgQUFCQiBpcyBub3QgZW1wdHlcbiAgICAgKiBAcmV0dXJucyB7UElYSS5SZWN0YW5nbGV9IEEgcmVjdGFuZ2xlIG9mIHRoZSBib3VuZHNcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmdldFJlY3RhbmdsZSA9IGZ1bmN0aW9uIChyZWN0KSB7XG4gICAgICAgIGlmICh0aGlzLm1pblggPiB0aGlzLm1heFggfHwgdGhpcy5taW5ZID4gdGhpcy5tYXhZKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVjdGFuZ2xlLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIHJlY3QgPSByZWN0IHx8IG5ldyBSZWN0YW5nbGUoMCwgMCwgMSwgMSk7XG4gICAgICAgIHJlY3QueCA9IHRoaXMubWluWDtcbiAgICAgICAgcmVjdC55ID0gdGhpcy5taW5ZO1xuICAgICAgICByZWN0LndpZHRoID0gdGhpcy5tYXhYIC0gdGhpcy5taW5YO1xuICAgICAgICByZWN0LmhlaWdodCA9IHRoaXMubWF4WSAtIHRoaXMubWluWTtcbiAgICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBiZSBpbmxpbmVkIHdoZW4gaXRzIHBvc3NpYmxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHBvaW50IC0gVGhlIHBvaW50IHRvIGFkZC5cbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZFBvaW50ID0gZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgIHRoaXMubWluWCA9IE1hdGgubWluKHRoaXMubWluWCwgcG9pbnQueCk7XG4gICAgICAgIHRoaXMubWF4WCA9IE1hdGgubWF4KHRoaXMubWF4WCwgcG9pbnQueCk7XG4gICAgICAgIHRoaXMubWluWSA9IE1hdGgubWluKHRoaXMubWluWSwgcG9pbnQueSk7XG4gICAgICAgIHRoaXMubWF4WSA9IE1hdGgubWF4KHRoaXMubWF4WSwgcG9pbnQueSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcG9pbnQsIGFmdGVyIHRyYW5zZm9ybWVkLiBUaGlzIHNob3VsZCBiZSBpbmxpbmVkIHdoZW4gaXRzIHBvc3NpYmxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG1hdHJpeFxuICAgICAqIEBwYXJhbSBwb2ludFxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkUG9pbnRNYXRyaXggPSBmdW5jdGlvbiAobWF0cml4LCBwb2ludCkge1xuICAgICAgICB2YXIgYSA9IG1hdHJpeC5hLCBiID0gbWF0cml4LmIsIGMgPSBtYXRyaXguYywgZCA9IG1hdHJpeC5kLCB0eCA9IG1hdHJpeC50eCwgdHkgPSBtYXRyaXgudHk7XG4gICAgICAgIHZhciB4ID0gKGEgKiBwb2ludC54KSArIChjICogcG9pbnQueSkgKyB0eDtcbiAgICAgICAgdmFyIHkgPSAoYiAqIHBvaW50LngpICsgKGQgKiBwb2ludC55KSArIHR5O1xuICAgICAgICB0aGlzLm1pblggPSBNYXRoLm1pbih0aGlzLm1pblgsIHgpO1xuICAgICAgICB0aGlzLm1heFggPSBNYXRoLm1heCh0aGlzLm1heFgsIHgpO1xuICAgICAgICB0aGlzLm1pblkgPSBNYXRoLm1pbih0aGlzLm1pblksIHkpO1xuICAgICAgICB0aGlzLm1heFkgPSBNYXRoLm1heCh0aGlzLm1heFksIHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHF1YWQsIG5vdCB0cmFuc2Zvcm1lZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRpY2VzIC0gVGhlIHZlcnRzIHRvIGFkZC5cbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZFF1YWQgPSBmdW5jdGlvbiAodmVydGljZXMpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG4gICAgICAgIHZhciB4ID0gdmVydGljZXNbMF07XG4gICAgICAgIHZhciB5ID0gdmVydGljZXNbMV07XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB4ID0gdmVydGljZXNbMl07XG4gICAgICAgIHkgPSB2ZXJ0aWNlc1szXTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIHggPSB2ZXJ0aWNlc1s0XTtcbiAgICAgICAgeSA9IHZlcnRpY2VzWzVdO1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgeCA9IHZlcnRpY2VzWzZdO1xuICAgICAgICB5ID0gdmVydGljZXNbN107XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBzcHJpdGUgZnJhbWUsIHRyYW5zZm9ybWVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gdHJhbnNmb3JtIC0gdHJhbnNmb3JtIHRvIGFwcGx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgwIC0gbGVmdCBYIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkwIC0gdG9wIFkgb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDEgLSByaWdodCBYIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkxIC0gYm90dG9tIFkgb2YgZnJhbWVcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEZyYW1lID0gZnVuY3Rpb24gKHRyYW5zZm9ybSwgeDAsIHkwLCB4MSwgeTEpIHtcbiAgICAgICAgdGhpcy5hZGRGcmFtZU1hdHJpeCh0cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0sIHgwLCB5MCwgeDEsIHkxKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgc3ByaXRlIGZyYW1lLCBtdWx0aXBsaWVkIGJ5IG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gbWF0cml4IHRvIGFwcGx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgwIC0gbGVmdCBYIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkwIC0gdG9wIFkgb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDEgLSByaWdodCBYIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkxIC0gYm90dG9tIFkgb2YgZnJhbWVcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEZyYW1lTWF0cml4ID0gZnVuY3Rpb24gKG1hdHJpeCwgeDAsIHkwLCB4MSwgeTEpIHtcbiAgICAgICAgdmFyIGEgPSBtYXRyaXguYTtcbiAgICAgICAgdmFyIGIgPSBtYXRyaXguYjtcbiAgICAgICAgdmFyIGMgPSBtYXRyaXguYztcbiAgICAgICAgdmFyIGQgPSBtYXRyaXguZDtcbiAgICAgICAgdmFyIHR4ID0gbWF0cml4LnR4O1xuICAgICAgICB2YXIgdHkgPSBtYXRyaXgudHk7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgICB2YXIgeCA9IChhICogeDApICsgKGMgKiB5MCkgKyB0eDtcbiAgICAgICAgdmFyIHkgPSAoYiAqIHgwKSArIChkICogeTApICsgdHk7XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB4ID0gKGEgKiB4MSkgKyAoYyAqIHkwKSArIHR4O1xuICAgICAgICB5ID0gKGIgKiB4MSkgKyAoZCAqIHkwKSArIHR5O1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgeCA9IChhICogeDApICsgKGMgKiB5MSkgKyB0eDtcbiAgICAgICAgeSA9IChiICogeDApICsgKGQgKiB5MSkgKyB0eTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIHggPSAoYSAqIHgxKSArIChjICogeTEpICsgdHg7XG4gICAgICAgIHkgPSAoYiAqIHgxKSArIChkICogeTEpICsgdHk7XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBzY3JlZW4gdmVydGljZXMgZnJvbSBhcnJheVxuICAgICAqXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRleERhdGEgLSBjYWxjdWxhdGVkIHZlcnRpY2VzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJlZ2luT2Zmc2V0IC0gYmVnaW4gb2Zmc2V0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZE9mZnNldCAtIGVuZCBvZmZzZXQsIGV4Y2x1ZGVkXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRWZXJ0ZXhEYXRhID0gZnVuY3Rpb24gKHZlcnRleERhdGEsIGJlZ2luT2Zmc2V0LCBlbmRPZmZzZXQpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG4gICAgICAgIGZvciAodmFyIGkgPSBiZWdpbk9mZnNldDsgaSA8IGVuZE9mZnNldDsgaSArPSAyKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHZlcnRleERhdGFbaV07XG4gICAgICAgICAgICB2YXIgeSA9IHZlcnRleERhdGFbaSArIDFdO1xuICAgICAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBhbiBhcnJheSBvZiBtZXNoIHZlcnRpY2VzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gLSBtZXNoIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0aWNlcyAtIG1lc2ggY29vcmRpbmF0ZXMgaW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYmVnaW5PZmZzZXQgLSBiZWdpbiBvZmZzZXRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kT2Zmc2V0IC0gZW5kIG9mZnNldCwgZXhjbHVkZWRcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZFZlcnRpY2VzID0gZnVuY3Rpb24gKHRyYW5zZm9ybSwgdmVydGljZXMsIGJlZ2luT2Zmc2V0LCBlbmRPZmZzZXQpIHtcbiAgICAgICAgdGhpcy5hZGRWZXJ0aWNlc01hdHJpeCh0cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0sIHZlcnRpY2VzLCBiZWdpbk9mZnNldCwgZW5kT2Zmc2V0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBhbiBhcnJheSBvZiBtZXNoIHZlcnRpY2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gbWVzaCBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdmVydGljZXMgLSBtZXNoIGNvb3JkaW5hdGVzIGluIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJlZ2luT2Zmc2V0IC0gYmVnaW4gb2Zmc2V0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZE9mZnNldCAtIGVuZCBvZmZzZXQsIGV4Y2x1ZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYWRYPTBdIC0geCBwYWRkaW5nXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYWRZPTBdIC0geSBwYWRkaW5nXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRWZXJ0aWNlc01hdHJpeCA9IGZ1bmN0aW9uIChtYXRyaXgsIHZlcnRpY2VzLCBiZWdpbk9mZnNldCwgZW5kT2Zmc2V0LCBwYWRYLCBwYWRZKSB7XG4gICAgICAgIGlmIChwYWRYID09PSB2b2lkIDApIHsgcGFkWCA9IDA7IH1cbiAgICAgICAgaWYgKHBhZFkgPT09IHZvaWQgMCkgeyBwYWRZID0gcGFkWDsgfVxuICAgICAgICB2YXIgYSA9IG1hdHJpeC5hO1xuICAgICAgICB2YXIgYiA9IG1hdHJpeC5iO1xuICAgICAgICB2YXIgYyA9IG1hdHJpeC5jO1xuICAgICAgICB2YXIgZCA9IG1hdHJpeC5kO1xuICAgICAgICB2YXIgdHggPSBtYXRyaXgudHg7XG4gICAgICAgIHZhciB0eSA9IG1hdHJpeC50eTtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG4gICAgICAgIGZvciAodmFyIGkgPSBiZWdpbk9mZnNldDsgaSA8IGVuZE9mZnNldDsgaSArPSAyKSB7XG4gICAgICAgICAgICB2YXIgcmF3WCA9IHZlcnRpY2VzW2ldO1xuICAgICAgICAgICAgdmFyIHJhd1kgPSB2ZXJ0aWNlc1tpICsgMV07XG4gICAgICAgICAgICB2YXIgeCA9IChhICogcmF3WCkgKyAoYyAqIHJhd1kpICsgdHg7XG4gICAgICAgICAgICB2YXIgeSA9IChkICogcmF3WSkgKyAoYiAqIHJhd1gpICsgdHk7XG4gICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgeCAtIHBhZFgpO1xuICAgICAgICAgICAgbWF4WCA9IE1hdGgubWF4KG1heFgsIHggKyBwYWRYKTtcbiAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCB5IC0gcGFkWSk7XG4gICAgICAgICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgeSArIHBhZFkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IG1heFk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Cb3VuZHN9IGJvdW5kcyAtIFRoZSBCb3VuZHMgdG8gYmUgYWRkZWRcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEJvdW5kcyA9IGZ1bmN0aW9uIChib3VuZHMpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG4gICAgICAgIHRoaXMubWluWCA9IGJvdW5kcy5taW5YIDwgbWluWCA/IGJvdW5kcy5taW5YIDogbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gYm91bmRzLm1pblkgPCBtaW5ZID8gYm91bmRzLm1pblkgOiBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBib3VuZHMubWF4WCA+IG1heFggPyBib3VuZHMubWF4WCA6IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IGJvdW5kcy5tYXhZID4gbWF4WSA/IGJvdW5kcy5tYXhZIDogbWF4WTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgb3RoZXIgQm91bmRzLCBtYXNrZWQgd2l0aCBCb3VuZHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBUaGUgQm91bmRzIHRvIGJlIGFkZGVkLlxuICAgICAqIEBwYXJhbSB7UElYSS5Cb3VuZHN9IG1hc2sgLSBUT0RPXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHNNYXNrID0gZnVuY3Rpb24gKGJvdW5kcywgbWFzaykge1xuICAgICAgICB2YXIgX21pblggPSBib3VuZHMubWluWCA+IG1hc2subWluWCA/IGJvdW5kcy5taW5YIDogbWFzay5taW5YO1xuICAgICAgICB2YXIgX21pblkgPSBib3VuZHMubWluWSA+IG1hc2subWluWSA/IGJvdW5kcy5taW5ZIDogbWFzay5taW5ZO1xuICAgICAgICB2YXIgX21heFggPSBib3VuZHMubWF4WCA8IG1hc2subWF4WCA/IGJvdW5kcy5tYXhYIDogbWFzay5tYXhYO1xuICAgICAgICB2YXIgX21heFkgPSBib3VuZHMubWF4WSA8IG1hc2subWF4WSA/IGJvdW5kcy5tYXhZIDogbWFzay5tYXhZO1xuICAgICAgICBpZiAoX21pblggPD0gX21heFggJiYgX21pblkgPD0gX21heFkpIHtcbiAgICAgICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgICAgICAgdGhpcy5taW5YID0gX21pblggPCBtaW5YID8gX21pblggOiBtaW5YO1xuICAgICAgICAgICAgdGhpcy5taW5ZID0gX21pblkgPCBtaW5ZID8gX21pblkgOiBtaW5ZO1xuICAgICAgICAgICAgdGhpcy5tYXhYID0gX21heFggPiBtYXhYID8gX21heFggOiBtYXhYO1xuICAgICAgICAgICAgdGhpcy5tYXhZID0gX21heFkgPiBtYXhZID8gX21heFkgOiBtYXhZO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kcywgbXVsdGlwbGllZCBieSBtYXRyaXguIEJvdW5kcyBzaG91bGRuJ3QgYmUgZW1wdHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBvdGhlciBib3VuZHNcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBtdWx0aXBsaWNhdG9yXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHNNYXRyaXggPSBmdW5jdGlvbiAoYm91bmRzLCBtYXRyaXgpIHtcbiAgICAgICAgdGhpcy5hZGRGcmFtZU1hdHJpeChtYXRyaXgsIGJvdW5kcy5taW5YLCBib3VuZHMubWluWSwgYm91bmRzLm1heFgsIGJvdW5kcy5tYXhZKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgb3RoZXIgQm91bmRzLCBtYXNrZWQgd2l0aCBSZWN0YW5nbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBUT0RPXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gYXJlYSAtIFRPRE9cbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEJvdW5kc0FyZWEgPSBmdW5jdGlvbiAoYm91bmRzLCBhcmVhKSB7XG4gICAgICAgIHZhciBfbWluWCA9IGJvdW5kcy5taW5YID4gYXJlYS54ID8gYm91bmRzLm1pblggOiBhcmVhLng7XG4gICAgICAgIHZhciBfbWluWSA9IGJvdW5kcy5taW5ZID4gYXJlYS55ID8gYm91bmRzLm1pblkgOiBhcmVhLnk7XG4gICAgICAgIHZhciBfbWF4WCA9IGJvdW5kcy5tYXhYIDwgYXJlYS54ICsgYXJlYS53aWR0aCA/IGJvdW5kcy5tYXhYIDogKGFyZWEueCArIGFyZWEud2lkdGgpO1xuICAgICAgICB2YXIgX21heFkgPSBib3VuZHMubWF4WSA8IGFyZWEueSArIGFyZWEuaGVpZ2h0ID8gYm91bmRzLm1heFkgOiAoYXJlYS55ICsgYXJlYS5oZWlnaHQpO1xuICAgICAgICBpZiAoX21pblggPD0gX21heFggJiYgX21pblkgPD0gX21heFkpIHtcbiAgICAgICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgICAgICAgdGhpcy5taW5YID0gX21pblggPCBtaW5YID8gX21pblggOiBtaW5YO1xuICAgICAgICAgICAgdGhpcy5taW5ZID0gX21pblkgPCBtaW5ZID8gX21pblkgOiBtaW5ZO1xuICAgICAgICAgICAgdGhpcy5tYXhYID0gX21heFggPiBtYXhYID8gX21heFggOiBtYXhYO1xuICAgICAgICAgICAgdGhpcy5tYXhZID0gX21heFkgPiBtYXhZID8gX21heFkgOiBtYXhZO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQYWRzIGJvdW5kcyBvYmplY3QsIG1ha2luZyBpdCBncm93IGluIGFsbCBkaXJlY3Rpb25zLlxuICAgICAqIElmIHBhZGRpbmdZIGlzIG9taXR0ZWQsIGJvdGggcGFkZGluZ1ggYW5kIHBhZGRpbmdZIHdpbGwgYmUgc2V0IHRvIHBhZGRpbmdYLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYWRkaW5nWD0wXSAtIFRoZSBob3Jpem9udGFsIHBhZGRpbmcgYW1vdW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkZGluZ1k9MF0gLSBUaGUgdmVydGljYWwgcGFkZGluZyBhbW91bnQuXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5wYWQgPSBmdW5jdGlvbiAocGFkZGluZ1gsIHBhZGRpbmdZKSB7XG4gICAgICAgIGlmIChwYWRkaW5nWCA9PT0gdm9pZCAwKSB7IHBhZGRpbmdYID0gMDsgfVxuICAgICAgICBpZiAocGFkZGluZ1kgPT09IHZvaWQgMCkgeyBwYWRkaW5nWSA9IHBhZGRpbmdYOyB9XG4gICAgICAgIGlmICghdGhpcy5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHRoaXMubWluWCAtPSBwYWRkaW5nWDtcbiAgICAgICAgICAgIHRoaXMubWF4WCArPSBwYWRkaW5nWDtcbiAgICAgICAgICAgIHRoaXMubWluWSAtPSBwYWRkaW5nWTtcbiAgICAgICAgICAgIHRoaXMubWF4WSArPSBwYWRkaW5nWTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBwYWRkZWQgZnJhbWUuICh4MCwgeTApIHNob3VsZCBiZSBzdHJpY3RseSBsZXNzIHRoYW4gKHgxLCB5MSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MCAtIGxlZnQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MCAtIHRvcCBZIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gcmlnaHQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIGJvdHRvbSBZIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhZFggLSBwYWRkaW5nIFhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGFkWSAtIHBhZGRpbmcgWVxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkRnJhbWVQYWQgPSBmdW5jdGlvbiAoeDAsIHkwLCB4MSwgeTEsIHBhZFgsIHBhZFkpIHtcbiAgICAgICAgeDAgLT0gcGFkWDtcbiAgICAgICAgeTAgLT0gcGFkWTtcbiAgICAgICAgeDEgKz0gcGFkWDtcbiAgICAgICAgeTEgKz0gcGFkWTtcbiAgICAgICAgdGhpcy5taW5YID0gdGhpcy5taW5YIDwgeDAgPyB0aGlzLm1pblggOiB4MDtcbiAgICAgICAgdGhpcy5tYXhYID0gdGhpcy5tYXhYID4geDEgPyB0aGlzLm1heFggOiB4MTtcbiAgICAgICAgdGhpcy5taW5ZID0gdGhpcy5taW5ZIDwgeTAgPyB0aGlzLm1pblkgOiB5MDtcbiAgICAgICAgdGhpcy5tYXhZID0gdGhpcy5tYXhZID4geTEgPyB0aGlzLm1heFkgOiB5MTtcbiAgICB9O1xuICAgIHJldHVybiBCb3VuZHM7XG59KCkpO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBjbGFzcyBmb3IgYWxsIG9iamVjdHMgdGhhdCBhcmUgcmVuZGVyZWQgb24gdGhlIHNjcmVlbi5cbiAqXG4gKiBUaGlzIGlzIGFuIGFic3RyYWN0IGNsYXNzIGFuZCBjYW4gbm90IGJlIHVzZWQgb24gaXRzIG93bjsgcmF0aGVyIGl0IHNob3VsZCBiZSBleHRlbmRlZC5cbiAqXG4gKiAjIyBEaXNwbGF5IG9iamVjdHMgaW1wbGVtZW50ZWQgaW4gUGl4aUpTXG4gKlxuICogfCBEaXNwbGF5IE9iamVjdCAgICAgICAgICAgICAgICAgIHwgRGVzY3JpcHRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSB8IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSB8XG4gKiB8IHtAbGluayBQSVhJLkNvbnRhaW5lcn0gICAgICAgICAgfCBBZGRzIHN1cHBvcnQgZm9yIGBjaGlsZHJlbmAgdG8gRGlzcGxheU9iamVjdCAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgUElYSS5HcmFwaGljc30gICAgICAgICAgIHwgU2hhcGUtZHJhd2luZyBkaXNwbGF5IG9iamVjdCBzaW1pbGFyIHRvIHRoZSBDYW52YXMgQVBJICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIFBJWEkuU3ByaXRlfSAgICAgICAgICAgICB8IERyYXdzIHRleHR1cmVzIChpLmUuIGltYWdlcykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBQSVhJLlRleHR9ICAgICAgICAgICAgICAgfCBEcmF3cyB0ZXh0IHVzaW5nIHRoZSBDYW52YXMgQVBJIGludGVybmFsbHkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgUElYSS5CaXRtYXBUZXh0fSAgICAgICAgIHwgTW9yZSBzY2FsZWFibGUgc29sdXRpb24gZm9yIHRleHQgcmVuZGVyaW5nLCByZXVzaW5nIGdseXBoIHRleHR1cmVzICAgIHxcbiAqIHwge0BsaW5rIFBJWEkuVGlsaW5nU3ByaXRlfSAgICAgICB8IERyYXdzIHRleHR1cmVzL2ltYWdlcyBpbiBhIHRpbGVkIGZhc2hpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBQSVhJLkFuaW1hdGVkU3ByaXRlfSAgICAgfCBEcmF3cyBhbiBhbmltYXRpb24gb2YgbXVsdGlwbGUgaW1hZ2VzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgUElYSS5NZXNofSAgICAgICAgICAgICAgIHwgUHJvdmlkZXMgYSBsb3dlci1sZXZlbCBBUEkgZm9yIGRyYXdpbmcgbWVzaGVzIHdpdGggY3VzdG9tIGRhdGEgICAgICAgIHxcbiAqIHwge0BsaW5rIFBJWEkuTmluZVNsaWNlUGxhbmV9ICAgICB8IE1lc2gtcmVsYXRlZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBQSVhJLlNpbXBsZU1lc2h9ICAgICAgICAgfCB2NC1jb21wYXRpYmlsZSBtZXNoICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgUElYSS5TaW1wbGVQbGFuZX0gICAgICAgIHwgTWVzaC1yZWxhdGVkICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIFBJWEkuU2ltcGxlUm9wZX0gICAgICAgICB8IE1lc2gtcmVsYXRlZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKlxuICogIyMgVHJhbnNmb3Jtc1xuICpcbiAqIFRoZSBbdHJhbnNmb3JtXXtAbGluayBEaXNwbGF5T2JqZWN0I3RyYW5zZm9ybX0gb2YgYSBkaXNwbGF5IG9iamVjdCBkZXNjcmliZXMgdGhlIHByb2plY3Rpb24gZnJvbSBpdHNcbiAqIGxvY2FsIGNvb3JkaW5hdGUgc3BhY2UgdG8gaXRzIHBhcmVudCdzIGxvY2FsIGNvb3JkaW5hdGUgc3BhY2UuIFRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyBhcmUgZGVyaXZlZFxuICogZnJvbSB0aGUgdHJhbnNmb3JtOlxuICpcbiAqIDx0YWJsZT5cbiAqICAgPHRoZWFkPlxuICogICAgIDx0cj5cbiAqICAgICAgIDx0aD5Qcm9wZXJ0eTwvdGg+XG4gKiAgICAgICA8dGg+RGVzY3JpcHRpb248L3RoPlxuICogICAgIDwvdHI+XG4gKiAgIDwvdGhlYWQ+XG4gKiAgIDx0Ym9keT5cbiAqICAgICA8dHI+XG4gKiAgICAgICA8dGQ+W3Bpdm90XXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjcGl2b3R9PC90ZD5cbiAqICAgICAgIDx0ZD5cbiAqICAgICAgICAgSW52YXJpYW50IHVuZGVyIHJvdGF0aW9uLCBzY2FsaW5nLCBhbmQgc2tld2luZy4gVGhlIHByb2plY3Rpb24gb2YgaW50byB0aGUgcGFyZW50J3Mgc3BhY2Ugb2YgdGhlIHBpdm90XG4gKiAgICAgICAgIGlzIGVxdWFsIHRvIHBvc2l0aW9uLCByZWdhcmRsZXNzIG9mIHRoZSBvdGhlciB0aHJlZSB0cmFuc2Zvcm1hdGlvbnMuIEluIG90aGVyIHdvcmRzLCBJdCBpcyB0aGUgY2VudGVyIG9mXG4gKiAgICAgICAgIHJvdGF0aW9uLCBzY2FsaW5nLCBhbmQgc2tld2luZy5cbiAqICAgICAgIDwvdGQ+XG4gKiAgICAgPC90cj5cbiAqICAgICA8dHI+XG4gKiAgICAgICA8dGQ+W3Bvc2l0aW9uXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjcG9zaXRpb259PC90ZD5cbiAqICAgICAgIDx0ZD5cbiAqICAgICAgICAgVHJhbnNsYXRpb24uIFRoaXMgaXMgdGhlIHBvc2l0aW9uIG9mIHRoZSBbcGl2b3Rde0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNwaXZvdH0gaW4gdGhlIHBhcmVudCdzIGxvY2FsXG4gKiAgICAgICAgIHNwYWNlLiBUaGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgcGl2b3QgaXMgdGhlIG9yaWdpbiAoMCwwKS4gSWYgdGhlIHRvcC1sZWZ0IGNvcm5lciBvZiB5b3VyIGRpc3BsYXkgb2JqZWN0XG4gKiAgICAgICAgIGlzICgwLDApIGluIGl0cyBsb2NhbCBzcGFjZSwgdGhlbiB0aGUgcG9zaXRpb24gd2lsbCBiZSBpdHMgdG9wLWxlZnQgY29ybmVyIGluIHRoZSBwYXJlbnQncyBsb2NhbCBzcGFjZS5cbiAqICAgICAgIDwvdGQ+XG4gKiAgICAgPC90cj5cbiAqICAgICA8dHI+XG4gKiAgICAgICA8dGQ+W3NjYWxlXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3Qjc2NhbGV9PC90ZD5cbiAqICAgICAgIDx0ZD5cbiAqICAgICAgICAgU2NhbGluZy4gVGhpcyB3aWxsIHN0cmV0Y2ggKG9yIGNvbXByZXNzKSB0aGUgZGlzcGxheSBvYmplY3QncyBwcm9qZWN0aW9uLiBUaGUgc2NhbGUgZmFjdG9ycyBhcmUgYWxvbmcgdGhlXG4gKiAgICAgICAgIGxvY2FsIGNvb3JkaW5hdGUgYXhlcy4gSW4gb3RoZXIgd29yZHMsIHRoZSBkaXNwbGF5IG9iamVjdCBpcyBzY2FsZWQgYmVmb3JlIHJvdGF0ZWQgb3Igc2tld2VkLiBUaGUgY2VudGVyXG4gKiAgICAgICAgIG9mIHNjYWxpbmcgaXMgdGhlIFtwaXZvdF17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I3Bpdm90fS5cbiAqICAgICAgIDwvdGQ+XG4gKiAgICAgPC90cj5cbiAqICAgICA8dHI+XG4gKiAgICAgICA8dGQ+W3JvdGF0aW9uXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3Qjcm90YXRpb259PC90ZD5cbiAqICAgICAgIDx0ZD5cbiAqICAgICAgICAgIFJvdGF0aW9uLiBUaGlzIHdpbGwgcm90YXRlIHRoZSBkaXNwbGF5IG9iamVjdCdzIHByb2plY3Rpb24gYnkgdGhpcyBhbmdsZSAoaW4gcmFkaWFucykuXG4gKiAgICAgICA8L3RkPlxuICogICAgIDwvdHI+XG4gKiAgICAgPHRyPlxuICogICAgICAgPHRkPltza2V3XXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3Qjc2tld308L3RkPlxuICogICAgICAgPHRkPlxuICogICAgICAgICA8cD5Ta2V3aW5nLiBUaGlzIGNhbiBiZSB1c2VkIHRvIGRlZm9ybSBhIHJlY3Rhbmd1bGFyIGRpc3BsYXkgb2JqZWN0IGludG8gYSBwYXJhbGxlbG9ncmFtLjwvcD5cbiAqICAgICAgICAgPHA+XG4gKiAgICAgICAgIEluIFBpeGlKUywgc2tldyBoYXMgYSBzbGlnaHRseSBkaWZmZXJlbnQgYmVoYXZpb3VyIHRoYW4gdGhlIGNvbnZlbnRpb25hbCBtZWFuaW5nLiBJdCBjYW4gYmVcbiAqICAgICAgICAgdGhvdWdodCBvZiB0aGUgbmV0IHJvdGF0aW9uIGFwcGxpZWQgdG8gdGhlIGNvb3JkaW5hdGUgYXhlcyAoc2VwYXJhdGVseSkuIEZvciBleGFtcGxlLCBpZiBcInNrZXcueFwiIGlzXG4gKiAgICAgICAgIOKNuiBhbmQgXCJza2V3LnlcIiBpcyDOsiwgdGhlbiB0aGUgbGluZSB4ID0gMCB3aWxsIGJlIHJvdGF0ZWQgYnkg4o26ICh5ID0gLXgqY2904o26KSBhbmQgdGhlIGxpbmUgeSA9IDAgd2lsbCBiZVxuICogICAgICAgICByb3RhdGVkIGJ5IM6yICh5ID0geCp0YW7OsikuIEEgbGluZSB5ID0geCp0YW7PtCAoaS5lLiBhIGxpbmUgYXQgYW5nbGUgz7QgdG8gdGhlIHgtYXhpcyBpbiBsb2NhbC1zcGFjZSkgd2lsbFxuICogICAgICAgICBiZSByb3RhdGVkIGJ5IGFuIGFuZ2xlIGJldHdlZW4g4o26IGFuZCDOsi5cbiAqICAgICAgICAgPC9wPlxuICogICAgICAgICA8cD5cbiAqICAgICAgICAgSXQgY2FuIGJlIG9ic2VydmVkIHRoYXQgaWYgc2tldyBpcyBhcHBsaWVkIGVxdWFsbHkgdG8gYm90aCBheGVzLCB0aGVuIGl0IHdpbGwgYmUgZXF1aXZhbGVudCB0byBhcHBseWluZ1xuICogICAgICAgICBhIHJvdGF0aW9uLiBJbmRlZWQsIGlmIFwic2tldy54XCIgPSAtz7QgYW5kIFwic2tldy55XCIgPSDPtCwgaXQgd2lsbCBwcm9kdWNlIGFuIGVxdWl2YWxlbnQgb2YgXCJyb3RhdGlvblwiID0gz7QuXG4gKiAgICAgICAgIDwvcD5cbiAqICAgICAgICAgPHA+XG4gKiAgICAgICAgIEFub3RoZXIgcXVpdGUgaW50ZXJlc3Rpbmcgb2JzZXJ2YXRpb24gaXMgdGhhdCBcInNrZXcueFwiLCBcInNrZXcueVwiLCByb3RhdGlvbiBhcmUgY29tbXVudGF0aXZlIG9wZXJhdGlvbnMuIEluZGVlZCxcbiAqICAgICAgICAgYmVjYXVzZSByb3RhdGlvbiBpcyBlc3NlbnRpYWxseSBhIGNhcmVmdWwgY29tYmluYXRpb24gb2YgdGhlIHR3by5cbiAqICAgICAgICAgPC9wPlxuICogICAgICAgPC90ZD5cbiAqICAgICA8L3RyPlxuICogICAgIDx0cj5cbiAqICAgICAgIDx0ZD5hbmdsZTwvdGQ+XG4gKiAgICAgICA8dGQ+Um90YXRpb24uIFRoaXMgaXMgYW4gYWxpYXMgZm9yIFtyb3RhdGlvbl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I3JvdGF0aW9ufSwgYnV0IGluIGRlZ3JlZXMuPC90ZD5cbiAqICAgICA8L3RyPlxuICogICAgIDx0cj5cbiAqICAgICAgIDx0ZD54PC90ZD5cbiAqICAgICAgIDx0ZD5UcmFuc2xhdGlvbi4gVGhpcyBpcyBhbiBhbGlhcyBmb3IgcG9zaXRpb24ueCE8L3RkPlxuICogICAgIDwvdHI+XG4gKiAgICAgPHRyPlxuICogICAgICAgPHRkPnk8L3RkPlxuICogICAgICAgPHRkPlRyYW5zbGF0aW9uLiBUaGlzIGlzIGFuIGFsaWFzIGZvciBwb3NpdGlvbi55ITwvdGQ+XG4gKiAgICAgPC90cj5cbiAqICAgICA8dHI+XG4gKiAgICAgICA8dGQ+d2lkdGg8L3RkPlxuICogICAgICAgPHRkPlxuICogICAgICAgICBJbXBsZW1lbnRlZCBpbiBbQ29udGFpbmVyXXtAbGluayBQSVhJLkNvbnRhaW5lcn0uIFNjYWxpbmcuIFRoZSB3aWR0aCBwcm9wZXJ0eSBjYWxjdWxhdGVzIHNjYWxlLnggYnkgZGl2aWRpbmdcbiAqICAgICAgICAgdGhlIFwicmVxdWVzdGVkXCIgd2lkdGggYnkgdGhlIGxvY2FsIGJvdW5kaW5nIGJveCB3aWR0aC4gSXQgaXMgaW5kaXJlY3RseSBhbiBhYnN0cmFjdGlvbiBvdmVyIHNjYWxlLngsIGFuZCB0aGVyZVxuICogICAgICAgICBpcyBubyBjb25jZXB0IG9mIHVzZXItZGVmaW5lZCB3aWR0aC5cbiAqICAgICAgIDwvdGQ+XG4gKiAgICAgPC90cj5cbiAqICAgICA8dHI+XG4gKiAgICAgICA8dGQ+aGVpZ2h0PC90ZD5cbiAqICAgICAgIDx0ZD5cbiAqICAgICAgICAgSW1wbGVtZW50ZWQgaW4gW0NvbnRhaW5lcl17QGxpbmsgUElYSS5Db250YWluZXJ9LiBTY2FsaW5nLiBUaGUgaGVpZ2h0IHByb3BlcnR5IGNhbGN1bGF0ZXMgc2NhbGUueSBieSBkaXZpZGluZ1xuICogICAgICAgICB0aGUgXCJyZXF1ZXN0ZWRcIiBoZWlnaHQgYnkgdGhlIGxvY2FsIGJvdW5kaW5nIGJveCBoZWlnaHQuIEl0IGlzIGluZGlyZWN0bHkgYW4gYWJzdHJhY3Rpb24gb3ZlciBzY2FsZS55LCBhbmQgdGhlcmVcbiAqICAgICAgICAgaXMgbm8gY29uY2VwdCBvZiB1c2VyLWRlZmluZWQgaGVpZ2h0LlxuICogICAgICAgPC90ZD5cbiAqICAgICA8L3RyPlxuICogICA8L3Rib2R5PlxuICogPC90YWJsZT5cbiAqXG4gKiAjIyBCb3VuZHNcbiAqXG4gKiBUaGUgYm91bmRzIG9mIGEgZGlzcGxheSBvYmplY3QgaXMgZGVmaW5lZCBieSB0aGUgbWluaW11bSBheGlzLWFsaWduZWQgcmVjdGFuZ2xlIGluIHdvcmxkIHNwYWNlIHRoYXQgY2FuIGZpdFxuICogYXJvdW5kIGl0LiBUaGUgYWJzdHJhY3QgYGNhbGN1bGF0ZUJvdW5kc2AgbWV0aG9kIGlzIHJlc3BvbnNpYmxlIGZvciBwcm92aWRpbmcgaXQgKGFuZCBpdCBzaG91bGQgdXNlIHRoZVxuICogYHdvcmxkVHJhbnNmb3JtYCB0byBjYWxjdWxhdGUgaW4gd29ybGQgc3BhY2UpLlxuICpcbiAqIFRoZXJlIGFyZSBhIGZldyBhZGRpdGlvbmFsIHR5cGVzIG9mIGJvdW5kaW5nIGJveGVzOlxuICpcbiAqIHwgQm91bmRzICAgICAgICAgICAgICAgIHwgRGVzY3JpcHRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IC0tLS0tLS0tLS0tLS0tLS0tLS0tLSB8IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gfFxuICogfCBXb3JsZCBCb3VuZHMgICAgICAgICAgfCBUaGlzIGlzIHN5bm9ueW1vdXMgaXMgdGhlIHJlZ3VsYXIgYm91bmRzIGRlc2NyaWJlZCBhYm92ZS4gU2VlIGBnZXRCb3VuZHMoKWAuICAgICAgICAgICAgIHxcbiAqIHwgTG9jYWwgQm91bmRzICAgICAgICAgIHwgVGhpcyB0aGUgYXhpcy1hbGlnbmVkIGJvdW5kaW5nIGJveCBpbiB0aGUgcGFyZW50J3MgbG9jYWwgc3BhY2UuIFNlZSBgZ2V0TG9jYWxCb3VuZHMoKWAuICB8XG4gKiB8IFJlbmRlciBCb3VuZHMgICAgICAgICB8IFRoZSBib3VuZHMsIGJ1dCBpbmNsdWRpbmcgZXh0cmEgcmVuZGVyaW5nIGVmZmVjdHMgbGlrZSBmaWx0ZXIgcGFkZGluZy4gICAgICAgICAgICAgICAgICAgfFxuICogfCBQcm9qZWN0ZWQgQm91bmRzICAgICAgfCBUaGUgYm91bmRzIG9mIHRoZSBwcm9qZWN0ZWQgZGlzcGxheSBvYmplY3Qgb250byB0aGUgc2NyZWVuLiBVc3VhbGx5IGVxdWFscyB3b3JsZCBib3VuZHMuIHxcbiAqIHwgUmVsYXRpdmUgQm91bmRzICAgICAgIHwgVGhlIGJvdW5kcyBvZiBhIGRpc3BsYXkgb2JqZWN0IHdoZW4gcHJvamVjdGVkIG9udG8gYSBhbmNlc3RvcidzIChvciBwYXJlbnQncykgc3BhY2UuICAgICB8XG4gKiB8IE5hdHVyYWwgQm91bmRzICAgICAgICB8IFRoZSBib3VuZHMgb2YgYW4gb2JqZWN0IGluIGl0cyBvd24gbG9jYWwgc3BhY2UgKG5vdCBwYXJlbnQncyBzcGFjZSwgbGlrZSBpbiBsb2NhbCBib3VuZHMpfFxuICogfCBDb250ZW50IEJvdW5kcyAgICAgICAgfCBUaGUgbmF0dXJhbCBib3VuZHMgd2hlbiBleGNsdWRpbmcgYWxsIGNoaWxkcmVuIG9mIGEgYENvbnRhaW5lcmAuICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqXG4gKiAjIyMgY2FsY3VsYXRlQm91bmRzXG4gKlxuICogW0NvbnRhaW5lcl17QGxpbmsgQ29udGFpbmVyfSBhbHJlYWR5IGltcGxlbWVudHMgYGNhbGN1bGF0ZUJvdW5kc2AgaW4gYSBtYW5uZXIgdGhhdCBpbmNsdWRlcyBjaGlsZHJlbi5cbiAqXG4gKiBCdXQgZm9yIGEgbm9uLUNvbnRhaW5lciBkaXNwbGF5IG9iamVjdCwgdGhlIGBjYWxjdWxhdGVCb3VuZHNgIG1ldGhvZCBtdXN0IGJlIG92ZXJyaWRkZW4gaW4gb3JkZXIgZm9yIGBnZXRCb3VuZHNgIGFuZFxuICogYGdldExvY2FsQm91bmRzYCB0byB3b3JrLiBUaGlzIG1ldGhvZCBtdXN0IHdyaXRlIHRoZSBib3VuZHMgaW50byBgdGhpcy5fYm91bmRzYC5cbiAqXG4gKiBHZW5lcmFsbHksIHRoZSBmb2xsb3dpbmcgdGVjaG5pcXVlIHdvcmtzIGZvciBtb3N0IHNpbXBsZSBjYXNlczogdGFrZSB0aGUgbGlzdCBvZiBwb2ludHNcbiAqIGZvcm1pbmcgdGhlIFwiaHVsbFwiIG9mIHRoZSBvYmplY3QgKGkuZS4gb3V0bGluZSBvZiB0aGUgb2JqZWN0J3Mgc2hhcGUpLCBhbmQgdGhlbiBhZGQgdGhlbVxuICogdXNpbmcge0BsaW5rIFBJWEkuQm91bmRzI2FkZFBvaW50TWF0cml4fS5cbiAqXG4gKiBgYGBqc1xuICogY2FsY3VsYXRlQm91bmRzKCk6IHZvaWRcbiAqIHtcbiAqICAgICBjb25zdCBwb2ludHMgPSBbLi4uXTtcbiAqXG4gKiAgICAgZm9yIChsZXQgaSA9IDAsIGogPSBwb2ludHMubGVuZ3RoOyBpIDwgajsgaSsrKVxuICogICAgIHtcbiAqICAgICAgICAgdGhpcy5fYm91bmRzLmFkZFBvaW50TWF0cml4KHRoaXMud29ybGRUcmFuc2Zvcm0sIHBvaW50c1tpXSk7XG4gKiAgICAgfVxuICogfVxuICogYGBgXG4gKlxuICogWW91IGNhbiBvcHRpbWl6ZSB0aGlzIGZvciBhIGxhcmdlIG51bWJlciBvZiBwb2ludHMgYnkgdXNpbmcge0BsaW5rIFBJWEkuQm91bmRzI2FkZFZlcnRpY2VzTWF0cml4fSB0byBwYXNzIHRoZW1cbiAqIGluIG9uZSBhcnJheSB0b2dldGhlci5cbiAqXG4gKiAjIyBBbHBoYVxuICpcbiAqIFRoaXMgYWxwaGEgc2V0cyBhIGRpc3BsYXkgb2JqZWN0J3MgKipyZWxhdGl2ZSBvcGFjaXR5Kiogdy5yLnQgaXRzIHBhcmVudC4gRm9yIGV4YW1wbGUsIGlmIHRoZSBhbHBoYSBvZiBhIGRpc3BsYXlcbiAqIG9iamVjdCBpcyAwLjUgYW5kIGl0cyBwYXJlbnQncyBhbHBoYSBpcyAwLjUsIHRoZW4gaXQgd2lsbCBiZSByZW5kZXJlZCB3aXRoIDI1JSBvcGFjaXR5IChhc3N1bWluZyBhbHBoYSBpcyBub3RcbiAqIGFwcGxpZWQgb24gYW55IGFuY2VzdG9yIGZ1cnRoZXIgdXAgdGhlIGNoYWluKS5cbiAqXG4gKiBUaGUgYWxwaGEgd2l0aCB3aGljaCB0aGUgZGlzcGxheSBvYmplY3Qgd2lsbCBiZSByZW5kZXJlZCBpcyBjYWxsZWQgdGhlIFt3b3JsZEFscGhhXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3Qjd29ybGRBbHBoYX0uXG4gKlxuICogIyMgUmVuZGVyYWJsZSB2cyBWaXNpYmxlXG4gKlxuICogVGhlIGByZW5kZXJhYmxlYCBhbmQgYHZpc2libGVgIHByb3BlcnRpZXMgY2FuIGJlIHVzZWQgdG8gcHJldmVudCBhIGRpc3BsYXkgb2JqZWN0IGZyb20gYmVpbmcgcmVuZGVyZWQgdG8gdGhlXG4gKiBzY3JlZW4uIEhvd2V2ZXIsIHRoZXJlIGlzIGEgc3VidGxlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgdHdvLiBXaGVuIHVzaW5nIGByZW5kZXJhYmxlYCwgdGhlIHRyYW5zZm9ybXMgIG9mIHRoZSBkaXNwbGF5XG4gKiBvYmplY3QgKGFuZCBpdHMgY2hpbGRyZW4gc3VidHJlZSkgd2lsbCBjb250aW51ZSB0byBiZSBjYWxjdWxhdGVkLiBXaGVuIHVzaW5nIGB2aXNpYmxlYCwgdGhlIHRyYW5zZm9ybXMgd2lsbCBub3RcbiAqIGJlIGNhbGN1bGF0ZWQuXG4gKlxuICogSXQgaXMgcmVjb21tZW5kZWQgdGhhdCBhcHBsaWNhdGlvbnMgdXNlIHRoZSBgcmVuZGVyYWJsZWAgcHJvcGVydHkgZm9yIGN1bGxpbmcuIFNlZVxuICogW0BwaXhpLWVzc2VudGlhbHMvY3VsbF17QGxpbmsgaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvQHBpeGktZXNzZW50aWFscy9jdWxsfSBvclxuICogW3BpeGktY3VsbF17QGxpbmsgaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvcGl4aS1jdWxsfSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIE90aGVyd2lzZSwgdG8gcHJldmVudCBhbiBvYmplY3QgZnJvbSByZW5kZXJpbmcgaW4gdGhlIGdlbmVyYWwtcHVycG9zZSBzZW5zZSAtIGB2aXNpYmxlYCBpcyB0aGUgcHJvcGVydHkgdG8gdXNlLiBUaGlzXG4gKiBvbmUgaXMgYWxzbyBiZXR0ZXIgaW4gdGVybXMgb2YgcGVyZm9ybWFuY2UuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIERpc3BsYXlPYmplY3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERpc3BsYXlPYmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGlzcGxheU9iamVjdCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBudWxsO1xuICAgICAgICAvLyBUT0RPOiBuZWVkIHRvIGNyZWF0ZSBUcmFuc2Zvcm0gZnJvbSBmYWN0b3J5XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXb3JsZCB0cmFuc2Zvcm0gYW5kIGxvY2FsIHRyYW5zZm9ybSBvZiB0aGlzIG9iamVjdC5cbiAgICAgICAgICogVGhpcyB3aWxsIGJlY29tZSByZWFkLW9ubHkgbGF0ZXIsIHBsZWFzZSBkbyBub3QgYXNzaWduIGFueXRoaW5nIHRoZXJlIHVubGVzcyB5b3Uga25vdyB3aGF0IGFyZSB5b3UgZG9pbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVHJhbnNmb3JtfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9wYWNpdHkgb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYWxwaGEgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHZpc2liaWxpdHkgb2YgdGhlIG9iamVjdC4gSWYgZmFsc2UgdGhlIG9iamVjdCB3aWxsIG5vdCBiZSBkcmF3biwgYW5kXG4gICAgICAgICAqIHRoZSB1cGRhdGVUcmFuc2Zvcm0gZnVuY3Rpb24gd2lsbCBub3QgYmUgY2FsbGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBPbmx5IGFmZmVjdHMgcmVjdXJzaXZlIGNhbGxzIGZyb20gcGFyZW50LiBZb3UgY2FuIGFzayBmb3IgYm91bmRzIG9yIGNhbGwgdXBkYXRlVHJhbnNmb3JtIG1hbnVhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYW4gdGhpcyBvYmplY3QgYmUgcmVuZGVyZWQsIGlmIGZhbHNlIHRoZSBvYmplY3Qgd2lsbCBub3QgYmUgZHJhd24gYnV0IHRoZSB1cGRhdGVUcmFuc2Zvcm1cbiAgICAgICAgICogbWV0aG9kcyB3aWxsIHN0aWxsIGJlIGNhbGxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogT25seSBhZmZlY3RzIHJlY3Vyc2l2ZSBjYWxscyBmcm9tIHBhcmVudC4gWW91IGNhbiBhc2sgZm9yIGJvdW5kcyBtYW51YWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRpc3BsYXkgb2JqZWN0IGNvbnRhaW5lciB0aGF0IGNvbnRhaW5zIHRoaXMgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ29udGFpbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtdWx0aXBsaWVkIGFscGhhIG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMud29ybGRBbHBoYSA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGljaCBpbmRleCBpbiB0aGUgY2hpbGRyZW4gYXJyYXkgdGhlIGRpc3BsYXkgY29tcG9uZW50IHdhcyBiZWZvcmUgdGhlIHByZXZpb3VzIHpJbmRleCBzb3J0LlxuICAgICAgICAgKiBVc2VkIGJ5IGNvbnRhaW5lcnMgdG8gaGVscCBzb3J0IG9iamVjdHMgd2l0aCB0aGUgc2FtZSB6SW5kZXgsIGJ5IHVzaW5nIHByZXZpb3VzIGFycmF5IGluZGV4IGFzIHRoZSBkZWNpZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sYXN0U29ydGVkSW5kZXggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHpJbmRleCBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICogQSBoaWdoZXIgdmFsdWUgd2lsbCBtZWFuIGl0IHdpbGwgYmUgcmVuZGVyZWQgb24gdG9wIG9mIG90aGVyIGRpc3BsYXlPYmplY3RzIHdpdGhpbiB0aGUgc2FtZSBjb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3pJbmRleCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJlYSB0aGUgZmlsdGVyIGlzIGFwcGxpZWQgdG8uIFRoaXMgaXMgdXNlZCBhcyBtb3JlIG9mIGFuIG9wdGltaXphdGlvblxuICAgICAgICAgKiByYXRoZXIgdGhhbiBmaWd1cmluZyBvdXQgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGRpc3BsYXlPYmplY3QgZWFjaCBmcmFtZSB5b3UgY2FuIHNldCB0aGlzIHJlY3RhbmdsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQWxzbyB3b3JrcyBhcyBhbiBpbnRlcmFjdGlvbiBtYXNrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHs/UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGZpbHRlcnMgZm9yIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKiAqIElNUE9SVEFOVDogVGhpcyBpcyBhIFdlYkdMIG9ubHkgZmVhdHVyZSBhbmQgd2lsbCBiZSBpZ25vcmVkIGJ5IHRoZSBjYW52YXMgcmVuZGVyZXIuXG4gICAgICAgICAqIFRvIHJlbW92ZSBmaWx0ZXJzIHNpbXBseSBzZXQgdGhpcyBwcm9wZXJ0eSB0byBgJ251bGwnYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7P1BJWEkuRmlsdGVyW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5maWx0ZXJzID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnRseSBlbmFibGVkIGZpbHRlcnNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWx0ZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2VuYWJsZWRGaWx0ZXJzID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBib3VuZHMgb2JqZWN0LCB0aGlzIGlzIHVzZWQgdG8gY2FsY3VsYXRlIGFuZCBzdG9yZSB0aGUgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJvdW5kc31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9ib3VuZHMgPSBuZXcgQm91bmRzKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2NhbCBib3VuZHMgb2JqZWN0LCBzd2FwcGVkIHdpdGggYF9ib3VuZHNgIHdoZW4gdXNpbmcgYGdldExvY2FsQm91bmRzKClgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJvdW5kc31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sb2NhbEJvdW5kcyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGbGFncyB0aGUgY2FjaGVkIGJvdW5kcyBhcyBkaXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYm91bmRzSUQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGUgb2YgdGhpcyBkaXNwbGF5LW9iamVjdCdzIGJvdW5kcy1yZWN0YW5nbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQm91bmRzfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYm91bmRzUmVjdCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZSBvZiB0aGlzIGRpc3BsYXktb2JqZWN0J3MgbG9jYWwtYm91bmRzIHJlY3RhbmdsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9yaWdpbmFsLCBjYWNoZWQgbWFzayBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNvbnRhaW5lcnxQSVhJLk1hc2tEYXRhfG51bGx9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9tYXNrID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBvYmplY3QgaGFzIGJlZW4gZGVzdHJveWVkIHZpYSBkZXN0cm95KCkuIElmIHRydWUsIGl0IHNob3VsZCBub3QgYmUgdXNlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogdXNlZCB0byBmYXN0IGNoZWNrIGlmIGEgc3ByaXRlIGlzLi4gYSBzcHJpdGUhXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pc1Nwcml0ZSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogRG9lcyBhbnkgb3RoZXIgZGlzcGxheU9iamVjdCB1c2UgdGhpcyBvYmplY3QgYXMgYSBtYXNrP1xuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaXNNYXNrID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWl4ZXMgYWxsIGVudW1lcmFibGUgcHJvcGVydGllcyBhbmQgbWV0aG9kcyBmcm9tIGEgc291cmNlIG9iamVjdCB0byBEaXNwbGF5T2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2YgcHJvcGVydGllcyBhbmQgbWV0aG9kcyB0byBtaXggaW4uXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5taXhpbiA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgLy8gaW4gRVM4L0VTMjAxNywgdGhpcyB3b3VsZCBiZSByZWFsbHkgZWFzeTpcbiAgICAgICAgLy8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuICAgICAgICAvLyBnZXQgYWxsIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IGtleXNcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICAgICAgICAvLyBsb29wIHRocm91Z2ggcHJvcGVydGllc1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSBrZXlzW2ldO1xuICAgICAgICAgICAgLy8gU2V0IHRoZSBwcm9wZXJ0eSB1c2luZyB0aGUgcHJvcGVydHkgZGVzY3JpcHRvciAtIHRoaXMgd29ya3MgZm9yIGFjY2Vzc29ycyBhbmQgbm9ybWFsIHZhbHVlIHByb3BlcnRpZXNcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgcHJvcGVydHlOYW1lLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgcHJvcGVydHlOYW1lKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IHVwZGF0ZXMgdHJhbnNmb3JtIG9mIGFsbCBvYmplY3RzIGZyb20gdGhlIHJvb3QgdG8gdGhpcyBvbmVcbiAgICAgKiBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgdG9Mb2NhbCgpXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIFRPRE8gLSBPcHRpbWl6YXRpb24gcGFzcyFcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICAvLyBtdWx0aXBseSB0aGUgYWxwaGFzLi5cbiAgICAgICAgdGhpcy53b3JsZEFscGhhID0gdGhpcy5hbHBoYSAqIHRoaXMucGFyZW50LndvcmxkQWxwaGE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIGFuZCByZXR1cm5zIHRoZSAod29ybGQpIGJvdW5kcyBvZiB0aGUgZGlzcGxheSBvYmplY3QgYXMgYSBbUmVjdGFuZ2xlXXtAbGluayBQSVhJLlJlY3RhbmdsZX0uXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBleHBlbnNpdmUgb24gY29udGFpbmVycyB3aXRoIGEgbGFyZ2Ugc3VidHJlZSAobGlrZSB0aGUgc3RhZ2UpLiBUaGlzIGlzIGJlY2F1c2UgdGhlIGJvdW5kc1xuICAgICAqIG9mIGEgY29udGFpbmVyIGRlcGVuZCBvbiBpdHMgY2hpbGRyZW4ncyBib3VuZHMsIHdoaWNoIHJlY3Vyc2l2ZWx5IGNhdXNlcyBhbGwgYm91bmRzIGluIHRoZSBzdWJ0cmVlIHRvXG4gICAgICogYmUgcmVjYWxjdWxhdGVkLiBUaGUgdXBzaWRlLCBob3dldmVyLCBpcyB0aGF0IGNhbGxpbmcgYGdldEJvdW5kc2Agb25jZSBvbiBhIGNvbnRhaW5lciB3aWxsIGluZGVlZCB1cGRhdGVcbiAgICAgKiB0aGUgYm91bmRzIG9mIGFsbCBjaGlsZHJlbiAodGhlIHdob2xlIHN1YnRyZWUsIGluIGZhY3QpLiBUaGlzIHNpZGUgZWZmZWN0IHNob3VsZCBiZSBleHBsb2l0ZWQgYnkgdXNpbmdcbiAgICAgKiBgZGlzcGxheU9iamVjdC5fYm91bmRzLmdldFJlY3RhbmdsZSgpYCB3aGVuIHRyYXZlcnNpbmcgdGhyb3VnaCBhbGwgdGhlIGJvdW5kcyBpbiBhIHNjZW5lIGdyYXBoLiBPdGhlcndpc2UsXG4gICAgICogY2FsbGluZyBgZ2V0Qm91bmRzYCBvbiBlYWNoIG9iamVjdCBpbiBhIHN1YnRyZWUgd2lsbCBjYXVzZSB0aGUgdG90YWwgY29zdCB0byBpbmNyZWFzZSBxdWFkcmF0aWNhbGx5IGFzXG4gICAgICogaXRzIGhlaWdodCBpbmNyZWFzZXMuXG4gICAgICpcbiAgICAgKiAqIFRoZSB0cmFuc2Zvcm1zIG9mIGFsbCBvYmplY3RzIGluIGEgY29udGFpbmVyJ3MgKipzdWJ0cmVlKiogYW5kIG9mIGFsbCAqKmFuY2VzdG9ycyoqIGFyZSB1cGRhdGVkLlxuICAgICAqICogVGhlIHdvcmxkIGJvdW5kcyBvZiBhbGwgZGlzcGxheSBvYmplY3RzIGluIGEgY29udGFpbmVyJ3MgKipzdWJ0cmVlKiogd2lsbCBhbHNvIGJlIHJlY2FsY3VsYXRlZC5cbiAgICAgKlxuICAgICAqIFRoZSBgX2JvdW5kc2Agb2JqZWN0IHN0b3JlcyB0aGUgbGFzdCBjYWxjdWxhdGlvbiBvZiB0aGUgYm91bmRzLiBZb3UgY2FuIHVzZSB0byBlbnRpcmVseSBza2lwIGJvdW5kc1xuICAgICAqIGNhbGN1bGF0aW9uIGlmIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogY29uc3QgbGFzdENhbGN1bGF0ZWRCb3VuZHMgPSBkaXNwbGF5T2JqZWN0Ll9ib3VuZHMuZ2V0UmVjdGFuZ2xlKG9wdGlvbmFsUmVjdCk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBEbyBrbm93IHRoYXQgdXNhZ2Ugb2YgYGdldExvY2FsQm91bmRzYCBjYW4gY29ycnVwdCB0aGUgYF9ib3VuZHNgIG9mIGNoaWxkcmVuICh0aGUgd2hvbGUgc3VidHJlZSwgYWN0dWFsbHkpLiBUaGlzXG4gICAgICogaXMgYSBrbm93biBpc3N1ZSB0aGF0IGhhcyBub3QgYmVlbiBzb2x2ZWQuIFNlZSBbZ2V0TG9jYWxCb3VuZHNde0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNnZXRMb2NhbEJvdW5kc30gZm9yIG1vcmVcbiAgICAgKiBkZXRhaWxzLlxuICAgICAqXG4gICAgICogYGdldEJvdW5kc2Agc2hvdWxkIGJlIGNhbGxlZCB3aXRoIGBza2lwVXBkYXRlYCBlcXVhbCB0byBgdHJ1ZWAgaW4gYSByZW5kZXIoKSBjYWxsLiBUaGlzIGlzIGJlY2F1c2UgdGhlIHRyYW5zZm9ybXNcbiAgICAgKiBhcmUgZ3VhcmFudGVlZCB0byBiZSB1cGRhdGUtdG8tZGF0ZS4gSW4gZmFjdCwgcmVjYWxjdWxhdGluZyBpbnNpZGUgYSByZW5kZXIoKSBjYWxsIG1heSBjYXVzZSBjb3JydXB0aW9uIGluIGNlcnRhaW5cbiAgICAgKiBjYXNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGVdIC0gU2V0dGluZyB0byBgdHJ1ZWAgd2lsbCBzdG9wIHRoZSB0cmFuc2Zvcm1zIG9mIHRoZSBzY2VuZSBncmFwaCBmcm9tXG4gICAgICogIGJlaW5nIHVwZGF0ZWQuIFRoaXMgbWVhbnMgdGhlIGNhbGN1bGF0aW9uIHJldHVybmVkIE1BWSBiZSBvdXQgb2YgZGF0ZSBCVVQgd2lsbCBnaXZlIHlvdSBhXG4gICAgICogIG5pY2UgcGVyZm9ybWFuY2UgYm9vc3QuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlY3RdIC0gT3B0aW9uYWwgcmVjdGFuZ2xlIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGJvdW5kcyBjYWxjdWxhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIG1pbmltdW0gYXhpcy1hbGlnbmVkIHJlY3RhbmdsZSBpbiB3b3JsZCBzcGFjZSB0aGF0IGZpdHMgYXJvdW5kIHRoaXMgb2JqZWN0LlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmdldEJvdW5kcyA9IGZ1bmN0aW9uIChza2lwVXBkYXRlLCByZWN0KSB7XG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fYm91bmRzLnVwZGF0ZUlEICE9PSB0aGlzLl9ib3VuZHNJRCkge1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy51cGRhdGVJRCA9IHRoaXMuX2JvdW5kc0lEO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmVjdCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9ib3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9ib3VuZHNSZWN0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QgYXMgYSByZWN0YW5nbGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlY3RdIC0gT3B0aW9uYWwgcmVjdGFuZ2xlIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGJvdW5kcyBjYWxjdWxhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWEuXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiAocmVjdCkge1xuICAgICAgICBpZiAoIXJlY3QpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2xvY2FsQm91bmRzUmVjdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcyA9IG5ldyBCb3VuZHMoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdHJhbnNmb3JtUmVmID0gdGhpcy50cmFuc2Zvcm07XG4gICAgICAgIHZhciBwYXJlbnRSZWYgPSB0aGlzLnBhcmVudDtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHdvcmxkQm91bmRzID0gdGhpcy5fYm91bmRzO1xuICAgICAgICB2YXIgd29ybGRCb3VuZHNJRCA9IHRoaXMuX2JvdW5kc0lEO1xuICAgICAgICB0aGlzLl9ib3VuZHMgPSB0aGlzLl9sb2NhbEJvdW5kcztcbiAgICAgICAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0Qm91bmRzKGZhbHNlLCByZWN0KTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnRSZWY7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtUmVmO1xuICAgICAgICB0aGlzLl9ib3VuZHMgPSB3b3JsZEJvdW5kcztcbiAgICAgICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEICs9IHRoaXMuX2JvdW5kc0lEIC0gd29ybGRCb3VuZHNJRDsgLy8gcmVmbGVjdCBzaWRlLWVmZmVjdHNcbiAgICAgICAgcmV0dXJuIGJvdW5kcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGdsb2JhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9zaXRpb24gLSBUaGUgd29ybGQgb3JpZ2luIHRvIGNhbGN1bGF0ZSBmcm9tLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIGNyZWF0ZSBhIG5ldyBQb2ludCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBBIHBvaW50IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoaXMgb2JqZWN0LlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnRvR2xvYmFsID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSkge1xuICAgICAgICBpZiAoc2tpcFVwZGF0ZSA9PT0gdm9pZCAwKSB7IHNraXBVcGRhdGUgPSBmYWxzZTsgfVxuICAgICAgICBpZiAoIXNraXBVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIC8vIHRoaXMgcGFyZW50IGNoZWNrIGlzIGZvciBqdXN0IGluIGNhc2UgdGhlIGl0ZW0gaXMgYSByb290IG9iamVjdC5cbiAgICAgICAgICAgIC8vIElmIGl0IGlzIHdlIG5lZWQgdG8gZ2l2ZSBpdCBhIHRlbXBvcmFyeSBwYXJlbnQgc28gdGhhdCBkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtIHdvcmtzIGNvcnJlY3RseVxuICAgICAgICAgICAgLy8gdGhpcyBpcyBtYWlubHkgdG8gYXZvaWQgYSBwYXJlbnQgY2hlY2sgaW4gdGhlIG1haW4gbG9vcC4gRXZlcnkgbGl0dGxlIGhlbHBzIGZvciBwZXJmb3JtYW5jZSA6KVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIGxvdFxuICAgICAgICByZXR1cm4gdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseShwb3NpdGlvbiwgcG9pbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgbG9jYWwgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHJlbGF0aXZlIHRvIGFub3RoZXIgcG9pbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9zaXRpb24gLSBUaGUgd29ybGQgb3JpZ2luIHRvIGNhbGN1bGF0ZSBmcm9tLlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBbZnJvbV0gLSBUaGUgRGlzcGxheU9iamVjdCB0byBjYWxjdWxhdGUgdGhlIGdsb2JhbCBwb3NpdGlvbiBmcm9tLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIGNyZWF0ZSBhIG5ldyBQb2ludCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IEEgcG9pbnQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcG9zaXRpb24gb2YgdGhpcyBvYmplY3RcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS50b0xvY2FsID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBmcm9tLCBwb2ludCwgc2tpcFVwZGF0ZSkge1xuICAgICAgICBpZiAoZnJvbSkge1xuICAgICAgICAgICAgcG9zaXRpb24gPSBmcm9tLnRvR2xvYmFsKHBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAvLyB0aGlzIHBhcmVudCBjaGVjayBpcyBmb3IganVzdCBpbiBjYXNlIHRoZSBpdGVtIGlzIGEgcm9vdCBvYmplY3QuXG4gICAgICAgICAgICAvLyBJZiBpdCBpcyB3ZSBuZWVkIHRvIGdpdmUgaXQgYSB0ZW1wb3JhcnkgcGFyZW50IHNvIHRoYXQgZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSB3b3JrcyBjb3JyZWN0bHlcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbWFpbmx5IHRvIGF2b2lkIGEgcGFyZW50IGNoZWNrIGluIHRoZSBtYWluIGxvb3AuIEV2ZXJ5IGxpdHRsZSBoZWxwcyBmb3IgcGVyZm9ybWFuY2UgOilcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNpbXBseSBhcHBseSB0aGUgbWF0cml4Li5cbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvc2l0aW9uLCBwb2ludCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHBhcmVudCBDb250YWluZXIgb2YgdGhpcyBEaXNwbGF5T2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIENvbnRhaW5lciB0byBhZGQgdGhpcyBEaXNwbGF5T2JqZWN0IHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQ29udGFpbmVyfSBUaGUgQ29udGFpbmVyIHRoYXQgdGhpcyBEaXNwbGF5T2JqZWN0IHdhcyBhZGRlZCB0by5cbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5zZXRQYXJlbnQgPSBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgICAgIGlmICghY29udGFpbmVyIHx8ICFjb250YWluZXIuYWRkQ2hpbGQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc2V0UGFyZW50OiBBcmd1bWVudCBtdXN0IGJlIGEgQ29udGFpbmVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGFpbmVyLmFkZENoaWxkKHRoaXMpO1xuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8gc2V0IHRoZSBwb3NpdGlvbiwgc2NhbGUsIHNrZXcgYW5kIHBpdm90IGF0IG9uY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZVg9MV0gLSBUaGUgWCBzY2FsZSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVZPTFdIC0gVGhlIFkgc2NhbGUgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0aW9uPTBdIC0gVGhlIHJvdGF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtza2V3WD0wXSAtIFRoZSBYIHNrZXcgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NrZXdZPTBdIC0gVGhlIFkgc2tldyB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGl2b3RYPTBdIC0gVGhlIFggcGl2b3QgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bpdm90WT0wXSAtIFRoZSBZIHBpdm90IHZhbHVlXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgRGlzcGxheU9iamVjdCBpbnN0YW5jZVxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uICh4LCB5LCBzY2FsZVgsIHNjYWxlWSwgcm90YXRpb24sIHNrZXdYLCBza2V3WSwgcGl2b3RYLCBwaXZvdFkpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIGlmIChzY2FsZVggPT09IHZvaWQgMCkgeyBzY2FsZVggPSAxOyB9XG4gICAgICAgIGlmIChzY2FsZVkgPT09IHZvaWQgMCkgeyBzY2FsZVkgPSAxOyB9XG4gICAgICAgIGlmIChyb3RhdGlvbiA9PT0gdm9pZCAwKSB7IHJvdGF0aW9uID0gMDsgfVxuICAgICAgICBpZiAoc2tld1ggPT09IHZvaWQgMCkgeyBza2V3WCA9IDA7IH1cbiAgICAgICAgaWYgKHNrZXdZID09PSB2b2lkIDApIHsgc2tld1kgPSAwOyB9XG4gICAgICAgIGlmIChwaXZvdFggPT09IHZvaWQgMCkgeyBwaXZvdFggPSAwOyB9XG4gICAgICAgIGlmIChwaXZvdFkgPT09IHZvaWQgMCkgeyBwaXZvdFkgPSAwOyB9XG4gICAgICAgIHRoaXMucG9zaXRpb24ueCA9IHg7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueSA9IHk7XG4gICAgICAgIHRoaXMuc2NhbGUueCA9ICFzY2FsZVggPyAxIDogc2NhbGVYO1xuICAgICAgICB0aGlzLnNjYWxlLnkgPSAhc2NhbGVZID8gMSA6IHNjYWxlWTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgICAgICB0aGlzLnNrZXcueCA9IHNrZXdYO1xuICAgICAgICB0aGlzLnNrZXcueSA9IHNrZXdZO1xuICAgICAgICB0aGlzLnBpdm90LnggPSBwaXZvdFg7XG4gICAgICAgIHRoaXMucGl2b3QueSA9IHBpdm90WTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCYXNlIGRlc3Ryb3kgbWV0aG9kIGZvciBnZW5lcmljIGRpc3BsYXkgb2JqZWN0cy4gVGhpcyB3aWxsIGF1dG9tYXRpY2FsbHlcbiAgICAgKiByZW1vdmUgdGhlIGRpc3BsYXkgb2JqZWN0IGZyb20gaXRzIHBhcmVudCBDb250YWluZXIgYXMgd2VsbCBhcyByZW1vdmVcbiAgICAgKiBhbGwgY3VycmVudCBldmVudCBsaXN0ZW5lcnMgYW5kIGludGVybmFsIHJlZmVyZW5jZXMuIERvIG5vdCB1c2UgYSBEaXNwbGF5T2JqZWN0XG4gICAgICogYWZ0ZXIgY2FsbGluZyBgZGVzdHJveSgpYC5cbiAgICAgKlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoX29wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbWFzayA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsdGVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG4gICAgICAgIHRoaXMuaGl0QXJlYSA9IG51bGw7XG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwiX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICAgICAgICAgIHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBuZXcgVGVtcG9yYXJ5RGlzcGxheU9iamVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBVc2VkIGluIFJlbmRlcmVyLCBjYWNoZUFzQml0bWFwIGFuZCBvdGhlciBwbGFjZXMgd2hlcmUgeW91IGNhbGwgYW4gYHVwZGF0ZVRyYW5zZm9ybWAgb24gcm9vdFxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogY29uc3QgY2FjaGVQYXJlbnQgPSBlbGVtLmVuYWJsZVRlbXBQYXJlbnQoKTtcbiAgICAgKiBlbGVtLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAqIGVsZW0uZGlzYWJsZVRlbXBQYXJlbnQoY2FjaGVQYXJlbnQpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHJldHVybnMge1BJWEkuRGlzcGxheU9iamVjdH0gY3VycmVudCBwYXJlbnRcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5lbmFibGVUZW1wUGFyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbXlQYXJlbnQgPSB0aGlzLnBhcmVudDtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgcmV0dXJuIG15UGFyZW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGFpciBtZXRob2QgZm9yIGBlbmFibGVUZW1wUGFyZW50YFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNhY2hlUGFyZW50IC0gQWN0dWFsIHBhcmVudCBvZiBlbGVtZW50XG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZGlzYWJsZVRlbXBQYXJlbnQgPSBmdW5jdGlvbiAoY2FjaGVQYXJlbnQpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBjYWNoZVBhcmVudDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJ4XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeCBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAgICAgKiBBbiBhbGlhcyB0byBwb3NpdGlvbi54XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnggPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJ5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeSBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAgICAgKiBBbiBhbGlhcyB0byBwb3NpdGlvbi55XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnkgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJ3b3JsZFRyYW5zZm9ybVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHRyYW5zZm9ybSBvZiB0aGUgb2JqZWN0IGJhc2VkIG9uIHdvcmxkIChwYXJlbnQpIGZhY3RvcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcImxvY2FsVHJhbnNmb3JtXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgdHJhbnNmb3JtIG9mIHRoZSBvYmplY3QgYmFzZWQgb24gbG9jYWwgZmFjdG9yczogcG9zaXRpb24sIHNjYWxlLCBvdGhlciBzdHVmZi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwicG9zaXRpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIG9iamVjdCByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHNpbmNlIFBpeGlKUyA0XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwic2NhbGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNjYWxlIGZhY3RvcnMgb2YgdGhpcyBvYmplY3QgYWxvbmcgdGhlIGxvY2FsIGNvb3JkaW5hdGUgYXhlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGRlZmF1bHQgc2NhbGUgaXMgKDEsIDEpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc2luY2UgUGl4aUpTIDRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5zY2FsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnNjYWxlLmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJwaXZvdFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2VudGVyIG9mIHJvdGF0aW9uLCBzY2FsaW5nLCBhbmQgc2tld2luZyBmb3IgdGhpcyBkaXNwbGF5IG9iamVjdCBpbiBpdHMgbG9jYWwgc3BhY2UuIFRoZSBgcG9zaXRpb25gXG4gICAgICAgICAqIGlzIHRoZSBwcm9qZWN0aW9uIG9mIGBwaXZvdGAgaW4gdGhlIHBhcmVudCdzIGxvY2FsIHNwYWNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBCeSBkZWZhdWx0LCB0aGUgcGl2b3QgaXMgdGhlIG9yaWdpbiAoMCwgMCkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzaW5jZSBQaXhpSlMgNFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnBpdm90O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucGl2b3QuY29weUZyb20odmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcInNrZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNrZXcgZmFjdG9yIGZvciB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzaW5jZSBQaXhpSlMgNFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnNrZXc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5za2V3LmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJyb3RhdGlvblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcm90YXRpb24gb2YgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAgICAgKiAncm90YXRpb24nIGFuZCAnYW5nbGUnIGhhdmUgdGhlIHNhbWUgZWZmZWN0IG9uIGEgZGlzcGxheSBvYmplY3Q7IHJvdGF0aW9uIGlzIGluIHJhZGlhbnMsIGFuZ2xlIGlzIGluIGRlZ3JlZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJhbmdsZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5nbGUgb2YgdGhlIG9iamVjdCBpbiBkZWdyZWVzLlxuICAgICAgICAgKiAncm90YXRpb24nIGFuZCAnYW5nbGUnIGhhdmUgdGhlIHNhbWUgZWZmZWN0IG9uIGEgZGlzcGxheSBvYmplY3Q7IHJvdGF0aW9uIGlzIGluIHJhZGlhbnMsIGFuZ2xlIGlzIGluIGRlZ3JlZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uICogUkFEX1RPX0RFRztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uID0gdmFsdWUgKiBERUdfVE9fUkFEO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcInpJbmRleFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgekluZGV4IG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiBhIGNvbnRhaW5lciBoYXMgdGhlIHNvcnRhYmxlQ2hpbGRyZW4gcHJvcGVydHkgc2V0IHRvIHRydWUsIGNoaWxkcmVuIHdpbGwgYmUgYXV0b21hdGljYWxseVxuICAgICAgICAgKiBzb3J0ZWQgYnkgekluZGV4IHZhbHVlOyBhIGhpZ2hlciB2YWx1ZSB3aWxsIG1lYW4gaXQgd2lsbCBiZSBtb3ZlZCB0b3dhcmRzIHRoZSBlbmQgb2YgdGhlIGFycmF5LFxuICAgICAgICAgKiBhbmQgdGh1cyByZW5kZXJlZCBvbiB0b3Agb2Ygb3RoZXIgZGlzcGxheSBvYmplY3RzIHdpdGhpbiB0aGUgc2FtZSBjb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLkNvbnRhaW5lciNzb3J0YWJsZUNoaWxkcmVuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl96SW5kZXg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl96SW5kZXggPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnNvcnREaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwid29ybGRWaXNpYmxlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgb2JqZWN0IGlzIGdsb2JhbGx5IHZpc2libGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXM7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaWYgKCFpdGVtLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpdGVtID0gaXRlbS5wYXJlbnQ7XG4gICAgICAgICAgICB9IHdoaWxlIChpdGVtKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcIm1hc2tcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyBhIG1hc2sgZm9yIHRoZSBkaXNwbGF5T2JqZWN0LiBBIG1hc2sgaXMgYW4gb2JqZWN0IHRoYXQgbGltaXRzIHRoZSB2aXNpYmlsaXR5IG9mIGFuXG4gICAgICAgICAqIG9iamVjdCB0byB0aGUgc2hhcGUgb2YgdGhlIG1hc2sgYXBwbGllZCB0byBpdC4gSW4gUGl4aUpTIGEgcmVndWxhciBtYXNrIG11c3QgYmUgYVxuICAgICAgICAgKiB7QGxpbmsgUElYSS5HcmFwaGljc30gb3IgYSB7QGxpbmsgUElYSS5TcHJpdGV9IG9iamVjdC4gVGhpcyBhbGxvd3MgZm9yIG11Y2ggZmFzdGVyIG1hc2tpbmcgaW4gY2FudmFzIGFzIGl0XG4gICAgICAgICAqIHV0aWxpdGllcyBzaGFwZSBjbGlwcGluZy4gVG8gcmVtb3ZlIGEgbWFzaywgc2V0IHRoaXMgcHJvcGVydHkgdG8gYG51bGxgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBGb3Igc3ByaXRlIG1hc2sgYm90aCBhbHBoYSBhbmQgcmVkIGNoYW5uZWwgYXJlIHVzZWQuIEJsYWNrIG1hc2sgaXMgdGhlIHNhbWUgYXMgdHJhbnNwYXJlbnQgbWFzay5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogY29uc3QgZ3JhcGhpY3MgPSBuZXcgUElYSS5HcmFwaGljcygpO1xuICAgICAgICAgKiBncmFwaGljcy5iZWdpbkZpbGwoMHhGRjMzMDApO1xuICAgICAgICAgKiBncmFwaGljcy5kcmF3UmVjdCg1MCwgMjUwLCAxMDAsIDEwMCk7XG4gICAgICAgICAqIGdyYXBoaWNzLmVuZEZpbGwoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAgICAgKiBzcHJpdGUubWFzayA9IGdyYXBoaWNzO1xuICAgICAgICAgKlxuICAgICAgICAgKiBAdG9kbyBBdCB0aGUgbW9tZW50LCBQSVhJLkNhbnZhc1JlbmRlcmVyIGRvZXNuJ3Qgc3VwcG9ydCBQSVhJLlNwcml0ZSBhcyBtYXNrLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNvbnRhaW5lcnxQSVhJLk1hc2tEYXRhfG51bGx9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXNrO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21hc2spIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFza09iamVjdCA9ICh0aGlzLl9tYXNrLm1hc2tPYmplY3QgfHwgdGhpcy5fbWFzayk7XG4gICAgICAgICAgICAgICAgbWFza09iamVjdC5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBtYXNrT2JqZWN0LmlzTWFzayA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbWFzayA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX21hc2spIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFza09iamVjdCA9ICh0aGlzLl9tYXNrLm1hc2tPYmplY3QgfHwgdGhpcy5fbWFzayk7XG4gICAgICAgICAgICAgICAgbWFza09iamVjdC5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbWFza09iamVjdC5pc01hc2sgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIERpc3BsYXlPYmplY3Q7XG59KEV2ZW50RW1pdHRlcikpO1xudmFyIFRlbXBvcmFyeURpc3BsYXlPYmplY3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRlbXBvcmFyeURpc3BsYXlPYmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVGVtcG9yYXJ5RGlzcGxheU9iamVjdCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNvcnREaXJ0eSA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFRlbXBvcmFyeURpc3BsYXlPYmplY3Q7XG59KERpc3BsYXlPYmplY3QpKTtcbi8qKlxuICogRGlzcGxheU9iamVjdCBkZWZhdWx0IHVwZGF0ZVRyYW5zZm9ybSwgZG9lcyBub3QgdXBkYXRlIGNoaWxkcmVuIG9mIGNvbnRhaW5lci5cbiAqIFdpbGwgY3Jhc2ggaWYgdGhlcmUncyBubyBwYXJlbnQgZWxlbWVudC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQG1ldGhvZCBkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0gPSBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm07XG5cbmZ1bmN0aW9uIHNvcnRDaGlsZHJlbihhLCBiKSB7XG4gICAgaWYgKGEuekluZGV4ID09PSBiLnpJbmRleCkge1xuICAgICAgICByZXR1cm4gYS5fbGFzdFNvcnRlZEluZGV4IC0gYi5fbGFzdFNvcnRlZEluZGV4O1xuICAgIH1cbiAgICByZXR1cm4gYS56SW5kZXggLSBiLnpJbmRleDtcbn1cbi8qKlxuICogQ29udGFpbmVyIGlzIGEgZ2VuZXJhbC1wdXJwb3NlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaG9sZHMgY2hpbGRyZW4uIEl0IGFsc28gYWRkcyBidWlsdC1pbiBzdXBwb3J0IGZvciBhZHZhbmNlZFxuICogcmVuZGVyaW5nIGZlYXR1cmVzIGxpa2UgbWFza2luZyBhbmQgZmlsdGVyaW5nLlxuICpcbiAqIEl0IGlzIHRoZSBiYXNlIGNsYXNzIG9mIGFsbCBkaXNwbGF5IG9iamVjdHMgdGhhdCBhY3QgYXMgYSBjb250YWluZXIgZm9yIG90aGVyIG9iamVjdHMsIGluY2x1ZGluZyBHcmFwaGljc1xuICogYW5kIFNwcml0ZS5cbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IHsgQmx1ckZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1ibHVyJztcbiAqIGltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuICogaW1wb3J0IHsgR3JhcGhpY3MgfSBmcm9tICdAcGl4aS9ncmFwaGljcyc7XG4gKiBpbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuICpcbiAqIGxldCBjb250YWluZXIgPSBuZXcgQ29udGFpbmVyKCk7XG4gKiBsZXQgc3ByaXRlID0gU3ByaXRlLmZyb20oXCJodHRwczovL3MzLXVzLXdlc3QtMi5hbWF6b25hd3MuY29tL3MuY2Rwbi5pby82OTM2MTIvSWFVcnR0ai5wbmdcIik7XG4gKlxuICogc3ByaXRlLndpZHRoID0gNTEyO1xuICogc3ByaXRlLmhlaWdodCA9IDUxMjtcbiAqXG4gKiAvLyBBZGRzIGEgc3ByaXRlIGFzIGEgY2hpbGQgdG8gdGhpcyBjb250YWluZXIuIEFzIGEgcmVzdWx0LCB0aGUgc3ByaXRlIHdpbGwgYmUgcmVuZGVyZWQgd2hlbmV2ZXIgdGhlIGNvbnRhaW5lclxuICogLy8gaXMgcmVuZGVyZWQuXG4gKiBjb250YWluZXIuYWRkQ2hpbGQoc3ByaXRlKTtcbiAqXG4gKiAvLyBCbHVycyB3aGF0ZXZlciBpcyByZW5kZXJlZCBieSB0aGUgY29udGFpbmVyXG4gKiBjb250YWluZXIuZmlsdGVycyA9IFtuZXcgQmx1ckZpbHRlcigpXTtcbiAqXG4gKiAvLyBPbmx5IHRoZSBjb250ZW50cyB3aXRoaW4gYSBjaXJjbGUgYXQgdGhlIGNlbnRlciBzaG91bGQgYmUgcmVuZGVyZWQgb250byB0aGUgc2NyZWVuLlxuICogY29udGFpbmVyLm1hc2sgPSBuZXcgR3JhcGhpY3MoKVxuICogIC5iZWdpbkZpbGwoMHhmZmZmZmYpXG4gKiAgLmRyYXdDaXJjbGUoc3ByaXRlLndpZHRoIC8gMiwgc3ByaXRlLmhlaWdodCAvIDIsIE1hdGgubWluKHNwcml0ZS53aWR0aCwgc3ByaXRlLmhlaWdodCkgLyAyKVxuICogIC5lbmRGaWxsKCk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRGlzcGxheU9iamVjdFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29udGFpbmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbnRhaW5lcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcnJheSBvZiBjaGlsZHJlbiBvZiB0aGlzIGNvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0W119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHNldCB0byB0cnVlLCB0aGUgY29udGFpbmVyIHdpbGwgc29ydCBpdHMgY2hpbGRyZW4gYnkgekluZGV4IHZhbHVlXG4gICAgICAgICAqIHdoZW4gdXBkYXRlVHJhbnNmb3JtKCkgaXMgY2FsbGVkLCBvciBtYW51YWxseSBpZiBzb3J0Q2hpbGRyZW4oKSBpcyBjYWxsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgYWN0dWFsbHkgY2hhbmdlcyB0aGUgb3JkZXIgb2YgZWxlbWVudHMgaW4gdGhlIGFycmF5LCBzbyBzaG91bGQgYmUgdHJlYXRlZFxuICAgICAgICAgKiBhcyBhIGJhc2ljIHNvbHV0aW9uIHRoYXQgaXMgbm90IHBlcmZvcm1hbnQgY29tcGFyZWQgdG8gb3RoZXIgc29sdXRpb25zLFxuICAgICAgICAgKiBzdWNoIGFzIEBsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS1kaXNwbGF5XG4gICAgICAgICAqXG4gICAgICAgICAqIEFsc28gYmUgYXdhcmUgb2YgdGhhdCB0aGlzIG1heSBub3Qgd29yayBuaWNlbHkgd2l0aCB0aGUgYWRkQ2hpbGRBdCgpIGZ1bmN0aW9uLFxuICAgICAgICAgKiBhcyB0aGUgekluZGV4IHNvcnRpbmcgbWF5IGNhdXNlIHRoZSBjaGlsZCB0byBhdXRvbWF0aWNhbGx5IHNvcnRlZCB0byBhbm90aGVyIHBvc2l0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuU09SVEFCTEVfQ0hJTERSRU5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNvcnRhYmxlQ2hpbGRyZW4gPSBzZXR0aW5ncy5TT1JUQUJMRV9DSElMRFJFTjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3VsZCBjaGlsZHJlbiBiZSBzb3J0ZWQgYnkgekluZGV4IGF0IHRoZSBuZXh0IHVwZGF0ZVRyYW5zZm9ybSBjYWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBXaWxsIGdldCBhdXRvbWF0aWNhbGx5IHNldCB0byB0cnVlIGlmIGEgbmV3IGNoaWxkIGlzIGFkZGVkLCBvciBpZiBhIGNoaWxkJ3MgekluZGV4IGNoYW5nZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3J0RGlydHkgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIERpc3BsYXlPYmplY3QgaXMgYWRkZWQgdG8gdGhpcyBDb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkNvbnRhaW5lciNjaGlsZEFkZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCBhZGRlZCB0byB0aGUgQ29udGFpbmVyLlxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRoYXQgYWRkZWQgdGhlIGNoaWxkLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgY2hpbGRyZW4ncyBpbmRleCBvZiB0aGUgYWRkZWQgY2hpbGQuXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIERpc3BsYXlPYmplY3QgaXMgcmVtb3ZlZCBmcm9tIHRoaXMgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JlbW92ZWRGcm9tXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCByZW1vdmVkIGZyb20gdGhlIENvbnRhaW5lci5cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0aGF0IHJlbW92ZWQgcmVtb3ZlZCB0aGUgY2hpbGQuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBmb3JtZXIgY2hpbGRyZW4ncyBpbmRleCBvZiB0aGUgcmVtb3ZlZCBjaGlsZFxuICAgICAgICAgKi9cbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGFibGUgbWV0aG9kIHRoYXQgY2FuIGJlIHVzZWQgYnkgQ29udGFpbmVyIHN1YmNsYXNzZXMgd2hlbmV2ZXIgdGhlIGNoaWxkcmVuIGFycmF5IGlzIG1vZGlmaWVkXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5vbkNoaWxkcmVuQ2hhbmdlID0gZnVuY3Rpb24gKF9sZW5ndGgpIHtcbiAgICAgICAgLyogZW1wdHkgKi9cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgb25lIG9yIG1vcmUgY2hpbGRyZW4gdG8gdGhlIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIE11bHRpcGxlIGl0ZW1zIGNhbiBiZSBhZGRlZCBsaWtlIHNvOiBgbXlDb250YWluZXIuYWRkQ2hpbGQodGhpbmdPbmUsIHRoaW5nVHdvLCB0aGluZ1RocmVlKWBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Li4uUElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZHJlbiAtIFRoZSBEaXNwbGF5T2JqZWN0KHMpIHRvIGFkZCB0byB0aGUgY29udGFpbmVyXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgZmlyc3QgY2hpbGQgdGhhdCB3YXMgYWRkZWQuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5hZGRDaGlsZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgICAgIHZhciBjaGlsZHJlbiA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgY2hpbGRyZW5bX2ldID0gYXJndW1lbnRzJDFbX2ldO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIG9ubHkgb25lIGFyZ3VtZW50IHdlIGNhbiBieXBhc3MgbG9vcGluZyB0aHJvdWdoIHRoZSB0aGVtXG4gICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAvLyBsb29wIHRocm91Z2ggdGhlIGFycmF5IGFuZCBhZGQgYWxsIGNoaWxkcmVuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5bMF07XG4gICAgICAgICAgICAvLyBpZiB0aGUgY2hpbGQgaGFzIGEgcGFyZW50IHRoZW4gbGV0cyByZW1vdmUgaXQgYXMgUGl4aUpTIG9iamVjdHMgY2FuIG9ubHkgZXhpc3QgaW4gb25lIHBsYWNlXG4gICAgICAgICAgICBpZiAoY2hpbGQucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLnNvcnREaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZSh0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGlsZEFkZGVkJywgY2hpbGQsIHRoaXMsIHRoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICBjaGlsZC5lbWl0KCdhZGRlZCcsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGlsZHJlblswXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSBjaGlsZCB0byB0aGUgY29udGFpbmVyIGF0IGEgc3BlY2lmaWVkIGluZGV4LiBJZiB0aGUgaW5kZXggaXMgb3V0IG9mIGJvdW5kcyBhbiBlcnJvciB3aWxsIGJlIHRocm93blxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIGNoaWxkIHRvIGFkZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBpbmRleCB0byBwbGFjZSB0aGUgY2hpbGQgaW5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCB0aGF0IHdhcyBhZGRlZC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmFkZENoaWxkQXQgPSBmdW5jdGlvbiAoY2hpbGQsIGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPiB0aGlzLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGNoaWxkICsgXCJhZGRDaGlsZEF0OiBUaGUgaW5kZXggXCIgKyBpbmRleCArIFwiIHN1cHBsaWVkIGlzIG91dCBvZiBib3VuZHMgXCIgKyB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoaWxkLnBhcmVudCkge1xuICAgICAgICAgICAgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgICAgICB0aGlzLnNvcnREaXJ0eSA9IHRydWU7XG4gICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgY2hpbGQpO1xuICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgY2hpbGQuZW1pdCgnYWRkZWQnLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lbWl0KCdjaGlsZEFkZGVkJywgY2hpbGQsIHRoaXMsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3dhcHMgdGhlIHBvc2l0aW9uIG9mIDIgRGlzcGxheSBPYmplY3RzIHdpdGhpbiB0aGlzIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIEZpcnN0IGRpc3BsYXkgb2JqZWN0IHRvIHN3YXBcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQyIC0gU2Vjb25kIGRpc3BsYXkgb2JqZWN0IHRvIHN3YXBcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnN3YXBDaGlsZHJlbiA9IGZ1bmN0aW9uIChjaGlsZCwgY2hpbGQyKSB7XG4gICAgICAgIGlmIChjaGlsZCA9PT0gY2hpbGQyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4MSA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG4gICAgICAgIHZhciBpbmRleDIgPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQyKTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbltpbmRleDFdID0gY2hpbGQyO1xuICAgICAgICB0aGlzLmNoaWxkcmVuW2luZGV4Ml0gPSBjaGlsZDtcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4MSA8IGluZGV4MiA/IGluZGV4MSA6IGluZGV4Mik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBpbmRleCBwb3NpdGlvbiBvZiBhIGNoaWxkIERpc3BsYXlPYmplY3QgaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBEaXNwbGF5T2JqZWN0IGluc3RhbmNlIHRvIGlkZW50aWZ5XG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW5kZXggcG9zaXRpb24gb2YgdGhlIGNoaWxkIGRpc3BsYXkgb2JqZWN0IHRvIGlkZW50aWZ5XG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDaGlsZEluZGV4ID0gZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCk7XG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHN1cHBsaWVkIERpc3BsYXlPYmplY3QgbXVzdCBiZSBhIGNoaWxkIG9mIHRoZSBjYWxsZXInKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBwb3NpdGlvbiBvZiBhbiBleGlzdGluZyBjaGlsZCBpbiB0aGUgZGlzcGxheSBvYmplY3QgY29udGFpbmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgRGlzcGxheU9iamVjdCBpbnN0YW5jZSBmb3Igd2hpY2ggeW91IHdhbnQgdG8gY2hhbmdlIHRoZSBpbmRleCBudW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgcmVzdWx0aW5nIGluZGV4IG51bWJlciBmb3IgdGhlIGNoaWxkIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zZXRDaGlsZEluZGV4ID0gZnVuY3Rpb24gKGNoaWxkLCBpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgaW5kZXggXCIgKyBpbmRleCArIFwiIHN1cHBsaWVkIGlzIG91dCBvZiBib3VuZHMgXCIgKyB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG4gICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGN1cnJlbnRJbmRleCwgMSk7IC8vIHJlbW92ZSBmcm9tIG9sZCBwb3NpdGlvblxuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgY2hpbGQpOyAvLyBhZGQgYXQgbmV3IHBvc2l0aW9uXG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjaGlsZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gZ2V0IHRoZSBjaGlsZCBhdFxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIGF0IHRoZSBnaXZlbiBpbmRleCwgaWYgYW55LlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuZ2V0Q2hpbGRBdCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJnZXRDaGlsZEF0OiBJbmRleCAoXCIgKyBpbmRleCArIFwiKSBkb2VzIG5vdCBleGlzdC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5baW5kZXhdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBvbmUgb3IgbW9yZSBjaGlsZHJlbiBmcm9tIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gey4uLlBJWEkuRGlzcGxheU9iamVjdH0gY2hpbGRyZW4gLSBUaGUgRGlzcGxheU9iamVjdChzKSB0byByZW1vdmVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBmaXJzdCBjaGlsZCB0aGF0IHdhcyByZW1vdmVkLlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVtb3ZlQ2hpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgICAgICB2YXIgY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGNoaWxkcmVuW19pXSA9IGFyZ3VtZW50cyQxW19pXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhcmd1bWVudCB3ZSBjYW4gYnlwYXNzIGxvb3BpbmcgdGhyb3VnaCB0aGUgdGhlbVxuICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhcmd1bWVudHMgcHJvcGVydHkgYW5kIHJlbW92ZSBhbGwgY2hpbGRyZW5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKGNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpXG4gICAgICAgICAgICAgICAgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGluZGV4LCAxKTtcbiAgICAgICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgICAgICAgICAgY2hpbGQuZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGlsZFJlbW92ZWQnLCBjaGlsZCwgdGhpcywgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGlsZHJlblswXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBjaGlsZCBmcm9tIHRoZSBzcGVjaWZpZWQgaW5kZXggcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gZ2V0IHRoZSBjaGlsZCBmcm9tXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkQXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5nZXRDaGlsZEF0KGluZGV4KTtcbiAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZC4uXG4gICAgICAgIGNoaWxkLnBhcmVudCA9IG51bGw7XG4gICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgaW5kZXgsIDEpO1xuICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgY2hpbGQuZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICB0aGlzLmVtaXQoJ2NoaWxkUmVtb3ZlZCcsIGNoaWxkLCB0aGlzLCBpbmRleCk7XG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGNoaWxkcmVuIGZyb20gdGhpcyBjb250YWluZXIgdGhhdCBhcmUgd2l0aGluIHRoZSBiZWdpbiBhbmQgZW5kIGluZGV4ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2JlZ2luSW5kZXg9MF0gLSBUaGUgYmVnaW5uaW5nIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kSW5kZXg9dGhpcy5jaGlsZHJlbi5sZW5ndGhdIC0gVGhlIGVuZGluZyBwb3NpdGlvbi4gRGVmYXVsdCB2YWx1ZSBpcyBzaXplIG9mIHRoZSBjb250YWluZXIuXG4gICAgICogQHJldHVybnMge1BJWEkuRGlzcGxheU9iamVjdFtdfSBMaXN0IG9mIHJlbW92ZWQgY2hpbGRyZW5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkcmVuID0gZnVuY3Rpb24gKGJlZ2luSW5kZXgsIGVuZEluZGV4KSB7XG4gICAgICAgIGlmIChiZWdpbkluZGV4ID09PSB2b2lkIDApIHsgYmVnaW5JbmRleCA9IDA7IH1cbiAgICAgICAgaWYgKGVuZEluZGV4ID09PSB2b2lkIDApIHsgZW5kSW5kZXggPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgfVxuICAgICAgICB2YXIgYmVnaW4gPSBiZWdpbkluZGV4O1xuICAgICAgICB2YXIgZW5kID0gZW5kSW5kZXg7XG4gICAgICAgIHZhciByYW5nZSA9IGVuZCAtIGJlZ2luO1xuICAgICAgICB2YXIgcmVtb3ZlZDtcbiAgICAgICAgaWYgKHJhbmdlID4gMCAmJiByYW5nZSA8PSBlbmQpIHtcbiAgICAgICAgICAgIHJlbW92ZWQgPSB0aGlzLmNoaWxkcmVuLnNwbGljZShiZWdpbiwgcmFuZ2UpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdmVkLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZFtpXS5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChyZW1vdmVkW2ldLnRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVkW2ldLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgICAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGJlZ2luSW5kZXgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdmVkLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZFtpXS5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGlsZFJlbW92ZWQnLCByZW1vdmVkW2ldLCB0aGlzLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZW1vdmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJhbmdlID09PSAwICYmIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3JlbW92ZUNoaWxkcmVuOiBudW1lcmljIHZhbHVlcyBhcmUgb3V0c2lkZSB0aGUgYWNjZXB0YWJsZSByYW5nZS4nKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNvcnRzIGNoaWxkcmVuIGJ5IHpJbmRleC4gUHJldmlvdXMgb3JkZXIgaXMgbWFpbnRhaW5lZCBmb3IgMiBjaGlsZHJlbiB3aXRoIHRoZSBzYW1lIHpJbmRleC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnNvcnRDaGlsZHJlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNvcnRSZXF1aXJlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgY2hpbGQuX2xhc3RTb3J0ZWRJbmRleCA9IGk7XG4gICAgICAgICAgICBpZiAoIXNvcnRSZXF1aXJlZCAmJiBjaGlsZC56SW5kZXggIT09IDApIHtcbiAgICAgICAgICAgICAgICBzb3J0UmVxdWlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzb3J0UmVxdWlyZWQgJiYgdGhpcy5jaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnNvcnQoc29ydENoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNvcnREaXJ0eSA9IGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdHJhbnNmb3JtIG9uIGFsbCBjaGlsZHJlbiBvZiB0aGlzIGNvbnRhaW5lciBmb3IgcmVuZGVyaW5nXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnNvcnRhYmxlQ2hpbGRyZW4gJiYgdGhpcy5zb3J0RGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuc29ydENoaWxkcmVuKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIC8vIFRPRE86IGNoZWNrIHJlbmRlciBmbGFncywgaG93IHRvIHByb2Nlc3Mgc3R1ZmYgaGVyZVxuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSB0aGlzLmFscGhhICogdGhpcy5wYXJlbnQud29ybGRBbHBoYTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmIChjaGlsZC52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBUaGlzIGltcGxlbWVudGF0aW9uIHdpbGwgYXV0b21hdGljYWxseSBmaXQgdGhlIGNoaWxkcmVuJ3MgYm91bmRzIGludG8gdGhlIGNhbGN1bGF0aW9uLiBFYWNoIGNoaWxkJ3MgYm91bmRzXG4gICAgICogaXMgbGltaXRlZCB0byBpdHMgbWFzaydzIGJvdW5kcyBvciBmaWx0ZXJBcmVhLCBpZiBhbnkgaXMgYXBwbGllZC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmNhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYm91bmRzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgICAgICBpZiAoIWNoaWxkLnZpc2libGUgfHwgIWNoaWxkLnJlbmRlcmFibGUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoaWxkLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICAgICAgLy8gVE9ETzogZmlsdGVyK21hc2ssIG5lZWQgdG8gbWFzayBib3RoIHNvbWVob3dcbiAgICAgICAgICAgIGlmIChjaGlsZC5fbWFzaykge1xuICAgICAgICAgICAgICAgIHZhciBtYXNrT2JqZWN0ID0gKGNoaWxkLl9tYXNrLm1hc2tPYmplY3QgfHwgY2hpbGQuX21hc2spO1xuICAgICAgICAgICAgICAgIG1hc2tPYmplY3QuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kc01hc2soY2hpbGQuX2JvdW5kcywgbWFza09iamVjdC5fYm91bmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkLmZpbHRlckFyZWEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzQXJlYShjaGlsZC5fYm91bmRzLCBjaGlsZC5maWx0ZXJBcmVhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRCb3VuZHMoY2hpbGQuX2JvdW5kcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEID0gdGhpcy5fYm91bmRzSUQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdCBhcyBhIHJlY3RhbmdsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBDYWxsaW5nIGBnZXRMb2NhbEJvdW5kc2AgbWF5IGludmFsaWRhdGUgdGhlIGBfYm91bmRzYCBvZiB0aGUgd2hvbGUgc3VidHJlZSBiZWxvdy4gSWYgdXNpbmcgaXQgaW5zaWRlIGEgcmVuZGVyKClcbiAgICAgKiBjYWxsLCBpdCBpcyBhZHZpc2VkIHRvIGNhbGwgYGdldEJvdW5kcygpYCBpbW1lZGlhdGVseSBhZnRlciB0byByZWNhbGN1bGF0ZSB0aGUgd29ybGQgYm91bmRzIG9mIHRoZSBzdWJ0cmVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlY3RdIC0gT3B0aW9uYWwgcmVjdGFuZ2xlIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGJvdW5kcyBjYWxjdWxhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwQ2hpbGRyZW5VcGRhdGU9ZmFsc2VdIC0gU2V0dGluZyB0byBgdHJ1ZWAgd2lsbCBzdG9wIHJlLWNhbGN1bGF0aW9uIG9mIGNoaWxkcmVuIHRyYW5zZm9ybXMsXG4gICAgICogIGl0IHdhcyBkZWZhdWx0IGJlaGF2aW91ciBvZiBwaXhpIDQuMC01LjIgYW5kIGNhdXNlZCBtYW55IHByb2JsZW1zIHRvIHVzZXJzLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYS5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gKHJlY3QsIHNraXBDaGlsZHJlblVwZGF0ZSkge1xuICAgICAgICBpZiAoc2tpcENoaWxkcmVuVXBkYXRlID09PSB2b2lkIDApIHsgc2tpcENoaWxkcmVuVXBkYXRlID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IF9zdXBlci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICAgICAgaWYgKCFza2lwQ2hpbGRyZW5VcGRhdGUpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVjYWxjdWxhdGVzIHRoZSBjb250ZW50IGJvdW5kcyBvZiB0aGlzIG9iamVjdC4gVGhpcyBzaG91bGQgYmUgb3ZlcnJpZGVuIHRvXG4gICAgICogY2FsY3VsYXRlIHRoZSBib3VuZHMgb2YgdGhpcyBzcGVjaWZpYyBvYmplY3QgKG5vdCBpbmNsdWRpbmcgY2hpbGRyZW4pLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gRklMTCBJTi8vXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICogVGhlIFtfcmVuZGVyXXtAbGluayBQSVhJLkNvbnRhaW5lciNfcmVuZGVyfSBtZXRob2QgaXMgYmUgb3ZlcnJpZGVuIGZvciByZW5kZXJpbmcgdGhlIGNvbnRlbnRzIG9mIHRoZVxuICAgICAqIGNvbnRhaW5lciBpdHNlbGYuIFRoaXMgYHJlbmRlcmAgbWV0aG9kIHdpbGwgaW52b2tlIGl0LCBhbmQgYWxzbyBpbnZva2UgdGhlIGByZW5kZXJgIG1ldGhvZHMgb2YgYWxsXG4gICAgICogY2hpbGRyZW4gYWZ0ZXJ3YXJkLlxuICAgICAqXG4gICAgICogSWYgYHJlbmRlcmFibGVgIG9yIGB2aXNpYmxlYCBpcyBmYWxzZSBvciBpZiBgd29ybGRBbHBoYWAgaXMgbm90IHBvc2l0aXZlLCB0aGlzIGltcGxlbWVudGF0aW9uIHdpbGwgZW50aXJlbHlcbiAgICAgKiBza2lwIHJlbmRlcmluZy4gU2VlIHtAbGluayBQSVhJLkRpc3BsYXlPYmplY3R9IGZvciBjaG9vc2luZyBiZXR3ZWVuIGByZW5kZXJhYmxlYCBvciBgdmlzaWJsZWAuIEdlbmVyYWxseSxcbiAgICAgKiBzZXR0aW5nIGFscGhhIHRvIHplcm8gaXMgbm90IHJlY29tbWVuZGVkIGZvciBwdXJlbHkgc2tpcHBpbmcgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogV2hlbiB5b3VyIHNjZW5lIGJlY29tZXMgbGFyZ2UgKGVzcGVjaWFsbHkgd2hlbiBpdCBpcyBsYXJnZXIgdGhhbiBjYW4gYmUgdmlld2VkIGluIGEgc2luZ2xlIHNjcmVlbiksIGl0IGlzXG4gICAgICogYWR2aXNlZCB0byBlbXBsb3kgKipjdWxsaW5nKiogdG8gYXV0b21hdGljYWxseSBza2lwIHJlbmRlcmluZyBvYmplY3RzIG91dHNpZGUgb2YgdGhlIGN1cnJlbnQgc2NyZWVuLiBUaGVcbiAgICAgKiBbQHBpeGktZXNzZW50aWFscy9jdWxsXXtAbGluayBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9AcGl4aS1lc3NlbnRpYWxzL2N1bGx9IGFuZFxuICAgICAqIFtwaXhpLWN1bGxde0BsaW5rIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL3BpeGktY3VsbH0gcGFja2FnZXMgZG8gdGhpcyBvdXQgb2YgdGhlIGJveC5cbiAgICAgKlxuICAgICAqIFRoZSBbcmVuZGVyQWR2YW5jZWRde0BsaW5rIFBJWEkuQ29udGFpbmVyI3JlbmRlckFkdmFuY2VkfSBtZXRob2QgaXMgaW50ZXJuYWxseSB1c2VkIHdoZW4gd2hlbiBtYXNraW5nIG9yXG4gICAgICogZmlsdGVyaW5nIGlzIGFwcGxpZWQgb24gYSBjb250YWluZXIuIFRoaXMgZG9lcywgaG93ZXZlciwgYnJlYWsgYmF0Y2hpbmcgYW5kIGNhbiBhZmZlY3QgcGVyZm9ybWFuY2Ugd2hlblxuICAgICAqIG1hc2tpbmcgYW5kIGZpbHRlcmluZyBpcyBhcHBsaWVkIGV4dGVuc2l2ZWx5IHRocm91Z2hvdXQgdGhlIHNjZW5lIGdyYXBoLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIC8vIGlmIHRoZSBvYmplY3QgaXMgbm90IHZpc2libGUgb3IgdGhlIGFscGhhIGlzIDAgdGhlbiBubyBuZWVkIHRvIHJlbmRlciB0aGlzIGVsZW1lbnRcbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRvIGEgcXVpY2sgY2hlY2sgdG8gc2VlIGlmIHRoaXMgZWxlbWVudCBoYXMgYSBtYXNrIG9yIGEgZmlsdGVyLlxuICAgICAgICBpZiAodGhpcy5fbWFzayB8fCAodGhpcy5maWx0ZXJzICYmIHRoaXMuZmlsdGVycy5sZW5ndGgpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckFkdmFuY2VkKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcihyZW5kZXJlcik7XG4gICAgICAgICAgICAvLyBzaW1wbGUgcmVuZGVyIGNoaWxkcmVuIVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0ucmVuZGVyKHJlbmRlcmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyIGFuZCBhZHZhbmNlZCBmZWF0dXJlcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXJBZHZhbmNlZCA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICB2YXIgZmlsdGVycyA9IHRoaXMuZmlsdGVycztcbiAgICAgICAgdmFyIG1hc2sgPSB0aGlzLl9tYXNrO1xuICAgICAgICAvLyBwdXNoIGZpbHRlciBmaXJzdCBhcyB3ZSBuZWVkIHRvIGVuc3VyZSB0aGUgc3RlbmNpbCBidWZmZXIgaXMgY29ycmVjdCBmb3IgYW55IG1hc2tpbmdcbiAgICAgICAgaWYgKGZpbHRlcnMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZW5hYmxlZEZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJzW2ldLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMucHVzaChmaWx0ZXJzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuZmlsdGVyLnB1c2godGhpcywgdGhpcy5fZW5hYmxlZEZpbHRlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChtYXNrKSB7XG4gICAgICAgICAgICByZW5kZXJlci5tYXNrLnB1c2godGhpcywgdGhpcy5fbWFzayk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWRkIHRoaXMgb2JqZWN0IHRvIHRoZSBiYXRjaCwgb25seSByZW5kZXJlZCBpZiBpdCBoYXMgYSB0ZXh0dXJlLlxuICAgICAgICB0aGlzLl9yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgICAvLyBub3cgbG9vcCB0aHJvdWdoIHRoZSBjaGlsZHJlbiBhbmQgbWFrZSBzdXJlIHRoZXkgZ2V0IHJlbmRlcmVkXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0ucmVuZGVyKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICBpZiAobWFzaykge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFzay5wb3AodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZW5kZXJlci5maWx0ZXIucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRvIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHN1YmNsYXNzZXMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChfcmVuZGVyZXIpIHtcbiAgICAgICAgLy8gdGhpcyBpcyB3aGVyZSBjb250ZW50IGl0c2VsZiBnZXRzIHJlbmRlcmVkLi4uXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBpbnRlcm5hbCByZWZlcmVuY2VzIGFuZCBsaXN0ZW5lcnMgYXMgd2VsbCBhcyByZW1vdmVzIGNoaWxkcmVuIGZyb20gdGhlIGRpc3BsYXkgbGlzdC5cbiAgICAgKiBEbyBub3QgdXNlIGEgQ29udGFpbmVyIGFmdGVyIGNhbGxpbmcgYGRlc3Ryb3lgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5zb3J0RGlydHkgPSBmYWxzZTtcbiAgICAgICAgdmFyIGRlc3Ryb3lDaGlsZHJlbiA9IHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicgPyBvcHRpb25zIDogb3B0aW9ucyAmJiBvcHRpb25zLmNoaWxkcmVuO1xuICAgICAgICB2YXIgb2xkQ2hpbGRyZW4gPSB0aGlzLnJlbW92ZUNoaWxkcmVuKDAsIHRoaXMuY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICAgICAgaWYgKGRlc3Ryb3lDaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGRDaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIG9sZENoaWxkcmVuW2ldLmRlc3Ryb3kob3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb250YWluZXIucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgQ29udGFpbmVyLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNjYWxlLnggKiB0aGlzLmdldExvY2FsQm91bmRzKCkud2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldExvY2FsQm91bmRzKCkud2lkdGg7XG4gICAgICAgICAgICBpZiAod2lkdGggIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLnggPSB2YWx1ZSAvIHdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29udGFpbmVyLnByb3RvdHlwZSwgXCJoZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgQ29udGFpbmVyLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNjYWxlLnkgKiB0aGlzLmdldExvY2FsQm91bmRzKCkuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5oZWlnaHQ7XG4gICAgICAgICAgICBpZiAoaGVpZ2h0ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gdmFsdWUgLyBoZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQ29udGFpbmVyO1xufShEaXNwbGF5T2JqZWN0KSk7XG4vKipcbiAqIENvbnRhaW5lciBkZWZhdWx0IHVwZGF0ZVRyYW5zZm9ybSwgZG9lcyB1cGRhdGUgY2hpbGRyZW4gb2YgY29udGFpbmVyLlxuICogV2lsbCBjcmFzaCBpZiB0aGVyZSdzIG5vIHBhcmVudCBlbGVtZW50LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLkNvbnRhaW5lciNcbiAqIEBtZXRob2QgY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtXG4gKi9cbkNvbnRhaW5lci5wcm90b3R5cGUuY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtID0gQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm07XG5cbmV4cG9ydCB7IEJvdW5kcywgQ29udGFpbmVyLCBEaXNwbGF5T2JqZWN0LCBUZW1wb3JhcnlEaXNwbGF5T2JqZWN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXNwbGF5LmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9hY2Nlc3NpYmlsaXR5IC0gdjYuMC4wXG4gKiBDb21waWxlZCBUdWUsIDAyIE1hciAyMDIxIDIxOjQ1OjAzIFVUQ1xuICpcbiAqIEBwaXhpL2FjY2Vzc2liaWxpdHkgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBpc01vYmlsZSwgcmVtb3ZlSXRlbXMgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qKlxuICogRGVmYXVsdCBwcm9wZXJ0eSB2YWx1ZXMgb2YgYWNjZXNzaWJsZSBvYmplY3RzXG4gKiB1c2VkIGJ5IHtAbGluayBQSVhJLkFjY2Vzc2liaWxpdHlNYW5hZ2VyfS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIGFjY2Vzc2libGVUYXJnZXRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQGV4YW1wbGVcbiAqICAgICAgZnVuY3Rpb24gTXlPYmplY3QoKSB7fVxuICpcbiAqICAgICAgT2JqZWN0LmFzc2lnbihcbiAqICAgICAgICAgIE15T2JqZWN0LnByb3RvdHlwZSxcbiAqICAgICAgICAgIFBJWEkuYWNjZXNzaWJsZVRhcmdldFxuICogICAgICApO1xuICovXG52YXIgYWNjZXNzaWJsZVRhcmdldCA9IHtcbiAgICAvKipcbiAgICAgKiAgRmxhZyBmb3IgaWYgdGhlIG9iamVjdCBpcyBhY2Nlc3NpYmxlLiBJZiB0cnVlIEFjY2Vzc2liaWxpdHlNYW5hZ2VyIHdpbGwgb3ZlcmxheSBhXG4gICAgICogICBzaGFkb3cgZGl2IHdpdGggYXR0cmlidXRlcyBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBhY2Nlc3NpYmxlOiBmYWxzZSxcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0aXRsZSBhdHRyaWJ1dGUgb2YgdGhlIHNoYWRvdyBkaXZcbiAgICAgKiBJZiBhY2Nlc3NpYmxlVGl0bGUgQU5EIGFjY2Vzc2libGVIaW50IGhhcyBub3QgYmVlbiB0aGlzIHdpbGwgZGVmYXVsdCB0byAnZGlzcGxheU9iamVjdCBbdGFiSW5kZXhdJ1xuICAgICAqXG4gICAgICogQG1lbWJlciB7P3N0cmluZ31cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGFjY2Vzc2libGVUaXRsZTogbnVsbCxcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBhcmlhLWxhYmVsIGF0dHJpYnV0ZSBvZiB0aGUgc2hhZG93IGRpdlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgYWNjZXNzaWJsZUhpbnQ6IG51bGwsXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgICAqL1xuICAgIHRhYkluZGV4OiAwLFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgICAqL1xuICAgIF9hY2Nlc3NpYmxlQWN0aXZlOiBmYWxzZSxcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICAgKi9cbiAgICBfYWNjZXNzaWJsZURpdjogbnVsbCxcbiAgICAvKipcbiAgICAgKiBTcGVjaWZ5IHRoZSB0eXBlIG9mIGRpdiB0aGUgYWNjZXNzaWJsZSBsYXllciBpcy4gU2NyZWVuIHJlYWRlcnMgdHJlYXQgdGhlIGVsZW1lbnQgZGlmZmVyZW50bHlcbiAgICAgKiBkZXBlbmRpbmcgb24gdGhpcyB0eXBlLiBEZWZhdWx0cyB0byBidXR0b24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAZGVmYXVsdCAnYnV0dG9uJ1xuICAgICAqL1xuICAgIGFjY2Vzc2libGVUeXBlOiAnYnV0dG9uJyxcbiAgICAvKipcbiAgICAgKiBTcGVjaWZ5IHRoZSBwb2ludGVyLWV2ZW50cyB0aGUgYWNjZXNzaWJsZSBkaXYgd2lsbCB1c2VcbiAgICAgKiBEZWZhdWx0cyB0byBhdXRvLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQGRlZmF1bHQgJ2F1dG8nXG4gICAgICovXG4gICAgYWNjZXNzaWJsZVBvaW50ZXJFdmVudHM6ICdhdXRvJyxcbiAgICAvKipcbiAgICAgKiBTZXR0aW5nIHRvIGZhbHNlIHdpbGwgcHJldmVudCBhbnkgY2hpbGRyZW4gaW5zaWRlIHRoaXMgY29udGFpbmVyIHRvXG4gICAgICogYmUgYWNjZXNzaWJsZS4gRGVmYXVsdHMgdG8gdHJ1ZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgYWNjZXNzaWJsZUNoaWxkcmVuOiB0cnVlLFxuICAgIHJlbmRlcklkOiAtMSxcbn07XG5cbi8vIGFkZCBzb21lIGV4dHJhIHZhcmlhYmxlcyB0byB0aGUgY29udGFpbmVyLi5cbkRpc3BsYXlPYmplY3QubWl4aW4oYWNjZXNzaWJsZVRhcmdldCk7XG52YXIgS0VZX0NPREVfVEFCID0gOTtcbnZhciBESVZfVE9VQ0hfU0laRSA9IDEwMDtcbnZhciBESVZfVE9VQ0hfUE9TX1ggPSAwO1xudmFyIERJVl9UT1VDSF9QT1NfWSA9IDA7XG52YXIgRElWX1RPVUNIX1pJTkRFWCA9IDI7XG52YXIgRElWX0hPT0tfU0laRSA9IDE7XG52YXIgRElWX0hPT0tfUE9TX1ggPSAtMTAwMDtcbnZhciBESVZfSE9PS19QT1NfWSA9IC0xMDAwO1xudmFyIERJVl9IT09LX1pJTkRFWCA9IDI7XG4vKipcbiAqIFRoZSBBY2Nlc3NpYmlsaXR5IG1hbmFnZXIgcmVjcmVhdGVzIHRoZSBhYmlsaXR5IHRvIHRhYiBhbmQgaGF2ZSBjb250ZW50IHJlYWQgYnkgc2NyZWVuIHJlYWRlcnMuXG4gKiBUaGlzIGlzIHZlcnkgaW1wb3J0YW50IGFzIGl0IGNhbiBwb3NzaWJseSBoZWxwIHBlb3BsZSB3aXRoIGRpc2FiaWxpdGllcyBhY2Nlc3MgUGl4aUpTIGNvbnRlbnQuXG4gKlxuICogQSBEaXNwbGF5T2JqZWN0IGNhbiBiZSBtYWRlIGFjY2Vzc2libGUganVzdCBsaWtlIGl0IGNhbiBiZSBtYWRlIGludGVyYWN0aXZlLiBUaGlzIG1hbmFnZXIgd2lsbCBtYXAgdGhlXG4gKiBldmVudHMgYXMgaWYgdGhlIG1vdXNlIHdhcyBiZWluZyB1c2VkLCBtaW5pbWl6aW5nIHRoZSBlZmZvcnQgcmVxdWlyZWQgdG8gaW1wbGVtZW50LlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgYHJlbmRlcmVyLnBsdWdpbnMuYWNjZXNzaWJpbGl0eWBcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBY2Nlc3NpYmlsaXR5TWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ8UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFjY2Vzc2liaWxpdHlNYW5hZ2VyKHJlbmRlcmVyKSB7XG4gICAgICAgIC8qKiBTZXR0aW5nIHRoaXMgdG8gdHJ1ZSB3aWxsIHZpc3VhbGx5IHNob3cgdGhlIGRpdnMuICovXG4gICAgICAgIHRoaXMuZGVidWcgPSBmYWxzZTtcbiAgICAgICAgLyoqIEludGVybmFsIHZhcmlhYmxlLCBzZWUgaXNBY3RpdmUgZ2V0dGVyLiAqL1xuICAgICAgICB0aGlzLl9pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAvKiogSW50ZXJuYWwgdmFyaWFibGUsIHNlZSBpc01vYmlsZUFjY2Vzc2liaWxpdHkgZ2V0dGVyLiAqL1xuICAgICAgICB0aGlzLl9pc01vYmlsZUFjY2Vzc2liaWxpdHkgPSBmYWxzZTtcbiAgICAgICAgLyoqIEEgc2ltcGxlIHBvb2wgZm9yIHN0b3JpbmcgZGl2cy4gKi9cbiAgICAgICAgdGhpcy5wb29sID0gW107XG4gICAgICAgIC8qKiBUaGlzIGlzIGEgdGljayB1c2VkIHRvIGNoZWNrIGlmIGFuIG9iamVjdCBpcyBubyBsb25nZXIgYmVpbmcgcmVuZGVyZWQuICovXG4gICAgICAgIHRoaXMucmVuZGVySWQgPSAwO1xuICAgICAgICAvKiogVGhlIGFycmF5IG9mIGN1cnJlbnRseSBhY3RpdmUgYWNjZXNzaWJsZSBpdGVtcy4gKi9cbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICAvKiogQ291bnQgdG8gdGhyb3R0bGUgZGl2IHVwZGF0ZXMgb24gYW5kcm9pZCBkZXZpY2VzLiAqL1xuICAgICAgICB0aGlzLmFuZHJvaWRVcGRhdGVDb3VudCA9IDA7XG4gICAgICAgIC8qKiAgVGhlIGZyZXF1ZW5jeSB0byB1cGRhdGUgdGhlIGRpdiBlbGVtZW50cy4gKi9cbiAgICAgICAgdGhpcy5hbmRyb2lkVXBkYXRlRnJlcXVlbmN5ID0gNTAwOyAvLyAyZnBzXG4gICAgICAgIHRoaXMuX2hvb2tEaXYgPSBudWxsO1xuICAgICAgICBpZiAoaXNNb2JpbGUudGFibGV0IHx8IGlzTW9iaWxlLnBob25lKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVRvdWNoSG9vaygpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZpcnN0IHdlIGNyZWF0ZSBhIGRpdiB0aGF0IHdpbGwgc2l0IG92ZXIgdGhlIFBpeGlKUyBlbGVtZW50LiBUaGlzIGlzIHdoZXJlIHRoZSBkaXYgb3ZlcmxheXMgd2lsbCBnby5cbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBESVZfVE9VQ0hfU0laRSArIFwicHhcIjtcbiAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IERJVl9UT1VDSF9TSVpFICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBkaXYuc3R5bGUudG9wID0gRElWX1RPVUNIX1BPU19YICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUubGVmdCA9IERJVl9UT1VDSF9QT1NfWSArIFwicHhcIjtcbiAgICAgICAgZGl2LnN0eWxlLnpJbmRleCA9IERJVl9UT1VDSF9aSU5ERVgudG9TdHJpbmcoKTtcbiAgICAgICAgdGhpcy5kaXYgPSBkaXY7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHByZS1iaW5kIHRoZSBmdW5jdGlvbnNcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb25LZXlEb3duID0gdGhpcy5fb25LZXlEb3duLmJpbmQodGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBwcmUtYmluZCB0aGUgZnVuY3Rpb25zXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX29uTW91c2VNb3ZlID0gdGhpcy5fb25Nb3VzZU1vdmUuYmluZCh0aGlzKTtcbiAgICAgICAgLy8gbGV0IGxpc3RlbiBmb3IgdGFiLi4gb25jZSBwcmVzc2VkIHdlIGNhbiBmaXJlIHVwIGFuZCBzaG93IHRoZSBhY2Nlc3NpYmlsaXR5IGxheWVyXG4gICAgICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLCBcImlzQWN0aXZlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZhbHVlIG9mIGB0cnVlYCBpZiBhY2Nlc3NpYmlsaXR5IGlzIGN1cnJlbnRseSBhY3RpdmUgYW5kIGFjY2Vzc2liaWxpdHkgbGF5ZXJzIGFyZSBzaG93aW5nLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzQWN0aXZlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZSwgXCJpc01vYmlsZUFjY2Vzc2liaWxpdHlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVmFsdWUgb2YgYHRydWVgIGlmIGFjY2Vzc2liaWxpdHkgaXMgZW5hYmxlZCBmb3IgdG91Y2ggZGV2aWNlcy5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc01vYmlsZUFjY2Vzc2liaWxpdHk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSB0b3VjaCBob29rcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmNyZWF0ZVRvdWNoSG9vayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGhvb2tEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgaG9va0Rpdi5zdHlsZS53aWR0aCA9IERJVl9IT09LX1NJWkUgKyBcInB4XCI7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUuaGVpZ2h0ID0gRElWX0hPT0tfU0laRSArIFwicHhcIjtcbiAgICAgICAgaG9va0Rpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUudG9wID0gRElWX0hPT0tfUE9TX1ggKyBcInB4XCI7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUubGVmdCA9IERJVl9IT09LX1BPU19ZICsgXCJweFwiO1xuICAgICAgICBob29rRGl2LnN0eWxlLnpJbmRleCA9IERJVl9IT09LX1pJTkRFWC50b1N0cmluZygpO1xuICAgICAgICBob29rRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjRkYwMDAwJztcbiAgICAgICAgaG9va0Rpdi50aXRsZSA9ICdzZWxlY3QgdG8gZW5hYmxlIGFjY2Vzc2liaWxpdHkgZm9yIHRoaXMgY29udGVudCc7XG4gICAgICAgIGhvb2tEaXYuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5faXNNb2JpbGVBY2Nlc3NpYmlsaXR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIF90aGlzLmFjdGl2YXRlKCk7XG4gICAgICAgICAgICBfdGhpcy5kZXN0cm95VG91Y2hIb29rKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGhvb2tEaXYpO1xuICAgICAgICB0aGlzLl9ob29rRGl2ID0gaG9va0RpdjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSB0b3VjaCBob29rcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3lUb3VjaEhvb2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5faG9va0Rpdikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5faG9va0Rpdik7XG4gICAgICAgIHRoaXMuX2hvb2tEaXYgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWN0aXZhdGluZyB3aWxsIGNhdXNlIHRoZSBBY2Nlc3NpYmlsaXR5IGxheWVyIHRvIGJlIHNob3duLlxuICAgICAqIFRoaXMgaXMgY2FsbGVkIHdoZW4gYSB1c2VyIHByZXNzZXMgdGhlIHRhYiBrZXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5faXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgIHNlbGYuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIHRydWUpO1xuICAgICAgICBzZWxmLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5vbigncG9zdHJlbmRlcicsIHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgKF9hID0gdGhpcy5yZW5kZXJlci52aWV3LnBhcmVudE5vZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZWFjdGl2YXRpbmcgd2lsbCBjYXVzZSB0aGUgQWNjZXNzaWJpbGl0eSBsYXllciB0byBiZSBoaWRkZW4uXG4gICAgICogVGhpcyBpcyBjYWxsZWQgd2hlbiBhIHVzZXIgbW92ZXMgdGhlIG1vdXNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXRoaXMuX2lzQWN0aXZlIHx8IHRoaXMuX2lzTW9iaWxlQWNjZXNzaWJpbGl0eSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHNlbGYuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIHRydWUpO1xuICAgICAgICBzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5vZmYoJ3Bvc3RyZW5kZXInLCB0aGlzLnVwZGF0ZSk7XG4gICAgICAgIChfYSA9IHRoaXMuZGl2LnBhcmVudE5vZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmVDaGlsZCh0aGlzLmRpdik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIHJlY3Vyc2l2ZSBmdW5jdGlvbiB3aWxsIHJ1biB0aHJvdWdoIHRoZSBzY2VuZSBncmFwaCBhbmQgYWRkIGFueSBuZXcgYWNjZXNzaWJsZSBvYmplY3RzIHRvIHRoZSBET00gbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGRpc3BsYXlPYmplY3QgLSBUaGUgRGlzcGxheU9iamVjdCB0byBjaGVjay5cbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUudXBkYXRlQWNjZXNzaWJsZU9iamVjdHMgPSBmdW5jdGlvbiAoZGlzcGxheU9iamVjdCkge1xuICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QudmlzaWJsZSB8fCAhZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlICYmIGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZUFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoZGlzcGxheU9iamVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnJlbmRlcklkID0gdGhpcy5yZW5kZXJJZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2hpbGRyZW4gPSBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzKGNoaWxkcmVuW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQmVmb3JlIGVhY2ggcmVuZGVyIHRoaXMgZnVuY3Rpb24gd2lsbCBlbnN1cmUgdGhhdCBhbGwgZGl2cyBhcmUgbWFwcGVkIGNvcnJlY3RseSB0byB0aGVpciBEaXNwbGF5T2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLyogT24gQW5kcm9pZCBkZWZhdWx0IHdlYiBicm93c2VyLCB0YWIgb3JkZXIgc2VlbXMgdG8gYmUgY2FsY3VsYXRlZCBieSBwb3NpdGlvbiByYXRoZXIgdGhhbiB0YWJJbmRleCxcbiAgICAgICAgKiAgbW92aW5nIGJ1dHRvbnMgY2FuIGNhdXNlIGZvY3VzIHRvIGZsaWNrZXIgYmV0d2VlbiB0d28gYnV0dG9ucyBtYWtpbmcgaXQgaGFyZC9pbXBvc3NpYmxlIHRvIG5hdmlnYXRlLFxuICAgICAgICAqICBzbyBJIGFtIGp1c3QgcnVubmluZyB1cGRhdGUgZXZlcnkgaGFsZiBhIHNlY29uZCwgc2VlbXMgdG8gZml4IGl0LlxuICAgICAgICAqL1xuICAgICAgICB2YXIgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIGlmIChpc01vYmlsZS5hbmRyb2lkLmRldmljZSAmJiBub3cgPCB0aGlzLmFuZHJvaWRVcGRhdGVDb3VudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYW5kcm9pZFVwZGF0ZUNvdW50ID0gbm93ICsgdGhpcy5hbmRyb2lkVXBkYXRlRnJlcXVlbmN5O1xuICAgICAgICBpZiAoIXRoaXMucmVuZGVyZXIucmVuZGVyaW5nVG9TY3JlZW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyB1cGRhdGUgY2hpbGRyZW4uLi5cbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyh0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMucmVuZGVyZXIudmlldy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgbGVmdCA9IF9hLmxlZnQsIHRvcCA9IF9hLnRvcCwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICB2YXIgX2IgPSB0aGlzLnJlbmRlcmVyLCB2aWV3V2lkdGggPSBfYi53aWR0aCwgdmlld0hlaWdodCA9IF9iLmhlaWdodCwgcmVzb2x1dGlvbiA9IF9iLnJlc29sdXRpb247XG4gICAgICAgIHZhciBzeCA9ICh3aWR0aCAvIHZpZXdXaWR0aCkgKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgc3kgPSAoaGVpZ2h0IC8gdmlld0hlaWdodCkgKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgZGl2ID0gdGhpcy5kaXY7XG4gICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gbGVmdCArIFwicHhcIjtcbiAgICAgICAgZGl2LnN0eWxlLnRvcCA9IHRvcCArIFwicHhcIjtcbiAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gdmlld1dpZHRoICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gdmlld0hlaWdodCArIFwicHhcIjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgaWYgKGNoaWxkLnJlbmRlcklkICE9PSB0aGlzLnJlbmRlcklkKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQuX2FjY2Vzc2libGVBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpLCAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpdi5yZW1vdmVDaGlsZChjaGlsZC5fYWNjZXNzaWJsZURpdik7XG4gICAgICAgICAgICAgICAgdGhpcy5wb29sLnB1c2goY2hpbGQuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICAgICAgICAgIGNoaWxkLl9hY2Nlc3NpYmxlRGl2ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBtYXAgZGl2IHRvIGRpc3BsYXkuLlxuICAgICAgICAgICAgICAgIGRpdiA9IGNoaWxkLl9hY2Nlc3NpYmxlRGl2O1xuICAgICAgICAgICAgICAgIHZhciBoaXRBcmVhID0gY2hpbGQuaGl0QXJlYTtcbiAgICAgICAgICAgICAgICB2YXIgd3QgPSBjaGlsZC53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuaGl0QXJlYSkge1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUubGVmdCA9ICh3dC50eCArIChoaXRBcmVhLnggKiB3dC5hKSkgKiBzeCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLnRvcCA9ICh3dC50eSArIChoaXRBcmVhLnkgKiB3dC5kKSkgKiBzeSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gaGl0QXJlYS53aWR0aCAqIHd0LmEgKiBzeCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IGhpdEFyZWEuaGVpZ2h0ICogd3QuZCAqIHN5ICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0QXJlYSA9IGNoaWxkLmdldEJvdW5kcygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcEhpdEFyZWEoaGl0QXJlYSk7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gaGl0QXJlYS54ICogc3ggKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS50b3AgPSBoaXRBcmVhLnkgKiBzeSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gaGl0QXJlYS53aWR0aCAqIHN4ICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gaGl0QXJlYS5oZWlnaHQgKiBzeSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIGJ1dHRvbiB0aXRsZXMgYW5kIGhpbnRzIGlmIHRoZXkgZXhpc3QgYW5kIHRoZXkndmUgY2hhbmdlZFxuICAgICAgICAgICAgICAgICAgICBpZiAoZGl2LnRpdGxlICE9PSBjaGlsZC5hY2Nlc3NpYmxlVGl0bGUgJiYgY2hpbGQuYWNjZXNzaWJsZVRpdGxlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYudGl0bGUgPSBjaGlsZC5hY2Nlc3NpYmxlVGl0bGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpdi5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnKSAhPT0gY2hpbGQuYWNjZXNzaWJsZUhpbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIGNoaWxkLmFjY2Vzc2libGVIaW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgY2hpbGQuYWNjZXNzaWJsZUhpbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHRoZSB0aXRsZSBvciBpbmRleCBtYXkgaGF2ZSBjaGFuZ2VkLCBpZiBzbyBsZXRzIHVwZGF0ZSBpdCFcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuYWNjZXNzaWJsZVRpdGxlICE9PSBkaXYudGl0bGUgfHwgY2hpbGQudGFiSW5kZXggIT09IGRpdi50YWJJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBkaXYudGl0bGUgPSBjaGlsZC5hY2Nlc3NpYmxlVGl0bGU7XG4gICAgICAgICAgICAgICAgICAgIGRpdi50YWJJbmRleCA9IGNoaWxkLnRhYkluZGV4O1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWJ1ZylcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgdGhpcy51cGRhdGVEZWJ1Z0hUTUwoZGl2KTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBpbmNyZW1lbnQgdGhlIHJlbmRlciBpZC4uXG4gICAgICAgIHRoaXMucmVuZGVySWQrKztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHByaXZhdGUgZnVuY3Rpb24gdGhhdCB3aWxsIHZpc3VhbGx5IGFkZCB0aGUgaW5mb3JtYXRpb24gdG8gdGhlXG4gICAgICogYWNjZXNzYWJpbGl0eSBkaXZcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGRpdlxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVEZWJ1Z0hUTUwgPSBmdW5jdGlvbiAoZGl2KSB7XG4gICAgICAgIGRpdi5pbm5lckhUTUwgPSBcInR5cGU6IFwiICsgZGl2LnR5cGUgKyBcIjwvYnI+IHRpdGxlIDogXCIgKyBkaXYudGl0bGUgKyBcIjwvYnI+IHRhYkluZGV4OiBcIiArIGRpdi50YWJJbmRleDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkanVzdCB0aGUgaGl0IGFyZWEgYmFzZWQgb24gdGhlIGJvdW5kcyBvZiBhIGRpc3BsYXkgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBoaXRBcmVhIC0gQm91bmRzIG9mIHRoZSBjaGlsZFxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5jYXBIaXRBcmVhID0gZnVuY3Rpb24gKGhpdEFyZWEpIHtcbiAgICAgICAgaWYgKGhpdEFyZWEueCA8IDApIHtcbiAgICAgICAgICAgIGhpdEFyZWEud2lkdGggKz0gaGl0QXJlYS54O1xuICAgICAgICAgICAgaGl0QXJlYS54ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGl0QXJlYS55IDwgMCkge1xuICAgICAgICAgICAgaGl0QXJlYS5oZWlnaHQgKz0gaGl0QXJlYS55O1xuICAgICAgICAgICAgaGl0QXJlYS55ID0gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLnJlbmRlcmVyLCB2aWV3V2lkdGggPSBfYS53aWR0aCwgdmlld0hlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgaWYgKGhpdEFyZWEueCArIGhpdEFyZWEud2lkdGggPiB2aWV3V2lkdGgpIHtcbiAgICAgICAgICAgIGhpdEFyZWEud2lkdGggPSB2aWV3V2lkdGggLSBoaXRBcmVhLng7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhpdEFyZWEueSArIGhpdEFyZWEuaGVpZ2h0ID4gdmlld0hlaWdodCkge1xuICAgICAgICAgICAgaGl0QXJlYS5oZWlnaHQgPSB2aWV3SGVpZ2h0IC0gaGl0QXJlYS55O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgRGlzcGxheU9iamVjdCB0byB0aGUgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIGNoaWxkIHRvIG1ha2UgYWNjZXNzaWJsZS5cbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuYWRkQ2hpbGQgPSBmdW5jdGlvbiAoZGlzcGxheU9iamVjdCkge1xuICAgICAgICAvLyAgICB0aGlzLmFjdGl2YXRlKCk7XG4gICAgICAgIHZhciBkaXYgPSB0aGlzLnBvb2wucG9wKCk7XG4gICAgICAgIGlmICghZGl2KSB7XG4gICAgICAgICAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IERJVl9UT1VDSF9TSVpFICsgXCJweFwiO1xuICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IERJVl9UT1VDSF9TSVpFICsgXCJweFwiO1xuICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHRoaXMuZGVidWcgPyAncmdiYSgyNTUsMjU1LDI1NSwwLjUpJyA6ICd0cmFuc3BhcmVudCc7XG4gICAgICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgICAgZGl2LnN0eWxlLnpJbmRleCA9IERJVl9UT1VDSF9aSU5ERVgudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGRpdi5zdHlsZS5ib3JkZXJTdHlsZSA9ICdub25lJztcbiAgICAgICAgICAgIC8vIEFSSUEgYXR0cmlidXRlcyBlbnN1cmUgdGhhdCBidXR0b24gdGl0bGUgYW5kIGhpbnQgdXBkYXRlcyBhcmUgYW5ub3VuY2VkIHByb3Blcmx5XG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2Nocm9tZScpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBDaHJvbWUgZG9lc24ndCBuZWVkIGFyaWEtbGl2ZSB0byB3b3JrIGFzIGludGVuZGVkOyBpbiBmYWN0IGl0IGp1c3QgZ2V0cyBtb3JlIGNvbmZ1c2VkLlxuICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdvZmYnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdwb2xpdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9ydjouKkdlY2tvXFwvLykpIHtcbiAgICAgICAgICAgICAgICAvLyBGaXJlRm94IG5lZWRzIHRoaXMgdG8gYW5ub3VuY2Ugb25seSB0aGUgbmV3IGJ1dHRvbiBuYW1lXG4gICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1yZWxldmFudCcsICdhZGRpdGlvbnMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHJlcXVpcmVkIGJ5IElFLCBvdGhlciBicm93c2VycyBkb24ndCBtdWNoIGNhcmVcbiAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLXJlbGV2YW50JywgJ3RleHQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uQ2xpY2suYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9vbkZvY3VzLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgdGhpcy5fb25Gb2N1c091dC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgcG9pbnRlciBldmVudHNcbiAgICAgICAgZGl2LnN0eWxlLnBvaW50ZXJFdmVudHMgPSBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVQb2ludGVyRXZlbnRzO1xuICAgICAgICAvLyBzZXQgdGhlIHR5cGUsIHRoaXMgZGVmYXVsdHMgdG8gYnV0dG9uIVxuICAgICAgICBkaXYudHlwZSA9IGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVR5cGU7XG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUaXRsZSAmJiBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUaXRsZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZGl2LnRpdGxlID0gZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnRcbiAgICAgICAgICAgIHx8IGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGRpdi50aXRsZSA9IFwiZGlzcGxheU9iamVjdCBcIiArIGRpc3BsYXlPYmplY3QudGFiSW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnRcbiAgICAgICAgICAgICYmIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZWJ1ZylcbiAgICAgICAgICAgIHsgdGhpcy51cGRhdGVEZWJ1Z0hUTUwoZGl2KTsgfVxuICAgICAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZURpdiA9IGRpdjtcbiAgICAgICAgZGl2LmRpc3BsYXlPYmplY3QgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goZGlzcGxheU9iamVjdCk7XG4gICAgICAgIHRoaXMuZGl2LmFwcGVuZENoaWxkKGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlRGl2LnRhYkluZGV4ID0gZGlzcGxheU9iamVjdC50YWJJbmRleDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1hcHMgdGhlIGRpdiBidXR0b24gcHJlc3MgdG8gcGl4aSdzIEludGVyYWN0aW9uTWFuYWdlciAoY2xpY2spXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZSAtIFRoZSBjbGljayBldmVudC5cbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uQ2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uO1xuICAgICAgICB2YXIgZGlzcGxheU9iamVjdCA9IGUudGFyZ2V0LmRpc3BsYXlPYmplY3Q7XG4gICAgICAgIHZhciBldmVudERhdGEgPSBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhO1xuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAnY2xpY2snLCBldmVudERhdGEpO1xuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnRhcCcsIGV2ZW50RGF0YSk7XG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0YXAnLCBldmVudERhdGEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFwcyB0aGUgZGl2IGZvY3VzIGV2ZW50cyB0byBwaXhpJ3MgSW50ZXJhY3Rpb25NYW5hZ2VyIChtb3VzZW92ZXIpXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Rm9jdXNFdmVudH0gZSAtIFRoZSBmb2N1cyBldmVudC5cbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uRm9jdXMgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoIWUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnYXJpYS1saXZlJykpIHtcbiAgICAgICAgICAgIGUudGFyZ2V0LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ2Fzc2VydGl2ZScpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbk1hbmFnZXIgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb247XG4gICAgICAgIHZhciBkaXNwbGF5T2JqZWN0ID0gZS50YXJnZXQuZGlzcGxheU9iamVjdDtcbiAgICAgICAgdmFyIGV2ZW50RGF0YSA9IGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGE7XG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW92ZXInLCBldmVudERhdGEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFwcyB0aGUgZGl2IGZvY3VzIGV2ZW50cyB0byBwaXhpJ3MgSW50ZXJhY3Rpb25NYW5hZ2VyIChtb3VzZW91dClcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGb2N1c0V2ZW50fSBlIC0gVGhlIGZvY3Vzb3V0IGV2ZW50LlxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25Gb2N1c091dCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICghZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnKSkge1xuICAgICAgICAgICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAncG9saXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbjtcbiAgICAgICAgdmFyIGRpc3BsYXlPYmplY3QgPSBlLnRhcmdldC5kaXNwbGF5T2JqZWN0O1xuICAgICAgICB2YXIgZXZlbnREYXRhID0gaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YTtcbiAgICAgICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlb3V0JywgZXZlbnREYXRhKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIGEga2V5IGlzIHByZXNzZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBlIC0gVGhlIGtleWRvd24gZXZlbnQuXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbktleURvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoZS5rZXlDb2RlICE9PSBLRVlfQ09ERV9UQUIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2YXRlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgbW91c2UgbW92ZXMgYWNyb3NzIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZSAtIFRoZSBtb3VzZSBldmVudC5cbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uTW91c2VNb3ZlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUubW92ZW1lbnRYID09PSAwICYmIGUubW92ZW1lbnRZID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyXG4gICAgICpcbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95VG91Y2hIb29rKCk7XG4gICAgICAgIHRoaXMuZGl2ID0gbnVsbDtcbiAgICAgICAgc2VsZi5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgICAgIHNlbGYucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93bik7XG4gICAgICAgIHRoaXMucG9vbCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBBY2Nlc3NpYmlsaXR5TWFuYWdlcjtcbn0oKSk7XG5cbmV4cG9ydCB7IEFjY2Vzc2liaWxpdHlNYW5hZ2VyLCBhY2Nlc3NpYmxlVGFyZ2V0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hY2Nlc3NpYmlsaXR5LmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9pbnRlcmFjdGlvbiAtIHY2LjAuMFxuICogQ29tcGlsZWQgVHVlLCAwMiBNYXIgMjAyMSAyMTo0NTowMyBVVENcbiAqXG4gKiBAcGl4aS9pbnRlcmFjdGlvbiBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBUaWNrZXIsIFVQREFURV9QUklPUklUWSB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0LCBUZW1wb3JhcnlEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qKlxuICogSG9sZHMgYWxsIGluZm9ybWF0aW9uIHJlbGF0ZWQgdG8gYW4gSW50ZXJhY3Rpb24gZXZlbnRcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBJbnRlcmFjdGlvbkRhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW50ZXJhY3Rpb25EYXRhKCkge1xuICAgICAgICB0aGlzLnByZXNzdXJlID0gMDtcbiAgICAgICAgdGhpcy5yb3RhdGlvbkFuZ2xlID0gMDtcbiAgICAgICAgdGhpcy50d2lzdCA9IDA7XG4gICAgICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgcG9pbnQgc3RvcmVzIHRoZSBnbG9iYWwgY29vcmRzIG9mIHdoZXJlIHRoZSB0b3VjaC9tb3VzZSBldmVudCBoYXBwZW5lZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbG9iYWwgPSBuZXcgUG9pbnQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0YXJnZXQgU3ByaXRlIHRoYXQgd2FzIGludGVyYWN0ZWQgd2l0aFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gcGFzc2VkIHRvIGFuIGV2ZW50IGhhbmRsZXIsIHRoaXMgd2lsbCBiZSB0aGUgb3JpZ2luYWwgRE9NIEV2ZW50IHRoYXQgd2FzIGNhcHR1cmVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01vdXNlRXZlbnRcbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVG91Y2hFdmVudFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnRcbiAgICAgICAgICogQG1lbWJlciB7TW91c2VFdmVudHxUb3VjaEV2ZW50fFBvaW50ZXJFdmVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3JpZ2luYWxFdmVudCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBpbnRlcmFjdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlkZW50aWZpZXIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IHRoZSBwb2ludGVyIGRldmljZSB0aGF0IGNyZWF0ZWQgdGhlIGV2ZW50IGlzIHRoZSBwcmltYXJ5IHBvaW50ZXIuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9pc1ByaW1hcnlcbiAgICAgICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzUHJpbWFyeSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoaWNoIGJ1dHRvbiB3YXMgcHJlc3NlZCBvbiB0aGUgbW91c2Ugb3IgcG9pbnRlciBkZXZpY2UgdG8gdHJpZ2dlciB0aGUgZXZlbnQuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01vdXNlRXZlbnQvYnV0dG9uXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJ1dHRvbiA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hpY2ggYnV0dG9ucyBhcmUgcHJlc3NlZCBvbiB0aGUgbW91c2Ugb3IgcG9pbnRlciBkZXZpY2Ugd2hlbiB0aGUgZXZlbnQgaXMgdHJpZ2dlcmVkLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50L2J1dHRvbnNcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYnV0dG9ucyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHBvaW50ZXIncyBjb250YWN0IGFsb25nIHRoZSB4LWF4aXMsIG1lYXN1cmVkIGluIENTUyBwaXhlbHMuXG4gICAgICAgICAqIHJhZGl1c1ggb2YgVG91Y2hFdmVudHMgd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvd2lkdGhcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgcG9pbnRlcidzIGNvbnRhY3QgYWxvbmcgdGhlIHktYXhpcywgbWVhc3VyZWQgaW4gQ1NTIHBpeGVscy5cbiAgICAgICAgICogcmFkaXVzWSBvZiBUb3VjaEV2ZW50cyB3aWxsIGJlIHJlcHJlc2VudGVkIGJ5IHRoaXMgdmFsdWUuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9oZWlnaHRcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmdsZSwgaW4gZGVncmVlcywgYmV0d2VlbiB0aGUgcG9pbnRlciBkZXZpY2UgYW5kIHRoZSBzY3JlZW4uXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC90aWx0WFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWx0WCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5nbGUsIGluIGRlZ3JlZXMsIGJldHdlZW4gdGhlIHBvaW50ZXIgZGV2aWNlIGFuZCB0aGUgc2NyZWVuLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvdGlsdFlcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlsdFkgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgcG9pbnRlciB0aGF0IHRyaWdnZXJlZCB0aGUgZXZlbnQuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wb2ludGVyVHlwZVxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb2ludGVyVHlwZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcmVzc3VyZSBhcHBsaWVkIGJ5IHRoZSBwb2ludGluZyBkZXZpY2UgZHVyaW5nIHRoZSBldmVudC4gQSBUb3VjaCdzIGZvcmNlIHByb3BlcnR5XG4gICAgICAgICAqIHdpbGwgYmUgcmVwcmVzZW50ZWQgYnkgdGhpcyB2YWx1ZS5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3ByZXNzdXJlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZXNzdXJlID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZyb20gVG91Y2hFdmVudHMgKG5vdCBQb2ludGVyRXZlbnRzIHRyaWdnZXJlZCBieSB0b3VjaGVzKSwgdGhlIHJvdGF0aW9uQW5nbGUgb2YgdGhlIFRvdWNoLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaC9yb3RhdGlvbkFuZ2xlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJvdGF0aW9uQW5nbGUgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHdpc3Qgb2YgYSBzdHlsdXMgcG9pbnRlci5cbiAgICAgICAgICogQHNlZSBodHRwczovL3czYy5naXRodWIuaW8vcG9pbnRlcmV2ZW50cy8jcG9pbnRlcmV2ZW50LWludGVyZmFjZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50d2lzdCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCYXJyZWwgcHJlc3N1cmUgb24gYSBzdHlsdXMgcG9pbnRlci5cbiAgICAgICAgICogQHNlZSBodHRwczovL3czYy5naXRodWIuaW8vcG9pbnRlcmV2ZW50cy8jcG9pbnRlcmV2ZW50LWludGVyZmFjZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YW5nZW50aWFsUHJlc3N1cmUgPSAwO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJhY3Rpb25EYXRhLnByb3RvdHlwZSwgXCJwb2ludGVySWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBwb2ludGVyLiBJdCB3aWxsIGJlIHRoZSBzYW1lIGFzIGBpZGVudGlmaWVyYC5cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3BvaW50ZXJJZFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pZGVudGlmaWVyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogVGhpcyB3aWxsIHJldHVybiB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHNwZWNpZmllZCBkaXNwbGF5T2JqZWN0IGZvciB0aGlzIEludGVyYWN0aW9uRGF0YVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgRGlzcGxheU9iamVjdCB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSBsb2NhbFxuICAgICAqICBjb29yZHMgb2ZmXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbcG9pbnRdIC0gQSBQb2ludCBvYmplY3QgaW4gd2hpY2ggdG8gc3RvcmUgdGhlIHZhbHVlLCBvcHRpb25hbCAob3RoZXJ3aXNlXG4gICAgICogIHdpbGwgY3JlYXRlIGEgbmV3IHBvaW50KVxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW2dsb2JhbFBvc10gLSBBIFBvaW50IG9iamVjdCBjb250YWluaW5nIHlvdXIgY3VzdG9tIGdsb2JhbCBjb29yZHMsIG9wdGlvbmFsXG4gICAgICogIChvdGhlcndpc2Ugd2lsbCB1c2UgdGhlIGN1cnJlbnQgZ2xvYmFsIGNvb3JkcylcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBBIHBvaW50IGNvbnRhaW5pbmcgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBJbnRlcmFjdGlvbkRhdGEgcG9zaXRpb24gcmVsYXRpdmVcbiAgICAgKiAgdG8gdGhlIERpc3BsYXlPYmplY3RcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLmdldExvY2FsUG9zaXRpb24gPSBmdW5jdGlvbiAoZGlzcGxheU9iamVjdCwgcG9pbnQsIGdsb2JhbFBvcykge1xuICAgICAgICByZXR1cm4gZGlzcGxheU9iamVjdC53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UoZ2xvYmFsUG9zIHx8IHRoaXMuZ2xvYmFsLCBwb2ludCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgcHJvcGVydGllcyBmcm9tIG5vcm1hbGl6ZWQgZXZlbnQgZGF0YS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VG91Y2h8TW91c2VFdmVudHxQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIG5vcm1hbGl6ZWQgZXZlbnQgZGF0YVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uRGF0YS5wcm90b3R5cGUuY29weUV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIGlzUHJpbWFyeSBzaG91bGQgb25seSBjaGFuZ2Ugb24gdG91Y2hzdGFydC9wb2ludGVyZG93biwgc28gd2UgZG9uJ3Qgd2FudCB0byBvdmVyd3JpdGVcbiAgICAgICAgLy8gaXQgd2l0aCBcImZhbHNlXCIgb24gbGF0ZXIgZXZlbnRzIHdoZW4gb3VyIHNoaW0gZm9yIGl0IG9uIHRvdWNoIGV2ZW50cyBtaWdodCBub3QgYmVcbiAgICAgICAgLy8gYWNjdXJhdGVcbiAgICAgICAgaWYgKCdpc1ByaW1hcnknIGluIGV2ZW50ICYmIGV2ZW50LmlzUHJpbWFyeSkge1xuICAgICAgICAgICAgdGhpcy5pc1ByaW1hcnkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnV0dG9uID0gJ2J1dHRvbicgaW4gZXZlbnQgJiYgZXZlbnQuYnV0dG9uO1xuICAgICAgICAvLyBldmVudC5idXR0b25zIGlzIG5vdCBhdmFpbGFibGUgaW4gYWxsIGJyb3dzZXJzIChpZS4gU2FmYXJpKSwgYnV0IGl0IGRvZXMgaGF2ZSBhIG5vbi1zdGFuZGFyZFxuICAgICAgICAvLyBldmVudC53aGljaCBwcm9wZXJ0eSBpbnN0ZWFkLCB3aGljaCBjb252ZXlzIHRoZSBzYW1lIGluZm9ybWF0aW9uLlxuICAgICAgICB2YXIgYnV0dG9ucyA9ICdidXR0b25zJyBpbiBldmVudCAmJiBldmVudC5idXR0b25zO1xuICAgICAgICB0aGlzLmJ1dHRvbnMgPSBOdW1iZXIuaXNJbnRlZ2VyKGJ1dHRvbnMpID8gYnV0dG9ucyA6ICd3aGljaCcgaW4gZXZlbnQgJiYgZXZlbnQud2hpY2g7XG4gICAgICAgIHRoaXMud2lkdGggPSAnd2lkdGgnIGluIGV2ZW50ICYmIGV2ZW50LndpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9ICdoZWlnaHQnIGluIGV2ZW50ICYmIGV2ZW50LmhlaWdodDtcbiAgICAgICAgdGhpcy50aWx0WCA9ICd0aWx0WCcgaW4gZXZlbnQgJiYgZXZlbnQudGlsdFg7XG4gICAgICAgIHRoaXMudGlsdFkgPSAndGlsdFknIGluIGV2ZW50ICYmIGV2ZW50LnRpbHRZO1xuICAgICAgICB0aGlzLnBvaW50ZXJUeXBlID0gJ3BvaW50ZXJUeXBlJyBpbiBldmVudCAmJiBldmVudC5wb2ludGVyVHlwZTtcbiAgICAgICAgdGhpcy5wcmVzc3VyZSA9ICdwcmVzc3VyZScgaW4gZXZlbnQgJiYgZXZlbnQucHJlc3N1cmU7XG4gICAgICAgIHRoaXMucm90YXRpb25BbmdsZSA9ICdyb3RhdGlvbkFuZ2xlJyBpbiBldmVudCAmJiBldmVudC5yb3RhdGlvbkFuZ2xlO1xuICAgICAgICB0aGlzLnR3aXN0ID0gKCd0d2lzdCcgaW4gZXZlbnQgJiYgZXZlbnQudHdpc3QpIHx8IDA7XG4gICAgICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gKCd0YW5nZW50aWFsUHJlc3N1cmUnIGluIGV2ZW50ICYmIGV2ZW50LnRhbmdlbnRpYWxQcmVzc3VyZSkgfHwgMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgZGF0YSBmb3IgcG9vbGluZy5cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBpc1ByaW1hcnkgaXMgdGhlIG9ubHkgcHJvcGVydHkgdGhhdCB3ZSByZWFsbHkgbmVlZCB0byByZXNldCAtIGV2ZXJ5dGhpbmcgZWxzZSBpc1xuICAgICAgICAvLyBndWFyYW50ZWVkIHRvIGJlIG92ZXJ3cml0dGVuXG4gICAgICAgIHRoaXMuaXNQcmltYXJ5ID0gZmFsc2U7XG4gICAgfTtcbiAgICByZXR1cm4gSW50ZXJhY3Rpb25EYXRhO1xufSgpKTtcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogRXZlbnQgY2xhc3MgdGhhdCBtaW1pY3MgbmF0aXZlIERPTSBldmVudHMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgSW50ZXJhY3Rpb25FdmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbnRlcmFjdGlvbkV2ZW50KCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGlzIGV2ZW50IHdpbGwgY29udGludWUgcHJvcGFnYXRpbmcgaW4gdGhlIHRyZWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFJlbWFpbmluZyBldmVudHMgZm9yIHRoZSB7QGxpbmsgc3RvcHNQcm9wYWdhdGluZ0F0fSBvYmplY3RcbiAgICAgICAgICogd2lsbCBzdGlsbCBiZSBkaXNwYXRjaGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBdCB3aGljaCBvYmplY3QgdGhpcyBldmVudCBzdG9wcyBwcm9wYWdhdGluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdG9wc1Byb3BhZ2F0aW5nQXQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB3ZSBhbHJlYWR5IHJlYWNoZWQgdGhlIGVsZW1lbnQgd2Ugd2FudCB0b1xuICAgICAgICAgKiBzdG9wIHByb3BhZ2F0aW5nIGF0LiBUaGlzIGlzIGltcG9ydGFudCBmb3IgZGVsYXllZCBldmVudHMsXG4gICAgICAgICAqIHdoZXJlIHdlIHN0YXJ0IG92ZXIgZGVlcGVyIGluIHRoZSB0cmVlIGFnYWluLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdG9wUHJvcGFnYXRpb25IaW50ID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb2JqZWN0IHdoaWNoIGNhdXNlZCB0aGlzIGV2ZW50IHRvIGJlIGRpc3BhdGNoZWQuXG4gICAgICAgICAqIEZvciBsaXN0ZW5lciBjYWxsYmFjayBzZWUge0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25FdmVudC5jdXJyZW50VGFyZ2V0fS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9iamVjdCB3aG9zZSBldmVudCBsaXN0ZW5lcuKAmXMgY2FsbGJhY2sgaXMgY3VycmVudGx5IGJlaW5nIGludm9rZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUeXBlIG9mIHRoZSBldmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJhY3Rpb25EYXRhIHJlbGF0ZWQgdG8gdGhpcyBldmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkludGVyYWN0aW9uRGF0YX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByZXZlbnRzIGV2ZW50IGZyb20gcmVhY2hpbmcgYW55IG9iamVjdHMgb3RoZXIgdGhhbiB0aGUgY3VycmVudCBvYmplY3QuXG4gICAgICpcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbkV2ZW50LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uSGludCA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RvcHNQcm9wYWdhdGluZ0F0ID0gdGhpcy5jdXJyZW50VGFyZ2V0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBldmVudC5cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbkV2ZW50LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RvcHNQcm9wYWdhdGluZ0F0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdG9wUHJvcGFnYXRpb25IaW50ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBJbnRlcmFjdGlvbkV2ZW50O1xufSgpKTtcblxuLyoqXG4gKiBEaXNwbGF5T2JqZWN0cyB3aXRoIHRoZSB7QGxpbmsgUElYSS5pbnRlcmFjdGl2ZVRhcmdldH0gbWl4aW4gdXNlIHRoaXMgY2xhc3MgdG8gdHJhY2sgaW50ZXJhY3Rpb25zXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb2ludGVySWQgLSBVbmlxdWUgcG9pbnRlciBpZCBvZiB0aGUgZXZlbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhKHBvaW50ZXJJZCkge1xuICAgICAgICB0aGlzLl9wb2ludGVySWQgPSBwb2ludGVySWQ7XG4gICAgICAgIHRoaXMuX2ZsYWdzID0gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuTk9ORTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGludGVyYWN0aW9uIGZsYWcgdG8gc2V0XG4gICAgICogQHBhcmFtIHtib29sZWFufSB5biAtIFNob3VsZCB0aGUgZmxhZyBiZSBzZXQgb3IgdW5zZXRcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5wcm90b3R5cGUuX2RvU2V0ID0gZnVuY3Rpb24gKGZsYWcsIHluKSB7XG4gICAgICAgIGlmICh5bikge1xuICAgICAgICAgICAgdGhpcy5fZmxhZ3MgPSB0aGlzLl9mbGFncyB8IGZsYWc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9mbGFncyA9IHRoaXMuX2ZsYWdzICYgKH5mbGFnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLnByb3RvdHlwZSwgXCJwb2ludGVySWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVW5pcXVlIHBvaW50ZXIgaWQgb2YgdGhlIGV2ZW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb2ludGVySWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEucHJvdG90eXBlLCBcImZsYWdzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0YXRlIG9mIHRoZSB0cmFja2luZyBkYXRhLCBleHByZXNzZWQgYXMgYml0IGZsYWdzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZsYWdzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmbGFncykge1xuICAgICAgICAgICAgdGhpcy5fZmxhZ3MgPSBmbGFncztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5wcm90b3R5cGUsIFwibm9uZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGUgdHJhY2tlZCBldmVudCBpbmFjdGl2ZSAobm90IG92ZXIgb3IgZG93bik/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZsYWdzID09PSBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5OT05FO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLnByb3RvdHlwZSwgXCJvdmVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoZSB0cmFja2VkIGV2ZW50IG92ZXIgdGhlIERpc3BsYXlPYmplY3Q/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5PVkVSKSAhPT0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoeW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2RvU2V0KEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLk9WRVIsIHluKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5wcm90b3R5cGUsIFwicmlnaHREb3duXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpZCB0aGUgcmlnaHQgbW91c2UgYnV0dG9uIGNvbWUgZG93biBpbiB0aGUgRGlzcGxheU9iamVjdD9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLl9mbGFncyAmIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLlJJR0hUX0RPV04pICE9PSAwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh5bikge1xuICAgICAgICAgICAgdGhpcy5fZG9TZXQoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuUklHSFRfRE9XTiwgeW4pO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLnByb3RvdHlwZSwgXCJsZWZ0RG93blwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWQgdGhlIGxlZnQgbW91c2UgYnV0dG9uIGNvbWUgZG93biBpbiB0aGUgRGlzcGxheU9iamVjdD9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLl9mbGFncyAmIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLkxFRlRfRE9XTikgIT09IDA7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHluKSB7XG4gICAgICAgICAgICB0aGlzLl9kb1NldChJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5MRUZUX0RPV04sIHluKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAgIE5PTkU6IDAsXG4gICAgICAgIE9WRVI6IDEgPDwgMCxcbiAgICAgICAgTEVGVF9ET1dOOiAxIDw8IDEsXG4gICAgICAgIFJJR0hUX0RPV046IDEgPDwgMixcbiAgICB9KTtcbiAgICByZXR1cm4gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE7XG59KCkpO1xuXG4vKipcbiAqIFN0cmF0ZWd5IGhvdyB0byBzZWFyY2ggdGhyb3VnaCBzdGFnZSB0cmVlIGZvciBpbnRlcmFjdGl2ZSBvYmplY3RzXG4gKlxuICogQHByaXZhdGVcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRyZWVTZWFyY2ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVHJlZVNlYXJjaCgpIHtcbiAgICAgICAgdGhpcy5fdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZSBpbXBsZW1lbnRhdGlvbiBmb3IgZmluZEhpdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIGV2ZW50IGNvbnRhaW5pbmcgdGhlIHBvaW50IHRoYXRcbiAgICAgKiAgaXMgdGVzdGVkIGZvciBjb2xsaXNpb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3RcbiAgICAgKiAgdGhhdCB3aWxsIGJlIGhpdCB0ZXN0IChyZWN1cnNpdmVseSBjcmF3bHMgaXRzIGNoaWxkcmVuKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtmdW5jXSAtIHRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggaW50ZXJhY3RpdmUgb2JqZWN0LiBUaGVcbiAgICAgKiAgaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCBhbmQgaGl0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpdFRlc3RdIC0gdGhpcyBpbmRpY2F0ZXMgaWYgdGhlIG9iamVjdHMgaW5zaWRlIHNob3VsZCBiZSBoaXQgdGVzdCBhZ2FpbnN0IHRoZSBwb2ludFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ludGVyYWN0aXZlXSAtIFdoZXRoZXIgdGhlIGRpc3BsYXlPYmplY3QgaXMgaW50ZXJhY3RpdmVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSByZXR1cm5zIHRydWUgaWYgdGhlIGRpc3BsYXlPYmplY3QgaGl0IHRoZSBwb2ludFxuICAgICAqL1xuICAgIFRyZWVTZWFyY2gucHJvdG90eXBlLnJlY3Vyc2l2ZUZpbmRIaXQgPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgZnVuYywgaGl0VGVzdCwgaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0IHx8ICFkaXNwbGF5T2JqZWN0LnZpc2libGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcG9pbnQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuZ2xvYmFsO1xuICAgICAgICAvLyBUb29rIGEgbGl0dGxlIHdoaWxlIHRvIHJld29yayB0aGlzIGZ1bmN0aW9uIGNvcnJlY3RseSEgQnV0IG5vdyBpdCBpcyBkb25lIGFuZCBuaWNlIGFuZCBvcHRpbWl6ZWQhIF5fXlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgbm93IGxvb3AgdGhyb3VnaCBhbGwgb2JqZWN0cyBhbmQgdGhlbiBvbmx5IGhpdCB0ZXN0IHRoZSBvYmplY3RzIGl0IEhBU1xuICAgICAgICAvLyB0bywgbm90IGFsbCBvZiB0aGVtLiBNVUNIIGZhc3Rlci4uXG4gICAgICAgIC8vIEFuIG9iamVjdCB3aWxsIGJlIGhpdCB0ZXN0IGlmIHRoZSBmb2xsb3dpbmcgaXMgdHJ1ZTpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gMTogSXQgaXMgaW50ZXJhY3RpdmUuXG4gICAgICAgIC8vIDI6IEl0IGJlbG9uZ3MgdG8gYSBwYXJlbnQgdGhhdCBpcyBpbnRlcmFjdGl2ZSBBTkQgb25lIG9mIHRoZSBwYXJlbnRzIGNoaWxkcmVuIGhhdmUgbm90IGFscmVhZHkgYmVlbiBoaXQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEFzIGFub3RoZXIgbGl0dGxlIG9wdGltaXphdGlvbiBvbmNlIGFuIGludGVyYWN0aXZlIG9iamVjdCBoYXMgYmVlbiBoaXQgd2UgY2FuIGNhcnJ5IG9uXG4gICAgICAgIC8vIHRocm91Z2ggdGhlIHNjZW5lZ3JhcGgsIGJ1dCB3ZSBrbm93IHRoYXQgdGhlcmUgd2lsbCBiZSBubyBtb3JlIGhpdHMhIFNvIHdlIGNhbiBhdm9pZCBleHRyYSBoaXQgdGVzdHNcbiAgICAgICAgLy8gQSBmaW5hbCBvcHRpbWl6YXRpb24gaXMgdGhhdCBhbiBvYmplY3QgaXMgbm90IGhpdCB0ZXN0IGRpcmVjdGx5IGlmIGEgY2hpbGQgaGFzIGFscmVhZHkgYmVlbiBoaXQuXG4gICAgICAgIGludGVyYWN0aXZlID0gZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZSB8fCBpbnRlcmFjdGl2ZTtcbiAgICAgICAgdmFyIGhpdCA9IGZhbHNlO1xuICAgICAgICB2YXIgaW50ZXJhY3RpdmVQYXJlbnQgPSBpbnRlcmFjdGl2ZTtcbiAgICAgICAgLy8gRmxhZyBoZXJlIGNhbiBzZXQgdG8gZmFsc2UgaWYgdGhlIGV2ZW50IGlzIG91dHNpZGUgdGhlIHBhcmVudHMgaGl0QXJlYSBvciBtYXNrXG4gICAgICAgIHZhciBoaXRUZXN0Q2hpbGRyZW4gPSB0cnVlO1xuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIGhpdEFyZWEsIG5vIG5lZWQgdG8gdGVzdCBhZ2FpbnN0IGFueXRoaW5nIGVsc2UgaWYgdGhlIHBvaW50ZXIgaXMgbm90IHdpdGhpbiB0aGUgaGl0QXJlYVxuICAgICAgICAvLyBUaGVyZSBpcyBhbHNvIG5vIGxvbmdlciBhIG5lZWQgdG8gaGl0VGVzdCBjaGlsZHJlbi5cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuaGl0QXJlYSkge1xuICAgICAgICAgICAgaWYgKGhpdFRlc3QpIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGhpcy5fdGVtcFBvaW50KTtcbiAgICAgICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuaGl0QXJlYS5jb250YWlucyh0aGlzLl90ZW1wUG9pbnQueCwgdGhpcy5fdGVtcFBvaW50LnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdFRlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaGl0VGVzdENoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGludGVyYWN0aXZlUGFyZW50ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBtYXNrLCBubyBuZWVkIHRvIGhpdFRlc3QgYWdhaW5zdCBhbnl0aGluZyBlbHNlIGlmIHRoZSBwb2ludGVyIGlzIG5vdCB3aXRoaW4gdGhlIG1hc2suXG4gICAgICAgIC8vIFdlIHN0aWxsIHdhbnQgdG8gaGl0VGVzdENoaWxkcmVuLCBob3dldmVyLCB0byBlbnN1cmUgYSBtb3VzZW91dCBjYW4gc3RpbGwgYmUgZ2VuZXJhdGVkLlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzUxMzVcbiAgICAgICAgZWxzZSBpZiAoZGlzcGxheU9iamVjdC5fbWFzaykge1xuICAgICAgICAgICAgaWYgKGhpdFRlc3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoIShkaXNwbGF5T2JqZWN0Ll9tYXNrLmNvbnRhaW5zUG9pbnQgJiYgZGlzcGxheU9iamVjdC5fbWFzay5jb250YWluc1BvaW50KHBvaW50KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyAqKiBGUkVFIFRJUCAqKiEgSWYgYW4gb2JqZWN0IGlzIG5vdCBpbnRlcmFjdGl2ZSBvciBoYXMgbm8gYnV0dG9ucyBpbiBpdFxuICAgICAgICAvLyAoc3VjaCBhcyBhIGdhbWUgc2NlbmUhKSBzZXQgaW50ZXJhY3RpdmVDaGlsZHJlbiB0byBmYWxzZSBmb3IgdGhhdCBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAvLyBUaGlzIHdpbGwgYWxsb3cgUGl4aUpTIHRvIGNvbXBsZXRlbHkgaWdub3JlIGFuZCBieXBhc3MgY2hlY2tpbmcgdGhlIGRpc3BsYXlPYmplY3RzIGNoaWxkcmVuLlxuICAgICAgICBpZiAoaGl0VGVzdENoaWxkcmVuICYmIGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmVDaGlsZHJlbiAmJiBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgLy8gdGltZSB0byBnZXQgcmVjdXJzaXZlLi4gaWYgdGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiBpZiBzb21ldGhpbmcgaXMgaGl0Li5cbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRIaXQgPSB0aGlzLnJlY3Vyc2l2ZUZpbmRIaXQoaW50ZXJhY3Rpb25FdmVudCwgY2hpbGQsIGZ1bmMsIGhpdFRlc3QsIGludGVyYWN0aXZlUGFyZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRIaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaXRzIGEgZ29vZCBpZGVhIHRvIGNoZWNrIGlmIGEgY2hpbGQgaGFzIGxvc3QgaXRzIHBhcmVudC5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBtZWFucyBpdCBoYXMgYmVlbiByZW1vdmVkIHdoaWxzdCBsb29waW5nIHNvIGl0cyBiZXN0XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hpbGQucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBubyBsb25nZXIgbmVlZCB0byBoaXQgdGVzdCBhbnkgbW9yZSBvYmplY3RzIGluIHRoaXMgY29udGFpbmVyIGFzIHdlIHdlXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdyBrbm93IHRoZSBwYXJlbnQgaGFzIGJlZW4gaGl0XG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aXZlUGFyZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjaGlsZCBpcyBpbnRlcmFjdGl2ZSAsIHRoYXQgbWVhbnMgdGhhdCB0aGUgb2JqZWN0IGhpdCB3YXMgYWN0dWFsbHlcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50ZXJhY3RpdmUgYW5kIG5vdCBqdXN0IHRoZSBjaGlsZCBvZiBhbiBpbnRlcmFjdGl2ZSBvYmplY3QuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgbWVhbnMgd2Ugbm8gbG9uZ2VyIG5lZWQgdG8gaGl0IHRlc3QgYW55dGhpbmcgZWxzZS4gV2Ugc3RpbGwgbmVlZCB0byBydW5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhyb3VnaCBhbGwgb2JqZWN0cywgYnV0IHdlIGRvbid0IG5lZWQgdG8gcGVyZm9ybSBhbnkgaGl0IHRlc3RzLlxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRIaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdFRlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm8gcG9pbnQgcnVubmluZyB0aGlzIGlmIHRoZSBpdGVtIGlzIG5vdCBpbnRlcmFjdGl2ZSBvciBkb2VzIG5vdCBoYXZlIGFuIGludGVyYWN0aXZlIHBhcmVudC5cbiAgICAgICAgaWYgKGludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgaGl0IHRlc3RpbmcgKGFzIGluIHdlIGhhdmUgbm8gaGl0IGFueSBvYmplY3RzIHlldClcbiAgICAgICAgICAgIC8vIFdlIGFsc28gZG9uJ3QgbmVlZCB0byB3b3JyeSBhYm91dCBoaXQgdGVzdGluZyBpZiBvbmNlIG9mIHRoZSBkaXNwbGF5T2JqZWN0cyBjaGlsZHJlblxuICAgICAgICAgICAgLy8gaGFzIGFscmVhZHkgYmVlbiBoaXQgLSBidXQgb25seSBpZiBpdCB3YXMgaW50ZXJhY3RpdmUsIG90aGVyd2lzZSB3ZSBuZWVkIHRvIGtlZXBcbiAgICAgICAgICAgIC8vIGxvb2tpbmcgZm9yIGFuIGludGVyYWN0aXZlIGNoaWxkLCBqdXN0IGluIGNhc2Ugd2UgaGl0IG9uZVxuICAgICAgICAgICAgaWYgKGhpdFRlc3QgJiYgIWludGVyYWN0aW9uRXZlbnQudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gYWxyZWFkeSB0ZXN0ZWQgYWdhaW5zdCBoaXRBcmVhIGlmIGl0IGlzIGRlZmluZWRcbiAgICAgICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuaGl0QXJlYSAmJiBkaXNwbGF5T2JqZWN0LmNvbnRhaW5zUG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuY29udGFpbnNQb2ludChwb2ludCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIGlmIChoaXQgJiYgIWludGVyYWN0aW9uRXZlbnQudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQudGFyZ2V0ID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZ1bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgZnVuYyhpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCAhIWhpdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHByb3ZpZGVzIGEgbmVhdCB3YXkgb2YgY3Jhd2xpbmcgdGhyb3VnaCB0aGUgc2NlbmUgZ3JhcGggYW5kIHJ1bm5pbmcgYVxuICAgICAqIHNwZWNpZmllZCBmdW5jdGlvbiBvbiBhbGwgaW50ZXJhY3RpdmUgb2JqZWN0cyBpdCBmaW5kcy4gSXQgd2lsbCBhbHNvIHRha2UgY2FyZSBvZiBoaXRcbiAgICAgKiB0ZXN0aW5nIHRoZSBpbnRlcmFjdGl2ZSBvYmplY3RzIGFuZCBwYXNzZXMgdGhlIGhpdCBhY3Jvc3MgaW4gdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIGV2ZW50IGNvbnRhaW5pbmcgdGhlIHBvaW50IHRoYXRcbiAgICAgKiAgaXMgdGVzdGVkIGZvciBjb2xsaXNpb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3RcbiAgICAgKiAgdGhhdCB3aWxsIGJlIGhpdCB0ZXN0IChyZWN1cnNpdmVseSBjcmF3bHMgaXRzIGNoaWxkcmVuKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtmdW5jXSAtIHRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggaW50ZXJhY3RpdmUgb2JqZWN0LiBUaGVcbiAgICAgKiAgaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCBhbmQgaGl0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpdFRlc3RdIC0gdGhpcyBpbmRpY2F0ZXMgaWYgdGhlIG9iamVjdHMgaW5zaWRlIHNob3VsZCBiZSBoaXQgdGVzdCBhZ2FpbnN0IHRoZSBwb2ludFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHJldHVybnMgdHJ1ZSBpZiB0aGUgZGlzcGxheU9iamVjdCBoaXQgdGhlIHBvaW50XG4gICAgICovXG4gICAgVHJlZVNlYXJjaC5wcm90b3R5cGUuZmluZEhpdCA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBmdW5jLCBoaXRUZXN0KSB7XG4gICAgICAgIHRoaXMucmVjdXJzaXZlRmluZEhpdChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBmdW5jLCBoaXRUZXN0LCBmYWxzZSk7XG4gICAgfTtcbiAgICByZXR1cm4gVHJlZVNlYXJjaDtcbn0oKSk7XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciBjbGFzc2VzIHRoYXQgcmVwcmVzZW50IGEgaGl0IGFyZWEuXG4gKlxuICogSXQgaXMgaW1wbGVtZW50ZWQgYnkgdGhlIGZvbGxvd2luZyBjbGFzc2VzOlxuICogLSB7QGxpbmsgUElYSS5DaXJjbGV9XG4gKiAtIHtAbGluayBQSVhJLkVsbGlwc2V9XG4gKiAtIHtAbGluayBQSVhJLlBvbHlnb259XG4gKiAtIHtAbGluayBQSVhJLlJvdW5kZWRSZWN0YW5nbGV9XG4gKlxuICogQGludGVyZmFjZSBJSGl0QXJlYVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIGFyZWFcbiAqXG4gKiBAbWV0aG9kXG4gKiBAbmFtZSBjb250YWluc1xuICogQG1lbWJlcm9mIFBJWEkuSUhpdEFyZWEjXG4gKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBhcmVhXG4gKi9cbi8qKlxuICogRGVmYXVsdCBwcm9wZXJ0eSB2YWx1ZXMgb2YgaW50ZXJhY3RpdmUgb2JqZWN0c1xuICogVXNlZCBieSB7QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXJ9IHRvIGF1dG9tYXRpY2FsbHkgZ2l2ZSBhbGwgRGlzcGxheU9iamVjdHMgdGhlc2UgcHJvcGVydGllc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBpbnRlcmFjdGl2ZVRhcmdldFxuICogQHR5cGUge09iamVjdH1cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXhhbXBsZVxuICogICAgICBmdW5jdGlvbiBNeU9iamVjdCgpIHt9XG4gKlxuICogICAgICBPYmplY3QuYXNzaWduKFxuICogICAgICAgICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUsXG4gKiAgICAgICAgICBQSVhJLmludGVyYWN0aXZlVGFyZ2V0XG4gKiAgICAgICk7XG4gKi9cbnZhciBpbnRlcmFjdGl2ZVRhcmdldCA9IHtcbiAgICAvKipcbiAgICAgKiBFbmFibGUgaW50ZXJhY3Rpb24gZXZlbnRzIGZvciB0aGUgRGlzcGxheU9iamVjdC4gVG91Y2gsIHBvaW50ZXIgYW5kIG1vdXNlXG4gICAgICogZXZlbnRzIHdpbGwgbm90IGJlIGVtaXR0ZWQgdW5sZXNzIGBpbnRlcmFjdGl2ZWAgaXMgc2V0IHRvIGB0cnVlYC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICogc3ByaXRlLm9uKCd0YXAnLCAoZXZlbnQpID0+IHtcbiAgICAgKiAgICAvL2hhbmRsZSBldmVudFxuICAgICAqIH0pO1xuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBpbnRlcmFjdGl2ZTogZmFsc2UsXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB0aGUgY2hpbGRyZW4gdG8gdGhlIGRpc3BsYXlPYmplY3QgY2FuIGJlIGNsaWNrZWQvdG91Y2hlZFxuICAgICAqIFNldHRpbmcgdGhpcyB0byBmYWxzZSBhbGxvd3MgUGl4aUpTIHRvIGJ5cGFzcyBhIHJlY3Vyc2l2ZSBgaGl0VGVzdGAgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuQ29udGFpbmVyI1xuICAgICAqL1xuICAgIGludGVyYWN0aXZlQ2hpbGRyZW46IHRydWUsXG4gICAgLyoqXG4gICAgICogSW50ZXJhY3Rpb24gc2hhcGUuIENoaWxkcmVuIHdpbGwgYmUgaGl0IGZpcnN0LCB0aGVuIHRoaXMgc2hhcGUgd2lsbCBiZSBjaGVja2VkLlxuICAgICAqIFNldHRpbmcgdGhpcyB3aWxsIGNhdXNlIHRoaXMgc2hhcGUgdG8gYmUgY2hlY2tlZCBpbiBoaXQgdGVzdHMgcmF0aGVyIHRoYW4gdGhlIGRpc3BsYXlPYmplY3QncyBib3VuZHMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAqIHNwcml0ZS5oaXRBcmVhID0gbmV3IFBJWEkuUmVjdGFuZ2xlKDAsIDAsIDEwMCwgMTAwKTtcbiAgICAgKiBAbWVtYmVyIHtQSVhJLklIaXRBcmVhfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgaGl0QXJlYTogbnVsbCxcbiAgICAvKipcbiAgICAgKiBJZiBlbmFibGVkLCB0aGUgbW91c2UgY3Vyc29yIHVzZSB0aGUgcG9pbnRlciBiZWhhdmlvciB3aGVuIGhvdmVyZWQgb3ZlciB0aGUgZGlzcGxheU9iamVjdCBpZiBpdCBpcyBpbnRlcmFjdGl2ZVxuICAgICAqIFNldHRpbmcgdGhpcyBjaGFuZ2VzIHRoZSAnY3Vyc29yJyBwcm9wZXJ0eSB0byBgJ3BvaW50ZXInYC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICogc3ByaXRlLmJ1dHRvbk1vZGUgPSB0cnVlO1xuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBnZXQgYnV0dG9uTW9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3Vyc29yID09PSAncG9pbnRlcic7XG4gICAgfSxcbiAgICBzZXQgYnV0dG9uTW9kZSh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gJ3BvaW50ZXInO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY3Vyc29yID09PSAncG9pbnRlcicpIHtcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgLyoqXG4gICAgICogVGhpcyBkZWZpbmVzIHdoYXQgY3Vyc29yIG1vZGUgaXMgdXNlZCB3aGVuIHRoZSBtb3VzZSBjdXJzb3JcbiAgICAgKiBpcyBob3ZlcmVkIG92ZXIgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAqIHNwcml0ZS5jdXJzb3IgPSAnd2FpdCc7XG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9DU1MvY3Vyc29yXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBjdXJzb3I6IG51bGwsXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgc2V0IG9mIGFsbCBhY3RpdmUgcG9pbnRlcnMsIGJ5IGlkZW50aWZpZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge01hcDxudW1iZXIsIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhPn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0IHRyYWNrZWRQb2ludGVycygpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyYWNrZWRQb2ludGVycyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgeyB0aGlzLl90cmFja2VkUG9pbnRlcnMgPSB7fTsgfVxuICAgICAgICByZXR1cm4gdGhpcy5fdHJhY2tlZFBvaW50ZXJzO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogTWFwIG9mIGFsbCB0cmFja2VkIHBvaW50ZXJzLCBieSBpZGVudGlmaWVyLiBVc2UgdHJhY2tlZFBvaW50ZXJzIHRvIGFjY2Vzcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge01hcDxudW1iZXIsIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhPn1cbiAgICAgKi9cbiAgICBfdHJhY2tlZFBvaW50ZXJzOiB1bmRlZmluZWQsXG59O1xuXG4vLyBNaXggaW50ZXJhY3RpdmVUYXJnZXQgaW50byBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZVxuRGlzcGxheU9iamVjdC5taXhpbihpbnRlcmFjdGl2ZVRhcmdldCk7XG52YXIgTU9VU0VfUE9JTlRFUl9JRCA9IDE7XG4vLyBoZWxwZXJzIGZvciBoaXRUZXN0KCkgLSBvbmx5IHVzZWQgaW5zaWRlIGhpdFRlc3QoKVxudmFyIGhpdFRlc3RFdmVudCA9IHtcbiAgICB0YXJnZXQ6IG51bGwsXG4gICAgZGF0YToge1xuICAgICAgICBnbG9iYWw6IG51bGwsXG4gICAgfSxcbn07XG4vKipcbiAqIFRoZSBpbnRlcmFjdGlvbiBtYW5hZ2VyIGRlYWxzIHdpdGggbW91c2UsIHRvdWNoIGFuZCBwb2ludGVyIGV2ZW50cy5cbiAqXG4gKiBBbnkgRGlzcGxheU9iamVjdCBjYW4gYmUgaW50ZXJhY3RpdmUgaWYgaXRzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgaXMgc2V0IHRvIHRydWUuXG4gKlxuICogVGhpcyBtYW5hZ2VyIGFsc28gc3VwcG9ydHMgbXVsdGl0b3VjaC5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IGByZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBJbnRlcmFjdGlvbk1hbmFnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEludGVyYWN0aW9uTWFuYWdlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ8UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9ucyBmb3IgdGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvUHJldmVudERlZmF1bHQ9dHJ1ZV0gLSBTaG91bGQgdGhlIG1hbmFnZXIgYXV0b21hdGljYWxseSBwcmV2ZW50IGRlZmF1bHQgYnJvd3NlciBhY3Rpb25zLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5pbnRlcmFjdGlvbkZyZXF1ZW5jeT0xMF0gLSBNYXhpbXVtIGZyZXF1ZW5jeSAobXMpIGF0IHBvaW50ZXIgb3Zlci9vdXQgc3RhdGVzIHdpbGwgYmUgY2hlY2tlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudXNlU3lzdGVtVGlja2VyPXRydWVdIC0gV2hldGhlciB0byBhZGQge0BsaW5rIHRpY2tlclVwZGF0ZX0gdG8ge0BsaW5rIFBJWEkuVGlja2VyLnN5c3RlbX0uXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW50ZXJhY3Rpb25NYW5hZ2VyKHJlbmRlcmVyLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlbmRlcmVyIHRoaXMgaW50ZXJhY3Rpb24gbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQWJzdHJhY3RSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG91bGQgZGVmYXVsdCBicm93c2VyIGFjdGlvbnMgYXV0b21hdGljYWxseSBiZSBwcmV2ZW50ZWQuXG4gICAgICAgICAqIERvZXMgbm90IGFwcGx5IHRvIHBvaW50ZXIgZXZlbnRzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgICAgICAgKiBwcmV2ZW50RGVmYXVsdCBvbiBwb2ludGVyIGV2ZW50cyBzdG9wcyBtb3VzZSBldmVudHMgZnJvbSBmaXJpbmdcbiAgICAgICAgICogVGh1cywgZm9yIGV2ZXJ5IHBvaW50ZXIgZXZlbnQsIHRoZXJlIHdpbGwgYWx3YXlzIGJlIGVpdGhlciBhIG1vdXNlIG9mIHRvdWNoIGV2ZW50IGFsb25nc2lkZSBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b1ByZXZlbnREZWZhdWx0ID0gb3B0aW9ucy5hdXRvUHJldmVudERlZmF1bHQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYXV0b1ByZXZlbnREZWZhdWx0IDogdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1heGltdW0gZnJlcXVlbmN5IGluIG1pbGxpc2Vjb25kcyBhdCB3aGljaCBwb2ludGVyIG92ZXIvb3V0IHN0YXRlcyB3aWxsIGJlIGNoZWNrZWQgYnkge0BsaW5rIHRpY2tlclVwZGF0ZX0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aW9uRnJlcXVlbmN5ID0gb3B0aW9ucy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSB8fCAxMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtb3VzZSBkYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSW50ZXJhY3Rpb25EYXRhfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubW91c2UgPSBuZXcgSW50ZXJhY3Rpb25EYXRhKCk7XG4gICAgICAgIF90aGlzLm1vdXNlLmlkZW50aWZpZXIgPSBNT1VTRV9QT0lOVEVSX0lEO1xuICAgICAgICAvLyBzZXR0aW5nIHRoZSBtb3VzZSB0byBzdGFydCBvZmYgZmFyIG9mZiBzY3JlZW4gd2lsbCBtZWFuIHRoYXQgbW91c2Ugb3ZlciBkb2VzXG4gICAgICAgIC8vICBub3QgZ2V0IGNhbGxlZCBiZWZvcmUgd2UgZXZlbiBtb3ZlIHRoZSBtb3VzZS5cbiAgICAgICAgX3RoaXMubW91c2UuZ2xvYmFsLnNldCgtOTk5OTk5KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2ZWx5IHRyYWNrZWQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdC48bnVtYmVyLFBJWEkuSW50ZXJhY3Rpb25EYXRhPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YSA9IHt9O1xuICAgICAgICBfdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbTU9VU0VfUE9JTlRFUl9JRF0gPSBfdGhpcy5tb3VzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgdW51c2VkIEludGVyYWN0aW9uRGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkludGVyYWN0aW9uRGF0YVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW50ZXJhY3Rpb25EYXRhUG9vbCA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gZXZlbnQgZGF0YSBvYmplY3QgdG8gaGFuZGxlIGFsbCB0aGUgZXZlbnQgdHJhY2tpbmcvZGlzcGF0Y2hpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZXZlbnREYXRhID0gbmV3IEludGVyYWN0aW9uRXZlbnQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBET00gZWxlbWVudCB0byBiaW5kIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgcHJvcGVydHkgZGV0ZXJtaW5lcyBpZiBtb3VzZW1vdmUgYW5kIHRvdWNobW92ZSBldmVudHMgYXJlIGZpcmVkIG9ubHkgd2hlbiB0aGUgY3Vyc29yXG4gICAgICAgICAqIGlzIG92ZXIgdGhlIG9iamVjdC5cbiAgICAgICAgICogU2V0dGluZyB0byB0cnVlIHdpbGwgbWFrZSB0aGluZ3Mgd29yayBtb3JlIGluIGxpbmUgd2l0aCBob3cgdGhlIERPTSB2ZXJzaW9uIHdvcmtzLlxuICAgICAgICAgKiBTZXR0aW5nIHRvIGZhbHNlIGNhbiBtYWtlIHRoaW5ncyBlYXNpZXIgZm9yIHRoaW5ncyBsaWtlIGRyYWdnaW5nXG4gICAgICAgICAqIEl0IGlzIGN1cnJlbnRseSBzZXQgdG8gZmFsc2UgYXMgdGhpcyBpcyBob3cgUGl4aUpTIHVzZWQgdG8gd29yay4gVGhpcyB3aWxsIGJlIHNldCB0byB0cnVlIGluXG4gICAgICAgICAqIGZ1dHVyZSB2ZXJzaW9ucyBvZiBwaXhpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubW92ZVdoZW5JbnNpZGUgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhdmUgZXZlbnRzIGJlZW4gYXR0YWNoZWQgdG8gdGhlIGRvbSBlbGVtZW50P1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ldmVudHNBZGRlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSGFzIHRoZSBzeXN0ZW0gdGlja2VyIGJlZW4gYWRkZWQ/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpY2tlckFkZGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGUgbW91c2UgaG92ZXJpbmcgb3ZlciB0aGUgcmVuZGVyZXI/IElmIHdvcmtpbmcgaW4gd29ya2VyIG1vdXNlIGNvbnNpZGVyZWQgdG8gYmUgb3ZlciByZW5kZXJlciBieSBkZWZhdWx0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9ICEoJ1BvaW50ZXJFdmVudCcgaW4gc2VsZik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCB0b3VjaCBldmVudHNcbiAgICAgICAgICogaHR0cHM6Ly93d3cudzMub3JnL1RSL3RvdWNoLWV2ZW50cy9cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzID0gJ29udG91Y2hzdGFydCcgaW4gc2VsZjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvZXMgdGhlIGRldmljZSBzdXBwb3J0IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgICAqIGh0dHBzOi8vd3d3LnczLm9yZy9TdWJtaXNzaW9uL3BvaW50ZXItZXZlbnRzL1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyA9ICEhc2VsZi5Qb2ludGVyRXZlbnQ7XG4gICAgICAgIC8vIHRoaXMgd2lsbCBtYWtlIGl0IHNvIHRoYXQgeW91IGRvbid0IGhhdmUgdG8gY2FsbCBiaW5kIGFsbCB0aGUgdGltZVxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJVcCA9IF90aGlzLm9uUG9pbnRlclVwLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5wcm9jZXNzUG9pbnRlclVwID0gX3RoaXMucHJvY2Vzc1BvaW50ZXJVcC5iaW5kKF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyQ2FuY2VsID0gX3RoaXMub25Qb2ludGVyQ2FuY2VsLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbCA9IF90aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsLmJpbmQoX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJEb3duID0gX3RoaXMub25Qb2ludGVyRG93bi5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMucHJvY2Vzc1BvaW50ZXJEb3duID0gX3RoaXMucHJvY2Vzc1BvaW50ZXJEb3duLmJpbmQoX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJNb3ZlID0gX3RoaXMub25Qb2ludGVyTW92ZS5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlID0gX3RoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlLmJpbmQoX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJPdXQgPSBfdGhpcy5vblBvaW50ZXJPdXQuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCA9IF90aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dC5iaW5kKF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyT3ZlciA9IF90aGlzLm9uUG9pbnRlck92ZXIuYmluZChfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWN0aW9uYXJ5IG9mIGhvdyBkaWZmZXJlbnQgY3Vyc29yIG1vZGVzIGFyZSBoYW5kbGVkLiBTdHJpbmdzIGFyZSBoYW5kbGVkIGFzIENTUyBjdXJzb3JcbiAgICAgICAgICogdmFsdWVzLCBvYmplY3RzIGFyZSBoYW5kbGVkIGFzIGRpY3Rpb25hcmllcyBvZiBDU1MgdmFsdWVzIGZvciBpbnRlcmFjdGlvbkRPTUVsZW1lbnQsXG4gICAgICAgICAqIGFuZCBmdW5jdGlvbnMgYXJlIGNhbGxlZCBpbnN0ZWFkIG9mIGNoYW5naW5nIHRoZSBDU1MuXG4gICAgICAgICAqIERlZmF1bHQgQ1NTIGN1cnNvciB2YWx1ZXMgYXJlIHByb3ZpZGVkIGZvciAnZGVmYXVsdCcgYW5kICdwb2ludGVyJyBtb2Rlcy5cbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0LjxzdHJpbmcsIE9iamVjdD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJzb3JTdHlsZXMgPSB7XG4gICAgICAgICAgICBkZWZhdWx0OiAnaW5oZXJpdCcsXG4gICAgICAgICAgICBwb2ludGVyOiAncG9pbnRlcicsXG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbW9kZSBvZiB0aGUgY3Vyc29yIHRoYXQgaXMgYmVpbmcgdXNlZC5cbiAgICAgICAgICogVGhlIHZhbHVlIG9mIHRoaXMgaXMgYSBrZXkgZnJvbSB0aGUgY3Vyc29yU3R5bGVzIGRpY3Rpb25hcnkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnJlbnRDdXJzb3JNb2RlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGNhY2hlZCBsZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnNvciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVsYXllZCBwb2ludGVyIGV2ZW50cy4gVXNlZCB0byBndWFyYW50ZWUgY29ycmVjdCBvcmRlcmluZyBvZiBvdmVyL291dCBldmVudHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVsYXllZEV2ZW50cyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJlZVNlYXJjaCBjb21wb25lbnQgdGhhdCBpcyB1c2VkIHRvIGhpdFRlc3Qgc3RhZ2UgdHJlZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRyZWVTZWFyY2h9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zZWFyY2ggPSBuZXcgVHJlZVNlYXJjaCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBhcyBhIGxhc3QgcmVuZGVyZWQgb2JqZWN0IGluIGNhc2UgcmVuZGVyZXIgZG9lc250IGhhdmUgX2xhc3RPYmplY3RSZW5kZXJlZFxuICAgICAgICAgKiBAbWVtYmVyIHtEaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RlbXBEaXNwbGF5T2JqZWN0ID0gbmV3IFRlbXBvcmFyeURpc3BsYXlPYmplY3QoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZWRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNyaWdodGRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXlcbiAgICAgICAgICogb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2V1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0dXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uXG4gICAgICAgICAqIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI2NsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0Y2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlXG4gICAgICAgICAqIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbbW91c2Vkb3duXXtAbGluayBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNldmVudDptb3VzZWRvd259LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2V1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFtyaWdodGRvd25de0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnJpZ2h0ZG93bn0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNyaWdodHVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2Vtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZW92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2VvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcmRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBOb3QgYWx3YXlzIGZpcmVkIHdoZW4gc29tZSBidXR0b25zIGFyZSBoZWxkIGRvd24gd2hpbGUgb3RoZXJzIGFyZSByZWxlYXNlZC4gSW4gdGhvc2UgY2FzZXMsXG4gICAgICAgICAqIHVzZSBbbW91c2Vkb3duXXtAbGluayBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNldmVudDptb3VzZWRvd259IGFuZFxuICAgICAgICAgKiBbbW91c2V1cF17QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6bW91c2V1cH0gaW5zdGVhZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHBvaW50ZXIgZXZlbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbcG9pbnRlcmRvd25de0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnBvaW50ZXJkb3dufS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaHN0YXJ0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaGVuZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHRvdWNoXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaGNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgYW5kIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciN0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBvdXRzaWRlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3RvdWNoc3RhcnRde0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnRvdWNoc3RhcnR9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hlbmRvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIG1vdmVkIGFsb25nIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNobW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheS5cbiAgICAgICAgICogb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZWRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBvbiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0ZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNldXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0dXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uXG4gICAgICAgICAqIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjY2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodGNsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZVxuICAgICAgICAgKiBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW21vdXNlZG93bl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50Om1vdXNlZG93bn0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNldXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbcmlnaHRkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6cmlnaHRkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHR1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlbW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2VvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcmRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVydXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSBwb2ludGVyIGV2ZW50LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJ0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbcG9pbnRlcmRvd25de0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDpwb2ludGVyZG93bn0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJ1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoc3RhcnRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hlbmRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSB0b3VjaC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIGFuZCByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBvdXRzaWRlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3RvdWNoc3RhcnRde0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDp0b3VjaHN0YXJ0fS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hlbmRvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIG1vdmVkIGFsb25nIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2htb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdXNlU3lzdGVtVGlja2VyID0gb3B0aW9ucy51c2VTeXN0ZW1UaWNrZXIgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudXNlU3lzdGVtVGlja2VyIDogdHJ1ZTtcbiAgICAgICAgX3RoaXMuc2V0VGFyZ2V0RWxlbWVudChfdGhpcy5yZW5kZXJlci52aWV3LCBfdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZSwgXCJ1c2VTeXN0ZW1UaWNrZXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2hvdWxkIHRoZSBJbnRlcmFjdGlvbk1hbmFnZXIgYXV0b21hdGljYWxseSBhZGQge0BsaW5rIHRpY2tlclVwZGF0ZX0gdG8ge0BsaW5rIFBJWEkuVGlja2VyLnN5c3RlbX0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VzZVN5c3RlbVRpY2tlcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodXNlU3lzdGVtVGlja2VyKSB7XG4gICAgICAgICAgICB0aGlzLl91c2VTeXN0ZW1UaWNrZXIgPSB1c2VTeXN0ZW1UaWNrZXI7XG4gICAgICAgICAgICBpZiAodXNlU3lzdGVtVGlja2VyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRUaWNrZXJMaXN0ZW5lcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVUaWNrZXJMaXN0ZW5lcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUsIFwibGFzdE9iamVjdFJlbmRlcmVkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExhc3QgcmVuZGVyZWQgb2JqZWN0IG9yIHRlbXAgb2JqZWN0XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCB8fCB0aGlzLl90ZW1wRGlzcGxheU9iamVjdDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEhpdCB0ZXN0cyBhIHBvaW50IGFnYWluc3QgdGhlIGRpc3BsYXkgdHJlZSwgcmV0dXJuaW5nIHRoZSBmaXJzdCBpbnRlcmFjdGl2ZSBvYmplY3QgdGhhdCBpcyBoaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IGdsb2JhbFBvaW50IC0gQSBwb2ludCB0byBoaXQgdGVzdCB3aXRoLCBpbiBnbG9iYWwgc3BhY2UuXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gW3Jvb3RdIC0gVGhlIHJvb3QgZGlzcGxheSBvYmplY3QgdG8gc3RhcnQgZnJvbS4gSWYgb21pdHRlZCwgZGVmYXVsdHNcbiAgICAgKiB0byB0aGUgbGFzdCByZW5kZXJlZCByb290IG9mIHRoZSBhc3NvY2lhdGVkIHJlbmRlcmVyLlxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGhpdCBkaXNwbGF5IG9iamVjdCwgaWYgYW55LlxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuaGl0VGVzdCA9IGZ1bmN0aW9uIChnbG9iYWxQb2ludCwgcm9vdCkge1xuICAgICAgICAvLyBjbGVhciB0aGUgdGFyZ2V0IGZvciBvdXIgaGl0IHRlc3RcbiAgICAgICAgaGl0VGVzdEV2ZW50LnRhcmdldCA9IG51bGw7XG4gICAgICAgIC8vIGFzc2lnbiB0aGUgZ2xvYmFsIHBvaW50XG4gICAgICAgIGhpdFRlc3RFdmVudC5kYXRhLmdsb2JhbCA9IGdsb2JhbFBvaW50O1xuICAgICAgICAvLyBlbnN1cmUgc2FmZXR5IG9mIHRoZSByb290XG4gICAgICAgIGlmICghcm9vdCkge1xuICAgICAgICAgICAgcm9vdCA9IHRoaXMubGFzdE9iamVjdFJlbmRlcmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJ1biB0aGUgaGl0IHRlc3RcbiAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaGl0VGVzdEV2ZW50LCByb290LCBudWxsLCB0cnVlKTtcbiAgICAgICAgLy8gcmV0dXJuIG91ciBmb3VuZCBvYmplY3QgLSBpdCdsbCBiZSBudWxsIGlmIHdlIGRpZG4ndCBoaXQgYW55dGhpbmdcbiAgICAgICAgcmV0dXJuIGhpdFRlc3RFdmVudC50YXJnZXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBET00gZWxlbWVudCB3aGljaCB3aWxsIHJlY2VpdmUgbW91c2UvdG91Y2ggZXZlbnRzLiBUaGlzIGlzIHVzZWZ1bCBmb3Igd2hlbiB5b3UgaGF2ZVxuICAgICAqIG90aGVyIERPTSBlbGVtZW50cyBvbiB0b3Agb2YgdGhlIHJlbmRlcmVycyBDYW52YXMgZWxlbWVudC4gV2l0aCB0aGlzIHlvdSdsbCBiZSBiYWxlIHRvIGRlbGVnYXRlXG4gICAgICogYW5vdGhlciBET00gZWxlbWVudCB0byByZWNlaXZlIHRob3NlIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSB0aGUgRE9NIGVsZW1lbnQgd2hpY2ggd2lsbCByZWNlaXZlIG1vdXNlIGFuZCB0b3VjaCBldmVudHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIG5ldyBlbGVtZW50IChyZWxhdGl2ZSB0byB0aGUgY2FudmFzKS5cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnNldFRhcmdldEVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbWVudCwgcmVzb2x1dGlvbikge1xuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb24gPSAxOyB9XG4gICAgICAgIHRoaXMucmVtb3ZlVGlja2VyTGlzdGVuZXIoKTtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudHMoKTtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLmFkZEV2ZW50cygpO1xuICAgICAgICB0aGlzLmFkZFRpY2tlckxpc3RlbmVyKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgdGhlIHRpY2tlciBsaXN0ZW5lclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmFkZFRpY2tlckxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy50aWNrZXJBZGRlZCB8fCAhdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgfHwgIXRoaXMuX3VzZVN5c3RlbVRpY2tlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFRpY2tlci5zeXN0ZW0uYWRkKHRoaXMudGlja2VyVXBkYXRlLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuSU5URVJBQ1RJT04pO1xuICAgICAgICB0aGlzLnRpY2tlckFkZGVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgdGlja2VyIGxpc3RlbmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucmVtb3ZlVGlja2VyTGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy50aWNrZXJBZGRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFRpY2tlci5zeXN0ZW0ucmVtb3ZlKHRoaXMudGlja2VyVXBkYXRlLCB0aGlzKTtcbiAgICAgICAgdGhpcy50aWNrZXJBZGRlZCA9IGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGFsbCB0aGUgRE9NIGV2ZW50c1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmFkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRzQWRkZWQgfHwgIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGU7XG4gICAgICAgIGlmIChzZWxmLm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKSB7XG4gICAgICAgICAgICBzdHlsZS5tc0NvbnRlbnRab29taW5nID0gJ25vbmUnO1xuICAgICAgICAgICAgc3R5bGUubXNUb3VjaEFjdGlvbiA9ICdub25lJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgc3R5bGUudG91Y2hBY3Rpb24gPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICAgICAgLypcbiAgICAgICAgICogVGhlc2UgZXZlbnRzIGFyZSBhZGRlZCBmaXJzdCwgc28gdGhhdCBpZiBwb2ludGVyIGV2ZW50cyBhcmUgbm9ybWFsaXplZCwgdGhleSBhcmUgZmlyZWRcbiAgICAgICAgICogaW4gdGhlIHNhbWUgb3JkZXIgYXMgbm9uLW5vcm1hbGl6ZWQgZXZlbnRzLiBpZS4gcG9pbnRlciBldmVudCAxc3QsIG1vdXNlIC8gdG91Y2ggMm5kXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgICAgIHNlbGYuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgLy8gcG9pbnRlcm91dCBpcyBmaXJlZCBpbiBhZGRpdGlvbiB0byBwb2ludGVydXAgKGZvciB0b3VjaCBldmVudHMpIGFuZCBwb2ludGVyY2FuY2VsXG4gICAgICAgICAgICAvLyB3ZSBhbHJlYWR5IGhhbmRsZSB0aG9zZSwgc28gZm9yIHRoZSBwdXJwb3NlcyBvZiB3aGF0IHdlIGRvIGluIG9uUG9pbnRlck91dCwgd2Ugb25seVxuICAgICAgICAgICAgLy8gY2FyZSBhYm91dCB0aGUgcG9pbnRlcmxlYXZlIGV2ZW50XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICBzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICBzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2VsZi5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFsd2F5cyBsb29rIGRpcmVjdGx5IGZvciB0b3VjaCBldmVudHMgc28gdGhhdCB3ZSBjYW4gcHJvdmlkZSBvcmlnaW5hbCBkYXRhXG4gICAgICAgIC8vIEluIGEgZnV0dXJlIHZlcnNpb24gd2Ugc2hvdWxkIGNoYW5nZSB0aGlzIHRvIGJlaW5nIGp1c3QgYSBmYWxsYmFjayBhbmQgcmVseSBzb2xlbHkgb25cbiAgICAgICAgLy8gUG9pbnRlckV2ZW50cyB3aGVuZXZlciBhdmFpbGFibGVcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cykge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXZlbnRzQWRkZWQgPSB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgdGhlIERPTSBldmVudHMgdGhhdCB3ZXJlIHByZXZpb3VzbHkgcmVnaXN0ZXJlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnJlbW92ZUV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmV2ZW50c0FkZGVkIHx8ICF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlO1xuICAgICAgICBpZiAoc2VsZi5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCkge1xuICAgICAgICAgICAgc3R5bGUubXNDb250ZW50Wm9vbWluZyA9ICcnO1xuICAgICAgICAgICAgc3R5bGUubXNUb3VjaEFjdGlvbiA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgICAgICBzdHlsZS50b3VjaEFjdGlvbiA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgc2VsZi5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICBzZWxmLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICBzZWxmLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2VsZi5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHNlbGYucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuZXZlbnRzQWRkZWQgPSBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHN0YXRlIG9mIGludGVyYWN0aXZlIG9iamVjdHMgaWYgYXQgbGVhc3Qge0BsaW5rIGludGVyYWN0aW9uRnJlcXVlbmN5fVxuICAgICAqIG1pbGxpc2Vjb25kcyBoYXZlIHBhc3NlZCBzaW5jZSB0aGUgbGFzdCBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogSW52b2tlZCBieSBhIHRocm90dGxlZCB0aWNrZXIgdXBkYXRlIGZyb20ge0BsaW5rIFBJWEkuVGlja2VyLnN5c3RlbX0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFUaW1lIC0gdGltZSBkZWx0YSBzaW5jZSB0aGUgbGFzdCBjYWxsXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS50aWNrZXJVcGRhdGUgPSBmdW5jdGlvbiAoZGVsdGFUaW1lKSB7XG4gICAgICAgIHRoaXMuX2RlbHRhVGltZSArPSBkZWx0YVRpbWU7XG4gICAgICAgIGlmICh0aGlzLl9kZWx0YVRpbWUgPCB0aGlzLmludGVyYWN0aW9uRnJlcXVlbmN5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGVsdGFUaW1lID0gMDtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHN0YXRlIG9mIGludGVyYWN0aXZlIG9iamVjdHMuXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGUgdXNlciBtb3ZlIHRoZSBtb3VzZSB0aGlzIGNoZWNrIGhhcyBhbHJlYWR5IGJlZW4gZG9uZSB1c2luZyB0aGUgbW91c2UgbW92ZSFcbiAgICAgICAgaWYgKHRoaXMuX2RpZE1vdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2RpZE1vdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgICAgIC8vIFJlc2V0cyB0aGUgZmxhZyBhcyBzZXQgYnkgYSBzdG9wUHJvcGFnYXRpb24gY2FsbC4gVGhpcyBmbGFnIGlzIHVzdWFsbHkgcmVzZXQgYnkgYSB1c2VyIGludGVyYWN0aW9uIG9mIGFueSBraW5kLFxuICAgICAgICAvLyBidXQgdGhlcmUgd2FzIGEgc2NlbmFyaW8gb2YgYSBkaXNwbGF5IG9iamVjdCBtb3ZpbmcgdW5kZXIgYSBzdGF0aWMgbW91c2UgY3Vyc29yLlxuICAgICAgICAvLyBJbiB0aGlzIGNhc2UsIG1vdXNlb3ZlciBhbmQgbW91c2VldmVudHMgd291bGQgbm90IHBhc3MgdGhlIGZsYWcgdGVzdCBpbiBkaXNwYXRjaEV2ZW50IGZ1bmN0aW9uXG4gICAgICAgIGZvciAodmFyIGsgaW4gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YS5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtrXTtcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQgJiYgaW50ZXJhY3Rpb25EYXRhLnBvaW50ZXJUeXBlICE9PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGludGVyYWN0aW9uRGF0YS5vcmlnaW5hbEV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLmxhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUodGhpcy5jdXJzb3IpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCBjdXJzb3IgbW9kZSwgaGFuZGxpbmcgYW55IGNhbGxiYWNrcyBvciBDU1Mgc3R5bGUgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlIC0gY3Vyc29yIG1vZGUsIGEga2V5IGZyb20gdGhlIGN1cnNvclN0eWxlcyBkaWN0aW9uYXJ5XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5zZXRDdXJzb3JNb2RlID0gZnVuY3Rpb24gKG1vZGUpIHtcbiAgICAgICAgbW9kZSA9IG1vZGUgfHwgJ2RlZmF1bHQnO1xuICAgICAgICB2YXIgYXBwbHlTdHlsZXMgPSB0cnVlO1xuICAgICAgICAvLyBvZmZzY3JlZW4gY2FudmFzIGRvZXMgbm90IHN1cHBvcnQgc2V0dGluZyBzdHlsZXMsIGJ1dCBjdXJzb3IgbW9kZXMgY2FuIGJlIGZ1bmN0aW9ucyxcbiAgICAgICAgLy8gaW4gb3JkZXIgdG8gaGFuZGxlIHBpeGkgcmVuZGVyZWQgY3Vyc29ycywgc28gd2UgY2FuJ3QgYmFpbFxuICAgICAgICBpZiAoc2VsZi5PZmZzY3JlZW5DYW52YXMgJiYgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgaW5zdGFuY2VvZiBPZmZzY3JlZW5DYW52YXMpIHtcbiAgICAgICAgICAgIGFwcGx5U3R5bGVzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhlIG1vZGUgZGlkbid0IGFjdHVhbGx5IGNoYW5nZSwgYmFpbCBlYXJseVxuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9PT0gbW9kZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudEN1cnNvck1vZGUgPSBtb2RlO1xuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmN1cnNvclN0eWxlc1ttb2RlXTtcbiAgICAgICAgLy8gb25seSBkbyB0aGluZ3MgaWYgdGhlcmUgaXMgYSBjdXJzb3Igc3R5bGUgZm9yIGl0XG4gICAgICAgIGlmIChzdHlsZSkge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlb2Ygc3R5bGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgICAgICAvLyBzdHJpbmcgc3R5bGVzIGFyZSBoYW5kbGVkIGFzIGN1cnNvciBDU1NcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFwcGx5U3R5bGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZS5jdXJzb3IgPSBzdHlsZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICAgICAgICAgIC8vIGZ1bmN0aW9ucyBhcmUganVzdCBjYWxsZWQsIGFuZCBwYXNzZWQgdGhlIGN1cnNvciBtb2RlXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlKG1vZGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdCBpcyBhbiBvYmplY3QsIGFzc3VtZSB0aGF0IGl0IGlzIGEgZGljdGlvbmFyeSBvZiBDU1Mgc3R5bGVzLFxuICAgICAgICAgICAgICAgICAgICAvLyBhcHBseSBpdCB0byB0aGUgaW50ZXJhY3Rpb25ET01FbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcHBseVN0eWxlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZSwgc3R5bGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFwcGx5U3R5bGVzICYmIHR5cGVvZiBtb2RlID09PSAnc3RyaW5nJyAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuY3Vyc29yU3R5bGVzLCBtb2RlKSkge1xuICAgICAgICAgICAgLy8gaWYgaXQgbW9kZSBpcyBhIHN0cmluZyAobm90IGEgU3ltYm9sKSBhbmQgY3Vyc29yU3R5bGVzIGRvZXNuJ3QgaGF2ZSBhbnkgZW50cnlcbiAgICAgICAgICAgIC8vIGZvciB0aGUgbW9kZSwgdGhlbiBhc3N1bWUgdGhhdCB0aGUgZGV2IHdhbnRzIGl0IHRvIGJlIENTUyBmb3IgdGhlIGN1cnNvci5cbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLmN1cnNvciA9IG1vZGU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZXMgYW4gZXZlbnQgb24gdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIGludGVyYWN0ZWQgd2l0aFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5IG9iamVjdCBpbiBxdWVzdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFN0cmluZyAtIHRoZSBuYW1lIG9mIHRoZSBldmVudCAoZS5nLCBtb3VzZWRvd24pXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50RGF0YSAtIHRoZSBldmVudCBkYXRhIG9iamVjdFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGRpc3BsYXlPYmplY3QsIGV2ZW50U3RyaW5nLCBldmVudERhdGEpIHtcbiAgICAgICAgLy8gRXZlbiBpZiB0aGUgZXZlbnQgd2FzIHN0b3BwZWQsIGF0IGxlYXN0IGRpc3BhdGNoIGFueSByZW1haW5pbmcgZXZlbnRzXG4gICAgICAgIC8vIGZvciB0aGUgc2FtZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgaWYgKCFldmVudERhdGEuc3RvcFByb3BhZ2F0aW9uSGludCB8fCBkaXNwbGF5T2JqZWN0ID09PSBldmVudERhdGEuc3RvcHNQcm9wYWdhdGluZ0F0KSB7XG4gICAgICAgICAgICBldmVudERhdGEuY3VycmVudFRhcmdldCA9IGRpc3BsYXlPYmplY3Q7XG4gICAgICAgICAgICBldmVudERhdGEudHlwZSA9IGV2ZW50U3RyaW5nO1xuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5lbWl0KGV2ZW50U3RyaW5nLCBldmVudERhdGEpO1xuICAgICAgICAgICAgaWYgKGRpc3BsYXlPYmplY3RbZXZlbnRTdHJpbmddKSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdFtldmVudFN0cmluZ10oZXZlbnREYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUHV0cyBhIGV2ZW50IG9uIGEgcXVldWUgdG8gYmUgZGlzcGF0Y2hlZCBsYXRlci4gVGhpcyBpcyB1c2VkIHRvIGd1YXJhbnRlZSBjb3JyZWN0XG4gICAgICogb3JkZXJpbmcgb2Ygb3Zlci9vdXQgZXZlbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5IG9iamVjdCBpbiBxdWVzdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFN0cmluZyAtIHRoZSBuYW1lIG9mIHRoZSBldmVudCAoZS5nLCBtb3VzZWRvd24pXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50RGF0YSAtIHRoZSBldmVudCBkYXRhIG9iamVjdFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5kZWxheURpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiAoZGlzcGxheU9iamVjdCwgZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSkge1xuICAgICAgICB0aGlzLmRlbGF5ZWRFdmVudHMucHVzaCh7IGRpc3BsYXlPYmplY3Q6IGRpc3BsYXlPYmplY3QsIGV2ZW50U3RyaW5nOiBldmVudFN0cmluZywgZXZlbnREYXRhOiBldmVudERhdGEgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYXBzIHggYW5kIHkgY29vcmRzIGZyb20gYSBET00gb2JqZWN0IGFuZCBtYXBzIHRoZW0gY29ycmVjdGx5IHRvIHRoZSBQaXhpSlMgdmlldy4gVGhlXG4gICAgICogcmVzdWx0aW5nIHZhbHVlIGlzIHN0b3JlZCBpbiB0aGUgcG9pbnQuIFRoaXMgdGFrZXMgaW50byBhY2NvdW50IHRoZSBmYWN0IHRoYXQgdGhlIERPTVxuICAgICAqIGVsZW1lbnQgY291bGQgYmUgc2NhbGVkIGFuZCBwb3NpdGlvbmVkIGFueXdoZXJlIG9uIHRoZSBzY3JlZW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtQSVhJLklQb2ludERhdGF9IHBvaW50IC0gdGhlIHBvaW50IHRoYXQgdGhlIHJlc3VsdCB3aWxsIGJlIHN0b3JlZCBpblxuICAgICAqIEBwYXJhbSAge251bWJlcn0geCAtIHRoZSB4IGNvb3JkIG9mIHRoZSBwb3NpdGlvbiB0byBtYXBcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHkgLSB0aGUgeSBjb29yZCBvZiB0aGUgcG9zaXRpb24gdG8gbWFwXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5tYXBQb3NpdGlvblRvUG9pbnQgPSBmdW5jdGlvbiAocG9pbnQsIHgsIHkpIHtcbiAgICAgICAgdmFyIHJlY3Q7XG4gICAgICAgIC8vIElFIDExIGZpeFxuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJlY3QgPSB7XG4gICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmhlaWdodCxcbiAgICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICAgIHRvcDogMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzb2x1dGlvbk11bHRpcGxpZXIgPSAxLjAgLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHBvaW50LnggPSAoKHggLSByZWN0LmxlZnQpICogKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LndpZHRoIC8gcmVjdC53aWR0aCkpICogcmVzb2x1dGlvbk11bHRpcGxpZXI7XG4gICAgICAgIHBvaW50LnkgPSAoKHkgLSByZWN0LnRvcCkgKiAodGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuaGVpZ2h0IC8gcmVjdC5oZWlnaHQpKSAqIHJlc29sdXRpb25NdWx0aXBsaWVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBwcm92aWRlcyBhIG5lYXQgd2F5IG9mIGNyYXdsaW5nIHRocm91Z2ggdGhlIHNjZW5lIGdyYXBoIGFuZCBydW5uaW5nIGFcbiAgICAgKiBzcGVjaWZpZWQgZnVuY3Rpb24gb24gYWxsIGludGVyYWN0aXZlIG9iamVjdHMgaXQgZmluZHMuIEl0IHdpbGwgYWxzbyB0YWtlIGNhcmUgb2YgaGl0XG4gICAgICogdGVzdGluZyB0aGUgaW50ZXJhY3RpdmUgb2JqZWN0cyBhbmQgcGFzc2VzIHRoZSBoaXQgYWNyb3NzIGluIHRoZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIGV2ZW50IGNvbnRhaW5pbmcgdGhlIHBvaW50IHRoYXRcbiAgICAgKiAgaXMgdGVzdGVkIGZvciBjb2xsaXNpb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3RcbiAgICAgKiAgdGhhdCB3aWxsIGJlIGhpdCB0ZXN0IChyZWN1cnNpdmVseSBjcmF3bHMgaXRzIGNoaWxkcmVuKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtmdW5jXSAtIHRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggaW50ZXJhY3RpdmUgb2JqZWN0LiBUaGVcbiAgICAgKiAgaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCBhbmQgaGl0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpdFRlc3RdIC0gaW5kaWNhdGVzIHdoZXRoZXIgd2Ugd2FudCB0byBjYWxjdWxhdGUgaGl0c1xuICAgICAqICBvciBqdXN0IGl0ZXJhdGUgdGhyb3VnaCBhbGwgaW50ZXJhY3RpdmUgb2JqZWN0c1xuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc0ludGVyYWN0aXZlID0gZnVuY3Rpb24gKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGZ1bmMsIGhpdFRlc3QpIHtcbiAgICAgICAgdmFyIGhpdCA9IHRoaXMuc2VhcmNoLmZpbmRIaXQoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgZnVuYywgaGl0VGVzdCk7XG4gICAgICAgIHZhciBkZWxheWVkRXZlbnRzID0gdGhpcy5kZWxheWVkRXZlbnRzO1xuICAgICAgICBpZiAoIWRlbGF5ZWRFdmVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gaGl0O1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlc2V0IHRoZSBwcm9wYWdhdGlvbiBoaW50LCBiZWNhdXNlIHdlIHN0YXJ0IGRlZXBlciBpbiB0aGUgdHJlZSBhZ2Fpbi5cbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5zdG9wUHJvcGFnYXRpb25IaW50ID0gZmFsc2U7XG4gICAgICAgIHZhciBkZWxheWVkTGVuID0gZGVsYXllZEV2ZW50cy5sZW5ndGg7XG4gICAgICAgIHRoaXMuZGVsYXllZEV2ZW50cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlbGF5ZWRMZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIF9hID0gZGVsYXllZEV2ZW50c1tpXSwgZGlzcGxheU9iamVjdF8xID0gX2EuZGlzcGxheU9iamVjdCwgZXZlbnRTdHJpbmcgPSBfYS5ldmVudFN0cmluZywgZXZlbnREYXRhID0gX2EuZXZlbnREYXRhO1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSByZWFjaCB0aGUgb2JqZWN0IHdlIHdhbnRlZCB0byBzdG9wIHByb3BhZ2F0aW5nIGF0LFxuICAgICAgICAgICAgLy8gc2V0IHRoZSBwcm9wYWdhdGlvbiBoaW50LlxuICAgICAgICAgICAgaWYgKGV2ZW50RGF0YS5zdG9wc1Byb3BhZ2F0aW5nQXQgPT09IGRpc3BsYXlPYmplY3RfMSkge1xuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5zdG9wUHJvcGFnYXRpb25IaW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0XzEsIGV2ZW50U3RyaW5nLCBldmVudERhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgcHJlc3NlZCBkb3duIG9uIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHByZXNzZWQgZG93blxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyRG93biA9IGZ1bmN0aW9uIChvcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAvKlxuICAgICAgICAgKiBObyBuZWVkIHRvIHByZXZlbnQgZGVmYXVsdCBvbiBuYXR1cmFsIHBvaW50ZXIgZXZlbnRzLCBhcyB0aGVyZSBhcmUgbm8gc2lkZSBlZmZlY3RzXG4gICAgICAgICAqIE5vcm1hbGl6ZWQgZXZlbnRzLCBob3dldmVyLCBtYXkgaGF2ZSB0aGUgZG91YmxlIG1vdXNlZG93bi90b3VjaHN0YXJ0IGlzc3VlIG9uIHRoZSBuYXRpdmUgYW5kcm9pZCBicm93c2VyLFxuICAgICAgICAgKiBzbyBzdGlsbCBuZWVkIHRvIGJlIHByZXZlbnRlZC5cbiAgICAgICAgICovXG4gICAgICAgIC8vIEd1YXJhbnRlZWQgdGhhdCB0aGVyZSB3aWxsIGJlIGF0IGxlYXN0IG9uZSBldmVudCBpbiBldmVudHMsIGFuZCBhbGwgZXZlbnRzIG11c3QgaGF2ZSB0aGUgc2FtZSBwb2ludGVyIHR5cGVcbiAgICAgICAgaWYgKHRoaXMuYXV0b1ByZXZlbnREZWZhdWx0ICYmIGV2ZW50c1swXS5pc05vcm1hbGl6ZWQpIHtcbiAgICAgICAgICAgIHZhciBjYW5jZWxhYmxlID0gb3JpZ2luYWxFdmVudC5jYW5jZWxhYmxlIHx8ICEoJ2NhbmNlbGFibGUnIGluIG9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGNhbmNlbGFibGUpIHtcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGV2ZW50TGVuID0gZXZlbnRzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLmxhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVyZG93bicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCd0b3VjaHN0YXJ0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlbWl0IGEgbW91c2UgZXZlbnQgZm9yIFwicGVuXCIgcG9pbnRlcnMsIHRoZSB3YXkgYSBicm93c2VyIHdvdWxkIGVtaXQgYSBmYWxsYmFjayBldmVudFxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlzUmlnaHRCdXR0b24gPSBldmVudC5idXR0b24gPT09IDI7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGlzUmlnaHRCdXR0b24gPyAncmlnaHRkb3duJyA6ICdtb3VzZWRvd24nLCB0aGlzLmV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIGRvd24gY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyRG93biA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuICAgICAgICBpZiAoaGl0KSB7XG4gICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSA9IG5ldyBJbnRlcmFjdGlvblRyYWNraW5nRGF0YShpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hzdGFydCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZGF0YS5idXR0b24gPT09IDI7XG4gICAgICAgICAgICAgICAgaWYgKGlzUmlnaHRCdXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdLnJpZ2h0RG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0ubGVmdERvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodGRvd24nIDogJ21vdXNlZG93bicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgcmVsZWFzZWQgb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcmVsZWFzZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNhbmNlbGxlZCAtIHRydWUgaWYgdGhlIHBvaW50ZXIgaXMgY2FuY2VsbGVkXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyAtIEZ1bmN0aW9uIHBhc3NlZCB0byB7QGxpbmsgcHJvY2Vzc0ludGVyYWN0aXZlfVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyQ29tcGxldGUgPSBmdW5jdGlvbiAob3JpZ2luYWxFdmVudCwgY2FuY2VsbGVkLCBmdW5jKSB7XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG4gICAgICAgIHZhciBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG4gICAgICAgIC8vIGlmIHRoZSBldmVudCB3YXNuJ3QgdGFyZ2V0aW5nIG91ciBjYW52YXMsIHRoZW4gY29uc2lkZXIgaXQgdG8gYmUgcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAvLyBpbiBhbGwgY2FzZXMgKHVubGVzcyBpdCB3YXMgYSBwb2ludGVyY2FuY2VsKVxuICAgICAgICB2YXIgZXZlbnRBcHBlbmQgPSBvcmlnaW5hbEV2ZW50LnRhcmdldCAhPT0gdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPyAnb3V0c2lkZScgOiAnJztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG4gICAgICAgICAgICAvLyBwZXJmb3JtIGhpdCB0ZXN0aW5nIGZvciBldmVudHMgdGFyZ2V0aW5nIG91ciBjYW52YXMgb3IgY2FuY2VsIGV2ZW50c1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5sYXN0T2JqZWN0UmVuZGVyZWQsIGZ1bmMsIGNhbmNlbGxlZCB8fCAhZXZlbnRBcHBlbmQpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KGNhbmNlbGxlZCA/ICdwb2ludGVyY2FuY2VsJyA6IFwicG9pbnRlcnVwXCIgKyBldmVudEFwcGVuZCwgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlzUmlnaHRCdXR0b24gPSBldmVudC5idXR0b24gPT09IDI7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGlzUmlnaHRCdXR0b24gPyBcInJpZ2h0dXBcIiArIGV2ZW50QXBwZW5kIDogXCJtb3VzZXVwXCIgKyBldmVudEFwcGVuZCwgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChjYW5jZWxsZWQgPyAndG91Y2hjYW5jZWwnIDogXCJ0b3VjaGVuZFwiICsgZXZlbnRBcHBlbmQsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudC5wb2ludGVySWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgY2FuY2VsbGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyQ2FuY2VsID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgdGhpcy5vblBvaW50ZXJDb21wbGV0ZShldmVudCwgdHJ1ZSwgdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBjYW5jZWwgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlckNhbmNlbCA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkZWxldGUgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyY2FuY2VsJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hjYW5jZWwnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIHJlbGVhc2VkIG9uIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyVXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICB0aGlzLm9uUG9pbnRlckNvbXBsZXRlKGV2ZW50LCBmYWxzZSwgdGhpcy5wcm9jZXNzUG9pbnRlclVwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIHVwIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlclVwID0gZnVuY3Rpb24gKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdCkge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG4gICAgICAgIHZhciB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgIHZhciBpc1RvdWNoID0gZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJztcbiAgICAgICAgdmFyIGlzTW91c2UgPSAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJyk7XG4gICAgICAgIC8vIG5lZWQgdG8gdHJhY2sgbW91c2UgZG93biBzdGF0dXMgaW4gdGhlIG1vdXNlIGJsb2NrIHNvIHRoYXQgd2UgY2FuIGVtaXRcbiAgICAgICAgLy8gZXZlbnQgaW4gYSBsYXRlciBibG9ja1xuICAgICAgICB2YXIgaXNNb3VzZVRhcCA9IGZhbHNlO1xuICAgICAgICAvLyBNb3VzZSBvbmx5XG4gICAgICAgIGlmIChpc01vdXNlKSB7XG4gICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGRhdGEuYnV0dG9uID09PSAyO1xuICAgICAgICAgICAgdmFyIGZsYWdzID0gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1M7XG4gICAgICAgICAgICB2YXIgdGVzdCA9IGlzUmlnaHRCdXR0b24gPyBmbGFncy5SSUdIVF9ET1dOIDogZmxhZ3MuTEVGVF9ET1dOO1xuICAgICAgICAgICAgdmFyIGlzRG93biA9IHRyYWNraW5nRGF0YSAhPT0gdW5kZWZpbmVkICYmICh0cmFja2luZ0RhdGEuZmxhZ3MgJiB0ZXN0KTtcbiAgICAgICAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodHVwJyA6ICdtb3VzZXVwJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzRG93bikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodGNsaWNrJyA6ICdjbGljaycsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIHdlIGNhbiBjb25maXJtIHRoYXQgdGhlIG1vdXNlZG93biBoYXBwZW5lZCBvbiB0aGlzIG9iamVjdCwgZmxhZyBmb3IgbGF0ZXIgZW1pdCBvZiBwb2ludGVydGFwXG4gICAgICAgICAgICAgICAgICAgIGlzTW91c2VUYXAgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRG93bikge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0dXBvdXRzaWRlJyA6ICdtb3VzZXVwb3V0c2lkZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBkb3duIHN0YXRlIG9mIHRoZSB0cmFja2luZyBkYXRhXG4gICAgICAgICAgICBpZiAodHJhY2tpbmdEYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUmlnaHRCdXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLnJpZ2h0RG93biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLmxlZnREb3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFBvaW50ZXJzIGFuZCBUb3VjaGVzLCBhbmQgTW91c2VcbiAgICAgICAgaWYgKGhpdCkge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVydXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc1RvdWNoKVxuICAgICAgICAgICAgICAgIHsgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGVuZCcsIGludGVyYWN0aW9uRXZlbnQpOyB9XG4gICAgICAgICAgICBpZiAodHJhY2tpbmdEYXRhKSB7XG4gICAgICAgICAgICAgICAgLy8gZW1pdCBwb2ludGVydGFwIGlmIG5vdCBhIG1vdXNlLCBvciBpZiB0aGUgbW91c2UgYmxvY2sgZGVjaWRlZCBpdCB3YXMgYSB0YXBcbiAgICAgICAgICAgICAgICBpZiAoIWlzTW91c2UgfHwgaXNNb3VzZVRhcCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ0YXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzVG91Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0YXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdG91Y2hlcyBhcmUgbm8gbG9uZ2VyIG92ZXIgKGlmIHRoZXkgZXZlciB3ZXJlKSB3aGVuIHdlIGdldCB0aGUgdG91Y2hlbmRcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gd2Ugc2hvdWxkIGVuc3VyZSB0aGF0IHdlIGRvbid0IGtlZXAgcHJldGVuZGluZyB0aGF0IHRoZXkgYXJlXG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5vdmVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRyYWNraW5nRGF0YSkge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVydXBvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNUb3VjaClcbiAgICAgICAgICAgICAgICB7IHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hlbmRvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgfVxuICAgICAgICAvLyBPbmx5IHJlbW92ZSB0aGUgdHJhY2tpbmcgZGF0YSBpZiB0aGVyZSBpcyBubyBvdmVyL2Rvd24gc3RhdGUgc3RpbGwgYXNzb2NpYXRlZCB3aXRoIGl0XG4gICAgICAgIGlmICh0cmFja2luZ0RhdGEgJiYgdHJhY2tpbmdEYXRhLm5vbmUpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIG1vdmVzIGFjcm9zcyB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIG1vdmluZ1xuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyTW92ZSA9IGZ1bmN0aW9uIChvcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50c1swXS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgIHRoaXMuX2RpZE1vdmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRMZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzW2ldO1xuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5sYXN0T2JqZWN0UmVuZGVyZWQsIHRoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgICAgICB7IHRoaXMuZW1pdCgndG91Y2htb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpXG4gICAgICAgICAgICAgICAgeyB0aGlzLmVtaXQoJ21vdXNlbW92ZScsIGludGVyYWN0aW9uRXZlbnQpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50c1swXS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykge1xuICAgICAgICAgICAgdGhpcy5zZXRDdXJzb3JNb2RlKHRoaXMuY3Vyc29yKTtcbiAgICAgICAgICAgIC8vIFRPRE8gQlVHIGZvciBwYXJlbnRzIGludGVyYWN0aXZlIG9iamVjdCAoYm9yZGVyIG9yZGVyIGlzc3VlKVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBtb3ZlIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlck1vdmUgPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuICAgICAgICB2YXIgaXNUb3VjaCA9IGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCc7XG4gICAgICAgIHZhciBpc01vdXNlID0gKGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpO1xuICAgICAgICBpZiAoaXNNb3VzZSkge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMubW92ZVdoZW5JbnNpZGUgfHwgaGl0KSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNUb3VjaClcbiAgICAgICAgICAgICAgICB7IHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2htb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICAgICAgICAgIHsgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZlZCBvdXQgb2YgdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBiZWluZyBtb3ZlZCBvdXRcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlck91dCA9IGZ1bmN0aW9uIChvcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAvLyBPbmx5IG1vdXNlIGFuZCBwb2ludGVyIGNhbiBjYWxsIG9uUG9pbnRlck91dCwgc28gZXZlbnRzIHdpbGwgYWx3YXlzIGJlIGxlbmd0aCAxXG4gICAgICAgIHZhciBldmVudCA9IGV2ZW50c1swXTtcbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMubGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCwgZmFsc2UpO1xuICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJvdXQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdtb3VzZW91dCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gd2UgY2FuIGdldCB0b3VjaGxlYXZlIGV2ZW50cyBhZnRlciB0b3VjaGVuZCwgc28gd2Ugd2FudCB0byBtYWtlIHN1cmUgd2UgZG9uJ3RcbiAgICAgICAgICAgIC8vIGludHJvZHVjZSBtZW1vcnkgbGVha3NcbiAgICAgICAgICAgIHRoaXMucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChpbnRlcmFjdGlvbkRhdGEuaWRlbnRpZmllcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIG92ZXIvb3V0IGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlck92ZXJPdXQgPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcbiAgICAgICAgdmFyIGlzTW91c2UgPSAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJyk7XG4gICAgICAgIHZhciB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgIC8vIGlmIHdlIGp1c3QgbW91c2VkIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LCB0aGVuIHdlIG5lZWQgdG8gdHJhY2sgdGhhdCBzdGF0ZVxuICAgICAgICBpZiAoaGl0ICYmICF0cmFja2luZ0RhdGEpIHtcbiAgICAgICAgICAgIHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSA9IG5ldyBJbnRlcmFjdGlvblRyYWNraW5nRGF0YShpZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRyYWNraW5nRGF0YSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgaWYgKGhpdCAmJiB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyKSB7XG4gICAgICAgICAgICBpZiAoIXRyYWNraW5nRGF0YS5vdmVyKSB7XG4gICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLm92ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsYXlEaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIGlmIChpc01vdXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsYXlEaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBvbmx5IGNoYW5nZSB0aGUgY3Vyc29yIGlmIGl0IGhhcyBub3QgYWxyZWFkeSBiZWVuIGNoYW5nZWQgKGJ5IHNvbWV0aGluZyBkZWVwZXIgaW4gdGhlXG4gICAgICAgICAgICAvLyBkaXNwbGF5IHRyZWUpXG4gICAgICAgICAgICBpZiAoaXNNb3VzZSAmJiB0aGlzLmN1cnNvciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gZGlzcGxheU9iamVjdC5jdXJzb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHJhY2tpbmdEYXRhLm92ZXIpIHtcbiAgICAgICAgICAgIHRyYWNraW5nRGF0YS5vdmVyID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJvdXQnLCB0aGlzLmV2ZW50RGF0YSk7XG4gICAgICAgICAgICBpZiAoaXNNb3VzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAnbW91c2VvdXQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIG1vdXNlIGRvd24gaW5mb3JtYXRpb24gZm9yIHRoZSBwb2ludGVyLCB0aGVuIGl0IGlzIHNhZmUgdG8gZGVsZXRlXG4gICAgICAgICAgICBpZiAodHJhY2tpbmdEYXRhLm5vbmUpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZlZCBpbnRvIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIG1vdmVkIGludG8gdGhlIHJlbmRlcmVyIHZpZXdcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlck92ZXIgPSBmdW5jdGlvbiAob3JpZ2luYWxFdmVudCkge1xuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAvLyBPbmx5IG1vdXNlIGFuZCBwb2ludGVyIGNhbiBjYWxsIG9uUG9pbnRlck92ZXIsIHNvIGV2ZW50cyB3aWxsIGFsd2F5cyBiZSBsZW5ndGggMVxuICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbMF07XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IGV2ZW50O1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VPdmVyUmVuZGVyZXIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdtb3VzZW92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IEludGVyYWN0aW9uRGF0YSBmb3IgYSBnaXZlbiBwb2ludGVySWQuIFN0b3JlIHRoYXQgZGF0YSBhcyB3ZWxsXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBldmVudCAtIE5vcm1hbGl6ZWQgcG9pbnRlciBldmVudCwgb3V0cHV0IGZyb20gbm9ybWFsaXplVG9Qb2ludGVyRGF0YVxuICAgICAqIEByZXR1cm4ge1BJWEkuSW50ZXJhY3Rpb25EYXRhfSAtIEludGVyYWN0aW9uIGRhdGEgZm9yIHRoZSBnaXZlbiBwb2ludGVyIGlkZW50aWZpZXJcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgcG9pbnRlcklkID0gZXZlbnQucG9pbnRlcklkO1xuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhO1xuICAgICAgICBpZiAocG9pbnRlcklkID09PSBNT1VTRV9QT0lOVEVSX0lEIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLm1vdXNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF0pIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmludGVyYWN0aW9uRGF0YVBvb2wucG9wKCkgfHwgbmV3IEludGVyYWN0aW9uRGF0YSgpO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLmlkZW50aWZpZXIgPSBwb2ludGVySWQ7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdID0gaW50ZXJhY3Rpb25EYXRhO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvcHkgcHJvcGVydGllcyBmcm9tIHRoZSBldmVudCwgc28gdGhhdCB3ZSBjYW4gbWFrZSBzdXJlIHRoYXQgdG91Y2gvcG9pbnRlciBzcGVjaWZpY1xuICAgICAgICAvLyBkYXRhIGlzIGF2YWlsYWJsZVxuICAgICAgICBpbnRlcmFjdGlvbkRhdGEuY29weUV2ZW50KGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIGludGVyYWN0aW9uRGF0YTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB1bnVzZWQgSW50ZXJhY3Rpb25EYXRhIHRvIHRoZSBwb29sLCBmb3IgYSBnaXZlbiBwb2ludGVySWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvaW50ZXJJZCAtIElkZW50aWZpZXIgZnJvbSBhIHBvaW50ZXIgZXZlbnRcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQgPSBmdW5jdGlvbiAocG9pbnRlcklkKSB7XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdO1xuICAgICAgICBpZiAoaW50ZXJhY3Rpb25EYXRhKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YS5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRhdGFQb29sLnB1c2goaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29uZmlndXJlIGFuIEludGVyYWN0aW9uRXZlbnQgdG8gd3JhcCBhIERPTSBQb2ludGVyRXZlbnQgYW5kIEludGVyYWN0aW9uRGF0YVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBldmVudCB0byBiZSBjb25maWd1cmVkXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCAtIFRoZSBET00gZXZlbnQgdGhhdCB3aWxsIGJlIHBhaXJlZCB3aXRoIHRoZSBJbnRlcmFjdGlvbkV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRGF0YX0gaW50ZXJhY3Rpb25EYXRhIC0gVGhlIEludGVyYWN0aW9uRGF0YSB0aGF0IHdpbGwgYmUgcGFpcmVkXG4gICAgICogICAgICAgIHdpdGggdGhlIEludGVyYWN0aW9uRXZlbnRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IHRoZSBpbnRlcmFjdGlvbiBldmVudCB0aGF0IHdhcyBwYXNzZWQgaW5cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbkV2ZW50LCBwb2ludGVyRXZlbnQsIGludGVyYWN0aW9uRGF0YSkge1xuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEgPSBpbnRlcmFjdGlvbkRhdGE7XG4gICAgICAgIHRoaXMubWFwUG9zaXRpb25Ub1BvaW50KGludGVyYWN0aW9uRGF0YS5nbG9iYWwsIHBvaW50ZXJFdmVudC5jbGllbnRYLCBwb2ludGVyRXZlbnQuY2xpZW50WSk7XG4gICAgICAgIC8vIE5vdCByZWFsbHkgc3VyZSB3aHkgdGhpcyBpcyBoYXBwZW5pbmcsIGJ1dCBpdCdzIGhvdyBhIHByZXZpb3VzIHZlcnNpb24gaGFuZGxlZCB0aGluZ3NcbiAgICAgICAgaWYgKHBvaW50ZXJFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgcG9pbnRlckV2ZW50Lmdsb2JhbFggPSBpbnRlcmFjdGlvbkRhdGEuZ2xvYmFsLng7XG4gICAgICAgICAgICBwb2ludGVyRXZlbnQuZ2xvYmFsWSA9IGludGVyYWN0aW9uRGF0YS5nbG9iYWwueTtcbiAgICAgICAgfVxuICAgICAgICBpbnRlcmFjdGlvbkRhdGEub3JpZ2luYWxFdmVudCA9IHBvaW50ZXJFdmVudDtcbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5yZXNldCgpO1xuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25FdmVudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuc3VyZXMgdGhhdCB0aGUgb3JpZ2luYWwgZXZlbnQgb2JqZWN0IGNvbnRhaW5zIGFsbCBkYXRhIHRoYXQgYSByZWd1bGFyIHBvaW50ZXIgZXZlbnQgd291bGQgaGF2ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1RvdWNoRXZlbnR8TW91c2VFdmVudHxQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIG9yaWdpbmFsIGV2ZW50IGRhdGEgZnJvbSBhIHRvdWNoIG9yIG1vdXNlIGV2ZW50XG4gICAgICogQHJldHVybiB7UG9pbnRlckV2ZW50W119IEFuIGFycmF5IGNvbnRhaW5pbmcgYSBzaW5nbGUgbm9ybWFsaXplZCBwb2ludGVyIGV2ZW50LCBpbiB0aGUgY2FzZSBvZiBhIHBvaW50ZXJcbiAgICAgKiAgb3IgbW91c2UgZXZlbnQsIG9yIGEgbXVsdGlwbGUgbm9ybWFsaXplZCBwb2ludGVyIGV2ZW50cyBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgY2hhbmdlZCB0b3VjaGVzXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5ub3JtYWxpemVUb1BvaW50ZXJEYXRhID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBub3JtYWxpemVkRXZlbnRzID0gW107XG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGkgPSBldmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7IGkgPCBsaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5idXR0b24gPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLmJ1dHRvbiA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID8gMSA6IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmJ1dHRvbnMgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLmJ1dHRvbnMgPSBldmVudC50b3VjaGVzLmxlbmd0aCA/IDEgOiAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5pc1ByaW1hcnkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvdWNoLmlzUHJpbWFyeSA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAxICYmIGV2ZW50LnR5cGUgPT09ICd0b3VjaHN0YXJ0JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC53aWR0aCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gud2lkdGggPSB0b3VjaC5yYWRpdXNYIHx8IDE7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmhlaWdodCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2guaGVpZ2h0ID0gdG91Y2gucmFkaXVzWSB8fCAxOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50aWx0WCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gudGlsdFggPSAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50aWx0WSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gudGlsdFkgPSAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wb2ludGVyVHlwZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gucG9pbnRlclR5cGUgPSAndG91Y2gnOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wb2ludGVySWQgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLnBvaW50ZXJJZCA9IHRvdWNoLmlkZW50aWZpZXIgfHwgMDsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gucHJlc3N1cmUgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLnByZXNzdXJlID0gdG91Y2guZm9yY2UgfHwgMC41OyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50d2lzdCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gudHdpc3QgPSAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50YW5nZW50aWFsUHJlc3N1cmUgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLnRhbmdlbnRpYWxQcmVzc3VyZSA9IDA7IH1cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBSZW1vdmUgdGhlc2UsIGFzIGxheWVyWC9ZIGlzIG5vdCBhIHN0YW5kYXJkLCBpcyBkZXByZWNhdGVkLCBoYXMgdW5ldmVuXG4gICAgICAgICAgICAgICAgLy8gc3VwcG9ydCwgYW5kIHRoZSBmaWxsIGlucyBhcmUgbm90IHF1aXRlIHRoZSBzYW1lXG4gICAgICAgICAgICAgICAgLy8gb2Zmc2V0WC9ZIG1pZ2h0IGJlIG9rYXksIGJ1dCBpcyBub3QgdGhlIHNhbWUgYXMgY2xpZW50WC9ZIHdoZW4gdGhlIGNhbnZhcydzIHRvcFxuICAgICAgICAgICAgICAgIC8vIGxlZnQgaXMgbm90IDAsMCBvbiB0aGUgcGFnZVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gubGF5ZXJYID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC5sYXllclggPSB0b3VjaC5vZmZzZXRYID0gdG91Y2guY2xpZW50WDsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gubGF5ZXJZID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC5sYXllclkgPSB0b3VjaC5vZmZzZXRZID0gdG91Y2guY2xpZW50WTsgfVxuICAgICAgICAgICAgICAgIC8vIG1hcmsgdGhlIHRvdWNoIGFzIG5vcm1hbGl6ZWQsIGp1c3Qgc28gdGhhdCB3ZSBrbm93IHdlIGRpZCBpdFxuICAgICAgICAgICAgICAgIHRvdWNoLmlzTm9ybWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKHRvdWNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBhcHBhcmVudGx5IFBvaW50ZXJFdmVudCBzdWJjbGFzc2VzIE1vdXNlRXZlbnQsIHNvIHlheVxuICAgICAgICBlbHNlIGlmICghc2VsZi5Nb3VzZUV2ZW50XG4gICAgICAgICAgICB8fCAoZXZlbnQgaW5zdGFuY2VvZiBNb3VzZUV2ZW50ICYmICghdGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMgfHwgIShldmVudCBpbnN0YW5jZW9mIHNlbGYuUG9pbnRlckV2ZW50KSkpKSB7XG4gICAgICAgICAgICB2YXIgdGVtcEV2ZW50ID0gZXZlbnQ7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5pc1ByaW1hcnkgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LmlzUHJpbWFyeSA9IHRydWU7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LndpZHRoID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7IHRlbXBFdmVudC53aWR0aCA9IDE7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LmhlaWdodCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQuaGVpZ2h0ID0gMTsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQudGlsdFggPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LnRpbHRYID0gMDsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQudGlsdFkgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LnRpbHRZID0gMDsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQucG9pbnRlclR5cGUgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LnBvaW50ZXJUeXBlID0gJ21vdXNlJzsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQucG9pbnRlcklkID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7IHRlbXBFdmVudC5wb2ludGVySWQgPSBNT1VTRV9QT0lOVEVSX0lEOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5wcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQucHJlc3N1cmUgPSAwLjU7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnR3aXN0ID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7IHRlbXBFdmVudC50d2lzdCA9IDA7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnRhbmdlbnRpYWxQcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID0gMDsgfVxuICAgICAgICAgICAgLy8gbWFyayB0aGUgbW91c2UgZXZlbnQgYXMgbm9ybWFsaXplZCwganVzdCBzbyB0aGF0IHdlIGtub3cgd2UgZGlkIGl0XG4gICAgICAgICAgICB0ZW1wRXZlbnQuaXNOb3JtYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRFdmVudHMucHVzaCh0ZW1wRXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9ybWFsaXplZEV2ZW50cztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBpbnRlcmFjdGlvbiBtYW5hZ2VyXG4gICAgICpcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRzKCk7XG4gICAgICAgIHRoaXMucmVtb3ZlVGlja2VyTGlzdGVuZXIoKTtcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHRoaXMubW91c2UgPSBudWxsO1xuICAgICAgICB0aGlzLmV2ZW50RGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5vblBvaW50ZXJEb3duID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlckRvd24gPSBudWxsO1xuICAgICAgICB0aGlzLm9uUG9pbnRlclVwID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlclVwID0gbnVsbDtcbiAgICAgICAgdGhpcy5vblBvaW50ZXJDYW5jZWwgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsID0gbnVsbDtcbiAgICAgICAgdGhpcy5vblBvaW50ZXJNb3ZlID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck1vdmUgPSBudWxsO1xuICAgICAgICB0aGlzLm9uUG9pbnRlck91dCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5vblBvaW50ZXJPdmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEludGVyYWN0aW9uTWFuYWdlcjtcbn0oRXZlbnRFbWl0dGVyKSk7XG5cbmV4cG9ydCB7IEludGVyYWN0aW9uRGF0YSwgSW50ZXJhY3Rpb25FdmVudCwgSW50ZXJhY3Rpb25NYW5hZ2VyLCBJbnRlcmFjdGlvblRyYWNraW5nRGF0YSwgaW50ZXJhY3RpdmVUYXJnZXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVyYWN0aW9uLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9hcHAgLSB2Ni4wLjBcbiAqIENvbXBpbGVkIFR1ZSwgMDIgTWFyIDIwMjEgMjE6NDU6MDMgVVRDXG4gKlxuICogQHBpeGkvYXBwIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBhdXRvRGV0ZWN0UmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyoqXG4gKiBDb252ZW5pZW5jZSBjbGFzcyB0byBjcmVhdGUgYSBuZXcgUElYSSBhcHBsaWNhdGlvbi5cbiAqXG4gKiBUaGlzIGNsYXNzIGF1dG9tYXRpY2FsbHkgY3JlYXRlcyB0aGUgcmVuZGVyZXIsIHRpY2tlciBhbmQgcm9vdCBjb250YWluZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSB0aGUgYXBwbGljYXRpb25cbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gKlxuICogLy8gQWRkIHRoZSB2aWV3IHRvIHRoZSBET01cbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXBwLnZpZXcpO1xuICpcbiAqIC8vIGV4LCBhZGQgZGlzcGxheSBvYmplY3RzXG4gKiBhcHAuc3RhZ2UuYWRkQ2hpbGQoUElYSS5TcHJpdGUuZnJvbSgnc29tZXRoaW5nLnBuZycpKTtcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBcHBsaWNhdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvU3RhcnQ9dHJ1ZV0gLSBBdXRvbWF0aWNhbGx5IHN0YXJ0cyB0aGUgcmVuZGVyaW5nIGFmdGVyIHRoZSBjb25zdHJ1Y3Rpb24uXG4gICAgICogICAgICoqTm90ZSoqOiBTZXR0aW5nIHRoaXMgcGFyYW1ldGVyIHRvIGZhbHNlIGRvZXMgTk9UIHN0b3AgdGhlIHNoYXJlZCB0aWNrZXIgZXZlbiBpZiB5b3Ugc2V0XG4gICAgICogICAgIG9wdGlvbnMuc2hhcmVkVGlja2VyIHRvIHRydWUgaW4gY2FzZSB0aGF0IGl0IGlzIGFscmVhZHkgc3RhcnRlZC4gU3RvcCBpdCBieSB5b3VyIG93bi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgcmVuZGVyZXJzIHZpZXcuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD02MDBdIC0gVGhlIGhlaWdodCBvZiB0aGUgcmVuZGVyZXJzIHZpZXcuXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSBUaGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudXNlQ29udGV4dEFscGhhPXRydWVdIC0gUGFzcy10aHJvdWdoIHZhbHVlIGZvciBjYW52YXMnIGNvbnRleHQgYGFscGhhYCBwcm9wZXJ0eS5cbiAgICAgKiAgIElmIHlvdSB3YW50IHRvIHNldCB0cmFuc3BhcmVuY3ksIHBsZWFzZSB1c2UgYGJhY2tncm91bmRBbHBoYWAuIFRoaXMgb3B0aW9uIGlzIGZvciBjYXNlcyB3aGVyZSB0aGVcbiAgICAgKiAgIGNhbnZhcyBuZWVkcyB0byBiZSBvcGFxdWUsIHBvc3NpYmx5IGZvciBwZXJmb3JtYW5jZSByZWFzb25zIG9uIHNvbWUgb2xkZXIgZGV2aWNlcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9EZW5zaXR5PWZhbHNlXSAtIFJlc2l6ZXMgcmVuZGVyZXIgdmlldyBpbiBDU1MgcGl4ZWxzIHRvIGFsbG93IGZvclxuICAgICAqICAgcmVzb2x1dGlvbnMgb3RoZXIgdGhhbiAxLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIFNldHMgYW50aWFsaWFzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gRW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sIGVuYWJsZSB0aGlzIGlmIHlvdVxuICAgICAqICBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSBXZWJHTCBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLCByZXRpbmEgd291bGQgYmUgMi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlQ2FudmFzPWZhbHNlXSAtIHByZXZlbnRzIHNlbGVjdGlvbiBvZiBXZWJHTCByZW5kZXJlciwgZXZlbiBpZiBzdWNoIGlzIHByZXNlbnQsIHRoaXNcbiAgICAgKiAgIG9wdGlvbiBvbmx5IGlzIGF2YWlsYWJsZSB3aGVuIHVzaW5nICoqcGl4aS5qcy1sZWdhY3kqKiBvciAqKkBwaXhpL2NhbnZhcy1yZW5kZXJlcioqIG1vZHVsZXMsIG90aGVyd2lzZVxuICAgICAqICAgaXQgaXMgaWdub3JlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gICAgICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQWxwaGE9MV0gLSBWYWx1ZSBmcm9tIDAgKGZ1bGx5IHRyYW5zcGFyZW50KSB0byAxIChmdWxseSBvcGFxdWUpLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvclxuICAgICAqICAgbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wb3dlclByZWZlcmVuY2VdIC0gUGFyYW1ldGVyIHBhc3NlZCB0byB3ZWJnbCBjb250ZXh0LCBzZXQgdG8gXCJoaWdoLXBlcmZvcm1hbmNlXCJcbiAgICAgKiAgZm9yIGRldmljZXMgd2l0aCBkdWFsIGdyYXBoaWNzIGNhcmQuICoqKFdlYkdMIG9ubHkpKiouXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zaGFyZWRUaWNrZXI9ZmFsc2VdIC0gYHRydWVgIHRvIHVzZSBQSVhJLlRpY2tlci5zaGFyZWQsIGBmYWxzZWAgdG8gY3JlYXRlIG5ldyB0aWNrZXIuXG4gICAgICogIElmIHNldCB0byBmYWxzZSwgeW91IGNhbm5vdCByZWdpc3RlciBhIGhhbmRsZXIgdG8gb2NjdXIgYmVmb3JlIGFueXRoaW5nIHRoYXQgcnVucyBvbiB0aGUgc2hhcmVkIHRpY2tlci5cbiAgICAgKiAgVGhlIHN5c3RlbSB0aWNrZXIgd2lsbCBhbHdheXMgcnVuIGJlZm9yZSBib3RoIHRoZSBzaGFyZWQgdGlja2VyIGFuZCB0aGUgYXBwIHRpY2tlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnNoYXJlZExvYWRlcj1mYWxzZV0gLSBgdHJ1ZWAgdG8gdXNlIFBJWEkuTG9hZGVyLnNoYXJlZCwgYGZhbHNlYCB0byBjcmVhdGUgbmV3IExvYWRlci5cbiAgICAgKiBAcGFyYW0ge1dpbmRvd3xIVE1MRWxlbWVudH0gW29wdGlvbnMucmVzaXplVG9dIC0gRWxlbWVudCB0byBhdXRvbWF0aWNhbGx5IHJlc2l6ZSBzdGFnZSB0by5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBcHBsaWNhdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcm9vdCBkaXNwbGF5IGNvbnRhaW5lciB0aGF0J3MgcmVuZGVyZWQuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ29udGFpbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFnZSA9IG5ldyBDb250YWluZXIoKTtcbiAgICAgICAgLy8gVGhlIGRlZmF1bHQgb3B0aW9uc1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBmb3JjZUNhbnZhczogZmFsc2UsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gYXV0b0RldGVjdFJlbmRlcmVyKG9wdGlvbnMpO1xuICAgICAgICAvLyBpbnN0YWxsIHBsdWdpbnMgaGVyZVxuICAgICAgICBBcHBsaWNhdGlvbi5fcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgIHBsdWdpbi5pbml0LmNhbGwoX3RoaXMsIG9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBtaWRkbGV3YXJlIHBsdWdpbiBmb3IgdGhlIGFwcGxpY2F0aW9uXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7UElYSS5JQXBwbGljYXRpb25QbHVnaW59IHBsdWdpbiAtIFBsdWdpbiBiZWluZyBpbnN0YWxsZWRcbiAgICAgKi9cbiAgICBBcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbiA9IGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgQXBwbGljYXRpb24uX3BsdWdpbnMucHVzaChwbHVnaW4pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBjdXJyZW50IHN0YWdlLlxuICAgICAqL1xuICAgIEFwcGxpY2F0aW9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc3RhZ2UpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcGxpY2F0aW9uLnByb3RvdHlwZSwgXCJ2aWV3XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIncyBjYW52YXMgZWxlbWVudC5cbiAgICAgICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci52aWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcGxpY2F0aW9uLnByb3RvdHlwZSwgXCJzY3JlZW5cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlcidzIHNjcmVlbiByZWN0YW5nbGUuIEl0cyBzYWZlIHRvIHVzZSBhcyBgZmlsdGVyQXJlYWAgb3IgYGhpdEFyZWFgIGZvciB0aGUgd2hvbGUgc2NyZWVuLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnNjcmVlbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3JlbW92ZVZpZXc9ZmFsc2VdIC0gQXV0b21hdGljYWxseSByZW1vdmUgY2FudmFzIGZyb20gRE9NLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtzdGFnZU9wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFnZU9wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnc3RhZ2VPcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFnZU9wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgc3RhZ2VPcHRpb25zLmNoaWxkcmVuIGlzIHNldFxuICAgICAqICB0byB0cnVlLiBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3RhZ2VPcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBzdGFnZU9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0XG4gICAgICogIHRvIHRydWUuIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIEFwcGxpY2F0aW9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKHJlbW92ZVZpZXcsIHN0YWdlT3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBEZXN0cm95IHBsdWdpbnMgaW4gdGhlIG9wcG9zaXRlIG9yZGVyXG4gICAgICAgIC8vIHdoaWNoIHRoZXkgd2VyZSBjb25zdHJ1Y3RlZFxuICAgICAgICB2YXIgcGx1Z2lucyA9IEFwcGxpY2F0aW9uLl9wbHVnaW5zLnNsaWNlKDApO1xuICAgICAgICBwbHVnaW5zLnJldmVyc2UoKTtcbiAgICAgICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgIHBsdWdpbi5kZXN0cm95LmNhbGwoX3RoaXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdGFnZS5kZXN0cm95KHN0YWdlT3B0aW9ucyk7XG4gICAgICAgIHRoaXMuc3RhZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmRlc3Ryb3kocmVtb3ZlVmlldyk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG4gICAgLyoqIENvbGxlY3Rpb24gb2YgaW5zdGFsbGVkIHBsdWdpbnMuICovXG4gICAgQXBwbGljYXRpb24uX3BsdWdpbnMgPSBbXTtcbiAgICByZXR1cm4gQXBwbGljYXRpb247XG59KCkpO1xuXG4vKipcbiAqIE1pZGRsZXdhcmUgZm9yIGZvciBBcHBsaWNhdGlvbidzIHJlc2l6ZSBmdW5jdGlvbmFsaXR5XG4gKiBAcHJpdmF0ZVxuICogQGNsYXNzXG4gKi9cbnZhciBSZXNpemVQbHVnaW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplUGx1Z2luKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBwbHVnaW4gd2l0aCBzY29wZSBvZiBhcHBsaWNhdGlvbiBpbnN0YW5jZVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBTZWUgYXBwbGljYXRpb24gb3B0aW9uc1xuICAgICAqL1xuICAgIFJlc2l6ZVBsdWdpbi5pbml0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdyZXNpemVUbycsIFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIEhUTUwgZWxlbWVudCBvciB3aW5kb3cgdG8gYXV0b21hdGljYWxseSByZXNpemUgdGhlXG4gICAgICAgICAqIHJlbmRlcmVyJ3MgdmlldyBlbGVtZW50IHRvIG1hdGNoIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICAgICAqIEBtZW1iZXIge1dpbmRvd3xIVE1MRWxlbWVudH1cbiAgICAgICAgICogQG5hbWUgcmVzaXplVG9cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICAgICAqL1xuICAgICAgICB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkb20pIHtcbiAgICAgICAgICAgICAgICBzZWxmLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucXVldWVSZXNpemUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZVRvID0gZG9tO1xuICAgICAgICAgICAgICAgIGlmIChkb20pIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnF1ZXVlUmVzaXplKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNpemUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc2l6ZVRvO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXNpemUgaXMgdGhyb3R0bGVkLCBzbyBpdCdzIHNhZmUgdG8gY2FsbCB0aGlzIG11bHRpcGxlIHRpbWVzIHBlciBmcmFtZSBhbmQgaXQnbGxcbiAgICAgICAgICogb25seSBiZSBjYWxsZWQgb25jZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICAgICAqIEBtZXRob2QgcXVldWVSZXNpemVcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucXVldWVSZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLl9yZXNpemVUbykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmNhbmNlbFJlc2l6ZSgpO1xuICAgICAgICAgICAgLy8gLy8gVGhyb3R0bGUgcmVzaXplIGV2ZW50cyBwZXIgcmFmXG4gICAgICAgICAgICBfdGhpcy5fcmVzaXplSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucmVzaXplKCk7IH0pO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FuY2VsIHRoZSByZXNpemUgcXVldWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkFwcGxpY2F0aW9uI1xuICAgICAgICAgKiBAbWV0aG9kIGNhbmNlbFJlc2l6ZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYW5jZWxSZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuX3Jlc2l6ZUlkKSB7XG4gICAgICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoX3RoaXMuX3Jlc2l6ZUlkKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVzaXplSWQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogRXhlY3V0ZSBhbiBpbW1lZGlhdGUgcmVzaXplIG9uIHRoZSByZW5kZXJlciwgdGhpcyBpcyBub3RcbiAgICAgICAgICogdGhyb3R0bGVkIGFuZCBjYW4gYmUgZXhwZW5zaXZlIHRvIGNhbGwgbWFueSB0aW1lcyBpbiBhIHJvdy5cbiAgICAgICAgICogV2lsbCByZXNpemUgb25seSBpZiBgcmVzaXplVG9gIHByb3BlcnR5IGlzIHNldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICAgICAqIEBtZXRob2QgcmVzaXplXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuX3Jlc2l6ZVRvKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY2xlYXIgcXVldWUgcmVzaXplXG4gICAgICAgICAgICBfdGhpcy5jYW5jZWxSZXNpemUoKTtcbiAgICAgICAgICAgIHZhciB3aWR0aDtcbiAgICAgICAgICAgIHZhciBoZWlnaHQ7XG4gICAgICAgICAgICAvLyBSZXNpemUgdG8gdGhlIHdpbmRvd1xuICAgICAgICAgICAgaWYgKF90aGlzLl9yZXNpemVUbyA9PT0gc2VsZikge1xuICAgICAgICAgICAgICAgIHdpZHRoID0gc2VsZi5pbm5lcldpZHRoO1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IHNlbGYuaW5uZXJIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZXNpemUgdG8gb3RoZXIgSFRNTCBlbnRpdGllc1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMuX3Jlc2l6ZVRvLCBjbGllbnRXaWR0aCA9IF9hLmNsaWVudFdpZHRoLCBjbGllbnRIZWlnaHQgPSBfYS5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgd2lkdGggPSBjbGllbnRXaWR0aDtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBjbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5yZW5kZXJlci5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIE9uIHJlc2l6ZVxuICAgICAgICB0aGlzLl9yZXNpemVJZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3Jlc2l6ZVRvID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXNpemVUbyA9IG9wdGlvbnMucmVzaXplVG8gfHwgbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIHRoZSB0aWNrZXIsIHNjb3BlZCB0byBhcHBsaWNhdGlvblxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUmVzaXplUGx1Z2luLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsUmVzaXplKCk7XG4gICAgICAgIHRoaXMuY2FuY2VsUmVzaXplID0gbnVsbDtcbiAgICAgICAgdGhpcy5xdWV1ZVJlc2l6ZSA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzaXplVG8gPSBudWxsO1xuICAgICAgICB0aGlzLnJlc2l6ZSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gUmVzaXplUGx1Z2luO1xufSgpKTtcblxuQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oUmVzaXplUGx1Z2luKTtcblxuZXhwb3J0IHsgQXBwbGljYXRpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZXh0cmFjdCAtIHY2LjAuMFxuICogQ29tcGlsZWQgVHVlLCAwMiBNYXIgMjAyMSAyMTo0NTowMyBVVENcbiAqXG4gKiBAcGl4aS9leHRyYWN0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgQ2FudmFzUmVuZGVyVGFyZ2V0IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBSZW5kZXJUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbnZhciBURU1QX1JFQ1QgPSBuZXcgUmVjdGFuZ2xlKCk7XG52YXIgQllURVNfUEVSX1BJWEVMID0gNDtcbi8qKlxuICogVGhpcyBjbGFzcyBwcm92aWRlcyByZW5kZXJlci1zcGVjaWZpYyBwbHVnaW5zIGZvciBleHBvcnRpbmcgY29udGVudCBmcm9tIGEgcmVuZGVyZXIuXG4gKiBGb3IgaW5zdGFuY2UsIHRoZXNlIHBsdWdpbnMgY2FuIGJlIHVzZWQgZm9yIHNhdmluZyBhbiBJbWFnZSwgQ2FudmFzIGVsZW1lbnQgb3IgZm9yIGV4cG9ydGluZyB0aGUgcmF3IGltYWdlIGRhdGEgKHBpeGVscykuXG4gKlxuICogRG8gbm90IGluc3RhbnRpYXRlIHRoZXNlIHBsdWdpbnMgZGlyZWN0bHkuIEl0IGlzIGF2YWlsYWJsZSBmcm9tIHRoZSBgcmVuZGVyZXIucGx1Z2luc2AgcHJvcGVydHkuXG4gKiBTZWUge0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXIjcGx1Z2luc30gb3Ige0BsaW5rIFBJWEkuUmVuZGVyZXIjcGx1Z2luc30uXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIGEgbmV3IGFwcCAod2lsbCBhdXRvLWFkZCBleHRyYWN0IHBsdWdpbiB0byByZW5kZXJlcilcbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gKlxuICogLy8gRHJhdyBhIHJlZCBjaXJjbGVcbiAqIGNvbnN0IGdyYXBoaWNzID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICogICAgIC5iZWdpbkZpbGwoMHhGRjAwMDApXG4gKiAgICAgLmRyYXdDaXJjbGUoMCwgMCwgNTApO1xuICpcbiAqIC8vIFJlbmRlciB0aGUgZ3JhcGhpY3MgYXMgYW4gSFRNTEltYWdlRWxlbWVudFxuICogY29uc3QgaW1hZ2UgPSBhcHAucmVuZGVyZXIucGx1Z2lucy5leHRyYWN0LmltYWdlKGdyYXBoaWNzKTtcbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW1hZ2UpO1xuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRXh0cmFjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFeHRyYWN0KHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBIVE1MIEltYWdlIG9mIHRoZSB0YXJnZXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZm9ybWF0XSAtIEltYWdlIGZvcm1hdCwgZS5nLiBcImltYWdlL2pwZWdcIiBvciBcImltYWdlL3dlYnBcIi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3F1YWxpdHldIC0gSlBFRyBvciBXZWJwIGNvbXByZXNzaW9uIGZyb20gMCB0byAxLiBEZWZhdWx0IGlzIDAuOTIuXG4gICAgICogQHJldHVybiB7SFRNTEltYWdlRWxlbWVudH0gSFRNTCBJbWFnZSBvZiB0aGUgdGFyZ2V0XG4gICAgICovXG4gICAgRXh0cmFjdC5wcm90b3R5cGUuaW1hZ2UgPSBmdW5jdGlvbiAodGFyZ2V0LCBmb3JtYXQsIHF1YWxpdHkpIHtcbiAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltYWdlLnNyYyA9IHRoaXMuYmFzZTY0KHRhcmdldCwgZm9ybWF0LCBxdWFsaXR5KTtcbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBhIGJhc2U2NCBlbmNvZGVkIHN0cmluZyBvZiB0aGlzIHRhcmdldC4gSXQgd29ya3MgYnkgY2FsbGluZ1xuICAgICAqICBgRXh0cmFjdC5nZXRDYW52YXNgIGFuZCB0aGVuIHJ1bm5pbmcgdG9EYXRhVVJMIG9uIHRoYXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdF0gLSBJbWFnZSBmb3JtYXQsIGUuZy4gXCJpbWFnZS9qcGVnXCIgb3IgXCJpbWFnZS93ZWJwXCIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtxdWFsaXR5XSAtIEpQRUcgb3IgV2VicCBjb21wcmVzc2lvbiBmcm9tIDAgdG8gMS4gRGVmYXVsdCBpcyAwLjkyLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gQSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgdGhlIHRleHR1cmUuXG4gICAgICovXG4gICAgRXh0cmFjdC5wcm90b3R5cGUuYmFzZTY0ID0gZnVuY3Rpb24gKHRhcmdldCwgZm9ybWF0LCBxdWFsaXR5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcyh0YXJnZXQpLnRvRGF0YVVSTChmb3JtYXQsIHF1YWxpdHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIENhbnZhcyBlbGVtZW50LCByZW5kZXJzIHRoaXMgdGFyZ2V0IHRvIGl0IGFuZCB0aGVuIHJldHVybnMgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gQSBDYW52YXMgZWxlbWVudCB3aXRoIHRoZSB0ZXh0dXJlIHJlbmRlcmVkIG9uLlxuICAgICAqL1xuICAgIEV4dHJhY3QucHJvdG90eXBlLmNhbnZhcyA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHJlc29sdXRpb247XG4gICAgICAgIHZhciBmcmFtZTtcbiAgICAgICAgdmFyIGZsaXBZID0gZmFsc2U7XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlO1xuICAgICAgICB2YXIgZ2VuZXJhdGVkID0gZmFsc2U7XG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBSZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IHJlbmRlclRleHR1cmUuZnJhbWU7XG4gICAgICAgICAgICBmbGlwWSA9IGZhbHNlO1xuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKHJlbmRlclRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGZsaXBZID0gdHJ1ZTtcbiAgICAgICAgICAgIGZyYW1lID0gVEVNUF9SRUNUO1xuICAgICAgICAgICAgZnJhbWUud2lkdGggPSB0aGlzLnJlbmRlcmVyLndpZHRoO1xuICAgICAgICAgICAgZnJhbWUuaGVpZ2h0ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQ7XG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5mbG9vcigoZnJhbWUud2lkdGggKiByZXNvbHV0aW9uKSArIDFlLTQpO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5mbG9vcigoZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbikgKyAxZS00KTtcbiAgICAgICAgdmFyIGNhbnZhc0J1ZmZlciA9IG5ldyBDYW52YXNSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCwgMSk7XG4gICAgICAgIHZhciB3ZWJnbFBpeGVscyA9IG5ldyBVaW50OEFycmF5KEJZVEVTX1BFUl9QSVhFTCAqIHdpZHRoICogaGVpZ2h0KTtcbiAgICAgICAgLy8gcmVhZCBwaXhlbHMgdG8gdGhlIGFycmF5XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICBnbC5yZWFkUGl4ZWxzKGZyYW1lLnggKiByZXNvbHV0aW9uLCBmcmFtZS55ICogcmVzb2x1dGlvbiwgd2lkdGgsIGhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgd2ViZ2xQaXhlbHMpO1xuICAgICAgICAvLyBhZGQgdGhlIHBpeGVscyB0byB0aGUgY2FudmFzXG4gICAgICAgIHZhciBjYW52YXNEYXRhID0gY2FudmFzQnVmZmVyLmNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBFeHRyYWN0LmFycmF5UG9zdERpdmlkZSh3ZWJnbFBpeGVscywgY2FudmFzRGF0YS5kYXRhKTtcbiAgICAgICAgY2FudmFzQnVmZmVyLmNvbnRleHQucHV0SW1hZ2VEYXRhKGNhbnZhc0RhdGEsIDAsIDApO1xuICAgICAgICAvLyBwdWxsaW5nIHBpeGVsc1xuICAgICAgICBpZiAoZmxpcFkpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRfMSA9IG5ldyBDYW52YXNSZW5kZXJUYXJnZXQoY2FudmFzQnVmZmVyLndpZHRoLCBjYW52YXNCdWZmZXIuaGVpZ2h0LCAxKTtcbiAgICAgICAgICAgIHRhcmdldF8xLmNvbnRleHQuc2NhbGUoMSwgLTEpO1xuICAgICAgICAgICAgLy8gd2UgY2FuJ3QgcmVuZGVyIHRvIGl0c2VsZiBiZWNhdXNlIHdlIHNob3VsZCBiZSBlbXB0eSBiZWZvcmUgcmVuZGVyLlxuICAgICAgICAgICAgdGFyZ2V0XzEuY29udGV4dC5kcmF3SW1hZ2UoY2FudmFzQnVmZmVyLmNhbnZhcywgMCwgLWhlaWdodCk7XG4gICAgICAgICAgICBjYW52YXNCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgY2FudmFzQnVmZmVyID0gdGFyZ2V0XzE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdlbmVyYXRlZCkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNlbmQgdGhlIGNhbnZhcyBiYWNrLi5cbiAgICAgICAgcmV0dXJuIGNhbnZhc0J1ZmZlci5jYW52YXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIG9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZSBpbiBSR0JBXG4gICAgICogb3JkZXIsIHdpdGggaW50ZWdlciB2YWx1ZXMgYmV0d2VlbiAwIGFuZCAyNTUgKGluY2x1ZGVkKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9IE9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZVxuICAgICAqL1xuICAgIEV4dHJhY3QucHJvdG90eXBlLnBpeGVscyA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHJlc29sdXRpb247XG4gICAgICAgIHZhciBmcmFtZTtcbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmU7XG4gICAgICAgIHZhciBnZW5lcmF0ZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIFJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGFyZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMucmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGZyYW1lID0gcmVuZGVyVGV4dHVyZS5mcmFtZTtcbiAgICAgICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKHJlbmRlclRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IFRFTVBfUkVDVDtcbiAgICAgICAgICAgIGZyYW1lLndpZHRoID0gcmVuZGVyZXIud2lkdGg7XG4gICAgICAgICAgICBmcmFtZS5oZWlnaHQgPSByZW5kZXJlci5oZWlnaHQ7XG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpZHRoID0gZnJhbWUud2lkdGggKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHdlYmdsUGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkoQllURVNfUEVSX1BJWEVMICogd2lkdGggKiBoZWlnaHQpO1xuICAgICAgICAvLyByZWFkIHBpeGVscyB0byB0aGUgYXJyYXlcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIGdsLnJlYWRQaXhlbHMoZnJhbWUueCAqIHJlc29sdXRpb24sIGZyYW1lLnkgKiByZXNvbHV0aW9uLCB3aWR0aCwgaGVpZ2h0LCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCB3ZWJnbFBpeGVscyk7XG4gICAgICAgIGlmIChnZW5lcmF0ZWQpIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBFeHRyYWN0LmFycmF5UG9zdERpdmlkZSh3ZWJnbFBpeGVscywgd2ViZ2xQaXhlbHMpO1xuICAgICAgICByZXR1cm4gd2ViZ2xQaXhlbHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgZXh0cmFjdFxuICAgICAqXG4gICAgICovXG4gICAgRXh0cmFjdC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUYWtlcyBwcmVtdWx0aXBsaWVkIHBpeGVsIGRhdGEgYW5kIHByb2R1Y2VzIHJlZ3VsYXIgcGl4ZWwgZGF0YVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcltdIHwgVWludDhBcnJheSB8IFVpbnQ4Q2xhbXBlZEFycmF5fSBwaXhlbHMgLSBhcnJheSBvZiBwaXhlbCBkYXRhXG4gICAgICogQHBhcmFtIHtudW1iZXJbXSB8IFVpbnQ4QXJyYXkgfCBVaW50OENsYW1wZWRBcnJheX0gb3V0IC0gb3V0cHV0IGFycmF5XG4gICAgICovXG4gICAgRXh0cmFjdC5hcnJheVBvc3REaXZpZGUgPSBmdW5jdGlvbiAocGl4ZWxzLCBvdXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwaXhlbHMubGVuZ3RoOyBpICs9IDQpIHtcbiAgICAgICAgICAgIHZhciBhbHBoYSA9IG91dFtpICsgM10gPSBwaXhlbHNbaSArIDNdO1xuICAgICAgICAgICAgaWYgKGFscGhhICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgb3V0W2ldID0gTWF0aC5yb3VuZChNYXRoLm1pbihwaXhlbHNbaV0gKiAyNTUuMCAvIGFscGhhLCAyNTUuMCkpO1xuICAgICAgICAgICAgICAgIG91dFtpICsgMV0gPSBNYXRoLnJvdW5kKE1hdGgubWluKHBpeGVsc1tpICsgMV0gKiAyNTUuMCAvIGFscGhhLCAyNTUuMCkpO1xuICAgICAgICAgICAgICAgIG91dFtpICsgMl0gPSBNYXRoLnJvdW5kKE1hdGgubWluKHBpeGVsc1tpICsgMl0gKiAyNTUuMCAvIGFscGhhLCAyNTUuMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0W2ldID0gcGl4ZWxzW2ldO1xuICAgICAgICAgICAgICAgIG91dFtpICsgMV0gPSBwaXhlbHNbaSArIDFdO1xuICAgICAgICAgICAgICAgIG91dFtpICsgMl0gPSBwaXhlbHNbaSArIDJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRXh0cmFjdDtcbn0oKSk7XG5cbmV4cG9ydCB7IEV4dHJhY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4dHJhY3QuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2NvbXByZXNzZWQtdGV4dHVyZXMgLSB2Ni4wLjBcbiAqIENvbXBpbGVkIFR1ZSwgMDIgTWFyIDIwMjEgMjE6NDU6MDMgVVRDXG4gKlxuICogQHBpeGkvY29tcHJlc3NlZC10ZXh0dXJlcyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFZpZXdhYmxlQnVmZmVyLCBCdWZmZXJSZXNvdXJjZSwgQmFzZVRleHR1cmUsIFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IExvYWRlclJlc291cmNlIH0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5pbXBvcnQgeyBNSVBNQVBfTU9ERVMsIEFMUEhBX01PREVTLCBUWVBFUywgRk9STUFUUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbnZhciBfYTtcbi8qKlxuICogV2ViR0wgaW50ZXJuYWwgZm9ybWF0cywgaW5jbHVkaW5nIGNvbXByZXNzZWQgdGV4dHVyZSBmb3JtYXRzIHByb3ZpZGVkIGJ5IGV4dGVuc2lvbnNcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgSU5URVJOQUxfRk9STUFUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT01QUkVTU0VEX1JHQl9TM1RDX0RYVDFfRVhUPTB4ODNGMFxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDFfRVhUPTB4ODNGMVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDNfRVhUPTB4ODNGMlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDVfRVhUPTB4ODNGM1xuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhUPTM1OTE3XG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUM19FWFQ9MzU5MThcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQ1X0VYVD0zNTkxOVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTVBSRVNTRURfU1JHQl9TM1RDX0RYVDFfRVhUPTM1OTE2XG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09NUFJFU1NFRF9SMTFfRUFDPTB4OTI3MFxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTVBSRVNTRURfU0lHTkVEX1IxMV9FQUM9MHg5MjcxXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09NUFJFU1NFRF9SRzExX0VBQz0weDkyNzJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT01QUkVTU0VEX1NJR05FRF9SRzExX0VBQz0weDkyNzNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT01QUkVTU0VEX1JHQjhfRVRDMj0weDkyNzRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT01QUkVTU0VEX1JHQkE4X0VUQzJfRUFDPTB4OTI3NVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTVBSRVNTRURfU1JHQjhfRVRDMj0weDkyNzZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9FVEMyX0VBQz0weDkyNzdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT01QUkVTU0VEX1JHQjhfUFVOQ0hUSFJPVUdIX0FMUEhBMV9FVEMyPTB4OTI3OFxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTVBSRVNTRURfU1JHQjhfUFVOQ0hUSFJPVUdIX0FMUEhBMV9FVEMyPSAweDkyNzlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT01QUkVTU0VEX1JHQl9QVlJUQ180QlBQVjFfSU1HPTB4OEMwMFxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTVBSRVNTRURfUkdCQV9QVlJUQ180QlBQVjFfSU1HPTB4OEMwMlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTVBSRVNTRURfUkdCX1BWUlRDXzJCUFBWMV9JTUc9MHg4QzAxXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09NUFJFU1NFRF9SR0JBX1BWUlRDXzJCUFBWMV9JTUc9MHg4QzAzXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09NUFJFU1NFRF9SR0JfRVRDMV9XRUJHTD0weDhENjRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT01QUkVTU0VEX1JHQl9BVENfV0VCR0w9MHg4QzkyXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09NUFJFU1NFRF9SR0JBX0FUQ19FWFBMSUNJVF9BTFBIQV9XRUJHTD0weDhDOTJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT01QUkVTU0VEX1JHQkFfQVRDX0lOVEVSUE9MQVRFRF9BTFBIQV9XRUJHTD0weDg3RUVcbiAqL1xudmFyIElOVEVSTkFMX0ZPUk1BVFM7XG4oZnVuY3Rpb24gKElOVEVSTkFMX0ZPUk1BVFMpIHtcbiAgICAvLyBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y1xuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfUkdCX1MzVENfRFhUMV9FWFRcIl0gPSAzMzc3Nl0gPSBcIkNPTVBSRVNTRURfUkdCX1MzVENfRFhUMV9FWFRcIjtcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQxX0VYVFwiXSA9IDMzNzc3XSA9IFwiQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUMV9FWFRcIjtcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQzX0VYVFwiXSA9IDMzNzc4XSA9IFwiQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUM19FWFRcIjtcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1X0VYVFwiXSA9IDMzNzc5XSA9IFwiQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUNV9FWFRcIjtcbiAgICAvLyBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y19zcmdiXG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUMV9FWFRcIl0gPSAzNTkxN10gPSBcIkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhUXCI7XG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUM19FWFRcIl0gPSAzNTkxOF0gPSBcIkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDNfRVhUXCI7XG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUNV9FWFRcIl0gPSAzNTkxOV0gPSBcIkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDVfRVhUXCI7XG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9TUkdCX1MzVENfRFhUMV9FWFRcIl0gPSAzNTkxNl0gPSBcIkNPTVBSRVNTRURfU1JHQl9TM1RDX0RYVDFfRVhUXCI7XG4gICAgLy8gV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0Y1xuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfUjExX0VBQ1wiXSA9IDM3NDg4XSA9IFwiQ09NUFJFU1NFRF9SMTFfRUFDXCI7XG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9TSUdORURfUjExX0VBQ1wiXSA9IDM3NDg5XSA9IFwiQ09NUFJFU1NFRF9TSUdORURfUjExX0VBQ1wiO1xuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfUkcxMV9FQUNcIl0gPSAzNzQ5MF0gPSBcIkNPTVBSRVNTRURfUkcxMV9FQUNcIjtcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1NJR05FRF9SRzExX0VBQ1wiXSA9IDM3NDkxXSA9IFwiQ09NUFJFU1NFRF9TSUdORURfUkcxMV9FQUNcIjtcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1JHQjhfRVRDMlwiXSA9IDM3NDkyXSA9IFwiQ09NUFJFU1NFRF9SR0I4X0VUQzJcIjtcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1JHQkE4X0VUQzJfRUFDXCJdID0gMzc0OTNdID0gXCJDT01QUkVTU0VEX1JHQkE4X0VUQzJfRUFDXCI7XG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9TUkdCOF9FVEMyXCJdID0gMzc0OTRdID0gXCJDT01QUkVTU0VEX1NSR0I4X0VUQzJcIjtcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9FVEMyX0VBQ1wiXSA9IDM3NDk1XSA9IFwiQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfRVRDMl9FQUNcIjtcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1JHQjhfUFVOQ0hUSFJPVUdIX0FMUEhBMV9FVEMyXCJdID0gMzc0OTZdID0gXCJDT01QUkVTU0VEX1JHQjhfUFVOQ0hUSFJPVUdIX0FMUEhBMV9FVEMyXCI7XG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9TUkdCOF9QVU5DSFRIUk9VR0hfQUxQSEExX0VUQzJcIl0gPSAzNzQ5N10gPSBcIkNPTVBSRVNTRURfU1JHQjhfUFVOQ0hUSFJPVUdIX0FMUEhBMV9FVEMyXCI7XG4gICAgLy8gV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjXG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9SR0JfUFZSVENfNEJQUFYxX0lNR1wiXSA9IDM1ODQwXSA9IFwiQ09NUFJFU1NFRF9SR0JfUFZSVENfNEJQUFYxX0lNR1wiO1xuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfUkdCQV9QVlJUQ180QlBQVjFfSU1HXCJdID0gMzU4NDJdID0gXCJDT01QUkVTU0VEX1JHQkFfUFZSVENfNEJQUFYxX0lNR1wiO1xuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfUkdCX1BWUlRDXzJCUFBWMV9JTUdcIl0gPSAzNTg0MV0gPSBcIkNPTVBSRVNTRURfUkdCX1BWUlRDXzJCUFBWMV9JTUdcIjtcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1JHQkFfUFZSVENfMkJQUFYxX0lNR1wiXSA9IDM1ODQzXSA9IFwiQ09NUFJFU1NFRF9SR0JBX1BWUlRDXzJCUFBWMV9JTUdcIjtcbiAgICAvLyBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMVxuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfUkdCX0VUQzFfV0VCR0xcIl0gPSAzNjE5Nl0gPSBcIkNPTVBSRVNTRURfUkdCX0VUQzFfV0VCR0xcIjtcbiAgICAvLyBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfYXRjXG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9SR0JfQVRDX1dFQkdMXCJdID0gMzU5ODZdID0gXCJDT01QUkVTU0VEX1JHQl9BVENfV0VCR0xcIjtcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1JHQkFfQVRDX0VYUExJQ0lUX0FMUEhBX1dFQkdMXCJdID0gMzU5ODZdID0gXCJDT01QUkVTU0VEX1JHQkFfQVRDX0VYUExJQ0lUX0FMUEhBX1dFQkdMXCI7XG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9SR0JBX0FUQ19JTlRFUlBPTEFURURfQUxQSEFfV0VCR0xcIl0gPSAzNDc5OF0gPSBcIkNPTVBSRVNTRURfUkdCQV9BVENfSU5URVJQT0xBVEVEX0FMUEhBX1dFQkdMXCI7XG59KShJTlRFUk5BTF9GT1JNQVRTIHx8IChJTlRFUk5BTF9GT1JNQVRTID0ge30pKTtcbi8qKlxuICogTWFwcyB0aGUgY29tcHJlc3NlZCB0ZXh0dXJlIGZvcm1hdHMgaW4ge0BsaW5rIFBJWEkuSU5URVJOQUxfRk9STUFUU30gdG8gdGhlIG51bWJlciBvZiBieXRlcyB0YWtlbiBieVxuICogZWFjaCB0ZXhlbC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGlnbm9yZVxuICovXG52YXIgSU5URVJOQUxfRk9STUFUX1RPX0JZVEVTX1BFUl9QSVhFTCA9IChfYSA9IHt9LFxuICAgIC8vIFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjXG4gICAgX2FbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQl9TM1RDX0RYVDFfRVhUXSA9IDAuNSxcbiAgICBfYVtJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDFfRVhUXSA9IDAuNSxcbiAgICBfYVtJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDNfRVhUXSA9IDEsXG4gICAgX2FbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1X0VYVF0gPSAxLFxuICAgIC8vIFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjXG4gICAgX2FbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1NSR0JfUzNUQ19EWFQxX0VYVF0gPSAwLjUsXG4gICAgX2FbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQxX0VYVF0gPSAwLjUsXG4gICAgX2FbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQzX0VYVF0gPSAxLFxuICAgIF9hW0lOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUNV9FWFRdID0gMSxcbiAgICAvLyBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjXG4gICAgX2FbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1IxMV9FQUNdID0gMC41LFxuICAgIF9hW0lOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9TSUdORURfUjExX0VBQ10gPSAwLjUsXG4gICAgX2FbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHMTFfRUFDXSA9IDEsXG4gICAgX2FbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1NJR05FRF9SRzExX0VBQ10gPSAxLFxuICAgIF9hW0lOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0I4X0VUQzJdID0gMC41LFxuICAgIF9hW0lOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JBOF9FVEMyX0VBQ10gPSAwLjUsXG4gICAgX2FbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1NSR0I4X0VUQzJdID0gMC41LFxuICAgIF9hW0lOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfRVRDMl9FQUNdID0gMC41LFxuICAgIF9hW0lOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0I4X1BVTkNIVEhST1VHSF9BTFBIQTFfRVRDMl0gPSAwLjUsXG4gICAgX2FbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1NSR0I4X1BVTkNIVEhST1VHSF9BTFBIQTFfRVRDMl0gPSAwLjUsXG4gICAgLy8gV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjXG4gICAgX2FbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQl9QVlJUQ180QlBQVjFfSU1HXSA9IDAuNSxcbiAgICBfYVtJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCQV9QVlJUQ180QlBQVjFfSU1HXSA9IDAuNSxcbiAgICBfYVtJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCX1BWUlRDXzJCUFBWMV9JTUddID0gMC4yNSxcbiAgICBfYVtJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCQV9QVlJUQ18yQlBQVjFfSU1HXSA9IDAuMjUsXG4gICAgLy8gV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YzFcbiAgICBfYVtJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCX0VUQzFfV0VCR0xdID0gMC41LFxuICAgIC8vIEBzZWUgaHR0cHM6Ly93d3cua2hyb25vcy5vcmcvcmVnaXN0cnkvT3BlbkdML2V4dGVuc2lvbnMvQU1EL0FNRF9jb21wcmVzc2VkX0FUQ190ZXh0dXJlLnR4dFxuICAgIC8vIFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hdGNcbiAgICBfYVtJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCX0FUQ19XRUJHTF0gPSAwLjUsXG4gICAgX2FbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfQVRDX0VYUExJQ0lUX0FMUEhBX1dFQkdMXSA9IDEsXG4gICAgX2FbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfQVRDX0lOVEVSUE9MQVRFRF9BTFBIQV9XRUJHTF0gPSAxLFxuICAgIF9hKTtcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB7IHRocm93IHRbMV07IH0gcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpOyB9XHJcbiAgICAgICAgd2hpbGUgKF8pIHsgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHsgcmV0dXJuIHQ7IH1cclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSB7IG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07IH1cclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgeyBfLm9wcy5wb3AoKTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfSB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgeyB0aHJvdyBvcFsxXTsgfSByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XG5cbi8qKlxuICogUmVzb3VyY2UgdGhhdCBmZXRjaGVzIHRleHR1cmUgZGF0YSBvdmVyIHRoZSBuZXR3b3JrIGFuZCBzdG9yZXMgaXQgaW4gYSBidWZmZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmxvYlJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCbG9iUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIHRoZSBVUkwgb2YgdGhlIHRleHR1cmUgZmlsZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn1bYXV0b0xvYWRdIC0gd2hldGhlciB0byBmZXRjaCB0aGUgZGF0YSBpbW1lZGlhdGVseTtcbiAgICAgKiAgeW91IGNhbiBmZXRjaCBpdCBsYXRlciB2aWEge0BsaW5rIEJsb2JSZXNvdXJjZSNsb2FkfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJsb2JSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0geyB3aWR0aDogMSwgaGVpZ2h0OiAxLCBhdXRvTG9hZDogdHJ1ZSB9OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcmlnaW47XG4gICAgICAgIHZhciBkYXRhO1xuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIG9yaWdpbiA9IHNvdXJjZTtcbiAgICAgICAgICAgIGRhdGEgPSBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3JpZ2luID0gbnVsbDtcbiAgICAgICAgICAgIGRhdGEgPSBzb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkYXRhLCBvcHRpb25zKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFVSTCBvZiB0aGUgdGV4dHVyZSBmaWxlXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9yaWdpbiA9IG9yaWdpbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2aWV3YWJsZSBidWZmZXIgb24gdGhlIGRhdGFcbiAgICAgICAgICogQG1lbWJlciB7Vmlld2FibGVCdWZmZXJ9XG4gICAgICAgICAqL1xuICAgICAgICAvLyBISU5UOiBCbG9iUmVzb3VyY2UgYWxsb3dzIFwibnVsbFwiIHNvdXJjZXMsIGFzc3VtaW5nIHRoZSBjaGlsZCBjbGFzcyBwcm92aWRlcyBhbiBhbHRlcm5hdGl2ZVxuICAgICAgICBfdGhpcy5idWZmZXIgPSBkYXRhID8gbmV3IFZpZXdhYmxlQnVmZmVyKGRhdGEpIDogbnVsbDtcbiAgICAgICAgLy8gQWxsb3cgYXV0b0xvYWQgPSBcInVuZGVmaW5lZFwiIHN0aWxsIGxvYWQgdGhlIHJlc291cmNlIGJ5IGRlZmF1bHRcbiAgICAgICAgaWYgKF90aGlzLm9yaWdpbiAmJiBvcHRpb25zLmF1dG9Mb2FkICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgX3RoaXMubG9hZCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgX3RoaXMub25CbG9iTG9hZGVkKF90aGlzLmJ1ZmZlci5yYXdCaW5hcnlEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEJsb2JSZXNvdXJjZS5wcm90b3R5cGUub25CbG9iTG9hZGVkID0gZnVuY3Rpb24gKF9kYXRhKSB7XG4gICAgICAgIC8vIFRPRE86IE92ZXJyaWRlIHRoaXMgbWV0aG9kXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGUgYmxvYlxuICAgICAqL1xuICAgIEJsb2JSZXNvdXJjZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZXNwb25zZSwgYmxvYiwgYXJyYXlCdWZmZXI7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIGZldGNoKHRoaXMub3JpZ2luKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzcG9uc2UuYmxvYigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvYiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGJsb2IuYXJyYXlCdWZmZXIoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5QnVmZmVyID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gbmV3IFVpbnQzMkFycmF5KGFycmF5QnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyID0gbmV3IFZpZXdhYmxlQnVmZmVyKGFycmF5QnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25CbG9iTG9hZGVkKGFycmF5QnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpc107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEJsb2JSZXNvdXJjZTtcbn0oQnVmZmVyUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSBmb3IgY29tcHJlc3NlZCB0ZXh0dXJlIGZvcm1hdHMsIGFzIGZvbGxvd3M6IFMzVEMvRFhUbiAoJiB0aGVpciBzUkdCIGZvcm1hdHMpLCBBVEMsIEFTVEMsIEVUQyAxLzIsIFBWUlRDLlxuICpcbiAqIENvbXByZXNzZWQgdGV4dHVyZXMgaW1wcm92ZSBwZXJmb3JtYW5jZSB3aGVuIHJlbmRlcmluZyBpcyB0ZXh0dXJlLWJvdW5kLiBUaGUgdGV4dHVyZSBkYXRhIHN0YXlzIGNvbXByZXNzZWQgaW5cbiAqIGdyYXBoaWNzIG1lbW9yeSwgaW5jcmVhc2luZyBtZW1vcnkgbG9jYWxpdHkgYW5kIHNwZWVkaW5nIHVwIHRleHR1cmUgZmV0Y2hlcy4gVGhlc2UgZm9ybWF0cyBjYW4gYWxzbyBiZSB1c2VkIHRvIHN0b3JlXG4gKiBtb3JlIGRldGFpbCBpbiB0aGUgc2FtZSBhbW91bnQgb2YgbWVtb3J5LlxuICpcbiAqIEZvciBtb3N0IGRldmVsb3BlcnMsIGNvbnRhaW5lciBmaWxlIGZvcm1hdHMgYXJlIGEgYmV0dGVyIGFic3RyYWN0aW9uIGluc3RlYWQgb2YgZGlyZWN0bHkgaGFuZGxpbmcgcmF3IHRleHR1cmVcbiAqIGRhdGEuIFBpeGlKUyBwcm92aWRlcyBuYXRpdmUgc3VwcG9ydCBmb3IgdGhlIGZvbGxvd2luZyB0ZXh0dXJlIGZpbGUgZm9ybWF0cyAodmlhIHtAbGluayBQSVhJLkxvYWRlcn0pOlxuICpcbiAqICogKiouZGRzKiogLSB0aGUgRGlyZWN0RHJhdyBTdXJmYWNlIGZpbGUgZm9ybWF0IHN0b3JlcyBEWFRuIChEWFQtMSwzLDUpIGRhdGEuIFNlZSB7QGxpbmsgUElYSS5ERFNMb2FkZXJ9XG4gKiAqICoqLmt0eCoqIC0gdGhlIEtocm9ub3MgVGV4dHVyZSBDb250YWluZXIgZmlsZSBmb3JtYXQgc3VwcG9ydHMgc3RvcmluZyBhbGwgdGhlIHN1cHBvcnRlZCBXZWJHTCBjb21wcmVzc2lvbiBmb3JtYXRzLlxuICogIFNlZSB7QGxpbmsgUElYSS5LVFhMb2FkZXJ9LlxuICogKiAqKi5iYXNpcyoqIC0gdGhlIEJBU0lTIHN1cGVyY29tcHJlc3NlZCBmaWxlIGZvcm1hdCBzdG9yZXMgdGV4dHVyZSBkYXRhIGluIGFuIGludGVybmFsIGZvcm1hdCB0aGF0IGlzIHRyYW5zY29kZWRcbiAqICB0byB0aGUgY29tcHJlc3Npb24gZm9ybWF0IHN1cHBvcnRlZCBvbiB0aGUgZGV2aWNlIGF0IF9ydW50aW1lXy4gSXQgYWxzbyBzdXBwb3J0cyB0cmFuc2NvZGluZyBpbnRvIGEgdW5jb21wcmVzc2VkXG4gKiAgZm9ybWF0IGFzIGEgZmFsbGJhY2s7IHlvdSBtdXN0IGluc3RhbGwgdGhlIGBAcGl4aS9iYXNpcy1sb2FkZXJgLCBgQHBpeGkvYmFzaXMtdHJhbnNjb2RlcmAgcGFja2FnZXMgc2VwYXJhdGVseSB0b1xuICogIHVzZSB0aGVzZSBmaWxlcy4gU2VlIHtAbGluayBQSVhJLkJhc2lzTG9hZGVyfS5cbiAqXG4gKiBUaGUgbG9hZGVycyBmb3IgdGhlIGFmb3JlbWVudGlvbmVkIGZvcm1hdHMgdXNlIGBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlYCBpbnRlcm5hbGx5LiBJdCBpcyBzdHJvbmdseSBzdWdnZXN0ZWQgdGhhdFxuICogdGhleSBiZSB1c2VkIGluc3RlYWQuXG4gKlxuICogIyMgV29ya2luZyBkaXJlY3RseSB3aXRoIENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2VcbiAqXG4gKiBTaW5jZSBgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZWAgaW5oZXJpdHMgYEJsb2JSZXNvdXJjZWAsIHlvdSBjYW4gcHJvdmlkZSBpdCBhIFVSTCBwb2ludGluZyB0byBhIGZpbGUgY29udGFpbmluZ1xuICogdGhlIHJhdyB0ZXh0dXJlIGRhdGEgKHdpdGggbm8gZmlsZSBoZWFkZXJzISk6XG4gKlxuICogYGBganNcbiAqIC8vIFRoZSByZXNvdXJjZSBiYWNraW5nIHRoZSB0ZXh0dXJlIGRhdGEgZm9yIHlvdXIgdGV4dHVyZXMuXG4gKiAvLyBOT1RFOiBZb3UgY2FuIGFsc28gcHJvdmlkZSBhIEFycmF5QnVmZmVyVmlldyBpbnN0ZWFkIG9mIGEgVVJMLiBUaGlzIGlzIHVzZWQgd2hlbiBsb2FkaW5nIGRhdGEgZnJvbSBhIGNvbnRhaW5lciBmaWxlXG4gKiAvLyAgIGZvcm1hdCBzdWNoIGFzIEtUWCwgRERTLCBvciBCQVNJUy5cbiAqIGNvbnN0IGNvbXByZXNzZWRSZXNvdXJjZSA9IG5ldyBQSVhJLkNvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UoXCJidW5ueS5keHQ1XCIsIHtcbiAqICAgZm9ybWF0OiBQSVhJLklOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUNV9FWFQsXG4gKiAgIHdpZHRoOiAyNTYsXG4gKiAgIGhlaWdodDogMjU2XG4gKiB9KTtcbiAqXG4gKiAvLyBZb3UgY2FuIGNyZWF0ZSBhIGJhc2UtdGV4dHVyZSB0byB0aGUgY2FjaGUsIHNvIHRoYXQgZnV0dXJlIGBUZXh0dXJlYHMgY2FuIGJlIGNyZWF0ZWQgdXNpbmcgdGhlIGBUZXh0dXJlLmZyb21gIEFQSS5cbiAqIGNvbnN0IGJhc2VUZXh0dXJlID0gbmV3IFBJWEkuQmFzZVRleHR1cmUoY29tcHJlc3NlZFJlc291cmNlLCB7IHBtYU1vZGU6IFBJWEkuQUxQSEFfTU9ERVMuTlBNIH0pO1xuICpcbiAqIC8vIENyZWF0ZSBhIFRleHR1cmUgdG8gYWRkIHRvIHRoZSBUZXh0dXJlQ2FjaGVcbiAqIGNvbnN0IHRleHR1cmUgPSBuZXcgUElYSS5UZXh0dXJlKGJhc2VUZXh0dXJlKTtcbiAqXG4gKiAvLyBBZGQgYmFzZVRleHR1cmUgJiB0ZXh0dXJlIHRvIHRoZSBnbG9iYWwgdGV4dHVyZSBjYWNoZVxuICogUElYSS5CYXNlVGV4dHVyZS5hZGRUb0NhY2hlKGJhc2VUZXh0dXJlLCBcImJ1bm55LmR4dDVcIik7XG4gKiBQSVhJLlRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBcImJ1bm55LmR4dDVcIik7XG4gKiBgYGBcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gc291cmNlIC0gdGhlIGJ1ZmZlci9VUkwgaG9sZGluZyB0aGUgY29tcHJlc3NlZCB0ZXh0dXJlIGRhdGFcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7UElYSS5JTlRFUk5BTF9GT1JNQVRTfSBvcHRpb25zLmZvcm1hdCAtIHRoZSBjb21wcmVzc2lvbiBmb3JtYXRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy53aWR0aCAtIHRoZSBpbWFnZSB3aWR0aCBpbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMuaGVpZ2h0IC0gdGhlIGltYWdlIGhlaWdodCBpbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9W29wdGlvbnMubGV2ZWw9MV0gLSB0aGUgbWlwbWFwIGxldmVscyBzdG9yZWQgaW4gdGhlIGNvbXByZXNzZWQgdGV4dHVyZSwgaW5jbHVkaW5nIGxldmVsIDAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9W29wdGlvbnMubGV2ZWxCdWZmZXJzXSAtIHRoZSBidWZmZXJzIGZvciBlYWNoIG1pcG1hcCBsZXZlbC4gYENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2VgIGNhbiBhbGxvd3MgeW91XG4gICAgICogICAgICB0byBwYXNzIGBudWxsYCBmb3IgYHNvdXJjZWAsIGZvciBjYXNlcyB3aGVyZSBlYWNoIGxldmVsIGlzIHN0b3JlZCBpbiBub24tY29udGlndW91cyBtZW1vcnkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlLCBvcHRpb25zKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbXByZXNzaW9uIGZvcm1hdFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZm9ybWF0ID0gb3B0aW9ucy5mb3JtYXQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIG1pcG1hcCBsZXZlbHMgc3RvcmVkIGluIHRoZSByZXNvdXJjZSBidWZmZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxldmVscyA9IG9wdGlvbnMubGV2ZWxzIHx8IDE7XG4gICAgICAgIF90aGlzLl93aWR0aCA9IG9wdGlvbnMud2lkdGg7XG4gICAgICAgIF90aGlzLl9oZWlnaHQgPSBvcHRpb25zLmhlaWdodDtcbiAgICAgICAgX3RoaXMuX2V4dGVuc2lvbiA9IENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UuX2Zvcm1hdFRvRXh0ZW5zaW9uKF90aGlzLmZvcm1hdCk7XG4gICAgICAgIGlmIChvcHRpb25zLmxldmVsQnVmZmVycyB8fCBfdGhpcy5idWZmZXIpIHtcbiAgICAgICAgICAgIC8vIFZpZXdhYmxlQnVmZmVyIGRvZXNuJ3Qgc3VwcG9ydCBieXRlT2Zmc2V0IDotKCBzbyBhbGxvdyBzb3VyY2UgdG8gYmUgVWludDhBcnJheVxuICAgICAgICAgICAgX3RoaXMuX2xldmVsQnVmZmVycyA9IG9wdGlvbnMubGV2ZWxCdWZmZXJzXG4gICAgICAgICAgICAgICAgfHwgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZS5fY3JlYXRlTGV2ZWxCdWZmZXJzKHNvdXJjZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBzb3VyY2UgOiBfdGhpcy5idWZmZXIudWludDhWaWV3LCBfdGhpcy5mb3JtYXQsIF90aGlzLmxldmVscywgNCwgNCwgLy8gUFZSVEMgaGFzIDh4NCBibG9ja3MgaW4gMmJwcCBtb2RlXG4gICAgICAgICAgICAgICAgX3RoaXMud2lkdGgsIF90aGlzLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0gcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0gX3RleHR1cmVcbiAgICAgKiBAcGFyYW0gX2dsVGV4dHVyZVxuICAgICAqL1xuICAgIENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIChyZW5kZXJlciwgX3RleHR1cmUsIF9nbFRleHR1cmUpIHtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBleHRlbnNpb24gPSByZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnNbdGhpcy5fZXh0ZW5zaW9uXTtcbiAgICAgICAgaWYgKCFleHRlbnNpb24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcih0aGlzLl9leHRlbnNpb24gKyBcIiB0ZXh0dXJlcyBhcmUgbm90IHN1cHBvcnRlZCBvbiB0aGUgY3VycmVudCBtYWNoaW5lXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fbGV2ZWxCdWZmZXJzKSB7XG4gICAgICAgICAgICAvLyBEbyBub3QgdHJ5IHRvIHVwbG9hZCBkYXRhIGJlZm9yZSBCbG9iUmVzb3VyY2UgbG9hZHMsIHVubGVzcyB0aGUgbGV2ZWxCdWZmZXJzIHdlcmUgcHJvdmlkZWQgZGlyZWN0bHkhXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmxldmVsczsgaSA8IGo7IGkrKykge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5fbGV2ZWxCdWZmZXJzW2ldLCBsZXZlbElEID0gX2EubGV2ZWxJRCwgbGV2ZWxXaWR0aCA9IF9hLmxldmVsV2lkdGgsIGxldmVsSGVpZ2h0ID0gX2EubGV2ZWxIZWlnaHQsIGxldmVsQnVmZmVyID0gX2EubGV2ZWxCdWZmZXI7XG4gICAgICAgICAgICBnbC5jb21wcmVzc2VkVGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCBsZXZlbElELCB0aGlzLmZvcm1hdCwgbGV2ZWxXaWR0aCwgbGV2ZWxIZWlnaHQsIDAsIGxldmVsQnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlLnByb3RvdHlwZS5vbkJsb2JMb2FkZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2xldmVsQnVmZmVycyA9IENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UuX2NyZWF0ZUxldmVsQnVmZmVycyh0aGlzLmJ1ZmZlci51aW50OFZpZXcsIHRoaXMuZm9ybWF0LCB0aGlzLmxldmVscywgNCwgNCwgLy8gUFZSVEMgaGFzIDh4NCBibG9ja3MgaW4gMmJwcCBtb2RlXG4gICAgICAgIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGtleSAodG8gQ29udGV4dFN5c3RlbSNleHRlbnNpb25zKSBmb3IgdGhlIFdlYkdMIGV4dGVuc2lvbiBzdXBwb3J0aW5nIHRoZSBjb21wcmVzc2lvbiBmb3JtYXRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLklOVEVSTkFMX0ZPUk1BVFN9IGZvcm1hdFxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlLl9mb3JtYXRUb0V4dGVuc2lvbiA9IGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICAgICAgaWYgKGZvcm1hdCA+PSAweDgzRjAgJiYgZm9ybWF0IDw9IDB4ODNGMykge1xuICAgICAgICAgICAgcmV0dXJuICdzM3RjJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmb3JtYXQgPj0gMHg5MjcwICYmIGZvcm1hdCA8PSAweDkyNzkpIHtcbiAgICAgICAgICAgIHJldHVybiAnZXRjJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmb3JtYXQgPj0gMHg4QzAwICYmIGZvcm1hdCA8PSAweDhDMDMpIHtcbiAgICAgICAgICAgIHJldHVybiAncHZydGMnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZvcm1hdCA+PSAweDhENjQpIHtcbiAgICAgICAgICAgIHJldHVybiAnZXRjMSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZm9ybWF0ID49IDB4OEM5MiAmJiBmb3JtYXQgPD0gMHg4N0VFKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2F0Yyc7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIChjb21wcmVzc2VkKSB0ZXh0dXJlIGZvcm1hdCBnaXZlbiEnKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByZS1jcmVhdGVzIGJ1ZmZlciB2aWV3cyBmb3IgZWFjaCBtaXBtYXAgbGV2ZWxcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtVaW50OEFycmF5fSBidWZmZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuSU5URVJOQUxfRk9STUFUU30gZm9ybWF0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxldmVsc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBibG9ja1dpZHRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJsb2NrSGVpZ2h0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGltYWdlV2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW1hZ2VIZWlnaHRcbiAgICAgKi9cbiAgICBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlLl9jcmVhdGVMZXZlbEJ1ZmZlcnMgPSBmdW5jdGlvbiAoYnVmZmVyLCBmb3JtYXQsIGxldmVscywgYmxvY2tXaWR0aCwgYmxvY2tIZWlnaHQsIGltYWdlV2lkdGgsIGltYWdlSGVpZ2h0KSB7XG4gICAgICAgIC8vIFRoZSBieXRlLXNpemUgb2YgdGhlIGZpcnN0IGxldmVsIGJ1ZmZlclxuICAgICAgICB2YXIgYnVmZmVycyA9IG5ldyBBcnJheShsZXZlbHMpO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gYnVmZmVyLmJ5dGVPZmZzZXQ7XG4gICAgICAgIHZhciBsZXZlbFdpZHRoID0gaW1hZ2VXaWR0aDtcbiAgICAgICAgdmFyIGxldmVsSGVpZ2h0ID0gaW1hZ2VIZWlnaHQ7XG4gICAgICAgIHZhciBhbGlnbmVkTGV2ZWxXaWR0aCA9IChsZXZlbFdpZHRoICsgYmxvY2tXaWR0aCAtIDEpICYgfihibG9ja1dpZHRoIC0gMSk7XG4gICAgICAgIHZhciBhbGlnbmVkTGV2ZWxIZWlnaHQgPSAobGV2ZWxIZWlnaHQgKyBibG9ja0hlaWdodCAtIDEpICYgfihibG9ja0hlaWdodCAtIDEpO1xuICAgICAgICB2YXIgbGV2ZWxTaXplID0gYWxpZ25lZExldmVsV2lkdGggKiBhbGlnbmVkTGV2ZWxIZWlnaHQgKiBJTlRFUk5BTF9GT1JNQVRfVE9fQllURVNfUEVSX1BJWEVMW2Zvcm1hdF07XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGV2ZWxzOyBpKyspIHtcbiAgICAgICAgICAgIGJ1ZmZlcnNbaV0gPSB7XG4gICAgICAgICAgICAgICAgbGV2ZWxJRDogaSxcbiAgICAgICAgICAgICAgICBsZXZlbFdpZHRoOiBsZXZlbHMgPiAxID8gbGV2ZWxXaWR0aCA6IGFsaWduZWRMZXZlbFdpZHRoLFxuICAgICAgICAgICAgICAgIGxldmVsSGVpZ2h0OiBsZXZlbHMgPiAxID8gbGV2ZWxIZWlnaHQgOiBhbGlnbmVkTGV2ZWxIZWlnaHQsXG4gICAgICAgICAgICAgICAgbGV2ZWxCdWZmZXI6IG5ldyBVaW50OEFycmF5KGJ1ZmZlci5idWZmZXIsIG9mZnNldCwgbGV2ZWxTaXplKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG9mZnNldCArPSBsZXZlbFNpemU7XG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgbGV2ZWxCdWZmZXIgZGltZW5zaW9ucyBmb3IgbmV4dCBpdGVyYXRpb25cbiAgICAgICAgICAgIGxldmVsV2lkdGggPSAobGV2ZWxXaWR0aCA+PiAxKSB8fCAxO1xuICAgICAgICAgICAgbGV2ZWxIZWlnaHQgPSAobGV2ZWxIZWlnaHQgPj4gMSkgfHwgMTtcbiAgICAgICAgICAgIGFsaWduZWRMZXZlbFdpZHRoID0gKGxldmVsV2lkdGggKyBibG9ja1dpZHRoIC0gMSkgJiB+KGJsb2NrV2lkdGggLSAxKTtcbiAgICAgICAgICAgIGFsaWduZWRMZXZlbEhlaWdodCA9IChsZXZlbEhlaWdodCArIGJsb2NrSGVpZ2h0IC0gMSkgJiB+KGJsb2NrSGVpZ2h0IC0gMSk7XG4gICAgICAgICAgICBsZXZlbFNpemUgPSBhbGlnbmVkTGV2ZWxXaWR0aCAqIGFsaWduZWRMZXZlbEhlaWdodCAqIElOVEVSTkFMX0ZPUk1BVF9UT19CWVRFU19QRVJfUElYRUxbZm9ybWF0XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVmZmVycztcbiAgICB9O1xuICAgIHJldHVybiBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlO1xufShCbG9iUmVzb3VyY2UpKTtcblxuLyogZXNsaW50LWVuYWJsZSBjYW1lbGNhc2UgKi9cbi8qKlxuICogTG9hZGVyIHBsdWdpbiBmb3IgaGFuZGxpbmcgY29tcHJlc3NlZCB0ZXh0dXJlcyBmb3IgYWxsIHBsYXRmb3Jtcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBQSVhJLklMb2FkZXJQbHVnaW5cbiAqL1xudmFyIENvbXByZXNzZWRUZXh0dXJlTG9hZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbXByZXNzZWRUZXh0dXJlTG9hZGVyKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgYSBjb21wcmVzc2VkLXRleHR1cmVzIG1hbmlmZXN0IGlzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIFRoaXMgd2lsbCB0aGVuIGxvYWQgdGhlIGNvcnJlY3QgY29tcHJlc3Npb24gZm9ybWF0IGZvciB0aGUgZGV2aWNlLiBZb3VyIG1hbmlmZXN0IHNob3VsZCBhZGhlcmVcbiAgICAgKiB0byB0aGUgZm9sbG93aW5nIHNjaGVtYTpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogaW1wb3J0IHsgSU5URVJOQUxfRk9STUFUUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG4gICAgICpcbiAgICAgKiAvLyBUaGUgZm9sbG93aW5nIHNob3VsZCBiZSBwcmVzZW50IGluIGEgKi5jb21wcmVzc2VkLXRleHR1cmUuanNvbiBmaWxlIVxuICAgICAqIGNvbnN0IG1hbmlmZXN0ID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAqICAgQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUNV9FWFQ6IFwiYXNzZXQuczN0Yy5rdHhcIixcbiAgICAgKiAgIENPTVBSRVNTRURfUkdCQThfRVRDMl9FQUM6IFwiYXNzZXQuZXRjLmt0eFwiLFxuICAgICAqICAgUkdCQV9QVlJUQ180QlBQVjFfSU1HOiBcImFzc2V0LnB2cnRjLmt0eFwiLFxuICAgICAqICAgdGV4dHVyZUlEOiBcImFzc2V0LnBuZ1wiLFxuICAgICAqICAgZmFsbGJhY2s6IFwiYXNzZXQucG5nXCJcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSBuZXh0XG4gICAgICovXG4gICAgQ29tcHJlc3NlZFRleHR1cmVMb2FkZXIudXNlID0gZnVuY3Rpb24gKHJlc291cmNlLCBuZXh0KSB7XG4gICAgICAgIHZhciBkYXRhID0gcmVzb3VyY2UuZGF0YTtcbiAgICAgICAgdmFyIGxvYWRlciA9IHRoaXM7XG4gICAgICAgIGlmICghQ29tcHJlc3NlZFRleHR1cmVMb2FkZXIudGV4dHVyZUV4dGVuc2lvbnMpIHtcbiAgICAgICAgICAgIENvbXByZXNzZWRUZXh0dXJlTG9hZGVyLmF1dG9EZXRlY3RFeHRlbnNpb25zKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc291cmNlLnR5cGUgPT09IExvYWRlclJlc291cmNlLlRZUEUuSlNPTlxuICAgICAgICAgICAgJiYgZGF0YVxuICAgICAgICAgICAgJiYgZGF0YS5jYWNoZUlEXG4gICAgICAgICAgICAmJiBkYXRhLnRleHR1cmVzKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZXMgPSBkYXRhLnRleHR1cmVzO1xuICAgICAgICAgICAgdmFyIHRleHR1cmVVUkwgPSB2b2lkIDA7XG4gICAgICAgICAgICB2YXIgZmFsbGJhY2tVUkwgPSB2b2lkIDA7XG4gICAgICAgICAgICAvLyBTZWFyY2ggZm9yIGFuIGV4dGVuc2lvbiB0aGF0IGhvbGRzIG9uZSB0aGUgZm9ybWF0c1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0ZXh0dXJlcy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dHVyZSA9IHRleHR1cmVzW2ldO1xuICAgICAgICAgICAgICAgIHZhciB1cmwgPSB0ZXh0dXJlLnNyYztcbiAgICAgICAgICAgICAgICB2YXIgZm9ybWF0ID0gdGV4dHVyZS5mb3JtYXQ7XG4gICAgICAgICAgICAgICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmFsbGJhY2tVUkwgPSB1cmw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChDb21wcmVzc2VkVGV4dHVyZUxvYWRlci50ZXh0dXJlRm9ybWF0c1tmb3JtYXRdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVVUkwgPSB1cmw7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRleHR1cmVVUkwgPSB0ZXh0dXJlVVJMIHx8IGZhbGxiYWNrVVJMO1xuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGhhdmUgYSBVUkxcbiAgICAgICAgICAgIGlmICghdGV4dHVyZVVSTCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBsb2FkIGNvbXByZXNzZWQtdGV4dHVyZXMgaW4gXCIgKyByZXNvdXJjZS51cmwgKyBcIiwgbWFrZSBzdXJlIHlvdSBwcm92aWRlIGEgZmFsbGJhY2tcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGV4dHVyZVVSTCA9PT0gcmVzb3VyY2UudXJsKSB7XG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCBpbmZpbml0ZSBsb29wc1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVVJMIG9mIGNvbXByZXNzZWQgdGV4dHVyZSBjYW5ub3QgYmUgdGhlIHNhbWUgYXMgdGhlIG1hbmlmZXN0XFwncyBVUkwnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBsb2FkT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBjcm9zc09yaWdpbjogcmVzb3VyY2UuY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHJlc291cmNlLm1ldGFkYXRhLmltYWdlTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgcGFyZW50UmVzb3VyY2U6IHJlc291cmNlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gVGhlIGFwcHJvcHJpYXRlIGxvYWRlciBzaG91bGQgcmVnaXN0ZXIgdGhlIHRleHR1cmVcbiAgICAgICAgICAgIGxvYWRlci5hZGQoZGF0YS5jYWNoZUlELCB0ZXh0dXJlVVJMLCBsb2FkT3B0aW9ucywgZnVuY3Rpb24gb25Db21wcmVzc2VkVGV4dHVyZUxvYWRlZCgpIHtcbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZWN0cyB0aGUgYXZhaWxhYmxlIGNvbXByZXNzZWQgdGV4dHVyZSBleHRlbnNpb25zIG9uIHRoZSBkZXZpY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXh0ZW5zaW9ucyAtIGV4dGVuc2lvbnMgcHJvdmlkZWQgYnkgYSBXZWJHTCBjb250ZXh0XG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIENvbXByZXNzZWRUZXh0dXJlTG9hZGVyLmF1dG9EZXRlY3RFeHRlbnNpb25zID0gZnVuY3Rpb24gKGV4dGVuc2lvbnMpIHtcbiAgICAgICAgLy8gQXV0by1kZXRlY3QgV2ViR0wgY29tcHJlc3NlZC10ZXh0dXJlIGV4dGVuc2lvbnNcbiAgICAgICAgaWYgKCFleHRlbnNpb25zKSB7XG4gICAgICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICB2YXIgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnKTtcbiAgICAgICAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJHTCBub3QgYXZhaWxhYmxlIGZvciBjb21wcmVzc2VkIHRleHR1cmVzLiBTaWxlbnRseSBmYWlsaW5nLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV4dGVuc2lvbnMgPSB7XG4gICAgICAgICAgICAgICAgczN0YzogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YycpLFxuICAgICAgICAgICAgICAgIHMzdGNfc1JHQjogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y19zcmdiJyksXG4gICAgICAgICAgICAgICAgZXRjOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMnKSxcbiAgICAgICAgICAgICAgICBldGMxOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMxJyksXG4gICAgICAgICAgICAgICAgcHZydGM6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjJylcbiAgICAgICAgICAgICAgICAgICAgfHwgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjJyksXG4gICAgICAgICAgICAgICAgYXRjOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hdGMnKSxcbiAgICAgICAgICAgICAgICBhc3RjOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjJylcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgQ29tcHJlc3NlZFRleHR1cmVMb2FkZXIudGV4dHVyZUV4dGVuc2lvbnMgPSBleHRlbnNpb25zO1xuICAgICAgICBDb21wcmVzc2VkVGV4dHVyZUxvYWRlci50ZXh0dXJlRm9ybWF0cyA9IHt9O1xuICAgICAgICAvLyBBc3NpZ24gYWxsIGF2YWlsYWJsZSBjb21wcmVzc2VkLXRleHR1cmUgZm9ybWF0c1xuICAgICAgICBmb3IgKHZhciBleHRlbnNpb25OYW1lIGluIGV4dGVuc2lvbnMpIHtcbiAgICAgICAgICAgIHZhciBleHRlbnNpb24gPSBleHRlbnNpb25zW2V4dGVuc2lvbk5hbWVdO1xuICAgICAgICAgICAgaWYgKCFleHRlbnNpb24pIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oQ29tcHJlc3NlZFRleHR1cmVMb2FkZXIudGV4dHVyZUZvcm1hdHMsIE9iamVjdC5nZXRQcm90b3R5cGVPZihleHRlbnNpb24pKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENvbXByZXNzZWRUZXh0dXJlTG9hZGVyO1xufSgpKTtcblxuLyoqXG4gKiBDcmVhdGVzIGJhc2UtdGV4dHVyZXMgYW5kIHRleHR1cmVzIGZvciBlYWNoIGNvbXByZXNzZWQtdGV4dHVyZSByZXNvdXJjZSBhbmQgYWRkcyB0aGVtIGludG8gdGhlIGdsb2JhbFxuICogdGV4dHVyZSBjYWNoZS4gVGhlIGZpcnN0IHRleHR1cmUgaGFzIHR3byBJRHMgLSBgJHt1cmx9YCwgYCR7dXJsfS0xYDsgd2hpbGUgdGhlIHJlc3QgaGF2ZSBhbiBJRCBvZiB0aGVcbiAqIGZvcm0gYCR7dXJsfS1pYC5cbiAqXG4gKiBAcGFyYW0gdXJsIC0gdGhlIG9yaWdpbmFsIGFkZHJlc3Mgb2YgdGhlIHJlc291cmNlc1xuICogQHBhcmFtIHJlc291cmNlcyAtIHRoZSByZXNvdXJjZXMgYmFja2luZyB0ZXh0dXJlIGRhdGFcbiAqIEBpZ25vcmVcbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJDb21wcmVzc2VkVGV4dHVyZXModXJsLCByZXNvdXJjZXMpIHtcbiAgICBpZiAoIXJlc291cmNlcykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJlc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChyZXNvdXJjZSwgaSkge1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUocmVzb3VyY2UsIHtcbiAgICAgICAgICAgIG1pcG1hcDogTUlQTUFQX01PREVTLk9GRixcbiAgICAgICAgICAgIGFscGhhTW9kZTogQUxQSEFfTU9ERVMuTk9fUFJFTVVMVElQTElFRF9BTFBIQVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGNhY2hlSUQgPSB1cmwgKyBcIi1cIiArIChpICsgMSk7XG4gICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUoYmFzZVRleHR1cmUsIGNhY2hlSUQpO1xuICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUobmV3IFRleHR1cmUoYmFzZVRleHR1cmUpLCBjYWNoZUlEKTtcbiAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUoYmFzZVRleHR1cmUsIHVybCk7XG4gICAgICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUobmV3IFRleHR1cmUoYmFzZVRleHR1cmUpLCB1cmwpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbnZhciBfYSQxLCBfYjtcbi8vIFNldCBERFMgZmlsZXMgdG8gYmUgbG9hZGVkIGFzIGFuIEFycmF5QnVmZmVyXG5Mb2FkZXJSZXNvdXJjZS5zZXRFeHRlbnNpb25YaHJUeXBlKCdkZHMnLCBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIpO1xudmFyIEREU19NQUdJQ19TSVpFID0gNDtcbnZhciBERFNfSEVBREVSX1NJWkUgPSAxMjQ7XG52YXIgRERTX0hFQURFUl9QRl9TSVpFID0gMzI7XG52YXIgRERTX0hFQURFUl9EWDEwX1NJWkUgPSAyMDtcbi8vIEREUyBmaWxlIGZvcm1hdCBtYWdpYyB3b3JkXG52YXIgRERTX01BR0lDID0gMHgyMDUzNDQ0NDtcbi8qKlxuICogRFdPUkQgb2Zmc2V0cyBvZiB0aGUgRERTIGZpbGUgaGVhZGVyIGZpZWxkcyAocmVsYXRpdmUgdG8gZmlsZSBzdGFydCkuXG4gKlxuICogQGlnbm9yZVxuICovXG52YXIgRERTX0ZJRUxEUyA9IHtcbiAgICBTSVpFOiAxLFxuICAgIEZMQUdTOiAyLFxuICAgIEhFSUdIVDogMyxcbiAgICBXSURUSDogNCxcbiAgICBNSVBNQVBfQ09VTlQ6IDcsXG4gICAgUElYRUxfRk9STUFUOiAxOSxcbn07XG4vKipcbiAqIERXT1JEIG9mZnNldHMgb2YgdGhlIEREUyBQSVhFTF9GT1JNQVQgZmllbGRzLlxuICpcbiAqIEBpZ25vcmVcbiAqL1xudmFyIEREU19QRl9GSUVMRFMgPSB7XG4gICAgU0laRTogMCxcbiAgICBGTEFHUzogMSxcbiAgICBGT1VSQ0M6IDIsXG4gICAgUkdCX0JJVENPVU5UOiAzLFxuICAgIFJfQklUX01BU0s6IDQsXG4gICAgR19CSVRfTUFTSzogNSxcbiAgICBCX0JJVF9NQVNLOiA2LFxuICAgIEFfQklUX01BU0s6IDdcbn07XG4vKipcbiAqIERXT1JEIG9mZnNldHMgb2YgdGhlIEREU19IRUFERVJfRFgxMCBmaWVsZHMuXG4gKlxuICogQGlnbm9yZVxuICovXG52YXIgRERTX0RYMTBfRklFTERTID0ge1xuICAgIERYR0lfRk9STUFUOiAwLFxuICAgIFJFU09VUkNFX0RJTUVOU0lPTjogMSxcbiAgICBNSVNDX0ZMQUc6IDIsXG4gICAgQVJSQVlfU0laRTogMyxcbiAgICBNSVNDX0ZMQUdTMjogNFxufTtcbi8qKlxuICogQHNlZSBodHRwczovL2RvY3MubWljcm9zb2Z0LmNvbS9lbi11cy93aW5kb3dzL3dpbjMyL2FwaS9keGdpZm9ybWF0L25lLWR4Z2lmb3JtYXQtZHhnaV9mb3JtYXRcbiAqIEBpZ25vcmVcbiAqL1xuLy8gVGhpcyBpcyB3YXkgb3Zlci1ibG93biBmb3IgdXMhIExlbmQgdXMgYSBoYW5kLCBhbmQgcmVtb3ZlIHRoZSBvbmVzIHRoYXQgYXJlbid0IHVzZWQgKGJ1dCBzZXQgdGhlIHJlbWFpbmluZ1xuLy8gb25lcyB0byB0aGVpciBjb3JyZWN0IHZhbHVlKVxudmFyIERYR0lfRk9STUFUO1xuKGZ1bmN0aW9uIChEWEdJX0ZPUk1BVCkge1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfVU5LTk9XTlwiXSA9IDBdID0gXCJEWEdJX0ZPUk1BVF9VTktOT1dOXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJBMzJfVFlQRUxFU1NcIl0gPSAxXSA9IFwiRFhHSV9GT1JNQVRfUjMyRzMyQjMyQTMyX1RZUEVMRVNTXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJBMzJfRkxPQVRcIl0gPSAyXSA9IFwiRFhHSV9GT1JNQVRfUjMyRzMyQjMyQTMyX0ZMT0FUXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJBMzJfVUlOVFwiXSA9IDNdID0gXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJBMzJfVUlOVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjMyRzMyQjMyQTMyX1NJTlRcIl0gPSA0XSA9IFwiRFhHSV9GT1JNQVRfUjMyRzMyQjMyQTMyX1NJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IzMkczMkIzMl9UWVBFTEVTU1wiXSA9IDVdID0gXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJfVFlQRUxFU1NcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IzMkczMkIzMl9GTE9BVFwiXSA9IDZdID0gXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJfRkxPQVRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IzMkczMkIzMl9VSU5UXCJdID0gN10gPSBcIkRYR0lfRk9STUFUX1IzMkczMkIzMl9VSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJfU0lOVFwiXSA9IDhdID0gXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJfU0lOVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjE2RzE2QjE2QTE2X1RZUEVMRVNTXCJdID0gOV0gPSBcIkRYR0lfRk9STUFUX1IxNkcxNkIxNkExNl9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjE2RzE2QjE2QTE2X0ZMT0FUXCJdID0gMTBdID0gXCJEWEdJX0ZPUk1BVF9SMTZHMTZCMTZBMTZfRkxPQVRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxNkcxNkIxNkExNl9VTk9STVwiXSA9IDExXSA9IFwiRFhHSV9GT1JNQVRfUjE2RzE2QjE2QTE2X1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMTZHMTZCMTZBMTZfVUlOVFwiXSA9IDEyXSA9IFwiRFhHSV9GT1JNQVRfUjE2RzE2QjE2QTE2X1VJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxNkcxNkIxNkExNl9TTk9STVwiXSA9IDEzXSA9IFwiRFhHSV9GT1JNQVRfUjE2RzE2QjE2QTE2X1NOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMTZHMTZCMTZBMTZfU0lOVFwiXSA9IDE0XSA9IFwiRFhHSV9GT1JNQVRfUjE2RzE2QjE2QTE2X1NJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IzMkczMl9UWVBFTEVTU1wiXSA9IDE1XSA9IFwiRFhHSV9GT1JNQVRfUjMyRzMyX1RZUEVMRVNTXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMzJHMzJfRkxPQVRcIl0gPSAxNl0gPSBcIkRYR0lfRk9STUFUX1IzMkczMl9GTE9BVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjMyRzMyX1VJTlRcIl0gPSAxN10gPSBcIkRYR0lfRk9STUFUX1IzMkczMl9VSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMzJHMzJfU0lOVFwiXSA9IDE4XSA9IFwiRFhHSV9GT1JNQVRfUjMyRzMyX1NJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IzMkc4WDI0X1RZUEVMRVNTXCJdID0gMTldID0gXCJEWEdJX0ZPUk1BVF9SMzJHOFgyNF9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfRDMyX0ZMT0FUX1M4WDI0X1VJTlRcIl0gPSAyMF0gPSBcIkRYR0lfRk9STUFUX0QzMl9GTE9BVF9TOFgyNF9VSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMzJfRkxPQVRfWDhYMjRfVFlQRUxFU1NcIl0gPSAyMV0gPSBcIkRYR0lfRk9STUFUX1IzMl9GTE9BVF9YOFgyNF9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfWDMyX1RZUEVMRVNTX0c4WDI0X1VJTlRcIl0gPSAyMl0gPSBcIkRYR0lfRk9STUFUX1gzMl9UWVBFTEVTU19HOFgyNF9VSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMTBHMTBCMTBBMl9UWVBFTEVTU1wiXSA9IDIzXSA9IFwiRFhHSV9GT1JNQVRfUjEwRzEwQjEwQTJfVFlQRUxFU1NcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxMEcxMEIxMEEyX1VOT1JNXCJdID0gMjRdID0gXCJEWEdJX0ZPUk1BVF9SMTBHMTBCMTBBMl9VTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjEwRzEwQjEwQTJfVUlOVFwiXSA9IDI1XSA9IFwiRFhHSV9GT1JNQVRfUjEwRzEwQjEwQTJfVUlOVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjExRzExQjEwX0ZMT0FUXCJdID0gMjZdID0gXCJEWEdJX0ZPUk1BVF9SMTFHMTFCMTBfRkxPQVRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1I4RzhCOEE4X1RZUEVMRVNTXCJdID0gMjddID0gXCJEWEdJX0ZPUk1BVF9SOEc4QjhBOF9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjhHOEI4QThfVU5PUk1cIl0gPSAyOF0gPSBcIkRYR0lfRk9STUFUX1I4RzhCOEE4X1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SOEc4QjhBOF9VTk9STV9TUkdCXCJdID0gMjldID0gXCJEWEdJX0ZPUk1BVF9SOEc4QjhBOF9VTk9STV9TUkdCXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SOEc4QjhBOF9VSU5UXCJdID0gMzBdID0gXCJEWEdJX0ZPUk1BVF9SOEc4QjhBOF9VSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SOEc4QjhBOF9TTk9STVwiXSA9IDMxXSA9IFwiRFhHSV9GT1JNQVRfUjhHOEI4QThfU05PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1I4RzhCOEE4X1NJTlRcIl0gPSAzMl0gPSBcIkRYR0lfRk9STUFUX1I4RzhCOEE4X1NJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxNkcxNl9UWVBFTEVTU1wiXSA9IDMzXSA9IFwiRFhHSV9GT1JNQVRfUjE2RzE2X1RZUEVMRVNTXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMTZHMTZfRkxPQVRcIl0gPSAzNF0gPSBcIkRYR0lfRk9STUFUX1IxNkcxNl9GTE9BVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjE2RzE2X1VOT1JNXCJdID0gMzVdID0gXCJEWEdJX0ZPUk1BVF9SMTZHMTZfVU5PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxNkcxNl9VSU5UXCJdID0gMzZdID0gXCJEWEdJX0ZPUk1BVF9SMTZHMTZfVUlOVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjE2RzE2X1NOT1JNXCJdID0gMzddID0gXCJEWEdJX0ZPUk1BVF9SMTZHMTZfU05PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxNkcxNl9TSU5UXCJdID0gMzhdID0gXCJEWEdJX0ZPUk1BVF9SMTZHMTZfU0lOVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjMyX1RZUEVMRVNTXCJdID0gMzldID0gXCJEWEdJX0ZPUk1BVF9SMzJfVFlQRUxFU1NcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0QzMl9GTE9BVFwiXSA9IDQwXSA9IFwiRFhHSV9GT1JNQVRfRDMyX0ZMT0FUXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMzJfRkxPQVRcIl0gPSA0MV0gPSBcIkRYR0lfRk9STUFUX1IzMl9GTE9BVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjMyX1VJTlRcIl0gPSA0Ml0gPSBcIkRYR0lfRk9STUFUX1IzMl9VSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMzJfU0lOVFwiXSA9IDQzXSA9IFwiRFhHSV9GT1JNQVRfUjMyX1NJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IyNEc4X1RZUEVMRVNTXCJdID0gNDRdID0gXCJEWEdJX0ZPUk1BVF9SMjRHOF9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfRDI0X1VOT1JNX1M4X1VJTlRcIl0gPSA0NV0gPSBcIkRYR0lfRk9STUFUX0QyNF9VTk9STV9TOF9VSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMjRfVU5PUk1fWDhfVFlQRUxFU1NcIl0gPSA0Nl0gPSBcIkRYR0lfRk9STUFUX1IyNF9VTk9STV9YOF9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfWDI0X1RZUEVMRVNTX0c4X1VJTlRcIl0gPSA0N10gPSBcIkRYR0lfRk9STUFUX1gyNF9UWVBFTEVTU19HOF9VSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SOEc4X1RZUEVMRVNTXCJdID0gNDhdID0gXCJEWEdJX0ZPUk1BVF9SOEc4X1RZUEVMRVNTXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SOEc4X1VOT1JNXCJdID0gNDldID0gXCJEWEdJX0ZPUk1BVF9SOEc4X1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SOEc4X1VJTlRcIl0gPSA1MF0gPSBcIkRYR0lfRk9STUFUX1I4RzhfVUlOVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjhHOF9TTk9STVwiXSA9IDUxXSA9IFwiRFhHSV9GT1JNQVRfUjhHOF9TTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjhHOF9TSU5UXCJdID0gNTJdID0gXCJEWEdJX0ZPUk1BVF9SOEc4X1NJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxNl9UWVBFTEVTU1wiXSA9IDUzXSA9IFwiRFhHSV9GT1JNQVRfUjE2X1RZUEVMRVNTXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMTZfRkxPQVRcIl0gPSA1NF0gPSBcIkRYR0lfRk9STUFUX1IxNl9GTE9BVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfRDE2X1VOT1JNXCJdID0gNTVdID0gXCJEWEdJX0ZPUk1BVF9EMTZfVU5PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxNl9VTk9STVwiXSA9IDU2XSA9IFwiRFhHSV9GT1JNQVRfUjE2X1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMTZfVUlOVFwiXSA9IDU3XSA9IFwiRFhHSV9GT1JNQVRfUjE2X1VJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxNl9TTk9STVwiXSA9IDU4XSA9IFwiRFhHSV9GT1JNQVRfUjE2X1NOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMTZfU0lOVFwiXSA9IDU5XSA9IFwiRFhHSV9GT1JNQVRfUjE2X1NJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1I4X1RZUEVMRVNTXCJdID0gNjBdID0gXCJEWEdJX0ZPUk1BVF9SOF9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjhfVU5PUk1cIl0gPSA2MV0gPSBcIkRYR0lfRk9STUFUX1I4X1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SOF9VSU5UXCJdID0gNjJdID0gXCJEWEdJX0ZPUk1BVF9SOF9VSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SOF9TTk9STVwiXSA9IDYzXSA9IFwiRFhHSV9GT1JNQVRfUjhfU05PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1I4X1NJTlRcIl0gPSA2NF0gPSBcIkRYR0lfRk9STUFUX1I4X1NJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0E4X1VOT1JNXCJdID0gNjVdID0gXCJEWEdJX0ZPUk1BVF9BOF9VTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjFfVU5PUk1cIl0gPSA2Nl0gPSBcIkRYR0lfRk9STUFUX1IxX1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SOUc5QjlFNV9TSEFSRURFWFBcIl0gPSA2N10gPSBcIkRYR0lfRk9STUFUX1I5RzlCOUU1X1NIQVJFREVYUFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjhHOF9COEc4X1VOT1JNXCJdID0gNjhdID0gXCJEWEdJX0ZPUk1BVF9SOEc4X0I4RzhfVU5PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0c4UjhfRzhCOF9VTk9STVwiXSA9IDY5XSA9IFwiRFhHSV9GT1JNQVRfRzhSOF9HOEI4X1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9CQzFfVFlQRUxFU1NcIl0gPSA3MF0gPSBcIkRYR0lfRk9STUFUX0JDMV9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQkMxX1VOT1JNXCJdID0gNzFdID0gXCJEWEdJX0ZPUk1BVF9CQzFfVU5PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0JDMV9VTk9STV9TUkdCXCJdID0gNzJdID0gXCJEWEdJX0ZPUk1BVF9CQzFfVU5PUk1fU1JHQlwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQkMyX1RZUEVMRVNTXCJdID0gNzNdID0gXCJEWEdJX0ZPUk1BVF9CQzJfVFlQRUxFU1NcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0JDMl9VTk9STVwiXSA9IDc0XSA9IFwiRFhHSV9GT1JNQVRfQkMyX1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9CQzJfVU5PUk1fU1JHQlwiXSA9IDc1XSA9IFwiRFhHSV9GT1JNQVRfQkMyX1VOT1JNX1NSR0JcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0JDM19UWVBFTEVTU1wiXSA9IDc2XSA9IFwiRFhHSV9GT1JNQVRfQkMzX1RZUEVMRVNTXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9CQzNfVU5PUk1cIl0gPSA3N10gPSBcIkRYR0lfRk9STUFUX0JDM19VTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQkMzX1VOT1JNX1NSR0JcIl0gPSA3OF0gPSBcIkRYR0lfRk9STUFUX0JDM19VTk9STV9TUkdCXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9CQzRfVFlQRUxFU1NcIl0gPSA3OV0gPSBcIkRYR0lfRk9STUFUX0JDNF9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQkM0X1VOT1JNXCJdID0gODBdID0gXCJEWEdJX0ZPUk1BVF9CQzRfVU5PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0JDNF9TTk9STVwiXSA9IDgxXSA9IFwiRFhHSV9GT1JNQVRfQkM0X1NOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9CQzVfVFlQRUxFU1NcIl0gPSA4Ml0gPSBcIkRYR0lfRk9STUFUX0JDNV9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQkM1X1VOT1JNXCJdID0gODNdID0gXCJEWEdJX0ZPUk1BVF9CQzVfVU5PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0JDNV9TTk9STVwiXSA9IDg0XSA9IFwiRFhHSV9GT1JNQVRfQkM1X1NOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9CNUc2UjVfVU5PUk1cIl0gPSA4NV0gPSBcIkRYR0lfRk9STUFUX0I1RzZSNV9VTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQjVHNVI1QTFfVU5PUk1cIl0gPSA4Nl0gPSBcIkRYR0lfRk9STUFUX0I1RzVSNUExX1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9COEc4UjhBOF9VTk9STVwiXSA9IDg3XSA9IFwiRFhHSV9GT1JNQVRfQjhHOFI4QThfVU5PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0I4RzhSOFg4X1VOT1JNXCJdID0gODhdID0gXCJEWEdJX0ZPUk1BVF9COEc4UjhYOF9VTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjEwRzEwQjEwX1hSX0JJQVNfQTJfVU5PUk1cIl0gPSA4OV0gPSBcIkRYR0lfRk9STUFUX1IxMEcxMEIxMF9YUl9CSUFTX0EyX1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9COEc4UjhBOF9UWVBFTEVTU1wiXSA9IDkwXSA9IFwiRFhHSV9GT1JNQVRfQjhHOFI4QThfVFlQRUxFU1NcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0I4RzhSOEE4X1VOT1JNX1NSR0JcIl0gPSA5MV0gPSBcIkRYR0lfRk9STUFUX0I4RzhSOEE4X1VOT1JNX1NSR0JcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0I4RzhSOFg4X1RZUEVMRVNTXCJdID0gOTJdID0gXCJEWEdJX0ZPUk1BVF9COEc4UjhYOF9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQjhHOFI4WDhfVU5PUk1fU1JHQlwiXSA9IDkzXSA9IFwiRFhHSV9GT1JNQVRfQjhHOFI4WDhfVU5PUk1fU1JHQlwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQkM2SF9UWVBFTEVTU1wiXSA9IDk0XSA9IFwiRFhHSV9GT1JNQVRfQkM2SF9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQkM2SF9VRjE2XCJdID0gOTVdID0gXCJEWEdJX0ZPUk1BVF9CQzZIX1VGMTZcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0JDNkhfU0YxNlwiXSA9IDk2XSA9IFwiRFhHSV9GT1JNQVRfQkM2SF9TRjE2XCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9CQzdfVFlQRUxFU1NcIl0gPSA5N10gPSBcIkRYR0lfRk9STUFUX0JDN19UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQkM3X1VOT1JNXCJdID0gOThdID0gXCJEWEdJX0ZPUk1BVF9CQzdfVU5PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0JDN19VTk9STV9TUkdCXCJdID0gOTldID0gXCJEWEdJX0ZPUk1BVF9CQzdfVU5PUk1fU1JHQlwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQVlVVlwiXSA9IDEwMF0gPSBcIkRYR0lfRk9STUFUX0FZVVZcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1k0MTBcIl0gPSAxMDFdID0gXCJEWEdJX0ZPUk1BVF9ZNDEwXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9ZNDE2XCJdID0gMTAyXSA9IFwiRFhHSV9GT1JNQVRfWTQxNlwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfTlYxMlwiXSA9IDEwM10gPSBcIkRYR0lfRk9STUFUX05WMTJcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1AwMTBcIl0gPSAxMDRdID0gXCJEWEdJX0ZPUk1BVF9QMDEwXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9QMDE2XCJdID0gMTA1XSA9IFwiRFhHSV9GT1JNQVRfUDAxNlwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfNDIwX09QQVFVRVwiXSA9IDEwNl0gPSBcIkRYR0lfRk9STUFUXzQyMF9PUEFRVUVcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1lVWTJcIl0gPSAxMDddID0gXCJEWEdJX0ZPUk1BVF9ZVVkyXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9ZMjEwXCJdID0gMTA4XSA9IFwiRFhHSV9GT1JNQVRfWTIxMFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfWTIxNlwiXSA9IDEwOV0gPSBcIkRYR0lfRk9STUFUX1kyMTZcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX05WMTFcIl0gPSAxMTBdID0gXCJEWEdJX0ZPUk1BVF9OVjExXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9BSTQ0XCJdID0gMTExXSA9IFwiRFhHSV9GT1JNQVRfQUk0NFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfSUE0NFwiXSA9IDExMl0gPSBcIkRYR0lfRk9STUFUX0lBNDRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1A4XCJdID0gMTEzXSA9IFwiRFhHSV9GT1JNQVRfUDhcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0E4UDhcIl0gPSAxMTRdID0gXCJEWEdJX0ZPUk1BVF9BOFA4XCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9CNEc0UjRBNF9VTk9STVwiXSA9IDExNV0gPSBcIkRYR0lfRk9STUFUX0I0RzRSNEE0X1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9QMjA4XCJdID0gMTE2XSA9IFwiRFhHSV9GT1JNQVRfUDIwOFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfVjIwOFwiXSA9IDExN10gPSBcIkRYR0lfRk9STUFUX1YyMDhcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1Y0MDhcIl0gPSAxMThdID0gXCJEWEdJX0ZPUk1BVF9WNDA4XCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9TQU1QTEVSX0ZFRURCQUNLX01JTl9NSVBfT1BBUVVFXCJdID0gMTE5XSA9IFwiRFhHSV9GT1JNQVRfU0FNUExFUl9GRUVEQkFDS19NSU5fTUlQX09QQVFVRVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfU0FNUExFUl9GRUVEQkFDS19NSVBfUkVHSU9OX1VTRURfT1BBUVVFXCJdID0gMTIwXSA9IFwiRFhHSV9GT1JNQVRfU0FNUExFUl9GRUVEQkFDS19NSVBfUkVHSU9OX1VTRURfT1BBUVVFXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9GT1JDRV9VSU5UXCJdID0gMTIxXSA9IFwiRFhHSV9GT1JNQVRfRk9SQ0VfVUlOVFwiO1xufSkoRFhHSV9GT1JNQVQgfHwgKERYR0lfRk9STUFUID0ge30pKTtcbi8qKlxuICogUG9zc2libGUgdmFsdWVzIG9mIHRoZSBmaWVsZCB7QGxpbmsgRERTX0RYMTBfRklFTERTLlJFU09VUkNFX0RJTUVOU0lPTn1cbiAqXG4gKiBAaWdub3JlXG4gKi9cbnZhciBEM0QxMF9SRVNPVVJDRV9ESU1FTlNJT047XG4oZnVuY3Rpb24gKEQzRDEwX1JFU09VUkNFX0RJTUVOU0lPTikge1xuICAgIEQzRDEwX1JFU09VUkNFX0RJTUVOU0lPTltEM0QxMF9SRVNPVVJDRV9ESU1FTlNJT05bXCJERFNfRElNRU5TSU9OX1RFWFRVUkUxRFwiXSA9IDJdID0gXCJERFNfRElNRU5TSU9OX1RFWFRVUkUxRFwiO1xuICAgIEQzRDEwX1JFU09VUkNFX0RJTUVOU0lPTltEM0QxMF9SRVNPVVJDRV9ESU1FTlNJT05bXCJERFNfRElNRU5TSU9OX1RFWFRVUkUyRFwiXSA9IDNdID0gXCJERFNfRElNRU5TSU9OX1RFWFRVUkUyRFwiO1xuICAgIEQzRDEwX1JFU09VUkNFX0RJTUVOU0lPTltEM0QxMF9SRVNPVVJDRV9ESU1FTlNJT05bXCJERFNfRElNRU5TSU9OX1RFWFRVUkUzRFwiXSA9IDZdID0gXCJERFNfRElNRU5TSU9OX1RFWFRVUkUzRFwiO1xufSkoRDNEMTBfUkVTT1VSQ0VfRElNRU5TSU9OIHx8IChEM0QxMF9SRVNPVVJDRV9ESU1FTlNJT04gPSB7fSkpO1xudmFyIFBGX0ZMQUdTID0gMTtcbi8vIFBJWEVMX0ZPUk1BVCBmbGFnc1xudmFyIEREUEZfQUxQSEEgPSAweDI7XG52YXIgRERQRl9GT1VSQ0MgPSAweDQ7XG52YXIgRERQRl9SR0IgPSAweDQwO1xudmFyIEREUEZfWVVWID0gMHgyMDA7XG52YXIgRERQRl9MVU1JTkFOQ0UgPSAweDIwMDAwO1xuLy8gRm91ciBjaGFyYWN0ZXIgY29kZXMgZm9yIERYVG4gZm9ybWF0c1xudmFyIEZPVVJDQ19EWFQxID0gMHgzMTU0NTg0NDtcbnZhciBGT1VSQ0NfRFhUMyA9IDB4MzM1NDU4NDQ7XG52YXIgRk9VUkNDX0RYVDUgPSAweDM1NTQ1ODQ0O1xudmFyIEZPVVJDQ19EWDEwID0gMHgzMDMxNTg0NDtcbi8vIEN1YmVtYXAgdGV4dHVyZSBmbGFnIChmb3IgRERTX0RYMTBfRklFTERTLk1JU0NfRkxBRylcbnZhciBERFNfUkVTT1VSQ0VfTUlTQ19URVhUVVJFQ1VCRSA9IDB4NDtcbi8qKlxuICogTWFwcyBgRk9VUkNDXypgIGZvcm1hdHMgdG8gaW50ZXJuYWwgZm9ybWF0cyAoc2VlIHtAbGluayBQSVhJLklOVEVSTkFMX0ZPUk1BVFN9KS5cbiAqXG4gKiBAaWdub3JlXG4gKi9cbnZhciBGT1VSQ0NfVE9fRk9STUFUID0gKF9hJDEgPSB7fSxcbiAgICBfYSQxW0ZPVVJDQ19EWFQxXSA9IElOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUMV9FWFQsXG4gICAgX2EkMVtGT1VSQ0NfRFhUM10gPSBJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDNfRVhULFxuICAgIF9hJDFbRk9VUkNDX0RYVDVdID0gSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1X0VYVCxcbiAgICBfYSQxKTtcbi8qKlxuICogTWFwcyB7QGxpbmsgRFhHSV9GT1JNQVR9IHRvIHR5cGVzL2ludGVybmFsLWZvcm1hdHMgKHNlZSB7QGxpbmsgUElYSS5UWVBFU30sIHtAbGluayBQSVhJLklOVEVSTkFMX0ZPUk1BVFN9KVxuICpcbiAqIEBpZ25vcmVcbiAqL1xudmFyIERYR0lfVE9fRk9STUFUID0gKF9iID0ge30sXG4gICAgLy8gV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNcbiAgICBfYltEWEdJX0ZPUk1BVC5EWEdJX0ZPUk1BVF9CQzFfVFlQRUxFU1NdID0gSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQxX0VYVCxcbiAgICBfYltEWEdJX0ZPUk1BVC5EWEdJX0ZPUk1BVF9CQzFfVU5PUk1dID0gSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQxX0VYVCxcbiAgICBfYltEWEdJX0ZPUk1BVC5EWEdJX0ZPUk1BVF9CQzJfVFlQRUxFU1NdID0gSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQzX0VYVCxcbiAgICBfYltEWEdJX0ZPUk1BVC5EWEdJX0ZPUk1BVF9CQzJfVU5PUk1dID0gSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQzX0VYVCxcbiAgICBfYltEWEdJX0ZPUk1BVC5EWEdJX0ZPUk1BVF9CQzNfVFlQRUxFU1NdID0gSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1X0VYVCxcbiAgICBfYltEWEdJX0ZPUk1BVC5EWEdJX0ZPUk1BVF9CQzNfVU5PUk1dID0gSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1X0VYVCxcbiAgICAvLyBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y19zcmdiXG4gICAgX2JbRFhHSV9GT1JNQVQuRFhHSV9GT1JNQVRfQkMxX1VOT1JNX1NSR0JdID0gSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQxX0VYVCxcbiAgICBfYltEWEdJX0ZPUk1BVC5EWEdJX0ZPUk1BVF9CQzJfVU5PUk1fU1JHQl0gPSBJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDNfRVhULFxuICAgIF9iW0RYR0lfRk9STUFULkRYR0lfRk9STUFUX0JDM19VTk9STV9TUkdCXSA9IElOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUNV9FWFQsXG4gICAgX2IpO1xuLyoqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBQSVhJLklMb2FkZXJQbHVnaW5cbiAqIEBzZWUgaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvd2luZG93cy93aW4zMi9kaXJlY3QzZGRkcy9keC1ncmFwaGljcy1kZHMtcGd1aWRlXG4gKi9cbnZhciBERFNMb2FkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRERTTG9hZGVyKCkge1xuICAgIH1cbiAgICBERFNMb2FkZXIudXNlID0gZnVuY3Rpb24gKHJlc291cmNlLCBuZXh0KSB7XG4gICAgICAgIGlmIChyZXNvdXJjZS5leHRlbnNpb24gPT09ICdkZHMnICYmIHJlc291cmNlLmRhdGEpIHtcbiAgICAgICAgICAgIHJlZ2lzdGVyQ29tcHJlc3NlZFRleHR1cmVzKHJlc291cmNlLm5hbWUgfHwgcmVzb3VyY2UudXJsLCBERFNMb2FkZXIucGFyc2UocmVzb3VyY2UuZGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIG5leHQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhcnNlcyB0aGUgRERTIGZpbGUgaGVhZGVyLCBnZW5lcmF0ZXMgYmFzZS10ZXh0dXJlcywgYW5kIHB1dHMgdGhlbSBpbnRvIHRoZSB0ZXh0dXJlXG4gICAgICogY2FjaGUuXG4gICAgICovXG4gICAgRERTTG9hZGVyLnBhcnNlID0gZnVuY3Rpb24gKGFycmF5QnVmZmVyKSB7XG4gICAgICAgIHZhciBkYXRhID0gbmV3IFVpbnQzMkFycmF5KGFycmF5QnVmZmVyKTtcbiAgICAgICAgdmFyIG1hZ2ljV29yZCA9IGRhdGFbMF07XG4gICAgICAgIGlmIChtYWdpY1dvcmQgIT09IEREU19NQUdJQykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEREUyBmaWxlIG1hZ2ljIHdvcmQnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaGVhZGVyID0gbmV3IFVpbnQzMkFycmF5KGFycmF5QnVmZmVyLCAwLCBERFNfSEVBREVSX1NJWkUgLyBVaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCk7XG4gICAgICAgIC8vIEREUyBoZWFkZXIgZmllbGRzXG4gICAgICAgIHZhciBoZWlnaHQgPSBoZWFkZXJbRERTX0ZJRUxEUy5IRUlHSFRdO1xuICAgICAgICB2YXIgd2lkdGggPSBoZWFkZXJbRERTX0ZJRUxEUy5XSURUSF07XG4gICAgICAgIHZhciBtaXBtYXBDb3VudCA9IGhlYWRlcltERFNfRklFTERTLk1JUE1BUF9DT1VOVF07XG4gICAgICAgIC8vIFBJWEVMX0ZPUk1BVCBmaWVsZHNcbiAgICAgICAgdmFyIHBpeGVsRm9ybWF0ID0gbmV3IFVpbnQzMkFycmF5KGFycmF5QnVmZmVyLCBERFNfRklFTERTLlBJWEVMX0ZPUk1BVCAqIFVpbnQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULCBERFNfSEVBREVSX1BGX1NJWkUgLyBVaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCk7XG4gICAgICAgIHZhciBmb3JtYXRGbGFncyA9IHBpeGVsRm9ybWF0W1BGX0ZMQUdTXTtcbiAgICAgICAgLy8gRmlsZSBjb250YWlucyBjb21wcmVzc2VkIHRleHR1cmUocylcbiAgICAgICAgaWYgKGZvcm1hdEZsYWdzICYgRERQRl9GT1VSQ0MpIHtcbiAgICAgICAgICAgIHZhciBmb3VyQ0MgPSBwaXhlbEZvcm1hdFtERFNfUEZfRklFTERTLkZPVVJDQ107XG4gICAgICAgICAgICAvLyBGaWxlIGNvbnRhaW5zIG9uZSBEWFRuIGNvbXByZXNzZWQgdGV4dHVyZVxuICAgICAgICAgICAgaWYgKGZvdXJDQyAhPT0gRk9VUkNDX0RYMTApIHtcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJuYWxGb3JtYXRfMSA9IEZPVVJDQ19UT19GT1JNQVRbZm91ckNDXTtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YU9mZnNldF8xID0gRERTX01BR0lDX1NJWkUgKyBERFNfSEVBREVSX1NJWkU7XG4gICAgICAgICAgICAgICAgdmFyIHRleERhdGEgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldF8xKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVzb3VyY2UgPSBuZXcgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZSh0ZXhEYXRhLCB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogaW50ZXJuYWxGb3JtYXRfMSxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWxzOiBtaXBtYXBDb3VudCAvLyBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlIHdpbGwgc2VwYXJhdGUgdGhlIGxldmVsQnVmZmVycyBmb3IgdXMhXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtyZXNvdXJjZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGT1VSQ0NfRFgxMCBpbmRpY2F0ZXMgdGhlcmUgaXMgYSAyMC1ieXRlIEREU19IRUFERVJfRFgxMCBhZnRlciBERFNfSEVBREVSXG4gICAgICAgICAgICB2YXIgZHgxME9mZnNldCA9IEREU19NQUdJQ19TSVpFICsgRERTX0hFQURFUl9TSVpFO1xuICAgICAgICAgICAgdmFyIGR4MTBIZWFkZXIgPSBuZXcgVWludDMyQXJyYXkoZGF0YS5idWZmZXIsIGR4MTBPZmZzZXQsIEREU19IRUFERVJfRFgxMF9TSVpFIC8gVWludDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQpO1xuICAgICAgICAgICAgdmFyIGR4Z2lGb3JtYXQgPSBkeDEwSGVhZGVyW0REU19EWDEwX0ZJRUxEUy5EWEdJX0ZPUk1BVF07XG4gICAgICAgICAgICB2YXIgcmVzb3VyY2VEaW1lbnNpb24gPSBkeDEwSGVhZGVyW0REU19EWDEwX0ZJRUxEUy5SRVNPVVJDRV9ESU1FTlNJT05dO1xuICAgICAgICAgICAgdmFyIG1pc2NGbGFnID0gZHgxMEhlYWRlcltERFNfRFgxMF9GSUVMRFMuTUlTQ19GTEFHXTtcbiAgICAgICAgICAgIHZhciBhcnJheVNpemUgPSBkeDEwSGVhZGVyW0REU19EWDEwX0ZJRUxEUy5BUlJBWV9TSVpFXTtcbiAgICAgICAgICAgIC8vIE1hcCBkeGdpRm9ybWF0IHRvIFBJWEkuSU5URVJOQUxfRk9STUFUU1xuICAgICAgICAgICAgdmFyIGludGVybmFsRm9ybWF0XzIgPSBEWEdJX1RPX0ZPUk1BVFtkeGdpRm9ybWF0XTtcbiAgICAgICAgICAgIGlmIChpbnRlcm5hbEZvcm1hdF8yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJERFNMb2FkZXIgY2Fubm90IHBhcnNlIHRleHR1cmUgZGF0YSB3aXRoIERYR0kgZm9ybWF0IFwiICsgZHhnaUZvcm1hdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWlzY0ZsYWcgPT09IEREU19SRVNPVVJDRV9NSVNDX1RFWFRVUkVDVUJFKSB7XG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IEFueWJvZHkgZXhjaXRlZCBhYm91dCBjdWJlbWFwIGNvbXByZXNzZWQgdGV4dHVyZXM/XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdERFNMb2FkZXIgZG9lcyBub3Qgc3VwcG9ydCBjdWJlbWFwIHRleHR1cmVzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzb3VyY2VEaW1lbnNpb24gPT09IEQzRDEwX1JFU09VUkNFX0RJTUVOU0lPTi5ERFNfRElNRU5TSU9OX1RFWFRVUkUzRCkge1xuICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBBbnlib2R5IGV4Y2l0ZWQgYWJvdXQgM0QgY29tcHJlc3NlZCB0ZXh0dXJlcz9cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0REU0xvYWRlciBkb2VzIG5vdCBzdXBwb3J0ZWQgM0QgdGV4dHVyZSBkYXRhJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBVaW50OEFycmF5IGJ1ZmZlcnMgb2YgaW1hZ2UgZGF0YSwgaW5jbHVkaW5nIGFsbCBtaXBtYXAgbGV2ZWxzIGluIGVhY2ggaW1hZ2VcbiAgICAgICAgICAgIHZhciBpbWFnZUJ1ZmZlcnMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgIHZhciBkYXRhT2Zmc2V0ID0gRERTX01BR0lDX1NJWkVcbiAgICAgICAgICAgICAgICArIEREU19IRUFERVJfU0laRVxuICAgICAgICAgICAgICAgICsgRERTX0hFQURFUl9EWDEwX1NJWkU7XG4gICAgICAgICAgICBpZiAoYXJyYXlTaXplID09PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gTm8gbmVlZCBib3RoZXJpbmcgd2l0aCB0aGUgaW1hZ2VTaXplIGNhbGN1bGF0aW9uIVxuICAgICAgICAgICAgICAgIGltYWdlQnVmZmVycy5wdXNoKG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgaW1hZ2VTaXplIGZvciBlYWNoIHRleHR1cmUsIGFuZCB0aGVuIGxvY2F0ZSBlYWNoIGltYWdlJ3MgdGV4dHVyZSBkYXRhXG4gICAgICAgICAgICAgICAgdmFyIHBpeGVsU2l6ZSA9IElOVEVSTkFMX0ZPUk1BVF9UT19CWVRFU19QRVJfUElYRUxbaW50ZXJuYWxGb3JtYXRfMl07XG4gICAgICAgICAgICAgICAgdmFyIGltYWdlU2l6ZSA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIGxldmVsV2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgICAgICB2YXIgbGV2ZWxIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtaXBtYXBDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbGlnbmVkTGV2ZWxXaWR0aCA9IE1hdGgubWF4KDEsIChsZXZlbFdpZHRoICsgMykgJiB+Myk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbGlnbmVkTGV2ZWxIZWlnaHQgPSBNYXRoLm1heCgxLCAobGV2ZWxIZWlnaHQgKyAzKSAmIH4zKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxldmVsU2l6ZSA9IGFsaWduZWRMZXZlbFdpZHRoICogYWxpZ25lZExldmVsSGVpZ2h0ICogcGl4ZWxTaXplO1xuICAgICAgICAgICAgICAgICAgICBpbWFnZVNpemUgKz0gbGV2ZWxTaXplO1xuICAgICAgICAgICAgICAgICAgICBsZXZlbFdpZHRoID0gbGV2ZWxXaWR0aCA+Pj4gMTtcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWxIZWlnaHQgPSBsZXZlbEhlaWdodCA+Pj4gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGltYWdlT2Zmc2V0ID0gZGF0YU9mZnNldDtcbiAgICAgICAgICAgICAgICAvLyBOT1RFOiBDdWJlbWFwcyBoYXZlIDYtaW1hZ2VzIHBlciB0ZXh0dXJlIChidXQgdGhleSBhcmVuJ3Qgc3VwcG9ydGVkIHNvIF5fXilcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5U2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGltYWdlQnVmZmVycy5wdXNoKG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBpbWFnZU9mZnNldCwgaW1hZ2VTaXplKSk7XG4gICAgICAgICAgICAgICAgICAgIGltYWdlT2Zmc2V0ICs9IGltYWdlU2l6ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBVaW50OEFycmF5IC0+IENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UsIGFuZCB3ZSdyZSBkb25lIVxuICAgICAgICAgICAgcmV0dXJuIGltYWdlQnVmZmVycy5tYXAoZnVuY3Rpb24gKGJ1ZmZlcikgeyByZXR1cm4gbmV3IENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UoYnVmZmVyLCB7XG4gICAgICAgICAgICAgICAgZm9ybWF0OiBpbnRlcm5hbEZvcm1hdF8yLFxuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgICAgICBsZXZlbHM6IG1pcG1hcENvdW50XG4gICAgICAgICAgICB9KTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdEZsYWdzICYgRERQRl9SR0IpIHtcbiAgICAgICAgICAgIC8vIEZJWE1FOiBXZSBtaWdodCB3YW50IHRvIGFsbG93IHVuY29tcHJlc3NlZCAqLmRkcyBmaWxlcz9cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRERTTG9hZGVyIGRvZXMgbm90IHN1cHBvcnQgdW5jb21wcmVzc2VkIHRleHR1cmUgZGF0YS4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0RmxhZ3MgJiBERFBGX1lVVikge1xuICAgICAgICAgICAgLy8gRklYTUU6IERvZXMgYW55Ym9keSBuZWVkIHRoaXMgZmVhdHVyZT9cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRERTTG9hZGVyIGRvZXMgbm90IHN1cHBvcnRlZCBZVVYgdW5jb21wcmVzc2VkIHRleHR1cmUgZGF0YS4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0RmxhZ3MgJiBERFBGX0xVTUlOQU5DRSkge1xuICAgICAgICAgICAgLy8gRklYTUU6IE1pY3Jvc29mdCBzYXlzIG9sZGVyIEREUyBmaWxlcnMgdXNlIHRoaXMgZmVhdHVyZSEgUHJvYmFibHkgbm90IHdvcnRoIHRoZSBlZmZvcnQhXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0REU0xvYWRlciBkb2VzIG5vdCBzdXBwb3J0IHNpbmdsZS1jaGFubmVsIChsdW1uaW5hbmNlKSB0ZXh0dXJlIGRhdGEhJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdEZsYWdzICYgRERQRl9BTFBIQSkge1xuICAgICAgICAgICAgLy8gRklYTUU6IEknbSB0aXJlZCEgU2VlIGFib3ZlID0pXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0REU0xvYWRlciBkb2VzIG5vdCBzdXBwb3J0IHNpbmdsZS1jaGFubmVsIChhbHBoYSkgdGV4dHVyZSBkYXRhIScpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRERTTG9hZGVyIGZhaWxlZCB0byBsb2FkIGEgdGV4dHVyZSBmaWxlIGR1ZSB0byBhbiB1bmtub3duIHJlYXNvbiEnKTtcbiAgICB9O1xuICAgIHJldHVybiBERFNMb2FkZXI7XG59KCkpO1xuXG52YXIgX2EkMiwgX2IkMSwgX2M7XG4vLyBTZXQgS1RYIGZpbGVzIHRvIGJlIGxvYWRlZCBhcyBhbiBBcnJheUJ1ZmZlclxuTG9hZGVyUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uWGhyVHlwZSgna3R4JywgTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSKTtcbi8qKlxuICogVGhlIDEyLWJ5dGUgS1RYIGZpbGUgaWRlbnRpZmllclxuICpcbiAqIEBzZWUgaHR0cHM6Ly93d3cua2hyb25vcy5vcmcvb3BlbmdsZXMvc2RrL3Rvb2xzL0tUWC9maWxlX2Zvcm1hdF9zcGVjLyMyLjFcbiAqIEBpZ25vcmVcbiAqL1xudmFyIEZJTEVfSURFTlRJRklFUiA9IFsweEFCLCAweDRCLCAweDU0LCAweDU4LCAweDIwLCAweDMxLCAweDMxLCAweEJCLCAweDBELCAweDBBLCAweDFBLCAweDBBXTtcbi8qKlxuICogVGhlIHZhbHVlIHN0b3JlZCBpbiB0aGUgXCJlbmRpYW5uZXNzXCIgZmllbGQuXG4gKlxuICogQHNlZSBodHRwczovL3d3dy5raHJvbm9zLm9yZy9vcGVuZ2xlcy9zZGsvdG9vbHMvS1RYL2ZpbGVfZm9ybWF0X3NwZWMvIzIuMlxuICogQGlnbm9yZVxuICovXG52YXIgRU5ESUFOTkVTUyA9IDB4MDQwMzAyMDE7XG4vKipcbiAqIEJ5dGUgb2Zmc2V0cyBvZiB0aGUgS1RYIGZpbGUgaGVhZGVyIGZpZWxkc1xuICpcbiAqIEBpZ25vcmVcbiAqL1xudmFyIEtUWF9GSUVMRFMgPSB7XG4gICAgRklMRV9JREVOVElGSUVSOiAwLFxuICAgIEVORElBTk5FU1M6IDEyLFxuICAgIEdMX1RZUEU6IDE2LFxuICAgIEdMX1RZUEVfU0laRTogMjAsXG4gICAgR0xfRk9STUFUOiAyNCxcbiAgICBHTF9JTlRFUk5BTF9GT1JNQVQ6IDI4LFxuICAgIEdMX0JBU0VfSU5URVJOQUxfRk9STUFUOiAzMixcbiAgICBQSVhFTF9XSURUSDogMzYsXG4gICAgUElYRUxfSEVJR0hUOiA0MCxcbiAgICBQSVhFTF9ERVBUSDogNDQsXG4gICAgTlVNQkVSX09GX0FSUkFZX0VMRU1FTlRTOiA0OCxcbiAgICBOVU1CRVJfT0ZfRkFDRVM6IDUyLFxuICAgIE5VTUJFUl9PRl9NSVBNQVBfTEVWRUxTOiA1NixcbiAgICBCWVRFU19PRl9LRVlfVkFMVUVfREFUQTogNjBcbn07XG4vKipcbiAqIEJ5dGUgc2l6ZSBvZiB0aGUgZmlsZSBoZWFkZXIgZmllbGRzIGluIHtAY29kZSBLVFhfRklFTERTfVxuICpcbiAqIEBpZ25vcmVcbiAqL1xudmFyIEZJTEVfSEVBREVSX1NJWkUgPSA2NDtcbi8qKlxuICogTWFwcyB7QGxpbmsgUElYSS5UWVBFU30gdG8gdGhlIGJ5dGVzIHRha2VuIHBlciBjb21wb25lbnQsIGV4Y2x1ZGluZyB0aG9zZSBvbmVzIHRoYXQgYXJlIGJpdC1maWVsZHMuXG4gKlxuICogQGlnbm9yZVxuICovXG52YXIgVFlQRVNfVE9fQllURVNfUEVSX0NPTVBPTkVOVCA9IChfYSQyID0ge30sXG4gICAgX2EkMltUWVBFUy5VTlNJR05FRF9CWVRFXSA9IDEsXG4gICAgX2EkMltUWVBFUy5VTlNJR05FRF9TSE9SVF0gPSAyLFxuICAgIF9hJDJbVFlQRVMuRkxPQVRdID0gNCxcbiAgICBfYSQyW1RZUEVTLkhBTEZfRkxPQVRdID0gOCxcbiAgICBfYSQyKTtcbi8qKlxuICogTnVtYmVyIG9mIGNvbXBvbmVudHMgaW4gZWFjaCB7QGxpbmsgUElYSS5GT1JNQVRTfVxuICpcbiAqIEBpZ25vcmVcbiAqL1xudmFyIEZPUk1BVFNfVE9fQ09NUE9ORU5UUyA9IChfYiQxID0ge30sXG4gICAgX2IkMVtGT1JNQVRTLlJHQkFdID0gNCxcbiAgICBfYiQxW0ZPUk1BVFMuUkdCXSA9IDMsXG4gICAgX2IkMVtGT1JNQVRTLkxVTUlOQU5DRV0gPSAxLFxuICAgIF9iJDFbRk9STUFUUy5MVU1JTkFOQ0VfQUxQSEFdID0gMixcbiAgICBfYiQxW0ZPUk1BVFMuQUxQSEFdID0gMSxcbiAgICBfYiQxKTtcbi8qKlxuICogTnVtYmVyIG9mIGJ5dGVzIHBlciBwaXhlbCBpbiBiaXQtZmllbGQgdHlwZXMgaW4ge0BsaW5rIFBJWEkuVFlQRVN9XG4gKlxuICogQGlnbm9yZVxuICovXG52YXIgVFlQRVNfVE9fQllURVNfUEVSX1BJWEVMID0gKF9jID0ge30sXG4gICAgX2NbVFlQRVMuVU5TSUdORURfU0hPUlRfNF80XzRfNF0gPSAyLFxuICAgIF9jW1RZUEVTLlVOU0lHTkVEX1NIT1JUXzVfNV81XzFdID0gMixcbiAgICBfY1tUWVBFUy5VTlNJR05FRF9TSE9SVF81XzZfNV0gPSAyLFxuICAgIF9jKTtcbi8qKlxuICogTG9hZGVyIHBsdWdpbiBmb3IgaGFuZGxpbmcgS1RYIHRleHR1cmUgY29udGFpbmVyIGZpbGVzLlxuICpcbiAqIFRoaXMgS1RYIGxvYWRlciBkb2VzIG5vdCBjdXJyZW50bHkgc3VwcG9ydCB0aGUgZm9sbG93aW5nIGZlYXR1cmVzOlxuICogKiBjdWJlIHRleHR1cmVzXG4gKiAqIDNEIHRleHR1cmVzXG4gKiAqIHZlbmRvci1zcGVjaWZpYyBrZXkvdmFsdWUgZGF0YSBwYXJzaW5nXG4gKiAqIGVuZGlhbm5lc3MgY29udmVyc2lvbiBmb3IgYmlnLWVuZGlhbiBtYWNoaW5lc1xuICogKiBlbWJlZGRlZCAqLmJhc2lzIGZpbGVzXG4gKlxuICogSXQgZG9lcyBzdXBwb3J0cyB0aGUgZm9sbG93aW5nIGZlYXR1cmVzOlxuICogKiBtdWx0aXBsZSB0ZXh0dXJlcyBwZXIgZmlsZVxuICogKiBtaXBtYXBwaW5nXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGltcGxlbWVudHMgUElYSS5JTG9hZGVyUGx1Z2luXG4gKi9cbnZhciBLVFhMb2FkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gS1RYTG9hZGVyKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgYSBLVFggZmlsZSBpcyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBUaGlzIHdpbGwgcGFyc2UgdGhlIEtUWCBmaWxlIGhlYWRlciBhbmQgYWRkIGEge0Bjb2RlIEJhc2VUZXh0dXJlfSB0byB0aGUgdGV4dHVyZVxuICAgICAqIGNhY2hlLlxuICAgICAqXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAgICAgKi9cbiAgICBLVFhMb2FkZXIudXNlID0gZnVuY3Rpb24gKHJlc291cmNlLCBuZXh0KSB7XG4gICAgICAgIGlmIChyZXNvdXJjZS5leHRlbnNpb24gPT09ICdrdHgnICYmIHJlc291cmNlLmRhdGEpIHtcbiAgICAgICAgICAgIEtUWExvYWRlci5wYXJzZShyZXNvdXJjZS5uYW1lIHx8IHJlc291cmNlLnVybCwgcmVzb3VyY2UuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGFyc2VzIHRoZSBLVFggZmlsZSBoZWFkZXIsIGdlbmVyYXRlcyBiYXNlLXRleHR1cmVzLCBhbmQgcHV0cyB0aGVtIGludG8gdGhlIHRleHR1cmVcbiAgICAgKiBjYWNoZS5cbiAgICAgKi9cbiAgICBLVFhMb2FkZXIucGFyc2UgPSBmdW5jdGlvbiAodXJsLCBhcnJheUJ1ZmZlcikge1xuICAgICAgICB2YXIgZGF0YVZpZXcgPSBuZXcgRGF0YVZpZXcoYXJyYXlCdWZmZXIpO1xuICAgICAgICBpZiAoIUtUWExvYWRlci52YWxpZGF0ZSh1cmwsIGRhdGFWaWV3KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaXR0bGVFbmRpYW4gPSBkYXRhVmlldy5nZXRVaW50MzIoS1RYX0ZJRUxEUy5FTkRJQU5ORVNTLCB0cnVlKSA9PT0gRU5ESUFOTkVTUztcbiAgICAgICAgdmFyIGdsVHlwZSA9IGRhdGFWaWV3LmdldFVpbnQzMihLVFhfRklFTERTLkdMX1RZUEUsIGxpdHRsZUVuZGlhbik7XG4gICAgICAgIC8vIGNvbnN0IGdsVHlwZVNpemUgPSBkYXRhVmlldy5nZXRVaW50MzIoS1RYX0ZJRUxEUy5HTF9UWVBFX1NJWkUsIGxpdHRsZUVuZGlhbik7XG4gICAgICAgIHZhciBnbEZvcm1hdCA9IGRhdGFWaWV3LmdldFVpbnQzMihLVFhfRklFTERTLkdMX0ZPUk1BVCwgbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgdmFyIGdsSW50ZXJuYWxGb3JtYXQgPSBkYXRhVmlldy5nZXRVaW50MzIoS1RYX0ZJRUxEUy5HTF9JTlRFUk5BTF9GT1JNQVQsIGxpdHRsZUVuZGlhbik7XG4gICAgICAgIHZhciBwaXhlbFdpZHRoID0gZGF0YVZpZXcuZ2V0VWludDMyKEtUWF9GSUVMRFMuUElYRUxfV0lEVEgsIGxpdHRsZUVuZGlhbik7XG4gICAgICAgIHZhciBwaXhlbEhlaWdodCA9IGRhdGFWaWV3LmdldFVpbnQzMihLVFhfRklFTERTLlBJWEVMX0hFSUdIVCwgbGl0dGxlRW5kaWFuKSB8fCAxOyAvLyBcInBpeGVsSGVpZ2h0ID0gMFwiIC0+IFwiMVwiXG4gICAgICAgIHZhciBwaXhlbERlcHRoID0gZGF0YVZpZXcuZ2V0VWludDMyKEtUWF9GSUVMRFMuUElYRUxfREVQVEgsIGxpdHRsZUVuZGlhbikgfHwgMTsgLy8gXl5cbiAgICAgICAgdmFyIG51bWJlck9mQXJyYXlFbGVtZW50cyA9IGRhdGFWaWV3LmdldFVpbnQzMihLVFhfRklFTERTLk5VTUJFUl9PRl9BUlJBWV9FTEVNRU5UUywgbGl0dGxlRW5kaWFuKSB8fCAxOyAvLyBeXlxuICAgICAgICB2YXIgbnVtYmVyT2ZGYWNlcyA9IGRhdGFWaWV3LmdldFVpbnQzMihLVFhfRklFTERTLk5VTUJFUl9PRl9GQUNFUywgbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgdmFyIG51bWJlck9mTWlwbWFwTGV2ZWxzID0gZGF0YVZpZXcuZ2V0VWludDMyKEtUWF9GSUVMRFMuTlVNQkVSX09GX01JUE1BUF9MRVZFTFMsIGxpdHRsZUVuZGlhbik7XG4gICAgICAgIHZhciBieXRlc09mS2V5VmFsdWVEYXRhID0gZGF0YVZpZXcuZ2V0VWludDMyKEtUWF9GSUVMRFMuQllURVNfT0ZfS0VZX1ZBTFVFX0RBVEEsIGxpdHRsZUVuZGlhbik7XG4gICAgICAgIC8vIFdoZXRoZXIgdGhlIHBsYXRmb3JtIGFyY2hpdGVjdHVyZSBpcyBsaXR0bGUgZW5kaWFuLiBJZiBsaXR0bGVFbmRpYW4gIT09IHBsYXRmb3JtTGl0dGxlRW5kaWFuLCB0aGVuIHRoZVxuICAgICAgICAvLyBmaWxlIGNvbnRlbnRzIG11c3QgYmUgZW5kaWFuLWNvbnZlcnRlZCFcbiAgICAgICAgLy8gVE9ETzogRW5kaWFubmVzcyBjb252ZXJzaW9uXG4gICAgICAgIC8vIGNvbnN0IHBsYXRmb3JtTGl0dGxlRW5kaWFuID0gbmV3IFVpbnQ4QXJyYXkoKG5ldyBVaW50MzJBcnJheShbRU5ESUFOTkVTU10pKS5idWZmZXIpWzBdID09PSAweDAxO1xuICAgICAgICBpZiAocGl4ZWxIZWlnaHQgPT09IDAgfHwgcGl4ZWxEZXB0aCAhPT0gMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IDJEIHRleHR1cmVzIGFyZSBzdXBwb3J0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobnVtYmVyT2ZGYWNlcyAhPT0gMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDdWJlVGV4dHVyZXMgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgS1RYTG9hZGVyIHlldCEnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobnVtYmVyT2ZBcnJheUVsZW1lbnRzICE9PSAxKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBTdXBwb3J0IHNwbGl0dGluZyBhcnJheS10ZXh0dXJlcyBpbnRvIG11bHRpcGxlIEJhc2VUZXh0dXJlc1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWJHTCBkb2VzIG5vdCBzdXBwb3J0IGFycmF5IHRleHR1cmVzJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogOHg0IGJsb2NrcyBmb3IgMmJwcCBwdnJ0Y1xuICAgICAgICB2YXIgYmxvY2tXaWR0aCA9IDQ7XG4gICAgICAgIHZhciBibG9ja0hlaWdodCA9IDQ7XG4gICAgICAgIHZhciBhbGlnbmVkV2lkdGggPSAocGl4ZWxXaWR0aCArIDMpICYgfjM7XG4gICAgICAgIHZhciBhbGlnbmVkSGVpZ2h0ID0gKHBpeGVsSGVpZ2h0ICsgMykgJiB+MztcbiAgICAgICAgdmFyIGltYWdlQnVmZmVycyA9IG5ldyBBcnJheShudW1iZXJPZkFycmF5RWxlbWVudHMpO1xuICAgICAgICB2YXIgaW1hZ2VQaXhlbHMgPSBwaXhlbFdpZHRoICogcGl4ZWxIZWlnaHQ7XG4gICAgICAgIGlmIChnbFR5cGUgPT09IDApIHtcbiAgICAgICAgICAgIC8vIEFsaWduIHRvIDE2IHBpeGVscyAoNHg0IGJsb2NrcylcbiAgICAgICAgICAgIGltYWdlUGl4ZWxzID0gYWxpZ25lZFdpZHRoICogYWxpZ25lZEhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW1hZ2VQaXhlbEJ5dGVTaXplO1xuICAgICAgICBpZiAoZ2xUeXBlICE9PSAwKSB7XG4gICAgICAgICAgICAvLyBVbmNvbXByZXNzZWQgdGV4dHVyZSBmb3JtYXRcbiAgICAgICAgICAgIGlmIChUWVBFU19UT19CWVRFU19QRVJfQ09NUE9ORU5UW2dsVHlwZV0pIHtcbiAgICAgICAgICAgICAgICBpbWFnZVBpeGVsQnl0ZVNpemUgPSBUWVBFU19UT19CWVRFU19QRVJfQ09NUE9ORU5UW2dsVHlwZV0gKiBGT1JNQVRTX1RPX0NPTVBPTkVOVFNbZ2xGb3JtYXRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW1hZ2VQaXhlbEJ5dGVTaXplID0gVFlQRVNfVE9fQllURVNfUEVSX1BJWEVMW2dsVHlwZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbWFnZVBpeGVsQnl0ZVNpemUgPSBJTlRFUk5BTF9GT1JNQVRfVE9fQllURVNfUEVSX1BJWEVMW2dsSW50ZXJuYWxGb3JtYXRdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbWFnZVBpeGVsQnl0ZVNpemUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcmVzb2x2ZSB0aGUgcGl4ZWwgZm9ybWF0IHN0b3JlZCBpbiB0aGUgKi5rdHggZmlsZSEnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW1hZ2VCeXRlU2l6ZSA9IGltYWdlUGl4ZWxzICogaW1hZ2VQaXhlbEJ5dGVTaXplO1xuICAgICAgICB2YXIgbWlwQnl0ZVNpemUgPSBpbWFnZUJ5dGVTaXplO1xuICAgICAgICB2YXIgbWlwV2lkdGggPSBwaXhlbFdpZHRoO1xuICAgICAgICB2YXIgbWlwSGVpZ2h0ID0gcGl4ZWxIZWlnaHQ7XG4gICAgICAgIHZhciBhbGlnbmVkTWlwV2lkdGggPSBhbGlnbmVkV2lkdGg7XG4gICAgICAgIHZhciBhbGlnbmVkTWlwSGVpZ2h0ID0gYWxpZ25lZEhlaWdodDtcbiAgICAgICAgdmFyIGltYWdlT2Zmc2V0ID0gRklMRV9IRUFERVJfU0laRSArIGJ5dGVzT2ZLZXlWYWx1ZURhdGE7XG4gICAgICAgIGZvciAodmFyIG1pcG1hcExldmVsID0gMDsgbWlwbWFwTGV2ZWwgPCBudW1iZXJPZk1pcG1hcExldmVsczsgbWlwbWFwTGV2ZWwrKykge1xuICAgICAgICAgICAgdmFyIGltYWdlU2l6ZSA9IGRhdGFWaWV3LmdldFVpbnQzMihpbWFnZU9mZnNldCwgbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgICAgIHZhciBlbGVtZW50T2Zmc2V0ID0gaW1hZ2VPZmZzZXQgKyA0O1xuICAgICAgICAgICAgZm9yICh2YXIgYXJyYXlFbGVtZW50ID0gMDsgYXJyYXlFbGVtZW50IDwgbnVtYmVyT2ZBcnJheUVsZW1lbnRzOyBhcnJheUVsZW1lbnQrKykge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IE1heWJlIHN1cHBvcnQgM0QgdGV4dHVyZXM/IDotKVxuICAgICAgICAgICAgICAgIC8vIGZvciAobGV0IHpTbGljZSA9IDA7IHpTbGljZSA8IHBpeGVsRGVwdGg7IHpTbGljZSlcbiAgICAgICAgICAgICAgICB2YXIgbWlwcyA9IGltYWdlQnVmZmVyc1thcnJheUVsZW1lbnRdO1xuICAgICAgICAgICAgICAgIGlmICghbWlwcykge1xuICAgICAgICAgICAgICAgICAgICBtaXBzID0gaW1hZ2VCdWZmZXJzW2FycmF5RWxlbWVudF0gPSBuZXcgQXJyYXkobnVtYmVyT2ZNaXBtYXBMZXZlbHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtaXBzW21pcG1hcExldmVsXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWxJRDogbWlwbWFwTGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgIGxldmVsV2lkdGg6IG51bWJlck9mTWlwbWFwTGV2ZWxzID4gMSA/IG1pcFdpZHRoIDogYWxpZ25lZE1pcFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBsZXZlbEhlaWdodDogbnVtYmVyT2ZNaXBtYXBMZXZlbHMgPiAxID8gbWlwSGVpZ2h0IDogYWxpZ25lZE1pcEhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWxCdWZmZXI6IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBlbGVtZW50T2Zmc2V0LCBtaXBCeXRlU2l6ZSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGVsZW1lbnRPZmZzZXQgKz0gbWlwQnl0ZVNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBISU5UOiBBbGlnbnMgdG8gNC1ieXRlIGJvdW5kYXJ5IGFmdGVyIGp1bXBpbmcgaW1hZ2VTaXplIChpbiBsaWV1IG9mIG1pcFBhZGRpbmcpXG4gICAgICAgICAgICBpbWFnZU9mZnNldCArPSBpbWFnZVNpemUgKyA0OyAvLyAoKzQgdG8ganVtcCB0aGUgaW1hZ2VTaXplIGZpZWxkIGl0c2VsZilcbiAgICAgICAgICAgIGltYWdlT2Zmc2V0ID0gaW1hZ2VPZmZzZXQgJSA0ICE9PSAwID8gaW1hZ2VPZmZzZXQgKyA0IC0gKGltYWdlT2Zmc2V0ICUgNCkgOiBpbWFnZU9mZnNldDtcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBtaXBXaWR0aCwgbWlwSGVpZ2h0IGZvciBfbmV4dF8gaXRlcmF0aW9uXG4gICAgICAgICAgICBtaXBXaWR0aCA9IChtaXBXaWR0aCA+PiAxKSB8fCAxO1xuICAgICAgICAgICAgbWlwSGVpZ2h0ID0gKG1pcEhlaWdodCA+PiAxKSB8fCAxO1xuICAgICAgICAgICAgYWxpZ25lZE1pcFdpZHRoID0gKG1pcFdpZHRoICsgYmxvY2tXaWR0aCAtIDEpICYgfihibG9ja1dpZHRoIC0gMSk7XG4gICAgICAgICAgICBhbGlnbmVkTWlwSGVpZ2h0ID0gKG1pcEhlaWdodCArIGJsb2NrSGVpZ2h0IC0gMSkgJiB+KGJsb2NrSGVpZ2h0IC0gMSk7XG4gICAgICAgICAgICAvLyBFYWNoIG1pcG1hcCBsZXZlbCBpcyA0LXRpbWVzIHNtYWxsZXI/XG4gICAgICAgICAgICBtaXBCeXRlU2l6ZSA9IGFsaWduZWRNaXBXaWR0aCAqIGFsaWduZWRNaXBIZWlnaHQgKiBpbWFnZVBpeGVsQnl0ZVNpemU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UgdXNlIHRoZSBsZXZlbEJ1ZmZlcnMgZmVhdHVyZSBvZiBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlIGIvYyB0ZXh0dXJlIGRhdGEgaXMgaW1hZ2UtbWFqb3IsIG5vdCBsZXZlbC1tYWpvci5cbiAgICAgICAgaWYgKGdsVHlwZSAhPT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUT0RPOiBVbmNvbXByZXNzZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBpbWFnZVJlc291cmNlcyA9IGltYWdlQnVmZmVycy5tYXAoZnVuY3Rpb24gKGxldmVsQnVmZmVycykgeyByZXR1cm4gbmV3IENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UobnVsbCwge1xuICAgICAgICAgICAgICAgIGZvcm1hdDogZ2xJbnRlcm5hbEZvcm1hdCxcbiAgICAgICAgICAgICAgICB3aWR0aDogcGl4ZWxXaWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHBpeGVsSGVpZ2h0LFxuICAgICAgICAgICAgICAgIGxldmVsczogbnVtYmVyT2ZNaXBtYXBMZXZlbHMsXG4gICAgICAgICAgICAgICAgbGV2ZWxCdWZmZXJzOiBsZXZlbEJ1ZmZlcnMsXG4gICAgICAgICAgICB9KTsgfSk7XG4gICAgICAgICAgICByZWdpc3RlckNvbXByZXNzZWRUZXh0dXJlcyh1cmwsIGltYWdlUmVzb3VyY2VzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGFycmF5QnVmZmVyIGNvbnRhaW5zIGEgdmFsaWQgKi5rdHggZmlsZS5cbiAgICAgKi9cbiAgICBLVFhMb2FkZXIudmFsaWRhdGUgPSBmdW5jdGlvbiAodXJsLCBkYXRhVmlldykge1xuICAgICAgICAvLyBOT1RFOiBEbyBub3Qgb3B0aW1pemUgdGhpcyBpbnRvIDMgMzItYml0IGludGVnZXIgY29tcGFyaXNvbiBiZWNhdXNlIHRoZSBlbmRpYW5uZXNzXG4gICAgICAgIC8vIG9mIHRoZSBkYXRhIGlzIG5vdCBzcGVjaWZpZWQuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgRklMRV9JREVOVElGSUVSLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZGF0YVZpZXcuZ2V0VWludDgoaSkgIT09IEZJTEVfSURFTlRJRklFUltpXSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IodXJsICsgXCIgaXMgbm90IGEgdmFsaWQgKi5rdHggZmlsZSFcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgcmV0dXJuIEtUWExvYWRlcjtcbn0oKSk7XG5cbmV4cG9ydCB7IEJsb2JSZXNvdXJjZSwgQ29tcHJlc3NlZFRleHR1cmVMb2FkZXIsIENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UsIEREU0xvYWRlciwgRk9STUFUU19UT19DT01QT05FTlRTLCBJTlRFUk5BTF9GT1JNQVRTLCBJTlRFUk5BTF9GT1JNQVRfVE9fQllURVNfUEVSX1BJWEVMLCBLVFhMb2FkZXIsIFRZUEVTX1RPX0JZVEVTX1BFUl9DT01QT05FTlQsIFRZUEVTX1RPX0JZVEVTX1BFUl9QSVhFTCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcHJlc3NlZC10ZXh0dXJlcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvcGFydGljbGVzIC0gdjYuMC4wXG4gKiBDb21waWxlZCBUdWUsIDAyIE1hciAyMDIxIDIxOjQ1OjAzIFVUQ1xuICpcbiAqIEBwaXhpL3BhcnRpY2xlcyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IEJMRU5EX01PREVTLCBUWVBFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IGhleDJyZ2IsIGNyZWF0ZUluZGljZXNGb3JRdWFkcywgY29ycmVjdEJsZW5kTW9kZSwgcHJlbXVsdGlwbHlSZ2JhLCBwcmVtdWx0aXBseVRpbnQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBHZW9tZXRyeSwgQnVmZmVyLCBPYmplY3RSZW5kZXJlciwgU2hhZGVyLCBTdGF0ZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIFRoZSBQYXJ0aWNsZUNvbnRhaW5lciBjbGFzcyBpcyBhIHJlYWxseSBmYXN0IHZlcnNpb24gb2YgdGhlIENvbnRhaW5lciBidWlsdCBzb2xlbHkgZm9yIHNwZWVkLFxuICogc28gdXNlIHdoZW4geW91IG5lZWQgYSBsb3Qgb2Ygc3ByaXRlcyBvciBwYXJ0aWNsZXMuXG4gKlxuICogVGhlIHRyYWRlb2ZmIG9mIHRoZSBQYXJ0aWNsZUNvbnRhaW5lciBpcyB0aGF0IG1vc3QgYWR2YW5jZWQgZnVuY3Rpb25hbGl0eSB3aWxsIG5vdCB3b3JrLlxuICogUGFydGljbGVDb250YWluZXIgaW1wbGVtZW50cyB0aGUgYmFzaWMgb2JqZWN0IHRyYW5zZm9ybSAocG9zaXRpb24sIHNjYWxlLCByb3RhdGlvbilcbiAqIGFuZCBzb21lIGFkdmFuY2VkIGZ1bmN0aW9uYWxpdHkgbGlrZSB0aW50IChhcyBvZiB2NC41LjYpLlxuICpcbiAqIE90aGVyIG1vcmUgYWR2YW5jZWQgZnVuY3Rpb25hbGl0eSBsaWtlIG1hc2tpbmcsIGNoaWxkcmVuLCBmaWx0ZXJzLCBldGMgd2lsbCBub3Qgd29yayBvbiBzcHJpdGVzIGluIHRoaXMgYmF0Y2guXG4gKlxuICogSXQncyBleHRyZW1lbHkgZWFzeSB0byB1c2U6XG4gKiBgYGBqc1xuICogbGV0IGNvbnRhaW5lciA9IG5ldyBQYXJ0aWNsZUNvbnRhaW5lcigpO1xuICpcbiAqIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyArK2kpXG4gKiB7XG4gKiAgICAgbGV0IHNwcml0ZSA9IFBJWEkuU3ByaXRlLmZyb20oXCJteUltYWdlLnBuZ1wiKTtcbiAqICAgICBjb250YWluZXIuYWRkQ2hpbGQoc3ByaXRlKTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEFuZCBoZXJlIHlvdSBoYXZlIGEgaHVuZHJlZCBzcHJpdGVzIHRoYXQgd2lsbCBiZSByZW5kZXJlZCBhdCB0aGUgc3BlZWQgb2YgbGlnaHQuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBhcnRpY2xlQ29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQYXJ0aWNsZUNvbnRhaW5lciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW21heFNpemU9MTUwMF0gLSBUaGUgbWF4aW11bSBudW1iZXIgb2YgcGFydGljbGVzIHRoYXQgY2FuIGJlIHJlbmRlcmVkIGJ5IHRoZSBjb250YWluZXIuXG4gICAgICogIEFmZmVjdHMgc2l6ZSBvZiBhbGxvY2F0ZWQgYnVmZmVycy5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3Byb3BlcnRpZXNdIC0gVGhlIHByb3BlcnRpZXMgb2YgY2hpbGRyZW4gdGhhdCBzaG91bGQgYmUgdXBsb2FkZWQgdG8gdGhlIGdwdSBhbmQgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wZXJ0aWVzLnZlcnRpY2VzPWZhbHNlXSAtIFdoZW4gdHJ1ZSwgdmVydGljZXMgYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogICAgICAgICAgICAgICAgICBpZiBzcHJpdGUncyBgIHNjYWxlL2FuY2hvci90cmltL2ZyYW1lL29yaWdgIGlzIGR5bmFtaWMsIHBsZWFzZSBzZXQgYHRydWVgLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMucG9zaXRpb249dHJ1ZV0gLSBXaGVuIHRydWUsIHBvc2l0aW9uIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMucm90YXRpb249ZmFsc2VdIC0gV2hlbiB0cnVlLCByb3RhdGlvbiBiZSB1cGxvYWRlZCBhbmQgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wZXJ0aWVzLnV2cz1mYWxzZV0gLSBXaGVuIHRydWUsIHV2cyBiZSB1cGxvYWRlZCBhbmQgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wZXJ0aWVzLnRpbnQ9ZmFsc2VdIC0gV2hlbiB0cnVlLCBhbHBoYSBhbmQgdGludCBiZSB1cGxvYWRlZCBhbmQgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2JhdGNoU2l6ZT0xNjM4NF0gLSBOdW1iZXIgb2YgcGFydGljbGVzIHBlciBiYXRjaC4gSWYgbGVzcyB0aGFuIG1heFNpemUsIGl0IHVzZXMgbWF4U2l6ZSBpbnN0ZWFkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2F1dG9SZXNpemU9ZmFsc2VdIC0gSWYgdHJ1ZSwgY29udGFpbmVyIGFsbG9jYXRlcyBtb3JlIGJhdGNoZXMgaW4gY2FzZVxuICAgICAqICB0aGVyZSBhcmUgbW9yZSB0aGFuIGBtYXhTaXplYCBwYXJ0aWNsZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGFydGljbGVDb250YWluZXIobWF4U2l6ZSwgcHJvcGVydGllcywgYmF0Y2hTaXplLCBhdXRvUmVzaXplKSB7XG4gICAgICAgIGlmIChtYXhTaXplID09PSB2b2lkIDApIHsgbWF4U2l6ZSA9IDE1MDA7IH1cbiAgICAgICAgaWYgKGJhdGNoU2l6ZSA9PT0gdm9pZCAwKSB7IGJhdGNoU2l6ZSA9IDE2Mzg0OyB9XG4gICAgICAgIGlmIChhdXRvUmVzaXplID09PSB2b2lkIDApIHsgYXV0b1Jlc2l6ZSA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8vIE1ha2luZyBzdXJlIHRoZSBiYXRjaCBzaXplIGlzIHZhbGlkXG4gICAgICAgIC8vIDY1NTM1IGlzIG1heCB2ZXJ0ZXggaW5kZXggaW4gdGhlIGluZGV4IGJ1ZmZlciAoc2VlIFBhcnRpY2xlUmVuZGVyZXIpXG4gICAgICAgIC8vIHNvIG1heCBudW1iZXIgb2YgcGFydGljbGVzIGlzIDY1NTM2IC8gNCA9IDE2Mzg0XG4gICAgICAgIHZhciBtYXhCYXRjaFNpemUgPSAxNjM4NDtcbiAgICAgICAgaWYgKGJhdGNoU2l6ZSA+IG1heEJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgYmF0Y2hTaXplID0gbWF4QmF0Y2hTaXplO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgcHJvcGVydGllcyB0byBiZSBkeW5hbWljICh0cnVlKSAvIHN0YXRpYyAoZmFsc2UpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW5bXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9wcm9wZXJ0aWVzID0gW2ZhbHNlLCB0cnVlLCBmYWxzZSwgZmFsc2UsIGZhbHNlXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9tYXhTaXplID0gbWF4U2l6ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9iYXRjaFNpemUgPSBiYXRjaFNpemU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTxQSVhJLkJ1ZmZlcj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYnVmZmVycyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBmb3IgZXZlcnkgYmF0Y2ggc3RvcmVzIF91cGRhdGVJRCBjb3JyZXNwb25kaW5nIHRvIHRoZSBsYXN0IGNoYW5nZSBpbiB0aGF0IGJhdGNoXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2J1ZmZlclVwZGF0ZUlEcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogd2hlbiBjaGlsZCBpbnNlcnRlZCwgcmVtb3ZlZCBvciBjaGFuZ2VzIHBvc2l0aW9uIHRoaXMgbnVtYmVyIGdvZXMgdXBcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdXBkYXRlSUQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gQXBwbHkgYSB2YWx1ZSBvZiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgXG4gICAgICAgICAqIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSwgY29udGFpbmVyIGFsbG9jYXRlcyBtb3JlIGJhdGNoZXMgaW4gY2FzZSB0aGVyZSBhcmUgbW9yZSB0aGFuIGBtYXhTaXplYCBwYXJ0aWNsZXMuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvUmVzaXplID0gYXV0b1Jlc2l6ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICAgICAqIEFkdmFudGFnZXMgY2FuIGluY2x1ZGUgc2hhcnBlciBpbWFnZSBxdWFsaXR5IChsaWtlIHRleHQpIGFuZCBmYXN0ZXIgcmVuZGVyaW5nIG9uIGNhbnZhcy5cbiAgICAgICAgICogVGhlIG1haW4gZGlzYWR2YW50YWdlIGlzIG1vdmVtZW50IG9mIG9iamVjdHMgbWF5IGFwcGVhciBsZXNzIHNtb290aC5cbiAgICAgICAgICogRGVmYXVsdCB0byB0cnVlIGhlcmUgYXMgcGVyZm9ybWFuY2UgaXMgdXN1YWxseSB0aGUgcHJpb3JpdHkgZm9yIHBhcnRpY2xlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucm91bmRQaXhlbHMgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdXNlZCB0byByZW5kZXIgdGhlIGNoaWxkcmVuLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgX3RoaXMuc2V0UHJvcGVydGllcyhwcm9wZXJ0aWVzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIGNvbnRhaW5lci5cbiAgICAgICAgICogVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90aW50ID0gMDtcbiAgICAgICAgX3RoaXMudGludFJnYiA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgICAgIF90aGlzLnRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwcml2YXRlIHByb3BlcnRpZXMgYXJyYXkgdG8gZHluYW1pYyAvIHN0YXRpYyBiYXNlZCBvbiB0aGUgcGFzc2VkIHByb3BlcnRpZXMgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcHJvcGVydGllcyAtIFRoZSBwcm9wZXJ0aWVzIHRvIGJlIHVwbG9hZGVkXG4gICAgICovXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLnNldFByb3BlcnRpZXMgPSBmdW5jdGlvbiAocHJvcGVydGllcykge1xuICAgICAgICBpZiAocHJvcGVydGllcykge1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1swXSA9ICd2ZXJ0aWNlcycgaW4gcHJvcGVydGllcyB8fCAnc2NhbGUnIGluIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICA/ICEhcHJvcGVydGllcy52ZXJ0aWNlcyB8fCAhIXByb3BlcnRpZXMuc2NhbGUgOiB0aGlzLl9wcm9wZXJ0aWVzWzBdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1sxXSA9ICdwb3NpdGlvbicgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy5wb3NpdGlvbiA6IHRoaXMuX3Byb3BlcnRpZXNbMV07XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzJdID0gJ3JvdGF0aW9uJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnJvdGF0aW9uIDogdGhpcy5fcHJvcGVydGllc1syXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbM10gPSAndXZzJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnV2cyA6IHRoaXMuX3Byb3BlcnRpZXNbM107XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzRdID0gJ3RpbnQnIGluIHByb3BlcnRpZXMgfHwgJ2FscGhhJyBpbiBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgPyAhIXByb3BlcnRpZXMudGludCB8fCAhIXByb3BlcnRpZXMuYWxwaGEgOiB0aGlzLl9wcm9wZXJ0aWVzWzRdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBvYmplY3QgdHJhbnNmb3JtIGZvciByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gVE9ETyBkb24ndCBuZWVkIHRvIVxuICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUsIFwidGludFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBjb250YWluZXIuIFRoaXMgaXMgYSBoZXggdmFsdWUuXG4gICAgICAgICAqIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKiogSU1QT1JUQU5UOiBUaGlzIGlzIGEgV2ViR0wgb25seSBmZWF0dXJlIGFuZCB3aWxsIGJlIGlnbm9yZWQgYnkgdGhlIGNhbnZhcyByZW5kZXJlci5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIGhleDJyZ2IodmFsdWUsIHRoaXMudGludFJnYik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBjb250YWluZXIgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgd2ViZ2wgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLmNoaWxkcmVuLmxlbmd0aCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gdGhpcy5jaGlsZHJlblswXS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5iYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUub25jZSgndXBkYXRlJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub25DaGlsZHJlbkNoYW5nZSgwKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2lucy5wYXJ0aWNsZSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnMucGFydGljbGUucmVuZGVyKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBmbGFnIHRoYXQgc3RhdGljIGRhdGEgc2hvdWxkIGJlIHVwZGF0ZWQgdG8gdHJ1ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc21hbGxlc3RDaGlsZEluZGV4IC0gVGhlIHNtYWxsZXN0IGNoaWxkIGluZGV4XG4gICAgICovXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLm9uQ2hpbGRyZW5DaGFuZ2UgPSBmdW5jdGlvbiAoc21hbGxlc3RDaGlsZEluZGV4KSB7XG4gICAgICAgIHZhciBidWZmZXJJbmRleCA9IE1hdGguZmxvb3Ioc21hbGxlc3RDaGlsZEluZGV4IC8gdGhpcy5fYmF0Y2hTaXplKTtcbiAgICAgICAgd2hpbGUgKHRoaXMuX2J1ZmZlclVwZGF0ZUlEcy5sZW5ndGggPCBidWZmZXJJbmRleCkge1xuICAgICAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSURzLnB1c2goMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSURzW2J1ZmZlckluZGV4XSA9ICsrdGhpcy5fdXBkYXRlSUQ7XG4gICAgfTtcbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2J1ZmZlcnMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fYnVmZmVycy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBjb250YWluZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXJcbiAgICAgKiAgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX3Byb3BlcnRpZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9idWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSURzID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBQYXJ0aWNsZUNvbnRhaW5lcjtcbn0oQ29udGFpbmVyKSk7XG5cbi8qXG4gKiBAYXV0aG9yIE1hdCBHcm92ZXNcbiAqXG4gKiBCaWcgdGhhbmtzIHRvIHRoZSB2ZXJ5IGNsZXZlciBNYXR0IERlc0xhdXJpZXJzIDxtYXR0ZGVzbD4gaHR0cHM6Ly9naXRodWIuY29tL21hdHRkZXNsL1xuICogZm9yIGNyZWF0aW5nIHRoZSBvcmlnaW5hbCBQaXhpSlMgdmVyc2lvbiFcbiAqIEFsc28gYSB0aGFua3MgdG8gaHR0cHM6Ly9naXRodWIuY29tL2JjaGV2YWxpZXIgZm9yIHR3ZWFraW5nIHRoZSB0aW50IGFuZCBhbHBoYSBzbyB0aGF0XG4gKiB0aGV5IG5vdyBzaGFyZSA0IGJ5dGVzIG9uIHRoZSB2ZXJ0ZXggYnVmZmVyXG4gKlxuICogSGVhdmlseSBpbnNwaXJlZCBieSBMaWJHRFgncyBQYXJ0aWNsZUJ1ZmZlcjpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9saWJnZHgvbGliZ2R4L2Jsb2IvbWFzdGVyL2dkeC9zcmMvY29tL2JhZGxvZ2ljL2dkeC9ncmFwaGljcy9nMmQvUGFydGljbGVCdWZmZXIuamF2YVxuICovXG4vKipcbiAqIFRoZSBwYXJ0aWNsZSBidWZmZXIgbWFuYWdlcyB0aGUgc3RhdGljIGFuZCBkeW5hbWljIGJ1ZmZlcnMgZm9yIGEgcGFydGljbGUgY29udGFpbmVyLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQYXJ0aWNsZUJ1ZmZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wZXJ0aWVzIC0gVGhlIHByb3BlcnRpZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbltdfSBkeW5hbWljUHJvcGVydHlGbGFncyAtIEZsYWdzIGZvciB3aGljaCBwcm9wZXJ0aWVzIGFyZSBkeW5hbWljLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gVGhlIHNpemUgb2YgdGhlIGJhdGNoLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBhcnRpY2xlQnVmZmVyKHByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBzaXplKSB7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgR2VvbWV0cnkoKTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIHBhcnRpY2xlcyB0aGUgYnVmZmVyIGNhbiBob2xkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgdGhlIHByb3BlcnRpZXMgdGhhdCBhcmUgZHluYW1pYy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgdGhlIHByb3BlcnRpZXMgdGhhdCBhcmUgc3RhdGljLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGljUHJvcGVydGllcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHByb3BlcnRpZXNbaV07XG4gICAgICAgICAgICAvLyBNYWtlIGNvcHkgb2YgcHJvcGVydGllcyBvYmplY3Qgc28gdGhhdCB3aGVuIHdlIGVkaXQgdGhlIG9mZnNldCBpdCBkb2Vzbid0XG4gICAgICAgICAgICAvLyBjaGFuZ2UgYWxsIG90aGVyIGluc3RhbmNlcyBvZiB0aGUgb2JqZWN0IGxpdGVyYWxcbiAgICAgICAgICAgIHByb3BlcnR5ID0ge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6IHByb3BlcnR5LmF0dHJpYnV0ZU5hbWUsXG4gICAgICAgICAgICAgICAgc2l6ZTogcHJvcGVydHkuc2l6ZSxcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogcHJvcGVydHkudXBsb2FkRnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgdHlwZTogcHJvcGVydHkudHlwZSB8fCBUWVBFUy5GTE9BVCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IHByb3BlcnR5Lm9mZnNldCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoZHluYW1pY1Byb3BlcnR5RmxhZ3NbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGljU3RyaWRlID0gMDtcbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNTdHJpZGUgPSAwO1xuICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YVVpbnQzMiA9IG51bGw7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICAgICAgdGhpcy5pbml0QnVmZmVycygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGFydGljbGVCdWZmZXIucHJvdG90eXBlLmluaXRCdWZmZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuICAgICAgICB2YXIgZHluYW1pY09mZnNldCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb2xkcyB0aGUgaW5kaWNlcyBvZiB0aGUgZ2VvbWV0cnkgKHF1YWRzKSB0byBkcmF3XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG5ldyBCdWZmZXIoY3JlYXRlSW5kaWNlc0ZvclF1YWRzKHRoaXMuc2l6ZSksIHRydWUsIHRydWUpO1xuICAgICAgICBnZW9tZXRyeS5hZGRJbmRleCh0aGlzLmluZGV4QnVmZmVyKTtcbiAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2ldO1xuICAgICAgICAgICAgcHJvcGVydHkub2Zmc2V0ID0gZHluYW1pY09mZnNldDtcbiAgICAgICAgICAgIGR5bmFtaWNPZmZzZXQgKz0gcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSArPSBwcm9wZXJ0eS5zaXplO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkeW5CdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5zaXplICogdGhpcy5keW5hbWljU3RyaWRlICogNCAqIDQpO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhID0gbmV3IEZsb2F0MzJBcnJheShkeW5CdWZmZXIpO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbmV3IFVpbnQzMkFycmF5KGR5bkJ1ZmZlcik7XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG5ldyBCdWZmZXIodGhpcy5keW5hbWljRGF0YSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgLy8gc3RhdGljIC8vXG4gICAgICAgIHZhciBzdGF0aWNPZmZzZXQgPSAwO1xuICAgICAgICB0aGlzLnN0YXRpY1N0cmlkZSA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSB0aGlzLnN0YXRpY1Byb3BlcnRpZXNbaV07XG4gICAgICAgICAgICBwcm9wZXJ0eS5vZmZzZXQgPSBzdGF0aWNPZmZzZXQ7XG4gICAgICAgICAgICBzdGF0aWNPZmZzZXQgKz0gcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGljU3RyaWRlICs9IHByb3BlcnR5LnNpemU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXRCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5zaXplICogdGhpcy5zdGF0aWNTdHJpZGUgKiA0ICogNCk7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoc3RhdEJ1ZmZlcik7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YVVpbnQzMiA9IG5ldyBVaW50MzJBcnJheShzdGF0QnVmZmVyKTtcbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBuZXcgQnVmZmVyKHRoaXMuc3RhdGljRGF0YSwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbaV07XG4gICAgICAgICAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUocHJvcGVydHkuYXR0cmlidXRlTmFtZSwgdGhpcy5keW5hbWljQnVmZmVyLCAwLCBwcm9wZXJ0eS50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFLCBwcm9wZXJ0eS50eXBlLCB0aGlzLmR5bmFtaWNTdHJpZGUgKiA0LCBwcm9wZXJ0eS5vZmZzZXQgKiA0KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW2ldO1xuICAgICAgICAgICAgZ2VvbWV0cnkuYWRkQXR0cmlidXRlKHByb3BlcnR5LmF0dHJpYnV0ZU5hbWUsIHRoaXMuc3RhdGljQnVmZmVyLCAwLCBwcm9wZXJ0eS50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFLCBwcm9wZXJ0eS50eXBlLCB0aGlzLnN0YXRpY1N0cmlkZSAqIDQsIHByb3BlcnR5Lm9mZnNldCAqIDQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBkeW5hbWljIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gVGhlIGNoaWxkcmVuIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIFRoZSBpbmRleCB0byBzdGFydCBhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gVGhlIG51bWJlciB0byB1cGxvYWQuXG4gICAgICovXG4gICAgUGFydGljbGVCdWZmZXIucHJvdG90eXBlLnVwbG9hZER5bmFtaWMgPSBmdW5jdGlvbiAoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbaV07XG4gICAgICAgICAgICBwcm9wZXJ0eS51cGxvYWRGdW5jdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBwcm9wZXJ0eS50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFID8gdGhpcy5keW5hbWljRGF0YVVpbnQzMiA6IHRoaXMuZHluYW1pY0RhdGEsIHRoaXMuZHluYW1pY1N0cmlkZSwgcHJvcGVydHkub2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIuX3VwZGF0ZUlEKys7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBzdGF0aWMgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSBUaGUgY2hpbGRyZW4gdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gVGhlIGluZGV4IHRvIHN0YXJ0IGF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgbnVtYmVyIHRvIHVwbG9hZC5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUudXBsb2FkU3RhdGljID0gZnVuY3Rpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIHByb3BlcnR5LnVwbG9hZEZ1bmN0aW9uKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIHByb3BlcnR5LnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUgPyB0aGlzLnN0YXRpY0RhdGFVaW50MzIgOiB0aGlzLnN0YXRpY0RhdGEsIHRoaXMuc3RhdGljU3RyaWRlLCBwcm9wZXJ0eS5vZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGljQnVmZmVyLl91cGRhdGVJRCsrO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIFBhcnRpY2xlQnVmZmVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YVVpbnQzMiA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljUHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbnVsbDtcbiAgICAgICAgLy8gYWxsIGJ1ZmZlcnMgYXJlIGRlc3Ryb3llZCBpbnNpZGUgZ2VvbWV0cnlcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5kZXN0cm95KCk7XG4gICAgfTtcbiAgICByZXR1cm4gUGFydGljbGVCdWZmZXI7XG59KCkpO1xuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHZDb2xvcjtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxufVwiO1xuXG52YXIgdmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5hdHRyaWJ1dGUgdmVjNCBhQ29sb3I7XFxuXFxuYXR0cmlidXRlIHZlYzIgYVBvc2l0aW9uQ29vcmQ7XFxuYXR0cmlidXRlIGZsb2F0IGFSb3RhdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICAgZmxvYXQgeCA9IChhVmVydGV4UG9zaXRpb24ueCkgKiBjb3MoYVJvdGF0aW9uKSAtIChhVmVydGV4UG9zaXRpb24ueSkgKiBzaW4oYVJvdGF0aW9uKTtcXG4gICAgZmxvYXQgeSA9IChhVmVydGV4UG9zaXRpb24ueCkgKiBzaW4oYVJvdGF0aW9uKSArIChhVmVydGV4UG9zaXRpb24ueSkgKiBjb3MoYVJvdGF0aW9uKTtcXG5cXG4gICAgdmVjMiB2ID0gdmVjMih4LCB5KTtcXG4gICAgdiA9IHYgKyBhUG9zaXRpb25Db29yZDtcXG5cXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KCh0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzModiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZDb2xvciA9IGFDb2xvciAqIHVDb2xvcjtcXG59XFxuXCI7XG5cbi8qXG4gKiBAYXV0aG9yIE1hdCBHcm92ZXNcbiAqXG4gKiBCaWcgdGhhbmtzIHRvIHRoZSB2ZXJ5IGNsZXZlciBNYXR0IERlc0xhdXJpZXJzIDxtYXR0ZGVzbD4gaHR0cHM6Ly9naXRodWIuY29tL21hdHRkZXNsL1xuICogZm9yIGNyZWF0aW5nIHRoZSBvcmlnaW5hbCBQaXhpSlMgdmVyc2lvbiFcbiAqIEFsc28gYSB0aGFua3MgdG8gaHR0cHM6Ly9naXRodWIuY29tL2JjaGV2YWxpZXIgZm9yIHR3ZWFraW5nIHRoZSB0aW50IGFuZCBhbHBoYSBzbyB0aGF0IHRoZXkgbm93XG4gKiBzaGFyZSA0IGJ5dGVzIG9uIHRoZSB2ZXJ0ZXggYnVmZmVyXG4gKlxuICogSGVhdmlseSBpbnNwaXJlZCBieSBMaWJHRFgncyBQYXJ0aWNsZVJlbmRlcmVyOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2xpYmdkeC9saWJnZHgvYmxvYi9tYXN0ZXIvZ2R4L3NyYy9jb20vYmFkbG9naWMvZ2R4L2dyYXBoaWNzL2cyZC9QYXJ0aWNsZVJlbmRlcmVyLmphdmFcbiAqL1xuLyoqXG4gKiBSZW5kZXJlciBmb3IgUGFydGljbGVzIHRoYXQgaXMgZGVzaWduZXIgZm9yIHNwZWVkIG92ZXIgZmVhdHVyZSBzZXQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUGFydGljbGVSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUGFydGljbGVSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgc3ByaXRlIGJhdGNoIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQYXJ0aWNsZVJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvLyA2NTUzNSBpcyBtYXggdmVydGV4IGluZGV4IGluIHRoZSBpbmRleCBidWZmZXIgKHNlZSBQYXJ0aWNsZVJlbmRlcmVyKVxuICAgICAgICAvLyBzbyBtYXggbnVtYmVyIG9mIHBhcnRpY2xlcyBpcyA2NTUzNiAvIDQgPSAxNjM4NFxuICAgICAgICAvLyBhbmQgbWF4IG51bWJlciBvZiBlbGVtZW50IGluIHRoZSBpbmRleCBidWZmZXIgaXMgMTYzODQgKiA2ID0gOTgzMDRcbiAgICAgICAgLy8gQ3JlYXRpbmcgYSBmdWxsIGluZGV4IGJ1ZmZlciwgb3ZlcmhlYWQgaXMgOTgzMDQgKiAyID0gMTk2S29cbiAgICAgICAgLy8gbGV0IG51bUluZGljZXMgPSA5ODMwNDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IHNoYWRlciB0aGF0IGlzIHVzZWQgaWYgYSBzcHJpdGUgZG9lc24ndCBoYXZlIGEgbW9yZSBzcGVjaWZpYyBvbmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgX3RoaXMucHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIF90aGlzLnRlbXBNYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIF90aGlzLnByb3BlcnRpZXMgPSBbXG4gICAgICAgICAgICAvLyB2ZXJ0aWNlc0RhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYVZlcnRleFBvc2l0aW9uJyxcbiAgICAgICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiBfdGhpcy51cGxvYWRWZXJ0aWNlcyxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gcG9zaXRpb25EYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FQb3NpdGlvbkNvb3JkJyxcbiAgICAgICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiBfdGhpcy51cGxvYWRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gcm90YXRpb25EYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FSb3RhdGlvbicsXG4gICAgICAgICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogX3RoaXMudXBsb2FkUm90YXRpb24sXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHV2c0RhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYVRleHR1cmVDb29yZCcsXG4gICAgICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogX3RoaXMudXBsb2FkVXZzLFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyB0aW50RGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhQ29sb3InLFxuICAgICAgICAgICAgICAgIHNpemU6IDEsXG4gICAgICAgICAgICAgICAgdHlwZTogVFlQRVMuVU5TSUdORURfQllURSxcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogX3RoaXMudXBsb2FkVGludCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9IF07XG4gICAgICAgIF90aGlzLnNoYWRlciA9IFNoYWRlci5mcm9tKHZlcnRleCwgZnJhZ21lbnQsIHt9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBzdGF0ZSBpbiB3aGljaCB0aGlzIHJlbmRlcmVyIHdpbGwgd29yay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TdGF0ZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgcGFydGljbGUgY29udGFpbmVyIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKGNvbnRhaW5lcikge1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBjb250YWluZXIuY2hpbGRyZW47XG4gICAgICAgIHZhciBtYXhTaXplID0gY29udGFpbmVyLl9tYXhTaXplO1xuICAgICAgICB2YXIgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciB0b3RhbENoaWxkcmVuID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICBpZiAodG90YWxDaGlsZHJlbiA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRvdGFsQ2hpbGRyZW4gPiBtYXhTaXplICYmICFjb250YWluZXIuYXV0b1Jlc2l6ZSkge1xuICAgICAgICAgICAgdG90YWxDaGlsZHJlbiA9IG1heFNpemU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBjb250YWluZXIuX2J1ZmZlcnM7XG4gICAgICAgIGlmICghYnVmZmVycykge1xuICAgICAgICAgICAgYnVmZmVycyA9IGNvbnRhaW5lci5fYnVmZmVycyA9IHRoaXMuZ2VuZXJhdGVCdWZmZXJzKGNvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gY2hpbGRyZW5bMF0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIC8vIGlmIHRoZSB1dnMgaGF2ZSBub3QgdXBkYXRlZCB0aGVuIG5vIHBvaW50IHJlbmRlcmluZyBqdXN0IHlldCFcbiAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSBjb3JyZWN0QmxlbmRNb2RlKGNvbnRhaW5lci5ibGVuZE1vZGUsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSk7XG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBtID0gY29udGFpbmVyLndvcmxkVHJhbnNmb3JtLmNvcHlUbyh0aGlzLnRlbXBNYXRyaXgpO1xuICAgICAgICBtLnByZXBlbmQocmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCk7XG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gbS50b0FycmF5KHRydWUpO1xuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy51Q29sb3IgPSBwcmVtdWx0aXBseVJnYmEoY29udGFpbmVyLnRpbnRSZ2IsIGNvbnRhaW5lci53b3JsZEFscGhhLCB0aGlzLnNoYWRlci51bmlmb3Jtcy51Q29sb3IsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSk7XG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gYmFzZVRleHR1cmU7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcy5zaGFkZXIpO1xuICAgICAgICB2YXIgdXBkYXRlU3RhdGljID0gZmFsc2U7XG4gICAgICAgIC8vIG5vdyBsZXRzIHVwbG9hZCBhbmQgcmVuZGVyIHRoZSBidWZmZXJzLi5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSAwOyBpIDwgdG90YWxDaGlsZHJlbjsgaSArPSBiYXRjaFNpemUsIGogKz0gMSkge1xuICAgICAgICAgICAgdmFyIGFtb3VudCA9ICh0b3RhbENoaWxkcmVuIC0gaSk7XG4gICAgICAgICAgICBpZiAoYW1vdW50ID4gYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICAgICAgYW1vdW50ID0gYmF0Y2hTaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGogPj0gYnVmZmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBidWZmZXJzLnB1c2godGhpcy5fZ2VuZXJhdGVPbmVNb3JlQnVmZmVyKGNvbnRhaW5lcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGJ1ZmZlcnNbal07XG4gICAgICAgICAgICAvLyB3ZSBhbHdheXMgdXBsb2FkIHRoZSBkeW5hbWljXG4gICAgICAgICAgICBidWZmZXIudXBsb2FkRHluYW1pYyhjaGlsZHJlbiwgaSwgYW1vdW50KTtcbiAgICAgICAgICAgIHZhciBiaWQgPSBjb250YWluZXIuX2J1ZmZlclVwZGF0ZUlEc1tqXSB8fCAwO1xuICAgICAgICAgICAgdXBkYXRlU3RhdGljID0gdXBkYXRlU3RhdGljIHx8IChidWZmZXIuX3VwZGF0ZUlEIDwgYmlkKTtcbiAgICAgICAgICAgIC8vIHdlIG9ubHkgdXBsb2FkIHRoZSBzdGF0aWMgY29udGVudCB3aGVuIHdlIGhhdmUgdG8hXG4gICAgICAgICAgICBpZiAodXBkYXRlU3RhdGljKSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyLl91cGRhdGVJRCA9IGNvbnRhaW5lci5fdXBkYXRlSUQ7XG4gICAgICAgICAgICAgICAgYnVmZmVyLnVwbG9hZFN0YXRpYyhjaGlsZHJlbiwgaSwgYW1vdW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZChidWZmZXIuZ2VvbWV0cnkpO1xuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUywgYW1vdW50ICogNiwgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG9uZSBwYXJ0aWNsZSBidWZmZXIgZm9yIGVhY2ggY2hpbGQgaW4gdGhlIGNvbnRhaW5lciB3ZSB3YW50IHRvIHJlbmRlciBhbmQgdXBkYXRlcyBpbnRlcm5hbCBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUGFydGljbGVDb250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdG8gcmVuZGVyIHVzaW5nIHRoaXMgUGFydGljbGVSZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1BJWEkuUGFydGljbGVCdWZmZXJbXX0gVGhlIGJ1ZmZlcnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLmdlbmVyYXRlQnVmZmVycyA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgdmFyIHNpemUgPSBjb250YWluZXIuX21heFNpemU7XG4gICAgICAgIHZhciBiYXRjaFNpemUgPSBjb250YWluZXIuX2JhdGNoU2l6ZTtcbiAgICAgICAgdmFyIGR5bmFtaWNQcm9wZXJ0eUZsYWdzID0gY29udGFpbmVyLl9wcm9wZXJ0aWVzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkgKz0gYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICBidWZmZXJzLnB1c2gobmV3IFBhcnRpY2xlQnVmZmVyKHRoaXMucHJvcGVydGllcywgZHluYW1pY1Byb3BlcnR5RmxhZ3MsIGJhdGNoU2l6ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWZmZXJzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBvbmUgbW9yZSBwYXJ0aWNsZSBidWZmZXIsIGJlY2F1c2UgY29udGFpbmVyIGhhcyBhdXRvUmVzaXplIGZlYXR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICogQHJldHVybiB7UElYSS5QYXJ0aWNsZUJ1ZmZlcn0gZ2VuZXJhdGVkIGJ1ZmZlclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUuX2dlbmVyYXRlT25lTW9yZUJ1ZmZlciA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICB2YXIgZHluYW1pY1Byb3BlcnR5RmxhZ3MgPSBjb250YWluZXIuX3Byb3BlcnRpZXM7XG4gICAgICAgIHJldHVybiBuZXcgUGFydGljbGVCdWZmZXIodGhpcy5wcm9wZXJ0aWVzLCBkeW5hbWljUHJvcGVydHlGbGFncywgYmF0Y2hTaXplKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHZlcnRpY2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgdmVydGljZXMgdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFZlcnRpY2VzID0gZnVuY3Rpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICB2YXIgdzAgPSAwO1xuICAgICAgICB2YXIgdzEgPSAwO1xuICAgICAgICB2YXIgaDAgPSAwO1xuICAgICAgICB2YXIgaDEgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldO1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBzcHJpdGUuX3RleHR1cmU7XG4gICAgICAgICAgICB2YXIgc3ggPSBzcHJpdGUuc2NhbGUueDtcbiAgICAgICAgICAgIHZhciBzeSA9IHNwcml0ZS5zY2FsZS55O1xuICAgICAgICAgICAgdmFyIHRyaW0gPSB0ZXh0dXJlLnRyaW07XG4gICAgICAgICAgICB2YXIgb3JpZyA9IHRleHR1cmUub3JpZztcbiAgICAgICAgICAgIGlmICh0cmltKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHNwcml0ZSBpcyB0cmltbWVkIGFuZCBpcyBub3QgYSB0aWxpbmdzcHJpdGUgdGhlbiB3ZSBuZWVkIHRvIGFkZCB0aGVcbiAgICAgICAgICAgICAgICAvLyBleHRyYSBzcGFjZSBiZWZvcmUgdHJhbnNmb3JtaW5nIHRoZSBzcHJpdGUgY29vcmRzLi5cbiAgICAgICAgICAgICAgICB3MSA9IHRyaW0ueCAtIChzcHJpdGUuYW5jaG9yLnggKiBvcmlnLndpZHRoKTtcbiAgICAgICAgICAgICAgICB3MCA9IHcxICsgdHJpbS53aWR0aDtcbiAgICAgICAgICAgICAgICBoMSA9IHRyaW0ueSAtIChzcHJpdGUuYW5jaG9yLnkgKiBvcmlnLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgaDAgPSBoMSArIHRyaW0uaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdzAgPSAob3JpZy53aWR0aCkgKiAoMSAtIHNwcml0ZS5hbmNob3IueCk7XG4gICAgICAgICAgICAgICAgdzEgPSAob3JpZy53aWR0aCkgKiAtc3ByaXRlLmFuY2hvci54O1xuICAgICAgICAgICAgICAgIGgwID0gb3JpZy5oZWlnaHQgKiAoMSAtIHNwcml0ZS5hbmNob3IueSk7XG4gICAgICAgICAgICAgICAgaDEgPSBvcmlnLmhlaWdodCAqIC1zcHJpdGUuYW5jaG9yLnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gaDEgKiBzeTtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSB3MCAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSBoMSAqIHN5O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IHcwICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMikgKyAxXSA9IGgwICogc3k7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKSArIDFdID0gaDAgKiBzeTtcbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBwb3NpdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHBvc2l0aW9ucyB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkUG9zaXRpb24gPSBmdW5jdGlvbiAoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGVQb3NpdGlvbiA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5wb3NpdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHJvdGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFJvdGF0aW9uID0gZnVuY3Rpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlUm90YXRpb24gPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV0ucm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgVXZzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciByb3RhdGlvbiB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkVXZzID0gZnVuY3Rpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZVV2cyA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5fdGV4dHVyZS5fdXZzO1xuICAgICAgICAgICAgaWYgKHRleHR1cmVVdnMpIHtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gdGV4dHVyZVV2cy54MDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IHRleHR1cmVVdnMueTA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHRleHR1cmVVdnMueDE7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSB0ZXh0dXJlVXZzLnkxO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSB0ZXh0dXJlVXZzLngyO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gdGV4dHVyZVV2cy55MjtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gdGV4dHVyZVV2cy54MztcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMykgKyAxXSA9IHRleHR1cmVVdnMueTM7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIHlvdSBrbm93IHRoaXMgY2FuIGJlIGVhc2llciFcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMykgKyAxXSA9IDA7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHRpbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciByb3RhdGlvbiB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkVGludCA9IGZ1bmN0aW9uIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7ICsraSkge1xuICAgICAgICAgICAgdmFyIHNwcml0ZSA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXTtcbiAgICAgICAgICAgIHZhciBwcmVtdWx0aXBsaWVkID0gc3ByaXRlLl90ZXh0dXJlLmJhc2VUZXh0dXJlLmFscGhhTW9kZSA+IDA7XG4gICAgICAgICAgICB2YXIgYWxwaGEgPSBzcHJpdGUuYWxwaGE7XG4gICAgICAgICAgICAvLyB3ZSBkb250IGNhbGwgZXh0cmEgZnVuY3Rpb24gaWYgYWxwaGEgaXMgMS4wLCB0aGF0J3MgZmFzdGVyXG4gICAgICAgICAgICB2YXIgYXJnYiA9IGFscGhhIDwgMS4wICYmIHByZW11bHRpcGxpZWRcbiAgICAgICAgICAgICAgICA/IHByZW11bHRpcGx5VGludChzcHJpdGUuX3RpbnRSR0IsIGFscGhhKSA6IHNwcml0ZS5fdGludFJHQiArIChhbHBoYSAqIDI1NSA8PCAyNCk7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gYXJnYjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBhcmdiO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IGFyZ2I7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gYXJnYjtcbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgUGFydGljbGVSZW5kZXJlci5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZW1wTWF0cml4ID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBQYXJ0aWNsZVJlbmRlcmVyO1xufShPYmplY3RSZW5kZXJlcikpO1xuXG5leHBvcnQgeyBQYXJ0aWNsZUNvbnRhaW5lciwgUGFydGljbGVSZW5kZXJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFydGljbGVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9ncmFwaGljcyAtIHY2LjAuMFxuICogQ29tcGlsZWQgVHVlLCAwMiBNYXIgMjAyMSAyMTo0NTowMyBVVENcbiAqXG4gKiBAcGl4aS9ncmFwaGljcyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFRleHR1cmUsIEJhc2VUZXh0dXJlLCBCYXRjaERyYXdDYWxsLCBCYXRjaFRleHR1cmVBcnJheSwgQmF0Y2hHZW9tZXRyeSwgVW5pZm9ybUdyb3VwLCBTaGFkZXIsIFN0YXRlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBTSEFQRVMsIFBvaW50LCBQSV8yLCBNYXRyaXgsIFBvbHlnb24sIFJlY3RhbmdsZSwgUm91bmRlZFJlY3RhbmdsZSwgQ2lyY2xlLCBFbGxpcHNlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBlYXJjdXQsIHByZW11bHRpcGx5VGludCwgaGV4MnJnYiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IFdSQVBfTU9ERVMsIERSQVdfTU9ERVMsIEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IEJvdW5kcywgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5cbi8qKlxuICogU3VwcG9ydGVkIGxpbmUgam9pbnRzIGluIGBQSVhJLkxpbmVTdHlsZWAgZm9yIGdyYXBoaWNzLlxuICpcbiAqIEBzZWUgUElYSS5HcmFwaGljcyNsaW5lU3R5bGVcbiAqIEBzZWUgaHR0cHM6Ly9ncmFwaGljZGVzaWduLnN0YWNrZXhjaGFuZ2UuY29tL3F1ZXN0aW9ucy81OTAxOC93aGF0LWlzLWEtYmV2ZWwtam9pbi1vZi10d28tbGluZXMtZXhhY3RseS1pbGx1c3RyYXRvclxuICpcbiAqIEBuYW1lIExJTkVfSk9JTlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJvcGVydHkge3N0cmluZ30gTUlURVIgLSAnbWl0ZXInOiBtYWtlIGEgc2hhcnAgY29ybmVyIHdoZXJlIG91dGVyIHBhcnQgb2YgbGluZXMgbWVldFxuICogQHByb3BlcnR5IHtzdHJpbmd9IEJFVkVMIC0gJ2JldmVsJzogYWRkIGEgc3F1YXJlIGJ1dHQgYXQgZWFjaCBlbmQgb2YgbGluZSBzZWdtZW50IGFuZCBmaWxsIHRoZSB0cmlhbmdsZSBhdCB0dXJuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gUk9VTkQgLSAncm91bmQnOiBhZGQgYW4gYXJjIGF0IHRoZSBqb2ludFxuICovXG52YXIgTElORV9KT0lOO1xuKGZ1bmN0aW9uIChMSU5FX0pPSU4pIHtcbiAgICBMSU5FX0pPSU5bXCJNSVRFUlwiXSA9IFwibWl0ZXJcIjtcbiAgICBMSU5FX0pPSU5bXCJCRVZFTFwiXSA9IFwiYmV2ZWxcIjtcbiAgICBMSU5FX0pPSU5bXCJST1VORFwiXSA9IFwicm91bmRcIjtcbn0pKExJTkVfSk9JTiB8fCAoTElORV9KT0lOID0ge30pKTtcbi8qKlxuICogU3VwcG9ydCBsaW5lIGNhcHMgaW4gYFBJWEkuTGluZVN0eWxlYCBmb3IgZ3JhcGhpY3MuXG4gKlxuICogQHNlZSBQSVhJLkdyYXBoaWNzI2xpbmVTdHlsZVxuICpcbiAqIEBuYW1lIExJTkVfQ0FQXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge3N0cmluZ31cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBCVVRUIC0gJ2J1dHQnOiBkb24ndCBhZGQgYW55IGNhcCBhdCBsaW5lIGVuZHMgKGxlYXZlcyBvcnRob2dvbmFsIGVkZ2VzKVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFJPVU5EIC0gJ3JvdW5kJzogYWRkIHNlbWljaXJjbGUgYXQgZW5kc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFNRVUFSRSAtICdzcXVhcmUnOiBhZGQgc3F1YXJlIGF0IGVuZCAobGlrZSBgQlVUVGAgZXhjZXB0IG1vcmUgbGVuZ3RoIGF0IGVuZClcbiAqL1xudmFyIExJTkVfQ0FQO1xuKGZ1bmN0aW9uIChMSU5FX0NBUCkge1xuICAgIExJTkVfQ0FQW1wiQlVUVFwiXSA9IFwiYnV0dFwiO1xuICAgIExJTkVfQ0FQW1wiUk9VTkRcIl0gPSBcInJvdW5kXCI7XG4gICAgTElORV9DQVBbXCJTUVVBUkVcIl0gPSBcInNxdWFyZVwiO1xufSkoTElORV9DQVAgfHwgKExJTkVfQ0FQID0ge30pKTtcbi8qKlxuICogR3JhcGhpY3MgY3VydmVzIHJlc29sdXRpb24gc2V0dGluZ3MuIElmIGBhZGFwdGl2ZWAgZmxhZyBpcyBzZXQgdG8gYHRydWVgLFxuICogdGhlIHJlc29sdXRpb24gaXMgY2FsY3VsYXRlZCBiYXNlZCBvbiB0aGUgY3VydmUncyBsZW5ndGggdG8gZW5zdXJlIGJldHRlciB2aXN1YWwgcXVhbGl0eS5cbiAqIEFkYXB0aXZlIGRyYXcgd29ya3Mgd2l0aCBgYmV6aWVyQ3VydmVUb2AgYW5kIGBxdWFkcmF0aWNDdXJ2ZVRvYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBHUkFQSElDU19DVVJWRVNcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGFkYXB0aXZlPXRydWUgLSBmbGFnIGluZGljYXRpbmcgaWYgdGhlIHJlc29sdXRpb24gc2hvdWxkIGJlIGFkYXB0aXZlXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4TGVuZ3RoPTEwIC0gbWF4aW1hbCBsZW5ndGggb2YgYSBzaW5nbGUgc2VnbWVudCBvZiB0aGUgY3VydmUgKGlmIGFkYXB0aXZlID0gZmFsc2UsIGlnbm9yZWQpXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWluU2VnbWVudHM9OCAtIG1pbmltYWwgbnVtYmVyIG9mIHNlZ21lbnRzIGluIHRoZSBjdXJ2ZSAoaWYgYWRhcHRpdmUgPSBmYWxzZSwgaWdub3JlZClcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhTZWdtZW50cz0yMDQ4IC0gbWF4aW1hbCBudW1iZXIgb2Ygc2VnbWVudHMgaW4gdGhlIGN1cnZlIChpZiBhZGFwdGl2ZSA9IGZhbHNlLCBpZ25vcmVkKVxuICovXG52YXIgR1JBUEhJQ1NfQ1VSVkVTID0ge1xuICAgIGFkYXB0aXZlOiB0cnVlLFxuICAgIG1heExlbmd0aDogMTAsXG4gICAgbWluU2VnbWVudHM6IDgsXG4gICAgbWF4U2VnbWVudHM6IDIwNDgsXG4gICAgZXBzaWxvbjogMC4wMDAxLFxuICAgIF9zZWdtZW50c0NvdW50OiBmdW5jdGlvbiAobGVuZ3RoLCBkZWZhdWx0U2VnbWVudHMpIHtcbiAgICAgICAgaWYgKGRlZmF1bHRTZWdtZW50cyA9PT0gdm9pZCAwKSB7IGRlZmF1bHRTZWdtZW50cyA9IDIwOyB9XG4gICAgICAgIGlmICghdGhpcy5hZGFwdGl2ZSB8fCAhbGVuZ3RoIHx8IGlzTmFOKGxlbmd0aCkpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0U2VnbWVudHM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IE1hdGguY2VpbChsZW5ndGggLyB0aGlzLm1heExlbmd0aCk7XG4gICAgICAgIGlmIChyZXN1bHQgPCB0aGlzLm1pblNlZ21lbnRzKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLm1pblNlZ21lbnRzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlc3VsdCA+IHRoaXMubWF4U2VnbWVudHMpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubWF4U2VnbWVudHM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxufTtcblxuLyoqXG4gKiBGaWxsIHN0eWxlIG9iamVjdCBmb3IgR3JhcGhpY3MuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRmlsbFN0eWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZpbGxTdHlsZSgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZXggY29sb3IgdmFsdWUgdXNlZCB3aGVuIGNvbG9yaW5nIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29sb3IgPSAweEZGRkZGRjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbHBoYSB2YWx1ZSB1c2VkIHdoZW4gZmlsbGluZyB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWxwaGEgPSAxLjA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB0byBiZSB1c2VkIGZvciB0aGUgZmlsbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHR1cmUgPSBUZXh0dXJlLldISVRFO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRyYW5zZm9ybSBhcHBsaWVkIHRvIHRoZSB0ZXh0dXJlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXRyaXggPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIGN1cnJlbnQgZmlsbCBpcyB2aXNpYmxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuRmlsbFN0eWxlfVxuICAgICAqL1xuICAgIEZpbGxTdHlsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvYmogPSBuZXcgRmlsbFN0eWxlKCk7XG4gICAgICAgIG9iai5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIG9iai5hbHBoYSA9IHRoaXMuYWxwaGE7XG4gICAgICAgIG9iai50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICBvYmoubWF0cml4ID0gdGhpcy5tYXRyaXg7XG4gICAgICAgIG9iai52aXNpYmxlID0gdGhpcy52aXNpYmxlO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXRcbiAgICAgKi9cbiAgICBGaWxsU3R5bGUucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNvbG9yID0gMHhGRkZGRkY7XG4gICAgICAgIHRoaXMuYWxwaGEgPSAxO1xuICAgICAgICB0aGlzLnRleHR1cmUgPSBUZXh0dXJlLldISVRFO1xuICAgICAgICB0aGlzLm1hdHJpeCA9IG51bGw7XG4gICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXNcbiAgICAgKi9cbiAgICBGaWxsU3R5bGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHRoaXMubWF0cml4ID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBGaWxsU3R5bGU7XG59KCkpO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBCdWlsZHMgYSBwb2x5Z29uIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbnZhciBidWlsZFBvbHkgPSB7XG4gICAgYnVpbGQ6IGZ1bmN0aW9uIChncmFwaGljc0RhdGEpIHtcbiAgICAgICAgZ3JhcGhpY3NEYXRhLnBvaW50cyA9IGdyYXBoaWNzRGF0YS5zaGFwZS5wb2ludHMuc2xpY2UoKTtcbiAgICB9LFxuICAgIHRyaWFuZ3VsYXRlOiBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KSB7XG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICB2YXIgaG9sZXMgPSBncmFwaGljc0RhdGEuaG9sZXM7XG4gICAgICAgIHZhciB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcztcbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPj0gNikge1xuICAgICAgICAgICAgdmFyIGhvbGVBcnJheSA9IFtdO1xuICAgICAgICAgICAgLy8gUHJvY2VzcyBob2xlcy4uXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhvbGUgPSBob2xlc1tpXTtcbiAgICAgICAgICAgICAgICBob2xlQXJyYXkucHVzaChwb2ludHMubGVuZ3RoIC8gMik7XG4gICAgICAgICAgICAgICAgcG9pbnRzID0gcG9pbnRzLmNvbmNhdChob2xlLnBvaW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzb3J0IGNvbG9yXG4gICAgICAgICAgICB2YXIgdHJpYW5nbGVzID0gZWFyY3V0KHBvaW50cywgaG9sZUFycmF5LCAyKTtcbiAgICAgICAgICAgIGlmICghdHJpYW5nbGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHZlcnRQb3MgPSB2ZXJ0cy5sZW5ndGggLyAyO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmlhbmdsZXMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2ldICsgdmVydFBvcyk7XG4gICAgICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAyXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxufTtcblxuLy8gZm9yIHR5cGUgb25seVxuLyoqXG4gKiBCdWlsZHMgYSBjaXJjbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgdG8gZHJhd1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbnZhciBidWlsZENpcmNsZSA9IHtcbiAgICBidWlsZDogZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSkge1xuICAgICAgICAvLyBuZWVkIHRvIGNvbnZlcnQgcG9pbnRzIHRvIGEgbmljZSByZWd1bGFyIGRhdGFcbiAgICAgICAgdmFyIGNpcmNsZURhdGEgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICB2YXIgeCA9IGNpcmNsZURhdGEueDtcbiAgICAgICAgdmFyIHkgPSBjaXJjbGVEYXRhLnk7XG4gICAgICAgIHZhciB3aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodDtcbiAgICAgICAgcG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIC8vIFRPRE8gLSBiaXQgaGFja3k/P1xuICAgICAgICBpZiAoZ3JhcGhpY3NEYXRhLnR5cGUgPT09IFNIQVBFUy5DSVJDKSB7XG4gICAgICAgICAgICB3aWR0aCA9IGNpcmNsZURhdGEucmFkaXVzO1xuICAgICAgICAgICAgaGVpZ2h0ID0gY2lyY2xlRGF0YS5yYWRpdXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZWxsaXBzZURhdGEgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgICAgICAgICB3aWR0aCA9IGVsbGlwc2VEYXRhLndpZHRoO1xuICAgICAgICAgICAgaGVpZ2h0ID0gZWxsaXBzZURhdGEuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh3aWR0aCA9PT0gMCB8fCBoZWlnaHQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdG90YWxTZWdzID0gTWF0aC5mbG9vcigzMCAqIE1hdGguc3FydChjaXJjbGVEYXRhLnJhZGl1cykpXG4gICAgICAgICAgICB8fCBNYXRoLmZsb29yKDE1ICogTWF0aC5zcXJ0KHdpZHRoICsgaGVpZ2h0KSk7XG4gICAgICAgIHRvdGFsU2VncyAvPSAyLjM7XG4gICAgICAgIHZhciBzZWcgPSAoTWF0aC5QSSAqIDIpIC8gdG90YWxTZWdzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsU2VncyAtIDAuNTsgaSsrKSB7XG4gICAgICAgICAgICBwb2ludHMucHVzaCh4ICsgKE1hdGguc2luKC1zZWcgKiBpKSAqIHdpZHRoKSwgeSArIChNYXRoLmNvcygtc2VnICogaSkgKiBoZWlnaHQpKTtcbiAgICAgICAgfVxuICAgICAgICBwb2ludHMucHVzaChwb2ludHNbMF0sIHBvaW50c1sxXSk7XG4gICAgfSxcbiAgICB0cmlhbmd1bGF0ZTogZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSkge1xuICAgICAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuICAgICAgICB2YXIgdmVydFBvcyA9IHZlcnRzLmxlbmd0aCAvIDI7XG4gICAgICAgIHZhciBjZW50ZXIgPSB2ZXJ0UG9zO1xuICAgICAgICB2YXIgY2lyY2xlID0gKGdyYXBoaWNzRGF0YS5zaGFwZSk7XG4gICAgICAgIHZhciBtYXRyaXggPSBncmFwaGljc0RhdGEubWF0cml4O1xuICAgICAgICB2YXIgeCA9IGNpcmNsZS54O1xuICAgICAgICB2YXIgeSA9IGNpcmNsZS55O1xuICAgICAgICAvLyBQdXNoIGNlbnRlciAoc3BlY2lhbCBwb2ludClcbiAgICAgICAgdmVydHMucHVzaChncmFwaGljc0RhdGEubWF0cml4ID8gKG1hdHJpeC5hICogeCkgKyAobWF0cml4LmMgKiB5KSArIG1hdHJpeC50eCA6IHgsIGdyYXBoaWNzRGF0YS5tYXRyaXggPyAobWF0cml4LmIgKiB4KSArIChtYXRyaXguZCAqIHkpICsgbWF0cml4LnR5IDogeSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1tpXSwgcG9pbnRzW2kgKyAxXSk7XG4gICAgICAgICAgICAvLyBhZGQgc29tZSB1dnNcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh2ZXJ0UG9zKyssIGNlbnRlciwgdmVydFBvcyk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcblxuLyoqXG4gKiBCdWlsZHMgYSByZWN0YW5nbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkUmVjdGFuZ2xlID0ge1xuICAgIGJ1aWxkOiBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhKSB7XG4gICAgICAgIC8vIC0tLSAvL1xuICAgICAgICAvLyBuZWVkIHRvIGNvbnZlcnQgcG9pbnRzIHRvIGEgbmljZSByZWd1bGFyIGRhdGFcbiAgICAgICAgLy9cbiAgICAgICAgdmFyIHJlY3REYXRhID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgICAgICB2YXIgeCA9IHJlY3REYXRhLng7XG4gICAgICAgIHZhciB5ID0gcmVjdERhdGEueTtcbiAgICAgICAgdmFyIHdpZHRoID0gcmVjdERhdGEud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSByZWN0RGF0YS5oZWlnaHQ7XG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICBwb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgcG9pbnRzLnB1c2goeCwgeSwgeCArIHdpZHRoLCB5LCB4ICsgd2lkdGgsIHkgKyBoZWlnaHQsIHgsIHkgKyBoZWlnaHQpO1xuICAgIH0sXG4gICAgdHJpYW5ndWxhdGU6IGZ1bmN0aW9uIChncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuICAgICAgICB2YXIgdmVydFBvcyA9IHZlcnRzLmxlbmd0aCAvIDI7XG4gICAgICAgIHZlcnRzLnB1c2gocG9pbnRzWzBdLCBwb2ludHNbMV0sIHBvaW50c1syXSwgcG9pbnRzWzNdLCBwb2ludHNbNl0sIHBvaW50c1s3XSwgcG9pbnRzWzRdLCBwb2ludHNbNV0pO1xuICAgICAgICBncmFwaGljc0dlb21ldHJ5LmluZGljZXMucHVzaCh2ZXJ0UG9zLCB2ZXJ0UG9zICsgMSwgdmVydFBvcyArIDIsIHZlcnRQb3MgKyAxLCB2ZXJ0UG9zICsgMiwgdmVydFBvcyArIDMpO1xuICAgIH0sXG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZSBhIHNpbmdsZSBwb2ludCBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlLlxuICogVXRpbGl0eSBmdW5jdGlvbiB1c2VkIGJ5IHF1YWRyYXRpY0JlemllckN1cnZlLlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuMSAtIGZpcnN0IG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IG4yIC0gc2Vjb25kIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHBlcmMgLSBwZXJjZW50YWdlXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHRoZSByZXN1bHRcbiAqXG4gKi9cbmZ1bmN0aW9uIGdldFB0KG4xLCBuMiwgcGVyYykge1xuICAgIHZhciBkaWZmID0gbjIgLSBuMTtcbiAgICByZXR1cm4gbjEgKyAoZGlmZiAqIHBlcmMpO1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlLiAoaGVscGVyIGZ1bmN0aW9uLi4pXG4gKiBCYXNlZCBvbjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg1MDk3L2hvdy1kby1pLWltcGxlbWVudC1hLWJlemllci1jdXJ2ZS1pbi1jXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWCAtIE9yaWdpbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbVkgLSBPcmlnaW4gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcltdfSBbb3V0PVtdXSAtIFRoZSBvdXRwdXQgYXJyYXkgdG8gYWRkIHBvaW50cyBpbnRvLiBJZiBub3QgcGFzc2VkLCBhIG5ldyBhcnJheSBpcyBjcmVhdGVkLlxuICogQHJldHVybiB7bnVtYmVyW119IGFuIGFycmF5IG9mIHBvaW50c1xuICovXG5mdW5jdGlvbiBxdWFkcmF0aWNCZXppZXJDdXJ2ZShmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCB0b1gsIHRvWSwgb3V0KSB7XG4gICAgaWYgKG91dCA9PT0gdm9pZCAwKSB7IG91dCA9IFtdOyB9XG4gICAgdmFyIG4gPSAyMDtcbiAgICB2YXIgcG9pbnRzID0gb3V0O1xuICAgIHZhciB4YSA9IDA7XG4gICAgdmFyIHlhID0gMDtcbiAgICB2YXIgeGIgPSAwO1xuICAgIHZhciB5YiA9IDA7XG4gICAgdmFyIHggPSAwO1xuICAgIHZhciB5ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IDA7IGkgPD0gbjsgKytpKSB7XG4gICAgICAgIGogPSBpIC8gbjtcbiAgICAgICAgLy8gVGhlIEdyZWVuIExpbmVcbiAgICAgICAgeGEgPSBnZXRQdChmcm9tWCwgY3BYLCBqKTtcbiAgICAgICAgeWEgPSBnZXRQdChmcm9tWSwgY3BZLCBqKTtcbiAgICAgICAgeGIgPSBnZXRQdChjcFgsIHRvWCwgaik7XG4gICAgICAgIHliID0gZ2V0UHQoY3BZLCB0b1ksIGopO1xuICAgICAgICAvLyBUaGUgQmxhY2sgRG90XG4gICAgICAgIHggPSBnZXRQdCh4YSwgeGIsIGopO1xuICAgICAgICB5ID0gZ2V0UHQoeWEsIHliLCBqKTtcbiAgICAgICAgcG9pbnRzLnB1c2goeCwgeSk7XG4gICAgfVxuICAgIHJldHVybiBwb2ludHM7XG59XG4vKipcbiAqIEJ1aWxkcyBhIHJvdW5kZWQgcmVjdGFuZ2xlIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbnZhciBidWlsZFJvdW5kZWRSZWN0YW5nbGUgPSB7XG4gICAgYnVpbGQ6IGZ1bmN0aW9uIChncmFwaGljc0RhdGEpIHtcbiAgICAgICAgdmFyIHJyZWN0RGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciB4ID0gcnJlY3REYXRhLng7XG4gICAgICAgIHZhciB5ID0gcnJlY3REYXRhLnk7XG4gICAgICAgIHZhciB3aWR0aCA9IHJyZWN0RGF0YS53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHJyZWN0RGF0YS5oZWlnaHQ7XG4gICAgICAgIC8vIERvbid0IGFsbG93IG5lZ2F0aXZlIHJhZGl1cyBvciBncmVhdGVyIHRoYW4gaGFsZiB0aGUgc21hbGxlc3Qgd2lkdGhcbiAgICAgICAgdmFyIHJhZGl1cyA9IE1hdGgubWF4KDAsIE1hdGgubWluKHJyZWN0RGF0YS5yYWRpdXMsIE1hdGgubWluKHdpZHRoLCBoZWlnaHQpIC8gMikpO1xuICAgICAgICBwb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgLy8gTm8gcmFkaXVzLCBkbyBhIHNpbXBsZSByZWN0YW5nbGVcbiAgICAgICAgaWYgKCFyYWRpdXMpIHtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHgsIHksIHggKyB3aWR0aCwgeSwgeCArIHdpZHRoLCB5ICsgaGVpZ2h0LCB4LCB5ICsgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHgsIHkgKyByYWRpdXMsIHgsIHksIHggKyByYWRpdXMsIHksIHBvaW50cyk7XG4gICAgICAgICAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4ICsgd2lkdGggLSByYWRpdXMsIHksIHggKyB3aWR0aCwgeSwgeCArIHdpZHRoLCB5ICsgcmFkaXVzLCBwb2ludHMpO1xuICAgICAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHdpZHRoLCB5ICsgaGVpZ2h0IC0gcmFkaXVzLCB4ICsgd2lkdGgsIHkgKyBoZWlnaHQsIHggKyB3aWR0aCAtIHJhZGl1cywgeSArIGhlaWdodCwgcG9pbnRzKTtcbiAgICAgICAgICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHggKyByYWRpdXMsIHkgKyBoZWlnaHQsIHgsIHkgKyBoZWlnaHQsIHgsIHkgKyBoZWlnaHQgLSByYWRpdXMsIHBvaW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhpcyB0aW55IG51bWJlciBkZWFscyB3aXRoIHRoZSBpc3N1ZSB0aGF0IG9jY3VycyB3aGVuIHBvaW50cyBvdmVybGFwIGFuZCBlYXJjdXQgZmFpbHMgdG8gdHJpYW5ndWxhdGUgdGhlIGl0ZW0uXG4gICAgICAgIC8vIFRPRE8gLSBmaXggdGhpcyBwcm9wZXJseSwgdGhpcyBpcyBub3QgdmVyeSBlbGVnYW50Li4gYnV0IGl0IHdvcmtzIGZvciBub3cuXG4gICAgfSxcbiAgICB0cmlhbmd1bGF0ZTogZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSkge1xuICAgICAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuICAgICAgICB2YXIgdmVjUG9zID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICAgICAgdmFyIHRyaWFuZ2xlcyA9IGVhcmN1dChwb2ludHMsIG51bGwsIDIpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRyaWFuZ2xlcy5sZW5ndGg7IGkgPCBqOyBpICs9IDMpIHtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgLy8gICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMV0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgLy8gICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAyXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAyXSArIHZlY1Bvcyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSBwb2ludHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1tpXSwgcG9pbnRzWysraV0pO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5cbi8qKlxuICogQnVmZmVycyB2ZXJ0aWNlcyB0byBkcmF3IGEgc3F1YXJlIGNhcC5cbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHggLSBYLWNvb3JkIG9mIGVuZCBwb2ludFxuICogQHBhcmFtIHtudW1iZXJ9IHkgLSBZLWNvb3JkIG9mIGVuZCBwb2ludFxuICogQHBhcmFtIHtudW1iZXJ9IG54IC0gWC1jb29yZCBvZiBsaW5lIG5vcm1hbCBwb2ludGluZyBpbnNpZGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBueSAtIFktY29vcmQgb2YgbGluZSBub3JtYWwgcG9pbnRpbmcgaW5zaWRlXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHZlcnRzIC0gdmVydGV4IGJ1ZmZlclxuICogQHJldHVybnMge31cbiAqL1xuZnVuY3Rpb24gc3F1YXJlKHgsIHksIG54LCBueSwgaW5uZXJXZWlnaHQsIG91dGVyV2VpZ2h0LCBjbG9ja3dpc2UsIC8qIHJvdGF0aW9uIGZvciBzcXVhcmUgKHRydWUgYXQgbGVmdCBlbmQsIGZhbHNlIGF0IHJpZ2h0IGVuZCkgKi8gdmVydHMpIHtcbiAgICB2YXIgaXggPSB4IC0gKG54ICogaW5uZXJXZWlnaHQpO1xuICAgIHZhciBpeSA9IHkgLSAobnkgKiBpbm5lcldlaWdodCk7XG4gICAgdmFyIG94ID0geCArIChueCAqIG91dGVyV2VpZ2h0KTtcbiAgICB2YXIgb3kgPSB5ICsgKG55ICogb3V0ZXJXZWlnaHQpO1xuICAgIC8qIFJvdGF0ZSBueCxueSBmb3IgZXh0ZW5zaW9uIHZlY3RvciAqL1xuICAgIHZhciBleHg7XG4gICAgdmFyIGV5eTtcbiAgICBpZiAoY2xvY2t3aXNlKSB7XG4gICAgICAgIGV4eCA9IG55O1xuICAgICAgICBleXkgPSAtbng7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBleHggPSAtbnk7XG4gICAgICAgIGV5eSA9IG54O1xuICAgIH1cbiAgICAvKiBbaXwwXXgseSBleHRlbmRlZCBhdCBjYXAgKi9cbiAgICB2YXIgZWl4ID0gaXggKyBleHg7XG4gICAgdmFyIGVpeSA9IGl5ICsgZXl5O1xuICAgIHZhciBlb3ggPSBveCArIGV4eDtcbiAgICB2YXIgZW95ID0gb3kgKyBleXk7XG4gICAgLyogU3F1YXJlIGl0c2VsZiBtdXN0IGJlIGluc2VydGVkIGNsb2Nrd2lzZSovXG4gICAgdmVydHMucHVzaChlaXgsIGVpeSk7XG4gICAgdmVydHMucHVzaChlb3gsIGVveSk7XG4gICAgcmV0dXJuIDI7XG59XG4vKipcbiAqIEJ1ZmZlcnMgdmVydGljZXMgdG8gZHJhdyBhbiBhcmMgYXQgdGhlIGxpbmUgam9pbnQgb3IgY2FwLlxuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gY3ggLSBYLWNvb3JkIG9mIGNlbnRlclxuICogQHBhcmFtIHtudW1iZXJ9IGN5IC0gWS1jb29yZCBvZiBjZW50ZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzeCAtIFgtY29vcmQgb2YgYXJjIHN0YXJ0XG4gKiBAcGFyYW0ge251bWJlcn0gc3kgLSBZLWNvb3JkIG9mIGFyYyBzdGFydFxuICogQHBhcmFtIHtudW1iZXJ9IGV4IC0gWC1jb29yZCBvZiBhcmMgZW5kXG4gKiBAcGFyYW0ge251bWJlcn0gZXkgLSBZLWNvb3JkIG9mIGFyYyBlbmRcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gdmVydHMgLSBidWZmZXIgb2YgdmVydGljZXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xvY2t3aXNlIC0gb3JpZW50YXRpb24gb2YgdmVydGljZXNcbiAqIEByZXR1cm5zIHtudW1iZXJ9IC0gbm8uIG9mIHZlcnRpY2VzIHB1c2hlZFxuICovXG5mdW5jdGlvbiByb3VuZChjeCwgY3ksIHN4LCBzeSwgZXgsIGV5LCB2ZXJ0cywgY2xvY2t3aXNlKSB7XG4gICAgdmFyIGN4MnAweCA9IHN4IC0gY3g7XG4gICAgdmFyIGN5MnAweSA9IHN5IC0gY3k7XG4gICAgdmFyIGFuZ2xlMCA9IE1hdGguYXRhbjIoY3gycDB4LCBjeTJwMHkpO1xuICAgIHZhciBhbmdsZTEgPSBNYXRoLmF0YW4yKGV4IC0gY3gsIGV5IC0gY3kpO1xuICAgIGlmIChjbG9ja3dpc2UgJiYgYW5nbGUwIDwgYW5nbGUxKSB7XG4gICAgICAgIGFuZ2xlMCArPSBNYXRoLlBJICogMjtcbiAgICB9XG4gICAgZWxzZSBpZiAoIWNsb2Nrd2lzZSAmJiBhbmdsZTAgPiBhbmdsZTEpIHtcbiAgICAgICAgYW5nbGUxICs9IE1hdGguUEkgKiAyO1xuICAgIH1cbiAgICB2YXIgc3RhcnRBbmdsZSA9IGFuZ2xlMDtcbiAgICB2YXIgYW5nbGVEaWZmID0gYW5nbGUxIC0gYW5nbGUwO1xuICAgIHZhciBhYnNBbmdsZURpZmYgPSBNYXRoLmFicyhhbmdsZURpZmYpO1xuICAgIC8qIGlmIChhYnNBbmdsZURpZmYgPj0gUElfTEJPVU5EICYmIGFic0FuZ2xlRGlmZiA8PSBQSV9VQk9VTkQpXG4gICAge1xuICAgICAgICBjb25zdCByMXggPSBjeCAtIG54dFB4O1xuICAgICAgICBjb25zdCByMXkgPSBjeSAtIG54dFB5O1xuXG4gICAgICAgIGlmIChyMXggPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChyMXkgPiAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFuZ2xlRGlmZiA9IC1hbmdsZURpZmY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocjF4ID49IC1HUkFQSElDU19DVVJWRVMuZXBzaWxvbilcbiAgICAgICAge1xuICAgICAgICAgICAgYW5nbGVEaWZmID0gLWFuZ2xlRGlmZjtcbiAgICAgICAgfVxuICAgIH0qL1xuICAgIHZhciByYWRpdXMgPSBNYXRoLnNxcnQoKGN4MnAweCAqIGN4MnAweCkgKyAoY3kycDB5ICogY3kycDB5KSk7XG4gICAgdmFyIHNlZ0NvdW50ID0gKCgxNSAqIGFic0FuZ2xlRGlmZiAqIE1hdGguc3FydChyYWRpdXMpIC8gTWF0aC5QSSkgPj4gMCkgKyAxO1xuICAgIHZhciBhbmdsZUluYyA9IGFuZ2xlRGlmZiAvIHNlZ0NvdW50O1xuICAgIHN0YXJ0QW5nbGUgKz0gYW5nbGVJbmM7XG4gICAgaWYgKGNsb2Nrd2lzZSkge1xuICAgICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG4gICAgICAgIHZlcnRzLnB1c2goc3gsIHN5KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDEsIGFuZ2xlID0gc3RhcnRBbmdsZTsgaSA8IHNlZ0NvdW50OyBpKyssIGFuZ2xlICs9IGFuZ2xlSW5jKSB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKGN4ICsgKChNYXRoLnNpbihhbmdsZSkgKiByYWRpdXMpKSwgY3kgKyAoKE1hdGguY29zKGFuZ2xlKSAqIHJhZGl1cykpKTtcbiAgICAgICAgfVxuICAgICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG4gICAgICAgIHZlcnRzLnB1c2goZXgsIGV5KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZlcnRzLnB1c2goc3gsIHN5KTtcbiAgICAgICAgdmVydHMucHVzaChjeCwgY3kpO1xuICAgICAgICBmb3IgKHZhciBpID0gMSwgYW5nbGUgPSBzdGFydEFuZ2xlOyBpIDwgc2VnQ291bnQ7IGkrKywgYW5nbGUgKz0gYW5nbGVJbmMpIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goY3ggKyAoKE1hdGguc2luKGFuZ2xlKSAqIHJhZGl1cykpLCBjeSArICgoTWF0aC5jb3MoYW5nbGUpICogcmFkaXVzKSkpO1xuICAgICAgICAgICAgdmVydHMucHVzaChjeCwgY3kpO1xuICAgICAgICB9XG4gICAgICAgIHZlcnRzLnB1c2goZXgsIGV5KTtcbiAgICAgICAgdmVydHMucHVzaChjeCwgY3kpO1xuICAgIH1cbiAgICByZXR1cm4gc2VnQ291bnQgKiAyO1xufVxuLyoqXG4gKiBCdWlsZHMgYSBsaW5lIHRvIGRyYXcgdXNpbmcgdGhlIHBvbHlnb24gbWV0aG9kLlxuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IGdyYXBoaWNzR2VvbWV0cnkgLSBHZW9tZXRyeSB3aGVyZSB0byBhcHBlbmQgb3V0cHV0XG4gKi9cbmZ1bmN0aW9uIGJ1aWxkTm9uTmF0aXZlTGluZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpIHtcbiAgICB2YXIgc2hhcGUgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHMgfHwgc2hhcGUucG9pbnRzLnNsaWNlKCk7XG4gICAgdmFyIGVwcyA9IGdyYXBoaWNzR2VvbWV0cnkuY2xvc2VQb2ludEVwcztcbiAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGlmIHRoZSBsaW5lIHdpZHRoIGlzIGFuIG9kZCBudW1iZXIgYWRkIDAuNSB0byBhbGlnbiB0byBhIHdob2xlIHBpeGVsXG4gICAgLy8gY29tbWVudGluZyB0aGlzIG91dCBmaXhlcyAjNzExIGFuZCAjMTYyMFxuICAgIC8vIGlmIChncmFwaGljc0RhdGEubGluZVdpZHRoJTIpXG4gICAgLy8ge1xuICAgIC8vICAgICBmb3IgKGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKVxuICAgIC8vICAgICB7XG4gICAgLy8gICAgICAgICBwb2ludHNbaV0gKz0gMC41O1xuICAgIC8vICAgICB9XG4gICAgLy8gfVxuICAgIHZhciBzdHlsZSA9IGdyYXBoaWNzRGF0YS5saW5lU3R5bGU7XG4gICAgLy8gZ2V0IGZpcnN0IGFuZCBsYXN0IHBvaW50Li4gZmlndXJlIG91dCB0aGUgbWlkZGxlIVxuICAgIHZhciBmaXJzdFBvaW50ID0gbmV3IFBvaW50KHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgICB2YXIgbGFzdFBvaW50ID0gbmV3IFBvaW50KHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0sIHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pO1xuICAgIHZhciBjbG9zZWRTaGFwZSA9IHNoYXBlLnR5cGUgIT09IFNIQVBFUy5QT0xZIHx8IHNoYXBlLmNsb3NlU3Ryb2tlO1xuICAgIHZhciBjbG9zZWRQYXRoID0gTWF0aC5hYnMoZmlyc3RQb2ludC54IC0gbGFzdFBvaW50LngpIDwgZXBzXG4gICAgICAgICYmIE1hdGguYWJzKGZpcnN0UG9pbnQueSAtIGxhc3RQb2ludC55KSA8IGVwcztcbiAgICAvLyBpZiB0aGUgZmlyc3QgcG9pbnQgaXMgdGhlIGxhc3QgcG9pbnQgLSBnb25uYSBoYXZlIGlzc3VlcyA6KVxuICAgIGlmIChjbG9zZWRTaGFwZSkge1xuICAgICAgICAvLyBuZWVkIHRvIGNsb25lIGFzIHdlIGFyZSBnb2luZyB0byBzbGlnaHRseSBtb2RpZnkgdGhlIHNoYXBlLi5cbiAgICAgICAgcG9pbnRzID0gcG9pbnRzLnNsaWNlKCk7XG4gICAgICAgIGlmIChjbG9zZWRQYXRoKSB7XG4gICAgICAgICAgICBwb2ludHMucG9wKCk7XG4gICAgICAgICAgICBwb2ludHMucG9wKCk7XG4gICAgICAgICAgICBsYXN0UG9pbnQuc2V0KHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0sIHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtaWRQb2ludFggPSAoZmlyc3RQb2ludC54ICsgbGFzdFBvaW50LngpICogMC41O1xuICAgICAgICB2YXIgbWlkUG9pbnRZID0gKGxhc3RQb2ludC55ICsgZmlyc3RQb2ludC55KSAqIDAuNTtcbiAgICAgICAgcG9pbnRzLnVuc2hpZnQobWlkUG9pbnRYLCBtaWRQb2ludFkpO1xuICAgICAgICBwb2ludHMucHVzaChtaWRQb2ludFgsIG1pZFBvaW50WSk7XG4gICAgfVxuICAgIHZhciB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuICAgIHZhciBsZW5ndGggPSBwb2ludHMubGVuZ3RoIC8gMjtcbiAgICB2YXIgaW5kZXhDb3VudCA9IHBvaW50cy5sZW5ndGg7XG4gICAgdmFyIGluZGV4U3RhcnQgPSB2ZXJ0cy5sZW5ndGggLyAyO1xuICAgIC8vIE1heC4gaW5uZXIgYW5kIG91dGVyIHdpZHRoXG4gICAgdmFyIHdpZHRoID0gc3R5bGUud2lkdGggLyAyO1xuICAgIHZhciB3aWR0aFNxdWFyZWQgPSB3aWR0aCAqIHdpZHRoO1xuICAgIHZhciBtaXRlckxpbWl0U3F1YXJlZCA9IHN0eWxlLm1pdGVyTGltaXQgKiBzdHlsZS5taXRlckxpbWl0O1xuICAgIC8qIExpbmUgc2VnbWVudHMgb2YgaW50ZXJlc3Qgd2hlcmUgKHgxLHkxKSBmb3JtcyB0aGUgY29ybmVyLiAqL1xuICAgIHZhciB4MCA9IHBvaW50c1swXTtcbiAgICB2YXIgeTAgPSBwb2ludHNbMV07XG4gICAgdmFyIHgxID0gcG9pbnRzWzJdO1xuICAgIHZhciB5MSA9IHBvaW50c1szXTtcbiAgICB2YXIgeDIgPSAwO1xuICAgIHZhciB5MiA9IDA7XG4gICAgLyogcGVycFs/XSh4fHkpID0gdGhlIGxpbmUgbm9ybWFsIHdpdGggbWFnbml0dWRlIGxpbmVXaWR0aC4gKi9cbiAgICB2YXIgcGVycHggPSAtKHkwIC0geTEpO1xuICAgIHZhciBwZXJweSA9IHgwIC0geDE7XG4gICAgdmFyIHBlcnAxeCA9IDA7XG4gICAgdmFyIHBlcnAxeSA9IDA7XG4gICAgdmFyIGRpc3QgPSBNYXRoLnNxcnQoKHBlcnB4ICogcGVycHgpICsgKHBlcnB5ICogcGVycHkpKTtcbiAgICBwZXJweCAvPSBkaXN0O1xuICAgIHBlcnB5IC89IGRpc3Q7XG4gICAgcGVycHggKj0gd2lkdGg7XG4gICAgcGVycHkgKj0gd2lkdGg7XG4gICAgdmFyIHJhdGlvID0gc3R5bGUuYWxpZ25tZW50OyAvLyAwLjU7XG4gICAgdmFyIGlubmVyV2VpZ2h0ID0gKDEgLSByYXRpbykgKiAyO1xuICAgIHZhciBvdXRlcldlaWdodCA9IHJhdGlvICogMjtcbiAgICBpZiAoIWNsb3NlZFNoYXBlKSB7XG4gICAgICAgIGlmIChzdHlsZS5jYXAgPT09IExJTkVfQ0FQLlJPVU5EKSB7XG4gICAgICAgICAgICBpbmRleENvdW50ICs9IHJvdW5kKHgwIC0gKHBlcnB4ICogKGlubmVyV2VpZ2h0IC0gb3V0ZXJXZWlnaHQpICogMC41KSwgeTAgLSAocGVycHkgKiAoaW5uZXJXZWlnaHQgLSBvdXRlcldlaWdodCkgKiAwLjUpLCB4MCAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTAgLSAocGVycHkgKiBpbm5lcldlaWdodCksIHgwICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpLCB5MCArIChwZXJweSAqIG91dGVyV2VpZ2h0KSwgdmVydHMsIHRydWUpICsgMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdHlsZS5jYXAgPT09IExJTkVfQ0FQLlNRVUFSRSkge1xuICAgICAgICAgICAgaW5kZXhDb3VudCArPSBzcXVhcmUoeDAsIHkwLCBwZXJweCwgcGVycHksIGlubmVyV2VpZ2h0LCBvdXRlcldlaWdodCwgdHJ1ZSwgdmVydHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFB1c2ggZmlyc3QgcG9pbnQgKGJlbG93ICYgYWJvdmUgdmVydGljZXMpXG4gICAgdmVydHMucHVzaCh4MCAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTAgLSAocGVycHkgKiBpbm5lcldlaWdodCkpO1xuICAgIHZlcnRzLnB1c2goeDAgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkwICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpKTtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICB4MCA9IHBvaW50c1soaSAtIDEpICogMl07XG4gICAgICAgIHkwID0gcG9pbnRzWygoaSAtIDEpICogMikgKyAxXTtcbiAgICAgICAgeDEgPSBwb2ludHNbaSAqIDJdO1xuICAgICAgICB5MSA9IHBvaW50c1soaSAqIDIpICsgMV07XG4gICAgICAgIHgyID0gcG9pbnRzWyhpICsgMSkgKiAyXTtcbiAgICAgICAgeTIgPSBwb2ludHNbKChpICsgMSkgKiAyKSArIDFdO1xuICAgICAgICBwZXJweCA9IC0oeTAgLSB5MSk7XG4gICAgICAgIHBlcnB5ID0geDAgLSB4MTtcbiAgICAgICAgZGlzdCA9IE1hdGguc3FydCgocGVycHggKiBwZXJweCkgKyAocGVycHkgKiBwZXJweSkpO1xuICAgICAgICBwZXJweCAvPSBkaXN0O1xuICAgICAgICBwZXJweSAvPSBkaXN0O1xuICAgICAgICBwZXJweCAqPSB3aWR0aDtcbiAgICAgICAgcGVycHkgKj0gd2lkdGg7XG4gICAgICAgIHBlcnAxeCA9IC0oeTEgLSB5Mik7XG4gICAgICAgIHBlcnAxeSA9IHgxIC0geDI7XG4gICAgICAgIGRpc3QgPSBNYXRoLnNxcnQoKHBlcnAxeCAqIHBlcnAxeCkgKyAocGVycDF5ICogcGVycDF5KSk7XG4gICAgICAgIHBlcnAxeCAvPSBkaXN0O1xuICAgICAgICBwZXJwMXkgLz0gZGlzdDtcbiAgICAgICAgcGVycDF4ICo9IHdpZHRoO1xuICAgICAgICBwZXJwMXkgKj0gd2lkdGg7XG4gICAgICAgIC8qIGRbeHx5XSgwfDEpID0gdGhlIGNvbXBvbmVudCBkaXNwbGFjZW1lbnQgYmV0d2VlbiBwb2ludHMgcCgwLDF8MSwyKSAqL1xuICAgICAgICB2YXIgZHgwID0geDEgLSB4MDtcbiAgICAgICAgdmFyIGR5MCA9IHkwIC0geTE7XG4gICAgICAgIHZhciBkeDEgPSB4MSAtIHgyO1xuICAgICAgICB2YXIgZHkxID0geTIgLSB5MTtcbiAgICAgICAgLyogK3ZlIGlmIGludGVybmFsIGFuZ2xlIGNvdW50ZXJjbG9ja3dpc2UsIC12ZSBpZiBpbnRlcm5hbCBhbmdsZSBjbG9ja3dpc2UuICovXG4gICAgICAgIHZhciBjcm9zcyA9IChkeTAgKiBkeDEpIC0gKGR5MSAqIGR4MCk7XG4gICAgICAgIHZhciBjbG9ja3dpc2UgPSAoY3Jvc3MgPCAwKTtcbiAgICAgICAgLyogR29pbmcgbmVhcmx5IHN0cmFpZ2h0PyAqL1xuICAgICAgICBpZiAoTWF0aC5hYnMoY3Jvc3MpIDwgMC4xKSB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJweSAqIG91dGVyV2VpZ2h0KSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvKiBwW3h8eV0gaXMgdGhlIG1pdGVyIHBvaW50LiBwZGlzdCBpcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiBtaXRlciBwb2ludCBhbmQgcDEuICovXG4gICAgICAgIHZhciBjMSA9ICgoLXBlcnB4ICsgeDApICogKC1wZXJweSArIHkxKSkgLSAoKC1wZXJweCArIHgxKSAqICgtcGVycHkgKyB5MCkpO1xuICAgICAgICB2YXIgYzIgPSAoKC1wZXJwMXggKyB4MikgKiAoLXBlcnAxeSArIHkxKSkgLSAoKC1wZXJwMXggKyB4MSkgKiAoLXBlcnAxeSArIHkyKSk7XG4gICAgICAgIHZhciBweCA9ICgoZHgwICogYzIpIC0gKGR4MSAqIGMxKSkgLyBjcm9zcztcbiAgICAgICAgdmFyIHB5ID0gKChkeTEgKiBjMSkgLSAoZHkwICogYzIpKSAvIGNyb3NzO1xuICAgICAgICB2YXIgcGRpc3QgPSAoKHB4IC0geDEpICogKHB4IC0geDEpKSArICgocHkgLSB5MSkgKiAocHkgLSB5MSkpO1xuICAgICAgICAvKiBJbm5lciBtaXRlciBwb2ludCAqL1xuICAgICAgICB2YXIgaW14ID0geDEgKyAoKHB4IC0geDEpICogaW5uZXJXZWlnaHQpO1xuICAgICAgICB2YXIgaW15ID0geTEgKyAoKHB5IC0geTEpICogaW5uZXJXZWlnaHQpO1xuICAgICAgICAvKiBPdXRlciBtaXRlciBwb2ludCAqL1xuICAgICAgICB2YXIgb214ID0geDEgLSAoKHB4IC0geDEpICogb3V0ZXJXZWlnaHQpO1xuICAgICAgICB2YXIgb215ID0geTEgLSAoKHB5IC0geTEpICogb3V0ZXJXZWlnaHQpO1xuICAgICAgICAvKiBJcyB0aGUgaW5zaWRlIG1pdGVyIHBvaW50IHRvbyBmYXIgYXdheSwgY3JlYXRpbmcgYSBzcGlrZT8gKi9cbiAgICAgICAgdmFyIHNtYWxsZXJJbnNpZGVTZWdtZW50U3EgPSBNYXRoLm1pbigoZHgwICogZHgwKSArIChkeTAgKiBkeTApLCAoZHgxICogZHgxKSArIChkeTEgKiBkeTEpKTtcbiAgICAgICAgdmFyIGluc2lkZVdlaWdodCA9IGNsb2Nrd2lzZSA/IGlubmVyV2VpZ2h0IDogb3V0ZXJXZWlnaHQ7XG4gICAgICAgIHZhciBzbWFsbGVySW5zaWRlRGlhZ29uYWxTcSA9IHNtYWxsZXJJbnNpZGVTZWdtZW50U3EgKyAoaW5zaWRlV2VpZ2h0ICogaW5zaWRlV2VpZ2h0ICogd2lkdGhTcXVhcmVkKTtcbiAgICAgICAgdmFyIGluc2lkZU1pdGVyT2sgPSBwZGlzdCA8PSBzbWFsbGVySW5zaWRlRGlhZ29uYWxTcTtcbiAgICAgICAgaWYgKGluc2lkZU1pdGVyT2spIHtcbiAgICAgICAgICAgIGlmIChzdHlsZS5qb2luID09PSBMSU5FX0pPSU4uQkVWRUwgfHwgcGRpc3QgLyB3aWR0aFNxdWFyZWQgPiBtaXRlckxpbWl0U3F1YXJlZCkge1xuICAgICAgICAgICAgICAgIGlmIChjbG9ja3dpc2UpIC8qIHJvdGF0aW5nIGF0IGlubmVyIGFuZ2xlICovIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChpbXgsIGlteSk7IC8vIGlubmVyIG1pdGVyIHBvaW50XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpKTsgLy8gZmlyc3Qgc2VnbWVudCdzIG91dGVyIHZlcnRleFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKGlteCwgaW15KTsgLy8gaW5uZXIgbWl0ZXIgcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaCh4MSArIChwZXJwMXggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnAxeSAqIG91dGVyV2VpZ2h0KSk7IC8vIHNlY29uZCBzZWdtZW50J3Mgb3V0ZXIgdmVydGV4XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgLyogcm90YXRpbmcgYXQgb3V0ZXIgYW5nbGUgKi8ge1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSk7IC8vIGZpcnN0IHNlZ21lbnQncyBpbm5lciB2ZXJ0ZXhcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChvbXgsIG9teSk7IC8vIG91dGVyIG1pdGVyIHBvaW50XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgLSAocGVycDF4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJwMXkgKiBpbm5lcldlaWdodCkpOyAvLyBzZWNvbmQgc2VnbWVudCdzIG91dGVyIHZlcnRleFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKG9teCwgb215KTsgLy8gb3V0ZXIgbWl0ZXIgcG9pbnRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5kZXhDb3VudCArPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3R5bGUuam9pbiA9PT0gTElORV9KT0lOLlJPVU5EKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNsb2Nrd2lzZSkgLyogYXJjIGlzIG91dHNpZGUgKi8ge1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKGlteCwgaW15KTtcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaCh4MSArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycHkgKiBvdXRlcldlaWdodCkpO1xuICAgICAgICAgICAgICAgICAgICBpbmRleENvdW50ICs9IHJvdW5kKHgxLCB5MSwgeDEgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpLCB4MSArIChwZXJwMXggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnAxeSAqIG91dGVyV2VpZ2h0KSwgdmVydHMsIHRydWUpICsgNDtcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChpbXgsIGlteSk7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgKyAocGVycDF4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJwMXkgKiBvdXRlcldlaWdodCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIC8qIGFyYyBpcyBpbnNpZGUgKi8ge1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSk7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gob214LCBvbXkpO1xuICAgICAgICAgICAgICAgICAgICBpbmRleENvdW50ICs9IHJvdW5kKHgxLCB5MSwgeDEgLSAocGVycHggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnB5ICogaW5uZXJXZWlnaHQpLCB4MSAtIChwZXJwMXggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnAxeSAqIGlubmVyV2VpZ2h0KSwgdmVydHMsIGZhbHNlKSArIDQ7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgLSAocGVycDF4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJwMXkgKiBpbm5lcldlaWdodCkpO1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKG9teCwgb215KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKGlteCwgaW15KTtcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKG9teCwgb215KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIC8vIGluc2lkZSBtaXRlciBpcyBOT1Qgb2tcbiAgICAgICAgIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgLSAocGVycHggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnB5ICogaW5uZXJXZWlnaHQpKTsgLy8gZmlyc3Qgc2VnbWVudCdzIGlubmVyIHZlcnRleFxuICAgICAgICAgICAgdmVydHMucHVzaCh4MSArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycHkgKiBvdXRlcldlaWdodCkpOyAvLyBmaXJzdCBzZWdtZW50J3Mgb3V0ZXIgdmVydGV4XG4gICAgICAgICAgICBpZiAoc3R5bGUuam9pbiA9PT0gTElORV9KT0lOLkJFVkVMIHx8IHBkaXN0IC8gd2lkdGhTcXVhcmVkID4gbWl0ZXJMaW1pdFNxdWFyZWQpIDtcbiAgICAgICAgICAgIGVsc2UgaWYgKHN0eWxlLmpvaW4gPT09IExJTkVfSk9JTi5ST1VORCkge1xuICAgICAgICAgICAgICAgIGlmIChjbG9ja3dpc2UpIC8qIGFyYyBpcyBvdXRzaWRlICovIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhDb3VudCArPSByb3VuZCh4MSwgeTEsIHgxICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJweSAqIG91dGVyV2VpZ2h0KSwgeDEgKyAocGVycDF4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJwMXkgKiBvdXRlcldlaWdodCksIHZlcnRzLCB0cnVlKSArIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgLyogYXJjIGlzIGluc2lkZSAqLyB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4Q291bnQgKz0gcm91bmQoeDEsIHkxLCB4MSAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycHkgKiBpbm5lcldlaWdodCksIHgxIC0gKHBlcnAxeCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycDF5ICogaW5uZXJXZWlnaHQpLCB2ZXJ0cywgZmFsc2UpICsgMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoY2xvY2t3aXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gob214LCBvbXkpOyAvLyBpbm5lciBtaXRlciBwb2ludFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKG9teCwgb215KTsgLy8gaW5uZXIgbWl0ZXIgcG9pbnRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goaW14LCBpbXkpOyAvLyBvdXRlciBtaXRlciBwb2ludFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKGlteCwgaW15KTsgLy8gb3V0ZXIgbWl0ZXIgcG9pbnRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5kZXhDb3VudCArPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmVydHMucHVzaCh4MSAtIChwZXJwMXggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnAxeSAqIGlubmVyV2VpZ2h0KSk7IC8vIHNlY29uZCBzZWdtZW50J3MgaW5uZXIgdmVydGV4XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxICsgKHBlcnAxeCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycDF5ICogb3V0ZXJXZWlnaHQpKTsgLy8gc2Vjb25kIHNlZ21lbnQncyBvdXRlciB2ZXJ0ZXhcbiAgICAgICAgICAgIGluZGV4Q291bnQgKz0gMjtcbiAgICAgICAgfVxuICAgIH1cbiAgICB4MCA9IHBvaW50c1sobGVuZ3RoIC0gMikgKiAyXTtcbiAgICB5MCA9IHBvaW50c1soKGxlbmd0aCAtIDIpICogMikgKyAxXTtcbiAgICB4MSA9IHBvaW50c1sobGVuZ3RoIC0gMSkgKiAyXTtcbiAgICB5MSA9IHBvaW50c1soKGxlbmd0aCAtIDEpICogMikgKyAxXTtcbiAgICBwZXJweCA9IC0oeTAgLSB5MSk7XG4gICAgcGVycHkgPSB4MCAtIHgxO1xuICAgIGRpc3QgPSBNYXRoLnNxcnQoKHBlcnB4ICogcGVycHgpICsgKHBlcnB5ICogcGVycHkpKTtcbiAgICBwZXJweCAvPSBkaXN0O1xuICAgIHBlcnB5IC89IGRpc3Q7XG4gICAgcGVycHggKj0gd2lkdGg7XG4gICAgcGVycHkgKj0gd2lkdGg7XG4gICAgdmVydHMucHVzaCh4MSAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycHkgKiBpbm5lcldlaWdodCkpO1xuICAgIHZlcnRzLnB1c2goeDEgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpKTtcbiAgICBpZiAoIWNsb3NlZFNoYXBlKSB7XG4gICAgICAgIGlmIChzdHlsZS5jYXAgPT09IExJTkVfQ0FQLlJPVU5EKSB7XG4gICAgICAgICAgICBpbmRleENvdW50ICs9IHJvdW5kKHgxIC0gKHBlcnB4ICogKGlubmVyV2VpZ2h0IC0gb3V0ZXJXZWlnaHQpICogMC41KSwgeTEgLSAocGVycHkgKiAoaW5uZXJXZWlnaHQgLSBvdXRlcldlaWdodCkgKiAwLjUpLCB4MSAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycHkgKiBpbm5lcldlaWdodCksIHgxICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJweSAqIG91dGVyV2VpZ2h0KSwgdmVydHMsIGZhbHNlKSArIDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3R5bGUuY2FwID09PSBMSU5FX0NBUC5TUVVBUkUpIHtcbiAgICAgICAgICAgIGluZGV4Q291bnQgKz0gc3F1YXJlKHgxLCB5MSwgcGVycHgsIHBlcnB5LCBpbm5lcldlaWdodCwgb3V0ZXJXZWlnaHQsIGZhbHNlLCB2ZXJ0cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG4gICAgdmFyIGVwczIgPSBHUkFQSElDU19DVVJWRVMuZXBzaWxvbiAqIEdSQVBISUNTX0NVUlZFUy5lcHNpbG9uO1xuICAgIC8vIGluZGljZXMucHVzaChpbmRleFN0YXJ0KTtcbiAgICBmb3IgKHZhciBpID0gaW5kZXhTdGFydDsgaSA8IGluZGV4Q291bnQgKyBpbmRleFN0YXJ0IC0gMjsgKytpKSB7XG4gICAgICAgIHgwID0gdmVydHNbKGkgKiAyKV07XG4gICAgICAgIHkwID0gdmVydHNbKGkgKiAyKSArIDFdO1xuICAgICAgICB4MSA9IHZlcnRzWyhpICsgMSkgKiAyXTtcbiAgICAgICAgeTEgPSB2ZXJ0c1soKGkgKyAxKSAqIDIpICsgMV07XG4gICAgICAgIHgyID0gdmVydHNbKGkgKyAyKSAqIDJdO1xuICAgICAgICB5MiA9IHZlcnRzWygoaSArIDIpICogMikgKyAxXTtcbiAgICAgICAgLyogU2tpcCB6ZXJvIGFyZWEgdHJpYW5nbGVzICovXG4gICAgICAgIGlmIChNYXRoLmFicygoeDAgKiAoeTEgLSB5MikpICsgKHgxICogKHkyIC0geTApKSArICh4MiAqICh5MCAtIHkxKSkpIDwgZXBzMikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaW5kaWNlcy5wdXNoKGksIGkgKyAxLCBpICsgMik7XG4gICAgfVxufVxuLyoqXG4gKiBCdWlsZHMgYSBsaW5lIHRvIGRyYXcgdXNpbmcgdGhlIGdsLmRyYXdBcnJheXMoZ2wuTElORVMpIG1ldGhvZFxuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IGdyYXBoaWNzR2VvbWV0cnkgLSBHZW9tZXRyeSB3aGVyZSB0byBhcHBlbmQgb3V0cHV0XG4gKi9cbmZ1bmN0aW9uIGJ1aWxkTmF0aXZlTGluZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIHNoYXBlID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzIHx8IHNoYXBlLnBvaW50cztcbiAgICB2YXIgY2xvc2VkU2hhcGUgPSBzaGFwZS50eXBlICE9PSBTSEFQRVMuUE9MWSB8fCBzaGFwZS5jbG9zZVN0cm9rZTtcbiAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgeyByZXR1cm47IH1cbiAgICB2YXIgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcbiAgICB2YXIgaW5kaWNlcyA9IGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcztcbiAgICB2YXIgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aCAvIDI7XG4gICAgdmFyIHN0YXJ0SW5kZXggPSB2ZXJ0cy5sZW5ndGggLyAyO1xuICAgIHZhciBjdXJyZW50SW5kZXggPSBzdGFydEluZGV4O1xuICAgIHZlcnRzLnB1c2gocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuICAgIGZvciAoaSA9IDE7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1tpICogMl0sIHBvaW50c1soaSAqIDIpICsgMV0pO1xuICAgICAgICBpbmRpY2VzLnB1c2goY3VycmVudEluZGV4LCBjdXJyZW50SW5kZXggKyAxKTtcbiAgICAgICAgY3VycmVudEluZGV4Kys7XG4gICAgfVxuICAgIGlmIChjbG9zZWRTaGFwZSkge1xuICAgICAgICBpbmRpY2VzLnB1c2goY3VycmVudEluZGV4LCBzdGFydEluZGV4KTtcbiAgICB9XG59XG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IGdyYXBoaWNzR2VvbWV0cnkgLSBHZW9tZXRyeSB3aGVyZSB0byBhcHBlbmQgb3V0cHV0XG4gKi9cbmZ1bmN0aW9uIGJ1aWxkTGluZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpIHtcbiAgICBpZiAoZ3JhcGhpY3NEYXRhLmxpbmVTdHlsZS5uYXRpdmUpIHtcbiAgICAgICAgYnVpbGROYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBidWlsZE5vbk5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KTtcbiAgICB9XG59XG5cbi8qKlxuICogVXRpbGl0aWVzIGZvciBhcmMgY3VydmVzXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBBcmNVdGlscyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBcmNVdGlscygpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGFyY1RvKCkgbWV0aG9kIGNyZWF0ZXMgYW4gYXJjL2N1cnZlIGJldHdlZW4gdHdvIHRhbmdlbnRzIG9uIHRoZSBjYW52YXMuXG4gICAgICpcbiAgICAgKiBcImJvcnJvd2VkXCIgZnJvbSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Z4Y2FudmFzLyAtIHRoYW5rcyBnb29nbGUhXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MSAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkxIC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDIgLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MiAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGVuZCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGFyY1xuICAgICAqIEByZXR1cm4ge29iamVjdH0gSWYgdGhlIGFyYyBsZW5ndGggaXMgdmFsaWQsIHJldHVybiBjZW50ZXIgb2YgY2lyY2xlLCByYWRpdXMgYW5kIG90aGVyIGluZm8gb3RoZXJ3aXNlIGBudWxsYC5cbiAgICAgKi9cbiAgICBBcmNVdGlscy5jdXJ2ZVRvID0gZnVuY3Rpb24gKHgxLCB5MSwgeDIsIHkyLCByYWRpdXMsIHBvaW50cykge1xuICAgICAgICB2YXIgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICB2YXIgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICB2YXIgYTEgPSBmcm9tWSAtIHkxO1xuICAgICAgICB2YXIgYjEgPSBmcm9tWCAtIHgxO1xuICAgICAgICB2YXIgYTIgPSB5MiAtIHkxO1xuICAgICAgICB2YXIgYjIgPSB4MiAtIHgxO1xuICAgICAgICB2YXIgbW0gPSBNYXRoLmFicygoYTEgKiBiMikgLSAoYjEgKiBhMikpO1xuICAgICAgICBpZiAobW0gPCAxLjBlLTggfHwgcmFkaXVzID09PSAwKSB7XG4gICAgICAgICAgICBpZiAocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSAhPT0geDEgfHwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSAhPT0geTEpIHtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaCh4MSwgeTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRkID0gKGExICogYTEpICsgKGIxICogYjEpO1xuICAgICAgICB2YXIgY2MgPSAoYTIgKiBhMikgKyAoYjIgKiBiMik7XG4gICAgICAgIHZhciB0dCA9IChhMSAqIGEyKSArIChiMSAqIGIyKTtcbiAgICAgICAgdmFyIGsxID0gcmFkaXVzICogTWF0aC5zcXJ0KGRkKSAvIG1tO1xuICAgICAgICB2YXIgazIgPSByYWRpdXMgKiBNYXRoLnNxcnQoY2MpIC8gbW07XG4gICAgICAgIHZhciBqMSA9IGsxICogdHQgLyBkZDtcbiAgICAgICAgdmFyIGoyID0gazIgKiB0dCAvIGNjO1xuICAgICAgICB2YXIgY3ggPSAoazEgKiBiMikgKyAoazIgKiBiMSk7XG4gICAgICAgIHZhciBjeSA9IChrMSAqIGEyKSArIChrMiAqIGExKTtcbiAgICAgICAgdmFyIHB4ID0gYjEgKiAoazIgKyBqMSk7XG4gICAgICAgIHZhciBweSA9IGExICogKGsyICsgajEpO1xuICAgICAgICB2YXIgcXggPSBiMiAqIChrMSArIGoyKTtcbiAgICAgICAgdmFyIHF5ID0gYTIgKiAoazEgKyBqMik7XG4gICAgICAgIHZhciBzdGFydEFuZ2xlID0gTWF0aC5hdGFuMihweSAtIGN5LCBweCAtIGN4KTtcbiAgICAgICAgdmFyIGVuZEFuZ2xlID0gTWF0aC5hdGFuMihxeSAtIGN5LCBxeCAtIGN4KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGN4OiAoY3ggKyB4MSksXG4gICAgICAgICAgICBjeTogKGN5ICsgeTEpLFxuICAgICAgICAgICAgcmFkaXVzOiByYWRpdXMsXG4gICAgICAgICAgICBzdGFydEFuZ2xlOiBzdGFydEFuZ2xlLFxuICAgICAgICAgICAgZW5kQW5nbGU6IGVuZEFuZ2xlLFxuICAgICAgICAgICAgYW50aWNsb2Nrd2lzZTogKGIxICogYTIgPiBiMiAqIGExKSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAvKipcbiAgICAgKiBUaGUgYXJjIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSAodXNlZCB0byBjcmVhdGUgY2lyY2xlcywgb3IgcGFydHMgb2YgY2lyY2xlcykuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFggLSBTdGFydCB4IGxvY2F0aW9uIG9mIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFkgLSBTdGFydCB5IGxvY2F0aW9uIG9mIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjeCAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN5IC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0QW5nbGUgLSBUaGUgc3RhcnRpbmcgYW5nbGUsIGluIHJhZGlhbnMgKDAgaXMgYXQgdGhlIDMgbydjbG9jayBwb3NpdGlvblxuICAgICAqICBvZiB0aGUgYXJjJ3MgY2lyY2xlKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRBbmdsZSAtIFRoZSBlbmRpbmcgYW5nbGUsIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFudGljbG9ja3dpc2UgLSBTcGVjaWZpZXMgd2hldGhlciB0aGUgZHJhd2luZyBzaG91bGQgYmVcbiAgICAgKiAgY291bnRlci1jbG9ja3dpc2Ugb3IgY2xvY2t3aXNlLiBGYWxzZSBpcyBkZWZhdWx0LCBhbmQgaW5kaWNhdGVzIGNsb2Nrd2lzZSwgd2hpbGUgdHJ1ZVxuICAgICAqICBpbmRpY2F0ZXMgY291bnRlci1jbG9ja3dpc2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gcG9pbnRzIC0gQ29sbGVjdGlvbiBvZiBwb2ludHMgdG8gYWRkIHRvXG4gICAgICovXG4gICAgQXJjVXRpbHMuYXJjID0gZnVuY3Rpb24gKF9zdGFydFgsIF9zdGFydFksIGN4LCBjeSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgX2FudGljbG9ja3dpc2UsIHBvaW50cykge1xuICAgICAgICB2YXIgc3dlZXAgPSBlbmRBbmdsZSAtIHN0YXJ0QW5nbGU7XG4gICAgICAgIHZhciBuID0gR1JBUEhJQ1NfQ1VSVkVTLl9zZWdtZW50c0NvdW50KE1hdGguYWJzKHN3ZWVwKSAqIHJhZGl1cywgTWF0aC5jZWlsKE1hdGguYWJzKHN3ZWVwKSAvIFBJXzIpICogNDApO1xuICAgICAgICB2YXIgdGhldGEgPSAoc3dlZXApIC8gKG4gKiAyKTtcbiAgICAgICAgdmFyIHRoZXRhMiA9IHRoZXRhICogMjtcbiAgICAgICAgdmFyIGNUaGV0YSA9IE1hdGguY29zKHRoZXRhKTtcbiAgICAgICAgdmFyIHNUaGV0YSA9IE1hdGguc2luKHRoZXRhKTtcbiAgICAgICAgdmFyIHNlZ01pbnVzID0gbiAtIDE7XG4gICAgICAgIHZhciByZW1haW5kZXIgPSAoc2VnTWludXMgJSAxKSAvIHNlZ01pbnVzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBzZWdNaW51czsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcmVhbCA9IGkgKyAocmVtYWluZGVyICogaSk7XG4gICAgICAgICAgICB2YXIgYW5nbGUgPSAoKHRoZXRhKSArIHN0YXJ0QW5nbGUgKyAodGhldGEyICogcmVhbCkpO1xuICAgICAgICAgICAgdmFyIGMgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgICAgICAgICB2YXIgcyA9IC1NYXRoLnNpbihhbmdsZSk7XG4gICAgICAgICAgICBwb2ludHMucHVzaCgoKChjVGhldGEgKiBjKSArIChzVGhldGEgKiBzKSkgKiByYWRpdXMpICsgY3gsICgoKGNUaGV0YSAqIC1zKSArIChzVGhldGEgKiBjKSkgKiByYWRpdXMpICsgY3kpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQXJjVXRpbHM7XG59KCkpO1xuXG4vKipcbiAqIFV0aWxpdGllcyBmb3IgYmV6aWVyIGN1cnZlc1xuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgQmV6aWVyVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmV6aWVyVXRpbHMoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBsZW5ndGggb2YgYmV6aWVyIGN1cnZlLlxuICAgICAqIEFuYWx5dGljYWwgc29sdXRpb24gaXMgaW1wb3NzaWJsZSwgc2luY2UgaXQgaW52b2x2ZXMgYW4gaW50ZWdyYWwgdGhhdCBkb2VzIG5vdCBpbnRlZ3JhdGUgaW4gZ2VuZXJhbC5cbiAgICAgKiBUaGVyZWZvcmUgbnVtZXJpY2FsIHNvbHV0aW9uIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWCAtIFN0YXJ0aW5nIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbVkgLSBTdGFydGluZyBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gICAgICogQHJldHVybiB7bnVtYmVyfSBMZW5ndGggb2YgYmV6aWVyIGN1cnZlXG4gICAgICovXG4gICAgQmV6aWVyVXRpbHMuY3VydmVMZW5ndGggPSBmdW5jdGlvbiAoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1kpIHtcbiAgICAgICAgdmFyIG4gPSAxMDtcbiAgICAgICAgdmFyIHJlc3VsdCA9IDAuMDtcbiAgICAgICAgdmFyIHQgPSAwLjA7XG4gICAgICAgIHZhciB0MiA9IDAuMDtcbiAgICAgICAgdmFyIHQzID0gMC4wO1xuICAgICAgICB2YXIgbnQgPSAwLjA7XG4gICAgICAgIHZhciBudDIgPSAwLjA7XG4gICAgICAgIHZhciBudDMgPSAwLjA7XG4gICAgICAgIHZhciB4ID0gMC4wO1xuICAgICAgICB2YXIgeSA9IDAuMDtcbiAgICAgICAgdmFyIGR4ID0gMC4wO1xuICAgICAgICB2YXIgZHkgPSAwLjA7XG4gICAgICAgIHZhciBwcmV2WCA9IGZyb21YO1xuICAgICAgICB2YXIgcHJldlkgPSBmcm9tWTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gbjsgKytpKSB7XG4gICAgICAgICAgICB0ID0gaSAvIG47XG4gICAgICAgICAgICB0MiA9IHQgKiB0O1xuICAgICAgICAgICAgdDMgPSB0MiAqIHQ7XG4gICAgICAgICAgICBudCA9ICgxLjAgLSB0KTtcbiAgICAgICAgICAgIG50MiA9IG50ICogbnQ7XG4gICAgICAgICAgICBudDMgPSBudDIgKiBudDtcbiAgICAgICAgICAgIHggPSAobnQzICogZnJvbVgpICsgKDMuMCAqIG50MiAqIHQgKiBjcFgpICsgKDMuMCAqIG50ICogdDIgKiBjcFgyKSArICh0MyAqIHRvWCk7XG4gICAgICAgICAgICB5ID0gKG50MyAqIGZyb21ZKSArICgzLjAgKiBudDIgKiB0ICogY3BZKSArICgzICogbnQgKiB0MiAqIGNwWTIpICsgKHQzICogdG9ZKTtcbiAgICAgICAgICAgIGR4ID0gcHJldlggLSB4O1xuICAgICAgICAgICAgZHkgPSBwcmV2WSAtIHk7XG4gICAgICAgICAgICBwcmV2WCA9IHg7XG4gICAgICAgICAgICBwcmV2WSA9IHk7XG4gICAgICAgICAgICByZXN1bHQgKz0gTWF0aC5zcXJ0KChkeCAqIGR4KSArIChkeSAqIGR5KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKlxuICAgICAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICAgICAqXG4gICAgICogQGlnbm9yZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWDIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWTIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIFBhdGggYXJyYXkgdG8gcHVzaCBwb2ludHMgaW50b1xuICAgICAqL1xuICAgIEJlemllclV0aWxzLmN1cnZlVG8gPSBmdW5jdGlvbiAoY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZLCBwb2ludHMpIHtcbiAgICAgICAgdmFyIGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgdmFyIGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgcG9pbnRzLmxlbmd0aCAtPSAyO1xuICAgICAgICB2YXIgbiA9IEdSQVBISUNTX0NVUlZFUy5fc2VnbWVudHNDb3VudChCZXppZXJVdGlscy5jdXJ2ZUxlbmd0aChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSkpO1xuICAgICAgICB2YXIgZHQgPSAwO1xuICAgICAgICB2YXIgZHQyID0gMDtcbiAgICAgICAgdmFyIGR0MyA9IDA7XG4gICAgICAgIHZhciB0MiA9IDA7XG4gICAgICAgIHZhciB0MyA9IDA7XG4gICAgICAgIHBvaW50cy5wdXNoKGZyb21YLCBmcm9tWSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAxLCBqID0gMDsgaSA8PSBuOyArK2kpIHtcbiAgICAgICAgICAgIGogPSBpIC8gbjtcbiAgICAgICAgICAgIGR0ID0gKDEgLSBqKTtcbiAgICAgICAgICAgIGR0MiA9IGR0ICogZHQ7XG4gICAgICAgICAgICBkdDMgPSBkdDIgKiBkdDtcbiAgICAgICAgICAgIHQyID0gaiAqIGo7XG4gICAgICAgICAgICB0MyA9IHQyICogajtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKChkdDMgKiBmcm9tWCkgKyAoMyAqIGR0MiAqIGogKiBjcFgpICsgKDMgKiBkdCAqIHQyICogY3BYMikgKyAodDMgKiB0b1gpLCAoZHQzICogZnJvbVkpICsgKDMgKiBkdDIgKiBqICogY3BZKSArICgzICogZHQgKiB0MiAqIGNwWTIpICsgKHQzICogdG9ZKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBCZXppZXJVdGlscztcbn0oKSk7XG5cbi8qKlxuICogVXRpbGl0aWVzIGZvciBxdWFkcmF0aWMgY3VydmVzXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBRdWFkcmF0aWNVdGlscyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBRdWFkcmF0aWNVdGlscygpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIGxlbmd0aCBvZiBxdWFkcmF0aWMgY3VydmVcbiAgICAgKiBAc2VlIHtAbGluayBodHRwOi8vd3d3Lm1hbGN6YWsubGludXhwbC5jb20vYmxvZy9xdWFkcmF0aWMtYmV6aWVyLWN1cnZlLWxlbmd0aC99XG4gICAgICogZm9yIHRoZSBkZXRhaWxlZCBleHBsYW5hdGlvbiBvZiBtYXRoIGJlaGluZCB0aGlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbVggLSB4LWNvb3JkaW5hdGUgb2YgY3VydmUgc3RhcnQgcG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbVkgLSB5LWNvb3JkaW5hdGUgb2YgY3VydmUgc3RhcnQgcG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0geC1jb29yZGluYXRlIG9mIGN1cnZlIGNvbnRyb2wgcG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0geS1jb29yZGluYXRlIG9mIGN1cnZlIGNvbnRyb2wgcG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0geC1jb29yZGluYXRlIG9mIGN1cnZlIGVuZCBwb2ludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSB5LWNvb3JkaW5hdGUgb2YgY3VydmUgZW5kIHBvaW50XG4gICAgICogQHJldHVybiB7bnVtYmVyfSBMZW5ndGggb2YgcXVhZHJhdGljIGN1cnZlXG4gICAgICovXG4gICAgUXVhZHJhdGljVXRpbHMuY3VydmVMZW5ndGggPSBmdW5jdGlvbiAoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgdG9YLCB0b1kpIHtcbiAgICAgICAgdmFyIGF4ID0gZnJvbVggLSAoMi4wICogY3BYKSArIHRvWDtcbiAgICAgICAgdmFyIGF5ID0gZnJvbVkgLSAoMi4wICogY3BZKSArIHRvWTtcbiAgICAgICAgdmFyIGJ4ID0gKDIuMCAqIGNwWCkgLSAoMi4wICogZnJvbVgpO1xuICAgICAgICB2YXIgYnkgPSAoMi4wICogY3BZKSAtICgyLjAgKiBmcm9tWSk7XG4gICAgICAgIHZhciBhID0gNC4wICogKChheCAqIGF4KSArIChheSAqIGF5KSk7XG4gICAgICAgIHZhciBiID0gNC4wICogKChheCAqIGJ4KSArIChheSAqIGJ5KSk7XG4gICAgICAgIHZhciBjID0gKGJ4ICogYngpICsgKGJ5ICogYnkpO1xuICAgICAgICB2YXIgcyA9IDIuMCAqIE1hdGguc3FydChhICsgYiArIGMpO1xuICAgICAgICB2YXIgYTIgPSBNYXRoLnNxcnQoYSk7XG4gICAgICAgIHZhciBhMzIgPSAyLjAgKiBhICogYTI7XG4gICAgICAgIHZhciBjMiA9IDIuMCAqIE1hdGguc3FydChjKTtcbiAgICAgICAgdmFyIGJhID0gYiAvIGEyO1xuICAgICAgICByZXR1cm4gKChhMzIgKiBzKVxuICAgICAgICAgICAgKyAoYTIgKiBiICogKHMgLSBjMikpXG4gICAgICAgICAgICArICgoKDQuMCAqIGMgKiBhKSAtIChiICogYikpXG4gICAgICAgICAgICAgICAgKiBNYXRoLmxvZygoKDIuMCAqIGEyKSArIGJhICsgcykgLyAoYmEgKyBjMikpKSkgLyAoNC4wICogYTMyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gICAgICogQmFzZWQgb246IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NTA5Ny9ob3ctZG8taS1pbXBsZW1lbnQtYS1iZXppZXItY3VydmUtaW4tY1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBwb2ludHMgLSBQb2ludHMgdG8gYWRkIHNlZ21lbnRzIHRvLlxuICAgICAqL1xuICAgIFF1YWRyYXRpY1V0aWxzLmN1cnZlVG8gPSBmdW5jdGlvbiAoY3BYLCBjcFksIHRvWCwgdG9ZLCBwb2ludHMpIHtcbiAgICAgICAgdmFyIGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgdmFyIGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgdmFyIG4gPSBHUkFQSElDU19DVVJWRVMuX3NlZ21lbnRzQ291bnQoUXVhZHJhdGljVXRpbHMuY3VydmVMZW5ndGgoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgdG9YLCB0b1kpKTtcbiAgICAgICAgdmFyIHhhID0gMDtcbiAgICAgICAgdmFyIHlhID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gbjsgKytpKSB7XG4gICAgICAgICAgICB2YXIgaiA9IGkgLyBuO1xuICAgICAgICAgICAgeGEgPSBmcm9tWCArICgoY3BYIC0gZnJvbVgpICogaik7XG4gICAgICAgICAgICB5YSA9IGZyb21ZICsgKChjcFkgLSBmcm9tWSkgKiBqKTtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHhhICsgKCgoY3BYICsgKCh0b1ggLSBjcFgpICogaikpIC0geGEpICogaiksIHlhICsgKCgoY3BZICsgKCh0b1kgLSBjcFkpICogaikpIC0geWEpICogaikpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUXVhZHJhdGljVXRpbHM7XG59KCkpO1xuXG4vKipcbiAqIEEgc3RydWN0dXJlIHRvIGhvbGQgaW50ZXJpbSBiYXRjaCBvYmplY3RzIGZvciBHcmFwaGljcy5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ3JhcGhpY3NVdGlsc1xuICovXG52YXIgQmF0Y2hQYXJ0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJhdGNoUGFydCgpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCZWdpbiBiYXRjaCBwYXJ0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsbFN0eWxlIHwgUElYSS5MaW5lU3R5bGV9IHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXR0cmliU3RhcnRcbiAgICAgKi9cbiAgICBCYXRjaFBhcnQucHJvdG90eXBlLmJlZ2luID0gZnVuY3Rpb24gKHN0eWxlLCBzdGFydEluZGV4LCBhdHRyaWJTdGFydCkge1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0SW5kZXg7XG4gICAgICAgIHRoaXMuYXR0cmliU3RhcnQgPSBhdHRyaWJTdGFydDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuZCBiYXRjaCBwYXJ0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kSW5kZXhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kQXR0cmliXG4gICAgICovXG4gICAgQmF0Y2hQYXJ0LnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAoZW5kSW5kZXgsIGVuZEF0dHJpYikge1xuICAgICAgICB0aGlzLmF0dHJpYlNpemUgPSBlbmRBdHRyaWIgLSB0aGlzLmF0dHJpYlN0YXJ0O1xuICAgICAgICB0aGlzLnNpemUgPSBlbmRJbmRleCAtIHRoaXMuc3RhcnQ7XG4gICAgfTtcbiAgICBCYXRjaFBhcnQucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0eWxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgICAgdGhpcy5zdGFydCA9IDA7XG4gICAgICAgIHRoaXMuYXR0cmliU3RhcnQgPSAwO1xuICAgICAgICB0aGlzLmF0dHJpYlNpemUgPSAwO1xuICAgIH07XG4gICAgcmV0dXJuIEJhdGNoUGFydDtcbn0oKSk7XG5cbi8qKlxuICogR2VuZXJhbGl6ZWQgY29udmVuaWVuY2UgdXRpbGl0aWVzIGZvciBHcmFwaGljcy5cbiAqXG4gKiBAbmFtZXNwYWNlIGdyYXBoaWNzVXRpbHNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBfYTtcbi8qKlxuICogTWFwIG9mIGZpbGwgY29tbWFuZHMgZm9yIGVhY2ggc2hhcGUgdHlwZS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5ncmFwaGljc1V0aWxzXG4gKiBAbWVtYmVyIHtPYmplY3R9IEZJTExfQ09NTUFORFNcbiAqL1xudmFyIEZJTExfQ09NTUFORFMgPSAoX2EgPSB7fSxcbiAgICBfYVtTSEFQRVMuUE9MWV0gPSBidWlsZFBvbHksXG4gICAgX2FbU0hBUEVTLkNJUkNdID0gYnVpbGRDaXJjbGUsXG4gICAgX2FbU0hBUEVTLkVMSVBdID0gYnVpbGRDaXJjbGUsXG4gICAgX2FbU0hBUEVTLlJFQ1RdID0gYnVpbGRSZWN0YW5nbGUsXG4gICAgX2FbU0hBUEVTLlJSRUNdID0gYnVpbGRSb3VuZGVkUmVjdGFuZ2xlLFxuICAgIF9hKTtcbi8qKlxuICogQmF0Y2ggcG9vbCwgc3RvcmVzIHVudXNlZCBiYXRjaGVzIGZvciBwcmV2ZW50aW5nIGFsbG9jYXRpb25zLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLmdyYXBoaWNzVXRpbHNcbiAqIEBtZW1iZXIge0FycmF5PFBJWEkuZ3JhcGhpY3NVdGlscy5CYXRjaFBhcnQ+fSBCQVRDSF9QT09MXG4gKi9cbnZhciBCQVRDSF9QT09MID0gW107XG4vKipcbiAqIERyYXcgY2FsbCBwb29sLCBzdG9yZXMgdW51c2VkIGRyYXcgY2FsbHMgZm9yIHByZXZlbnRpbmcgYWxsb2NhdGlvbnMuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuZ3JhcGhpY3NVdGlsc1xuICogQG1lbWJlciB7QXJyYXk8UElYSS5CYXRjaERyYXdDYWxsPn0gRFJBV19DQUxMX1BPT0xcbiAqL1xudmFyIERSQVdfQ0FMTF9QT09MID0gW107XG5cbi8qKlxuICogQSBjbGFzcyB0byBjb250YWluIGRhdGEgdXNlZnVsIGZvciBHcmFwaGljcyBvYmplY3RzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR3JhcGhpY3NEYXRhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX0gc2hhcGUgLSBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbGxTdHlsZX0gW2ZpbGxTdHlsZV0gLSB0aGUgd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgICAqIEBwYXJhbSB7UElYSS5MaW5lU3R5bGV9IFtsaW5lU3R5bGVdIC0gdGhlIGNvbG9yIG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbbWF0cml4XSAtIFRyYW5zZm9ybSBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBHcmFwaGljc0RhdGEoc2hhcGUsIGZpbGxTdHlsZSwgbGluZVN0eWxlLCBtYXRyaXgpIHtcbiAgICAgICAgaWYgKGZpbGxTdHlsZSA9PT0gdm9pZCAwKSB7IGZpbGxTdHlsZSA9IG51bGw7IH1cbiAgICAgICAgaWYgKGxpbmVTdHlsZSA9PT0gdm9pZCAwKSB7IGxpbmVTdHlsZSA9IG51bGw7IH1cbiAgICAgICAgaWYgKG1hdHJpeCA9PT0gdm9pZCAwKSB7IG1hdHJpeCA9IG51bGw7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYXBlID0gc2hhcGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3R5bGUgb2YgdGhlIGxpbmUuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTGluZVN0eWxlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW5lU3R5bGUgPSBsaW5lU3R5bGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3R5bGUgb2YgdGhlIGZpbGwuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsbFN0eWxlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maWxsU3R5bGUgPSBmaWxsU3R5bGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHJhbnNmb3JtIG1hdHJpeC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hdHJpeCA9IG1hdHJpeDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBzaGFwZSwgc2VlIHRoZSBDb25zdC5TaGFwZXMgZmlsZSBmb3IgYWxsIHRoZSBleGlzdGluZyB0eXBlcyxcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gc2hhcGUudHlwZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIHBvaW50cy5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvaW50cyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgaG9sZXMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NEYXRhW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhvbGVzID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgR3JhcGhpY3NEYXRhIG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3NEYXRhfSBDbG9uZWQgR3JhcGhpY3NEYXRhIG9iamVjdFxuICAgICAqL1xuICAgIEdyYXBoaWNzRGF0YS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgR3JhcGhpY3NEYXRhKHRoaXMuc2hhcGUsIHRoaXMuZmlsbFN0eWxlLCB0aGlzLmxpbmVTdHlsZSwgdGhpcy5tYXRyaXgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIEdyYXBoaWNzIGRhdGEuXG4gICAgICpcbiAgICAgKi9cbiAgICBHcmFwaGljc0RhdGEucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2hhcGUgPSBudWxsO1xuICAgICAgICB0aGlzLmhvbGVzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuaG9sZXMgPSBudWxsO1xuICAgICAgICB0aGlzLnBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnBvaW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMubGluZVN0eWxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5maWxsU3R5bGUgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEdyYXBoaWNzRGF0YTtcbn0oKSk7XG5cbnZhciB0bXBQb2ludCA9IG5ldyBQb2ludCgpO1xudmFyIHRtcEJvdW5kcyA9IG5ldyBCb3VuZHMoKTtcbi8qKlxuICogVGhlIEdyYXBoaWNzIGNsYXNzIGNvbnRhaW5zIG1ldGhvZHMgdXNlZCB0byBkcmF3IHByaW1pdGl2ZSBzaGFwZXMgc3VjaCBhcyBsaW5lcywgY2lyY2xlcyBhbmRcbiAqIHJlY3RhbmdsZXMgdG8gdGhlIGRpc3BsYXksIGFuZCB0byBjb2xvciBhbmQgZmlsbCB0aGVtLlxuICpcbiAqIEdyYXBoaWNzR2VvbWV0cnkgaXMgZGVzaWduZWQgdG8gbm90IGJlIGNvbnRpbnVhbGx5IHVwZGF0aW5nIHRoZSBnZW9tZXRyeSBzaW5jZSBpdCdzIGV4cGVuc2l2ZVxuICogdG8gcmUtdGVzc2VsYXRlIHVzaW5nICoqZWFyY3V0KiouIENvbnNpZGVyIHVzaW5nIHtAbGluayBQSVhJLk1lc2h9IGZvciB0aGlzIHVzZS1jYXNlLCBpdCdzIG11Y2ggZmFzdGVyLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5CYXRjaEdlb21ldHJ5XG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR3JhcGhpY3NHZW9tZXRyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoR3JhcGhpY3NHZW9tZXRyeSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBHcmFwaGljc0dlb21ldHJ5KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy51dnNGbG9hdDMyID0gbnVsbDtcbiAgICAgICAgX3RoaXMuaW5kaWNlc1VpbnQxNiA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiBwb2ludHMgdG8gZHJhdywgMiBudW1iZXJzIHBlciBwb2ludFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucG9pbnRzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29sbGVjdGlvbiBvZiBjb2xvcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbG9ycyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFVWcyBjb2xsZWN0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51dnMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbmRpY2VzIG9mIHRoZSB2ZXJ0aWNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW5kaWNlcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSB0ZXh0dXJlIElEcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHR1cmVJZHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIGRyYXduIHNoYXBlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc0RhdGFbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ3JhcGhpY3NEYXRhID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGRldGVjdCBpZiB0aGUgZ3JhcGhpY3Mgb2JqZWN0IGhhcyBjaGFuZ2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRpcnR5ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhdGNoZXMgbmVlZCB0byByZWdlbmVyYXRlZCBpZiB0aGUgZ2VvbWV0cnkgaXMgdXBkYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXRjaERpcnR5ID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGNoZWNrIGlmIHRoZSBjYWNoZSBpcyBkaXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYWNoZURpcnR5ID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGRldGVjdCBpZiB3ZSBjbGVhcmVkIHRoZSBncmFwaGljc0RhdGEuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jbGVhckRpcnR5ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgY3VycmVudCBkcmF3IGNhbGxzIGRyaXZlZCBmcm9tIHRoZSBiYXRjaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZHJhd0NhbGxzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm1lZGlhdGUgYWJzdHJhY3QgZm9ybWF0IHNlbnQgdG8gYmF0Y2ggc3lzdGVtLlxuICAgICAgICAgKiBDYW4gYmUgY29udmVydGVkIHRvIGRyYXdDYWxscyBvciB0byBiYXRjaGFibGUgb2JqZWN0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5ncmFwaGljc1V0aWxzLkJhdGNoUGFydFtdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXRjaGVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRleCBvZiB0aGUgbGFzdCBiYXRjaGVkIHNoYXBlIGluIHRoZSBzdGFjayBvZiBjYWxscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaGFwZUluZGV4ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlZCBib3VuZHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQm91bmRzfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYm91bmRzID0gbmV3IEJvdW5kcygpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJvdW5kcyBkaXJ0eSBmbGFnLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJvdW5kc0RpcnR5ID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYWRkaW5nIHRvIGFkZCB0byB0aGUgYm91bmRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJvdW5kc1BhZGRpbmcgPSAwO1xuICAgICAgICBfdGhpcy5iYXRjaGFibGUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaW5kaWNlc1VpbnQxNiA9IG51bGw7XG4gICAgICAgIF90aGlzLnV2c0Zsb2F0MzIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWluaW1hbCBkaXN0YW5jZSBiZXR3ZWVuIHBvaW50cyB0aGF0IGFyZSBjb25zaWRlcmVkIGRpZmZlcmVudC5cbiAgICAgICAgICogQWZmZWN0cyBsaW5lIHRlc3NlbGF0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jbG9zZVBvaW50RXBzID0gMWUtNDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUsIFwiYm91bmRzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgY3VycmVudCBib3VuZHMgb2YgdGhlIGdyYXBoaWMgZ2VvbWV0cnkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQm91bmRzfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRzRGlydHkgIT09IHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJvdW5kc0RpcnR5ID0gdGhpcy5kaXJ0eTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENhbGwgaWYgeW91IGNoYW5nZWQgZ3JhcGhpY3NEYXRhIG1hbnVhbGx5LlxuICAgICAqIEVtcHRpZXMgYWxsIGJhdGNoIGJ1ZmZlcnMuXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuaW52YWxpZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5ib3VuZHNEaXJ0eSA9IC0xO1xuICAgICAgICB0aGlzLmRpcnR5Kys7XG4gICAgICAgIHRoaXMuYmF0Y2hEaXJ0eSsrO1xuICAgICAgICB0aGlzLnNoYXBlSW5kZXggPSAwO1xuICAgICAgICB0aGlzLnBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmNvbG9ycy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnV2cy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmluZGljZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy50ZXh0dXJlSWRzLmxlbmd0aCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kcmF3Q2FsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0NhbGxzW2ldLnRleEFycmF5LmNsZWFyKCk7XG4gICAgICAgICAgICBEUkFXX0NBTExfUE9PTC5wdXNoKHRoaXMuZHJhd0NhbGxzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRyYXdDYWxscy5sZW5ndGggPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYmF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJhdGNoUGFydCA9IHRoaXMuYmF0Y2hlc1tpXTtcbiAgICAgICAgICAgIGJhdGNoUGFydC5yZXNldCgpO1xuICAgICAgICAgICAgQkFUQ0hfUE9PTC5wdXNoKGJhdGNoUGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGdyYXBoaWNzIHRoYXQgd2VyZSBkcmF3biB0byB0aGlzIEdyYXBoaWNzIG9iamVjdCwgYW5kIHJlc2V0cyBmaWxsIGFuZCBsaW5lIHN0eWxlIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBUaGlzIEdyYXBoaWNzR2VvbWV0cnkgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5jbGVhckRpcnR5Kys7XG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgdGhlIGdpdmVuIHNoYXBlIHRvIHRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBDYW4gYmUgYW55IG9mIENpcmNsZSwgUmVjdGFuZ2xlLCBFbGxpcHNlLCBMaW5lIG9yIFBvbHlnb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBzaGFwZSAtIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsbFN0eWxlfSBmaWxsU3R5bGUgLSBEZWZpbmVzIHN0eWxlIG9mIHRoZSBmaWxsLlxuICAgICAqIEBwYXJhbSB7UElYSS5MaW5lU3R5bGV9IGxpbmVTdHlsZSAtIERlZmluZXMgc3R5bGUgb2YgdGhlIGxpbmVzLlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRyYW5zZm9ybSBhcHBsaWVkIHRvIHRoZSBwb2ludHMgb2YgdGhlIHNoYXBlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gUmV0dXJucyBnZW9tZXRyeSBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuZHJhd1NoYXBlID0gZnVuY3Rpb24gKHNoYXBlLCBmaWxsU3R5bGUsIGxpbmVTdHlsZSwgbWF0cml4KSB7XG4gICAgICAgIGlmIChmaWxsU3R5bGUgPT09IHZvaWQgMCkgeyBmaWxsU3R5bGUgPSBudWxsOyB9XG4gICAgICAgIGlmIChsaW5lU3R5bGUgPT09IHZvaWQgMCkgeyBsaW5lU3R5bGUgPSBudWxsOyB9XG4gICAgICAgIGlmIChtYXRyaXggPT09IHZvaWQgMCkgeyBtYXRyaXggPSBudWxsOyB9XG4gICAgICAgIHZhciBkYXRhID0gbmV3IEdyYXBoaWNzRGF0YShzaGFwZSwgZmlsbFN0eWxlLCBsaW5lU3R5bGUsIG1hdHJpeCk7XG4gICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhLnB1c2goZGF0YSk7XG4gICAgICAgIHRoaXMuZGlydHkrKztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgZ2l2ZW4gc2hhcGUgdG8gdGhpcyBHcmFwaGljcyBvYmplY3QuIENhbiBiZSBhbnkgb2YgQ2lyY2xlLCBSZWN0YW5nbGUsIEVsbGlwc2UsIExpbmUgb3IgUG9seWdvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IHNoYXBlIC0gVGhlIHNoYXBlIG9iamVjdCB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRyYW5zZm9ybSBhcHBsaWVkIHRvIHRoZSBwb2ludHMgb2YgdGhlIHNoYXBlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gUmV0dXJucyBnZW9tZXRyeSBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuZHJhd0hvbGUgPSBmdW5jdGlvbiAoc2hhcGUsIG1hdHJpeCkge1xuICAgICAgICBpZiAobWF0cml4ID09PSB2b2lkIDApIHsgbWF0cml4ID0gbnVsbDsgfVxuICAgICAgICBpZiAoIXRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRhdGEgPSBuZXcgR3JhcGhpY3NEYXRhKHNoYXBlLCBudWxsLCBudWxsLCBtYXRyaXgpO1xuICAgICAgICB2YXIgbGFzdFNoYXBlID0gdGhpcy5ncmFwaGljc0RhdGFbdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoIC0gMV07XG4gICAgICAgIGRhdGEubGluZVN0eWxlID0gbGFzdFNoYXBlLmxpbmVTdHlsZTtcbiAgICAgICAgbGFzdFNoYXBlLmhvbGVzLnB1c2goZGF0YSk7XG4gICAgICAgIHRoaXMuZGlydHkrKztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgR3JhcGhpY3NHZW9tZXRyeSBvYmplY3QuXG4gICAgICpcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICAgICAgLy8gZGVzdHJveSBlYWNoIG9mIHRoZSBHcmFwaGljc0RhdGEgb2JqZWN0c1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YVtpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5wb2ludHMgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbG9ycy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmNvbG9ycyA9IG51bGw7XG4gICAgICAgIHRoaXMudXZzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMudXZzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRpY2VzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmRyYXdDYWxscy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmRyYXdDYWxscyA9IG51bGw7XG4gICAgICAgIHRoaXMuYmF0Y2hlcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmJhdGNoZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9ib3VuZHMgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2sgdG8gc2VlIGlmIGEgcG9pbnQgaXMgY29udGFpbmVkIHdpdGhpbiB0aGlzIGdlb21ldHJ5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHBvaW50IC0gUG9pbnQgdG8gY2hlY2sgaWYgaXQncyBjb250YWluZWQuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBwb2ludCBpcyBjb250YWluZWQgd2l0aGluIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgdmFyIGdyYXBoaWNzRGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyYXBoaWNzRGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBncmFwaGljc0RhdGFbaV07XG4gICAgICAgICAgICBpZiAoIWRhdGEuZmlsbFN0eWxlLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG9ubHkgZGVhbCB3aXRoIGZpbGxzLi5cbiAgICAgICAgICAgIGlmIChkYXRhLnNoYXBlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubWF0cml4KSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEubWF0cml4LmFwcGx5SW52ZXJzZShwb2ludCwgdG1wUG9pbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG1wUG9pbnQuY29weUZyb20ocG9pbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zaGFwZS5jb250YWlucyh0bXBQb2ludC54LCB0bXBQb2ludC55KSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGl0SG9sZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ob2xlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaV8xID0gMDsgaV8xIDwgZGF0YS5ob2xlcy5sZW5ndGg7IGlfMSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhvbGUgPSBkYXRhLmhvbGVzW2lfMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvbGUuc2hhcGUuY29udGFpbnModG1wUG9pbnQueCwgdG1wUG9pbnQueSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0SG9sZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWhpdEhvbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBpbnRlcm1lZGlhdGUgYmF0Y2ggZGF0YS4gRWl0aGVyIGdldHMgY29udmVydGVkIHRvIGRyYXdDYWxsc1xuICAgICAqIG9yIHVzZWQgdG8gY29udmVydCB0byBiYXRjaCBvYmplY3RzIGRpcmVjdGx5IGJ5IHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthbGxvdzMySW5kaWNlc10gLSBBbGxvdyB1c2luZyAzMi1iaXQgaW5kaWNlcyBmb3IgcHJldmVudGluZyBhcnRpZmFjdHMgd2hlbiBtb3JlIHRoYXQgNjU1MzUgdmVydGljZXNcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS51cGRhdGVCYXRjaGVzID0gZnVuY3Rpb24gKGFsbG93MzJJbmRpY2VzKSB7XG4gICAgICAgIGlmICghdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlQmF0Y2hpbmcoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FjaGVEaXJ0eSA9IHRoaXMuZGlydHk7XG4gICAgICAgIHZhciB1dnMgPSB0aGlzLnV2cztcbiAgICAgICAgdmFyIGdyYXBoaWNzRGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhO1xuICAgICAgICB2YXIgYmF0Y2hQYXJ0ID0gbnVsbDtcbiAgICAgICAgdmFyIGN1cnJlbnRTdHlsZSA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLmJhdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgYmF0Y2hQYXJ0ID0gdGhpcy5iYXRjaGVzW3RoaXMuYmF0Y2hlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGN1cnJlbnRTdHlsZSA9IGJhdGNoUGFydC5zdHlsZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5zaGFwZUluZGV4OyBpIDwgZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnNoYXBlSW5kZXgrKztcbiAgICAgICAgICAgIHZhciBkYXRhID0gZ3JhcGhpY3NEYXRhW2ldO1xuICAgICAgICAgICAgdmFyIGZpbGxTdHlsZSA9IGRhdGEuZmlsbFN0eWxlO1xuICAgICAgICAgICAgdmFyIGxpbmVTdHlsZSA9IGRhdGEubGluZVN0eWxlO1xuICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSBGSUxMX0NPTU1BTkRTW2RhdGEudHlwZV07XG4gICAgICAgICAgICAvLyBidWlsZCBvdXQgdGhlIHNoYXBlcyBwb2ludHMuLlxuICAgICAgICAgICAgY29tbWFuZC5idWlsZChkYXRhKTtcbiAgICAgICAgICAgIGlmIChkYXRhLm1hdHJpeCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtUG9pbnRzKGRhdGEucG9pbnRzLCBkYXRhLm1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDI7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBzdHlsZSA9IChqID09PSAwKSA/IGZpbGxTdHlsZSA6IGxpbmVTdHlsZTtcbiAgICAgICAgICAgICAgICBpZiAoIXN0eWxlLnZpc2libGUpXG4gICAgICAgICAgICAgICAgICAgIHsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICB2YXIgbmV4dFRleHR1cmUgPSBzdHlsZS50ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgICAgIHZhciBpbmRleF8xID0gdGhpcy5pbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB2YXIgYXR0cmliSW5kZXggPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLndyYXBNb2RlID0gV1JBUF9NT0RFUy5SRVBFQVQ7XG4gICAgICAgICAgICAgICAgaWYgKGogPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzRmlsbChkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0xpbmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBzaXplID0gKHRoaXMucG9pbnRzLmxlbmd0aCAvIDIpIC0gYXR0cmliSW5kZXg7XG4gICAgICAgICAgICAgICAgaWYgKHNpemUgPT09IDApXG4gICAgICAgICAgICAgICAgICAgIHsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAvLyBjbG9zZSBiYXRjaCBpZiBzdHlsZSBpcyBkaWZmZXJlbnRcbiAgICAgICAgICAgICAgICBpZiAoYmF0Y2hQYXJ0ICYmICF0aGlzLl9jb21wYXJlU3R5bGVzKGN1cnJlbnRTdHlsZSwgc3R5bGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydC5lbmQoaW5kZXhfMSwgYXR0cmliSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBiYXRjaFBhcnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzcGF3biBuZXcgYmF0Y2ggaWYgaXRzIGZpcnN0IGJhdGNoIG9yIHByZXZpb3VzIHdhcyBjbG9zZWRcbiAgICAgICAgICAgICAgICBpZiAoIWJhdGNoUGFydCkge1xuICAgICAgICAgICAgICAgICAgICBiYXRjaFBhcnQgPSBCQVRDSF9QT09MLnBvcCgpIHx8IG5ldyBCYXRjaFBhcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hQYXJ0LmJlZ2luKHN0eWxlLCBpbmRleF8xLCBhdHRyaWJJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmF0Y2hlcy5wdXNoKGJhdGNoUGFydCk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdHlsZSA9IHN0eWxlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmFkZFV2cyh0aGlzLnBvaW50cywgdXZzLCBzdHlsZS50ZXh0dXJlLCBhdHRyaWJJbmRleCwgc2l6ZSwgc3R5bGUubWF0cml4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGljZXMubGVuZ3RoO1xuICAgICAgICB2YXIgYXR0cmliID0gdGhpcy5wb2ludHMubGVuZ3RoIC8gMjtcbiAgICAgICAgaWYgKGJhdGNoUGFydCkge1xuICAgICAgICAgICAgYmF0Y2hQYXJ0LmVuZChpbmRleCwgYXR0cmliKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5iYXRjaGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gdGhlcmUgYXJlIG5vIHZpc2libGUgc3R5bGVzIGluIEdyYXBoaWNzRGF0YVxuICAgICAgICAgICAgLy8gaXRzIHBvc3NpYmxlIHRoYXQgc29tZW9uZSB3YW50cyBHcmFwaGljcyBqdXN0IGZvciB0aGUgYm91bmRzXG4gICAgICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gcHJldmVudCBhbGxvY2F0aW9uIHdoZW4gbGVuZ3RoIGlzIHNhbWUgYXMgYnVmZmVyXG4gICAgICAgIGlmICh0aGlzLmluZGljZXNVaW50MTYgJiYgdGhpcy5pbmRpY2VzLmxlbmd0aCA9PT0gdGhpcy5pbmRpY2VzVWludDE2Lmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5pbmRpY2VzVWludDE2LnNldCh0aGlzLmluZGljZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIG5lZWQzMiA9IGF0dHJpYiA+IDB4ZmZmZiAmJiBhbGxvdzMySW5kaWNlcztcbiAgICAgICAgICAgIHRoaXMuaW5kaWNlc1VpbnQxNiA9IG5lZWQzMiA/IG5ldyBVaW50MzJBcnJheSh0aGlzLmluZGljZXMpIDogbmV3IFVpbnQxNkFycmF5KHRoaXMuaW5kaWNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETyBtYWtlIHRoaXMgYSBjb25zdC4uXG4gICAgICAgIHRoaXMuYmF0Y2hhYmxlID0gdGhpcy5pc0JhdGNoYWJsZSgpO1xuICAgICAgICBpZiAodGhpcy5iYXRjaGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMucGFja0JhdGNoZXMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYnVpbGREcmF3Q2FsbHMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWZmaW5pdHkgY2hlY2tcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWxsU3R5bGUgfCBQSVhJLkxpbmVTdHlsZX0gc3R5bGVBXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbGxTdHlsZSB8IFBJWEkuTGluZVN0eWxlfSBzdHlsZUJcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5fY29tcGFyZVN0eWxlcyA9IGZ1bmN0aW9uIChzdHlsZUEsIHN0eWxlQikge1xuICAgICAgICBpZiAoIXN0eWxlQSB8fCAhc3R5bGVCKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlQS50ZXh0dXJlLmJhc2VUZXh0dXJlICE9PSBzdHlsZUIudGV4dHVyZS5iYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHlsZUEuY29sb3IgKyBzdHlsZUEuYWxwaGEgIT09IHN0eWxlQi5jb2xvciArIHN0eWxlQi5hbHBoYSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIXN0eWxlQS5uYXRpdmUgIT09ICEhc3R5bGVCLm5hdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVzdCBnZW9tZXRyeSBmb3IgYmF0Y2hpbmcgcHJvY2Vzcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS52YWxpZGF0ZUJhdGNoaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSA9PT0gdGhpcy5jYWNoZURpcnR5IHx8ICF0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YVtpXTtcbiAgICAgICAgICAgIHZhciBmaWxsID0gZGF0YS5maWxsU3R5bGU7XG4gICAgICAgICAgICB2YXIgbGluZSA9IGRhdGEubGluZVN0eWxlO1xuICAgICAgICAgICAgaWYgKGZpbGwgJiYgIWZpbGwudGV4dHVyZS5iYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAgICAgICAgICB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgaWYgKGxpbmUgJiYgIWxpbmUudGV4dHVyZS5iYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAgICAgICAgICB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT2Zmc2V0IHRoZSBpbmRpY2VzIHNvIHRoYXQgaXQgd29ya3Mgd2l0aCB0aGUgYmF0Y2hlci5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5wYWNrQmF0Y2hlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5iYXRjaERpcnR5Kys7XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMiA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy51dnMpO1xuICAgICAgICB2YXIgYmF0Y2hlcyA9IHRoaXMuYmF0Y2hlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBiYXRjaGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJhdGNoID0gYmF0Y2hlc1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYmF0Y2guc2l6ZTsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gYmF0Y2guc3RhcnQgKyBqO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNlc1VpbnQxNltpbmRleF0gPSB0aGlzLmluZGljZXNVaW50MTZbaW5kZXhdIC0gYmF0Y2guYXR0cmliU3RhcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgaWYgdGhpcyBncmFwaGljcyBnZW9tZXRyeSBjYW4gYmUgYmF0Y2hlZC5cbiAgICAgKiBDdXJyZW50bHkgaXQgbmVlZHMgdG8gYmUgc21hbGwgZW5vdWdoIGFuZCBub3QgY29udGFpbiBhbnkgbmF0aXZlIGxpbmVzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmlzQmF0Y2hhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBwcmV2ZW50IGhlYXZ5IG1lc2ggYmF0Y2hpbmdcbiAgICAgICAgaWYgKHRoaXMucG9pbnRzLmxlbmd0aCA+IDB4ZmZmZiAqIDIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmF0Y2hlcyA9IHRoaXMuYmF0Y2hlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYmF0Y2hlc1tpXS5zdHlsZS5uYXRpdmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICh0aGlzLnBvaW50cy5sZW5ndGggPCBHcmFwaGljc0dlb21ldHJ5LkJBVENIQUJMRV9TSVpFICogMik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBpbnRlcm1lZGlhdGUgYmF0Y2hlcyBkYXRhIHRvIGRyYXdDYWxscy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5idWlsZERyYXdDYWxscyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIFRJQ0sgPSArK0Jhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRyYXdDYWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kcmF3Q2FsbHNbaV0udGV4QXJyYXkuY2xlYXIoKTtcbiAgICAgICAgICAgIERSQVdfQ0FMTF9QT09MLnB1c2godGhpcy5kcmF3Q2FsbHNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLmxlbmd0aCA9IDA7XG4gICAgICAgIHZhciBjb2xvcnMgPSB0aGlzLmNvbG9ycztcbiAgICAgICAgdmFyIHRleHR1cmVJZHMgPSB0aGlzLnRleHR1cmVJZHM7XG4gICAgICAgIHZhciBjdXJyZW50R3JvdXAgPSBEUkFXX0NBTExfUE9PTC5wb3AoKTtcbiAgICAgICAgaWYgKCFjdXJyZW50R3JvdXApIHtcbiAgICAgICAgICAgIGN1cnJlbnRHcm91cCA9IG5ldyBCYXRjaERyYXdDYWxsKCk7XG4gICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4QXJyYXkgPSBuZXcgQmF0Y2hUZXh0dXJlQXJyYXkoKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50R3JvdXAudGV4QXJyYXkuY291bnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuc3RhcnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSA9IDA7XG4gICAgICAgIGN1cnJlbnRHcm91cC50eXBlID0gRFJBV19NT0RFUy5UUklBTkdMRVM7XG4gICAgICAgIHZhciB0ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICB2YXIgY3VycmVudFRleHR1cmUgPSBudWxsO1xuICAgICAgICB2YXIgdGV4dHVyZUlkID0gMDtcbiAgICAgICAgdmFyIG5hdGl2ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgZHJhd01vZGUgPSBEUkFXX01PREVTLlRSSUFOR0xFUztcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMucHVzaChjdXJyZW50R3JvdXApO1xuICAgICAgICAvLyBUT0RPIC0gdGhpcyBjYW4gYmUgc2ltcGxpZmllZFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYmF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmJhdGNoZXNbaV07XG4gICAgICAgICAgICAvLyBUT0RPIGFkZCBzb21lIGZ1bGwgb24gTUFYX1RFWFRVUkUgQ09ERS4uXG4gICAgICAgICAgICB2YXIgTUFYX1RFWFRVUkVTID0gODtcbiAgICAgICAgICAgIC8vIEZvcmNlZCBjYXN0IGZvciBjaGVja2luZyBgbmF0aXZlYCB3aXRob3V0IGVycm9yc1xuICAgICAgICAgICAgdmFyIHN0eWxlID0gZGF0YS5zdHlsZTtcbiAgICAgICAgICAgIHZhciBuZXh0VGV4dHVyZSA9IHN0eWxlLnRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICBpZiAobmF0aXZlICE9PSAhIXN0eWxlLm5hdGl2ZSkge1xuICAgICAgICAgICAgICAgIG5hdGl2ZSA9ICEhc3R5bGUubmF0aXZlO1xuICAgICAgICAgICAgICAgIGRyYXdNb2RlID0gbmF0aXZlID8gRFJBV19NT0RFUy5MSU5FUyA6IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHRoZSBiYXRjaCB0byBicmVhayFcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gTUFYX1RFWFRVUkVTO1xuICAgICAgICAgICAgICAgIFRJQ0srKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjdXJyZW50VGV4dHVyZSAhPT0gbmV4dFRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG5leHRUZXh0dXJlO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0VGV4dHVyZS5fYmF0Y2hFbmFibGVkICE9PSBUSUNLKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0dXJlQ291bnQgPT09IE1BWF9URVhUVVJFUykge1xuICAgICAgICAgICAgICAgICAgICAgICAgVElDSysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50R3JvdXAuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAgPSBEUkFXX0NBTExfUE9PTC5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRHcm91cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAgPSBuZXcgQmF0Y2hEcmF3Q2FsbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4QXJyYXkgPSBuZXcgQmF0Y2hUZXh0dXJlQXJyYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3Q2FsbHMucHVzaChjdXJyZW50R3JvdXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnN0YXJ0ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4QXJyYXkuY291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnR5cGUgPSBkcmF3TW9kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGFkZCB0aGlzIHRvIHRoZSByZW5kZXIgcGFydC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIEhhY2shIEJlY2F1c2UgdGV4dHVyZSBoYXMgcHJvdGVjdGVkIGB0b3VjaGVkYFxuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS50b3VjaGVkID0gMTsgLy8gdG91Y2g7XG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLl9iYXRjaEVuYWJsZWQgPSBUSUNLO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS5fYmF0Y2hMb2NhdGlvbiA9IHRleHR1cmVDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUud3JhcE1vZGUgPSAxMDQ5NztcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnRleEFycmF5LmVsZW1lbnRzW2N1cnJlbnRHcm91cC50ZXhBcnJheS5jb3VudCsrXSA9IG5leHRUZXh0dXJlO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlQ291bnQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSArPSBkYXRhLnNpemU7XG4gICAgICAgICAgICBpbmRleCArPSBkYXRhLnNpemU7XG4gICAgICAgICAgICB0ZXh0dXJlSWQgPSBuZXh0VGV4dHVyZS5fYmF0Y2hMb2NhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuYWRkQ29sb3JzKGNvbG9ycywgc3R5bGUuY29sb3IsIHN0eWxlLmFscGhhLCBkYXRhLmF0dHJpYlNpemUpO1xuICAgICAgICAgICAgdGhpcy5hZGRUZXh0dXJlSWRzKHRleHR1cmVJZHMsIHRleHR1cmVJZCwgZGF0YS5hdHRyaWJTaXplKTtcbiAgICAgICAgfVxuICAgICAgICBCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2ggPSBUSUNLO1xuICAgICAgICAvLyB1cGxvYWQuLlxuICAgICAgICAvLyBtZXJnZSBmb3Igbm93IVxuICAgICAgICB0aGlzLnBhY2tBdHRyaWJ1dGVzKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQYWNrcyBhdHRyaWJ1dGVzIHRvIHNpbmdsZSBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUucGFja0F0dHJpYnV0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2ZXJ0cyA9IHRoaXMucG9pbnRzO1xuICAgICAgICB2YXIgdXZzID0gdGhpcy51dnM7XG4gICAgICAgIHZhciBjb2xvcnMgPSB0aGlzLmNvbG9ycztcbiAgICAgICAgdmFyIHRleHR1cmVJZHMgPSB0aGlzLnRleHR1cmVJZHM7XG4gICAgICAgIC8vIHZlcnRzIGFyZSAyIHBvc2l0aW9ucy4uIHNvIHdlICogYnkgMyBhcyB0aGVyZSBhcmUgNiBwcm9wZXJ0aWVzLi4gdGhlbiA0IGNvcyBpdHMgYnl0ZXNcbiAgICAgICAgdmFyIGdsUG9pbnRzID0gbmV3IEFycmF5QnVmZmVyKHZlcnRzLmxlbmd0aCAqIDMgKiA0KTtcbiAgICAgICAgdmFyIGYzMiA9IG5ldyBGbG9hdDMyQXJyYXkoZ2xQb2ludHMpO1xuICAgICAgICB2YXIgdTMyID0gbmV3IFVpbnQzMkFycmF5KGdsUG9pbnRzKTtcbiAgICAgICAgdmFyIHAgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRzLmxlbmd0aCAvIDI7IGkrKykge1xuICAgICAgICAgICAgZjMyW3ArK10gPSB2ZXJ0c1tpICogMl07XG4gICAgICAgICAgICBmMzJbcCsrXSA9IHZlcnRzWyhpICogMikgKyAxXTtcbiAgICAgICAgICAgIGYzMltwKytdID0gdXZzW2kgKiAyXTtcbiAgICAgICAgICAgIGYzMltwKytdID0gdXZzWyhpICogMikgKyAxXTtcbiAgICAgICAgICAgIHUzMltwKytdID0gY29sb3JzW2ldO1xuICAgICAgICAgICAgZjMyW3ArK10gPSB0ZXh0dXJlSWRzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J1ZmZlci51cGRhdGUoZ2xQb2ludHMpO1xuICAgICAgICB0aGlzLl9pbmRleEJ1ZmZlci51cGRhdGUodGhpcy5pbmRpY2VzVWludDE2KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgZmlsbCBwYXJ0IG9mIEdyYXBoaWNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZGF0YVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5wcm9jZXNzRmlsbCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhLmhvbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzSG9sZXMoZGF0YS5ob2xlcyk7XG4gICAgICAgICAgICBidWlsZFBvbHkudHJpYW5ndWxhdGUoZGF0YSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgY29tbWFuZCA9IEZJTExfQ09NTUFORFNbZGF0YS50eXBlXTtcbiAgICAgICAgICAgIGNvbW1hbmQudHJpYW5ndWxhdGUoZGF0YSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgbGluZSBwYXJ0IG9mIEdyYXBoaWNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZGF0YVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5wcm9jZXNzTGluZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGJ1aWxkTGluZShkYXRhLCB0aGlzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmhvbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBidWlsZExpbmUoZGF0YS5ob2xlc1tpXSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgdGhlIGhvbGVzIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhW119IGhvbGVzIC0gSG9sZXMgdG8gcmVuZGVyXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnByb2Nlc3NIb2xlcyA9IGZ1bmN0aW9uIChob2xlcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaG9sZSA9IGhvbGVzW2ldO1xuICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSBGSUxMX0NPTU1BTkRTW2hvbGUudHlwZV07XG4gICAgICAgICAgICBjb21tYW5kLmJ1aWxkKGhvbGUpO1xuICAgICAgICAgICAgaWYgKGhvbGUubWF0cml4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1Qb2ludHMoaG9sZS5wb2ludHMsIGhvbGUubWF0cml4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIG9iamVjdC4gRXhwZW5zaXZlIHRvIHVzZSBwZXJmb3JtYW5jZS13aXNlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmNhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGJvdW5kcyA9IHRoaXMuX2JvdW5kcztcbiAgICAgICAgdmFyIHNlcXVlbmNlQm91bmRzID0gdG1wQm91bmRzO1xuICAgICAgICB2YXIgY3VyTWF0cml4ID0gTWF0cml4LklERU5USVRZO1xuICAgICAgICB0aGlzLl9ib3VuZHMuY2xlYXIoKTtcbiAgICAgICAgc2VxdWVuY2VCb3VuZHMuY2xlYXIoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YVtpXTtcbiAgICAgICAgICAgIHZhciBzaGFwZSA9IGRhdGEuc2hhcGU7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IGRhdGEudHlwZTtcbiAgICAgICAgICAgIHZhciBsaW5lU3R5bGUgPSBkYXRhLmxpbmVTdHlsZTtcbiAgICAgICAgICAgIHZhciBuZXh0TWF0cml4ID0gZGF0YS5tYXRyaXggfHwgTWF0cml4LklERU5USVRZO1xuICAgICAgICAgICAgdmFyIGxpbmVXaWR0aCA9IDAuMDtcbiAgICAgICAgICAgIGlmIChsaW5lU3R5bGUgJiYgbGluZVN0eWxlLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWxpZ25tZW50ID0gbGluZVN0eWxlLmFsaWdubWVudDtcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGggPSBsaW5lU3R5bGUud2lkdGg7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFNIQVBFUy5QT0xZKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aCA9IGxpbmVXaWR0aCAqICgwLjUgKyBNYXRoLmFicygwLjUgLSBhbGlnbm1lbnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aCA9IGxpbmVXaWR0aCAqIE1hdGgubWF4KDAsIGFsaWdubWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1ck1hdHJpeCAhPT0gbmV4dE1hdHJpeCkge1xuICAgICAgICAgICAgICAgIGlmICghc2VxdWVuY2VCb3VuZHMuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvdW5kcy5hZGRCb3VuZHNNYXRyaXgoc2VxdWVuY2VCb3VuZHMsIGN1ck1hdHJpeCk7XG4gICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlQm91bmRzLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1ck1hdHJpeCA9IG5leHRNYXRyaXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gU0hBUEVTLlJFQ1QgfHwgdHlwZSA9PT0gU0hBUEVTLlJSRUMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVjdCA9IHNoYXBlO1xuICAgICAgICAgICAgICAgIHNlcXVlbmNlQm91bmRzLmFkZEZyYW1lUGFkKHJlY3QueCwgcmVjdC55LCByZWN0LnggKyByZWN0LndpZHRoLCByZWN0LnkgKyByZWN0LmhlaWdodCwgbGluZVdpZHRoLCBsaW5lV2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gU0hBUEVTLkNJUkMpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2lyY2xlID0gc2hhcGU7XG4gICAgICAgICAgICAgICAgc2VxdWVuY2VCb3VuZHMuYWRkRnJhbWVQYWQoY2lyY2xlLngsIGNpcmNsZS55LCBjaXJjbGUueCwgY2lyY2xlLnksIGNpcmNsZS5yYWRpdXMgKyBsaW5lV2lkdGgsIGNpcmNsZS5yYWRpdXMgKyBsaW5lV2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gU0hBUEVTLkVMSVApIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxsaXBzZSA9IHNoYXBlO1xuICAgICAgICAgICAgICAgIHNlcXVlbmNlQm91bmRzLmFkZEZyYW1lUGFkKGVsbGlwc2UueCwgZWxsaXBzZS55LCBlbGxpcHNlLngsIGVsbGlwc2UueSwgZWxsaXBzZS53aWR0aCArIGxpbmVXaWR0aCwgZWxsaXBzZS5oZWlnaHQgKyBsaW5lV2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHBvbHkgPSBzaGFwZTtcbiAgICAgICAgICAgICAgICAvLyBhZGRpbmcgZGlyZWN0bHkgdG8gdGhlIGJvdW5kc1xuICAgICAgICAgICAgICAgIGJvdW5kcy5hZGRWZXJ0aWNlc01hdHJpeChjdXJNYXRyaXgsIHBvbHkucG9pbnRzLCAwLCBwb2x5LnBvaW50cy5sZW5ndGgsIGxpbmVXaWR0aCwgbGluZVdpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNlcXVlbmNlQm91bmRzLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgYm91bmRzLmFkZEJvdW5kc01hdHJpeChzZXF1ZW5jZUJvdW5kcywgY3VyTWF0cml4KTtcbiAgICAgICAgfVxuICAgICAgICBib3VuZHMucGFkKHRoaXMuYm91bmRzUGFkZGluZywgdGhpcy5ib3VuZHNQYWRkaW5nKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBwb2ludHMgdXNpbmcgbWF0cml4LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIFBvaW50cyB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUcmFuc2Zvcm0gbWF0cml4XG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUudHJhbnNmb3JtUG9pbnRzID0gZnVuY3Rpb24gKHBvaW50cywgbWF0cml4KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aCAvIDI7IGkrKykge1xuICAgICAgICAgICAgdmFyIHggPSBwb2ludHNbKGkgKiAyKV07XG4gICAgICAgICAgICB2YXIgeSA9IHBvaW50c1soaSAqIDIpICsgMV07XG4gICAgICAgICAgICBwb2ludHNbKGkgKiAyKV0gPSAobWF0cml4LmEgKiB4KSArIChtYXRyaXguYyAqIHkpICsgbWF0cml4LnR4O1xuICAgICAgICAgICAgcG9pbnRzWyhpICogMikgKyAxXSA9IChtYXRyaXguYiAqIHgpICsgKG1hdHJpeC5kICogeSkgKyBtYXRyaXgudHk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBjb2xvcnMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3JzIC0gTGlzdCBvZiBjb2xvcnMgdG8gYWRkIHRvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbG9yIC0gQ29sb3IgdG8gYWRkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIC0gQWxwaGEgdG8gdXNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBOdW1iZXIgb2YgY29sb3JzIHRvIGFkZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmFkZENvbG9ycyA9IGZ1bmN0aW9uIChjb2xvcnMsIGNvbG9yLCBhbHBoYSwgc2l6ZSkge1xuICAgICAgICAvLyBUT0RPIHVzZSB0aGUgcHJlbXVsdGlwbHkgYml0cyBJdmFuIGFkZGVkXG4gICAgICAgIHZhciByZ2IgPSAoY29sb3IgPj4gMTYpICsgKGNvbG9yICYgMHhmZjAwKSArICgoY29sb3IgJiAweGZmKSA8PCAxNik7XG4gICAgICAgIHZhciByZ2JhID0gcHJlbXVsdGlwbHlUaW50KHJnYiwgYWxwaGEpO1xuICAgICAgICB3aGlsZSAoc2l6ZS0tID4gMCkge1xuICAgICAgICAgICAgY29sb3JzLnB1c2gocmdiYSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCB0ZXh0dXJlIGlkIHRoYXQgdGhlIHNoYWRlci9mcmFnbWVudCB3YW50cyB0byB1c2UuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdGV4dHVyZUlkc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuYWRkVGV4dHVyZUlkcyA9IGZ1bmN0aW9uICh0ZXh0dXJlSWRzLCBpZCwgc2l6ZSkge1xuICAgICAgICB3aGlsZSAoc2l6ZS0tID4gMCkge1xuICAgICAgICAgICAgdGV4dHVyZUlkcy5wdXNoKGlkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHRoZSBVVnMgZm9yIGEgc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdmVydHMgLSBWZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHV2cyAtIFVWc1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gUmVmZXJlbmNlIHRvIFRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgLSBJbmRleCBidWZmZXIgc3RhcnQgaW5kZXguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZS9sZW5ndGggZm9yIGluZGV4IGJ1ZmZlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbbWF0cml4XSAtIE9wdGlvbmFsIHRyYW5zZm9ybSBmb3IgYWxsIHBvaW50cy5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5hZGRVdnMgPSBmdW5jdGlvbiAodmVydHMsIHV2cywgdGV4dHVyZSwgc3RhcnQsIHNpemUsIG1hdHJpeCkge1xuICAgICAgICBpZiAobWF0cml4ID09PSB2b2lkIDApIHsgbWF0cml4ID0gbnVsbDsgfVxuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICB2YXIgdXZzU3RhcnQgPSB1dnMubGVuZ3RoO1xuICAgICAgICB2YXIgZnJhbWUgPSB0ZXh0dXJlLmZyYW1lO1xuICAgICAgICB3aGlsZSAoaW5kZXggPCBzaXplKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHZlcnRzWyhzdGFydCArIGluZGV4KSAqIDJdO1xuICAgICAgICAgICAgdmFyIHkgPSB2ZXJ0c1soKHN0YXJ0ICsgaW5kZXgpICogMikgKyAxXTtcbiAgICAgICAgICAgIGlmIChtYXRyaXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbnggPSAobWF0cml4LmEgKiB4KSArIChtYXRyaXguYyAqIHkpICsgbWF0cml4LnR4O1xuICAgICAgICAgICAgICAgIHkgPSAobWF0cml4LmIgKiB4KSArIChtYXRyaXguZCAqIHkpICsgbWF0cml4LnR5O1xuICAgICAgICAgICAgICAgIHggPSBueDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICB1dnMucHVzaCh4IC8gZnJhbWUud2lkdGgsIHkgLyBmcmFtZS5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIGlmIChmcmFtZS53aWR0aCA8IGJhc2VUZXh0dXJlLndpZHRoXG4gICAgICAgICAgICB8fCBmcmFtZS5oZWlnaHQgPCBiYXNlVGV4dHVyZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRqdXN0VXZzKHV2cywgdGV4dHVyZSwgdXZzU3RhcnQsIHNpemUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNb2RpZnkgdXZzIGFycmF5IGFjY29yZGluZyB0byBwb3NpdGlvbiBvZiB0ZXh0dXJlIHJlZ2lvblxuICAgICAqIERvZXMgbm90IHdvcmsgd2l0aCByb3RhdGVkIG9yIHRyaW1tZWQgdGV4dHVyZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHV2cyAtIGFycmF5XG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSByZWdpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgLSBzdGFydGluZyBpbmRleCBmb3IgdXZzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBob3cgbWFueSBwb2ludHMgdG8gYWRqdXN0XG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuYWRqdXN0VXZzID0gZnVuY3Rpb24gKHV2cywgdGV4dHVyZSwgc3RhcnQsIHNpemUpIHtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIGVwcyA9IDFlLTY7XG4gICAgICAgIHZhciBmaW5pc2ggPSBzdGFydCArIChzaXplICogMik7XG4gICAgICAgIHZhciBmcmFtZSA9IHRleHR1cmUuZnJhbWU7XG4gICAgICAgIHZhciBzY2FsZVggPSBmcmFtZS53aWR0aCAvIGJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICB2YXIgc2NhbGVZID0gZnJhbWUuaGVpZ2h0IC8gYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgICAgICB2YXIgb2Zmc2V0WCA9IGZyYW1lLnggLyBmcmFtZS53aWR0aDtcbiAgICAgICAgdmFyIG9mZnNldFkgPSBmcmFtZS55IC8gZnJhbWUuaGVpZ2h0O1xuICAgICAgICB2YXIgbWluWCA9IE1hdGguZmxvb3IodXZzW3N0YXJ0XSArIGVwcyk7XG4gICAgICAgIHZhciBtaW5ZID0gTWF0aC5mbG9vcih1dnNbc3RhcnQgKyAxXSArIGVwcyk7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydCArIDI7IGkgPCBmaW5pc2g7IGkgKz0gMikge1xuICAgICAgICAgICAgbWluWCA9IE1hdGgubWluKG1pblgsIE1hdGguZmxvb3IodXZzW2ldICsgZXBzKSk7XG4gICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgTWF0aC5mbG9vcih1dnNbaSArIDFdICsgZXBzKSk7XG4gICAgICAgIH1cbiAgICAgICAgb2Zmc2V0WCAtPSBtaW5YO1xuICAgICAgICBvZmZzZXRZIC09IG1pblk7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGZpbmlzaDsgaSArPSAyKSB7XG4gICAgICAgICAgICB1dnNbaV0gPSAodXZzW2ldICsgb2Zmc2V0WCkgKiBzY2FsZVg7XG4gICAgICAgICAgICB1dnNbaSArIDFdID0gKHV2c1tpICsgMV0gKyBvZmZzZXRZKSAqIHNjYWxlWTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHBvaW50cyB0byBjb25zaWRlciBhbiBvYmplY3QgXCJiYXRjaGFibGVcIixcbiAgICAgKiBhYmxlIHRvIGJlIGJhdGNoZWQgYnkgdGhlIHJlbmRlcmVyJ3MgYmF0Y2ggc3lzdGVtLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JhcGhpY3NHZW9tZXRyeVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9IEJBVENIQUJMRV9TSVpFXG4gICAgICogQGRlZmF1bHQgMTAwXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5CQVRDSEFCTEVfU0laRSA9IDEwMDtcbiAgICByZXR1cm4gR3JhcGhpY3NHZW9tZXRyeTtcbn0oQmF0Y2hHZW9tZXRyeSkpO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIGxpbmUgc3R5bGUgZm9yIEdyYXBoaWNzLlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWxsU3R5bGVcbiAqL1xudmFyIExpbmVTdHlsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTGluZVN0eWxlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIExpbmVTdHlsZSgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggKHRoaWNrbmVzcykgb2YgYW55IGxpbmVzIGRyYXduLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndpZHRoID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbGlnbm1lbnQgb2YgYW55IGxpbmVzIGRyYXduICgwLjUgPSBtaWRkbGUsIDEgPSBvdXRlciwgMCA9IGlubmVyKS4gV2ViR0wgb25seS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFsaWdubWVudCA9IDAuNTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUgdGhlIGxpbmVzIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5uYXRpdmUgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpbmUgY2FwIHN0eWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkxJTkVfQ0FQfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkxJTkVfQ0FQLkJVVFRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhcCA9IExJTkVfQ0FQLkJVVFQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaW5lIGpvaW4gc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTElORV9KT0lOfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkxJTkVfSk9JTi5NSVRFUlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuam9pbiA9IExJTkVfSk9JTi5NSVRFUjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pdGVyIGxpbWl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDEwXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5taXRlckxpbWl0ID0gMTA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTGluZVN0eWxlfVxuICAgICAqL1xuICAgIExpbmVTdHlsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvYmogPSBuZXcgTGluZVN0eWxlKCk7XG4gICAgICAgIG9iai5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIG9iai5hbHBoYSA9IHRoaXMuYWxwaGE7XG4gICAgICAgIG9iai50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICBvYmoubWF0cml4ID0gdGhpcy5tYXRyaXg7XG4gICAgICAgIG9iai52aXNpYmxlID0gdGhpcy52aXNpYmxlO1xuICAgICAgICBvYmoud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICBvYmouYWxpZ25tZW50ID0gdGhpcy5hbGlnbm1lbnQ7XG4gICAgICAgIG9iai5uYXRpdmUgPSB0aGlzLm5hdGl2ZTtcbiAgICAgICAgb2JqLmNhcCA9IHRoaXMuY2FwO1xuICAgICAgICBvYmouam9pbiA9IHRoaXMuam9pbjtcbiAgICAgICAgb2JqLm1pdGVyTGltaXQgPSB0aGlzLm1pdGVyTGltaXQ7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgbGluZSBzdHlsZSB0byBkZWZhdWx0LlxuICAgICAqL1xuICAgIExpbmVTdHlsZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucmVzZXQuY2FsbCh0aGlzKTtcbiAgICAgICAgLy8gT3ZlcnJpZGUgZGVmYXVsdCBsaW5lIHN0eWxlIGNvbG9yXG4gICAgICAgIHRoaXMuY29sb3IgPSAweDA7XG4gICAgICAgIHRoaXMuYWxpZ25tZW50ID0gMC41O1xuICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICAgICAgdGhpcy5uYXRpdmUgPSBmYWxzZTtcbiAgICB9O1xuICAgIHJldHVybiBMaW5lU3R5bGU7XG59KEZpbGxTdHlsZSkpO1xuXG52YXIgdGVtcCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4vLyBhIGRlZmF1bHQgc2hhZGVycyBtYXAgdXNlZCBieSBncmFwaGljcy4uXG52YXIgREVGQVVMVF9TSEFERVJTID0ge307XG4vKipcbiAqIFRoZSBHcmFwaGljcyBjbGFzcyBpcyBwcmltYXJpbHkgdXNlZCB0byByZW5kZXIgcHJpbWl0aXZlIHNoYXBlcyBzdWNoIGFzIGxpbmVzLCBjaXJjbGVzIGFuZFxuICogcmVjdGFuZ2xlcyB0byB0aGUgZGlzcGxheSwgYW5kIHRvIGNvbG9yIGFuZCBmaWxsIHRoZW0uICBIb3dldmVyLCB5b3UgY2FuIGFsc28gdXNlIGEgR3JhcGhpY3NcbiAqIG9iamVjdCB0byBidWlsZCBhIGxpc3Qgb2YgcHJpbWl0aXZlcyB0byB1c2UgYXMgYSBtYXNrLCBvciBhcyBhIGNvbXBsZXggaGl0QXJlYS5cbiAqXG4gKiBQbGVhc2Ugbm90ZSB0aGF0IGR1ZSB0byBsZWdhY3kgbmFtaW5nIGNvbnZlbnRpb25zLCB0aGUgYmVoYXZpb3Igb2Ygc29tZSBmdW5jdGlvbnMgaW4gdGhpcyBjbGFzc1xuICogY2FuIGJlIGNvbmZ1c2luZy4gIEVhY2ggY2FsbCB0byBgZHJhd1JlY3QoKWAsIGBkcmF3UG9seWdvbigpYCwgZXRjLiBhY3R1YWxseSBzdG9yZXMgdGhhdCBwcmltaXRpdmVcbiAqIGluIHRoZSBHZW9tZXRyeSBjbGFzcydzIEdyYXBoaWNzR2VvbWV0cnkgb2JqZWN0IGZvciBsYXRlciB1c2UgaW4gcmVuZGVyaW5nIG9yIGhpdCB0ZXN0aW5nIC0gdGhlXG4gKiBmdW5jdGlvbnMgZG8gbm90IGRpcmVjdGx5IGRyYXcgYW55dGhpbmcgdG8gdGhlIHNjcmVlbi4gIFNpbWlsYXJseSwgdGhlIGBjbGVhcigpYCBmdW5jdGlvbiBkb2Vzbid0XG4gKiBjaGFuZ2UgdGhlIHNjcmVlbiwgaXQgc2ltcGx5IHJlc2V0cyB0aGUgbGlzdCBvZiBwcmltaXRpdmVzLCB3aGljaCBjYW4gYmUgdXNlZnVsIGlmIHlvdSB3YW50IHRvXG4gKiByZWJ1aWxkIHRoZSBjb250ZW50cyBvZiBhbiBleGlzdGluZyBHcmFwaGljcyBvYmplY3QuXG4gKlxuICogT25jZSBhIEdyYXBoaWNzR2VvbWV0cnkgbGlzdCBpcyBidWlsdCwgeW91IGNhbiByZS11c2UgaXQgaW4gb3RoZXIgR2VvbWV0cnkgb2JqZWN0cyBhc1xuICogYW4gb3B0aW1pemF0aW9uLCBieSBwYXNzaW5nIGl0IGludG8gYSBuZXcgR2VvbWV0cnkgb2JqZWN0J3MgY29uc3RydWN0b3IuICBCZWNhdXNlIG9mIHRoaXNcbiAqIGFiaWxpdHksIGl0J3MgaW1wb3J0YW50IHRvIGNhbGwgYGRlc3Ryb3koKWAgb24gR2VvbWV0cnkgb2JqZWN0cyBvbmNlIHlvdSBhcmUgZG9uZSB3aXRoIHRoZW0sIHRvXG4gKiBwcm9wZXJseSBkZXJlZmVyZW5jZSBlYWNoIEdyYXBoaWNzR2VvbWV0cnkgYW5kIHByZXZlbnQgbWVtb3J5IGxlYWtzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHcmFwaGljcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoR3JhcGhpY3MsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IFtnZW9tZXRyeT1udWxsXSAtIEdlb21ldHJ5IHRvIHVzZSwgaWYgb21pdHRlZFxuICAgICAqICAgICAgICB3aWxsIGNyZWF0ZSBhIG5ldyBHcmFwaGljc0dlb21ldHJ5IGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdyYXBoaWNzKGdlb21ldHJ5KSB7XG4gICAgICAgIGlmIChnZW9tZXRyeSA9PT0gdm9pZCAwKSB7IGdlb21ldHJ5ID0gbnVsbDsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fZ2VvbWV0cnkgPSBnZW9tZXRyeSB8fCBuZXcgR3JhcGhpY3NHZW9tZXRyeSgpO1xuICAgICAgICBfdGhpcy5fZ2VvbWV0cnkucmVmQ291bnQrKztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgdGhlIHZlcnRleCBhbmQgZnJhZ21lbnQgc2hhZGVycyB0aGF0IHByb2Nlc3NlcyB0aGUgZ2VvbWV0cnkgYW5kIHJ1bnMgb24gdGhlIEdQVS5cbiAgICAgICAgICogQ2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIEdyYXBoaWNzIG9iamVjdHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgdGhlIFdlYkdMIHN0YXRlIHRoZSBHcmFwaGljcyByZXF1aXJlZCB0byByZW5kZXIsIGV4Y2x1ZGVzIHNoYWRlciBhbmQgZ2VvbWV0cnkuIEUuZy4sXG4gICAgICAgICAqIGJsZW5kIG1vZGUsIGN1bGxpbmcsIGRlcHRoIHRlc3RpbmcsIGRpcmVjdGlvbiBvZiByZW5kZXJpbmcgdHJpYW5nbGVzLCBiYWNrZmFjZSwgZXRjLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBmaWxsIHN0eWxlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsbFN0eWxlfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZmlsbFN0eWxlID0gbmV3IEZpbGxTdHlsZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBsaW5lIHN0eWxlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTGluZVN0eWxlfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbGluZVN0eWxlID0gbmV3IExpbmVTdHlsZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBzaGFwZSB0cmFuc2Zvcm0gbWF0cml4LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX21hdHJpeCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGhvbGUgbW9kZSBpcyBlbmFibGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faG9sZU1vZGUgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgcGF0aFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvbHlnb259XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gY2FjaGVBc0JpdG1hcCBpcyBzZXQgdG8gdHJ1ZSB0aGUgZ3JhcGhpY3Mgb2JqZWN0IHdpbGwgYmUgcmVuZGVyZWQgYXMgaWYgaXQgd2FzIGEgc3ByaXRlLlxuICAgICAgICAgKiBUaGlzIGlzIHVzZWZ1bCBpZiB5b3VyIGdyYXBoaWNzIGVsZW1lbnQgZG9lcyBub3QgY2hhbmdlIG9mdGVuLCBhcyBpdCB3aWxsIHNwZWVkIHVwIHRoZSByZW5kZXJpbmdcbiAgICAgICAgICogb2YgdGhlIG9iamVjdCBpbiBleGNoYW5nZSBmb3IgdGFraW5nIHVwIHRleHR1cmUgbWVtb3J5LiBJdCBpcyBhbHNvIHVzZWZ1bCBpZiB5b3UgbmVlZCB0aGUgZ3JhcGhpY3NcbiAgICAgICAgICogb2JqZWN0IHRvIGJlIGFudGktYWxpYXNlZCwgYmVjYXVzZSBpdCB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGNhbnZhcy4gVGhpcyBpcyBub3QgcmVjb21tZW5kZWQgaWZcbiAgICAgICAgICogeW91IGFyZSBjb25zdGFudGx5IHJlZHJhd2luZyB0aGUgZ3JhcGhpY3MgZWxlbWVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG5hbWUgY2FjaGVBc0JpdG1hcFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5HcmFwaGljcyNcbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNvbGxlY3Rpb25zIG9mIGJhdGNoZXMhIFRoZXNlIGNhbiBiZSBkcmF3biBieSB0aGUgcmVuZGVyZXIgYmF0Y2ggc3lzdGVtLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmF0Y2hlcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIGRpcnR5IGZvciBsaW1pdGluZyBjYWxjdWxhdGluZyB0aW50cyBmb3IgYmF0Y2hlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IC0xXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXRjaFRpbnQgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBkaXJ0eSBmb3IgbGltaXRpbmcgY2FsY3VsYXRpbmcgYmF0Y2hlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IC0xXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXRjaERpcnR5ID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb3B5IG9mIHRoZSBvYmplY3QgdmVydGV4IGRhdGEuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVydGV4RGF0YSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXJlciBwbHVnaW4gZm9yIGJhdGNoaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ2JhdGNoJ1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGx1Z2luTmFtZSA9ICdiYXRjaCc7XG4gICAgICAgIF90aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICAvLyBTZXQgZGVmYXVsdFxuICAgICAgICBfdGhpcy50aW50ID0gMHhGRkZGRkY7XG4gICAgICAgIF90aGlzLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR3JhcGhpY3MucHJvdG90eXBlLCBcImdlb21ldHJ5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluY2x1ZGVzIHZlcnRleCBwb3NpdGlvbnMsIGZhY2UgaW5kaWNlcywgbm9ybWFscywgY29sb3JzLCBVVnMsIGFuZFxuICAgICAgICAgKiBjdXN0b20gYXR0cmlidXRlcyB3aXRoaW4gYnVmZmVycywgcmVkdWNpbmcgdGhlIGNvc3Qgb2YgcGFzc2luZyBhbGxcbiAgICAgICAgICogdGhpcyBkYXRhIHRvIHRoZSBHUFUuIENhbiBiZSBzaGFyZWQgYmV0d2VlbiBtdWx0aXBsZSBNZXNoIG9yIEdyYXBoaWNzIG9iamVjdHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZW9tZXRyeTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgR3JhcGhpY3Mgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqIE5vdGUgdGhhdCBvbmx5IHRoZSBnZW9tZXRyeSBvZiB0aGUgb2JqZWN0IGlzIGNsb25lZCwgbm90IGl0cyB0cmFuc2Zvcm0gKHBvc2l0aW9uLHNjYWxlLGV0YylcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IEEgY2xvbmUgb2YgdGhlIGdyYXBoaWNzIG9iamVjdFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG4gICAgICAgIHJldHVybiBuZXcgR3JhcGhpY3ModGhpcy5fZ2VvbWV0cnkpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyYXBoaWNzLnByb3RvdHlwZSwgXCJibGVuZE1vZGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmJsZW5kTW9kZTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIGdyYXBoaWMgc2hhcGUuIEFwcGx5IGEgdmFsdWUgb2ZcbiAgICAgICAgICogYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS4gIE5vdGUgdGhhdCwgc2luY2UgZWFjaFxuICAgICAgICAgKiBwcmltaXRpdmUgaW4gdGhlIEdyYXBoaWNzR2VvbWV0cnkgbGlzdCBpcyByZW5kZXJlZCBzZXF1ZW50aWFsbHksIG1vZGVzXG4gICAgICAgICAqIHN1Y2ggYXMgYFBJWEkuQkxFTkRfTU9ERVMuQUREYCBhbmQgYFBJWEkuQkxFTkRfTU9ERVMuTVVMVElQTFlgIHdpbGxcbiAgICAgICAgICogYmUgYXBwbGllZCBwZXItcHJpbWl0aXZlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyYXBoaWNzLnByb3RvdHlwZSwgXCJ0aW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gZWFjaCBncmFwaGljIHNoYXBlLiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBIHZhbHVlIG9mXG4gICAgICAgICAqIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmFwaGljcy5wcm90b3R5cGUsIFwiZmlsbFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBmaWxsIHN0eWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbGxTdHlsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9maWxsU3R5bGU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR3JhcGhpY3MucHJvdG90eXBlLCBcImxpbmVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgbGluZSBzdHlsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5MaW5lU3R5bGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGluZVN0eWxlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmxpbmVTdHlsZSA9IGZ1bmN0aW9uIChvcHRpb25zLCBjb2xvciwgYWxwaGEsIGFsaWdubWVudCwgbmF0aXZlKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IG51bGw7IH1cbiAgICAgICAgaWYgKGNvbG9yID09PSB2b2lkIDApIHsgY29sb3IgPSAweDA7IH1cbiAgICAgICAgaWYgKGFscGhhID09PSB2b2lkIDApIHsgYWxwaGEgPSAxOyB9XG4gICAgICAgIGlmIChhbGlnbm1lbnQgPT09IHZvaWQgMCkgeyBhbGlnbm1lbnQgPSAwLjU7IH1cbiAgICAgICAgaWYgKG5hdGl2ZSA9PT0gdm9pZCAwKSB7IG5hdGl2ZSA9IGZhbHNlOyB9XG4gICAgICAgIC8vIFN1cHBvcnQgbm9uLW9iamVjdCBwYXJhbXM6ICh3aWR0aCwgY29sb3IsIGFscGhhLCBhbGlnbm1lbnQsIG5hdGl2ZSlcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgd2lkdGg6IG9wdGlvbnMsIGNvbG9yOiBjb2xvciwgYWxwaGE6IGFscGhhLCBhbGlnbm1lbnQ6IGFsaWdubWVudCwgbmF0aXZlOiBuYXRpdmUgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5saW5lVGV4dHVyZVN0eWxlKG9wdGlvbnMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTGlrZSBsaW5lIHN0eWxlIGJ1dCBzdXBwb3J0IHRleHR1cmUgZm9yIGxpbmUgZmlsbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBDb2xsZWN0aW9uIG9mIG9wdGlvbnMgZm9yIHNldHRpbmcgbGluZSBzdHlsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9MF0gLSB3aWR0aCBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gW29wdGlvbnMudGV4dHVyZT1QSVhJLlRleHR1cmUuV0hJVEVdIC0gVGV4dHVyZSB0byB1c2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sb3I9MHgwXSAtIGNvbG9yIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZS5cbiAgICAgKiAgRGVmYXVsdCAweEZGRkZGRiBpZiB0ZXh0dXJlIHByZXNlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFscGhhPTFdIC0gYWxwaGEgb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gW29wdGlvbnMubWF0cml4PW51bGxdIC0gVGV4dHVyZSBtYXRyaXggdG8gdHJhbnNmb3JtIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYWxpZ25tZW50PTAuNV0gLSBhbGlnbm1lbnQgb2YgdGhlIGxpbmUgdG8gZHJhdywgKDAgPSBpbm5lciwgMC41ID0gbWlkZGxlLCAxID0gb3V0ZXIpLlxuICAgICAqICAgICAgICBXZWJHTCBvbmx5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubmF0aXZlPWZhbHNlXSAtIElmIHRydWUgdGhlIGxpbmVzIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICogQHBhcmFtIHtQSVhJLkxJTkVfQ0FQfVtvcHRpb25zLmNhcD1QSVhJLkxJTkVfQ0FQLkJVVFRdIC0gbGluZSBjYXAgc3R5bGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTElORV9KT0lOfVtvcHRpb25zLmpvaW49UElYSS5MSU5FX0pPSU4uTUlURVJdIC0gbGluZSBqb2luIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9W29wdGlvbnMubWl0ZXJMaW1pdD0xMF0gLSBtaXRlciBsaW1pdCByYXRpb1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubGluZVRleHR1cmVTdHlsZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIC8vIEFwcGx5IGRlZmF1bHRzXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgICAgdGV4dHVyZTogVGV4dHVyZS5XSElURSxcbiAgICAgICAgICAgIGNvbG9yOiAob3B0aW9ucyAmJiBvcHRpb25zLnRleHR1cmUpID8gMHhGRkZGRkYgOiAweDAsXG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIG1hdHJpeDogbnVsbCxcbiAgICAgICAgICAgIGFsaWdubWVudDogMC41LFxuICAgICAgICAgICAgbmF0aXZlOiBmYWxzZSxcbiAgICAgICAgICAgIGNhcDogTElORV9DQVAuQlVUVCxcbiAgICAgICAgICAgIGpvaW46IExJTkVfSk9JTi5NSVRFUixcbiAgICAgICAgICAgIG1pdGVyTGltaXQ6IDEwLFxuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRQb2x5KCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZpc2libGUgPSBvcHRpb25zLndpZHRoID4gMCAmJiBvcHRpb25zLmFscGhhID4gMDtcbiAgICAgICAgaWYgKCF2aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLl9saW5lU3R5bGUucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLm1hdHJpeCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubWF0cml4ID0gb3B0aW9ucy5tYXRyaXguY2xvbmUoKTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm1hdHJpeC5pbnZlcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fbGluZVN0eWxlLCB7IHZpc2libGU6IHZpc2libGUgfSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdGFydCBhIHBvbHlnb24gb2JqZWN0IGludGVybmFsbHlcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLnN0YXJ0UG9seSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIHZhciBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICAgICAgICAgIHZhciBsZW4gPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAobGVuID4gMikge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NoYXBlKHRoaXMuY3VycmVudFBhdGgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBuZXcgUG9seWdvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguY2xvc2VTdHJva2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5wdXNoKHBvaW50c1tsZW4gLSAyXSwgcG9pbnRzW2xlbiAtIDFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBuZXcgUG9seWdvbigpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5jbG9zZVN0cm9rZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaW5pc2ggdGhlIHBvbHlnb24gb2JqZWN0LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZmluaXNoUG9seSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3U2hhcGUodGhpcy5jdXJyZW50UGF0aCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNb3ZlcyB0aGUgY3VycmVudCBkcmF3aW5nIHBvc2l0aW9uIHRvIHgsIHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIHRoZSBYIGNvb3JkaW5hdGUgdG8gbW92ZSB0b1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gdGhlIFkgY29vcmRpbmF0ZSB0byBtb3ZlIHRvXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5tb3ZlVG8gPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICB0aGlzLnN0YXJ0UG9seSgpO1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50c1swXSA9IHg7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGgucG9pbnRzWzFdID0geTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIGxpbmUgdXNpbmcgdGhlIGN1cnJlbnQgbGluZSBzdHlsZSBmcm9tIHRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gdG8gKHgsIHkpO1xuICAgICAqIFRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gaXMgdGhlbiBzZXQgdG8gKHgsIHkpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSB0aGUgWCBjb29yZGluYXRlIHRvIGRyYXcgdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIHRoZSBZIGNvb3JkaW5hdGUgdG8gZHJhdyB0b1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubGluZVRvID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbygwLCAwKTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZW1vdmUgZHVwbGljYXRlcy4uXG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICAgICAgdmFyIGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgdmFyIGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKGZyb21YICE9PSB4IHx8IGZyb21ZICE9PSB5KSB7XG4gICAgICAgICAgICBwb2ludHMucHVzaCh4LCB5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIGN1cnZlXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9pbml0Q3VydmUgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cyA9IFt4LCB5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKHgsIHkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICAgICAqIEJhc2VkIG9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODUwOTcvaG93LWRvLWktaW1wbGVtZW50LWEtYmV6aWVyLWN1cnZlLWluLWNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUucXVhZHJhdGljQ3VydmVUbyA9IGZ1bmN0aW9uIChjcFgsIGNwWSwgdG9YLCB0b1kpIHtcbiAgICAgICAgdGhpcy5faW5pdEN1cnZlKCk7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKDAsIDApO1xuICAgICAgICB9XG4gICAgICAgIFF1YWRyYXRpY1V0aWxzLmN1cnZlVG8oY3BYLCBjcFksIHRvWCwgdG9ZLCBwb2ludHMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWDIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWTIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYmV6aWVyQ3VydmVUbyA9IGZ1bmN0aW9uIChjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1kpIHtcbiAgICAgICAgdGhpcy5faW5pdEN1cnZlKCk7XG4gICAgICAgIEJlemllclV0aWxzLmN1cnZlVG8oY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZLCB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIGFyY1RvKCkgbWV0aG9kIGNyZWF0ZXMgYW4gYXJjL2N1cnZlIGJldHdlZW4gdHdvIHRhbmdlbnRzIG9uIHRoZSBjYW52YXMuXG4gICAgICpcbiAgICAgKiBcImJvcnJvd2VkXCIgZnJvbSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Z4Y2FudmFzLyAtIHRoYW5rcyBnb29nbGUhXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDEgLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBmaXJzdCB0YW5nZW50IHBvaW50IG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTEgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBmaXJzdCB0YW5nZW50IHBvaW50IG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDIgLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MiAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGVuZCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGFyY1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYXJjVG8gPSBmdW5jdGlvbiAoeDEsIHkxLCB4MiwgeTIsIHJhZGl1cykge1xuICAgICAgICB0aGlzLl9pbml0Q3VydmUoeDEsIHkxKTtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGgucG9pbnRzO1xuICAgICAgICB2YXIgcmVzdWx0ID0gQXJjVXRpbHMuY3VydmVUbyh4MSwgeTEsIHgyLCB5MiwgcmFkaXVzLCBwb2ludHMpO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICB2YXIgY3ggPSByZXN1bHQuY3gsIGN5ID0gcmVzdWx0LmN5LCByYWRpdXNfMSA9IHJlc3VsdC5yYWRpdXMsIHN0YXJ0QW5nbGUgPSByZXN1bHQuc3RhcnRBbmdsZSwgZW5kQW5nbGUgPSByZXN1bHQuZW5kQW5nbGUsIGFudGljbG9ja3dpc2UgPSByZXN1bHQuYW50aWNsb2Nrd2lzZTtcbiAgICAgICAgICAgIHRoaXMuYXJjKGN4LCBjeSwgcmFkaXVzXzEsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBhcmMgbWV0aG9kIGNyZWF0ZXMgYW4gYXJjL2N1cnZlICh1c2VkIHRvIGNyZWF0ZSBjaXJjbGVzLCBvciBwYXJ0cyBvZiBjaXJjbGVzKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjeCAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN5IC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0QW5nbGUgLSBUaGUgc3RhcnRpbmcgYW5nbGUsIGluIHJhZGlhbnMgKDAgaXMgYXQgdGhlIDMgbydjbG9jayBwb3NpdGlvblxuICAgICAqICBvZiB0aGUgYXJjJ3MgY2lyY2xlKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRBbmdsZSAtIFRoZSBlbmRpbmcgYW5nbGUsIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthbnRpY2xvY2t3aXNlPWZhbHNlXSAtIFNwZWNpZmllcyB3aGV0aGVyIHRoZSBkcmF3aW5nIHNob3VsZCBiZVxuICAgICAqICBjb3VudGVyLWNsb2Nrd2lzZSBvciBjbG9ja3dpc2UuIEZhbHNlIGlzIGRlZmF1bHQsIGFuZCBpbmRpY2F0ZXMgY2xvY2t3aXNlLCB3aGlsZSB0cnVlXG4gICAgICogIGluZGljYXRlcyBjb3VudGVyLWNsb2Nrd2lzZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmFyYyA9IGZ1bmN0aW9uIChjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UpIHtcbiAgICAgICAgaWYgKGFudGljbG9ja3dpc2UgPT09IHZvaWQgMCkgeyBhbnRpY2xvY2t3aXNlID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKHN0YXJ0QW5nbGUgPT09IGVuZEFuZ2xlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFudGljbG9ja3dpc2UgJiYgZW5kQW5nbGUgPD0gc3RhcnRBbmdsZSkge1xuICAgICAgICAgICAgZW5kQW5nbGUgKz0gUElfMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhbnRpY2xvY2t3aXNlICYmIHN0YXJ0QW5nbGUgPD0gZW5kQW5nbGUpIHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGUgKz0gUElfMjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3dlZXAgPSBlbmRBbmdsZSAtIHN0YXJ0QW5nbGU7XG4gICAgICAgIGlmIChzd2VlcCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXJ0WCA9IGN4ICsgKE1hdGguY29zKHN0YXJ0QW5nbGUpICogcmFkaXVzKTtcbiAgICAgICAgdmFyIHN0YXJ0WSA9IGN5ICsgKE1hdGguc2luKHN0YXJ0QW5nbGUpICogcmFkaXVzKTtcbiAgICAgICAgdmFyIGVwcyA9IHRoaXMuX2dlb21ldHJ5LmNsb3NlUG9pbnRFcHM7XG4gICAgICAgIC8vIElmIHRoZSBjdXJyZW50UGF0aCBleGlzdHMsIHRha2UgaXRzIHBvaW50cy4gT3RoZXJ3aXNlIGNhbGwgYG1vdmVUb2AgdG8gc3RhcnQgYSBwYXRoLlxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aCA/IHRoaXMuY3VycmVudFBhdGgucG9pbnRzIDogbnVsbDtcbiAgICAgICAgaWYgKHBvaW50cykge1xuICAgICAgICAgICAgLy8gVE9ETzogbWFrZSBhIGJldHRlciBmaXguXG4gICAgICAgICAgICAvLyBXZSBjaGVjayBob3cgZmFyIG91ciBzdGFydCBpcyBmcm9tIHRoZSBsYXN0IGV4aXN0aW5nIHBvaW50XG4gICAgICAgICAgICB2YXIgeERpZmYgPSBNYXRoLmFicyhwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdIC0gc3RhcnRYKTtcbiAgICAgICAgICAgIHZhciB5RGlmZiA9IE1hdGguYWJzKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0gLSBzdGFydFkpO1xuICAgICAgICAgICAgaWYgKHhEaWZmIDwgZXBzICYmIHlEaWZmIDwgZXBzKSA7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChzdGFydFgsIHN0YXJ0WSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbyhzdGFydFgsIHN0YXJ0WSk7XG4gICAgICAgICAgICBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICAgICAgfVxuICAgICAgICBBcmNVdGlscy5hcmMoc3RhcnRYLCBzdGFydFksIGN4LCBjeSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYW50aWNsb2Nrd2lzZSwgcG9pbnRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgYSBzaW1wbGUgb25lLWNvbG9yIGZpbGwgdGhhdCBzdWJzZXF1ZW50IGNhbGxzIHRvIG90aGVyIEdyYXBoaWNzIG1ldGhvZHNcbiAgICAgKiAoc3VjaCBhcyBsaW5lVG8oKSBvciBkcmF3Q2lyY2xlKCkpIHVzZSB3aGVuIGRyYXdpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbG9yPTBdIC0gdGhlIGNvbG9yIG9mIHRoZSBmaWxsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbHBoYT0xXSAtIHRoZSBhbHBoYSBvZiB0aGUgZmlsbFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYmVnaW5GaWxsID0gZnVuY3Rpb24gKGNvbG9yLCBhbHBoYSkge1xuICAgICAgICBpZiAoY29sb3IgPT09IHZvaWQgMCkgeyBjb2xvciA9IDA7IH1cbiAgICAgICAgaWYgKGFscGhhID09PSB2b2lkIDApIHsgYWxwaGEgPSAxOyB9XG4gICAgICAgIHJldHVybiB0aGlzLmJlZ2luVGV4dHVyZUZpbGwoeyB0ZXh0dXJlOiBUZXh0dXJlLldISVRFLCBjb2xvcjogY29sb3IsIGFscGhhOiBhbHBoYSB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJlZ2luIHRoZSB0ZXh0dXJlIGZpbGxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBPYmplY3Qgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBbb3B0aW9ucy50ZXh0dXJlPVBJWEkuVGV4dHVyZS5XSElURV0gLSBUZXh0dXJlIHRvIGZpbGxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sb3I9MHhmZmZmZmZdIC0gQmFja2dyb3VuZCB0byBmaWxsIGJlaGluZCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFscGhhPTFdIC0gQWxwaGEgb2YgZmlsbFxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFtvcHRpb25zLm1hdHJpeD1udWxsXSAtIFRyYW5zZm9ybSBtYXRyaXhcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmJlZ2luVGV4dHVyZUZpbGwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAvLyBBcHBseSBkZWZhdWx0c1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB0ZXh0dXJlOiBUZXh0dXJlLldISVRFLFxuICAgICAgICAgICAgY29sb3I6IDB4RkZGRkZGLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICBtYXRyaXg6IG51bGwsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydFBvbHkoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmlzaWJsZSA9IG9wdGlvbnMuYWxwaGEgPiAwO1xuICAgICAgICBpZiAoIXZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbGxTdHlsZS5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubWF0cml4KSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5tYXRyaXggPSBvcHRpb25zLm1hdHJpeC5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubWF0cml4LmludmVydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9maWxsU3R5bGUsIHsgdmlzaWJsZTogdmlzaWJsZSB9LCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYSBmaWxsIHRvIHRoZSBsaW5lcyBhbmQgc2hhcGVzIHRoYXQgd2VyZSBhZGRlZCBzaW5jZSB0aGUgbGFzdCBjYWxsIHRvIHRoZSBiZWdpbkZpbGwoKSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmVuZEZpbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICB0aGlzLl9maWxsU3R5bGUucmVzZXQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIHJlY3RhbmdsZSBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3UmVjdCA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXcgYSByZWN0YW5nbGUgc2hhcGUgd2l0aCByb3VuZGVkL2JldmVsZWQgY29ybmVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFJhZGl1cyBvZiB0aGUgcmVjdGFuZ2xlIGNvcm5lcnNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdSb3VuZGVkUmVjdCA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBSb3VuZGVkUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQsIHJhZGl1cykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBjaXJjbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdDaXJjbGUgPSBmdW5jdGlvbiAoeCwgeSwgcmFkaXVzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgQ2lyY2xlKHgsIHksIHJhZGl1cykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgYW4gZWxsaXBzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgaGFsZiB3aWR0aCBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGFsZiBoZWlnaHQgb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdFbGxpcHNlID0gZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBFbGxpcHNlKHgsIHksIHdpZHRoLCBoZWlnaHQpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXdzIGEgcG9seWdvbiB1c2luZyB0aGUgZ2l2ZW4gcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW118UElYSS5Qb2ludFtdfFBJWEkuUG9seWdvbn0gcGF0aCAtIFRoZSBwYXRoIGRhdGEgdXNlZCB0byBjb25zdHJ1Y3QgdGhlIHBvbHlnb24uXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3UG9seWdvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgICAgIHZhciBwYXRoID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBwYXRoW19pXSA9IGFyZ3VtZW50cyQxW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcG9pbnRzO1xuICAgICAgICB2YXIgY2xvc2VTdHJva2UgPSB0cnVlOyAvLyAhIXRoaXMuX2ZpbGxTdHlsZTtcbiAgICAgICAgdmFyIHBvbHkgPSBwYXRoWzBdO1xuICAgICAgICAvLyBjaGVjayBpZiBkYXRhIGhhcyBwb2ludHMuLlxuICAgICAgICBpZiAocG9seS5wb2ludHMpIHtcbiAgICAgICAgICAgIGNsb3NlU3Ryb2tlID0gcG9seS5jbG9zZVN0cm9rZTtcbiAgICAgICAgICAgIHBvaW50cyA9IHBvbHkucG9pbnRzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocGF0aFswXSkpIHtcbiAgICAgICAgICAgIHBvaW50cyA9IHBhdGhbMF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwb2ludHMgPSBwYXRoO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzaGFwZSA9IG5ldyBQb2x5Z29uKHBvaW50cyk7XG4gICAgICAgIHNoYXBlLmNsb3NlU3Ryb2tlID0gY2xvc2VTdHJva2U7XG4gICAgICAgIHRoaXMuZHJhd1NoYXBlKHNoYXBlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3IGFueSBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IHNoYXBlIC0gU2hhcGUgdG8gZHJhd1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1NoYXBlID0gZnVuY3Rpb24gKHNoYXBlKSB7XG4gICAgICAgIGlmICghdGhpcy5faG9sZU1vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2dlb21ldHJ5LmRyYXdTaGFwZShzaGFwZSwgdGhpcy5fZmlsbFN0eWxlLmNsb25lKCksIHRoaXMuX2xpbmVTdHlsZS5jbG9uZSgpLCB0aGlzLl9tYXRyaXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZ2VvbWV0cnkuZHJhd0hvbGUoc2hhcGUsIHRoaXMuX21hdHJpeCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGdyYXBoaWNzIHRoYXQgd2VyZSBkcmF3biB0byB0aGlzIEdyYXBoaWNzIG9iamVjdCwgYW5kIHJlc2V0cyBmaWxsIGFuZCBsaW5lIHN0eWxlIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fZ2VvbWV0cnkuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fbGluZVN0eWxlLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuX2ZpbGxTdHlsZS5yZXNldCgpO1xuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgICAgICB0aGlzLl9tYXRyaXggPSBudWxsO1xuICAgICAgICB0aGlzLl9ob2xlTW9kZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcnVlIGlmIGdyYXBoaWNzIGNvbnNpc3RzIG9mIG9uZSByZWN0YW5nbGUsIGFuZCB0aHVzLCBjYW4gYmUgZHJhd24gbGlrZSBhIFNwcml0ZSBhbmRcbiAgICAgKiBtYXNrZWQgd2l0aCBnbC5zY2lzc29yLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgb25seSAxIHJlY3QuXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmlzRmFzdFJlY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5fZ2VvbWV0cnkuZ3JhcGhpY3NEYXRhO1xuICAgICAgICByZXR1cm4gZGF0YS5sZW5ndGggPT09IDFcbiAgICAgICAgICAgICYmIGRhdGFbMF0uc2hhcGUudHlwZSA9PT0gU0hBUEVTLlJFQ1RcbiAgICAgICAgICAgICYmICEoZGF0YVswXS5saW5lU3R5bGUudmlzaWJsZSAmJiBkYXRhWzBdLmxpbmVTdHlsZS53aWR0aCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLl9nZW9tZXRyeTtcbiAgICAgICAgdmFyIGhhc3VpbnQzMiA9IHJlbmRlcmVyLmNvbnRleHQuc3VwcG9ydHMudWludDMySW5kaWNlcztcbiAgICAgICAgLy8gYmF0Y2ggcGFydC4uXG4gICAgICAgIC8vIGJhdGNoIGl0IVxuICAgICAgICBnZW9tZXRyeS51cGRhdGVCYXRjaGVzKGhhc3VpbnQzMik7XG4gICAgICAgIGlmIChnZW9tZXRyeS5iYXRjaGFibGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmJhdGNoRGlydHkgIT09IGdlb21ldHJ5LmJhdGNoRGlydHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3B1bGF0ZUJhdGNoZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckJhdGNoZWQocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gbm8gYmF0Y2hpbmcuLi5cbiAgICAgICAgICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJEaXJlY3QocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQb3B1bGF0aW5nIGJhdGNoZXMgZm9yIHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcG9wdWxhdGVCYXRjaGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLl9nZW9tZXRyeTtcbiAgICAgICAgdmFyIGJsZW5kTW9kZSA9IHRoaXMuYmxlbmRNb2RlO1xuICAgICAgICB2YXIgbGVuID0gZ2VvbWV0cnkuYmF0Y2hlcy5sZW5ndGg7XG4gICAgICAgIHRoaXMuYmF0Y2hUaW50ID0gLTE7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIHRoaXMuYmF0Y2hEaXJ0eSA9IGdlb21ldHJ5LmJhdGNoRGlydHk7XG4gICAgICAgIHRoaXMuYmF0Y2hlcy5sZW5ndGggPSBsZW47XG4gICAgICAgIHRoaXMudmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZ2VvbWV0cnkucG9pbnRzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGdJID0gZ2VvbWV0cnkuYmF0Y2hlc1tpXTtcbiAgICAgICAgICAgIHZhciBjb2xvciA9IGdJLnN0eWxlLmNvbG9yO1xuICAgICAgICAgICAgdmFyIHZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudmVydGV4RGF0YS5idWZmZXIsIGdJLmF0dHJpYlN0YXJ0ICogNCAqIDIsIGdJLmF0dHJpYlNpemUgKiAyKTtcbiAgICAgICAgICAgIHZhciB1dnMgPSBuZXcgRmxvYXQzMkFycmF5KGdlb21ldHJ5LnV2c0Zsb2F0MzIuYnVmZmVyLCBnSS5hdHRyaWJTdGFydCAqIDQgKiAyLCBnSS5hdHRyaWJTaXplICogMik7XG4gICAgICAgICAgICB2YXIgaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheShnZW9tZXRyeS5pbmRpY2VzVWludDE2LmJ1ZmZlciwgZ0kuc3RhcnQgKiAyLCBnSS5zaXplKTtcbiAgICAgICAgICAgIHZhciBiYXRjaCA9IHtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhOiB2ZXJ0ZXhEYXRhLFxuICAgICAgICAgICAgICAgIGJsZW5kTW9kZTogYmxlbmRNb2RlLFxuICAgICAgICAgICAgICAgIGluZGljZXM6IGluZGljZXMsXG4gICAgICAgICAgICAgICAgdXZzOiB1dnMsXG4gICAgICAgICAgICAgICAgX2JhdGNoUkdCOiBoZXgycmdiKGNvbG9yKSxcbiAgICAgICAgICAgICAgICBfdGludFJHQjogY29sb3IsXG4gICAgICAgICAgICAgICAgX3RleHR1cmU6IGdJLnN0eWxlLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgYWxwaGE6IGdJLnN0eWxlLmFscGhhLFxuICAgICAgICAgICAgICAgIHdvcmxkQWxwaGE6IDFcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmJhdGNoZXNbaV0gPSBiYXRjaDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgYmF0Y2hlcyB1c2luZyB0aGUgQmF0aGVkUmVuZGVyZXIgcGx1Z2luXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyQmF0Y2hlZCA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICBpZiAoIXRoaXMuYmF0Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJlci5iYXRjaC5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0pO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVGludHMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYmF0Y2ggPSB0aGlzLmJhdGNoZXNbaV07XG4gICAgICAgICAgICBiYXRjaC53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhICogYmF0Y2guYWxwaGE7XG4gICAgICAgICAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKGJhdGNoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgZ3JhcGhpY3MgZGlyZWN0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyRGlyZWN0ID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBzaGFkZXIgPSB0aGlzLl9yZXNvbHZlRGlyZWN0U2hhZGVyKHJlbmRlcmVyKTtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5fZ2VvbWV0cnk7XG4gICAgICAgIHZhciB0aW50ID0gdGhpcy50aW50O1xuICAgICAgICB2YXIgd29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICAgICAgdmFyIHVuaWZvcm1zID0gc2hhZGVyLnVuaWZvcm1zO1xuICAgICAgICB2YXIgZHJhd0NhbGxzID0gZ2VvbWV0cnkuZHJhd0NhbGxzO1xuICAgICAgICAvLyBsZXRzIHNldCB0aGUgdHJhbnNmb21yXG4gICAgICAgIHVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIC8vIGFuZCB0aGVuIGxldHMgc2V0IHRoZSB0aW50Li5cbiAgICAgICAgdW5pZm9ybXMudGludFswXSA9ICgoKHRpbnQgPj4gMTYpICYgMHhGRikgLyAyNTUpICogd29ybGRBbHBoYTtcbiAgICAgICAgdW5pZm9ybXMudGludFsxXSA9ICgoKHRpbnQgPj4gOCkgJiAweEZGKSAvIDI1NSkgKiB3b3JsZEFscGhhO1xuICAgICAgICB1bmlmb3Jtcy50aW50WzJdID0gKCh0aW50ICYgMHhGRikgLyAyNTUpICogd29ybGRBbHBoYTtcbiAgICAgICAgdW5pZm9ybXMudGludFszXSA9IHdvcmxkQWxwaGE7XG4gICAgICAgIC8vIHRoZSBmaXJzdCBkcmF3IGNhbGwsIHdlIGNhbiBzZXQgdGhlIHVuaWZvcm1zIG9mIHRoZSBzaGFkZXIgZGlyZWN0bHkgaGVyZS5cbiAgICAgICAgLy8gdGhpcyBtZWFucyB0aGF0IHdlIGNhbiB0YWNrIGFkdmFudGFnZSBvZiB0aGUgc3luYyBmdW5jdGlvbiBvZiBwaXhpIVxuICAgICAgICAvLyBiaW5kIGFuZCBzeW5jIHVuaWZvcm1zLi5cbiAgICAgICAgLy8gdGhlcmUgaXMgYSB3YXkgdG8gb3B0aW1pc2UgdGhpcy4uXG4gICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKHNoYWRlcik7XG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQoZ2VvbWV0cnksIHNoYWRlcik7XG4gICAgICAgIC8vIHNldCBzdGF0ZS4uXG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcbiAgICAgICAgLy8gdGhlbiByZW5kZXIgdGhlIHJlc3Qgb2YgdGhlbS4uLlxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGRyYXdDYWxscy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckRyYXdDYWxsRGlyZWN0KHJlbmRlcmVyLCBnZW9tZXRyeS5kcmF3Q2FsbHNbaV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHNwZWNpZmljIERyYXdDYWxsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJhdGNoRHJhd0NhbGx9IGRyYXdDYWxsXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9yZW5kZXJEcmF3Q2FsbERpcmVjdCA9IGZ1bmN0aW9uIChyZW5kZXJlciwgZHJhd0NhbGwpIHtcbiAgICAgICAgdmFyIHRleEFycmF5ID0gZHJhd0NhbGwudGV4QXJyYXksIHR5cGUgPSBkcmF3Q2FsbC50eXBlLCBzaXplID0gZHJhd0NhbGwuc2l6ZSwgc3RhcnQgPSBkcmF3Q2FsbC5zdGFydDtcbiAgICAgICAgdmFyIGdyb3VwVGV4dHVyZUNvdW50ID0gdGV4QXJyYXkuY291bnQ7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ3JvdXBUZXh0dXJlQ291bnQ7IGorKykge1xuICAgICAgICAgICAgcmVuZGVyZXIudGV4dHVyZS5iaW5kKHRleEFycmF5LmVsZW1lbnRzW2pdLCBqKTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KHR5cGUsIHNpemUsIHN0YXJ0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIHNoYWRlciBmb3IgZGlyZWN0IHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3Jlc29sdmVEaXJlY3RTaGFkZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIHNoYWRlciA9IHRoaXMuc2hhZGVyO1xuICAgICAgICB2YXIgcGx1Z2luTmFtZSA9IHRoaXMucGx1Z2luTmFtZTtcbiAgICAgICAgaWYgKCFzaGFkZXIpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIHNoYWRlciBoZXJlLCB3ZSBjYW4gdXNlIHRoZSBkZWZhdWx0IHNoYWRlci5cbiAgICAgICAgICAgIC8vIGFuZCB0aGF0IG9ubHkgZ2V0cyBjcmVhdGVkIGlmIHdlIGFjdHVhbGx5IG5lZWQgaXQuLlxuICAgICAgICAgICAgLy8gYnV0IG1heSBiZSBtb3JlIHRoYW4gb25lIHBsdWdpbnMgZm9yIGdyYXBoaWNzXG4gICAgICAgICAgICBpZiAoIURFRkFVTFRfU0hBREVSU1twbHVnaW5OYW1lXSkge1xuICAgICAgICAgICAgICAgIHZhciBNQVhfVEVYVFVSRVMgPSByZW5kZXJlci5wbHVnaW5zLmJhdGNoLk1BWF9URVhUVVJFUztcbiAgICAgICAgICAgICAgICB2YXIgc2FtcGxlVmFsdWVzID0gbmV3IEludDMyQXJyYXkoTUFYX1RFWFRVUkVTKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE1BWF9URVhUVVJFUzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB1bmlmb3JtcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgdGludDogbmV3IEZsb2F0MzJBcnJheShbMSwgMSwgMSwgMV0pLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbk1hdHJpeDogbmV3IE1hdHJpeCgpLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBVbmlmb3JtR3JvdXAuZnJvbSh7IHVTYW1wbGVyczogc2FtcGxlVmFsdWVzIH0sIHRydWUpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIHByb2dyYW0gPSByZW5kZXJlci5wbHVnaW5zW3BsdWdpbk5hbWVdLl9zaGFkZXIucHJvZ3JhbTtcbiAgICAgICAgICAgICAgICBERUZBVUxUX1NIQURFUlNbcGx1Z2luTmFtZV0gPSBuZXcgU2hhZGVyKHByb2dyYW0sIHVuaWZvcm1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNoYWRlciA9IERFRkFVTFRfU0hBREVSU1twbHVnaW5OYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2hhZGVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBib3VuZHMgb2YgdGhlIGdyYXBoaWMgc2hhcGUgYXMgYSByZWN0YW5nbGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLl9nZW9tZXRyeTtcbiAgICAgICAgLy8gc2tpcHBpbmcgd2hlbiBncmFwaGljcyBpcyBlbXB0eSwgbGlrZSBhIGNvbnRhaW5lclxuICAgICAgICBpZiAoIWdlb21ldHJ5LmdyYXBoaWNzRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSBnZW9tZXRyeS5ib3VuZHMsIG1pblggPSBfYS5taW5YLCBtaW5ZID0gX2EubWluWSwgbWF4WCA9IF9hLm1heFgsIG1heFkgPSBfYS5tYXhZO1xuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkRnJhbWUodGhpcy50cmFuc2Zvcm0sIG1pblgsIG1pblksIG1heFgsIG1heFkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBncmFwaGljcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwb2ludCAtIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHJlc3VsdCBvZiB0aGUgdGVzdFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCBHcmFwaGljcy5fVEVNUF9QT0lOVCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZW9tZXRyeS5jb250YWluc1BvaW50KEdyYXBoaWNzLl9URU1QX1BPSU5UKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlIHRoZSB0aW50IGJ5IGFwcGx5aW5nIHRpbnQgdG8gYmF0Y2hlcyB1c2luZyBHcmFwaGljcyB0aW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2FsY3VsYXRlVGludHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmJhdGNoVGludCAhPT0gdGhpcy50aW50KSB7XG4gICAgICAgICAgICB0aGlzLmJhdGNoVGludCA9IHRoaXMudGludDtcbiAgICAgICAgICAgIHZhciB0aW50UkdCID0gaGV4MnJnYih0aGlzLnRpbnQsIHRlbXApO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgYmF0Y2ggPSB0aGlzLmJhdGNoZXNbaV07XG4gICAgICAgICAgICAgICAgdmFyIGJhdGNoVGludCA9IGJhdGNoLl9iYXRjaFJHQjtcbiAgICAgICAgICAgICAgICB2YXIgciA9ICh0aW50UkdCWzBdICogYmF0Y2hUaW50WzBdKSAqIDI1NTtcbiAgICAgICAgICAgICAgICB2YXIgZyA9ICh0aW50UkdCWzFdICogYmF0Y2hUaW50WzFdKSAqIDI1NTtcbiAgICAgICAgICAgICAgICB2YXIgYiA9ICh0aW50UkdCWzJdICogYmF0Y2hUaW50WzJdKSAqIDI1NTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIEl2YW4sIGNhbiB0aGlzIGJlIGRvbmUgaW4gb25lIGdvP1xuICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IChyIDw8IDE2KSArIChnIDw8IDgpICsgKGIgfCAwKTtcbiAgICAgICAgICAgICAgICBiYXRjaC5fdGludFJHQiA9IChjb2xvciA+PiAxNilcbiAgICAgICAgICAgICAgICAgICAgKyAoY29sb3IgJiAweGZmMDApXG4gICAgICAgICAgICAgICAgICAgICsgKChjb2xvciAmIDB4ZmYpIDw8IDE2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSWYgdGhlcmUncyBhIHRyYW5zZm9ybSB1cGRhdGUgb3IgYSBjaGFuZ2UgdG8gdGhlIHNoYXBlIG9mIHRoZVxuICAgICAqIGdlb21ldHJ5LCByZWNhbGN1bGF0ZSB0aGUgdmVydGljZXMuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jYWxjdWxhdGVWZXJ0aWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHd0SUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybUlEID09PSB3dElEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSB3dElEO1xuICAgICAgICB2YXIgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSB3dC5hO1xuICAgICAgICB2YXIgYiA9IHd0LmI7XG4gICAgICAgIHZhciBjID0gd3QuYztcbiAgICAgICAgdmFyIGQgPSB3dC5kO1xuICAgICAgICB2YXIgdHggPSB3dC50eDtcbiAgICAgICAgdmFyIHR5ID0gd3QudHk7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5fZ2VvbWV0cnkucG9pbnRzOyAvLyBiYXRjaC52ZXJ0ZXhEYXRhT3JpZ2luYWw7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhEYXRhO1xuICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZhciB4ID0gZGF0YVtpXTtcbiAgICAgICAgICAgIHZhciB5ID0gZGF0YVtpICsgMV07XG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhW2NvdW50KytdID0gKGEgKiB4KSArIChjICogeSkgKyB0eDtcbiAgICAgICAgICAgIHZlcnRleERhdGFbY291bnQrK10gPSAoZCAqIHkpICsgKGIgKiB4KSArIHR5O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIGN1cnJlbnQgcGF0aC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jbG9zZVBhdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjdXJyZW50UGF0aCA9IHRoaXMuY3VycmVudFBhdGg7XG4gICAgICAgIGlmIChjdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgbmVlZCB0byBhZGQgZXh0cmEgcG9pbnQgaW4gdGhlIGVuZCBiZWNhdXNlIGJ1aWxkTGluZSB3aWxsIHRha2UgY2FyZSBvZiB0aGF0XG4gICAgICAgICAgICBjdXJyZW50UGF0aC5jbG9zZVN0cm9rZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBseSBhIG1hdHJpeCB0byB0aGUgcG9zaXRpb25hbCBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gTWF0cml4IHRvIHVzZSBmb3IgdHJhbnNmb3JtIGN1cnJlbnQgc2hhcGUuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLnNldE1hdHJpeCA9IGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbWF0cml4O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJlZ2luIGFkZGluZyBob2xlcyB0byB0aGUgbGFzdCBkcmF3IHNoYXBlXG4gICAgICogSU1QT1JUQU5UOiBob2xlcyBtdXN0IGJlIGZ1bGx5IGluc2lkZSBhIHNoYXBlIHRvIHdvcmtcbiAgICAgKiBBbHNvIHdlaXJkbmVzcyBlbnN1ZXMgaWYgaG9sZXMgb3ZlcmxhcCFcbiAgICAgKiBFbGxpcHNlcywgQ2lyY2xlcywgUmVjdGFuZ2xlcyBhbmQgUm91bmRlZCBSZWN0YW5nbGVzIGNhbm5vdCBiZSBob2xlcyBvciBob3N0IGZvciBob2xlcyBpbiBDYW52YXNSZW5kZXJlcixcbiAgICAgKiBwbGVhc2UgdXNlIGBtb3ZlVG9gIGBsaW5lVG9gLCBgcXVhZHJhdGljQ3VydmVUb2AgaWYgeW91IHJlbHkgb24gcGl4aS1sZWdhY3kgYnVuZGxlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5iZWdpbkhvbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICB0aGlzLl9ob2xlTW9kZSA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5kIGFkZGluZyBob2xlcyB0byB0aGUgbGFzdCBkcmF3IHNoYXBlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmVuZEhvbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICB0aGlzLl9ob2xlTW9kZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbFxuICAgICAqICBvcHRpb25zIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlXG4gICAgICogIHRoZWlyIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fZ2VvbWV0cnkucmVmQ291bnQtLTtcbiAgICAgICAgaWYgKHRoaXMuX2dlb21ldHJ5LnJlZkNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9nZW9tZXRyeS5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xpbmVTdHlsZS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX2xpbmVTdHlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ZpbGxTdHlsZS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX2ZpbGxTdHlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2dlb21ldHJ5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmJhdGNoZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5iYXRjaGVzID0gbnVsbDtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZW1wb3JhcnkgcG9pbnQgdG8gdXNlIGZvciBjb250YWluc1BvaW50XG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAqL1xuICAgIEdyYXBoaWNzLl9URU1QX1BPSU5UID0gbmV3IFBvaW50KCk7XG4gICAgcmV0dXJuIEdyYXBoaWNzO1xufShDb250YWluZXIpKTtcblxudmFyIGdyYXBoaWNzVXRpbHMgPSB7XG4gICAgYnVpbGRQb2x5OiBidWlsZFBvbHksXG4gICAgYnVpbGRDaXJjbGU6IGJ1aWxkQ2lyY2xlLFxuICAgIGJ1aWxkUmVjdGFuZ2xlOiBidWlsZFJlY3RhbmdsZSxcbiAgICBidWlsZFJvdW5kZWRSZWN0YW5nbGU6IGJ1aWxkUm91bmRlZFJlY3RhbmdsZSxcbiAgICBidWlsZExpbmU6IGJ1aWxkTGluZSxcbiAgICBBcmNVdGlsczogQXJjVXRpbHMsXG4gICAgQmV6aWVyVXRpbHM6IEJlemllclV0aWxzLFxuICAgIFF1YWRyYXRpY1V0aWxzOiBRdWFkcmF0aWNVdGlscyxcbiAgICBCYXRjaFBhcnQ6IEJhdGNoUGFydCxcbiAgICBGSUxMX0NPTU1BTkRTOiBGSUxMX0NPTU1BTkRTLFxuICAgIEJBVENIX1BPT0w6IEJBVENIX1BPT0wsXG4gICAgRFJBV19DQUxMX1BPT0w6IERSQVdfQ0FMTF9QT09MXG59O1xuXG5leHBvcnQgeyBGaWxsU3R5bGUsIEdSQVBISUNTX0NVUlZFUywgR3JhcGhpY3MsIEdyYXBoaWNzRGF0YSwgR3JhcGhpY3NHZW9tZXRyeSwgTElORV9DQVAsIExJTkVfSk9JTiwgTGluZVN0eWxlLCBncmFwaGljc1V0aWxzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ncmFwaGljcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvdGV4dCAtIHY2LjAuMFxuICogQ29tcGlsZWQgVHVlLCAwMiBNYXIgMjAyMSAyMTo0NTowMyBVVENcbiAqXG4gKiBAcGl4aS90ZXh0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBoZXgyc3RyaW5nLCBoZXgycmdiLCBzdHJpbmcyaGV4LCB0cmltQ2FudmFzLCBzaWduIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBkZWZpbmUgdGhlIHR5cGUgb2YgZ3JhZGllbnQgb24gdGV4dC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFRFWFRfR1JBRElFTlRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUl9WRVJUSUNBTCBWZXJ0aWNhbCBncmFkaWVudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUl9IT1JJWk9OVEFMIExpbmVhciBncmFkaWVudFxuICovXG52YXIgVEVYVF9HUkFESUVOVDtcbihmdW5jdGlvbiAoVEVYVF9HUkFESUVOVCkge1xuICAgIFRFWFRfR1JBRElFTlRbVEVYVF9HUkFESUVOVFtcIkxJTkVBUl9WRVJUSUNBTFwiXSA9IDBdID0gXCJMSU5FQVJfVkVSVElDQUxcIjtcbiAgICBURVhUX0dSQURJRU5UW1RFWFRfR1JBRElFTlRbXCJMSU5FQVJfSE9SSVpPTlRBTFwiXSA9IDFdID0gXCJMSU5FQVJfSE9SSVpPTlRBTFwiO1xufSkoVEVYVF9HUkFESUVOVCB8fCAoVEVYVF9HUkFESUVOVCA9IHt9KSk7XG5cbi8vIGRpc2FibGluZyBlc2xpbnQgZm9yIG5vdywgZ29pbmcgdG8gcmV3cml0ZSB0aGlzIGluIHY1XG52YXIgZGVmYXVsdFN0eWxlID0ge1xuICAgIGFsaWduOiAnbGVmdCcsXG4gICAgYnJlYWtXb3JkczogZmFsc2UsXG4gICAgZHJvcFNoYWRvdzogZmFsc2UsXG4gICAgZHJvcFNoYWRvd0FscGhhOiAxLFxuICAgIGRyb3BTaGFkb3dBbmdsZTogTWF0aC5QSSAvIDYsXG4gICAgZHJvcFNoYWRvd0JsdXI6IDAsXG4gICAgZHJvcFNoYWRvd0NvbG9yOiAnYmxhY2snLFxuICAgIGRyb3BTaGFkb3dEaXN0YW5jZTogNSxcbiAgICBmaWxsOiAnYmxhY2snLFxuICAgIGZpbGxHcmFkaWVudFR5cGU6IFRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMLFxuICAgIGZpbGxHcmFkaWVudFN0b3BzOiBbXSxcbiAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxuICAgIGZvbnRTaXplOiAyNixcbiAgICBmb250U3R5bGU6ICdub3JtYWwnLFxuICAgIGZvbnRWYXJpYW50OiAnbm9ybWFsJyxcbiAgICBmb250V2VpZ2h0OiAnbm9ybWFsJyxcbiAgICBsZXR0ZXJTcGFjaW5nOiAwLFxuICAgIGxpbmVIZWlnaHQ6IDAsXG4gICAgbGluZUpvaW46ICdtaXRlcicsXG4gICAgbWl0ZXJMaW1pdDogMTAsXG4gICAgcGFkZGluZzogMCxcbiAgICBzdHJva2U6ICdibGFjaycsXG4gICAgc3Ryb2tlVGhpY2tuZXNzOiAwLFxuICAgIHRleHRCYXNlbGluZTogJ2FscGhhYmV0aWMnLFxuICAgIHRyaW06IGZhbHNlLFxuICAgIHdoaXRlU3BhY2U6ICdwcmUnLFxuICAgIHdvcmRXcmFwOiBmYWxzZSxcbiAgICB3b3JkV3JhcFdpZHRoOiAxMDAsXG4gICAgbGVhZGluZzogMCxcbn07XG52YXIgZ2VuZXJpY0ZvbnRGYW1pbGllcyA9IFtcbiAgICAnc2VyaWYnLFxuICAgICdzYW5zLXNlcmlmJyxcbiAgICAnbW9ub3NwYWNlJyxcbiAgICAnY3Vyc2l2ZScsXG4gICAgJ2ZhbnRhc3knLFxuICAgICdzeXN0ZW0tdWknIF07XG4vKipcbiAqIEEgVGV4dFN0eWxlIE9iamVjdCBjb250YWlucyBpbmZvcm1hdGlvbiB0byBkZWNvcmF0ZSBhIFRleHQgb2JqZWN0cy5cbiAqXG4gKiBBbiBpbnN0YW5jZSBjYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgVGV4dCBvYmplY3RzOyB0aGVuIGNoYW5naW5nIHRoZSBzdHlsZSB3aWxsIHVwZGF0ZSBhbGwgdGV4dCBvYmplY3RzIHVzaW5nIGl0LlxuICpcbiAqIEEgdG9vbCBjYW4gYmUgdXNlZCB0byBnZW5lcmF0ZSBhIHRleHQgc3R5bGUgW2hlcmVdKGh0dHBzOi8vcGl4aWpzLmlvL3BpeGktdGV4dC1zdHlsZSkuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dFN0eWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbc3R5bGVdIC0gVGhlIHN0eWxlIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmFsaWduPSdsZWZ0J10gLSBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0ICgnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCcpLFxuICAgICAqICBkb2VzIG5vdCBhZmZlY3Qgc2luZ2xlIGxpbmUgdGV4dFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLmJyZWFrV29yZHM9ZmFsc2VdIC0gSW5kaWNhdGVzIGlmIGxpbmVzIGNhbiBiZSB3cmFwcGVkIHdpdGhpbiB3b3JkcywgaXRcbiAgICAgKiAgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHlsZS5kcm9wU2hhZG93PWZhbHNlXSAtIFNldCBhIGRyb3Agc2hhZG93IGZvciB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0FscGhhPTFdIC0gU2V0IGFscGhhIGZvciB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dBbmdsZT1NYXRoLlBJLzZdIC0gU2V0IGEgYW5nbGUgb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93Qmx1cj0wXSAtIFNldCBhIHNoYWRvdyBibHVyIHJhZGl1c1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dDb2xvcj0nYmxhY2snXSAtIEEgZmlsbCBzdHlsZSB0byBiZSB1c2VkIG9uIHRoZSBkcm9wc2hhZG93IGUuZyAncmVkJywgJyMwMEZGMDAnXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U9NV0gLSBTZXQgYSBkaXN0YW5jZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXXxudW1iZXJ8bnVtYmVyW118Q2FudmFzR3JhZGllbnR8Q2FudmFzUGF0dGVybn0gW3N0eWxlLmZpbGw9J2JsYWNrJ10gLSBBIGNhbnZhc1xuICAgICAqICBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgZS5nICdyZWQnLCAnIzAwRkYwMCcuIENhbiBiZSBhbiBhcnJheSB0byBjcmVhdGUgYSBncmFkaWVudFxuICAgICAqICBlZyBbJyMwMDAwMDAnLCcjRkZGRkZGJ11cbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9maWxsU3R5bGV8TUROfVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZmlsbEdyYWRpZW50VHlwZT1QSVhJLlRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMXSAtIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3Vyc1xuICAgICAqICB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBjYW4gY2hhbmdlIHRoZSB0eXBlL2RpcmVjdGlvbiBvZiB0aGUgZ3JhZGllbnQuIFNlZSB7QGxpbmsgUElYSS5URVhUX0dSQURJRU5UfVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IFtzdHlsZS5maWxsR3JhZGllbnRTdG9wc10gLSBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnMgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgYXJyYXkgY2FuIHNldFxuICAgICAqIHRoZSBzdG9wIHBvaW50cyAobnVtYmVycyBiZXR3ZWVuIDAgYW5kIDEpIGZvciB0aGUgY29sb3IsIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIG9mIGV2ZW5seSBzcGFjaW5nIHRoZW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IFtzdHlsZS5mb250RmFtaWx5PSdBcmlhbCddIC0gVGhlIGZvbnQgZmFtaWx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBbc3R5bGUuZm9udFNpemU9MjZdIC0gVGhlIGZvbnQgc2l6ZSAoYXMgYSBudW1iZXIgaXQgY29udmVydHMgdG8gcHgsIGJ1dCBhcyBhIHN0cmluZyxcbiAgICAgKiAgZXF1aXZhbGVudHMgYXJlICcyNnB4JywnMjBwdCcsJzE2MCUnIG9yICcxLjZlbScpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250U3R5bGU9J25vcm1hbCddIC0gVGhlIGZvbnQgc3R5bGUgKCdub3JtYWwnLCAnaXRhbGljJyBvciAnb2JsaXF1ZScpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250VmFyaWFudD0nbm9ybWFsJ10gLSBUaGUgZm9udCB2YXJpYW50ICgnbm9ybWFsJyBvciAnc21hbGwtY2FwcycpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250V2VpZ2h0PSdub3JtYWwnXSAtIFRoZSBmb250IHdlaWdodCAoJ25vcm1hbCcsICdib2xkJywgJ2JvbGRlcicsICdsaWdodGVyJyBhbmQgJzEwMCcsXG4gICAgICogICcyMDAnLCAnMzAwJywgJzQwMCcsICc1MDAnLCAnNjAwJywgJzcwMCcsICc4MDAnIG9yICc5MDAnKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUubGVhZGluZz0wXSAtIFRoZSBzcGFjZSBiZXR3ZWVuIGxpbmVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5sZXR0ZXJTcGFjaW5nPTBdIC0gVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gbGV0dGVycywgZGVmYXVsdCBpcyAwXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5saW5lSGVpZ2h0XSAtIFRoZSBsaW5lIGhlaWdodCwgYSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBzcGFjZSB0aGF0IGEgbGV0dGVyIHVzZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmxpbmVKb2luPSdtaXRlciddIC0gVGhlIGxpbmVKb2luIHByb3BlcnR5IHNldHMgdGhlIHR5cGUgb2YgY29ybmVyIGNyZWF0ZWQsIGl0IGNhbiByZXNvbHZlXG4gICAgICogICAgICBzcGlrZWQgdGV4dCBpc3N1ZXMuIFBvc3NpYmxlIHZhbHVlcyBcIm1pdGVyXCIgKGNyZWF0ZXMgYSBzaGFycCBjb3JuZXIpLCBcInJvdW5kXCIgKGNyZWF0ZXMgYSByb3VuZCBjb3JuZXIpIG9yIFwiYmV2ZWxcIlxuICAgICAqICAgICAgKGNyZWF0ZXMgYSBzcXVhcmVkIGNvcm5lcikuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5taXRlckxpbWl0PTEwXSAtIFRoZSBtaXRlciBsaW1pdCB0byB1c2Ugd2hlbiB1c2luZyB0aGUgJ21pdGVyJyBsaW5lSm9pbiBtb2RlLiBUaGlzIGNhbiByZWR1Y2VcbiAgICAgKiAgICAgIG9yIGluY3JlYXNlIHRoZSBzcGlraW5lc3Mgb2YgcmVuZGVyZWQgdGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnBhZGRpbmc9MF0gLSBPY2Nhc2lvbmFsbHkgc29tZSBmb250cyBhcmUgY3JvcHBlZC4gQWRkaW5nIHNvbWUgcGFkZGluZyB3aWxsIHByZXZlbnQgdGhpcyBmcm9tXG4gICAgICogICAgIGhhcHBlbmluZyBieSBhZGRpbmcgcGFkZGluZyB0byBhbGwgc2lkZXMgb2YgdGhlIHRleHQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbc3R5bGUuc3Ryb2tlPSdibGFjayddIC0gQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IHN0cm9rZVxuICAgICAqICBlLmcgJ2JsdWUnLCAnI0ZDRkYwMCdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnN0cm9rZVRoaWNrbmVzcz0wXSAtIEEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdGhpY2tuZXNzIG9mIHRoZSBzdHJva2UuXG4gICAgICogIERlZmF1bHQgaXMgMCAobm8gc3Ryb2tlKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLnRyaW09ZmFsc2VdIC0gVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS50ZXh0QmFzZWxpbmU9J2FscGhhYmV0aWMnXSAtIFRoZSBiYXNlbGluZSBvZiB0aGUgdGV4dCB0aGF0IGlzIHJlbmRlcmVkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUud2hpdGVTcGFjZT0ncHJlJ10gLSBEZXRlcm1pbmVzIHdoZXRoZXIgbmV3bGluZXMgJiBzcGFjZXMgYXJlIGNvbGxhcHNlZCBvciBwcmVzZXJ2ZWQgXCJub3JtYWxcIlxuICAgICAqICAgICAgKGNvbGxhcHNlLCBjb2xsYXBzZSksIFwicHJlXCIgKHByZXNlcnZlLCBwcmVzZXJ2ZSkgfCBcInByZS1saW5lXCIgKHByZXNlcnZlLCBjb2xsYXBzZSkuIEl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUud29yZFdyYXA9ZmFsc2VdIC0gSW5kaWNhdGVzIGlmIHdvcmQgd3JhcCBzaG91bGQgYmUgdXNlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUud29yZFdyYXBXaWR0aD0xMDBdIC0gVGhlIHdpZHRoIGF0IHdoaWNoIHRleHQgd2lsbCB3cmFwLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHRTdHlsZShzdHlsZSkge1xuICAgICAgICB0aGlzLnN0eWxlSUQgPSAwO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIGRlZXBDb3B5UHJvcGVydGllcyh0aGlzLCBzdHlsZSwgc3R5bGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFRleHRTdHlsZSBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICogTm90ZSB0aGF0IHRoZSBvbmx5IHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBvYmplY3QgYXJlIGNsb25lZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dFN0eWxlfSBOZXcgY2xvbmVkIFRleHRTdHlsZSBvYmplY3RcbiAgICAgKi9cbiAgICBUZXh0U3R5bGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2xvbmVkUHJvcGVydGllcyA9IHt9O1xuICAgICAgICBkZWVwQ29weVByb3BlcnRpZXMoY2xvbmVkUHJvcGVydGllcywgdGhpcywgZGVmYXVsdFN0eWxlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0U3R5bGUoY2xvbmVkUHJvcGVydGllcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldHMgYWxsIHByb3BlcnRpZXMgdG8gdGhlIGRlZmF1bHRzIHNwZWNpZmllZCBpbiBUZXh0U3R5bGUucHJvdG90eXBlLl9kZWZhdWx0XG4gICAgICovXG4gICAgVGV4dFN0eWxlLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZGVlcENvcHlQcm9wZXJ0aWVzKHRoaXMsIGRlZmF1bHRTdHlsZSwgZGVmYXVsdFN0eWxlKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImFsaWduXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsaWdubWVudCBmb3IgbXVsdGlsaW5lIHRleHQgKCdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0JyksIGRvZXMgbm90IGFmZmVjdCBzaW5nbGUgbGluZSB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FsaWduO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChhbGlnbikge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2FsaWduICE9PSBhbGlnbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FsaWduID0gYWxpZ247XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJicmVha1dvcmRzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiBsaW5lcyBjYW4gYmUgd3JhcHBlZCB3aXRoaW4gd29yZHMsIGl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9icmVha1dvcmRzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChicmVha1dvcmRzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYnJlYWtXb3JkcyAhPT0gYnJlYWtXb3Jkcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JyZWFrV29yZHMgPSBicmVha1dvcmRzO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZHJvcFNoYWRvd1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYSBkcm9wIHNoYWRvdyBmb3IgdGhlIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3c7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93ICE9PSBkcm9wU2hhZG93KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvdyA9IGRyb3BTaGFkb3c7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJkcm9wU2hhZG93QWxwaGFcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGFscGhhIGZvciB0aGUgZHJvcCBzaGFkb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FscGhhO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkcm9wU2hhZG93QWxwaGEpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93QWxwaGEgIT09IGRyb3BTaGFkb3dBbHBoYSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dBbHBoYSA9IGRyb3BTaGFkb3dBbHBoYTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImRyb3BTaGFkb3dBbmdsZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYSBhbmdsZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FuZ2xlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkcm9wU2hhZG93QW5nbGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93QW5nbGUgIT09IGRyb3BTaGFkb3dBbmdsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dBbmdsZSA9IGRyb3BTaGFkb3dBbmdsZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImRyb3BTaGFkb3dCbHVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhIHNoYWRvdyBibHVyIHJhZGl1c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93Qmx1cjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZHJvcFNoYWRvd0JsdXIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93Qmx1ciAhPT0gZHJvcFNoYWRvd0JsdXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93Qmx1ciA9IGRyb3BTaGFkb3dCbHVyO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZHJvcFNoYWRvd0NvbG9yXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmlsbCBzdHlsZSB0byBiZSB1c2VkIG9uIHRoZSBkcm9wc2hhZG93IGUuZyAncmVkJywgJyMwMEZGMDAnXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ3xudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93Q29sb3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGRyb3BTaGFkb3dDb2xvcikge1xuICAgICAgICAgICAgdmFyIG91dHB1dENvbG9yID0gZ2V0Q29sb3IoZHJvcFNoYWRvd0NvbG9yKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93Q29sb3IgIT09IG91dHB1dENvbG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0NvbG9yID0gb3V0cHV0Q29sb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJkcm9wU2hhZG93RGlzdGFuY2VcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGEgZGlzdGFuY2Ugb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZHJvcFNoYWRvd0Rpc3RhbmNlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlICE9PSBkcm9wU2hhZG93RGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2UgPSBkcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmaWxsXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY2FudmFzIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBlLmcgJ3JlZCcsICcjMDBGRjAwJy5cbiAgICAgICAgICogQ2FuIGJlIGFuIGFycmF5IHRvIGNyZWF0ZSBhIGdyYWRpZW50IGVnIFsnIzAwMDAwMCcsJyNGRkZGRkYnXVxuICAgICAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9maWxsU3R5bGV8TUROfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8c3RyaW5nW118bnVtYmVyfG51bWJlcltdfENhbnZhc0dyYWRpZW50fENhbnZhc1BhdHRlcm59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9maWxsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmaWxsKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBDYW4ndCBoYXZlIGRpZmZlcmVudCB0eXBlcyBmb3IgZ2V0dGVyIGFuZCBzZXR0ZXIuIFRoZSBnZXR0ZXIgc2hvdWxkbid0IGhhdmUgdGhlIG51bWJlciB0eXBlIGFzXG4gICAgICAgICAgICAvLyAgICAgICB0aGUgc2V0dGVyIGNvbnZlcnRzIHRvIHN0cmluZy4gU2VlIHRoaXMgdGhyZWFkIGZvciBtb3JlIGRldGFpbHM6XG4gICAgICAgICAgICAvLyAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzI1MjFcbiAgICAgICAgICAgIC8vIFRPRE86IE5vdCBzdXJlIGlmIGdldENvbG9yIHdvcmtzIHByb3Blcmx5IHdpdGggQ2FudmFzR3JhZGllbnQgYW5kL29yIENhbnZhc1BhdHRlcm4sIGNhbid0IHBhc3MgaW5cbiAgICAgICAgICAgIC8vICAgICAgIHdpdGhvdXQgY2FzdGluZyBoZXJlLlxuICAgICAgICAgICAgdmFyIG91dHB1dENvbG9yID0gZ2V0Q29sb3IoZmlsbCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fZmlsbCAhPT0gb3V0cHV0Q29sb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maWxsID0gb3V0cHV0Q29sb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmaWxsR3JhZGllbnRUeXBlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3VycyB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBjYW4gY2hhbmdlIHRoZSB0eXBlL2RpcmVjdGlvbiBvZiB0aGUgZ3JhZGllbnQuXG4gICAgICAgICAqIFNlZSB7QGxpbmsgUElYSS5URVhUX0dSQURJRU5UfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9maWxsR3JhZGllbnRUeXBlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmaWxsR3JhZGllbnRUeXBlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZmlsbEdyYWRpZW50VHlwZSAhPT0gZmlsbEdyYWRpZW50VHlwZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGxHcmFkaWVudFR5cGUgPSBmaWxsR3JhZGllbnRUeXBlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZmlsbEdyYWRpZW50U3RvcHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGFycmF5IGNhbiBzZXQgdGhlIHN0b3AgcG9pbnRzXG4gICAgICAgICAqIChudW1iZXJzIGJldHdlZW4gMCBhbmQgMSkgZm9yIHRoZSBjb2xvciwgb3ZlcnJpZGluZyB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgb2YgZXZlbmx5IHNwYWNpbmcgdGhlbS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9maWxsR3JhZGllbnRTdG9wcztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZmlsbEdyYWRpZW50U3RvcHMpIHtcbiAgICAgICAgICAgIGlmICghYXJlQXJyYXlzRXF1YWwodGhpcy5fZmlsbEdyYWRpZW50U3RvcHMsIGZpbGxHcmFkaWVudFN0b3BzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzID0gZmlsbEdyYWRpZW50U3RvcHM7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmb250RmFtaWx5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IGZhbWlseVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8c3RyaW5nW119XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250RmFtaWx5O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmb250RmFtaWx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5mb250RmFtaWx5ICE9PSBmb250RmFtaWx5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udEZhbWlseSA9IGZvbnRGYW1pbHk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmb250U2l6ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCBzaXplXG4gICAgICAgICAqIChhcyBhIG51bWJlciBpdCBjb252ZXJ0cyB0byBweCwgYnV0IGFzIGEgc3RyaW5nLCBlcXVpdmFsZW50cyBhcmUgJzI2cHgnLCcyMHB0JywnMTYwJScgb3IgJzEuNmVtJylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfHN0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRTaXplO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmb250U2l6ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnRTaXplICE9PSBmb250U2l6ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRTaXplID0gZm9udFNpemU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmb250U3R5bGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgc3R5bGVcbiAgICAgICAgICogKCdub3JtYWwnLCAnaXRhbGljJyBvciAnb2JsaXF1ZScpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRTdHlsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZm9udFN0eWxlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFN0eWxlICE9PSBmb250U3R5bGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250U3R5bGUgPSBmb250U3R5bGU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmb250VmFyaWFudFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCB2YXJpYW50XG4gICAgICAgICAqICgnbm9ybWFsJyBvciAnc21hbGwtY2FwcycpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRWYXJpYW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmb250VmFyaWFudCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnRWYXJpYW50ICE9PSBmb250VmFyaWFudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRWYXJpYW50ID0gZm9udFZhcmlhbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmb250V2VpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHdlaWdodFxuICAgICAgICAgKiAoJ25vcm1hbCcsICdib2xkJywgJ2JvbGRlcicsICdsaWdodGVyJyBhbmQgJzEwMCcsICcyMDAnLCAnMzAwJywgJzQwMCcsICc1MDAnLCAnNjAwJywgJzcwMCcsIDgwMCcgb3IgJzkwMCcpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRXZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZvbnRXZWlnaHQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250V2VpZ2h0ICE9PSBmb250V2VpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFdlaWdodCA9IGZvbnRXZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJsZXR0ZXJTcGFjaW5nXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbW91bnQgb2Ygc3BhY2luZyBiZXR3ZWVuIGxldHRlcnMsIGRlZmF1bHQgaXMgMFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChsZXR0ZXJTcGFjaW5nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gbGV0dGVyU3BhY2luZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xldHRlclNwYWNpbmcgPSBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwibGluZUhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGluZSBoZWlnaHQsIGEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgc3BhY2UgdGhhdCBhIGxldHRlciB1c2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVIZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGxpbmVIZWlnaHQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9saW5lSGVpZ2h0ICE9PSBsaW5lSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJsZWFkaW5nXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzcGFjZSBiZXR3ZWVuIGxpbmVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xlYWRpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGxlYWRpbmcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9sZWFkaW5nICE9PSBsZWFkaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGVhZGluZyA9IGxlYWRpbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJsaW5lSm9pblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGluZUpvaW4gcHJvcGVydHkgc2V0cyB0aGUgdHlwZSBvZiBjb3JuZXIgY3JlYXRlZCwgaXQgY2FuIHJlc29sdmUgc3Bpa2VkIHRleHQgaXNzdWVzLlxuICAgICAgICAgKiBEZWZhdWx0IGlzICdtaXRlcicgKGNyZWF0ZXMgYSBzaGFycCBjb3JuZXIpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5lSm9pbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobGluZUpvaW4pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9saW5lSm9pbiAhPT0gbGluZUpvaW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9saW5lSm9pbiA9IGxpbmVKb2luO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwibWl0ZXJMaW1pdFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWl0ZXIgbGltaXQgdG8gdXNlIHdoZW4gdXNpbmcgdGhlICdtaXRlcicgbGluZUpvaW4gbW9kZVxuICAgICAgICAgKiBUaGlzIGNhbiByZWR1Y2Ugb3IgaW5jcmVhc2UgdGhlIHNwaWtpbmVzcyBvZiByZW5kZXJlZCB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9taXRlckxpbWl0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChtaXRlckxpbWl0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWl0ZXJMaW1pdCAhPT0gbWl0ZXJMaW1pdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21pdGVyTGltaXQgPSBtaXRlckxpbWl0O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwicGFkZGluZ1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPY2Nhc2lvbmFsbHkgc29tZSBmb250cyBhcmUgY3JvcHBlZC4gQWRkaW5nIHNvbWUgcGFkZGluZyB3aWxsIHByZXZlbnQgdGhpcyBmcm9tIGhhcHBlbmluZ1xuICAgICAgICAgKiBieSBhZGRpbmcgcGFkZGluZyB0byBhbGwgc2lkZXMgb2YgdGhlIHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhZGRpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHBhZGRpbmcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYWRkaW5nICE9PSBwYWRkaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFkZGluZyA9IHBhZGRpbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJzdHJva2VcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IHN0cm9rZVxuICAgICAgICAgKiBlLmcgJ2JsdWUnLCAnI0ZDRkYwMCdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfG51bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0cm9rZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3Ryb2tlKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBDYW4ndCBoYXZlIGRpZmZlcmVudCB0eXBlcyBmb3IgZ2V0dGVyIGFuZCBzZXR0ZXIuIFRoZSBnZXR0ZXIgc2hvdWxkbid0IGhhdmUgdGhlIG51bWJlciB0eXBlIGFzXG4gICAgICAgICAgICAvLyAgICAgICB0aGUgc2V0dGVyIGNvbnZlcnRzIHRvIHN0cmluZy4gU2VlIHRoaXMgdGhyZWFkIGZvciBtb3JlIGRldGFpbHM6XG4gICAgICAgICAgICAvLyAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzI1MjFcbiAgICAgICAgICAgIHZhciBvdXRwdXRDb2xvciA9IGdldENvbG9yKHN0cm9rZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fc3Ryb2tlICE9PSBvdXRwdXRDb2xvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0cm9rZSA9IG91dHB1dENvbG9yO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwic3Ryb2tlVGhpY2tuZXNzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdGhpY2tuZXNzIG9mIHRoZSBzdHJva2UuXG4gICAgICAgICAqIERlZmF1bHQgaXMgMCAobm8gc3Ryb2tlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdHJva2VUaGlja25lc3M7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHN0cm9rZVRoaWNrbmVzcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0cm9rZVRoaWNrbmVzcyAhPT0gc3Ryb2tlVGhpY2tuZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Ryb2tlVGhpY2tuZXNzID0gc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwidGV4dEJhc2VsaW5lXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlbGluZSBvZiB0aGUgdGV4dCB0aGF0IGlzIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0QmFzZWxpbmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHRleHRCYXNlbGluZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHRCYXNlbGluZSAhPT0gdGV4dEJhc2VsaW5lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dEJhc2VsaW5lID0gdGV4dEJhc2VsaW5lO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwidHJpbVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmltIHRyYW5zcGFyZW50IGJvcmRlcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyaW07XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHRyaW0pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90cmltICE9PSB0cmltKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpbSA9IHRyaW07XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJ3aGl0ZVNwYWNlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvdyBuZXdsaW5lcyBhbmQgc3BhY2VzIHNob3VsZCBiZSBoYW5kbGVkLlxuICAgICAgICAgKiBEZWZhdWx0IGlzICdwcmUnIChwcmVzZXJ2ZSwgcHJlc2VydmUpLlxuICAgICAgICAgKlxuICAgICAgICAgKiAgdmFsdWUgICAgICAgfCBOZXcgbGluZXMgICAgIHwgICBTcGFjZXNcbiAgICAgICAgICogIC0tLSAgICAgICAgIHwgLS0tICAgICAgICAgICB8ICAgLS0tXG4gICAgICAgICAqICdub3JtYWwnICAgICB8IENvbGxhcHNlICAgICAgfCAgIENvbGxhcHNlXG4gICAgICAgICAqICdwcmUnICAgICAgICB8IFByZXNlcnZlICAgICAgfCAgIFByZXNlcnZlXG4gICAgICAgICAqICdwcmUtbGluZScgICB8IFByZXNlcnZlICAgICAgfCAgIENvbGxhcHNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3doaXRlU3BhY2U7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHdoaXRlU3BhY2UpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl93aGl0ZVNwYWNlICE9PSB3aGl0ZVNwYWNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2hpdGVTcGFjZSA9IHdoaXRlU3BhY2U7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJ3b3JkV3JhcFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgaWYgd29yZCB3cmFwIHNob3VsZCBiZSB1c2VkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93b3JkV3JhcDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAod29yZFdyYXApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl93b3JkV3JhcCAhPT0gd29yZFdyYXApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JkV3JhcCA9IHdvcmRXcmFwO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwid29yZFdyYXBXaWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggYXQgd2hpY2ggdGV4dCB3aWxsIHdyYXAsIGl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmRXcmFwV2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl93b3JkV3JhcFdpZHRoICE9PSB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd29yZFdyYXBXaWR0aCA9IHdvcmRXcmFwV2lkdGg7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBmb250IHN0eWxlIHN0cmluZyB0byB1c2UgZm9yIGBUZXh0TWV0cmljcy5tZWFzdXJlRm9udCgpYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gRm9udCBzdHlsZSBzdHJpbmcsIGZvciBwYXNzaW5nIHRvIGBUZXh0TWV0cmljcy5tZWFzdXJlRm9udCgpYFxuICAgICAqL1xuICAgIFRleHRTdHlsZS5wcm90b3R5cGUudG9Gb250U3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBidWlsZCBjYW52YXMgYXBpIGZvbnQgc2V0dGluZyBmcm9tIGluZGl2aWR1YWwgY29tcG9uZW50cy4gQ29udmVydCBhIG51bWVyaWMgdGhpcy5mb250U2l6ZSB0byBweFxuICAgICAgICB2YXIgZm9udFNpemVTdHJpbmcgPSAodHlwZW9mIHRoaXMuZm9udFNpemUgPT09ICdudW1iZXInKSA/IHRoaXMuZm9udFNpemUgKyBcInB4XCIgOiB0aGlzLmZvbnRTaXplO1xuICAgICAgICAvLyBDbGVhbi11cCBmb250RmFtaWx5IHByb3BlcnR5IGJ5IHF1b3RpbmcgZWFjaCBmb250IG5hbWVcbiAgICAgICAgLy8gdGhpcyB3aWxsIHN1cHBvcnQgZm9udCBuYW1lcyB3aXRoIHNwYWNlc1xuICAgICAgICB2YXIgZm9udEZhbWlsaWVzID0gdGhpcy5mb250RmFtaWx5O1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5mb250RmFtaWx5KSkge1xuICAgICAgICAgICAgZm9udEZhbWlsaWVzID0gdGhpcy5mb250RmFtaWx5LnNwbGl0KCcsJyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IGZvbnRGYW1pbGllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgLy8gVHJpbSBhbnkgZXh0cmEgd2hpdGUtc3BhY2VcbiAgICAgICAgICAgIHZhciBmb250RmFtaWx5ID0gZm9udEZhbWlsaWVzW2ldLnRyaW0oKTtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGZvbnQgYWxyZWFkeSBjb250YWlucyBzdHJpbmdzXG4gICAgICAgICAgICBpZiAoISgvKFtcXFwiXFwnXSlbXlxcJ1xcXCJdK1xcMS8pLnRlc3QoZm9udEZhbWlseSkgJiYgZ2VuZXJpY0ZvbnRGYW1pbGllcy5pbmRleE9mKGZvbnRGYW1pbHkpIDwgMCkge1xuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHkgPSBcIlxcXCJcIiArIGZvbnRGYW1pbHkgKyBcIlxcXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvbnRGYW1pbGllc1tpXSA9IGZvbnRGYW1pbHk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZm9udFN0eWxlICsgXCIgXCIgKyB0aGlzLmZvbnRWYXJpYW50ICsgXCIgXCIgKyB0aGlzLmZvbnRXZWlnaHQgKyBcIiBcIiArIGZvbnRTaXplU3RyaW5nICsgXCIgXCIgKyBmb250RmFtaWxpZXMuam9pbignLCcpO1xuICAgIH07XG4gICAgcmV0dXJuIFRleHRTdHlsZTtcbn0oKSk7XG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29udmVydCBoZXhhZGVjaW1hbCBjb2xvcnMgdG8gc3RyaW5ncywgYW5kIHNpbXBseSByZXR1cm4gdGhlIGNvbG9yIGlmIGl0J3MgYSBzdHJpbmcuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBjb2xvclxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY29sb3IgYXMgYSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGdldFNpbmdsZUNvbG9yKGNvbG9yKSB7XG4gICAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIGhleDJzdHJpbmcoY29sb3IpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgY29sb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmIChjb2xvci5pbmRleE9mKCcweCcpID09PSAwKSB7XG4gICAgICAgICAgICBjb2xvciA9IGNvbG9yLnJlcGxhY2UoJzB4JywgJyMnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29sb3I7XG59XG5mdW5jdGlvbiBnZXRDb2xvcihjb2xvcikge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShjb2xvcikpIHtcbiAgICAgICAgcmV0dXJuIGdldFNpbmdsZUNvbG9yKGNvbG9yKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sb3IubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbG9yW2ldID0gZ2V0U2luZ2xlQ29sb3IoY29sb3JbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG59XG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29udmVydCBoZXhhZGVjaW1hbCBjb2xvcnMgdG8gc3RyaW5ncywgYW5kIHNpbXBseSByZXR1cm4gdGhlIGNvbG9yIGlmIGl0J3MgYSBzdHJpbmcuXG4gKiBUaGlzIHZlcnNpb24gY2FuIGFsc28gY29udmVydCBhcnJheSBvZiBjb2xvcnNcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheTEgLSBGaXJzdCBhcnJheSB0byBjb21wYXJlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheTIgLSBTZWNvbmQgYXJyYXkgdG8gY29tcGFyZVxuICogQHJldHVybiB7Ym9vbGVhbn0gRG8gdGhlIGFycmF5cyBjb250YWluIHRoZSBzYW1lIHZhbHVlcyBpbiB0aGUgc2FtZSBvcmRlclxuICovXG5mdW5jdGlvbiBhcmVBcnJheXNFcXVhbChhcnJheTEsIGFycmF5Mikge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheTEpIHx8ICFBcnJheS5pc0FycmF5KGFycmF5MikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYXJyYXkxLmxlbmd0aCAhPT0gYXJyYXkyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkxLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChhcnJheTFbaV0gIT09IGFycmF5MltpXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGVuc3VyZSB0aGF0IG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBjb3BpZWQgYnkgdmFsdWUsIGFuZCBub3QgYnkgcmVmZXJlbmNlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCAtIFRhcmdldCBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGludG9cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgLSBTb3VyY2Ugb2JqZWN0IGZvciB0aGUgcHJvcGVydGllcyB0byBjb3B5XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlPYmogLSBPYmplY3QgY29udGFpbmluZyBwcm9wZXJ0aWVzIG5hbWVzIHdlIHdhbnQgdG8gbG9vcCBvdmVyXG4gKi9cbmZ1bmN0aW9uIGRlZXBDb3B5UHJvcGVydGllcyh0YXJnZXQsIHNvdXJjZSwgcHJvcGVydHlPYmopIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIHByb3BlcnR5T2JqKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZVtwcm9wXSkpIHtcbiAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXS5zbGljZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBUZXh0TWV0cmljcyBvYmplY3QgcmVwcmVzZW50cyB0aGUgbWVhc3VyZW1lbnQgb2YgYSBibG9jayBvZiB0ZXh0IHdpdGggYSBzcGVjaWZpZWQgc3R5bGUuXG4gKlxuICogYGBganNcbiAqIGxldCBzdHlsZSA9IG5ldyBQSVhJLlRleHRTdHlsZSh7Zm9udEZhbWlseSA6ICdBcmlhbCcsIGZvbnRTaXplOiAyNCwgZmlsbCA6IDB4ZmYxMDEwLCBhbGlnbiA6ICdjZW50ZXInfSlcbiAqIGxldCB0ZXh0TWV0cmljcyA9IFBJWEkuVGV4dE1ldHJpY3MubWVhc3VyZVRleHQoJ1lvdXIgdGV4dCcsIHN0eWxlKVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dE1ldHJpY3MgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0aGUgdGV4dCB0aGF0IHdhcyBtZWFzdXJlZFxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHN0eWxlIHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIG1lYXN1cmVkIHdpZHRoIG9mIHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBtZWFzdXJlZCBoZWlnaHQgb2YgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBsaW5lcyAtIGFuIGFycmF5IG9mIHRoZSBsaW5lcyBvZiB0ZXh0IGJyb2tlbiBieSBuZXcgbGluZXMgYW5kIHdyYXBwaW5nIGlmIHNwZWNpZmllZCBpbiBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGxpbmVXaWR0aHMgLSBhbiBhcnJheSBvZiB0aGUgbGluZSB3aWR0aHMgZm9yIGVhY2ggbGluZSBtYXRjaGVkIHRvIGBsaW5lc2BcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGluZUhlaWdodCAtIHRoZSBtZWFzdXJlZCBsaW5lIGhlaWdodCBmb3IgdGhpcyBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhMaW5lV2lkdGggLSB0aGUgbWF4aW11bSBsaW5lIHdpZHRoIGZvciBhbGwgbWVhc3VyZWQgbGluZXNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZm9udFByb3BlcnRpZXMgLSB0aGUgZm9udCBwcm9wZXJ0aWVzIG9iamVjdCBmcm9tIFRleHRNZXRyaWNzLm1lYXN1cmVGb250XG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dE1ldHJpY3ModGV4dCwgc3R5bGUsIHdpZHRoLCBoZWlnaHQsIGxpbmVzLCBsaW5lV2lkdGhzLCBsaW5lSGVpZ2h0LCBtYXhMaW5lV2lkdGgsIGZvbnRQcm9wZXJ0aWVzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dCB0aGF0IHdhcyBtZWFzdXJlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0eWxlIHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dFN0eWxlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1lYXN1cmVkIHdpZHRoIG9mIHRoZSB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtZWFzdXJlZCBoZWlnaHQgb2YgdGhlIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiBsaW5lcyBvZiB0aGUgdGV4dCBicm9rZW4gYnkgbmV3IGxpbmVzIGFuZCB3cmFwcGluZyBpcyBzcGVjaWZpZWQgaW4gc3R5bGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVzID0gbGluZXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiB0aGUgbGluZSB3aWR0aHMgZm9yIGVhY2ggbGluZSBtYXRjaGVkIHRvIGBsaW5lc2BcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVXaWR0aHMgPSBsaW5lV2lkdGhzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1lYXN1cmVkIGxpbmUgaGVpZ2h0IGZvciB0aGlzIHN0eWxlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4aW11bSBsaW5lIHdpZHRoIGZvciBhbGwgbWVhc3VyZWQgbGluZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhMaW5lV2lkdGggPSBtYXhMaW5lV2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCBwcm9wZXJ0aWVzIG9iamVjdCBmcm9tIFRleHRNZXRyaWNzLm1lYXN1cmVGb250XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSUZvbnRNZXRyaWNzfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mb250UHJvcGVydGllcyA9IGZvbnRQcm9wZXJ0aWVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZWFzdXJlcyB0aGUgc3VwcGxpZWQgc3RyaW5nIG9mIHRleHQgYW5kIHJldHVybnMgYSBSZWN0YW5nbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIHRoZSB0ZXh0IHRvIG1lYXN1cmUuXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gc3R5bGUgLSB0aGUgdGV4dCBzdHlsZSB0byB1c2UgZm9yIG1lYXN1cmluZ1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3dvcmRXcmFwXSAtIG9wdGlvbmFsIG92ZXJyaWRlIGZvciBpZiB3b3JkLXdyYXAgc2hvdWxkIGJlIGFwcGxpZWQgdG8gdGhlIHRleHQuXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBvcHRpb25hbCBzcGVjaWZpY2F0aW9uIG9mIHRoZSBjYW52YXMgdG8gdXNlIGZvciBtZWFzdXJpbmcuXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0TWV0cmljc30gbWVhc3VyZWQgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgdGV4dC5cbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5tZWFzdXJlVGV4dCA9IGZ1bmN0aW9uICh0ZXh0LCBzdHlsZSwgd29yZFdyYXAsIGNhbnZhcykge1xuICAgICAgICBpZiAoY2FudmFzID09PSB2b2lkIDApIHsgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhczsgfVxuICAgICAgICB3b3JkV3JhcCA9ICh3b3JkV3JhcCA9PT0gdW5kZWZpbmVkIHx8IHdvcmRXcmFwID09PSBudWxsKSA/IHN0eWxlLndvcmRXcmFwIDogd29yZFdyYXA7XG4gICAgICAgIHZhciBmb250ID0gc3R5bGUudG9Gb250U3RyaW5nKCk7XG4gICAgICAgIHZhciBmb250UHJvcGVydGllcyA9IFRleHRNZXRyaWNzLm1lYXN1cmVGb250KGZvbnQpO1xuICAgICAgICAvLyBmYWxsYmFjayBpbiBjYXNlIFVBIGRpc2FsbG93IGNhbnZhcyBkYXRhIGV4dHJhY3Rpb25cbiAgICAgICAgLy8gKHRvRGF0YVVSSSwgZ2V0SW1hZ2VEYXRhIGZ1bmN0aW9ucylcbiAgICAgICAgaWYgKGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplID09PSAwKSB7XG4gICAgICAgICAgICBmb250UHJvcGVydGllcy5mb250U2l6ZSA9IHN0eWxlLmZvbnRTaXplO1xuICAgICAgICAgICAgZm9udFByb3BlcnRpZXMuYXNjZW50ID0gc3R5bGUuZm9udFNpemU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgY29udGV4dC5mb250ID0gZm9udDtcbiAgICAgICAgdmFyIG91dHB1dFRleHQgPSB3b3JkV3JhcCA/IFRleHRNZXRyaWNzLndvcmRXcmFwKHRleHQsIHN0eWxlLCBjYW52YXMpIDogdGV4dDtcbiAgICAgICAgdmFyIGxpbmVzID0gb3V0cHV0VGV4dC5zcGxpdCgvKD86XFxyXFxufFxccnxcXG4pLyk7XG4gICAgICAgIHZhciBsaW5lV2lkdGhzID0gbmV3IEFycmF5KGxpbmVzLmxlbmd0aCk7XG4gICAgICAgIHZhciBtYXhMaW5lV2lkdGggPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbGluZVdpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dChsaW5lc1tpXSkud2lkdGggKyAoKGxpbmVzW2ldLmxlbmd0aCAtIDEpICogc3R5bGUubGV0dGVyU3BhY2luZyk7XG4gICAgICAgICAgICBsaW5lV2lkdGhzW2ldID0gbGluZVdpZHRoO1xuICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsaW5lV2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3aWR0aCA9IG1heExpbmVXaWR0aCArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgIHdpZHRoICs9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGluZUhlaWdodCA9IHN0eWxlLmxpbmVIZWlnaHQgfHwgZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLm1heChsaW5lSGVpZ2h0LCBmb250UHJvcGVydGllcy5mb250U2l6ZSArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcylcbiAgICAgICAgICAgICsgKChsaW5lcy5sZW5ndGggLSAxKSAqIChsaW5lSGVpZ2h0ICsgc3R5bGUubGVhZGluZykpO1xuICAgICAgICBpZiAoc3R5bGUuZHJvcFNoYWRvdykge1xuICAgICAgICAgICAgaGVpZ2h0ICs9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFRleHRNZXRyaWNzKHRleHQsIHN0eWxlLCB3aWR0aCwgaGVpZ2h0LCBsaW5lcywgbGluZVdpZHRocywgbGluZUhlaWdodCArIHN0eWxlLmxlYWRpbmcsIG1heExpbmVXaWR0aCwgZm9udFByb3BlcnRpZXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBuZXdsaW5lcyB0byBhIHN0cmluZyB0byBoYXZlIGl0IG9wdGltYWxseSBmaXQgaW50byB0aGUgaG9yaXpvbnRhbFxuICAgICAqIGJvdW5kcyBzZXQgYnkgdGhlIFRleHQgb2JqZWN0J3Mgd29yZFdyYXBXaWR0aCBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBTdHJpbmcgdG8gYXBwbHkgd29yZCB3cmFwcGluZyB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHN0eWxlIHRvIHVzZSB3aGVuIHdyYXBwaW5nXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBvcHRpb25hbCBzcGVjaWZpY2F0aW9uIG9mIHRoZSBjYW52YXMgdG8gdXNlIGZvciBtZWFzdXJpbmcuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBOZXcgc3RyaW5nIHdpdGggbmV3IGxpbmVzIGFwcGxpZWQgd2hlcmUgcmVxdWlyZWRcbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy53b3JkV3JhcCA9IGZ1bmN0aW9uICh0ZXh0LCBzdHlsZSwgY2FudmFzKSB7XG4gICAgICAgIGlmIChjYW52YXMgPT09IHZvaWQgMCkgeyBjYW52YXMgPSBUZXh0TWV0cmljcy5fY2FudmFzOyB9XG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHZhciB3aWR0aCA9IDA7XG4gICAgICAgIHZhciBsaW5lID0gJyc7XG4gICAgICAgIHZhciBsaW5lcyA9ICcnO1xuICAgICAgICB2YXIgY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB2YXIgbGV0dGVyU3BhY2luZyA9IHN0eWxlLmxldHRlclNwYWNpbmcsIHdoaXRlU3BhY2UgPSBzdHlsZS53aGl0ZVNwYWNlO1xuICAgICAgICAvLyBIb3cgdG8gaGFuZGxlIHdoaXRlc3BhY2VzXG4gICAgICAgIHZhciBjb2xsYXBzZVNwYWNlcyA9IFRleHRNZXRyaWNzLmNvbGxhcHNlU3BhY2VzKHdoaXRlU3BhY2UpO1xuICAgICAgICB2YXIgY29sbGFwc2VOZXdsaW5lcyA9IFRleHRNZXRyaWNzLmNvbGxhcHNlTmV3bGluZXMod2hpdGVTcGFjZSk7XG4gICAgICAgIC8vIHdoZXRoZXIgb3Igbm90IHNwYWNlcyBtYXkgYmUgYWRkZWQgdG8gdGhlIGJlZ2lubmluZyBvZiBsaW5lc1xuICAgICAgICB2YXIgY2FuUHJlcGVuZFNwYWNlcyA9ICFjb2xsYXBzZVNwYWNlcztcbiAgICAgICAgLy8gVGhlcmUgaXMgbGV0dGVyU3BhY2luZyBhZnRlciBldmVyeSBjaGFyIGV4Y2VwdCB0aGUgbGFzdCBvbmVcbiAgICAgICAgLy8gdF9oX2lfc18nICdfaV9zXycgJ19hX25fJyAnX2VfeF9hX21fcF9sX2VfJyAnXyFcbiAgICAgICAgLy8gc28gZm9yIGNvbnZlbmllbmNlIHRoZSBhYm92ZSBuZWVkcyB0byBiZSBjb21wYXJlZCB0byB3aWR0aCArIDEgZXh0cmEgbGV0dGVyU3BhY2VcbiAgICAgICAgLy8gdF9oX2lfc18nICdfaV9zXycgJ19hX25fJyAnX2VfeF9hX21fcF9sX2VfJyAnXyFfXG4gICAgICAgIC8vIF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xuICAgICAgICAvLyBBbmQgdGhlbiB0aGUgZmluYWwgc3BhY2UgaXMgc2ltcGx5IG5vIGFwcGVuZGVkIHRvIGVhY2ggbGluZVxuICAgICAgICB2YXIgd29yZFdyYXBXaWR0aCA9IHN0eWxlLndvcmRXcmFwV2lkdGggKyBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAvLyBicmVhayB0ZXh0IGludG8gd29yZHMsIHNwYWNlcyBhbmQgbmV3bGluZSBjaGFyc1xuICAgICAgICB2YXIgdG9rZW5zID0gVGV4dE1ldHJpY3MudG9rZW5pemUodGV4dCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIHdvcmQsIHNwYWNlIG9yIG5ld2xpbmVDaGFyXG4gICAgICAgICAgICB2YXIgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgICAgICAvLyBpZiB3b3JkIGlzIGEgbmV3IGxpbmVcbiAgICAgICAgICAgIGlmIChUZXh0TWV0cmljcy5pc05ld2xpbmUodG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgLy8ga2VlcCB0aGUgbmV3IGxpbmVcbiAgICAgICAgICAgICAgICBpZiAoIWNvbGxhcHNlTmV3bGluZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9ICFjb2xsYXBzZVNwYWNlcztcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBzaG91bGQgY29sbGFwc2UgbmV3IGxpbmVzXG4gICAgICAgICAgICAgICAgLy8gd2Ugc2ltcGx5IGNvbnZlcnQgaXQgaW50byBhIHNwYWNlXG4gICAgICAgICAgICAgICAgdG9rZW4gPSAnICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiB3ZSBzaG91bGQgY29sbGFwc2UgcmVwZWF0ZWQgd2hpdGVzcGFjZXNcbiAgICAgICAgICAgIGlmIChjb2xsYXBzZVNwYWNlcykge1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGJvdGggdGhpcyBhbmQgdGhlIGxhc3QgdG9rZW5zIGZvciBzcGFjZXNcbiAgICAgICAgICAgICAgICB2YXIgY3VycklzQnJlYWtpbmdTcGFjZSA9IFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSh0b2tlbik7XG4gICAgICAgICAgICAgICAgdmFyIGxhc3RJc0JyZWFraW5nU3BhY2UgPSBUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UobGluZVtsaW5lLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycklzQnJlYWtpbmdTcGFjZSAmJiBsYXN0SXNCcmVha2luZ1NwYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGdldCB3b3JkIHdpZHRoIGZyb20gY2FjaGUgaWYgcG9zc2libGVcbiAgICAgICAgICAgIHZhciB0b2tlbldpZHRoID0gVGV4dE1ldHJpY3MuZ2V0RnJvbUNhY2hlKHRva2VuLCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dCk7XG4gICAgICAgICAgICAvLyB3b3JkIGlzIGxvbmdlciB0aGFuIGRlc2lyZWQgYm91bmRzXG4gICAgICAgICAgICBpZiAodG9rZW5XaWR0aCA+IHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGFscmVhZHkgYXQgdGhlIGJlZ2lubmluZyBvZiBhIGxpbmVcbiAgICAgICAgICAgICAgICBpZiAobGluZSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgbmV3bGluZXMgZm9yIG92ZXJmbG93IHdvcmRzXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBicmVhayBsYXJnZSB3b3JkIG92ZXIgbXVsdGlwbGUgbGluZXNcbiAgICAgICAgICAgICAgICBpZiAoVGV4dE1ldHJpY3MuY2FuQnJlYWtXb3Jkcyh0b2tlbiwgc3R5bGUuYnJlYWtXb3JkcykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYnJlYWsgd29yZCBpbnRvIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJhY3RlcnMgPSBUZXh0TWV0cmljcy53b3JkV3JhcFNwbGl0KHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9vcCB0aGUgY2hhcmFjdGVyc1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNoYXJhY3RlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGFyID0gY2hhcmFjdGVyc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBub3QgYXQgdGhlIGVuZCBvZiB0aGUgdG9rZW5cbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChjaGFyYWN0ZXJzW2ogKyBrXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0Q2hhciA9IGNoYXJhY3RlcnNbaiArIGtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXN0Q2hhciA9IGNoYXJbY2hhci5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaG91bGQgbm90IHNwbGl0IGNoYXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFUZXh0TWV0cmljcy5jYW5CcmVha0NoYXJzKGxhc3RDaGFyLCBuZXh0Q2hhciwgdG9rZW4sIGosIHN0eWxlLmJyZWFrV29yZHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbWJpbmUgY2hhcnMgJiBtb3ZlIGZvcndhcmQgb25lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXIgKz0gbmV4dENoYXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaiArPSBjaGFyLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcmFjdGVyV2lkdGggPSBUZXh0TWV0cmljcy5nZXRGcm9tQ2FjaGUoY2hhciwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJhY3RlcldpZHRoICsgd2lkdGggPiB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgKz0gY2hhcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoICs9IGNoYXJhY3RlcldpZHRoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJ1biB3b3JkIG91dCBvZiB0aGUgYm91bmRzXG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGFyZSB3b3JkcyBpbiB0aGlzIGxpbmUgYWxyZWFkeVxuICAgICAgICAgICAgICAgICAgICAvLyBmaW5pc2ggdGhhdCBsaW5lIGFuZCBzdGFydCBhIG5ldyBvbmVcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgaXNMYXN0VG9rZW4gPSBpID09PSB0b2tlbnMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2l2ZSBpdCBpdHMgb3duIGxpbmUgaWYgaXQncyBub3QgdGhlIGVuZFxuICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKHRva2VuLCAhaXNMYXN0VG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHdvcmQgY291bGQgZml0XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB3b3JkIHdvbid0IGZpdCBiZWNhdXNlIG9mIGV4aXN0aW5nIHdvcmRzXG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgIGlmICh0b2tlbldpZHRoICsgd2lkdGggPiB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0cyBhIHNwYWNlIHdlIGRvbid0IHdhbnQgaXRcbiAgICAgICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAvLyBzdGFydCBhIG5ldyBsaW5lXG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBkb24ndCBhZGQgc3BhY2VzIHRvIHRoZSBiZWdpbm5pbmcgb2YgbGluZXNcbiAgICAgICAgICAgICAgICBpZiAobGluZS5sZW5ndGggPiAwIHx8ICFUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UodG9rZW4pIHx8IGNhblByZXBlbmRTcGFjZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRoZSB3b3JkIHRvIHRoZSBjdXJyZW50IGxpbmVcbiAgICAgICAgICAgICAgICAgICAgbGluZSArPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIHdpZHRoIGNvdW50ZXJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gdG9rZW5XaWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBsaW5lcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZpZW5pZW5jZSBmdW5jdGlvbiBmb3IgbG9nZ2luZyBlYWNoIGxpbmUgYWRkZWQgZHVyaW5nIHRoZSB3b3JkV3JhcFxuICAgICAqIG1ldGhvZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgbGluZSAgICAgICAgLSBUaGUgbGluZSBvZiB0ZXh0IHRvIGFkZFxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59ICBuZXdMaW5lICAgICAtIEFkZCBuZXcgbGluZSBjaGFyYWN0ZXIgdG8gZW5kXG4gICAgICogQHJldHVybiB7c3RyaW5nfSAgQSBmb3JtYXR0ZWQgbGluZVxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmFkZExpbmUgPSBmdW5jdGlvbiAobGluZSwgbmV3TGluZSkge1xuICAgICAgICBpZiAobmV3TGluZSA9PT0gdm9pZCAwKSB7IG5ld0xpbmUgPSB0cnVlOyB9XG4gICAgICAgIGxpbmUgPSBUZXh0TWV0cmljcy50cmltUmlnaHQobGluZSk7XG4gICAgICAgIGxpbmUgPSAobmV3TGluZSkgPyBsaW5lICsgXCJcXG5cIiA6IGxpbmU7XG4gICAgICAgIHJldHVybiBsaW5lO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyAmIHNldHMgdGhlIHdpZHRocyBvZiBjYWxjdWxhdGVkIGNoYXJhY3RlcnMgaW4gYSBjYWNoZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgICAgICAgICAgICAgICAgICAga2V5ICAgICAgICAgICAgLSBUaGUga2V5XG4gICAgICogQHBhcmFtICB7bnVtYmVyfSAgICAgICAgICAgICAgICAgICAgbGV0dGVyU3BhY2luZyAgLSBUaGUgbGV0dGVyIHNwYWNpbmdcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9ICAgICAgICAgICAgICAgICAgICBjYWNoZSAgICAgICAgICAtIFRoZSBjYWNoZVxuICAgICAqIEBwYXJhbSAge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gIGNvbnRleHQgICAgICAgIC0gVGhlIGNhbnZhcyBjb250ZXh0XG4gICAgICogQHJldHVybiB7bnVtYmVyfSAgICAgICAgICAgICAgICAgICAgVGhlIGZyb20gY2FjaGUuXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuZ2V0RnJvbUNhY2hlID0gZnVuY3Rpb24gKGtleSwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gY2FjaGVba2V5XTtcbiAgICAgICAgaWYgKHR5cGVvZiB3aWR0aCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHZhciBzcGFjaW5nID0gKChrZXkubGVuZ3RoKSAqIGxldHRlclNwYWNpbmcpO1xuICAgICAgICAgICAgd2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGtleSkud2lkdGggKyBzcGFjaW5nO1xuICAgICAgICAgICAgY2FjaGVba2V5XSA9IHdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3aWR0aDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciB3ZSBzaG91bGQgY29sbGFwc2UgYnJlYWtpbmcgc3BhY2VzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICB3aGl0ZVNwYWNlIC0gVGhlIFRleHRTdHlsZSBwcm9wZXJ0eSB3aGl0ZVNwYWNlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gIHNob3VsZCBjb2xsYXBzZVxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmNvbGxhcHNlU3BhY2VzID0gZnVuY3Rpb24gKHdoaXRlU3BhY2UpIHtcbiAgICAgICAgcmV0dXJuICh3aGl0ZVNwYWNlID09PSAnbm9ybWFsJyB8fCB3aGl0ZVNwYWNlID09PSAncHJlLWxpbmUnKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciB3ZSBzaG91bGQgY29sbGFwc2UgbmV3TGluZSBjaGFyc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgd2hpdGVTcGFjZSAtIFRoZSB3aGl0ZSBzcGFjZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59ICBzaG91bGQgY29sbGFwc2VcbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5jb2xsYXBzZU5ld2xpbmVzID0gZnVuY3Rpb24gKHdoaXRlU3BhY2UpIHtcbiAgICAgICAgcmV0dXJuICh3aGl0ZVNwYWNlID09PSAnbm9ybWFsJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiB0cmltcyBicmVha2luZyB3aGl0ZXNwYWNlcyBmcm9tIHN0cmluZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICB0ZXh0IC0gVGhlIHRleHRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9ICB0cmltbWVkIHN0cmluZ1xuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLnRyaW1SaWdodCA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gdGV4dC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgdmFyIGNoYXIgPSB0ZXh0W2ldO1xuICAgICAgICAgICAgaWYgKCFUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UoY2hhcikpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRleHQgPSB0ZXh0LnNsaWNlKDAsIC0xKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgY2hhciBpcyBhIG5ld2xpbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIGNoYXIgLSBUaGUgY2hhcmFjdGVyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gIFRydWUgaWYgbmV3bGluZSwgRmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmlzTmV3bGluZSA9IGZ1bmN0aW9uIChjaGFyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2hhciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFRleHRNZXRyaWNzLl9uZXdsaW5lcy5pbmRleE9mKGNoYXIuY2hhckNvZGVBdCgwKSkgPj0gMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIGNoYXIgaXMgYSBicmVha2luZyB3aGl0ZXNwYWNlLlxuICAgICAqXG4gICAgICogSXQgYWxsb3dzIG9uZSB0byBkZXRlcm1pbmUgd2hldGhlciBjaGFyIHNob3VsZCBiZSBhIGJyZWFraW5nIHdoaXRlc3BhY2VcbiAgICAgKiBGb3IgZXhhbXBsZSBjZXJ0YWluIGNoYXJhY3RlcnMgaW4gQ0pLIGxhbmdzIG9yIG51bWJlcnMuXG4gICAgICogSXQgbXVzdCByZXR1cm4gYSBib29sZWFuLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgY2hhciAgICAgLSBUaGUgY2hhcmFjdGVyXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgW25leHRDaGFyXSAtIFRoZSBuZXh0IGNoYXJhY3RlclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59ICBUcnVlIGlmIHdoaXRlc3BhY2UsIEZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UgPSBmdW5jdGlvbiAoY2hhciwgX25leHRDaGFyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2hhciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFRleHRNZXRyaWNzLl9icmVha2luZ1NwYWNlcy5pbmRleE9mKGNoYXIuY2hhckNvZGVBdCgwKSkgPj0gMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTcGxpdHMgYSBzdHJpbmcgaW50byB3b3JkcywgYnJlYWtpbmctc3BhY2VzIGFuZCBuZXdMaW5lIGNoYXJhY3RlcnNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgdGV4dCAtIFRoZSB0ZXh0XG4gICAgICogQHJldHVybiB7c3RyaW5nW119ICBBIHRva2VuaXplZCBhcnJheVxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLnRva2VuaXplID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgdmFyIHRva2VucyA9IFtdO1xuICAgICAgICB2YXIgdG9rZW4gPSAnJztcbiAgICAgICAgaWYgKHR5cGVvZiB0ZXh0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGFyID0gdGV4dFtpXTtcbiAgICAgICAgICAgIHZhciBuZXh0Q2hhciA9IHRleHRbaSArIDFdO1xuICAgICAgICAgICAgaWYgKFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShjaGFyLCBuZXh0Q2hhcikgfHwgVGV4dE1ldHJpY3MuaXNOZXdsaW5lKGNoYXIpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKGNoYXIpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9rZW4gKz0gY2hhcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9rZW4gIT09ICcnKSB7XG4gICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE92ZXJyaWRhYmxlIGhlbHBlciBtZXRob2QgdXNlZCBpbnRlcm5hbGx5IGJ5IFRleHRNZXRyaWNzLCBleHBvc2VkIHRvIGFsbG93IGN1c3RvbWl6aW5nIHRoZSBjbGFzcydzIGJlaGF2aW9yLlxuICAgICAqXG4gICAgICogSXQgYWxsb3dzIG9uZSB0byBjdXN0b21pc2Ugd2hpY2ggd29yZHMgc2hvdWxkIGJyZWFrXG4gICAgICogRXhhbXBsZXMgYXJlIGlmIHRoZSB0b2tlbiBpcyBDSksgb3IgbnVtYmVycy5cbiAgICAgKiBJdCBtdXN0IHJldHVybiBhIGJvb2xlYW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICB0b2tlbiAgICAgICAtIFRoZSB0b2tlblxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59ICBicmVha1dvcmRzIC0gVGhlIHN0eWxlIGF0dHIgYnJlYWsgd29yZHNcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRvIGJyZWFrIHdvcmQgb3Igbm90XG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuY2FuQnJlYWtXb3JkcyA9IGZ1bmN0aW9uIChfdG9rZW4sIGJyZWFrV29yZHMpIHtcbiAgICAgICAgcmV0dXJuIGJyZWFrV29yZHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPdmVycmlkYWJsZSBoZWxwZXIgbWV0aG9kIHVzZWQgaW50ZXJuYWxseSBieSBUZXh0TWV0cmljcywgZXhwb3NlZCB0byBhbGxvdyBjdXN0b21pemluZyB0aGUgY2xhc3MncyBiZWhhdmlvci5cbiAgICAgKlxuICAgICAqIEl0IGFsbG93cyBvbmUgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgYSBwYWlyIG9mIGNoYXJhY3RlcnNcbiAgICAgKiBzaG91bGQgYmUgYnJva2VuIGJ5IG5ld2xpbmVzXG4gICAgICogRm9yIGV4YW1wbGUgY2VydGFpbiBjaGFyYWN0ZXJzIGluIENKSyBsYW5ncyBvciBudW1iZXJzLlxuICAgICAqIEl0IG11c3QgcmV0dXJuIGEgYm9vbGVhbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIGNoYXIgICAgICAgIC0gVGhlIGNoYXJhY3RlclxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIG5leHRDaGFyICAgIC0gVGhlIG5leHQgY2hhcmFjdGVyXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgdG9rZW4gICAgICAgLSBUaGUgdG9rZW4vd29yZCB0aGUgY2hhcmFjdGVycyBhcmUgZnJvbVxuICAgICAqIEBwYXJhbSAge251bWJlcn0gIGluZGV4ICAgICAgIC0gVGhlIGluZGV4IGluIHRoZSB0b2tlbiBvZiB0aGUgY2hhclxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59ICBicmVha1dvcmRzIC0gVGhlIHN0eWxlIGF0dHIgYnJlYWsgd29yZHNcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRvIGJyZWFrIHdvcmQgb3Igbm90XG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuY2FuQnJlYWtDaGFycyA9IGZ1bmN0aW9uIChfY2hhciwgX25leHRDaGFyLCBfdG9rZW4sIF9pbmRleCwgX2JyZWFrV29yZHMpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPdmVycmlkYWJsZSBoZWxwZXIgbWV0aG9kIHVzZWQgaW50ZXJuYWxseSBieSBUZXh0TWV0cmljcywgZXhwb3NlZCB0byBhbGxvdyBjdXN0b21pemluZyB0aGUgY2xhc3MncyBiZWhhdmlvci5cbiAgICAgKlxuICAgICAqIEl0IGlzIGNhbGxlZCB3aGVuIGEgdG9rZW4gKHVzdWFsbHkgYSB3b3JkKSBoYXMgdG8gYmUgc3BsaXQgaW50byBzZXBhcmF0ZSBwaWVjZXNcbiAgICAgKiBpbiBvcmRlciB0byBkZXRlcm1pbmUgdGhlIHBvaW50IHRvIGJyZWFrIGEgd29yZC5cbiAgICAgKiBJdCBtdXN0IHJldHVybiBhbiBhcnJheSBvZiBjaGFyYWN0ZXJzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDb3JyZWN0bHkgc3BsaXRzIGVtb2ppcywgZWcgXCLwn6Sq8J+kqlwiIHdpbGwgcmVzdWx0IGluIHR3byBlbGVtZW50IGFycmF5LCBlYWNoIHdpdGggb25lIGVtb2ppLlxuICAgICAqIFRleHRNZXRyaWNzLndvcmRXcmFwU3BsaXQgPSAodG9rZW4pID0+IFsuLi50b2tlbl07XG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICB0b2tlbiAtIFRoZSB0b2tlbiB0byBzcGxpdFxuICAgICAqIEByZXR1cm4ge3N0cmluZ1tdfSBUaGUgY2hhcmFjdGVycyBvZiB0aGUgdG9rZW5cbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy53b3JkV3JhcFNwbGl0ID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgIHJldHVybiB0b2tlbi5zcGxpdCgnJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBhc2NlbnQsIGRlc2NlbnQgYW5kIGZvbnRTaXplIG9mIGEgZ2l2ZW4gZm9udC1zdHlsZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb250IC0gU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgc3R5bGUgb2YgdGhlIGZvbnRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLklGb250TWV0cmljc30gRm9udCBwcm9wZXJ0aWVzIG9iamVjdFxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLm1lYXN1cmVGb250ID0gZnVuY3Rpb24gKGZvbnQpIHtcbiAgICAgICAgLy8gYXMgdGhpcyBtZXRob2QgaXMgdXNlZCBmb3IgcHJlcGFyaW5nIGFzc2V0cywgZG9uJ3QgcmVjYWxjdWxhdGUgdGhpbmdzIGlmIHdlIGRvbid0IG5lZWQgdG9cbiAgICAgICAgaWYgKFRleHRNZXRyaWNzLl9mb250c1tmb250XSkge1xuICAgICAgICAgICAgcmV0dXJuIFRleHRNZXRyaWNzLl9mb250c1tmb250XTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgIGFzY2VudDogMCxcbiAgICAgICAgICAgIGRlc2NlbnQ6IDAsXG4gICAgICAgICAgICBmb250U2l6ZTogMCxcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGNhbnZhcyA9IFRleHRNZXRyaWNzLl9jYW52YXM7XG4gICAgICAgIHZhciBjb250ZXh0ID0gVGV4dE1ldHJpY3MuX2NvbnRleHQ7XG4gICAgICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG4gICAgICAgIHZhciBtZXRyaWNzU3RyaW5nID0gVGV4dE1ldHJpY3MuTUVUUklDU19TVFJJTkcgKyBUZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0w7XG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGguY2VpbChjb250ZXh0Lm1lYXN1cmVUZXh0KG1ldHJpY3NTdHJpbmcpLndpZHRoKTtcbiAgICAgICAgdmFyIGJhc2VsaW5lID0gTWF0aC5jZWlsKGNvbnRleHQubWVhc3VyZVRleHQoVGV4dE1ldHJpY3MuQkFTRUxJTkVfU1lNQk9MKS53aWR0aCk7XG4gICAgICAgIHZhciBoZWlnaHQgPSBUZXh0TWV0cmljcy5IRUlHSFRfTVVMVElQTElFUiAqIGJhc2VsaW5lO1xuICAgICAgICBiYXNlbGluZSA9IGJhc2VsaW5lICogVGV4dE1ldHJpY3MuQkFTRUxJTkVfTVVMVElQTElFUiB8IDA7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjZjAwJztcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgY29udGV4dC5mb250ID0gZm9udDtcbiAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSAnYWxwaGFiZXRpYyc7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMwMDAnO1xuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KG1ldHJpY3NTdHJpbmcsIDAsIGJhc2VsaW5lKTtcbiAgICAgICAgdmFyIGltYWdlZGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpLmRhdGE7XG4gICAgICAgIHZhciBwaXhlbHMgPSBpbWFnZWRhdGEubGVuZ3RoO1xuICAgICAgICB2YXIgbGluZSA9IHdpZHRoICogNDtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgaWR4ID0gMDtcbiAgICAgICAgdmFyIHN0b3AgPSBmYWxzZTtcbiAgICAgICAgLy8gYXNjZW50LiBzY2FuIGZyb20gdG9wIHRvIGJvdHRvbSB1bnRpbCB3ZSBmaW5kIGEgbm9uIHJlZCBwaXhlbFxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYmFzZWxpbmU7ICsraSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsaW5lOyBqICs9IDQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2VkYXRhW2lkeCArIGpdICE9PSAyNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc3RvcCkge1xuICAgICAgICAgICAgICAgIGlkeCArPSBsaW5lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvcGVydGllcy5hc2NlbnQgPSBiYXNlbGluZSAtIGk7XG4gICAgICAgIGlkeCA9IHBpeGVscyAtIGxpbmU7XG4gICAgICAgIHN0b3AgPSBmYWxzZTtcbiAgICAgICAgLy8gZGVzY2VudC4gc2NhbiBmcm9tIGJvdHRvbSB0byB0b3AgdW50aWwgd2UgZmluZCBhIG5vbiByZWQgcGl4ZWxcbiAgICAgICAgZm9yIChpID0gaGVpZ2h0OyBpID4gYmFzZWxpbmU7IC0taSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsaW5lOyBqICs9IDQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2VkYXRhW2lkeCArIGpdICE9PSAyNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc3RvcCkge1xuICAgICAgICAgICAgICAgIGlkeCAtPSBsaW5lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvcGVydGllcy5kZXNjZW50ID0gaSAtIGJhc2VsaW5lO1xuICAgICAgICBwcm9wZXJ0aWVzLmZvbnRTaXplID0gcHJvcGVydGllcy5hc2NlbnQgKyBwcm9wZXJ0aWVzLmRlc2NlbnQ7XG4gICAgICAgIFRleHRNZXRyaWNzLl9mb250c1tmb250XSA9IHByb3BlcnRpZXM7XG4gICAgICAgIHJldHVybiBwcm9wZXJ0aWVzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXIgZm9udCBtZXRyaWNzIGluIG1ldHJpY3MgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmb250XSAtIGZvbnQgbmFtZS4gSWYgZm9udCBuYW1lIG5vdCBzZXQgdGhlbiBjbGVhciBjYWNoZSBmb3IgYWxsIGZvbnRzLlxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmNsZWFyTWV0cmljcyA9IGZ1bmN0aW9uIChmb250KSB7XG4gICAgICAgIGlmIChmb250ID09PSB2b2lkIDApIHsgZm9udCA9ICcnOyB9XG4gICAgICAgIGlmIChmb250KSB7XG4gICAgICAgICAgICBkZWxldGUgVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgVGV4dE1ldHJpY3MuX2ZvbnRzID0ge307XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBUZXh0TWV0cmljcztcbn0oKSk7XG4vKipcbiAqIEludGVybmFsIHJldHVybiBvYmplY3QgZm9yIHtAbGluayBQSVhJLlRleHRNZXRyaWNzLm1lYXN1cmVGb250IGBUZXh0TWV0cmljcy5tZWFzdXJlRm9udGB9LlxuICpcbiAqIEB0eXBlZGVmIHtvYmplY3R9IEZvbnRNZXRyaWNzXG4gKiBAcHJvcGVydHkge251bWJlcn0gYXNjZW50IC0gVGhlIGFzY2VudCBkaXN0YW5jZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRlc2NlbnQgLSBUaGUgZGVzY2VudCBkaXN0YW5jZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGZvbnRTaXplIC0gRm9udCBzaXplIGZyb20gYXNjZW50IHRvIGRlc2NlbnRcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgY2FudmFzID0gKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBPZmZzY3JlZW5DYW52YXMyRCBtZWFzdXJlVGV4dCBjYW4gYmUgdXAgdG8gNDAlIGZhc3Rlci5cbiAgICAgICAgdmFyIGMgPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKDAsIDApO1xuICAgICAgICB2YXIgY29udGV4dCA9IGMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgaWYgKGNvbnRleHQgJiYgY29udGV4dC5tZWFzdXJlVGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIH1cbiAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIH1cbn0pKCk7XG5jYW52YXMud2lkdGggPSBjYW52YXMuaGVpZ2h0ID0gMTA7XG4vKipcbiAqIENhY2hlZCBjYW52YXMgZWxlbWVudCBmb3IgbWVhc3VyaW5nIHRleHRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2NhbnZhcyA9IGNhbnZhcztcbi8qKlxuICogQ2FjaGUgZm9yIGNvbnRleHQgdG8gdXNlLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2NvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbi8qKlxuICogQ2FjaGUgb2Yge0BzZWUgUElYSS5UZXh0TWV0cmljcy5Gb250TWV0cmljc30gb2JqZWN0cy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9mb250cyA9IHt9O1xuLyoqXG4gKiBTdHJpbmcgdXNlZCBmb3IgY2FsY3VsYXRlIGZvbnQgbWV0cmljcy5cbiAqIFRoZXNlIGNoYXJhY3RlcnMgYXJlIGFsbCB0YWxsIHRvIGhlbHAgY2FsY3VsYXRlIHRoZSBoZWlnaHQgcmVxdWlyZWQgZm9yIHRleHQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBuYW1lIE1FVFJJQ1NfU1RSSU5HXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQGRlZmF1bHQgfMOJccOFXG4gKi9cblRleHRNZXRyaWNzLk1FVFJJQ1NfU1RSSU5HID0gJ3zDiXHDhSc7XG4vKipcbiAqIEJhc2VsaW5lIHN5bWJvbCBmb3IgY2FsY3VsYXRlIGZvbnQgbWV0cmljcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQG5hbWUgQkFTRUxJTkVfU1lNQk9MXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQGRlZmF1bHQgTVxuICovXG5UZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0wgPSAnTSc7XG4vKipcbiAqIEJhc2VsaW5lIG11bHRpcGxpZXIgZm9yIGNhbGN1bGF0ZSBmb250IG1ldHJpY3MuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBuYW1lIEJBU0VMSU5FX01VTFRJUExJRVJcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCAxLjRcbiAqL1xuVGV4dE1ldHJpY3MuQkFTRUxJTkVfTVVMVElQTElFUiA9IDEuNDtcbi8qKlxuICogSGVpZ2h0IG11bHRpcGxpZXIgZm9yIHNldHRpbmcgaGVpZ2h0IG9mIGNhbnZhcyB0byBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAbmFtZSBIRUlHSFRfTVVMVElQTElFUlxuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0IDIuMDBcbiAqL1xuVGV4dE1ldHJpY3MuSEVJR0hUX01VTFRJUExJRVIgPSAyLjA7XG4vKipcbiAqIENhY2hlIG9mIG5ldyBsaW5lIGNoYXJzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7bnVtYmVyW119XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fbmV3bGluZXMgPSBbXG4gICAgMHgwMDBBLFxuICAgIDB4MDAwRCBdO1xuLyoqXG4gKiBDYWNoZSBvZiBicmVha2luZyBzcGFjZXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtudW1iZXJbXX1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9icmVha2luZ1NwYWNlcyA9IFtcbiAgICAweDAwMDksXG4gICAgMHgwMDIwLFxuICAgIDB4MjAwMCxcbiAgICAweDIwMDEsXG4gICAgMHgyMDAyLFxuICAgIDB4MjAwMyxcbiAgICAweDIwMDQsXG4gICAgMHgyMDA1LFxuICAgIDB4MjAwNixcbiAgICAweDIwMDgsXG4gICAgMHgyMDA5LFxuICAgIDB4MjAwQSxcbiAgICAweDIwNUYsXG4gICAgMHgzMDAwIF07XG4vKipcbiAqIEEgbnVtYmVyLCBvciBhIHN0cmluZyBjb250YWluaW5nIGEgbnVtYmVyLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJRm9udE1ldHJpY3NcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhc2NlbnQgLSBGb250IGFzY2VudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRlc2NlbnQgLSBGb250IGRlc2NlbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmb250U2l6ZSAtIEZvbnQgc2l6ZVxuICovXG5cbnZhciBkZWZhdWx0RGVzdHJveU9wdGlvbnMgPSB7XG4gICAgdGV4dHVyZTogdHJ1ZSxcbiAgICBjaGlsZHJlbjogZmFsc2UsXG4gICAgYmFzZVRleHR1cmU6IHRydWUsXG59O1xuLyoqXG4gKiBBIFRleHQgT2JqZWN0IHdpbGwgY3JlYXRlIGEgbGluZSBvciBtdWx0aXBsZSBsaW5lcyBvZiB0ZXh0LlxuICpcbiAqIFRoZSB0ZXh0IGlzIGNyZWF0ZWQgdXNpbmcgdGhlIFtDYW52YXMgQVBJXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzX0FQSSkuXG4gKlxuICogVGhlIHByaW1hcnkgYWR2YW50YWdlIG9mIHRoaXMgY2xhc3Mgb3ZlciBCaXRtYXBUZXh0IGlzIHRoYXQgeW91IGhhdmUgZ3JlYXQgY29udHJvbCBvdmVyIHRoZSBzdHlsZSBvZiB0aGUgdGV4dCxcbiAqIHdoaWNoIHlvdSBjYW4gY2hhbmdlIGF0IHJ1bnRpbWUuXG4gKlxuICogVGhlIHByaW1hcnkgZGlzYWR2YW50YWdlcyBpcyB0aGF0IGVhY2ggcGllY2Ugb2YgdGV4dCBoYXMgaXQncyBvd24gdGV4dHVyZSwgd2hpY2ggY2FuIHVzZSBtb3JlIG1lbW9yeS5cbiAqIFdoZW4gdGV4dCBjaGFuZ2VzLCB0aGlzIHRleHR1cmUgaGFzIHRvIGJlIHJlLWdlbmVyYXRlZCBhbmQgcmUtdXBsb2FkZWQgdG8gdGhlIEdQVSwgdGFraW5nIHVwIHRpbWUuXG4gKlxuICogVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nIGluIHlvdXIgdGV4dCBzdHJpbmcsIG9yLCBvbiB0aGUgYHN0eWxlYCBvYmplY3QsXG4gKiBjaGFuZ2UgaXRzIGB3b3JkV3JhcGAgcHJvcGVydHkgdG8gdHJ1ZSBhbmQgYW5kIGdpdmUgdGhlIGB3b3JkV3JhcFdpZHRoYCBwcm9wZXJ0eSBhIHZhbHVlLlxuICpcbiAqIEEgVGV4dCBjYW4gYmUgY3JlYXRlZCBkaXJlY3RseSBmcm9tIGEgc3RyaW5nIGFuZCBhIHN0eWxlIG9iamVjdCxcbiAqIHdoaWNoIGNhbiBiZSBnZW5lcmF0ZWQgW2hlcmVdKGh0dHBzOi8vcGl4aWpzLmlvL3BpeGktdGV4dC1zdHlsZSkuXG4gKlxuICogYGBganNcbiAqIGxldCB0ZXh0ID0gbmV3IFBJWEkuVGV4dCgnVGhpcyBpcyBhIFBpeGlKUyB0ZXh0Jyx7Zm9udEZhbWlseSA6ICdBcmlhbCcsIGZvbnRTaXplOiAyNCwgZmlsbCA6IDB4ZmYxMDEwLCBhbGlnbiA6ICdjZW50ZXInfSk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGV4dCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSBzdHJpbmcgdGhhdCB5b3Ugd291bGQgbGlrZSB0aGUgdGV4dCB0byBkaXNwbGF5XG4gICAgICogQHBhcmFtIHtvYmplY3R8UElYSS5UZXh0U3R5bGV9IFtzdHlsZV0gLSBUaGUgc3R5bGUgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtjYW52YXNdIC0gVGhlIGNhbnZhcyBlbGVtZW50IGZvciBkcmF3aW5nIHRleHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0KHRleHQsIHN0eWxlLCBjYW52YXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG93bkNhbnZhcyA9IGZhbHNlO1xuICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICBvd25DYW52YXMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IDM7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSAzO1xuICAgICAgICB2YXIgdGV4dHVyZSA9IFRleHR1cmUuZnJvbShjYW52YXMpO1xuICAgICAgICB0ZXh0dXJlLm9yaWcgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIHRleHR1cmUudHJpbSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0ZXh0dXJlKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogS2VlcCB0cmFjayBpZiB0aGlzIFRleHQgb2JqZWN0IGNyZWF0ZWQgaXQncyBvd24gY2FudmFzXG4gICAgICAgICAqIGVsZW1lbnQgKGB0cnVlYCkgb3IgdXNlcyB0aGUgY29uc3RydWN0b3IgYXJndW1lbnQgKGBmYWxzZWApLlxuICAgICAgICAgKiBVc2VkIHRvIHdvcmthcm91bmQgYSBHQyBpc3N1ZXMgd2l0aCBTYWZhcmkgPCAxMyB3aGVuXG4gICAgICAgICAqIGRlc3Ryb3lpbmcgVGV4dC4gU2VlIGBkZXN0cm95YCBmb3IgbW9yZSBpbmZvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX293bkNhbnZhcyA9IG93bkNhbnZhcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgZWxlbWVudCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gdG9cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIDJkIGNvbnRleHQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHdpdGhcbiAgICAgICAgICogQG1lbWJlciB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29udGV4dCA9IF90aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIGNhbnZhcy5cbiAgICAgICAgICogVGhpcyBpcyBzZXQgdG8gYXV0b21hdGljYWxseSBtYXRjaCB0aGUgcmVuZGVyZXIgcmVzb2x1dGlvbiBieSBkZWZhdWx0LCBidXQgY2FuIGJlIG92ZXJyaWRkZW4gYnkgc2V0dGluZyBtYW51YWxseS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcmVzb2x1dGlvbiA9IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgIF90aGlzLl9hdXRvUmVzb2x1dGlvbiA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9zdHlsZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIGxpc3RlbmVyIHRvIHRyYWNrIHN0eWxlIGNoYW5nZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3N0eWxlTGlzdGVuZXIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBmb250LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZm9udCA9ICcnO1xuICAgICAgICBfdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgX3RoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgX3RoaXMubG9jYWxTdHlsZUlEID0gLTE7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0ZXh0IHRvIGl0cyBjYW52YXMsIGFuZCB1cGRhdGVzIGl0cyB0ZXh0dXJlLlxuICAgICAqIEJ5IGRlZmF1bHQgdGhpcyBpcyB1c2VkIGludGVybmFsbHkgdG8gZW5zdXJlIHRoZSB0ZXh0dXJlIGlzIGNvcnJlY3QgYmVmb3JlIHJlbmRlcmluZyxcbiAgICAgKiBidXQgaXQgY2FuIGJlIHVzZWQgY2FsbGVkIGV4dGVybmFsbHksIGZvciBleGFtcGxlIGZyb20gdGhpcyBjbGFzcyB0byAncHJlLWdlbmVyYXRlJyB0aGUgdGV4dHVyZSBmcm9tIGEgcGllY2Ugb2YgdGV4dCxcbiAgICAgKiBhbmQgdGhlbiBzaGFyZWQgYWNyb3NzIG11bHRpcGxlIFNwcml0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlc3BlY3REaXJ0eSAtIFdoZXRoZXIgdG8gYWJvcnQgdXBkYXRpbmcgdGhlIHRleHQgaWYgdGhlIFRleHQgaXNuJ3QgZGlydHkgYW5kIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQuXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dCA9IGZ1bmN0aW9uIChyZXNwZWN0RGlydHkpIHtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5fc3R5bGU7XG4gICAgICAgIC8vIGNoZWNrIGlmIHN0eWxlIGhhcyBjaGFuZ2VkLi5cbiAgICAgICAgaWYgKHRoaXMubG9jYWxTdHlsZUlEICE9PSBzdHlsZS5zdHlsZUlEKSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubG9jYWxTdHlsZUlEID0gc3R5bGUuc3R5bGVJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuZGlydHkgJiYgcmVzcGVjdERpcnR5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZm9udCA9IHRoaXMuX3N0eWxlLnRvRm9udFN0cmluZygpO1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgdmFyIG1lYXN1cmVkID0gVGV4dE1ldHJpY3MubWVhc3VyZVRleHQodGhpcy5fdGV4dCB8fCAnICcsIHRoaXMuX3N0eWxlLCB0aGlzLl9zdHlsZS53b3JkV3JhcCwgdGhpcy5jYW52YXMpO1xuICAgICAgICB2YXIgd2lkdGggPSBtZWFzdXJlZC53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IG1lYXN1cmVkLmhlaWdodDtcbiAgICAgICAgdmFyIGxpbmVzID0gbWVhc3VyZWQubGluZXM7XG4gICAgICAgIHZhciBsaW5lSGVpZ2h0ID0gbWVhc3VyZWQubGluZUhlaWdodDtcbiAgICAgICAgdmFyIGxpbmVXaWR0aHMgPSBtZWFzdXJlZC5saW5lV2lkdGhzO1xuICAgICAgICB2YXIgbWF4TGluZVdpZHRoID0gbWVhc3VyZWQubWF4TGluZVdpZHRoO1xuICAgICAgICB2YXIgZm9udFByb3BlcnRpZXMgPSBtZWFzdXJlZC5mb250UHJvcGVydGllcztcbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSBNYXRoLmNlaWwoKE1hdGgubWF4KDEsIHdpZHRoKSArIChzdHlsZS5wYWRkaW5nICogMikpICogdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IE1hdGguY2VpbCgoTWF0aC5tYXgoMSwgaGVpZ2h0KSArIChzdHlsZS5wYWRkaW5nICogMikpICogdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIGNvbnRleHQuc2NhbGUodGhpcy5fcmVzb2x1dGlvbiwgdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBjb250ZXh0LmZvbnQgPSB0aGlzLl9mb250O1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSBzdHlsZS50ZXh0QmFzZWxpbmU7XG4gICAgICAgIGNvbnRleHQubGluZUpvaW4gPSBzdHlsZS5saW5lSm9pbjtcbiAgICAgICAgY29udGV4dC5taXRlckxpbWl0ID0gc3R5bGUubWl0ZXJMaW1pdDtcbiAgICAgICAgdmFyIGxpbmVQb3NpdGlvblg7XG4gICAgICAgIHZhciBsaW5lUG9zaXRpb25ZO1xuICAgICAgICAvLyByZXF1aXJlIDIgcGFzc2VzIGlmIGEgc2hhZG93OyB0aGUgZmlyc3QgdG8gZHJhdyB0aGUgZHJvcCBzaGFkb3csIHRoZSBzZWNvbmQgdG8gZHJhdyB0aGUgdGV4dFxuICAgICAgICB2YXIgcGFzc2VzQ291bnQgPSBzdHlsZS5kcm9wU2hhZG93ID8gMiA6IDE7XG4gICAgICAgIC8vIEZvciB2NCwgd2UgZHJldyB0ZXh0IGF0IHRoZSBjb2xvdXJzIG9mIHRoZSBkcm9wIHNoYWRvdyB1bmRlcm5lYXRoIHRoZSBub3JtYWwgdGV4dC4gVGhpcyBnYXZlIHRoZSBjb3JyZWN0IHpJbmRleCxcbiAgICAgICAgLy8gYnV0IGZlYXR1cmVzIHN1Y2ggYXMgYWxwaGEgYW5kIHNoYWRvd2JsdXIgZGlkIG5vdCBsb29rIHJpZ2h0IGF0IGFsbCwgc2luY2Ugd2Ugd2VyZSB1c2luZyBhY3R1YWwgdGV4dCBhcyBhIHNoYWRvdy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gRm9yIHY1LjAuMCwgd2UgbW92ZWQgb3ZlciB0byBqdXN0IHVzZSB0aGUgY2FudmFzIEFQSSBmb3IgZHJvcCBzaGFkb3dzLCB3aGljaCBtYWRlIHRoZW0gbG9vayBtdWNoIG5pY2VyIGFuZCBtb3JlXG4gICAgICAgIC8vIHZpc3VhbGx5IHBsZWFzZSwgYnV0IG5vdyBiZWNhdXNlIHRoZSBzdHJva2UgaXMgZHJhd24gYW5kIHRoZW4gdGhlIGZpbGwsIGRyb3Agc2hhZG93cyB3b3VsZCBhcHBlYXIgb24gYm90aCB0aGUgZmlsbFxuICAgICAgICAvLyBhbmQgdGhlIHN0cm9rZTsgYW5kIGZpbGwgZHJvcCBzaGFkb3dzIHdvdWxkIGFwcGVhciBvdmVyIHRoZSB0b3Agb2YgdGhlIHN0cm9rZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gRm9yIHY1LjEuMSwgdGhlIG5ldyByb3V0ZSBpcyB0byByZXZlcnQgdG8gdjQgc3R5bGUgb2YgZHJhd2luZyB0ZXh0IGZpcnN0IHRvIGdldCB0aGUgZHJvcCBzaGFkb3dzIHVuZGVybmVhdGggbm9ybWFsXG4gICAgICAgIC8vIHRleHQsIGJ1dCBpbnN0ZWFkIGRyYXdpbmcgdGV4dCBpbiB0aGUgY29ycmVjdCBsb2NhdGlvbiwgd2UnbGwgZHJhdyBpdCBvZmYgc2NyZWVuICgtcGFkZGluZ1kpLCBhbmQgdGhlbiBhZGp1c3QgdGhlXG4gICAgICAgIC8vIGRyb3Agc2hhZG93IHNvIG9ubHkgdGhhdCBhcHBlYXJzIG9uIHNjcmVlbiAoK3BhZGRpbmdZKS4gTm93IHdlJ2xsIGhhdmUgdGhlIGNvcnJlY3QgZHJhdyBvcmRlciBvZiB0aGUgc2hhZG93XG4gICAgICAgIC8vIGJlbmVhdGggdGhlIHRleHQsIHdoaWxzdCBhbHNvIGhhdmluZyB0aGUgcHJvcGVyIHRleHQgc2hhZG93IHN0eWxpbmcuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFzc2VzQ291bnQ7ICsraSkge1xuICAgICAgICAgICAgdmFyIGlzU2hhZG93UGFzcyA9IHN0eWxlLmRyb3BTaGFkb3cgJiYgaSA9PT0gMDtcbiAgICAgICAgICAgIC8vIHdlIG9ubHkgd2FudCB0aGUgZHJvcCBzaGFkb3csIHNvIHB1dCB0ZXh0IHdheSBvZmYtc2NyZWVuXG4gICAgICAgICAgICB2YXIgZHNPZmZzZXRUZXh0ID0gaXNTaGFkb3dQYXNzID8gTWF0aC5jZWlsKE1hdGgubWF4KDEsIGhlaWdodCkgKyAoc3R5bGUucGFkZGluZyAqIDIpKSA6IDA7XG4gICAgICAgICAgICB2YXIgZHNPZmZzZXRTaGFkb3cgPSBkc09mZnNldFRleHQgKiB0aGlzLl9yZXNvbHV0aW9uO1xuICAgICAgICAgICAgaWYgKGlzU2hhZG93UGFzcykge1xuICAgICAgICAgICAgICAgIC8vIE9uIFNhZmFyaSwgdGV4dCB3aXRoIGdyYWRpZW50IGFuZCBkcm9wIHNoYWRvd3MgdG9nZXRoZXIgZG8gbm90IHBvc2l0aW9uIGNvcnJlY3RseVxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBzY2FsZSBvZiB0aGUgY2FudmFzIGlzIG5vdCAxOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTk3Njg5XG4gICAgICAgICAgICAgICAgLy8gVGhlcmVmb3JlIHdlJ2xsIHNldCB0aGUgc3R5bGVzIHRvIGJlIGEgcGxhaW4gYmxhY2sgd2hpbHN0IGdlbmVyYXRpbmcgdGhpcyBkcm9wIHNoYWRvd1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgICAgICAgICB2YXIgZHJvcFNoYWRvd0NvbG9yID0gc3R5bGUuZHJvcFNoYWRvd0NvbG9yO1xuICAgICAgICAgICAgICAgIHZhciByZ2IgPSBoZXgycmdiKHR5cGVvZiBkcm9wU2hhZG93Q29sb3IgPT09ICdudW1iZXInID8gZHJvcFNoYWRvd0NvbG9yIDogc3RyaW5nMmhleChkcm9wU2hhZG93Q29sb3IpKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gXCJyZ2JhKFwiICsgcmdiWzBdICogMjU1ICsgXCIsXCIgKyByZ2JbMV0gKiAyNTUgKyBcIixcIiArIHJnYlsyXSAqIDI1NSArIFwiLFwiICsgc3R5bGUuZHJvcFNoYWRvd0FscGhhICsgXCIpXCI7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gc3R5bGUuZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gTWF0aC5jb3Moc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSAoTWF0aC5zaW4oc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZSkgKyBkc09mZnNldFNoYWRvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHNldCBjYW52YXMgdGV4dCBzdHlsZXNcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuX2dlbmVyYXRlRmlsbFN0eWxlKHN0eWxlLCBsaW5lcywgbWVhc3VyZWQpO1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IENhbid0IGhhdmUgZGlmZmVyZW50IHR5cGVzIGZvciBnZXR0ZXIgYW5kIHNldHRlci4gVGhlIGdldHRlciBzaG91bGRuJ3QgaGF2ZSB0aGUgbnVtYmVyIHR5cGUgYXNcbiAgICAgICAgICAgICAgICAvLyAgICAgICB0aGUgc2V0dGVyIGNvbnZlcnRzIHRvIHN0cmluZy4gU2VlIHRoaXMgdGhyZWFkIGZvciBtb3JlIGRldGFpbHM6XG4gICAgICAgICAgICAgICAgLy8gICAgICAgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNTIxXG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0eWxlLnN0cm9rZTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gJ2JsYWNrJztcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IDA7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGRyYXcgbGluZXMgbGluZSBieSBsaW5lXG4gICAgICAgICAgICBmb3IgKHZhciBpXzEgPSAwOyBpXzEgPCBsaW5lcy5sZW5ndGg7IGlfMSsrKSB7XG4gICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDI7XG4gICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWSA9ICgoc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIC8gMikgKyAoaV8xICogbGluZUhlaWdodCkpICsgZm9udFByb3BlcnRpZXMuYXNjZW50O1xuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5hbGlnbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV8xXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc3R5bGUuYWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gKG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV8xXSkgLyAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuc3Ryb2tlICYmIHN0eWxlLnN0cm9rZVRoaWNrbmVzcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMZXR0ZXJTcGFjaW5nKGxpbmVzW2lfMV0sIGxpbmVQb3NpdGlvblggKyBzdHlsZS5wYWRkaW5nLCBsaW5lUG9zaXRpb25ZICsgc3R5bGUucGFkZGluZyAtIGRzT2Zmc2V0VGV4dCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5maWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xldHRlclNwYWNpbmcobGluZXNbaV8xXSwgbGluZVBvc2l0aW9uWCArIHN0eWxlLnBhZGRpbmcsIGxpbmVQb3NpdGlvblkgKyBzdHlsZS5wYWRkaW5nIC0gZHNPZmZzZXRUZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIHRleHQgd2l0aCBsZXR0ZXItc3BhY2luZy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSB0ZXh0IHRvIGRyYXdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIEhvcml6b250YWwgcG9zaXRpb24gdG8gZHJhdyB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVmVydGljYWwgcG9zaXRpb24gdG8gZHJhdyB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU3Ryb2tlPWZhbHNlXSAtIElzIHRoaXMgZHJhd2luZyBmb3IgdGhlIG91dHNpZGUgc3Ryb2tlIG9mIHRoZVxuICAgICAqICB0ZXh0PyBJZiBub3QsIGl0J3MgZm9yIHRoZSBpbnNpZGUgZmlsbFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZHJhd0xldHRlclNwYWNpbmcgPSBmdW5jdGlvbiAodGV4dCwgeCwgeSwgaXNTdHJva2UpIHtcbiAgICAgICAgaWYgKGlzU3Ryb2tlID09PSB2b2lkIDApIHsgaXNTdHJva2UgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLl9zdHlsZTtcbiAgICAgICAgLy8gbGV0dGVyU3BhY2luZyBvZiAwIG1lYW5zIG5vcm1hbFxuICAgICAgICB2YXIgbGV0dGVyU3BhY2luZyA9IHN0eWxlLmxldHRlclNwYWNpbmc7XG4gICAgICAgIGlmIChsZXR0ZXJTcGFjaW5nID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoaXNTdHJva2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc3Ryb2tlVGV4dCh0ZXh0LCB4LCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dCh0ZXh0LCB4LCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3VycmVudFBvc2l0aW9uID0geDtcbiAgICAgICAgLy8gVXNpbmcgQXJyYXkuZnJvbSBjb3JyZWN0bHkgc3BsaXRzIGNoYXJhY3RlcnMgd2hpbHN0IGtlZXBpbmcgZW1vamkgdG9nZXRoZXIuXG4gICAgICAgIC8vIFRoaXMgaXMgbm90IHN1cHBvcnRlZCBvbiBJRSBhcyBpdCByZXF1aXJlcyBFUzYsIHNvIHJlZ3VsYXIgdGV4dCBzcGxpdHRpbmcgb2NjdXJzLlxuICAgICAgICAvLyBUaGlzIGFsc28gZG9lc24ndCBhY2NvdW50IGZvciBlbW9qaSB0aGF0IGFyZSBtdWx0aXBsZSBlbW9qaSBwdXQgdG9nZXRoZXIgdG8gbWFrZSBzb21ldGhpbmcgZWxzZS5cbiAgICAgICAgLy8gSGFuZGxpbmcgYWxsIG9mIHRoaXMgd291bGQgcmVxdWlyZSBhIGJpZyBsaWJyYXJ5IGl0c2VsZi5cbiAgICAgICAgLy8gaHR0cHM6Ly9tZWRpdW0uY29tL0BnaWx0YXlhci9pdGVyYXRpbmctb3Zlci1lbW9qaS1jaGFyYWN0ZXJzLXRoZS1lczYtd2F5LWYwNmU0NTg5NTE2XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9vcmxpbmcvZ3JhcGhlbWUtc3BsaXR0ZXJcbiAgICAgICAgdmFyIHN0cmluZ0FycmF5ID0gQXJyYXkuZnJvbSA/IEFycmF5LmZyb20odGV4dCkgOiB0ZXh0LnNwbGl0KCcnKTtcbiAgICAgICAgdmFyIHByZXZpb3VzV2lkdGggPSB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQodGV4dCkud2lkdGg7XG4gICAgICAgIHZhciBjdXJyZW50V2lkdGggPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmluZ0FycmF5Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudENoYXIgPSBzdHJpbmdBcnJheVtpXTtcbiAgICAgICAgICAgIGlmIChpc1N0cm9rZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VUZXh0KGN1cnJlbnRDaGFyLCBjdXJyZW50UG9zaXRpb24sIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KGN1cnJlbnRDaGFyLCBjdXJyZW50UG9zaXRpb24sIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFdpZHRoID0gdGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQuc3Vic3RyaW5nKGkgKyAxKSkud2lkdGg7XG4gICAgICAgICAgICBjdXJyZW50UG9zaXRpb24gKz0gcHJldmlvdXNXaWR0aCAtIGN1cnJlbnRXaWR0aCArIGxldHRlclNwYWNpbmc7XG4gICAgICAgICAgICBwcmV2aW91c1dpZHRoID0gY3VycmVudFdpZHRoO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRleHR1cmUgc2l6ZSBiYXNlZCBvbiBjYW52YXMgc2l6ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS51cGRhdGVUZXh0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2FudmFzID0gdGhpcy5jYW52YXM7XG4gICAgICAgIGlmICh0aGlzLl9zdHlsZS50cmltKSB7XG4gICAgICAgICAgICB2YXIgdHJpbW1lZCA9IHRyaW1DYW52YXMoY2FudmFzKTtcbiAgICAgICAgICAgIGlmICh0cmltbWVkLmRhdGEpIHtcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSB0cmltbWVkLndpZHRoO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0cmltbWVkLmhlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQucHV0SW1hZ2VEYXRhKHRyaW1tZWQuZGF0YSwgMCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLl9zdHlsZTtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSBzdHlsZS50cmltID8gMCA6IHN0eWxlLnBhZGRpbmc7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIHRleHR1cmUudHJpbS53aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoID0gTWF0aC5jZWlsKGNhbnZhcy53aWR0aCAvIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgICAgICB0ZXh0dXJlLnRyaW0uaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0ID0gTWF0aC5jZWlsKGNhbnZhcy5oZWlnaHQgLyB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgdGV4dHVyZS50cmltLnggPSAtcGFkZGluZztcbiAgICAgICAgdGV4dHVyZS50cmltLnkgPSAtcGFkZGluZztcbiAgICAgICAgdGV4dHVyZS5vcmlnLndpZHRoID0gdGV4dHVyZS5fZnJhbWUud2lkdGggLSAocGFkZGluZyAqIDIpO1xuICAgICAgICB0ZXh0dXJlLm9yaWcuaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0IC0gKHBhZGRpbmcgKiAyKTtcbiAgICAgICAgLy8gY2FsbCBzcHJpdGUgb25UZXh0dXJlVXBkYXRlIHRvIHVwZGF0ZSBzY2FsZSBpZiBfd2lkdGggb3IgX2hlaWdodCB3ZXJlIHNldFxuICAgICAgICB0aGlzLl9vblRleHR1cmVVcGRhdGUoKTtcbiAgICAgICAgYmFzZVRleHR1cmUuc2V0UmVhbFNpemUoY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0LCB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgdXBkYXRlcyB0cmFuc2Zvcm0gb2YgYWxsIG9iamVjdHMgZnJvbSB0aGUgcm9vdCB0byB0aGlzIG9uZVxuICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICBpZiAodGhpcy5fYXV0b1Jlc29sdXRpb24gJiYgdGhpcy5fcmVzb2x1dGlvbiAhPT0gcmVuZGVyZXIucmVzb2x1dGlvbikge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX3JlbmRlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgdGV4dCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gVGhlIG91dHB1dCByZWN0YW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSBib3VuZHMuXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiAocmVjdCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIFRleHQgYXMgYSByZWN0YW5nbGUuIFRoZSBib3VuZHMgY2FsY3VsYXRpb24gdGFrZXMgdGhlIHdvcmxkVHJhbnNmb3JtIGludG8gYWNjb3VudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYWxyZWFkeSBkb25lIHRoaXMgb24gVEhJUyBmcmFtZS5cbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhEYXRhKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyB0aGUgZmlsbCBzdHlsZS4gQ2FuIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGUgYSBncmFkaWVudCBiYXNlZCBvbiB0aGUgZmlsbCBzdHlsZSBiZWluZyBhbiBhcnJheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3R5bGUgLSBUaGUgc3R5bGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gbGluZXMgLSBUaGUgbGluZXMgb2YgdGV4dC5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8bnVtYmVyfENhbnZhc0dyYWRpZW50fSBUaGUgZmlsbCBzdHlsZVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLl9nZW5lcmF0ZUZpbGxTdHlsZSA9IGZ1bmN0aW9uIChzdHlsZSwgbGluZXMsIG1ldHJpY3MpIHtcbiAgICAgICAgLy8gVE9ETzogQ2FuJ3QgaGF2ZSBkaWZmZXJlbnQgdHlwZXMgZm9yIGdldHRlciBhbmQgc2V0dGVyLiBUaGUgZ2V0dGVyIHNob3VsZG4ndCBoYXZlIHRoZSBudW1iZXIgdHlwZSBhc1xuICAgICAgICAvLyAgICAgICB0aGUgc2V0dGVyIGNvbnZlcnRzIHRvIHN0cmluZy4gU2VlIHRoaXMgdGhyZWFkIGZvciBtb3JlIGRldGFpbHM6XG4gICAgICAgIC8vICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjUyMVxuICAgICAgICB2YXIgZmlsbFN0eWxlID0gc3R5bGUuZmlsbDtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGZpbGxTdHlsZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWxsU3R5bGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZmlsbFN0eWxlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZpbGxTdHlsZVswXTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGUgZ3JhZGllbnQgd2lsbCBiZSBldmVubHkgc3BhY2VkIG91dCBhY2NvcmRpbmcgdG8gaG93IGxhcmdlIHRoZSBhcnJheSBpcy5cbiAgICAgICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIHdvdWxkIGNyZWF0ZWQgc3RvcHMgYXQgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgICAgIHZhciBncmFkaWVudDtcbiAgICAgICAgLy8gYSBkcm9wc2hhZG93IHdpbGwgZW5sYXJnZSB0aGUgY2FudmFzIGFuZCByZXN1bHQgaW4gdGhlIGdyYWRpZW50IGJlaW5nXG4gICAgICAgIC8vIGdlbmVyYXRlZCB3aXRoIHRoZSBpbmNvcnJlY3QgZGltZW5zaW9uc1xuICAgICAgICB2YXIgZHJvcFNoYWRvd0NvcnJlY3Rpb24gPSAoc3R5bGUuZHJvcFNoYWRvdykgPyBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2UgOiAwO1xuICAgICAgICAvLyBzaG91bGQgYWxzbyB0YWtlIHBhZGRpbmcgaW50byBhY2NvdW50LCBwYWRkaW5nIGNhbiBvZmZzZXQgdGhlIGdyYWRpZW50XG4gICAgICAgIHZhciBwYWRkaW5nID0gc3R5bGUucGFkZGluZyB8fCAwO1xuICAgICAgICB2YXIgd2lkdGggPSBNYXRoLmNlaWwodGhpcy5jYW52YXMud2lkdGggLyB0aGlzLl9yZXNvbHV0aW9uKSAtIGRyb3BTaGFkb3dDb3JyZWN0aW9uIC0gKHBhZGRpbmcgKiAyKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGguY2VpbCh0aGlzLmNhbnZhcy5oZWlnaHQgLyB0aGlzLl9yZXNvbHV0aW9uKSAtIGRyb3BTaGFkb3dDb3JyZWN0aW9uIC0gKHBhZGRpbmcgKiAyKTtcbiAgICAgICAgLy8gbWFrZSBhIGNvcHkgb2YgdGhlIHN0eWxlIHNldHRpbmdzLCBzbyB3ZSBjYW4gbWFuaXB1bGF0ZSB0aGVtIGxhdGVyXG4gICAgICAgIHZhciBmaWxsID0gZmlsbFN0eWxlLnNsaWNlKCk7XG4gICAgICAgIHZhciBmaWxsR3JhZGllbnRTdG9wcyA9IHN0eWxlLmZpbGxHcmFkaWVudFN0b3BzLnNsaWNlKCk7XG4gICAgICAgIC8vIHdhbnRpbmcgdG8gZXZlbmx5IGRpc3RyaWJ1dGUgdGhlIGZpbGxzLiBTbyBhbiBhcnJheSBvZiA0IGNvbG91cnMgc2hvdWxkIGdpdmUgZmlsbHMgb2YgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgICAgIGlmICghZmlsbEdyYWRpZW50U3RvcHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoUGx1czEgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aFBsdXMxOyArK2kpIHtcbiAgICAgICAgICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKGkgLyBsZW5ndGhQbHVzMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3RvcCB0aGUgYmxlZWRpbmcgb2YgdGhlIGxhc3QgZ3JhZGllbnQgb24gdGhlIGxpbmUgYWJvdmUgdG8gdGhlIHRvcCBncmFkaWVudCBvZiB0aGUgdGhpcyBsaW5lXG4gICAgICAgIC8vIGJ5IGhhcmQgZGVmaW5pbmcgdGhlIGZpcnN0IGdyYWRpZW50IGNvbG91ciBhdCBwb2ludCAwLCBhbmQgbGFzdCBncmFkaWVudCBjb2xvdXIgYXQgcG9pbnQgMVxuICAgICAgICBmaWxsLnVuc2hpZnQoZmlsbFN0eWxlWzBdKTtcbiAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMudW5zaGlmdCgwKTtcbiAgICAgICAgZmlsbC5wdXNoKGZpbGxTdHlsZVtmaWxsU3R5bGUubGVuZ3RoIC0gMV0pO1xuICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKDEpO1xuICAgICAgICBpZiAoc3R5bGUuZmlsbEdyYWRpZW50VHlwZSA9PT0gVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwpIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgdG9wIGNlbnRlciBvZiB0aGUgY2FudmFzLCBhbmQgZW5kIGF0IHRoZSBib3R0b20gbWlkZGxlIG9mIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGdyYWRpZW50ID0gdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHdpZHRoIC8gMiwgcGFkZGluZywgd2lkdGggLyAyLCBoZWlnaHQgKyBwYWRkaW5nKTtcbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gcmVwZWF0IHRoZSBncmFkaWVudCBzbyB0aGF0IGVhY2ggaW5kaXZpZHVhbCBsaW5lIG9mIHRleHQgaGFzIHRoZSBzYW1lIHZlcnRpY2FsIGdyYWRpZW50IGVmZmVjdFxuICAgICAgICAgICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIG92ZXIgMiBsaW5lcyB3b3VsZCBjcmVhdGUgc3RvcHMgYXQgMC4xMjUsIDAuMjUsIDAuMzc1LCAwLjYyNSwgMC43NSwgMC44NzVcbiAgICAgICAgICAgIC8vIEFjdHVhbCBoZWlnaHQgb2YgdGhlIHRleHQgaXRzZWxmLCBub3QgY291bnRpbmcgc3BhY2luZyBmb3IgbGluZUhlaWdodC9sZWFkaW5nL2Ryb3BTaGFkb3cgZXRjXG4gICAgICAgICAgICB2YXIgdGV4dEhlaWdodCA9IG1ldHJpY3MuZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgICAgICAvLyB0ZXh0SGVpZ2h0LCBidXQgYXMgYSAwLTEgc2l6ZSBpbiBnbG9iYWwgZ3JhZGllbnQgc3RvcCBzcGFjZVxuICAgICAgICAgICAgdmFyIGdyYWRTdG9wTGluZUhlaWdodCA9IHRleHRIZWlnaHQgLyBoZWlnaHQ7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRoaXNMaW5lVG9wID0gbWV0cmljcy5saW5lSGVpZ2h0ICogaTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGZpbGwubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gMC0xIHN0b3AgcG9pbnQgZm9yIHRoZSBjdXJyZW50IGxpbmUsIG11bHRpcGxpZWQgdG8gZ2xvYmFsIHNwYWNlIGFmdGVyd2FyZHNcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmVTdG9wID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWxsR3JhZGllbnRTdG9wc1tqXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVTdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbal07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lU3RvcCA9IGogLyBmaWxsLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgZ2xvYmFsU3RvcCA9IE1hdGgubWluKDEsIE1hdGgubWF4KDAsICh0aGlzTGluZVRvcCAvIGhlaWdodCkgKyAobGluZVN0b3AgKiBncmFkU3RvcExpbmVIZWlnaHQpKSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlJ3MgcG90ZW50aWFsIGZvciBmbG9hdGluZyBwb2ludCBwcmVjaXNpb24gaXNzdWVzIGF0IHRoZSBzZWFtcyBiZXR3ZWVuIGdyYWRpZW50IHJlcGVhdHMuXG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbFN0b3AgPSBOdW1iZXIoZ2xvYmFsU3RvcC50b0ZpeGVkKDUpKTtcbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKGdsb2JhbFN0b3AsIGZpbGxbal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgY2VudGVyIGxlZnQgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgY2VudGVyIHJpZ2h0IG9mIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGdyYWRpZW50ID0gdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHBhZGRpbmcsIGhlaWdodCAvIDIsIHdpZHRoICsgcGFkZGluZywgaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICAvLyBjYW4ganVzdCBldmVubHkgc3BhY2Ugb3V0IHRoZSBncmFkaWVudHMgaW4gdGhpcyBjYXNlLCBhcyBtdWx0aXBsZSBsaW5lcyBtYWtlcyBubyBkaWZmZXJlbmNlXG4gICAgICAgICAgICAvLyB0byBhbiBldmVuIGxlZnQgdG8gcmlnaHQgZ3JhZGllbnRcbiAgICAgICAgICAgIHZhciB0b3RhbEl0ZXJhdGlvbnMgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgICAgICB2YXIgY3VycmVudEl0ZXJhdGlvbiA9IDE7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbGwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RvcCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2ldID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKHN0b3AsIGZpbGxbaV0pO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ3JhZGllbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHQgb2JqZWN0LlxuICAgICAqIE5vdGUqIFVubGlrZSBhIFNwcml0ZSwgYSBUZXh0IG9iamVjdCB3aWxsIGF1dG9tYXRpY2FsbHkgZGVzdHJveSBpdHMgYmFzZVRleHR1cmUgYW5kIHRleHR1cmUgYXNcbiAgICAgKiB0aGUgbWFqb3JpdHkgb2YgdGhlIHRpbWUgdGhlIHRleHR1cmUgd2lsbCBub3QgYmUgc2hhcmVkIHdpdGggYW55IG90aGVyIFNwcml0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyXG4gICAgICogIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPXRydWVdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPXRydWVdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IGNoaWxkcmVuOiBvcHRpb25zIH07XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHREZXN0cm95T3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICAvLyBzZXQgY2FudmFzIHdpZHRoIGFuZCBoZWlnaHQgdG8gMCB0byB3b3JrYXJvdW5kIG1lbW9yeSBsZWFrIGluIFNhZmFyaSA8IDEzXG4gICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzUyNTMyNjE0L3RvdGFsLWNhbnZhcy1tZW1vcnktdXNlLWV4Y2VlZHMtdGhlLW1heGltdW0tbGltaXQtc2FmYXJpLTEyXG4gICAgICAgIGlmICh0aGlzLl9vd25DYW52YXMpIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuY2FudmFzLndpZHRoID0gMDtcbiAgICAgICAgfVxuICAgICAgICAvLyBtYWtlIHN1cmUgdG8gcmVzZXQgdGhlIHRoZSBjb250ZXh0IGFuZCBjYW52YXMuLiBkb250IHdhbnQgdGhpcyBoYW5naW5nIGFyb3VuZCBpbiBtZW1vcnkhXG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3R5bGUgPSBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHQucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgVGV4dCwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS54KSAqIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgICAgIHZhciBzID0gc2lnbih0aGlzLnNjYWxlLngpIHx8IDE7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHQucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBUZXh0LCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLnkpICogdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgICAgIHZhciBzID0gc2lnbih0aGlzLnNjYWxlLnkpIHx8IDE7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dC5wcm90b3R5cGUsIFwic3R5bGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBzdHlsZSBvZiB0aGUgdGV4dC4gU2V0IHVwIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGxpc3RlbiBmb3IgY2hhbmdlcyBvbiB0aGUgc3R5bGVcbiAgICAgICAgICogb2JqZWN0IGFuZCBtYXJrIHRoZSB0ZXh0IGFzIGRpcnR5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R8UElYSS5UZXh0U3R5bGV9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IENhbid0IGhhdmUgZGlmZmVyZW50IHR5cGVzIGZvciBnZXR0ZXIgYW5kIHNldHRlci4gVGhlIGdldHRlciBzaG91bGRuJ3QgaGF2ZSB0aGUgSVRleHRTdHlsZVxuICAgICAgICAgICAgLy8gICAgICAgc2luY2UgdGhlIHNldHRlciBjcmVhdGVzIHRoZSBUZXh0U3R5bGUuIFNlZSB0aGlzIHRocmVhZCBmb3IgbW9yZSBkZXRhaWxzOlxuICAgICAgICAgICAgLy8gICAgICAgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNTIxXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3R5bGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHN0eWxlKSB7XG4gICAgICAgICAgICBzdHlsZSA9IHN0eWxlIHx8IHt9O1xuICAgICAgICAgICAgaWYgKHN0eWxlIGluc3RhbmNlb2YgVGV4dFN0eWxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlID0gbmV3IFRleHRTdHlsZShzdHlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxvY2FsU3R5bGVJRCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dC5wcm90b3R5cGUsIFwidGV4dFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIGNvcHkgZm9yIHRoZSB0ZXh0IG9iamVjdC4gVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgICAgICB0ZXh0ID0gU3RyaW5nKHRleHQgPT09IG51bGwgfHwgdGV4dCA9PT0gdW5kZWZpbmVkID8gJycgOiB0ZXh0KTtcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0ID09PSB0ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0LnByb3RvdHlwZSwgXCJyZXNvbHV0aW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBjYW52YXMuXG4gICAgICAgICAqIFRoaXMgaXMgc2V0IHRvIGF1dG9tYXRpY2FsbHkgbWF0Y2ggdGhlIHJlbmRlcmVyIHJlc29sdXRpb24gYnkgZGVmYXVsdCwgYnV0IGNhbiBiZSBvdmVycmlkZGVuIGJ5IHNldHRpbmcgbWFudWFsbHkuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVzb2x1dGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2F1dG9SZXNvbHV0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5fcmVzb2x1dGlvbiA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHV0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBUZXh0O1xufShTcHJpdGUpKTtcblxuZXhwb3J0IHsgVEVYVF9HUkFESUVOVCwgVGV4dCwgVGV4dE1ldHJpY3MsIFRleHRTdHlsZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGV4dC5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvc3ByaXRlIC0gdjYuMC4wXG4gKiBDb21waWxlZCBUdWUsIDAyIE1hciAyMDIxIDIxOjQ1OjAzIFVUQ1xuICpcbiAqIEBwaXhpL3Nwcml0ZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgUG9pbnQsIFJlY3RhbmdsZSwgT2JzZXJ2YWJsZVBvaW50IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IHNpZ24gfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG52YXIgdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG52YXIgaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheShbMCwgMSwgMiwgMCwgMiwgM10pO1xuLyoqXG4gKiBUaGUgU3ByaXRlIG9iamVjdCBpcyB0aGUgYmFzZSBmb3IgYWxsIHRleHR1cmVkIG9iamVjdHMgdGhhdCBhcmUgcmVuZGVyZWQgdG8gdGhlIHNjcmVlblxuKlxuICogQSBzcHJpdGUgY2FuIGJlIGNyZWF0ZWQgZGlyZWN0bHkgZnJvbSBhbiBpbWFnZSBsaWtlIHRoaXM6XG4gKlxuICogYGBganNcbiAqIGxldCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tKCdhc3NldHMvaW1hZ2UucG5nJyk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgbW9yZSBlZmZpY2llbnQgd2F5IHRvIGNyZWF0ZSBzcHJpdGVzIGlzIHVzaW5nIGEge0BsaW5rIFBJWEkuU3ByaXRlc2hlZXR9LFxuICogYXMgc3dhcHBpbmcgYmFzZSB0ZXh0dXJlcyB3aGVuIHJlbmRlcmluZyB0byB0aGUgc2NyZWVuIGlzIGluZWZmaWNpZW50LlxuICpcbiAqIGBgYGpzXG4gKiBQSVhJLkxvYWRlci5zaGFyZWQuYWRkKFwiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIikubG9hZChzZXR1cCk7XG4gKlxuICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gKiAgIGxldCBzaGVldCA9IFBJWEkuTG9hZGVyLnNoYXJlZC5yZXNvdXJjZXNbXCJhc3NldHMvc3ByaXRlc2hlZXQuanNvblwiXS5zcHJpdGVzaGVldDtcbiAqICAgbGV0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZShzaGVldC50ZXh0dXJlc1tcImltYWdlLnBuZ1wiXSk7XG4gKiAgIC4uLlxuICogfVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNwcml0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3ByaXRlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBbdGV4dHVyZV0gLSBUaGUgdGV4dHVyZSBmb3IgdGhpcyBzcHJpdGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3ByaXRlKHRleHR1cmUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmNob3IgcG9pbnQgZGVmaW5lcyB0aGUgbm9ybWFsaXplZCBjb29yZGluYXRlc1xuICAgICAgICAgKiBpbiB0aGUgdGV4dHVyZSB0aGF0IG1hcCB0byB0aGUgcG9zaXRpb24gb2YgdGhpc1xuICAgICAgICAgKiBzcHJpdGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEJ5IGRlZmF1bHQsIHRoaXMgaXMgYCgwLDApYCAob3IgYHRleHR1cmUuZGVmYXVsdEFuY2hvcmBcbiAgICAgICAgICogaWYgeW91IGhhdmUgbW9kaWZpZWQgdGhhdCksIHdoaWNoIG1lYW5zIHRoZSBwb3NpdGlvblxuICAgICAgICAgKiBgKHgseSlgIG9mIHRoaXMgYFNwcml0ZWAgd2lsbCBiZSB0aGUgdG9wLWxlZnQgY29ybmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBOb3RlOiBVcGRhdGluZyBgdGV4dHVyZS5kZWZhdWx0QW5jaG9yYCBhZnRlclxuICAgICAgICAgKiBjb25zdHJ1Y3RpbmcgYSBgU3ByaXRlYCBkb2VzIF9ub3RfIHVwZGF0ZSBpdHMgYW5jaG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kb2NzLmNvY29zMmQteC5vcmcvY29jb3MyZC14L2VuL3Nwcml0ZXMvbWFuaXB1bGF0aW9uLmh0bWx9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZWZhdWx0IGB0ZXh0dXJlLmRlZmF1bHRBbmNob3JgXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2FuY2hvciA9IG5ldyBPYnNlcnZhYmxlUG9pbnQoX3RoaXMuX29uQW5jaG9yVXBkYXRlLCBfdGhpcywgKHRleHR1cmUgPyB0ZXh0dXJlLmRlZmF1bHRBbmNob3IueCA6IDApLCAodGV4dHVyZSA/IHRleHR1cmUuZGVmYXVsdEFuY2hvci55IDogMCkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgc3ByaXRlIGlzIHVzaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0dXJlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgc3ByaXRlICh0aGlzIGlzIGluaXRpYWxseSBzZXQgYnkgdGhlIHRleHR1cmUpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3dpZHRoID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHNwcml0ZSAodGhpcyBpcyBpbml0aWFsbHkgc2V0IGJ5IHRoZSB0ZXh0dXJlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9oZWlnaHQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RpbnQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBUaGlzIGlzIGEgUkdCIHZhbHVlLiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxNjc3NzIxNVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RpbnRSR0IgPSBudWxsO1xuICAgICAgICBfdGhpcy50aW50ID0gMHhGRkZGRkY7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIEFwcGx5IGEgdmFsdWUgb2YgYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlZCB0aW50IHZhbHVlIHNvIHdlIGNhbiB0ZWxsIHdoZW4gdGhlIHRpbnQgaXMgY2hhbmdlZC5cbiAgICAgICAgICogVmFsdWUgaXMgdXNlZCBmb3IgMmQgQ2FudmFzUmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2NhY2hlZFRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoaXMgaXMgdXNlZCB0byBzdG9yZSB0aGUgdXZzIGRhdGEgb2YgdGhlIHNwcml0ZSwgYXNzaWduZWQgYXQgdGhlIHNhbWUgdGltZVxuICAgICAgICAgKiBhcyB0aGUgdmVydGV4RGF0YSBpbiBjYWxjdWxhdGVWZXJ0aWNlcygpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2cyA9IG51bGw7XG4gICAgICAgIC8vIGNhbGwgdGV4dHVyZSBzZXR0ZXJcbiAgICAgICAgX3RoaXMudGV4dHVyZSA9IHRleHR1cmUgfHwgVGV4dHVyZS5FTVBUWTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoaXMgaXMgdXNlZCB0byBzdG9yZSB0aGUgdmVydGV4IGRhdGEgb2YgdGhlIHNwcml0ZSAoYmFzaWNhbGx5IGEgcXVhZClcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBib3VuZHMgb2YgdGhlIG9iamVjdCBJRiBpdCBpcyBhIHRyaW1tZWQgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRleFRyaW1tZWREYXRhID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIF90aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgX3RoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9IC0xO1xuICAgICAgICBfdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuICAgICAgICAvLyBCYXRjaGFibGUgc3R1ZmYuLlxuICAgICAgICAvLyBUT0RPIGNvdWxkIG1ha2UgdGhpcyBhIG1peGluP1xuICAgICAgICBfdGhpcy5pbmRpY2VzID0gaW5kaWNlcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAgICAgKiBBbGxvd3MgdG8gY3VzdG9taXplIHRoZSByZW5kZXJpbmcgcHJvY2VzcyB3aXRob3V0IG92ZXJyaWRpbmcgJ19yZW5kZXInICYgJ19yZW5kZXJDYW52YXMnIG1ldGhvZHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ2JhdGNoJ1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGx1Z2luTmFtZSA9ICdiYXRjaCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1c2VkIHRvIGZhc3QgY2hlY2sgaWYgYSBzcHJpdGUgaXMuLiBhIHNwcml0ZSFcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmlzU3ByaXRlID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHJvdW5kUGl4ZWxzIGZpZWxkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcm91bmRQaXhlbHMgPSBzZXR0aW5ncy5ST1VORF9QSVhFTFM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgdGV4dHVyZSBpcyB1cGRhdGVkLCB0aGlzIGV2ZW50IHdpbGwgZmlyZSB0byB1cGRhdGUgdGhlIHNjYWxlIGFuZCBmcmFtZVxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuX29uVGV4dHVyZVVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuICAgICAgICAvLyBzbyBpZiBfd2lkdGggaXMgMCB0aGVuIHdpZHRoIHdhcyBub3Qgc2V0Li5cbiAgICAgICAgaWYgKHRoaXMuX3dpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSBzaWduKHRoaXMuc2NhbGUueCkgKiB0aGlzLl93aWR0aCAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSBzaWduKHRoaXMuc2NhbGUueSkgKiB0aGlzLl9oZWlnaHQgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgYW5jaG9yIHBvc2l0aW9uIHVwZGF0ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuX29uQW5jaG9yVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSAtMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZXMgd29ybGRUcmFuc2Zvcm0gKiB2ZXJ0aWNlcywgc3RvcmUgaXQgaW4gdmVydGV4RGF0YVxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuY2FsY3VsYXRlVmVydGljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybUlEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRCAmJiB0aGlzLl90ZXh0dXJlSUQgPT09IHRleHR1cmUuX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gdXBkYXRlIHRleHR1cmUgVVYgaGVyZSwgYmVjYXVzZSBiYXNlIHRleHR1cmUgY2FuIGJlIGNoYW5nZWQgd2l0aG91dCBjYWxsaW5nIGBfb25UZXh0dXJlVXBkYXRlYFxuICAgICAgICBpZiAodGhpcy5fdGV4dHVyZUlEICE9PSB0ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgdGhpcy51dnMgPSB0aGlzLl90ZXh0dXJlLl91dnMudXZzRmxvYXQzMjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0ZXh0dXJlLl91cGRhdGVJRDtcbiAgICAgICAgLy8gc2V0IHRoZSB2ZXJ0ZXggZGF0YVxuICAgICAgICB2YXIgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSB3dC5hO1xuICAgICAgICB2YXIgYiA9IHd0LmI7XG4gICAgICAgIHZhciBjID0gd3QuYztcbiAgICAgICAgdmFyIGQgPSB3dC5kO1xuICAgICAgICB2YXIgdHggPSB3dC50eDtcbiAgICAgICAgdmFyIHR5ID0gd3QudHk7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhEYXRhO1xuICAgICAgICB2YXIgdHJpbSA9IHRleHR1cmUudHJpbTtcbiAgICAgICAgdmFyIG9yaWcgPSB0ZXh0dXJlLm9yaWc7XG4gICAgICAgIHZhciBhbmNob3IgPSB0aGlzLl9hbmNob3I7XG4gICAgICAgIHZhciB3MCA9IDA7XG4gICAgICAgIHZhciB3MSA9IDA7XG4gICAgICAgIHZhciBoMCA9IDA7XG4gICAgICAgIHZhciBoMSA9IDA7XG4gICAgICAgIGlmICh0cmltKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWQgYW5kIGlzIG5vdCBhIHRpbGluZ3Nwcml0ZSB0aGVuIHdlIG5lZWQgdG8gYWRkIHRoZSBleHRyYVxuICAgICAgICAgICAgLy8gc3BhY2UgYmVmb3JlIHRyYW5zZm9ybWluZyB0aGUgc3ByaXRlIGNvb3Jkcy5cbiAgICAgICAgICAgIHcxID0gdHJpbS54IC0gKGFuY2hvci5feCAqIG9yaWcud2lkdGgpO1xuICAgICAgICAgICAgdzAgPSB3MSArIHRyaW0ud2lkdGg7XG4gICAgICAgICAgICBoMSA9IHRyaW0ueSAtIChhbmNob3IuX3kgKiBvcmlnLmhlaWdodCk7XG4gICAgICAgICAgICBoMCA9IGgxICsgdHJpbS5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3MSA9IC1hbmNob3IuX3ggKiBvcmlnLndpZHRoO1xuICAgICAgICAgICAgdzAgPSB3MSArIG9yaWcud2lkdGg7XG4gICAgICAgICAgICBoMSA9IC1hbmNob3IuX3kgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgICAgIGgwID0gaDEgKyBvcmlnLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzBdID0gKGEgKiB3MSkgKyAoYyAqIGgxKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzFdID0gKGQgKiBoMSkgKyAoYiAqIHcxKSArIHR5O1xuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzJdID0gKGEgKiB3MCkgKyAoYyAqIGgxKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzNdID0gKGQgKiBoMSkgKyAoYiAqIHcwKSArIHR5O1xuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzRdID0gKGEgKiB3MCkgKyAoYyAqIGgwKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzVdID0gKGQgKiBoMCkgKyAoYiAqIHcwKSArIHR5O1xuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzZdID0gKGEgKiB3MSkgKyAoYyAqIGgwKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzddID0gKGQgKiBoMCkgKyAoYiAqIHcxKSArIHR5O1xuICAgICAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMpIHtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gc2V0dGluZ3MuUkVTT0xVVElPTjtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGV4RGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZlcnRleERhdGFbaV0gPSBNYXRoLnJvdW5kKCh2ZXJ0ZXhEYXRhW2ldICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZXMgd29ybGRUcmFuc2Zvcm0gKiB2ZXJ0aWNlcyBmb3IgYSBub24gdGV4dHVyZSB3aXRoIGEgdHJpbS4gc3RvcmUgaXQgaW4gdmVydGV4VHJpbW1lZERhdGFcbiAgICAgKiBUaGlzIGlzIHVzZWQgdG8gZW5zdXJlIHRoYXQgdGhlIHRydWUgd2lkdGggYW5kIGhlaWdodCBvZiBhIHRyaW1tZWQgdGV4dHVyZSBpcyByZXNwZWN0ZWRcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLmNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZlcnRleFRyaW1tZWREYXRhKSB7XG4gICAgICAgICAgICB0aGlzLnZlcnRleFRyaW1tZWREYXRhID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPT09IHRoaXMudHJhbnNmb3JtLl93b3JsZElEICYmIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPT09IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRDtcbiAgICAgICAgLy8gbGV0cyBkbyBzb21lIHNwZWNpYWwgdHJpbSBjb2RlIVxuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YTtcbiAgICAgICAgdmFyIG9yaWcgPSB0ZXh0dXJlLm9yaWc7XG4gICAgICAgIHZhciBhbmNob3IgPSB0aGlzLl9hbmNob3I7XG4gICAgICAgIC8vIGxldHMgY2FsY3VsYXRlIHRoZSBuZXcgdW50cmltbWVkIGJvdW5kcy4uXG4gICAgICAgIHZhciB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgYSA9IHd0LmE7XG4gICAgICAgIHZhciBiID0gd3QuYjtcbiAgICAgICAgdmFyIGMgPSB3dC5jO1xuICAgICAgICB2YXIgZCA9IHd0LmQ7XG4gICAgICAgIHZhciB0eCA9IHd0LnR4O1xuICAgICAgICB2YXIgdHkgPSB3dC50eTtcbiAgICAgICAgdmFyIHcxID0gLWFuY2hvci5feCAqIG9yaWcud2lkdGg7XG4gICAgICAgIHZhciB3MCA9IHcxICsgb3JpZy53aWR0aDtcbiAgICAgICAgdmFyIGgxID0gLWFuY2hvci5feSAqIG9yaWcuaGVpZ2h0O1xuICAgICAgICB2YXIgaDAgPSBoMSArIG9yaWcuaGVpZ2h0O1xuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzBdID0gKGEgKiB3MSkgKyAoYyAqIGgxKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzFdID0gKGQgKiBoMSkgKyAoYiAqIHcxKSArIHR5O1xuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzJdID0gKGEgKiB3MCkgKyAoYyAqIGgxKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzNdID0gKGQgKiBoMSkgKyAoYiAqIHcwKSArIHR5O1xuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzRdID0gKGEgKiB3MCkgKyAoYyAqIGgwKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzVdID0gKGQgKiBoMCkgKyAoYiAqIHcwKSArIHR5O1xuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzZdID0gKGEgKiB3MSkgKyAoYyAqIGgwKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzddID0gKGQgKiBoMCkgKyAoYiAqIHcxKSArIHR5O1xuICAgIH07XG4gICAgLyoqXG4gICAgKlxuICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICpcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgd2ViZ2wgcmVuZGVyZXIgdG8gdXNlLlxuICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgc3ByaXRlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRyaW0gPSB0aGlzLl90ZXh0dXJlLnRyaW07XG4gICAgICAgIHZhciBvcmlnID0gdGhpcy5fdGV4dHVyZS5vcmlnO1xuICAgICAgICAvLyBGaXJzdCBsZXRzIGNoZWNrIHRvIHNlZSBpZiB0aGUgY3VycmVudCB0ZXh0dXJlIGhhcyBhIHRyaW0uLlxuICAgICAgICBpZiAoIXRyaW0gfHwgKHRyaW0ud2lkdGggPT09IG9yaWcud2lkdGggJiYgdHJpbS5oZWlnaHQgPT09IG9yaWcuaGVpZ2h0KSkge1xuICAgICAgICAgICAgLy8gbm8gdHJpbSEgbGV0cyB1c2UgdGhlIHVzdWFsIGNhbGN1bGF0aW9ucy4uXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleERhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gbGV0cyBjYWxjdWxhdGUgYSBzcGVjaWFsIHRyaW1tZWQgYm91bmRzLi4uXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcygpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgc3ByaXRlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWN0XSAtIE9wdGlvbmFsIG91dHB1dCByZWN0YW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSBib3VuZHMuXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIChyZWN0KSB7XG4gICAgICAgIC8vIHdlIGNhbiBkbyBhIGZhc3QgbG9jYWwgYm91bmRzIGlmIHRoZSBzcHJpdGUgaGFzIG5vIGNoaWxkcmVuIVxuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5YID0gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5ZID0gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aCAqICgxIC0gdGhpcy5fYW5jaG9yLl94KTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhZID0gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcbiAgICAgICAgICAgIGlmICghcmVjdCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2xvY2FsQm91bmRzUmVjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIHNwcml0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHBvaW50IC0gdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0aGUgcmVzdWx0IG9mIHRoZSB0ZXN0XG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB2YXIgeDEgPSAtd2lkdGggKiB0aGlzLmFuY2hvci54O1xuICAgICAgICB2YXIgeTEgPSAwO1xuICAgICAgICBpZiAodGVtcFBvaW50LnggPj0geDEgJiYgdGVtcFBvaW50LnggPCB4MSArIHdpZHRoKSB7XG4gICAgICAgICAgICB5MSA9IC1oZWlnaHQgKiB0aGlzLmFuY2hvci55O1xuICAgICAgICAgICAgaWYgKHRlbXBQb2ludC55ID49IHkxICYmIHRlbXBQb2ludC55IDwgeTEgKyBoZWlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHNwcml0ZSBhbmQgb3B0aW9uYWxseSBpdHMgdGV4dHVyZSBhbmQgY2hpbGRyZW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl90ZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy5fb25UZXh0dXJlVXBkYXRlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5fYW5jaG9yID0gbnVsbDtcbiAgICAgICAgdmFyIGRlc3Ryb3lUZXh0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMudGV4dHVyZTtcbiAgICAgICAgaWYgKGRlc3Ryb3lUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgZGVzdHJveUJhc2VUZXh0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlLmRlc3Ryb3koISFkZXN0cm95QmFzZVRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSBudWxsO1xuICAgIH07XG4gICAgLy8gc29tZSBoZWxwZXIgZnVuY3Rpb25zLi5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IHNwcml0ZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8UElYSS5UZXh0dXJlfEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSAtIFNvdXJjZSB0byBjcmVhdGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX0gVGhlIG5ld2x5IGNyZWF0ZWQgc3ByaXRlXG4gICAgICovXG4gICAgU3ByaXRlLmZyb20gPSBmdW5jdGlvbiAoc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gKHNvdXJjZSBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAgICAgICAgICA/IHNvdXJjZVxuICAgICAgICAgICAgOiBUZXh0dXJlLmZyb20oc291cmNlLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIG5ldyBTcHJpdGUodGV4dHVyZSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3ByaXRlLnByb3RvdHlwZSwgXCJyb3VuZFBpeGVsc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JvdW5kUGl4ZWxzO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAgICAgKiBUbyBzZXQgdGhlIGdsb2JhbCBkZWZhdWx0LCBjaGFuZ2Uge0BsaW5rIFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscyAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcm91bmRQaXhlbHMgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGUucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgc3ByaXRlLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLngpICogdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHMgPSBzaWduKHRoaXMuc2NhbGUueCkgfHwgMTtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3ByaXRlLnByb3RvdHlwZSwgXCJoZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgc3ByaXRlLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLnkpICogdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBzID0gc2lnbih0aGlzLnNjYWxlLnkpIHx8IDE7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3ByaXRlLnByb3RvdHlwZSwgXCJhbmNob3JcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFuY2hvciBzZXRzIHRoZSBvcmlnaW4gcG9pbnQgb2YgdGhlIHNwcml0ZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgdGFrZW4gZnJvbSB0aGUge0BsaW5rIFBJWEkuVGV4dHVyZXxUZXh0dXJlfVxuICAgICAgICAgKiBhbmQgcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGRlZmF1bHQgaXMgYCgwLDApYCwgdGhpcyBtZWFucyB0aGUgc3ByaXRlJ3Mgb3JpZ2luIGlzIHRoZSB0b3AgbGVmdC5cbiAgICAgICAgICpcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMC41LDAuNSlgIG1lYW5zIHRoZSBzcHJpdGUncyBvcmlnaW4gaXMgY2VudGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byBgKDEsMSlgIHdvdWxkIG1lYW4gdGhlIHNwcml0ZSdzIG9yaWdpbiBwb2ludCB3aWxsIGJlIHRoZSBib3R0b20gcmlnaHQgY29ybmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiB5b3UgcGFzcyBvbmx5IHNpbmdsZSBwYXJhbWV0ZXIsIGl0IHdpbGwgc2V0IGJvdGggeCBhbmQgeSB0byB0aGUgc2FtZSB2YWx1ZSBhcyBzaG93biBpbiB0aGUgZXhhbXBsZSBiZWxvdy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAgICAgKiBzcHJpdGUuYW5jaG9yLnNldCgwLjUpOyAvLyBUaGlzIHdpbGwgc2V0IHRoZSBvcmlnaW4gdG8gY2VudGVyLiAoMC41KSBpcyBzYW1lIGFzICgwLjUsIDAuNSkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fYW5jaG9yLmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGUucHJvdG90eXBlLCBcInRpbnRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBUaGlzIGlzIGEgaGV4IHZhbHVlLlxuICAgICAgICAgKiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3RpbnRSR0IgPSAodmFsdWUgPj4gMTYpICsgKHZhbHVlICYgMHhmZjAwKSArICgodmFsdWUgJiAweGZmKSA8PCAxNik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3ByaXRlLnByb3RvdHlwZSwgXCJ0ZXh0dXJlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIHRoYXQgdGhlIHNwcml0ZSBpcyB1c2luZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHR1cmUgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy5fb25UZXh0dXJlVXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUgPSB2YWx1ZSB8fCBUZXh0dXJlLkVNUFRZO1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyB3YWl0IGZvciB0aGUgdGV4dHVyZSB0byBsb2FkXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmJhc2VUZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUub25jZSgndXBkYXRlJywgdGhpcy5fb25UZXh0dXJlVXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gU3ByaXRlO1xufShDb250YWluZXIpKTtcblxuZXhwb3J0IHsgU3ByaXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcHJpdGUuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3ByZXBhcmUgLSB2Ni4wLjBcbiAqIENvbXBpbGVkIFR1ZSwgMDIgTWFyIDIwMjEgMjE6NDU6MDMgVVRDXG4gKlxuICogQHBpeGkvcHJlcGFyZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgVGV4dHVyZSwgQmFzZVRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IEdyYXBoaWNzIH0gZnJvbSAnQHBpeGkvZ3JhcGhpY3MnO1xuaW1wb3J0IHsgVGlja2VyLCBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBUZXh0LCBUZXh0U3R5bGUsIFRleHRNZXRyaWNzIH0gZnJvbSAnQHBpeGkvdGV4dCc7XG5cbi8qKlxuICogRGVmYXVsdCBudW1iZXIgb2YgdXBsb2FkcyBwZXIgZnJhbWUgdXNpbmcgcHJlcGFyZSBwbHVnaW4uXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEBuYW1lIFVQTE9BRFNfUEVSX0ZSQU1FXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgNFxuICovXG5zZXR0aW5ncy5VUExPQURTX1BFUl9GUkFNRSA9IDQ7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIENvdW50TGltaXRlciBsaW1pdHMgdGhlIG51bWJlciBvZiBpdGVtcyBoYW5kbGVkIGJ5IGEge0BsaW5rIFBJWEkuQmFzZVByZXBhcmV9IHRvIGEgc3BlY2lmaWVkXG4gKiBudW1iZXIgb2YgaXRlbXMgcGVyIGZyYW1lLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENvdW50TGltaXRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4SXRlbXNQZXJGcmFtZSAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiBpdGVtcyB0aGF0IGNhbiBiZSBwcmVwYXJlZCBlYWNoIGZyYW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvdW50TGltaXRlcihtYXhJdGVtc1BlckZyYW1lKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgZWFjaCBmcmFtZS5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4SXRlbXNQZXJGcmFtZSA9IG1heEl0ZW1zUGVyRnJhbWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIHByZXBhcmVkIGluIHRoZSBjdXJyZW50IGZyYW1lLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pdGVtc0xlZnQgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldHMgYW55IGNvdW50aW5nIHByb3BlcnRpZXMgdG8gc3RhcnQgZnJlc2ggb24gYSBuZXcgZnJhbWUuXG4gICAgICovXG4gICAgQ291bnRMaW1pdGVyLnByb3RvdHlwZS5iZWdpbkZyYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLml0ZW1zTGVmdCA9IHRoaXMubWF4SXRlbXNQZXJGcmFtZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgaWYgYW5vdGhlciBpdGVtIGNhbiBiZSB1cGxvYWRlZC4gVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWQgb25jZSBwZXIgaXRlbS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgaXRlbSBpcyBhbGxvd2VkIHRvIGJlIHVwbG9hZGVkLlxuICAgICAqL1xuICAgIENvdW50TGltaXRlci5wcm90b3R5cGUuYWxsb3dlZFRvVXBsb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVtc0xlZnQtLSA+IDA7XG4gICAgfTtcbiAgICByZXR1cm4gQ291bnRMaW1pdGVyO1xufSgpKTtcblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgbXVsdGlwbGUgdGV4dHVyZXMgZnJvbSBvYmplY3RzIGxpa2UgQW5pbWF0ZWRTcHJpdGVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMoaXRlbSwgcXVldWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XG4gICAgLy8gT2JqZWN0cyB3aXRoIG11bHRpcGxlIHRleHR1cmVzXG4gICAgaWYgKGl0ZW0gJiYgaXRlbS5fdGV4dHVyZXMgJiYgaXRlbS5fdGV4dHVyZXMubGVuZ3RoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbS5fdGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpdGVtLl90ZXh0dXJlc1tpXSBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBpdGVtLl90ZXh0dXJlc1tpXS5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgICAgICBpZiAocXVldWUuaW5kZXhPZihiYXNlVGV4dHVyZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goYmFzZVRleHR1cmUpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgQmFzZVRleHR1cmVzIGZyb20gVGV4dHVyZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHR1cmUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZEJhc2VUZXh0dXJlKGl0ZW0sIHF1ZXVlKSB7XG4gICAgaWYgKGl0ZW0uYmFzZVRleHR1cmUgaW5zdGFuY2VvZiBCYXNlVGV4dHVyZSkge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IGl0ZW0uYmFzZVRleHR1cmU7XG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKHRleHR1cmUpID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgdGV4dHVyZXMgZnJvbSBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kVGV4dHVyZShpdGVtLCBxdWV1ZSkge1xuICAgIGlmIChpdGVtLl90ZXh0dXJlICYmIGl0ZW0uX3RleHR1cmUgaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gaXRlbS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YodGV4dHVyZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZHJhdyBQSVhJLlRleHQgdG8gaXRzIHRleHR1cmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5BYnN0cmFjdFJlbmRlcmVyfFBJWEkuQmFzZVByZXBhcmV9IGhlbHBlciAtIE5vdCB1c2VkIGJ5IHRoaXMgdXBsb2FkIGhhbmRsZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIGRyYXdUZXh0KF9oZWxwZXIsIGl0ZW0pIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRleHQpIHtcbiAgICAgICAgLy8gdXBkYXRpbmcgdGV4dCB3aWxsIHJldHVybiBlYXJseSBpZiBpdCBpcyBub3QgZGlydHlcbiAgICAgICAgaXRlbS51cGRhdGVUZXh0KHRydWUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGNhbGN1bGF0ZSBhIHRleHQgc3R5bGUgZm9yIGEgUElYSS5UZXh0IG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ8UElYSS5CYXNlUHJlcGFyZX0gaGVscGVyIC0gTm90IHVzZWQgYnkgdGhpcyB1cGxvYWQgaGFuZGxlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlVGV4dFN0eWxlKF9oZWxwZXIsIGl0ZW0pIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRleHRTdHlsZSkge1xuICAgICAgICB2YXIgZm9udCA9IGl0ZW0udG9Gb250U3RyaW5nKCk7XG4gICAgICAgIFRleHRNZXRyaWNzLm1lYXN1cmVGb250KGZvbnQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgVGV4dCBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dCBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kVGV4dChpdGVtLCBxdWV1ZSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dCkge1xuICAgICAgICAvLyBwdXNoIHRoZSB0ZXh0IHN0eWxlIHRvIHByZXBhcmUgaXQgLSB0aGlzIGNhbiBiZSByZWFsbHkgZXhwZW5zaXZlXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0uc3R5bGUpID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtLnN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHNvIHB1c2ggdGhlIHRleHQgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIHJlbmRlciBpdCAodG8gY2FudmFzL3RleHR1cmUpIGlmIG5lZWRlZFxuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWxzbyBwdXNoIHRoZSBUZXh0J3MgdGV4dHVyZSBmb3IgdXBsb2FkIHRvIEdQVVxuICAgICAgICB2YXIgdGV4dHVyZSA9IGl0ZW0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKHRleHR1cmUpID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgVGV4dFN0eWxlIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHRTdHlsZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kVGV4dFN0eWxlKGl0ZW0sIHF1ZXVlKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUZXh0U3R5bGUpIHtcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoaXRlbSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIFRoZSBwcmVwYXJlIG1hbmFnZXIgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byB1cGxvYWQgY29udGVudCB0byB0aGUgR1BVLlxuICpcbiAqIEJhc2VQcmVwYXJlIGhhbmRsZXMgYmFzaWMgcXVldWluZyBmdW5jdGlvbmFsaXR5IGFuZCBpcyBleHRlbmRlZCBieVxuICoge0BsaW5rIFBJWEkuUHJlcGFyZX0gYW5kIHtAbGluayBQSVhJLkNhbnZhc1ByZXBhcmV9XG4gKiB0byBwcm92aWRlIHByZXBhcmF0aW9uIGNhcGFiaWxpdGllcyBzcGVjaWZpYyB0byB0aGVpciByZXNwZWN0aXZlIHJlbmRlcmVycy5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIGEgc3ByaXRlXG4gKiBjb25zdCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tKCdzb21ldGhpbmcucG5nJyk7XG4gKlxuICogLy8gTG9hZCBvYmplY3QgaW50byBHUFVcbiAqIGFwcC5yZW5kZXJlci5wbHVnaW5zLnByZXBhcmUudXBsb2FkKHNwcml0ZSwgKCkgPT4ge1xuICpcbiAqICAgICAvL1RleHR1cmUocykgaGFzIGJlZW4gdXBsb2FkZWQgdG8gR1BVXG4gKiAgICAgYXBwLnN0YWdlLmFkZENoaWxkKHNwcml0ZSk7XG4gKlxuICogfSlcbiAqXG4gKiBAYWJzdHJhY3RcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhc2VQcmVwYXJlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5BYnN0cmFjdFJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmFzZVByZXBhcmUocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsaW1pdGVyIHRvIGJlIHVzZWQgdG8gY29udHJvbCBob3cgcXVpY2tseSBpdGVtcyBhcmUgcHJlcGFyZWQuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkNvdW50TGltaXRlcnxQSVhJLlRpbWVMaW1pdGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW1pdGVyID0gbmV3IENvdW50TGltaXRlcihzZXR0aW5ncy5VUExPQURTX1BFUl9GUkFNRSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHJlbmRlcmVyLlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5BYnN0cmFjdFJlbmRlcmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb25seSByZWFsIGRpZmZlcmVuY2UgYmV0d2VlbiBDYW52YXNQcmVwYXJlIGFuZCBQcmVwYXJlIGlzIHdoYXQgdGhleSBwYXNzXG4gICAgICAgICAqIHRvIHVwbG9hZCBob29rcy4gVGhhdCBkaWZmZXJlbnQgcGFyYW1ldGVyIGlzIHN0b3JlZCBoZXJlLlxuICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRzIGF0IG9uY2UuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgYWRkaXRpb25hbCBob29rcyBmb3IgZmluZGluZyBhc3NldHMuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFkZEhvb2tzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGFkZGl0aW9uYWwgaG9va3MgZm9yIHByb2Nlc3NpbmcgYXNzZXRzLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8RnVuY3Rpb24+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cGxvYWRIb29rcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGJhY2sgdG8gY2FsbCBhZnRlciBjb21wbGV0ZWQuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbXBsZXRlcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgcHJlcGFyZSBpcyB0aWNraW5nIChydW5uaW5nKS5cbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqICdib3VuZCcgY2FsbCBmb3IgcHJlcGFyZUl0ZW1zKCkuXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVsYXllZFRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyB1bmxpa2VseSwgYnV0IGluIGNhc2Ugd2Ugd2VyZSBkZXN0cm95ZWQgYmV0d2VlbiB0aWNrKCkgYW5kIGRlbGF5ZWRUaWNrKClcbiAgICAgICAgICAgIGlmICghX3RoaXMucXVldWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5wcmVwYXJlSXRlbXMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gaG9va3MgdG8gZmluZCB0aGUgY29ycmVjdCB0ZXh0dXJlXG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dFN0eWxlKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRNdWx0aXBsZUJhc2VUZXh0dXJlcyk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kQmFzZVRleHR1cmUpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZFRleHR1cmUpO1xuICAgICAgICAvLyB1cGxvYWQgaG9va3NcbiAgICAgICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2soZHJhd1RleHQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayhjYWxjdWxhdGVUZXh0U3R5bGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgYWxsIHRoZSB0ZXh0dXJlcyBhbmQgZ3JhcGhpY3MgdG8gdGhlIEdQVS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuQ29udGFpbmVyfFBJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfFBJWEkuR3JhcGhpY3N8UElYSS5UZXh0fSBpdGVtIC1cbiAgICAgKiAgICAgICAgRWl0aGVyIHRoZSBjb250YWluZXIgb3IgZGlzcGxheSBvYmplY3QgdG8gc2VhcmNoIGZvciBpdGVtcyB0byB1cGxvYWQsIHRoZSBpdGVtcyB0byB1cGxvYWQgdGhlbXNlbHZlcyxcbiAgICAgKiAgICAgICAgb3IgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLCBpZiBpdGVtcyBoYXZlIGJlZW4gYWRkZWQgdXNpbmcgYHByZXBhcmUuYWRkYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZG9uZV0gLSBPcHRpb25hbCBjYWxsYmFjayB3aGVuIGFsbCBxdWV1ZWQgdXBsb2FkcyBoYXZlIGNvbXBsZXRlZFxuICAgICAqL1xuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiAoaXRlbSwgZG9uZSkge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGRvbmUgPSBpdGVtO1xuICAgICAgICAgICAgaXRlbSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgYSBkaXNwbGF5IG9iamVjdCwgc2VhcmNoIGZvciBpdGVtc1xuICAgICAgICAvLyB0aGF0IHdlIGNvdWxkIHVwbG9hZFxuICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgdGhpcy5hZGQoaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2V0IHRoZSBpdGVtcyBmb3IgdXBsb2FkIGZyb20gdGhlIGRpc3BsYXlcbiAgICAgICAgaWYgKHRoaXMucXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGVzLnB1c2goZG9uZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMudGlja2luZykge1xuICAgICAgICAgICAgICAgIHRoaXMudGlja2luZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgVGlja2VyLnN5c3RlbS5hZGRPbmNlKHRoaXMudGljaywgdGhpcywgVVBEQVRFX1BSSU9SSVRZLlVUSUxJVFkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRpY2sgdXBkYXRlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzZXRUaW1lb3V0KHRoaXMuZGVsYXllZFRpY2ssIDApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWN0dWFsbHkgcHJlcGFyZSBpdGVtcy4gVGhpcyBpcyBoYW5kbGVkIG91dHNpZGUgb2YgdGhlIHRpY2sgYmVjYXVzZSBpdCB3aWxsIHRha2UgYSB3aGlsZVxuICAgICAqIGFuZCB3ZSBkbyBOT1Qgd2FudCB0byBibG9jayB0aGUgY3VycmVudCBhbmltYXRpb24gZnJhbWUgZnJvbSByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS5wcmVwYXJlSXRlbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubGltaXRlci5iZWdpbkZyYW1lKCk7XG4gICAgICAgIC8vIFVwbG9hZCB0aGUgZ3JhcGhpY3NcbiAgICAgICAgd2hpbGUgKHRoaXMucXVldWUubGVuZ3RoICYmIHRoaXMubGltaXRlci5hbGxvd2VkVG9VcGxvYWQoKSkge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLnF1ZXVlWzBdO1xuICAgICAgICAgICAgdmFyIHVwbG9hZGVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoaXRlbSAmJiAhaXRlbS5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMudXBsb2FkSG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXBsb2FkSG9va3NbaV0odGhpcy51cGxvYWRIb29rSGVscGVyLCBpdGVtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXVwbG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFdlJ3JlIGZpbmlzaGVkXG4gICAgICAgIGlmICghdGhpcy5xdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGNvbXBsZXRlcyA9IHRoaXMuY29tcGxldGVzLnNsaWNlKDApO1xuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjb21wbGV0ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZXNbaV0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBub3QgZmluaXNoZWQsIG9uIHRoZSBuZXh0IHJBRiBkbyB0aGlzIGFnYWluXG4gICAgICAgICAgICBUaWNrZXIuc3lzdGVtLmFkZE9uY2UodGhpcy50aWNrLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuVVRJTElUWSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgaG9va3MgZm9yIGZpbmRpbmcgaXRlbXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhZGRIb29rIC0gRnVuY3Rpb24gY2FsbCB0aGF0IHRha2VzIHR3byBwYXJhbWV0ZXJzOiBgaXRlbToqLCBxdWV1ZTpBcnJheWBcbiAgICAgKiAgICAgICAgICBmdW5jdGlvbiBtdXN0IHJldHVybiBgdHJ1ZWAgaWYgaXQgd2FzIGFibGUgdG8gYWRkIGl0ZW0gdG8gdGhlIHF1ZXVlLlxuICAgICAqIEByZXR1cm4ge3RoaXN9IEluc3RhbmNlIG9mIHBsdWdpbiBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLnJlZ2lzdGVyRmluZEhvb2sgPSBmdW5jdGlvbiAoYWRkSG9vaykge1xuICAgICAgICBpZiAoYWRkSG9vaykge1xuICAgICAgICAgICAgdGhpcy5hZGRIb29rcy5wdXNoKGFkZEhvb2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBob29rcyBmb3IgdXBsb2FkaW5nIGl0ZW1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBsb2FkSG9vayAtIEZ1bmN0aW9uIGNhbGwgdGhhdCB0YWtlcyB0d28gcGFyYW1ldGVyczogYHByZXBhcmU6Q2FudmFzUHJlcGFyZSwgaXRlbToqYCBhbmRcbiAgICAgKiAgICAgICAgICBmdW5jdGlvbiBtdXN0IHJldHVybiBgdHJ1ZWAgaWYgaXQgd2FzIGFibGUgdG8gaGFuZGxlIHVwbG9hZCBvZiBpdGVtLlxuICAgICAqIEByZXR1cm4ge3RoaXN9IEluc3RhbmNlIG9mIHBsdWdpbiBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLnJlZ2lzdGVyVXBsb2FkSG9vayA9IGZ1bmN0aW9uICh1cGxvYWRIb29rKSB7XG4gICAgICAgIGlmICh1cGxvYWRIb29rKSB7XG4gICAgICAgICAgICB0aGlzLnVwbG9hZEhvb2tzLnB1c2godXBsb2FkSG9vayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYW51YWxseSBhZGQgYW4gaXRlbSB0byB0aGUgdXBsb2FkaW5nIHF1ZXVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5Db250YWluZXJ8UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV8UElYSS5HcmFwaGljc3xQSVhJLlRleHR8Kn0gaXRlbSAtIE9iamVjdCB0b1xuICAgICAqICAgICAgICBhZGQgdG8gdGhlIHF1ZXVlXG4gICAgICogQHJldHVybiB7dGhpc30gSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgLy8gQWRkIGFkZGl0aW9uYWwgaG9va3MgZm9yIGZpbmRpbmcgZWxlbWVudHMgb24gc3BlY2lhbFxuICAgICAgICAvLyB0eXBlcyBvZiBvYmplY3RzIHRoYXRcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuYWRkSG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFkZEhvb2tzW2ldKGl0ZW0sIHRoaXMucXVldWUpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2V0IGNoaWxkcmVuIHJlY3Vyc2l2ZWx5XG4gICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gaXRlbS5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKGl0ZW0uY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIHBsdWdpbiwgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICpcbiAgICAgKi9cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudGlja2luZykge1xuICAgICAgICAgICAgVGlja2VyLnN5c3RlbS5yZW1vdmUodGhpcy50aWNrLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hZGRIb29rcyA9IG51bGw7XG4gICAgICAgIHRoaXMudXBsb2FkSG9va3MgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb21wbGV0ZXMgPSBudWxsO1xuICAgICAgICB0aGlzLnF1ZXVlID0gbnVsbDtcbiAgICAgICAgdGhpcy5saW1pdGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy51cGxvYWRIb29rSGVscGVyID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlUHJlcGFyZTtcbn0oKSk7XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byB1cGxvYWQgUElYSS5UZXh0dXJlIG9iamVjdHMgdG8gdGhlIEdQVS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIGluc3RhbmNlIG9mIHRoZSB3ZWJnbCByZW5kZXJlclxuICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIHVwbG9hZEJhc2VUZXh0dXJlcyhyZW5kZXJlciwgaXRlbSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgQmFzZVRleHR1cmUpIHtcbiAgICAgICAgLy8gaWYgdGhlIHRleHR1cmUgYWxyZWFkeSBoYXMgYSBHTCB0ZXh0dXJlLCB0aGVuIHRoZSB0ZXh0dXJlIGhhcyBiZWVuIHByZXBhcmVkIG9yIHJlbmRlcmVkXG4gICAgICAgIC8vIGJlZm9yZSBub3cuIElmIHRoZSB0ZXh0dXJlIGNoYW5nZWQsIHRoZW4gdGhlIGNoYW5nZXIgc2hvdWxkIGJlIGNhbGxpbmcgdGV4dHVyZS51cGRhdGUoKSB3aGljaFxuICAgICAgICAvLyByZXVwbG9hZHMgdGhlIHRleHR1cmUgd2l0aG91dCBuZWVkIGZvciBwcmVwYXJpbmcgaXQgYWdhaW5cbiAgICAgICAgaWYgKCFpdGVtLl9nbFRleHR1cmVzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXSkge1xuICAgICAgICAgICAgcmVuZGVyZXIudGV4dHVyZS5iaW5kKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gdXBsb2FkIFBJWEkuR3JhcGhpY3MgdG8gdGhlIEdQVS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIGluc3RhbmNlIG9mIHRoZSB3ZWJnbCByZW5kZXJlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gdXBsb2FkR3JhcGhpY3MocmVuZGVyZXIsIGl0ZW0pIHtcbiAgICBpZiAoIShpdGVtIGluc3RhbmNlb2YgR3JhcGhpY3MpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGdlb21ldHJ5ID0gaXRlbS5nZW9tZXRyeTtcbiAgICAvLyB1cGRhdGUgZGlydHkgZ3JhcGhpY3MgdG8gZ2V0IGJhdGNoZXNcbiAgICBpdGVtLmZpbmlzaFBvbHkoKTtcbiAgICBnZW9tZXRyeS51cGRhdGVCYXRjaGVzKCk7XG4gICAgdmFyIGJhdGNoZXMgPSBnZW9tZXRyeS5iYXRjaGVzO1xuICAgIC8vIHVwbG9hZCBhbGwgdGV4dHVyZXMgZm91bmQgaW4gc3R5bGVzXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gYmF0Y2hlc1tpXS5zdHlsZS50ZXh0dXJlO1xuICAgICAgICBpZiAodGV4dHVyZSkge1xuICAgICAgICAgICAgdXBsb2FkQmFzZVRleHR1cmVzKHJlbmRlcmVyLCB0ZXh0dXJlLmJhc2VUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBpZiBpdHMgbm90IGJhdGNoYWJsZSAtIHVwZGF0ZSB2YW8gZm9yIHBhcnRpY3VsYXIgc2hhZGVyXG4gICAgaWYgKCFnZW9tZXRyeS5iYXRjaGFibGUpIHtcbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZChnZW9tZXRyeSwgaXRlbS5fcmVzb2x2ZURpcmVjdFNoYWRlcihyZW5kZXJlcikpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIGdyYXBoaWNzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuR3JhcGhpY3Mgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZEdyYXBoaWNzKGl0ZW0sIHF1ZXVlKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBHcmFwaGljcykge1xuICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBUaGUgcHJlcGFyZSBwbHVnaW4gcHJvdmlkZXMgcmVuZGVyZXItc3BlY2lmaWMgcGx1Z2lucyBmb3IgcHJlLXJlbmRlcmluZyBEaXNwbGF5T2JqZWN0cy4gVGhlc2UgcGx1Z2lucyBhcmUgdXNlZnVsIGZvclxuICogYXN5bmNocm9ub3VzbHkgcHJlcGFyaW5nIGFuZCB1cGxvYWRpbmcgdG8gdGhlIEdQVSBhc3NldHMsIHRleHR1cmVzLCBncmFwaGljcyB3YWl0aW5nIHRvIGJlIGRpc3BsYXllZC5cbiAqXG4gKiBEbyBub3QgaW5zdGFudGlhdGUgdGhpcyBwbHVnaW4gZGlyZWN0bHkuIEl0IGlzIGF2YWlsYWJsZSBmcm9tIHRoZSBgcmVuZGVyZXIucGx1Z2luc2AgcHJvcGVydHkuXG4gKiBTZWUge0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXIjcGx1Z2luc30gb3Ige0BsaW5rIFBJWEkuUmVuZGVyZXIjcGx1Z2luc30uXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIGEgbmV3IGFwcGxpY2F0aW9uXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbigpO1xuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhcHAudmlldyk7XG4gKlxuICogLy8gRG9uJ3Qgc3RhcnQgcmVuZGVyaW5nIHJpZ2h0IGF3YXlcbiAqIGFwcC5zdG9wKCk7XG4gKlxuICogLy8gY3JlYXRlIGEgZGlzcGxheSBvYmplY3RcbiAqIGNvbnN0IHJlY3QgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gKiAgICAgLmJlZ2luRmlsbCgweDAwZmYwMClcbiAqICAgICAuZHJhd1JlY3QoNDAsIDQwLCAyMDAsIDIwMCk7XG4gKlxuICogLy8gQWRkIHRvIHRoZSBzdGFnZVxuICogYXBwLnN0YWdlLmFkZENoaWxkKHJlY3QpO1xuICpcbiAqIC8vIERvbid0IHN0YXJ0IHJlbmRlcmluZyB1bnRpbCB0aGUgZ3JhcGhpYyBpcyB1cGxvYWRlZCB0byB0aGUgR1BVXG4gKiBhcHAucmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLnVwbG9hZChhcHAuc3RhZ2UsICgpID0+IHtcbiAqICAgICBhcHAuc3RhcnQoKTtcbiAqIH0pO1xuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5CYXNlUHJlcGFyZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFByZXBhcmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFByZXBhcmUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gUHJlcGFyZShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudXBsb2FkSG9va0hlbHBlciA9IF90aGlzLnJlbmRlcmVyO1xuICAgICAgICAvLyBBZGQgdGV4dHVyZXMgYW5kIGdyYXBoaWNzIHRvIHVwbG9hZFxuICAgICAgICBfdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRHcmFwaGljcyk7XG4gICAgICAgIF90aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRCYXNlVGV4dHVyZXMpO1xuICAgICAgICBfdGhpcy5yZWdpc3RlclVwbG9hZEhvb2sodXBsb2FkR3JhcGhpY3MpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBQcmVwYXJlO1xufShCYXNlUHJlcGFyZSkpO1xuXG4vKipcbiAqIFRpbWVMaW1pdGVyIGxpbWl0cyB0aGUgbnVtYmVyIG9mIGl0ZW1zIGhhbmRsZWQgYnkgYSB7QGxpbmsgUElYSS5CYXNlUHJlcGFyZX0gdG8gYSBzcGVjaWZpZWRcbiAqIG51bWJlciBvZiBtaWxsaXNlY29uZHMgcGVyIGZyYW1lLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpbWVMaW1pdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhNaWxsaXNlY29uZHMgLSBUaGUgbWF4aW11bSBtaWxsaXNlY29uZHMgdGhhdCBjYW4gYmUgc3BlbnQgcHJlcGFyaW5nIGl0ZW1zIGVhY2ggZnJhbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGltZUxpbWl0ZXIobWF4TWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4aW11bSBtaWxsaXNlY29uZHMgdGhhdCBjYW4gYmUgc3BlbnQgcHJlcGFyaW5nIGl0ZW1zIGVhY2ggZnJhbWUuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heE1pbGxpc2Vjb25kcyA9IG1heE1pbGxpc2Vjb25kcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdGFydCB0aW1lIG9mIHRoZSBjdXJyZW50IGZyYW1lLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mcmFtZVN0YXJ0ID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXRzIGFueSBjb3VudGluZyBwcm9wZXJ0aWVzIHRvIHN0YXJ0IGZyZXNoIG9uIGEgbmV3IGZyYW1lLlxuICAgICAqL1xuICAgIFRpbWVMaW1pdGVyLnByb3RvdHlwZS5iZWdpbkZyYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZyYW1lU3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRvIHNlZSBpZiBhbm90aGVyIGl0ZW0gY2FuIGJlIHVwbG9hZGVkLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbmNlIHBlciBpdGVtLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBpdGVtIGlzIGFsbG93ZWQgdG8gYmUgdXBsb2FkZWQuXG4gICAgICovXG4gICAgVGltZUxpbWl0ZXIucHJvdG90eXBlLmFsbG93ZWRUb1VwbG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIERhdGUubm93KCkgLSB0aGlzLmZyYW1lU3RhcnQgPCB0aGlzLm1heE1pbGxpc2Vjb25kcztcbiAgICB9O1xuICAgIHJldHVybiBUaW1lTGltaXRlcjtcbn0oKSk7XG5cbmV4cG9ydCB7IEJhc2VQcmVwYXJlLCBDb3VudExpbWl0ZXIsIFByZXBhcmUsIFRpbWVMaW1pdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcmVwYXJlLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9zcHJpdGVzaGVldCAtIHY2LjAuMFxuICogQ29tcGlsZWQgVHVlLCAwMiBNYXIgMjAyMSAyMTo0NTowMyBVVENcbiAqXG4gKiBAcGl4aS9zcHJpdGVzaGVldCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgVGV4dHVyZSwgQmFzZVRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IGdldFJlc29sdXRpb25PZlVybCwgdXJsIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgTG9hZGVyUmVzb3VyY2UgfSBmcm9tICdAcGl4aS9sb2FkZXJzJztcblxuLyoqXG4gKiBVdGlsaXR5IGNsYXNzIGZvciBtYWludGFpbmluZyByZWZlcmVuY2UgdG8gYSBjb2xsZWN0aW9uXG4gKiBvZiBUZXh0dXJlcyBvbiBhIHNpbmdsZSBTcHJpdGVzaGVldC5cbiAqXG4gKiBUbyBhY2Nlc3MgYSBzcHJpdGUgc2hlZXQgZnJvbSB5b3VyIGNvZGUgcGFzcyBpdHMgSlNPTiBkYXRhIGZpbGUgdG8gUGl4aSdzIGxvYWRlcjpcbiAqXG4gKiBgYGBqc1xuICogUElYSS5Mb2FkZXIuc2hhcmVkLmFkZChcImltYWdlcy9zcHJpdGVzaGVldC5qc29uXCIpLmxvYWQoc2V0dXApO1xuICpcbiAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICogICBsZXQgc2hlZXQgPSBQSVhJLkxvYWRlci5zaGFyZWQucmVzb3VyY2VzW1wiaW1hZ2VzL3Nwcml0ZXNoZWV0Lmpzb25cIl0uc3ByaXRlc2hlZXQ7XG4gKiAgIC4uLlxuICogfVxuICogYGBgXG4gKiBXaXRoIHRoZSBgc2hlZXQudGV4dHVyZXNgIHlvdSBjYW4gY3JlYXRlIFNwcml0ZSBvYmplY3RzLGBzaGVldC5hbmltYXRpb25zYCBjYW4gYmUgdXNlZCB0byBjcmVhdGUgYW4gQW5pbWF0ZWRTcHJpdGUuXG4gKlxuICogU3ByaXRlIHNoZWV0cyBjYW4gYmUgcGFja2VkIHVzaW5nIHRvb2xzIGxpa2Uge0BsaW5rIGh0dHBzOi8vY29kZWFuZHdlYi5jb20vdGV4dHVyZXBhY2tlcnxUZXh0dXJlUGFja2VyfSxcbiAqIHtAbGluayBodHRwczovL3JlbmRlcmhqcy5uZXQvc2hvZWJveC98U2hvZWJveH0gb3Ige0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9rcnp5c3p0b2Ytby9zcHJpdGVzaGVldC5qc3xTcHJpdGVzaGVldC5qc30uXG4gKiBEZWZhdWx0IGFuY2hvciBwb2ludHMgKHNlZSB7QGxpbmsgUElYSS5UZXh0dXJlI2RlZmF1bHRBbmNob3J9KSBhbmQgZ3JvdXBpbmcgb2YgYW5pbWF0aW9uIHNwcml0ZXMgYXJlIGN1cnJlbnRseSBvbmx5XG4gKiBzdXBwb3J0ZWQgYnkgVGV4dHVyZVBhY2tlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTcHJpdGVzaGVldCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlZmVyZW5jZSB0byB0aGUgc291cmNlIEJhc2VUZXh0dXJlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAtIFNwcml0ZXNoZWV0IGltYWdlIGRhdGEuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtyZXNvbHV0aW9uRmlsZW5hbWVdIC0gVGhlIGZpbGVuYW1lIHRvIGNvbnNpZGVyIHdoZW4gZGV0ZXJtaW5pbmdcbiAgICAgKiAgICAgICAgdGhlIHJlc29sdXRpb24gb2YgdGhlIHNwcml0ZXNoZWV0LiBJZiBub3QgcHJvdmlkZWQsIHRoZSBpbWFnZVVybCB3aWxsXG4gICAgICogICAgICAgIGJlIHVzZWQgb24gdGhlIEJhc2VUZXh0dXJlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNwcml0ZXNoZWV0KHRleHR1cmUsIGRhdGEsIHJlc29sdXRpb25GaWxlbmFtZSkge1xuICAgICAgICBpZiAocmVzb2x1dGlvbkZpbGVuYW1lID09PSB2b2lkIDApIHsgcmVzb2x1dGlvbkZpbGVuYW1lID0gbnVsbDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIG9yaWdpbmFsIHNvdXJjZSBpbWFnZSBmcm9tIHRoZSBMb2FkZXIuIFRoaXMgcmVmZXJlbmNlIGlzIHJldGFpbmVkIHNvIHdlXG4gICAgICAgICAqIGNhbiBkZXN0cm95IHRoZSBUZXh0dXJlIGxhdGVyIG9uLiBJdCBpcyBuZXZlciB1c2VkIGludGVybmFsbHkuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUgPyB0ZXh0dXJlIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aHMgc291cmNlIHRleHR1cmUuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IHRleHR1cmUgaW5zdGFuY2VvZiBCYXNlVGV4dHVyZSA/IHRleHR1cmUgOiB0aGlzLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBtYXAgY29udGFpbmluZyBhbGwgdGV4dHVyZXMgb2YgdGhlIHNwcml0ZSBzaGVldC5cbiAgICAgICAgICogQ2FuIGJlIHVzZWQgdG8gY3JlYXRlIGEge0BsaW5rIFBJWEkuU3ByaXRlfFNwcml0ZX06XG4gICAgICAgICAqIGBgYGpzXG4gICAgICAgICAqIG5ldyBQSVhJLlNwcml0ZShzaGVldC50ZXh0dXJlc1tcImltYWdlLnBuZ1wiXSk7XG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHR1cmVzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcCBjb250YWluaW5nIHRoZSB0ZXh0dXJlcyBmb3IgZWFjaCBhbmltYXRpb24uXG4gICAgICAgICAqIENhbiBiZSB1c2VkIHRvIGNyZWF0ZSBhbiB7QGxpbmsgUElYSS5BbmltYXRlZFNwcml0ZXxBbmltYXRlZFNwcml0ZX06XG4gICAgICAgICAqIGBgYGpzXG4gICAgICAgICAqIG5ldyBQSVhJLkFuaW1hdGVkU3ByaXRlKHNoZWV0LmFuaW1hdGlvbnNbXCJhbmltX25hbWVcIl0pXG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgb3JpZ2luYWwgSlNPTiBkYXRhLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgdmFyIHJlc291cmNlID0gdGhpcy5iYXNlVGV4dHVyZS5yZXNvdXJjZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBzcHJpdGVzaGVldC5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHRoaXMuX3VwZGF0ZVJlc29sdXRpb24ocmVzb2x1dGlvbkZpbGVuYW1lIHx8IChyZXNvdXJjZSA/IHJlc291cmNlLnVybCA6IG51bGwpKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcCBvZiBzcHJpdGVzaGVldCBmcmFtZXMuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mcmFtZXMgPSB0aGlzLmRhdGEuZnJhbWVzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBmcmFtZSBuYW1lcy5cbiAgICAgICAgICogQHR5cGUge3N0cmluZ1tdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZnJhbWVLZXlzID0gT2JqZWN0LmtleXModGhpcy5fZnJhbWVzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgYmF0Y2ggaW5kZXggYmVpbmcgcHJvY2Vzc2VkLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsYmFjayB3aGVuIHBhcnNlIGlzIGNvbXBsZXRlZC5cbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSB0aGUgcmVzb2x1dGlvbiBmcm9tIHRoZSBmaWxlbmFtZSBvciBmYWxsYmFja1xuICAgICAqIHRvIHRoZSBtZXRhLnNjYWxlIGZpZWxkIG9mIHRoZSBKU09OIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZXNvbHV0aW9uRmlsZW5hbWUgLSBUaGUgZmlsZW5hbWUgdG8gdXNlIGZvciByZXNvbHZpbmdcbiAgICAgKiAgICAgICAgdGhlIGRlZmF1bHQgcmVzb2x1dGlvbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFJlc29sdXRpb24gdG8gdXNlIGZvciBzcHJpdGVzaGVldC5cbiAgICAgKi9cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX3VwZGF0ZVJlc29sdXRpb24gPSBmdW5jdGlvbiAocmVzb2x1dGlvbkZpbGVuYW1lKSB7XG4gICAgICAgIGlmIChyZXNvbHV0aW9uRmlsZW5hbWUgPT09IHZvaWQgMCkgeyByZXNvbHV0aW9uRmlsZW5hbWUgPSBudWxsOyB9XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuZGF0YS5tZXRhLnNjYWxlO1xuICAgICAgICAvLyBVc2UgYSBkZWZhdWx0VmFsdWUgb2YgYG51bGxgIHRvIGNoZWNrIGlmIGEgdXJsLWJhc2VkIHJlc29sdXRpb24gaXMgc2V0XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gZ2V0UmVzb2x1dGlvbk9mVXJsKHJlc29sdXRpb25GaWxlbmFtZSwgbnVsbCk7XG4gICAgICAgIC8vIE5vIHJlc29sdXRpb24gZm91bmQgdmlhIFVSTFxuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gVXNlIHRoZSBzY2FsZSB2YWx1ZSBvciBkZWZhdWx0IHRvIDFcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBzY2FsZSAhPT0gdW5kZWZpbmVkID8gcGFyc2VGbG9hdChzY2FsZSkgOiAxO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZvciBub24tMSByZXNvbHV0aW9ucywgdXBkYXRlIGJhc2VUZXh0dXJlXG4gICAgICAgIGlmIChyZXNvbHV0aW9uICE9PSAxKSB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnNldFJlc29sdXRpb24ocmVzb2x1dGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc29sdXRpb247XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQYXJzZXIgc3ByaXRlc2hlZXQgZnJvbSBsb2FkZWQgZGF0YS4gVGhpcyBpcyBkb25lIGFzeW5jaHJvbm91c2x5XG4gICAgICogdG8gcHJldmVudCBjcmVhdGluZyB0b28gbWFueSBUZXh0dXJlIHdpdGhpbiBhIHNpbmdsZSBwcm9jZXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFjayB3aGVuIGNvbXBsZXRlIHJldHVybnNcbiAgICAgKiAgICAgICAgYSBtYXAgb2YgdGhlIFRleHR1cmVzIGZvciB0aGlzIHNwcml0ZXNoZWV0LlxuICAgICAqL1xuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgaWYgKHRoaXMuX2ZyYW1lS2V5cy5sZW5ndGggPD0gU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSkge1xuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0ZyYW1lcygwKTtcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NBbmltYXRpb25zKCk7XG4gICAgICAgICAgICB0aGlzLl9wYXJzZUNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9uZXh0QmF0Y2goKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBhIGJhdGNoIG9mIGZyYW1lc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5pdGlhbEZyYW1lSW5kZXggLSBUaGUgaW5kZXggb2YgZnJhbWUgdG8gc3RhcnQuXG4gICAgICovXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLl9wcm9jZXNzRnJhbWVzID0gZnVuY3Rpb24gKGluaXRpYWxGcmFtZUluZGV4KSB7XG4gICAgICAgIHZhciBmcmFtZUluZGV4ID0gaW5pdGlhbEZyYW1lSW5kZXg7XG4gICAgICAgIHZhciBtYXhGcmFtZXMgPSBTcHJpdGVzaGVldC5CQVRDSF9TSVpFO1xuICAgICAgICB3aGlsZSAoZnJhbWVJbmRleCAtIGluaXRpYWxGcmFtZUluZGV4IDwgbWF4RnJhbWVzICYmIGZyYW1lSW5kZXggPCB0aGlzLl9mcmFtZUtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgaSA9IHRoaXMuX2ZyYW1lS2V5c1tmcmFtZUluZGV4XTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5fZnJhbWVzW2ldO1xuICAgICAgICAgICAgdmFyIHJlY3QgPSBkYXRhLmZyYW1lO1xuICAgICAgICAgICAgaWYgKHJlY3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgZnJhbWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhciB0cmltID0gbnVsbDtcbiAgICAgICAgICAgICAgICB2YXIgc291cmNlU2l6ZSA9IGRhdGEudHJpbW1lZCAhPT0gZmFsc2UgJiYgZGF0YS5zb3VyY2VTaXplXG4gICAgICAgICAgICAgICAgICAgID8gZGF0YS5zb3VyY2VTaXplIDogZGF0YS5mcmFtZTtcbiAgICAgICAgICAgICAgICB2YXIgb3JpZyA9IG5ldyBSZWN0YW5nbGUoMCwgMCwgTWF0aC5mbG9vcihzb3VyY2VTaXplLncpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHNvdXJjZVNpemUuaCkgLyB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLnJvdGF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJhbWUgPSBuZXcgUmVjdGFuZ2xlKE1hdGguZmxvb3IocmVjdC54KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LnkpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QuaCkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC53KSAvIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmcmFtZSA9IG5ldyBSZWN0YW5nbGUoTWF0aC5mbG9vcihyZWN0LngpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QueSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC53KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LmgpIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gIENoZWNrIHRvIHNlZSBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWRcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS50cmltbWVkICE9PSBmYWxzZSAmJiBkYXRhLnNwcml0ZVNvdXJjZVNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJpbSA9IG5ldyBSZWN0YW5nbGUoTWF0aC5mbG9vcihkYXRhLnNwcml0ZVNvdXJjZVNpemUueCkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IoZGF0YS5zcHJpdGVTb3VyY2VTaXplLnkpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QudykgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC5oKSAvIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudGV4dHVyZXNbaV0gPSBuZXcgVGV4dHVyZSh0aGlzLmJhc2VUZXh0dXJlLCBmcmFtZSwgb3JpZywgdHJpbSwgZGF0YS5yb3RhdGVkID8gMiA6IDAsIGRhdGEuYW5jaG9yKTtcbiAgICAgICAgICAgICAgICAvLyBsZXRzIGFsc28gYWRkIHRoZSBmcmFtZSB0byBwaXhpJ3MgZ2xvYmFsIGNhY2hlIGZvciAnZnJvbScgYW5kICdmcm9tTG9hZGVyJyBmdW5jdGlvbnNcbiAgICAgICAgICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGhpcy50ZXh0dXJlc1tpXSwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcmFtZUluZGV4Kys7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhcnNlIGFuaW1hdGlvbnMgY29uZmlnXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5fcHJvY2Vzc0FuaW1hdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhbmltYXRpb25zID0gdGhpcy5kYXRhLmFuaW1hdGlvbnMgfHwge307XG4gICAgICAgIGZvciAodmFyIGFuaW1OYW1lIGluIGFuaW1hdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uc1thbmltTmFtZV0gPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5pbWF0aW9uc1thbmltTmFtZV0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZnJhbWVOYW1lID0gYW5pbWF0aW9uc1thbmltTmFtZV1baV07XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zW2FuaW1OYW1lXS5wdXNoKHRoaXMudGV4dHVyZXNbZnJhbWVOYW1lXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBwYXJzZSBoYXMgY29tcGxldGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX3BhcnNlQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHRoaXMuX2NhbGxiYWNrO1xuICAgICAgICB0aGlzLl9jYWxsYmFjayA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JhdGNoSW5kZXggPSAwO1xuICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXMsIHRoaXMudGV4dHVyZXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQmVnaW4gdGhlIG5leHQgYmF0Y2ggb2YgdGV4dHVyZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5fbmV4dEJhdGNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9wcm9jZXNzRnJhbWVzKHRoaXMuX2JhdGNoSW5kZXggKiBTcHJpdGVzaGVldC5CQVRDSF9TSVpFKTtcbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCsrO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5fYmF0Y2hJbmRleCAqIFNwcml0ZXNoZWV0LkJBVENIX1NJWkUgPCBfdGhpcy5fZnJhbWVLZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9uZXh0QmF0Y2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLl9wcm9jZXNzQW5pbWF0aW9ucygpO1xuICAgICAgICAgICAgICAgIF90aGlzLl9wYXJzZUNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveSBTcHJpdGVzaGVldCBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZXN0cm95QmFzZT1mYWxzZV0gLSBXaGV0aGVyIHRvIGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBhcyB3ZWxsXG4gICAgICovXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoZGVzdHJveUJhc2UpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoZGVzdHJveUJhc2UgPT09IHZvaWQgMCkgeyBkZXN0cm95QmFzZSA9IGZhbHNlOyB9XG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy50ZXh0dXJlcykge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlc1tpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZnJhbWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZnJhbWVLZXlzID0gbnVsbDtcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy50ZXh0dXJlcyA9IG51bGw7XG4gICAgICAgIGlmIChkZXN0cm95QmFzZSkge1xuICAgICAgICAgICAgKF9hID0gdGhpcy5fdGV4dHVyZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSBudWxsO1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBUZXh0dXJlcyB0byBidWlsZCBwZXIgcHJvY2Vzcy5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMTAwMFxuICAgICAqL1xuICAgIFNwcml0ZXNoZWV0LkJBVENIX1NJWkUgPSAxMDAwO1xuICAgIHJldHVybiBTcHJpdGVzaGVldDtcbn0oKSk7XG5cbi8qKlxuICoge0BsaW5rIFBJWEkuTG9hZGVyfSBtaWRkbGV3YXJlIGZvciBsb2FkaW5nIHRleHR1cmUgYXRsYXNlcyB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkIHdpdGhcbiAqIFRleHR1cmVQYWNrZXIgb3Igc2ltaWxhciBKU09OLWJhc2VkIHNwcml0ZXNoZWV0LlxuICpcbiAqIFRoaXMgbWlkZGxld2FyZSBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlcyBUZXh0dXJlIHJlc291cmNlcy5cbiAqXG4gKiBJZiB5b3UncmUgdXNpbmcgV2VicGFjayBvciBvdGhlciBidW5kbGVycyBhbmQgcGxhbiBvbiBidW5kbGluZyB0aGUgYXRsYXMnIEpTT04sXG4gKiB1c2UgdGhlIHtAbGluayBQSVhJLlNwcml0ZXNoZWV0fSBjbGFzcyB0byBkaXJlY3RseSBwYXJzZSB0aGUgSlNPTi5cbiAqXG4gKiBUaGUgTG9hZGVyJ3MgaW1hZ2UgUmVzb3VyY2UgbmFtZSBpcyBhdXRvbWF0aWNhbGx5IGFwcGVuZGVkIHdpdGggYFwiX2ltYWdlXCJgLlxuICogSWYgYSBSZXNvdXJjZSB3aXRoIHRoaXMgbmFtZSBpcyBhbHJlYWR5IGxvYWRlZCwgdGhlIExvYWRlciB3aWxsIHNraXAgcGFyc2luZyB0aGVcbiAqIFNwcml0ZXNoZWV0LiBUaGUgY29kZSBiZWxvdyB3aWxsIGdlbmVyYXRlIGFuIGludGVybmFsIExvYWRlciBSZXNvdXJjZSBjYWxsZWQgYFwibXlhdGxhc19pbWFnZVwiYC5cbiAqXG4gKiBAZXhhbXBsZVxuICogbG9hZGVyLmFkZCgnbXlhdGxhcycsICdwYXRoL3RvL215YXRsYXMuanNvbicpO1xuICogbG9hZGVyLmxvYWQoKCkgPT4ge1xuICogICBsb2FkZXIucmVzb3VyY2VzLm15YXRsYXM7IC8vIGF0bGFzIEpTT04gcmVzb3VyY2VcbiAqICAgbG9hZGVyLnJlc291cmNlcy5teWF0bGFzX2ltYWdlOyAvLyBhdGxhcyBJbWFnZSByZXNvdXJjZVxuICogfSk7XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGltcGxlbWVudHMgUElYSS5JTG9hZGVyUGx1Z2luXG4gKi9cbnZhciBTcHJpdGVzaGVldExvYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTcHJpdGVzaGVldExvYWRlcigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGFmdGVyIGEgcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAqIEBzZWUgUElYSS5Mb2FkZXIubG9hZGVyTWlkZGxld2FyZVxuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBuZXh0XG4gICAgICovXG4gICAgU3ByaXRlc2hlZXRMb2FkZXIudXNlID0gZnVuY3Rpb24gKHJlc291cmNlLCBuZXh0KSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIC8vIGJlY2F1c2UgdGhpcyBpcyBtaWRkbGV3YXJlLCBpdCBleGVjdXRlIGluIGxvYWRlciBjb250ZXh0LiBgdGhpc2AgPSBsb2FkZXJcbiAgICAgICAgdmFyIGxvYWRlciA9IHRoaXM7XG4gICAgICAgIHZhciBpbWFnZVJlc291cmNlTmFtZSA9IHJlc291cmNlLm5hbWUgKyBcIl9pbWFnZVwiO1xuICAgICAgICAvLyBza2lwIGlmIG5vIGRhdGEsIGl0cyBub3QganNvbiwgaXQgaXNuJ3Qgc3ByaXRlc2hlZXQgZGF0YSwgb3IgdGhlIGltYWdlIHJlc291cmNlIGFscmVhZHkgZXhpc3RzXG4gICAgICAgIGlmICghcmVzb3VyY2UuZGF0YVxuICAgICAgICAgICAgfHwgcmVzb3VyY2UudHlwZSAhPT0gTG9hZGVyUmVzb3VyY2UuVFlQRS5KU09OXG4gICAgICAgICAgICB8fCAhcmVzb3VyY2UuZGF0YS5mcmFtZXNcbiAgICAgICAgICAgIHx8IGxvYWRlci5yZXNvdXJjZXNbaW1hZ2VSZXNvdXJjZU5hbWVdKSB7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgYW5kIGFkZCB0aGUgbXVsdGkgYXRsYXNcbiAgICAgICAgLy8gSGVhdmlseSBpbmZsdWVuY2VkIGFuZCBiYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vcm9ja2V0LXVhL3BpeGktdHBzLWxvYWRlci9ibG9iL21hc3Rlci9zcmMvUmVzb3VyY2VMb2FkZXIuanNcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgICAgICB2YXIgbXVsdGlQYWNrcyA9IChfYiA9IChfYSA9IHJlc291cmNlLmRhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tZXRhKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucmVsYXRlZF9tdWx0aV9wYWNrcztcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobXVsdGlQYWNrcykpIHtcbiAgICAgICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGl0ZW0gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImNvbnRpbnVlXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBpdGVtTmFtZSA9IGl0ZW0ucmVwbGFjZSgnLmpzb24nLCAnJyk7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1VcmwgPSB1cmwucmVzb2x2ZShyZXNvdXJjZS51cmwucmVwbGFjZShsb2FkZXIuYmFzZVVybCwgJycpLCBpdGVtKTtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZmlsZSB3YXNuJ3QgYWxyZWFkeSBhZGRlZCBhcyBtdWx0aXBhY2tzIGFyZSByZWR1bmRhbnRcbiAgICAgICAgICAgICAgICBpZiAobG9hZGVyLnJlc291cmNlc1tpdGVtTmFtZV1cbiAgICAgICAgICAgICAgICAgICAgfHwgT2JqZWN0LnZhbHVlcyhsb2FkZXIucmVzb3VyY2VzKS5zb21lKGZ1bmN0aW9uIChyKSB7IHJldHVybiB1cmwuZm9ybWF0KHVybC5wYXJzZShyLnVybCkpID09PSBpdGVtVXJsOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjb250aW51ZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHJlc291cmNlLmNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgICAgICAgICBsb2FkVHlwZTogTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLlhIUixcbiAgICAgICAgICAgICAgICAgICAgeGhyVHlwZTogTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTixcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50UmVzb3VyY2U6IHJlc291cmNlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbG9hZGVyLmFkZChpdGVtTmFtZSwgaXRlbVVybCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBtdWx0aVBhY2tzXzEgPSBtdWx0aVBhY2tzOyBfaSA8IG11bHRpUGFja3NfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IG11bHRpUGFja3NfMVtfaV07XG4gICAgICAgICAgICAgICAgX2xvb3BfMShpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgbG9hZE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBjcm9zc09yaWdpbjogcmVzb3VyY2UuY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICBtZXRhZGF0YTogcmVzb3VyY2UubWV0YWRhdGEuaW1hZ2VNZXRhZGF0YSxcbiAgICAgICAgICAgIHBhcmVudFJlc291cmNlOiByZXNvdXJjZSxcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJlc291cmNlUGF0aCA9IFNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aChyZXNvdXJjZSwgbG9hZGVyLmJhc2VVcmwpO1xuICAgICAgICAvLyBsb2FkIHRoZSBpbWFnZSBmb3IgdGhpcyBzaGVldFxuICAgICAgICBsb2FkZXIuYWRkKGltYWdlUmVzb3VyY2VOYW1lLCByZXNvdXJjZVBhdGgsIGxvYWRPcHRpb25zLCBmdW5jdGlvbiBvbkltYWdlTG9hZChyZXMpIHtcbiAgICAgICAgICAgIGlmIChyZXMuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBuZXh0KHJlcy5lcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHNwcml0ZXNoZWV0ID0gbmV3IFNwcml0ZXNoZWV0KHJlcy50ZXh0dXJlLCByZXNvdXJjZS5kYXRhLCByZXNvdXJjZS51cmwpO1xuICAgICAgICAgICAgc3ByaXRlc2hlZXQucGFyc2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlc291cmNlLnNwcml0ZXNoZWV0ID0gc3ByaXRlc2hlZXQ7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2UudGV4dHVyZXMgPSBzcHJpdGVzaGVldC50ZXh0dXJlcztcbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNwcml0ZXNoZWV0cyByb290IHBhdGhcbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2V9IHJlc291cmNlIC0gUmVzb3VyY2UgdG8gY2hlY2sgcGF0aFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVXJsIC0gQmFzZSByb290IHVybFxuICAgICAqL1xuICAgIFNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aCA9IGZ1bmN0aW9uIChyZXNvdXJjZSwgYmFzZVVybCkge1xuICAgICAgICAvLyBQcmVwZW5kIHVybCBwYXRoIHVubGVzcyB0aGUgcmVzb3VyY2UgaW1hZ2UgaXMgYSBkYXRhIHVybFxuICAgICAgICBpZiAocmVzb3VyY2UuaXNEYXRhVXJsKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb3VyY2UuZGF0YS5tZXRhLmltYWdlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cmwucmVzb2x2ZShyZXNvdXJjZS51cmwucmVwbGFjZShiYXNlVXJsLCAnJyksIHJlc291cmNlLmRhdGEubWV0YS5pbWFnZSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3ByaXRlc2hlZXRMb2FkZXI7XG59KCkpO1xuXG5leHBvcnQgeyBTcHJpdGVzaGVldCwgU3ByaXRlc2hlZXRMb2FkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZXNoZWV0LmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9zcHJpdGUtdGlsaW5nIC0gdjYuMC4wXG4gKiBDb21waWxlZCBUdWUsIDAyIE1hciAyMDIxIDIxOjQ1OjAzIFVUQ1xuICpcbiAqIEBwaXhpL3Nwcml0ZS10aWxpbmcgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBUZXh0dXJlLCBUZXh0dXJlTWF0cml4LCBTaGFkZXIsIFF1YWRVdiwgU3RhdGUsIE9iamVjdFJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBQb2ludCwgUmVjdGFuZ2xlLCBUcmFuc2Zvcm0sIE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IFdSQVBfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgcHJlbXVsdGlwbHlUaW50VG9SZ2JhLCBjb3JyZWN0QmxlbmRNb2RlIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIHRlbXBQb2ludCA9IG5ldyBQb2ludCgpO1xuLyoqXG4gKiBBIHRpbGluZyBzcHJpdGUgaXMgYSBmYXN0IHdheSBvZiByZW5kZXJpbmcgYSB0aWxpbmcgaW1hZ2UuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNwcml0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpbGluZ1Nwcml0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGlsaW5nU3ByaXRlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIHRleHR1cmUgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTEwMF0gLSB0aGUgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0xMDBdIC0gdGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpbGluZ1Nwcml0ZSh0ZXh0dXJlLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdm9pZCAwKSB7IHdpZHRoID0gMTAwOyB9XG4gICAgICAgIGlmIChoZWlnaHQgPT09IHZvaWQgMCkgeyBoZWlnaHQgPSAxMDA7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdGV4dHVyZSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpbGUgdHJhbnNmb3JtXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVHJhbnNmb3JtfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlsZVRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aXRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAvKipcbiAgICAgICAgICogbWF0cml4IHRoYXQgaXMgYXBwbGllZCB0byBVViB0byBnZXQgdGhlIGNvb3JkcyBpbiBUZXh0dXJlIG5vcm1hbGl6ZWQgc3BhY2UgdG8gY29vcmRzIGluIEJhc2VUZXh0dXJlIHNwYWNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2TWF0cml4ID0gX3RoaXMudGV4dHVyZS51dk1hdHJpeCB8fCBuZXcgVGV4dHVyZU1hdHJpeCh0ZXh0dXJlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAgICAgKiBBbGxvd3MgdG8gY3VzdG9taXplIHRoZSByZW5kZXJpbmcgcHJvY2VzcyB3aXRob3V0IG92ZXJyaWRpbmcgJ19yZW5kZXInIG1ldGhvZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAndGlsaW5nU3ByaXRlJ1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGx1Z2luTmFtZSA9ICd0aWxpbmdTcHJpdGUnO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmxhZ3Mgd2hldGhlciB0aGUgdGlsaW5nIHBhdHRlcm4gc2hvdWxkIG9yaWdpbmF0ZSBmcm9tIHRoZSBvcmlnaW4gaW5zdGVhZCBvZiB0aGUgdG9wLWxlZnQgY29ybmVyIGluXG4gICAgICAgICAqIGxvY2FsIHNwYWNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbWFrZSB0aGUgdGV4dHVyZSBjb29yZGluYXRlcyBhc3NpZ25lZCB0byBlYWNoIHZlcnRleCBkZXBlbmRlbnQgb24gdGhlIHZhbHVlIG9mIHRoZSBhbmNob3IuIFdpdGhvdXRcbiAgICAgICAgICogdGhpcywgdGhlIHRvcC1sZWZ0IGNvcm5lciBhbHdheXMgZ2V0cyB0aGUgKDAsIDApIHRleHR1cmUgY29vcmRpbmF0ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2UmVzcGVjdEFuY2hvciA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWxpbmdTcHJpdGUucHJvdG90eXBlLCBcImNsYW1wTWFyZ2luXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZXMgZnJhbWUgY2xhbXBpbmcgaW4gY29ycmVzcG9uZGluZyB0ZXh0dXJlVHJhbnNmb3JtLCBzaG9ydGN1dFxuICAgICAgICAgKiBDaGFuZ2UgdG8gLTAuNSB0byBhZGQgYSBwaXhlbCB0byB0aGUgZWRnZSwgcmVjb21tZW5kZWQgZm9yIHRyYW5zcGFyZW50IHRyaW1tZWQgdGV4dHVyZXMgaW4gYXRsYXNcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlZmF1bHQgMC41XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXZNYXRyaXguY2xhbXBNYXJnaW47XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnV2TWF0cml4LmNsYW1wTWFyZ2luID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnV2TWF0cml4LnVwZGF0ZSh0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWxpbmdTcHJpdGUucHJvdG90eXBlLCBcInRpbGVTY2FsZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGluZyBvZiB0aGUgaW1hZ2UgdGhhdCBpcyBiZWluZyB0aWxlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5zY2FsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybS5zY2FsZS5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlsaW5nU3ByaXRlLnByb3RvdHlwZSwgXCJ0aWxlUG9zaXRpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9mZnNldCBvZiB0aGUgaW1hZ2UgdGhhdCBpcyBiZWluZyB0aWxlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fb25UZXh0dXJlVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy51dk1hdHJpeCkge1xuICAgICAgICAgICAgdGhpcy51dk1hdHJpeC50ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICAvLyB0d2VhayBvdXIgdGV4dHVyZSB0ZW1wb3JhcmlseS4uXG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgaWYgKCF0ZXh0dXJlIHx8ICF0ZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnVwZGF0ZUxvY2FsVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMudXZNYXRyaXgudXBkYXRlKCk7XG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBib3VuZHMgb2YgdGhlIHRpbGluZyBzcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWluWCA9IHRoaXMuX3dpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLl9oZWlnaHQgKiAtdGhpcy5fYW5jaG9yLl95O1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMuX3dpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMuX2hlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZEZyYW1lKHRoaXMudHJhbnNmb3JtLCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgc3ByaXRlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWN0XSAtIE9wdGlvbmFsIG91dHB1dCByZWN0YW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSBib3VuZHMuXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIChyZWN0KSB7XG4gICAgICAgIC8vIHdlIGNhbiBkbyBhIGZhc3QgbG9jYWwgYm91bmRzIGlmIHRoZSBzcHJpdGUgaGFzIG5vIGNoaWxkcmVuIVxuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5YID0gdGhpcy5fd2lkdGggKiAtdGhpcy5fYW5jaG9yLl94O1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblkgPSB0aGlzLl9oZWlnaHQgKiAtdGhpcy5fYW5jaG9yLl95O1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFggPSB0aGlzLl93aWR0aCAqICgxIC0gdGhpcy5fYW5jaG9yLl94KTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhZID0gdGhpcy5faGVpZ2h0ICogKDEgLSB0aGlzLl9hbmNob3IuX3kpO1xuICAgICAgICAgICAgaWYgKCFyZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kc1JlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5nZXRSZWN0YW5nbGUocmVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIHRpbGluZyBzcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgc3ByaXRlIGNvbnRhaW5zIHRoZSBwb2ludC5cbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuX3dpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5faGVpZ2h0O1xuICAgICAgICB2YXIgeDEgPSAtd2lkdGggKiB0aGlzLmFuY2hvci5feDtcbiAgICAgICAgaWYgKHRlbXBQb2ludC54ID49IHgxICYmIHRlbXBQb2ludC54IDwgeDEgKyB3aWR0aCkge1xuICAgICAgICAgICAgdmFyIHkxID0gLWhlaWdodCAqIHRoaXMuYW5jaG9yLl95O1xuICAgICAgICAgICAgaWYgKHRlbXBQb2ludC55ID49IHkxICYmIHRlbXBQb2ludC55IDwgeTEgKyBoZWlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHNwcml0ZSBhbmQgb3B0aW9uYWxseSBpdHMgdGV4dHVyZSBhbmQgY2hpbGRyZW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICB0aGlzLnV2TWF0cml4ID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgdGlsaW5nIHNwcml0ZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8UElYSS5UZXh0dXJlfEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSAtIFNvdXJjZSB0byBjcmVhdGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMud2lkdGggLSByZXF1aXJlZCB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLmhlaWdodCAtIHJlcXVpcmVkIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGlsaW5nU3ByaXRlfSBUaGUgbmV3bHkgY3JlYXRlZCB0ZXh0dXJlXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLmZyb20gPSBmdW5jdGlvbiAoc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGlsaW5nU3ByaXRlKFRleHR1cmUuZnJvbShzb3VyY2UsIG9wdGlvbnMpLCBvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlsaW5nU3ByaXRlLnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHNwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIFRpbGluZ1Nwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gVGlsaW5nU3ByaXRlO1xufShTcHJpdGUpKTtcblxudmFyIHZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB1VHJhbnNmb3JtO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9ICh1VHJhbnNmb3JtICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXG59XFxuXCI7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG51bmlmb3JtIG1hdDMgdU1hcENvb3JkO1xcbnVuaWZvcm0gdmVjNCB1Q2xhbXBGcmFtZTtcXG51bmlmb3JtIHZlYzIgdUNsYW1wT2Zmc2V0O1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgdmVjMiBjb29yZCA9IHZUZXh0dXJlQ29vcmQgKyBjZWlsKHVDbGFtcE9mZnNldCAtIHZUZXh0dXJlQ29vcmQpO1xcbiAgICBjb29yZCA9ICh1TWFwQ29vcmQgKiB2ZWMzKGNvb3JkLCAxLjApKS54eTtcXG4gICAgY29vcmQgPSBjbGFtcChjb29yZCwgdUNsYW1wRnJhbWUueHksIHVDbGFtcEZyYW1lLnp3KTtcXG5cXG4gICAgdmVjNCB0ZXhTYW1wbGUgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIGNvb3JkKTtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdGV4U2FtcGxlICogdUNvbG9yO1xcbn1cXG5cIjtcblxudmFyIGZyYWdtZW50U2ltcGxlID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgdmVjNCBzYW1wbGUgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBzYW1wbGUgKiB1Q29sb3I7XFxufVxcblwiO1xuXG52YXIgdGVtcE1hdCA9IG5ldyBNYXRyaXgoKTtcbi8qKlxuICogV2ViR0wgcmVuZGVyZXIgcGx1Z2luIGZvciB0aWxpbmcgc3ByaXRlc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuT2JqZWN0UmVuZGVyZXJcbiAqL1xudmFyIFRpbGluZ1Nwcml0ZVJlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUaWxpbmdTcHJpdGVSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBjb25zdHJ1Y3RvciBmb3IgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyB0aWxpbmcgYXdlc29tZW5lc3Mgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpbGluZ1Nwcml0ZVJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSB7IGdsb2JhbHM6IF90aGlzLnJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zIH07XG4gICAgICAgIF90aGlzLnNoYWRlciA9IFNoYWRlci5mcm9tKHZlcnRleCwgZnJhZ21lbnQsIHVuaWZvcm1zKTtcbiAgICAgICAgX3RoaXMuc2ltcGxlU2hhZGVyID0gU2hhZGVyLmZyb20odmVydGV4LCBmcmFnbWVudFNpbXBsZSwgdW5pZm9ybXMpO1xuICAgICAgICBfdGhpcy5xdWFkID0gbmV3IFF1YWRVdigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIHN0YXRlIGluIHdoaWNoIHRoaXMgcmVuZGVyZXIgd2lsbCB3b3JrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlID0gU3RhdGUuZm9yMmQoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UaWxpbmdTcHJpdGV9IHRzIC0gdGlsaW5nU3ByaXRlIHRvIGJlIHJlbmRlcmVkXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICh0cykge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgcXVhZCA9IHRoaXMucXVhZDtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gcXVhZC52ZXJ0aWNlcztcbiAgICAgICAgdmVydGljZXNbMF0gPSB2ZXJ0aWNlc1s2XSA9ICh0cy5fd2lkdGgpICogLXRzLmFuY2hvci54O1xuICAgICAgICB2ZXJ0aWNlc1sxXSA9IHZlcnRpY2VzWzNdID0gdHMuX2hlaWdodCAqIC10cy5hbmNob3IueTtcbiAgICAgICAgdmVydGljZXNbMl0gPSB2ZXJ0aWNlc1s0XSA9ICh0cy5fd2lkdGgpICogKDEuMCAtIHRzLmFuY2hvci54KTtcbiAgICAgICAgdmVydGljZXNbNV0gPSB2ZXJ0aWNlc1s3XSA9IHRzLl9oZWlnaHQgKiAoMS4wIC0gdHMuYW5jaG9yLnkpO1xuICAgICAgICB2YXIgYW5jaG9yWCA9IHRzLnV2UmVzcGVjdEFuY2hvciA/IHRzLmFuY2hvci54IDogMDtcbiAgICAgICAgdmFyIGFuY2hvclkgPSB0cy51dlJlc3BlY3RBbmNob3IgPyB0cy5hbmNob3IueSA6IDA7XG4gICAgICAgIHZlcnRpY2VzID0gcXVhZC51dnM7XG4gICAgICAgIHZlcnRpY2VzWzBdID0gdmVydGljZXNbNl0gPSAtYW5jaG9yWDtcbiAgICAgICAgdmVydGljZXNbMV0gPSB2ZXJ0aWNlc1szXSA9IC1hbmNob3JZO1xuICAgICAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzRdID0gMS4wIC0gYW5jaG9yWDtcbiAgICAgICAgdmVydGljZXNbNV0gPSB2ZXJ0aWNlc1s3XSA9IDEuMCAtIGFuY2hvclk7XG4gICAgICAgIHF1YWQuaW52YWxpZGF0ZSgpO1xuICAgICAgICB2YXIgdGV4ID0gdHMuX3RleHR1cmU7XG4gICAgICAgIHZhciBiYXNlVGV4ID0gdGV4LmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgbHQgPSB0cy50aWxlVHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtO1xuICAgICAgICB2YXIgdXYgPSB0cy51dk1hdHJpeDtcbiAgICAgICAgdmFyIGlzU2ltcGxlID0gYmFzZVRleC5pc1Bvd2VyT2ZUd29cbiAgICAgICAgICAgICYmIHRleC5mcmFtZS53aWR0aCA9PT0gYmFzZVRleC53aWR0aCAmJiB0ZXguZnJhbWUuaGVpZ2h0ID09PSBiYXNlVGV4LmhlaWdodDtcbiAgICAgICAgLy8gYXV0bywgZm9yY2UgcmVwZWF0IHdyYXBNb2RlIGZvciBiaWcgdGlsaW5nIHRleHR1cmVzXG4gICAgICAgIGlmIChpc1NpbXBsZSkge1xuICAgICAgICAgICAgaWYgKCFiYXNlVGV4Ll9nbFRleHR1cmVzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXSkge1xuICAgICAgICAgICAgICAgIGlmIChiYXNlVGV4LndyYXBNb2RlID09PSBXUkFQX01PREVTLkNMQU1QKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXgud3JhcE1vZGUgPSBXUkFQX01PREVTLlJFUEVBVDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpc1NpbXBsZSA9IGJhc2VUZXgud3JhcE1vZGUgIT09IFdSQVBfTU9ERVMuQ0xBTVA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNoYWRlciA9IGlzU2ltcGxlID8gdGhpcy5zaW1wbGVTaGFkZXIgOiB0aGlzLnNoYWRlcjtcbiAgICAgICAgdmFyIHcgPSB0ZXgud2lkdGg7XG4gICAgICAgIHZhciBoID0gdGV4LmhlaWdodDtcbiAgICAgICAgdmFyIFcgPSB0cy5fd2lkdGg7XG4gICAgICAgIHZhciBIID0gdHMuX2hlaWdodDtcbiAgICAgICAgdGVtcE1hdC5zZXQobHQuYSAqIHcgLyBXLCBsdC5iICogdyAvIEgsIGx0LmMgKiBoIC8gVywgbHQuZCAqIGggLyBILCBsdC50eCAvIFcsIGx0LnR5IC8gSCk7XG4gICAgICAgIC8vIHRoYXQgcGFydCBpcyB0aGUgc2FtZSBhcyBhYm92ZTpcbiAgICAgICAgLy8gdGVtcE1hdC5pZGVudGl0eSgpO1xuICAgICAgICAvLyB0ZW1wTWF0LnNjYWxlKHRleC53aWR0aCwgdGV4LmhlaWdodCk7XG4gICAgICAgIC8vIHRlbXBNYXQucHJlcGVuZChsdCk7XG4gICAgICAgIC8vIHRlbXBNYXQuc2NhbGUoMS4wIC8gdHMuX3dpZHRoLCAxLjAgLyB0cy5faGVpZ2h0KTtcbiAgICAgICAgdGVtcE1hdC5pbnZlcnQoKTtcbiAgICAgICAgaWYgKGlzU2ltcGxlKSB7XG4gICAgICAgICAgICB0ZW1wTWF0LnByZXBlbmQodXYubWFwQ29vcmQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVNYXBDb29yZCA9IHV2Lm1hcENvb3JkLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNsYW1wRnJhbWUgPSB1di51Q2xhbXBGcmFtZTtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q2xhbXBPZmZzZXQgPSB1di51Q2xhbXBPZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVUcmFuc2Zvcm0gPSB0ZW1wTWF0LnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q29sb3IgPSBwcmVtdWx0aXBseVRpbnRUb1JnYmEodHMudGludCwgdHMud29ybGRBbHBoYSwgc2hhZGVyLnVuaWZvcm1zLnVDb2xvciwgYmFzZVRleC5hbHBoYU1vZGUpO1xuICAgICAgICBzaGFkZXIudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSB0cy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0udG9BcnJheSh0cnVlKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gdGV4O1xuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHF1YWQpO1xuICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IGNvcnJlY3RCbGVuZE1vZGUodHMuYmxlbmRNb2RlLCBiYXNlVGV4LmFscGhhTW9kZSk7XG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyh0aGlzLnJlbmRlcmVyLmdsLlRSSUFOR0xFUywgNiwgMCk7XG4gICAgfTtcbiAgICByZXR1cm4gVGlsaW5nU3ByaXRlUmVuZGVyZXI7XG59KE9iamVjdFJlbmRlcmVyKSk7XG5cbmV4cG9ydCB7IFRpbGluZ1Nwcml0ZSwgVGlsaW5nU3ByaXRlUmVuZGVyZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZS10aWxpbmcuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL21lc2ggLSB2Ni4wLjBcbiAqIENvbXBpbGVkIFR1ZSwgMDIgTWFyIDIwMjEgMjE6NDU6MDMgVVRDXG4gKlxuICogQHBpeGkvbWVzaCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFN0YXRlLCBQcm9ncmFtLCBUZXh0dXJlTWF0cml4LCBTaGFkZXIsIEJ1ZmZlciwgR2VvbWV0cnkgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFBvaW50LCBQb2x5Z29uLCBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IERSQVdfTU9ERVMsIFRZUEVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBwcmVtdWx0aXBseVRpbnRUb1JnYmEgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIENsYXNzIGNvbnRyb2xzIGNhY2hlIGZvciBVViBtYXBwaW5nIGZyb20gVGV4dHVyZSBub3JtYWwgc3BhY2UgdG8gQmFzZVRleHR1cmUgbm9ybWFsIHNwYWNlLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1lc2hCYXRjaFV2cyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQnVmZmVyfSB1dkJ1ZmZlciAtIEJ1ZmZlciB3aXRoIG5vcm1hbGl6ZWQgdXYnc1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlTWF0cml4fSB1dk1hdHJpeCAtIE1hdGVyaWFsIFVWIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1lc2hCYXRjaFV2cyh1dkJ1ZmZlciwgdXZNYXRyaXgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1ZmZlciB3aXRoIG5vcm1hbGl6ZWQgVVYnc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZCdWZmZXIgPSB1dkJ1ZmZlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hdGVyaWFsIFVWIG1hdHJpeFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2TWF0cml4ID0gdXZNYXRyaXg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVViBCdWZmZXIgZGF0YVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSWQgPSAtMTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVVwZGF0ZUlkID0gLTE7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogdXBkYXRlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZm9yY2VVcGRhdGVdIC0gZm9yY2UgdGhlIHVwZGF0ZVxuICAgICAqL1xuICAgIE1lc2hCYXRjaFV2cy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGZvcmNlVXBkYXRlKSB7XG4gICAgICAgIGlmICghZm9yY2VVcGRhdGVcbiAgICAgICAgICAgICYmIHRoaXMuX2J1ZmZlclVwZGF0ZUlkID09PSB0aGlzLnV2QnVmZmVyLl91cGRhdGVJRFxuICAgICAgICAgICAgJiYgdGhpcy5fdGV4dHVyZVVwZGF0ZUlkID09PSB0aGlzLnV2TWF0cml4Ll91cGRhdGVJRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlkID0gdGhpcy51dkJ1ZmZlci5fdXBkYXRlSUQ7XG4gICAgICAgIHRoaXMuX3RleHR1cmVVcGRhdGVJZCA9IHRoaXMudXZNYXRyaXguX3VwZGF0ZUlEO1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMudXZCdWZmZXIuZGF0YTtcbiAgICAgICAgaWYgKCF0aGlzLmRhdGEgfHwgdGhpcy5kYXRhLmxlbmd0aCAhPT0gZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZGF0YS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXZNYXRyaXgubXVsdGlwbHlVdnMoZGF0YSwgdGhpcy5kYXRhKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcbiAgICB9O1xuICAgIHJldHVybiBNZXNoQmF0Y2hVdnM7XG59KCkpO1xuXG52YXIgdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG52YXIgdGVtcFBvbHlnb24gPSBuZXcgUG9seWdvbigpO1xuLyoqXG4gKiBCYXNlIG1lc2ggY2xhc3MuXG4gKlxuICogVGhpcyBjbGFzcyBlbXBvd2VycyB5b3UgdG8gaGF2ZSBtYXhpbXVtIGZsZXhpYmlsaXR5IHRvIHJlbmRlciBhbnkga2luZCBvZiBXZWJHTCB2aXN1YWxzIHlvdSBjYW4gdGhpbmsgb2YuXG4gKiBUaGlzIGNsYXNzIGFzc3VtZXMgYSBjZXJ0YWluIGxldmVsIG9mIFdlYkdMIGtub3dsZWRnZS5cbiAqIElmIHlvdSBrbm93IGEgYml0IHRoaXMgc2hvdWxkIGFic3RyYWN0IGVub3VnaCBhd2F5IHRvIG1ha2UgeW91IGxpZmUgZWFzaWVyIVxuICpcbiAqIFByZXR0eSBtdWNoIEFMTCBXZWJHTCBjYW4gYmUgYnJva2VuIGRvd24gaW50byB0aGUgZm9sbG93aW5nOlxuICogLSBHZW9tZXRyeSAtIFRoZSBzdHJ1Y3R1cmUgYW5kIGRhdGEgZm9yIHRoZSBtZXNoLiBUaGlzIGNhbiBpbmNsdWRlIGFueXRoaW5nIGZyb20gcG9zaXRpb25zLCB1dnMsIG5vcm1hbHMsIGNvbG9ycyBldGMuLlxuICogLSBTaGFkZXIgLSBUaGlzIGlzIHRoZSBzaGFkZXIgdGhhdCBQaXhpSlMgd2lsbCByZW5kZXIgdGhlIGdlb21ldHJ5IHdpdGggKGF0dHJpYnV0ZXMgaW4gdGhlIHNoYWRlciBtdXN0IG1hdGNoIHRoZSBnZW9tZXRyeSlcbiAqIC0gU3RhdGUgLSBUaGlzIGlzIHRoZSBzdGF0ZSBvZiBXZWJHTCByZXF1aXJlZCB0byByZW5kZXIgdGhlIG1lc2guXG4gKlxuICogVGhyb3VnaCBhIGNvbWJpbmF0aW9uIG9mIHRoZSBhYm92ZSBlbGVtZW50cyB5b3UgY2FuIHJlbmRlciBhbnl0aGluZyB5b3Ugd2FudCwgMkQgb3IgM0QhXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1lc2ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1lc2gsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIHRoZSBnZW9tZXRyeSB0aGUgbWVzaCB3aWxsIHVzZVxuICAgICAqIEBwYXJhbSB7UElYSS5NZXNoTWF0ZXJpYWx9IHNoYWRlciAtIHRoZSBzaGFkZXIgdGhlIG1lc2ggd2lsbCB1c2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3RhdGV9IFtzdGF0ZV0gLSB0aGUgc3RhdGUgdGhhdCB0aGUgV2ViR0wgY29udGV4dCBpcyByZXF1aXJlZCB0byBiZSBpbiB0byByZW5kZXIgdGhlIG1lc2hcbiAgICAgKiAgICAgICAgaWYgbm8gc3RhdGUgaXMgcHJvdmlkZWQsIHVzZXMge0BsaW5rIFBJWEkuU3RhdGUuZm9yMmR9IHRvIGNyZWF0ZSBhIDJEIHN0YXRlIGZvciBQaXhpSlMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkcmF3TW9kZT1QSVhJLkRSQVdfTU9ERVMuVFJJQU5HTEVTXSAtIHRoZSBkcmF3TW9kZSwgY2FuIGJlIGFueSBvZiB0aGUgUElYSS5EUkFXX01PREVTIGNvbnN0c1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1lc2goZ2VvbWV0cnksIHNoYWRlciwgc3RhdGUsIGRyYXdNb2RlKSB7XG4gICAgICAgIGlmIChkcmF3TW9kZSA9PT0gdm9pZCAwKSB7IGRyYXdNb2RlID0gRFJBV19NT0RFUy5UUklBTkdMRVM7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluY2x1ZGVzIHZlcnRleCBwb3NpdGlvbnMsIGZhY2UgaW5kaWNlcywgbm9ybWFscywgY29sb3JzLCBVVnMsIGFuZFxuICAgICAgICAgKiBjdXN0b20gYXR0cmlidXRlcyB3aXRoaW4gYnVmZmVycywgcmVkdWNpbmcgdGhlIGNvc3Qgb2YgcGFzc2luZyBhbGxcbiAgICAgICAgICogdGhpcyBkYXRhIHRvIHRoZSBHUFUuIENhbiBiZSBzaGFyZWQgYmV0d2VlbiBtdWx0aXBsZSBNZXNoIG9iamVjdHMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR2VvbWV0cnl9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICAgICAgZ2VvbWV0cnkucmVmQ291bnQrKztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgdGhlIHZlcnRleCBhbmQgZnJhZ21lbnQgc2hhZGVycyB0aGF0IHByb2Nlc3NlcyB0aGUgZ2VvbWV0cnkgYW5kIHJ1bnMgb24gdGhlIEdQVS5cbiAgICAgICAgICogQ2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIE1lc2ggb2JqZWN0cy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ8UElYSS5NZXNoTWF0ZXJpYWx9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaGFkZXIgPSBzaGFkZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIHRoZSBXZWJHTCBzdGF0ZSB0aGUgTWVzaCByZXF1aXJlZCB0byByZW5kZXIsIGV4Y2x1ZGVzIHNoYWRlciBhbmQgZ2VvbWV0cnkuIEUuZy4sXG4gICAgICAgICAqIGJsZW5kIG1vZGUsIGN1bGxpbmcsIGRlcHRoIHRlc3RpbmcsIGRpcmVjdGlvbiBvZiByZW5kZXJpbmcgdHJpYW5nbGVzLCBiYWNrZmFjZSwgZXRjLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGUgPSBzdGF0ZSB8fCBTdGF0ZS5mb3IyZCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdheSB0aGUgTWVzaCBzaG91bGQgYmUgZHJhd24sIGNhbiBiZSBhbnkgb2YgdGhlIHtAbGluayBQSVhJLkRSQVdfTU9ERVN9IGNvbnN0YW50cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuRFJBV19NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZHJhd01vZGUgPSBkcmF3TW9kZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFR5cGljYWxseSB0aGUgaW5kZXggb2YgdGhlIEluZGV4QnVmZmVyIHdoZXJlIHRvIHN0YXJ0IGRyYXdpbmcuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhcnQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogSG93IG11Y2ggb2YgdGhlIGdlb21ldHJ5IHRvIGRyYXcsIGJ5IGRlZmF1bHQgYDBgIHJlbmRlcnMgZXZlcnl0aGluZy5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaXplID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZXNlIGFyZSB1c2VkIGFzIGVhc3kgYWNjZXNzIGZvciBiYXRjaGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51dnMgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogdGhlc2UgYXJlIHVzZWQgYXMgZWFzeSBhY2Nlc3MgZm9yIGJhdGNoaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW5kaWNlcyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGlzIGlzIHRoZSBjYWNoaW5nIGxheWVyIHVzZWQgYnkgdGhlIGJhdGNoZXJcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoMSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBnZW9tZXRyeSBpcyBjaGFuZ2VkIHVzZWQgdG8gZGVjaWRlIHRvIHJlLXRyYW5zZm9ybVxuICAgICAgICAgKiB0aGUgdmVydGV4RGF0YS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVydGV4RGlydHkgPSAwO1xuICAgICAgICBfdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHJvdW5kUGl4ZWxzIGZpZWxkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcm91bmRQaXhlbHMgPSBzZXR0aW5ncy5ST1VORF9QSVhFTFM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCYXRjaGVkIFVWJ3MgYXJlIGNhY2hlZCBmb3IgYXRsYXMgdGV4dHVyZXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NZXNoQmF0Y2hVdnN9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXRjaFV2cyA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2gucHJvdG90eXBlLCBcInV2QnVmZmVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRvIGNoYW5nZSBtZXNoIHV2J3MsIGNoYW5nZSBpdHMgdXZCdWZmZXIgZGF0YSBhbmQgaW5jcmVtZW50IGl0cyBfdXBkYXRlSUQuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQnVmZmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1sxXTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoLnByb3RvdHlwZSwgXCJ2ZXJ0aWNlc0J1ZmZlclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUbyBjaGFuZ2UgbWVzaCB2ZXJ0aWNlcywgY2hhbmdlIGl0cyB1dkJ1ZmZlciBkYXRhIGFuZCBpbmNyZW1lbnQgaXRzIF91cGRhdGVJRC5cbiAgICAgICAgICogSW5jcmVtZW50aW5nIF91cGRhdGVJRCBpcyBvcHRpb25hbCBiZWNhdXNlIG1vc3Qgb2YgTWVzaCBvYmplY3RzIGRvIGl0IGFueXdheS5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CdWZmZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzBdO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2gucHJvdG90eXBlLCBcIm1hdGVyaWFsXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXI7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbGlhcyBmb3Ige0BsaW5rIFBJWEkuTWVzaCNzaGFkZXJ9LlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1lc2hNYXRlcmlhbH1cbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlciA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2gucHJvdG90eXBlLCBcImJsZW5kTW9kZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuYmxlbmRNb2RlO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgTWVzaC4gQXBwbHkgYSB2YWx1ZSBvZlxuICAgICAgICAgKiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2gucHJvdG90eXBlLCBcInJvdW5kUGl4ZWxzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm91bmRQaXhlbHM7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICAgICAqIFRvIHNldCB0aGUgZ2xvYmFsIGRlZmF1bHQsIGNoYW5nZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFN9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9yb3VuZFBpeGVscyA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2gucHJvdG90eXBlLCBcInRpbnRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG11bHRpcGx5IHRpbnQgYXBwbGllZCB0byB0aGUgTWVzaC4gVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZlxuICAgICAgICAgKiBgMHhGRkZGRkZgIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogTnVsbCBmb3Igbm9uLU1lc2hNYXRlcmlhbCBzaGFkZXJzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICd0aW50JyBpbiB0aGlzLnNoYWRlciA/IHRoaXMuc2hhZGVyLnRpbnQgOiBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIudGludCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2gucHJvdG90eXBlLCBcInRleHR1cmVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgTWVzaCB1c2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBOdWxsIGZvciBub24tTWVzaE1hdGVyaWFsIHNoYWRlcnNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3RleHR1cmUnIGluIHRoaXMuc2hhZGVyID8gdGhpcy5zaGFkZXIudGV4dHVyZSA6IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci50ZXh0dXJlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBTdGFuZGFyZCByZW5kZXJlciBkcmF3LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gSW5zdGFuY2UgdG8gcmVuZGVyZXIuXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICAvLyBzZXQgcHJvcGVydGllcyBmb3IgYmF0Y2hpbmcuLlxuICAgICAgICAvLyBUT0RPIGNvdWxkIHVzZSBhIGRpZmZlcmVudCB3YXkgdG8gZ3JhYiB2ZXJ0cz9cbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzBdLmRhdGE7XG4gICAgICAgIHZhciBzaGFkZXIgPSB0aGlzLnNoYWRlcjtcbiAgICAgICAgLy8gVE9ETyBiZW5jaG1hcmsgY2hlY2sgZm9yIGF0dHJpYnV0ZSBzaXplLi5cbiAgICAgICAgaWYgKHNoYWRlci5iYXRjaGFibGVcbiAgICAgICAgICAgICYmIHRoaXMuZHJhd01vZGUgPT09IERSQVdfTU9ERVMuVFJJQU5HTEVTXG4gICAgICAgICAgICAmJiB2ZXJ0aWNlcy5sZW5ndGggPCBNZXNoLkJBVENIQUJMRV9TSVpFICogMikge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVG9CYXRjaChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJEZWZhdWx0KHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RhbmRhcmQgbm9uLWJhdGNoaW5nIHdheSBvZiByZW5kZXJpbmcuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBJbnN0YW5jZSB0byByZW5kZXJlci5cbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5fcmVuZGVyRGVmYXVsdCA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICB2YXIgc2hhZGVyID0gdGhpcy5zaGFkZXI7XG4gICAgICAgIHNoYWRlci5hbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICAgICAgaWYgKHNoYWRlci51cGRhdGUpIHtcbiAgICAgICAgICAgIHNoYWRlci51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICBpZiAoc2hhZGVyLnByb2dyYW0udW5pZm9ybURhdGEudHJhbnNsYXRpb25NYXRyaXgpIHtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYmluZCBhbmQgc3luYyB1bmlmb3Jtcy4uXG4gICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKHNoYWRlcik7XG4gICAgICAgIC8vIHNldCBzdGF0ZS4uXG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcbiAgICAgICAgLy8gYmluZCB0aGUgZ2VvbWV0cnkuLi5cbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZCh0aGlzLmdlb21ldHJ5LCBzaGFkZXIpO1xuICAgICAgICAvLyB0aGVuIHJlbmRlciBpdFxuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KHRoaXMuZHJhd01vZGUsIHRoaXMuc2l6ZSwgdGhpcy5zdGFydCwgdGhpcy5nZW9tZXRyeS5pbnN0YW5jZUNvdW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcmluZyBieSB1c2luZyB0aGUgQmF0Y2ggc3lzdGVtLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gSW5zdGFuY2UgdG8gcmVuZGVyZXIuXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuX3JlbmRlclRvQmF0Y2ggPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICAgICAgdmFyIHNoYWRlciA9IHRoaXMuc2hhZGVyO1xuICAgICAgICBpZiAoc2hhZGVyLnV2TWF0cml4KSB7XG4gICAgICAgICAgICBzaGFkZXIudXZNYXRyaXgudXBkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVV2cygpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBwcm9wZXJ0aWVzIGZvciBiYXRjaGluZy4uXG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gZ2VvbWV0cnkuaW5kZXhCdWZmZXIuZGF0YTtcbiAgICAgICAgdGhpcy5fdGludFJHQiA9IHNoYWRlci5fdGludFJHQjtcbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHNoYWRlci50ZXh0dXJlO1xuICAgICAgICB2YXIgcGx1Z2luTmFtZSA9IHRoaXMubWF0ZXJpYWwucGx1Z2luTmFtZTtcbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1twbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbcGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB2ZXJ0ZXhEYXRhIGZpZWxkIGJhc2VkIG9uIHRyYW5zZm9ybSBhbmQgdmVydGljZXNcbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5jYWxjdWxhdGVWZXJ0aWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gZ2VvbWV0cnkuYnVmZmVyc1swXS5kYXRhO1xuICAgICAgICBpZiAoZ2VvbWV0cnkudmVydGV4RGlydHlJZCA9PT0gdGhpcy52ZXJ0ZXhEaXJ0eSAmJiB0aGlzLl90cmFuc2Zvcm1JRCA9PT0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICBpZiAodGhpcy52ZXJ0ZXhEYXRhLmxlbmd0aCAhPT0gdmVydGljZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRpY2VzLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBhID0gd3QuYTtcbiAgICAgICAgdmFyIGIgPSB3dC5iO1xuICAgICAgICB2YXIgYyA9IHd0LmM7XG4gICAgICAgIHZhciBkID0gd3QuZDtcbiAgICAgICAgdmFyIHR4ID0gd3QudHg7XG4gICAgICAgIHZhciB0eSA9IHd0LnR5O1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4RGF0YTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aCAvIDI7IGkrKykge1xuICAgICAgICAgICAgdmFyIHggPSB2ZXJ0aWNlc1soaSAqIDIpXTtcbiAgICAgICAgICAgIHZhciB5ID0gdmVydGljZXNbKGkgKiAyKSArIDFdO1xuICAgICAgICAgICAgdmVydGV4RGF0YVsoaSAqIDIpXSA9IChhICogeCkgKyAoYyAqIHkpICsgdHg7XG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhWyhpICogMikgKyAxXSA9IChiICogeCkgKyAoZCAqIHkpICsgdHk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRleERhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhW2ldID0gTWF0aC5yb3VuZCgodmVydGV4RGF0YVtpXSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudmVydGV4RGlydHkgPSBnZW9tZXRyeS52ZXJ0ZXhEaXJ0eUlkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB1diBmaWVsZCBiYXNlZCBvbiBmcm9tIGdlb21ldHJ5IHV2J3Mgb3IgYmF0Y2hVdnNcbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5jYWxjdWxhdGVVdnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnZW9tVXZzID0gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdO1xuICAgICAgICB2YXIgc2hhZGVyID0gdGhpcy5zaGFkZXI7XG4gICAgICAgIGlmICghc2hhZGVyLnV2TWF0cml4LmlzU2ltcGxlKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYmF0Y2hVdnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhdGNoVXZzID0gbmV3IE1lc2hCYXRjaFV2cyhnZW9tVXZzLCBzaGFkZXIudXZNYXRyaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5iYXRjaFV2cy51cGRhdGUoKTtcbiAgICAgICAgICAgIHRoaXMudXZzID0gdGhpcy5iYXRjaFV2cy5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51dnMgPSBnZW9tVXZzLmRhdGE7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgbWVzaCBhcyBhIHJlY3RhbmdsZS4gVGhlIGJvdW5kcyBjYWxjdWxhdGlvbiB0YWtlcyB0aGUgd29ybGRUcmFuc2Zvcm0gaW50byBhY2NvdW50LlxuICAgICAqIHRoZXJlIG11c3QgYmUgYSBhVmVydGV4UG9zaXRpb24gYXR0cmlidXRlIHByZXNlbnQgaW4gdGhlIGdlb21ldHJ5IGZvciBib3VuZHMgdG8gYmUgY2FsY3VsYXRlZCBjb3JyZWN0bHkuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkVmVydGV4RGF0YSh0aGlzLnZlcnRleERhdGEsIDAsIHRoaXMudmVydGV4RGF0YS5sZW5ndGgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBtZXNoLiBXb3JrcyBvbmx5IGZvciBQSVhJLkRSQVdfTU9ERVMuVFJJQU5HTEVTLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHBvaW50IC0gdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0aGUgcmVzdWx0IG9mIHRoZSB0ZXN0XG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICBpZiAoIXRoaXMuZ2V0Qm91bmRzKCkuY29udGFpbnMocG9pbnQueCwgcG9pbnQueSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLmRhdGE7XG4gICAgICAgIHZhciBwb2ludHMgPSB0ZW1wUG9seWdvbi5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gdGhpcy5nZW9tZXRyeS5nZXRJbmRleCgpLmRhdGE7XG4gICAgICAgIHZhciBsZW4gPSBpbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgdmFyIHN0ZXAgPSB0aGlzLmRyYXdNb2RlID09PSA0ID8gMyA6IDE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpICsgMiA8IGxlbjsgaSArPSBzdGVwKSB7XG4gICAgICAgICAgICB2YXIgaW5kMCA9IGluZGljZXNbaV0gKiAyO1xuICAgICAgICAgICAgdmFyIGluZDEgPSBpbmRpY2VzW2kgKyAxXSAqIDI7XG4gICAgICAgICAgICB2YXIgaW5kMiA9IGluZGljZXNbaSArIDJdICogMjtcbiAgICAgICAgICAgIHBvaW50c1swXSA9IHZlcnRpY2VzW2luZDBdO1xuICAgICAgICAgICAgcG9pbnRzWzFdID0gdmVydGljZXNbaW5kMCArIDFdO1xuICAgICAgICAgICAgcG9pbnRzWzJdID0gdmVydGljZXNbaW5kMV07XG4gICAgICAgICAgICBwb2ludHNbM10gPSB2ZXJ0aWNlc1tpbmQxICsgMV07XG4gICAgICAgICAgICBwb2ludHNbNF0gPSB2ZXJ0aWNlc1tpbmQyXTtcbiAgICAgICAgICAgIHBvaW50c1s1XSA9IHZlcnRpY2VzW2luZDIgKyAxXTtcbiAgICAgICAgICAgIGlmICh0ZW1wUG9seWdvbi5jb250YWlucyh0ZW1wUG9pbnQueCwgdGVtcFBvaW50LnkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIE1lc2ggb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGxcbiAgICAgKiAgb3B0aW9ucyBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZVxuICAgICAqICB0aGVpciBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5yZWZDb3VudC0tO1xuICAgICAgICBpZiAodGhpcy5nZW9tZXRyeS5yZWZDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2NhY2hlZFRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlZFRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMudXZzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiB2ZXJ0aWNlcyB0byBjb25zaWRlciBiYXRjaGFibGUuIEdlbmVyYWxseSwgdGhlIGNvbXBsZXhpdHlcbiAgICAgKiBvZiB0aGUgZ2VvbWV0cnkuXG4gICAgICogQG1lbWJlcm9mIFBJWEkuTWVzaFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9IEJBVENIQUJMRV9TSVpFXG4gICAgICovXG4gICAgTWVzaC5CQVRDSEFCTEVfU0laRSA9IDEwMDtcbiAgICByZXR1cm4gTWVzaDtcbn0oQ29udGFpbmVyKSk7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB1Q29sb3I7XFxufVxcblwiO1xuXG52YXIgdmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHVUZXh0dXJlTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9ICh1VGV4dHVyZU1hdHJpeCAqIHZlYzMoYVRleHR1cmVDb29yZCwgMS4wKSkueHk7XFxufVxcblwiO1xuXG4vKipcbiAqIFNsaWdodGx5IG9waW5pb25hdGVkIGRlZmF1bHQgc2hhZGVyIGZvciBQaXhpSlMgMkQgb2JqZWN0cy5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuU2hhZGVyXG4gKi9cbnZhciBNZXNoTWF0ZXJpYWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1lc2hNYXRlcmlhbCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdVNhbXBsZXIgLSBUZXh0dXJlIHRoYXQgbWF0ZXJpYWwgdXNlcyB0byByZW5kZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIEFkZGl0aW9uYWwgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbHBoYT0xXSAtIERlZmF1bHQgYWxwaGEuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnRpbnQ9MHhGRkZGRkZdIC0gRGVmYXVsdCB0aW50LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wbHVnaW5OYW1lPSdiYXRjaCddIC0gUmVuZGVyZXIgcGx1Z2luIGZvciBiYXRjaGluZy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gW29wdGlvbnMucHJvZ3JhbT0weEZGRkZGRl0gLSBDdXN0b20gcHJvZ3JhbS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMudW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1lc2hNYXRlcmlhbCh1U2FtcGxlciwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICB1U2FtcGxlcjogdVNhbXBsZXIsXG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIHVUZXh0dXJlTWF0cml4OiBNYXRyaXguSURFTlRJVFksXG4gICAgICAgICAgICB1Q29sb3I6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gU2V0IGRlZmF1bHRzXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHRpbnQ6IDB4RkZGRkZGLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICBwbHVnaW5OYW1lOiAnYmF0Y2gnLFxuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKG9wdGlvbnMudW5pZm9ybXMpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odW5pZm9ybXMsIG9wdGlvbnMudW5pZm9ybXMpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgb3B0aW9ucy5wcm9ncmFtIHx8IFByb2dyYW0uZnJvbSh2ZXJ0ZXgsIGZyYWdtZW50KSwgdW5pZm9ybXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPbmx5IGRvIHVwZGF0ZSBpZiB0aW50IG9yIGFscGhhIGNoYW5nZXMuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fY29sb3JEaXJ0eSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dHVyZU1hdHJpeCBpbnN0YW5jZSBmb3IgdGhpcyBNZXNoLCB1c2VkIHRvIHRyYWNrIFRleHR1cmUgY2hhbmdlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZNYXRyaXggPSBuZXcgVGV4dHVyZU1hdHJpeCh1U2FtcGxlcik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgc2hhZGVyIGNhbiBiZSBiYXRjaCB3aXRoIHRoZSByZW5kZXJlcidzIGJhdGNoIHN5c3RlbS5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmF0Y2hhYmxlID0gb3B0aW9ucy5wcm9ncmFtID09PSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXJlciBwbHVnaW4gZm9yIGJhdGNoaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ2JhdGNoJ1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGx1Z2luTmFtZSA9IG9wdGlvbnMucGx1Z2luTmFtZTtcbiAgICAgICAgX3RoaXMudGludCA9IG9wdGlvbnMudGludDtcbiAgICAgICAgX3RoaXMuYWxwaGEgPSBvcHRpb25zLmFscGhhO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcInRleHR1cmVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSB0ZXh0dXJlIGJlaW5nIHJlbmRlcmVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVTYW1wbGVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMudW5pZm9ybXMudVNhbXBsZXIgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51U2FtcGxlciA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMudXZNYXRyaXgudGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwiYWxwaGFcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbHBoYTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgZ2V0cyBhdXRvbWF0aWNhbGx5IHNldCBieSB0aGUgb2JqZWN0IHVzaW5nIHRoaXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5fYWxwaGEpXG4gICAgICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgICAgIHRoaXMuX2FscGhhID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9jb2xvckRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcInRpbnRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogTXVsdGlwbHkgdGludCBmb3IgdGhlIG1hdGVyaWFsLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLl90aW50KVxuICAgICAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgICAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl90aW50UkdCID0gKHZhbHVlID4+IDE2KSArICh2YWx1ZSAmIDB4ZmYwMCkgKyAoKHZhbHVlICYgMHhmZikgPDwgMTYpO1xuICAgICAgICAgICAgdGhpcy5fY29sb3JEaXJ0eSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBHZXRzIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBNZXNoLiBJbnRlbmRlZCB0byBiZSBvdmVycmlkZGVuIGZvciBjdXN0b21cbiAgICAgKiBNZXNoTWF0ZXJpYWwgb2JqZWN0cy5cbiAgICAgKi9cbiAgICBNZXNoTWF0ZXJpYWwucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbG9yRGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbG9yRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIHByZW11bHRpcGx5VGludFRvUmdiYSh0aGlzLl90aW50LCB0aGlzLl9hbHBoYSwgdGhpcy51bmlmb3Jtcy51Q29sb3IsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudXZNYXRyaXgudXBkYXRlKCkpIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudVRleHR1cmVNYXRyaXggPSB0aGlzLnV2TWF0cml4Lm1hcENvb3JkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTWVzaE1hdGVyaWFsO1xufShTaGFkZXIpKTtcblxuLyoqXG4gKiBTdGFuZGFyZCAyRCBnZW9tZXRyeSB1c2VkIGluIFBpeGlKUy5cbiAqXG4gKiBHZW9tZXRyeSBjYW4gYmUgZGVmaW5lZCB3aXRob3V0IHBhc3NpbmcgaW4gYSBzdHlsZSBvciBkYXRhIGlmIHJlcXVpcmVkLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBnZW9tZXRyeSA9IG5ldyBQSVhJLkdlb21ldHJ5KCk7XG4gKlxuICogZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCdwb3NpdGlvbnMnLCBbMCwgMCwgMTAwLCAwLCAxMDAsIDEwMCwgMCwgMTAwXSwgMik7XG4gKiBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3V2cycsIFswLDAsMSwwLDEsMSwwLDFdLCAyKTtcbiAqIGdlb21ldHJ5LmFkZEluZGV4KFswLDEsMiwxLDMsMl0pO1xuICpcbiAqIGBgYFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5HZW9tZXRyeVxuICovXG52YXIgTWVzaEdlb21ldHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNZXNoR2VvbWV0cnksIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8bnVtYmVyW119IFt2ZXJ0aWNlc10gLSBQb3NpdGlvbmFsIGRhdGEgb24gZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8bnVtYmVyW119IFt1dnNdIC0gVGV4dHVyZSBVVnMuXG4gICAgICogQHBhcmFtIHtVaW50MTZBcnJheXxudW1iZXJbXX0gW2luZGV4XSAtIEluZGV4QnVmZmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWVzaEdlb21ldHJ5KHZlcnRpY2VzLCB1dnMsIGluZGV4KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIHZhciB2ZXJ0aWNlc0J1ZmZlciA9IG5ldyBCdWZmZXIodmVydGljZXMpO1xuICAgICAgICB2YXIgdXZzQnVmZmVyID0gbmV3IEJ1ZmZlcih1dnMsIHRydWUpO1xuICAgICAgICB2YXIgaW5kZXhCdWZmZXIgPSBuZXcgQnVmZmVyKGluZGV4LCB0cnVlLCB0cnVlKTtcbiAgICAgICAgX3RoaXMuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCB2ZXJ0aWNlc0J1ZmZlciwgMiwgZmFsc2UsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVDb29yZCcsIHV2c0J1ZmZlciwgMiwgZmFsc2UsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEluZGV4KGluZGV4QnVmZmVyKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpcnR5IGZsYWcgdG8gbGltaXQgdXBkYXRlIGNhbGxzIG9uIE1lc2guIEZvciBleGFtcGxlLFxuICAgICAgICAgKiBsaW1pdGluZyB1cGRhdGVzIG9uIGEgc2luZ2xlIE1lc2ggaW5zdGFuY2Ugd2l0aCBhIHNoYXJlZCBHZW9tZXRyeVxuICAgICAgICAgKiB3aXRoaW4gdGhlIHJlbmRlciBsb29wLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IC0xXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdXBkYXRlSWQgPSAtMTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEdlb21ldHJ5LnByb3RvdHlwZSwgXCJ2ZXJ0ZXhEaXJ0eUlkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSB2ZXJ0ZXggcG9zaXRpb24gaXMgdXBkYXRlZC5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyc1swXS5fdXBkYXRlSUQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gTWVzaEdlb21ldHJ5O1xufShHZW9tZXRyeSkpO1xuXG5leHBvcnQgeyBNZXNoLCBNZXNoQmF0Y2hVdnMsIE1lc2hHZW9tZXRyeSwgTWVzaE1hdGVyaWFsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXNoLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS90ZXh0LWJpdG1hcCAtIHY2LjAuMFxuICogQ29tcGlsZWQgVHVlLCAwMiBNYXIgMjAyMSAyMTo0NTowMyBVVENcbiAqXG4gKiBAcGl4aS90ZXh0LWJpdG1hcCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFJlY3RhbmdsZSwgUG9pbnQsIE9ic2VydmFibGVQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBNZXNoR2VvbWV0cnksIE1lc2hNYXRlcmlhbCwgTWVzaCB9IGZyb20gJ0BwaXhpL21lc2gnO1xuaW1wb3J0IHsgaGV4MnJnYiwgc3RyaW5nMmhleCwgZ2V0UmVzb2x1dGlvbk9mVXJsLCByZW1vdmVJdGVtcyB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IEJhc2VUZXh0dXJlLCBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBURVhUX0dSQURJRU5ULCBUZXh0U3R5bGUsIFRleHRNZXRyaWNzIH0gZnJvbSAnQHBpeGkvdGV4dCc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IExvYWRlclJlc291cmNlIH0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4vKipcbiAqIE5vcm1hbGl6ZWQgcGFyc2VkIGRhdGEgZnJvbSAuZm50IGZpbGVzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJpdG1hcEZvbnREYXRhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJpdG1hcEZvbnREYXRhKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JQml0bWFwRm9udERhdGFJbmZvW119XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmZvID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLklCaXRtYXBGb250RGF0YUNvbW1vbltdfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29tbW9uID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLklCaXRtYXBGb250RGF0YVBhZ2VbXX1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBhZ2UgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSUJpdG1hcEZvbnREYXRhQ2hhcltdfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hhciA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JQml0bWFwRm9udERhdGFLZXJuaW5nW119XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5rZXJuaW5nID0gW107XG4gICAgfVxuICAgIHJldHVybiBCaXRtYXBGb250RGF0YTtcbn0oKSk7XG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQml0bWFwRm9udERhdGFJbmZvXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZmFjZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNpemVcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge29iamVjdH0gSUJpdG1hcEZvbnREYXRhQ29tbW9uXG4gKiBAcHJvcGVydHkge251bWJlcn0gbGluZUhlaWdodFxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQml0bWFwRm9udERhdGFQYWdlXG4gKiBAcHJvcGVydHkge251bWJlcn0gaWRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBmaWxlXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElCaXRtYXBGb250RGF0YUNoYXJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHBhZ2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4XG4gKiBAcHJvcGVydHkge251bWJlcn0geVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoXG4gKiBAcHJvcGVydHkge251bWJlcn0gaGVpZ2h0XG4gKiBAcHJvcGVydHkge251bWJlcn0geG9mZnNldFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHlvZmZzZXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4YWR2YW5jZVxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQml0bWFwRm9udERhdGFLZXJuaW5nXG4gKiBAcHJvcGVydHkge251bWJlcn0gZmlyc3RcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzZWNvbmRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhbW91bnRcbiAqL1xuXG4vKipcbiAqIEJpdG1hcEZvbnQgZm9ybWF0IHRoYXQncyBUZXh0LWJhc2VkLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xudmFyIFRleHRGb3JtYXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGV4dEZvcm1hdCgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgcmVzb3VyY2UgcmVmZXJzIHRvIHR4dCBmb250IGRhdGEuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2FueX0gZGF0YVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcmVzb3VyY2UgY291bGQgYmUgdHJlYXRlZCBhcyBmb250IGRhdGEsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBUZXh0Rm9ybWF0LnRlc3QgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEuaW5kZXhPZignaW5mbyBmYWNlPScpID09PSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udmVydCB0ZXh0IGZvbnQgZGF0YSB0byBhIGphdmFzY3JpcHQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR4dCAtIFJhdyBzdHJpbmcgZGF0YSB0byBiZSBjb252ZXJ0ZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJpdG1hcEZvbnREYXRhfSBQYXJzZWQgZm9udCBkYXRhXG4gICAgICovXG4gICAgVGV4dEZvcm1hdC5wYXJzZSA9IGZ1bmN0aW9uICh0eHQpIHtcbiAgICAgICAgLy8gUmV0cmlldmUgZGF0YSBpdGVtXG4gICAgICAgIHZhciBpdGVtcyA9IHR4dC5tYXRjaCgvXlthLXpdK1xccysuKyQvZ20pO1xuICAgICAgICB2YXIgcmF3RGF0YSA9IHtcbiAgICAgICAgICAgIGluZm86IFtdLFxuICAgICAgICAgICAgY29tbW9uOiBbXSxcbiAgICAgICAgICAgIHBhZ2U6IFtdLFxuICAgICAgICAgICAgY2hhcjogW10sXG4gICAgICAgICAgICBjaGFyczogW10sXG4gICAgICAgICAgICBrZXJuaW5nOiBbXSxcbiAgICAgICAgICAgIGtlcm5pbmdzOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBpdGVtcykge1xuICAgICAgICAgICAgLy8gRXh0cmFjdCBpdGVtIG5hbWVcbiAgICAgICAgICAgIHZhciBuYW1lID0gaXRlbXNbaV0ubWF0Y2goL15bYS16XSsvZ20pWzBdO1xuICAgICAgICAgICAgLy8gRXh0cmFjdCBpdGVtIGF0dHJpYnV0ZSBsaXN0IGFzIHN0cmluZyBleC46IFwid2lkdGg9MTBcIlxuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZUxpc3QgPSBpdGVtc1tpXS5tYXRjaCgvW2EtekEtWl0rPShbXlxcc1wiJ10rfFwiKFteXCJdKilcIikvZ20pO1xuICAgICAgICAgICAgLy8gQ29udmVydCBhdHRyaWJ1dGUgbGlzdCBpbnRvIGFuIG9iamVjdFxuICAgICAgICAgICAgdmFyIGl0ZW1EYXRhID0ge307XG4gICAgICAgICAgICBmb3IgKHZhciBpXzEgaW4gYXR0cmlidXRlTGlzdCkge1xuICAgICAgICAgICAgICAgIC8vIFNwbGl0IGtleS12YWx1ZSBwYWlyc1xuICAgICAgICAgICAgICAgIHZhciBzcGxpdCA9IGF0dHJpYnV0ZUxpc3RbaV8xXS5zcGxpdCgnPScpO1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBzcGxpdFswXTtcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZXZlbnR1YWwgcXVvdGVzIGZyb20gdmFsdWVcbiAgICAgICAgICAgICAgICB2YXIgc3RyVmFsdWUgPSBzcGxpdFsxXS5yZXBsYWNlKC9cIi9nbSwgJycpO1xuICAgICAgICAgICAgICAgIC8vIFRyeSB0byBjb252ZXJ0IHZhbHVlIGludG8gZmxvYXRcbiAgICAgICAgICAgICAgICB2YXIgZmxvYXRWYWx1ZSA9IHBhcnNlRmxvYXQoc3RyVmFsdWUpO1xuICAgICAgICAgICAgICAgIC8vIFVzZSBzdHJpbmcgdmFsdWUgY2FzZSBmbG9hdCB2YWx1ZSBpcyBOYU5cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBpc05hTihmbG9hdFZhbHVlKSA/IHN0clZhbHVlIDogZmxvYXRWYWx1ZTtcbiAgICAgICAgICAgICAgICBpdGVtRGF0YVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQdXNoIGN1cnJlbnQgaXRlbSB0byB0aGUgcmVzdWx0aW5nIGRhdGFcbiAgICAgICAgICAgIHJhd0RhdGFbbmFtZV0ucHVzaChpdGVtRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZvbnQgPSBuZXcgQml0bWFwRm9udERhdGEoKTtcbiAgICAgICAgcmF3RGF0YS5pbmZvLmZvckVhY2goZnVuY3Rpb24gKGluZm8pIHsgcmV0dXJuIGZvbnQuaW5mby5wdXNoKHtcbiAgICAgICAgICAgIGZhY2U6IGluZm8uZmFjZSxcbiAgICAgICAgICAgIHNpemU6IHBhcnNlSW50KGluZm8uc2l6ZSwgMTApLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJhd0RhdGEuY29tbW9uLmZvckVhY2goZnVuY3Rpb24gKGNvbW1vbikgeyByZXR1cm4gZm9udC5jb21tb24ucHVzaCh7XG4gICAgICAgICAgICBsaW5lSGVpZ2h0OiBwYXJzZUludChjb21tb24ubGluZUhlaWdodCwgMTApLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJhd0RhdGEucGFnZS5mb3JFYWNoKGZ1bmN0aW9uIChwYWdlKSB7IHJldHVybiBmb250LnBhZ2UucHVzaCh7XG4gICAgICAgICAgICBpZDogcGFyc2VJbnQocGFnZS5pZCwgMTApLFxuICAgICAgICAgICAgZmlsZTogcGFnZS5maWxlLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJhd0RhdGEuY2hhci5mb3JFYWNoKGZ1bmN0aW9uIChjaGFyKSB7IHJldHVybiBmb250LmNoYXIucHVzaCh7XG4gICAgICAgICAgICBpZDogcGFyc2VJbnQoY2hhci5pZCwgMTApLFxuICAgICAgICAgICAgcGFnZTogcGFyc2VJbnQoY2hhci5wYWdlLCAxMCksXG4gICAgICAgICAgICB4OiBwYXJzZUludChjaGFyLngsIDEwKSxcbiAgICAgICAgICAgIHk6IHBhcnNlSW50KGNoYXIueSwgMTApLFxuICAgICAgICAgICAgd2lkdGg6IHBhcnNlSW50KGNoYXIud2lkdGgsIDEwKSxcbiAgICAgICAgICAgIGhlaWdodDogcGFyc2VJbnQoY2hhci5oZWlnaHQsIDEwKSxcbiAgICAgICAgICAgIHhvZmZzZXQ6IHBhcnNlSW50KGNoYXIueG9mZnNldCwgMTApLFxuICAgICAgICAgICAgeW9mZnNldDogcGFyc2VJbnQoY2hhci55b2Zmc2V0LCAxMCksXG4gICAgICAgICAgICB4YWR2YW5jZTogcGFyc2VJbnQoY2hhci54YWR2YW5jZSwgMTApLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJhd0RhdGEua2VybmluZy5mb3JFYWNoKGZ1bmN0aW9uIChrZXJuaW5nKSB7IHJldHVybiBmb250Lmtlcm5pbmcucHVzaCh7XG4gICAgICAgICAgICBmaXJzdDogcGFyc2VJbnQoa2VybmluZy5maXJzdCwgMTApLFxuICAgICAgICAgICAgc2Vjb25kOiBwYXJzZUludChrZXJuaW5nLnNlY29uZCwgMTApLFxuICAgICAgICAgICAgYW1vdW50OiBwYXJzZUludChrZXJuaW5nLmFtb3VudCwgMTApLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJldHVybiBmb250O1xuICAgIH07XG4gICAgcmV0dXJuIFRleHRGb3JtYXQ7XG59KCkpO1xuXG4vKipcbiAqIEJpdG1hcEZvbnQgZm9ybWF0IHRoYXQncyBYTUwtYmFzZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgWE1MRm9ybWF0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFhNTEZvcm1hdCgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgcmVzb3VyY2UgcmVmZXJzIHRvIHhtbCBmb250IGRhdGEuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2FueX0gZGF0YVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcmVzb3VyY2UgY291bGQgYmUgdHJlYXRlZCBhcyBmb250IGRhdGEsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBYTUxGb3JtYXQudGVzdCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiBkYXRhIGluc3RhbmNlb2YgWE1MRG9jdW1lbnRcbiAgICAgICAgICAgICYmIGRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhZ2UnKS5sZW5ndGhcbiAgICAgICAgICAgICYmIGRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2luZm8nKVswXS5nZXRBdHRyaWJ1dGUoJ2ZhY2UnKSAhPT0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdGhlIFhNTCBpbnRvIEJpdG1hcEZvbnREYXRhIHRoYXQgd2UgY2FuIHVzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MRG9jdW1lbnR9IHhtbFxuICAgICAqIEByZXR1cm4ge0JpdG1hcEZvbnREYXRhfSBEYXRhIHRvIHVzZSBmb3IgQml0bWFwRm9udFxuICAgICAqL1xuICAgIFhNTEZvcm1hdC5wYXJzZSA9IGZ1bmN0aW9uICh4bWwpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBuZXcgQml0bWFwRm9udERhdGEoKTtcbiAgICAgICAgdmFyIGluZm8gPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2luZm8nKTtcbiAgICAgICAgdmFyIGNvbW1vbiA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY29tbW9uJyk7XG4gICAgICAgIHZhciBwYWdlID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYWdlJyk7XG4gICAgICAgIHZhciBjaGFyID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjaGFyJyk7XG4gICAgICAgIHZhciBrZXJuaW5nID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdrZXJuaW5nJyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5mby5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YS5pbmZvLnB1c2goe1xuICAgICAgICAgICAgICAgIGZhY2U6IGluZm9baV0uZ2V0QXR0cmlidXRlKCdmYWNlJyksXG4gICAgICAgICAgICAgICAgc2l6ZTogcGFyc2VJbnQoaW5mb1tpXS5nZXRBdHRyaWJ1dGUoJ3NpemUnKSwgMTApLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21tb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGEuY29tbW9uLnB1c2goe1xuICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQ6IHBhcnNlSW50KGNvbW1vbltpXS5nZXRBdHRyaWJ1dGUoJ2xpbmVIZWlnaHQnKSwgMTApLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWdlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkYXRhLnBhZ2UucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IHBhcnNlSW50KHBhZ2VbaV0uZ2V0QXR0cmlidXRlKCdpZCcpLCAxMCkgfHwgMCxcbiAgICAgICAgICAgICAgICBmaWxlOiBwYWdlW2ldLmdldEF0dHJpYnV0ZSgnZmlsZScpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbGV0dGVyID0gY2hhcltpXTtcbiAgICAgICAgICAgIGRhdGEuY2hhci5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgnaWQnKSwgMTApLFxuICAgICAgICAgICAgICAgIHBhZ2U6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3BhZ2UnKSwgMTApIHx8IDAsXG4gICAgICAgICAgICAgICAgeDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneCcpLCAxMCksXG4gICAgICAgICAgICAgICAgeTogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneScpLCAxMCksXG4gICAgICAgICAgICAgICAgd2lkdGg6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3dpZHRoJyksIDEwKSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpLCAxMCksXG4gICAgICAgICAgICAgICAgeG9mZnNldDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneG9mZnNldCcpLCAxMCksXG4gICAgICAgICAgICAgICAgeW9mZnNldDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneW9mZnNldCcpLCAxMCksXG4gICAgICAgICAgICAgICAgeGFkdmFuY2U6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3hhZHZhbmNlJyksIDEwKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2VybmluZy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YS5rZXJuaW5nLnB1c2goe1xuICAgICAgICAgICAgICAgIGZpcnN0OiBwYXJzZUludChrZXJuaW5nW2ldLmdldEF0dHJpYnV0ZSgnZmlyc3QnKSwgMTApLFxuICAgICAgICAgICAgICAgIHNlY29uZDogcGFyc2VJbnQoa2VybmluZ1tpXS5nZXRBdHRyaWJ1dGUoJ3NlY29uZCcpLCAxMCksXG4gICAgICAgICAgICAgICAgYW1vdW50OiBwYXJzZUludChrZXJuaW5nW2ldLmdldEF0dHJpYnV0ZSgnYW1vdW50JyksIDEwKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH07XG4gICAgcmV0dXJuIFhNTEZvcm1hdDtcbn0oKSk7XG5cbi8qKlxuICogQml0bWFwRm9udCBmb3JtYXQgdGhhdCdzIFhNTC1iYXNlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBYTUxTdHJpbmdGb3JtYXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gWE1MU3RyaW5nRm9ybWF0KCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiByZXNvdXJjZSByZWZlcnMgdG8gdGV4dCB4bWwgZm9udCBkYXRhLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHthbnl9IGRhdGFcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHJlc291cmNlIGNvdWxkIGJlIHRyZWF0ZWQgYXMgZm9udCBkYXRhLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgWE1MU3RyaW5nRm9ybWF0LnRlc3QgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEuaW5kZXhPZignPGZvbnQ+JykgPiAtMSkge1xuICAgICAgICAgICAgdmFyIHhtbCA9IG5ldyBzZWxmLkRPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhkYXRhLCAndGV4dC94bWwnKTtcbiAgICAgICAgICAgIHJldHVybiBYTUxGb3JtYXQudGVzdCh4bWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdGhlIHRleHQgWE1MIGludG8gQml0bWFwRm9udERhdGEgdGhhdCB3ZSBjYW4gdXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHhtbFR4dFxuICAgICAqIEByZXR1cm4ge0JpdG1hcEZvbnREYXRhfSBEYXRhIHRvIHVzZSBmb3IgQml0bWFwRm9udFxuICAgICAqL1xuICAgIFhNTFN0cmluZ0Zvcm1hdC5wYXJzZSA9IGZ1bmN0aW9uICh4bWxUeHQpIHtcbiAgICAgICAgdmFyIHhtbCA9IG5ldyBzZWxmLkRPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyh4bWxUeHQsICd0ZXh0L3htbCcpO1xuICAgICAgICByZXR1cm4gWE1MRm9ybWF0LnBhcnNlKHhtbCk7XG4gICAgfTtcbiAgICByZXR1cm4gWE1MU3RyaW5nRm9ybWF0O1xufSgpKTtcblxuLy8gUmVnaXN0ZXJlZCBmb3JtYXRzLCBtYXliZSBtYWtlIHRoaXMgZXh0ZW5zaWJsZSBpbiB0aGUgZnV0dXJlP1xudmFyIGZvcm1hdHMgPSBbXG4gICAgVGV4dEZvcm1hdCxcbiAgICBYTUxGb3JtYXQsXG4gICAgWE1MU3RyaW5nRm9ybWF0IF07XG4vKipcbiAqIEF1dG8tZGV0ZWN0IEJpdG1hcEZvbnQgcGFyc2luZyBmb3JtYXQgYmFzZWQgb24gZGF0YS5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge2FueX0gZGF0YSAtIERhdGEgdG8gZGV0ZWN0IGZvcm1hdFxuICogQHJldHVybiB7YW55fSBGb3JtYXQgb3IgbnVsbFxuICovXG5mdW5jdGlvbiBhdXRvRGV0ZWN0Rm9ybWF0KGRhdGEpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvcm1hdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGZvcm1hdHNbaV0udGVzdChkYXRhKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8vIFRPRE86IFByZXZlbnQgY29kZSBkdXBsaWNhdGlvbiBiL3cgZ2VuZXJhdGVGaWxsU3R5bGUgJiBUZXh0I2dlbmVyYXRlRmlsbFN0eWxlXG4vKipcbiAqIEdlbmVyYXRlcyB0aGUgZmlsbCBzdHlsZS4gQ2FuIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGUgYSBncmFkaWVudCBiYXNlZCBvbiB0aGUgZmlsbCBzdHlsZSBiZWluZyBhbiBhcnJheVxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge29iamVjdH0gc3R5bGUgLSBUaGUgc3R5bGUuXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBsaW5lcyAtIFRoZSBsaW5lcyBvZiB0ZXh0LlxuICogQHJldHVybiB7c3RyaW5nfG51bWJlcnxDYW52YXNHcmFkaWVudH0gVGhlIGZpbGwgc3R5bGVcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVGaWxsU3R5bGUoY2FudmFzLCBjb250ZXh0LCBzdHlsZSwgcmVzb2x1dGlvbiwgbGluZXMsIG1ldHJpY3MpIHtcbiAgICAvLyBUT0RPOiBDYW4ndCBoYXZlIGRpZmZlcmVudCB0eXBlcyBmb3IgZ2V0dGVyIGFuZCBzZXR0ZXIuIFRoZSBnZXR0ZXIgc2hvdWxkbid0IGhhdmUgdGhlIG51bWJlciB0eXBlIGFzXG4gICAgLy8gICAgICAgdGhlIHNldHRlciBjb252ZXJ0cyB0byBzdHJpbmcuIFNlZSB0aGlzIHRocmVhZCBmb3IgbW9yZSBkZXRhaWxzOlxuICAgIC8vICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjUyMVxuICAgIHZhciBmaWxsU3R5bGUgPSBzdHlsZS5maWxsO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShmaWxsU3R5bGUpKSB7XG4gICAgICAgIHJldHVybiBmaWxsU3R5bGU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGZpbGxTdHlsZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGZpbGxTdHlsZVswXTtcbiAgICB9XG4gICAgLy8gdGhlIGdyYWRpZW50IHdpbGwgYmUgZXZlbmx5IHNwYWNlZCBvdXQgYWNjb3JkaW5nIHRvIGhvdyBsYXJnZSB0aGUgYXJyYXkgaXMuXG4gICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIHdvdWxkIGNyZWF0ZWQgc3RvcHMgYXQgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgdmFyIGdyYWRpZW50O1xuICAgIC8vIGEgZHJvcHNoYWRvdyB3aWxsIGVubGFyZ2UgdGhlIGNhbnZhcyBhbmQgcmVzdWx0IGluIHRoZSBncmFkaWVudCBiZWluZ1xuICAgIC8vIGdlbmVyYXRlZCB3aXRoIHRoZSBpbmNvcnJlY3QgZGltZW5zaW9uc1xuICAgIHZhciBkcm9wU2hhZG93Q29ycmVjdGlvbiA9IChzdHlsZS5kcm9wU2hhZG93KSA/IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZSA6IDA7XG4gICAgLy8gc2hvdWxkIGFsc28gdGFrZSBwYWRkaW5nIGludG8gYWNjb3VudCwgcGFkZGluZyBjYW4gb2Zmc2V0IHRoZSBncmFkaWVudFxuICAgIHZhciBwYWRkaW5nID0gc3R5bGUucGFkZGluZyB8fCAwO1xuICAgIHZhciB3aWR0aCA9IE1hdGguY2VpbChjYW52YXMud2lkdGggLyByZXNvbHV0aW9uKSAtIGRyb3BTaGFkb3dDb3JyZWN0aW9uIC0gKHBhZGRpbmcgKiAyKTtcbiAgICB2YXIgaGVpZ2h0ID0gTWF0aC5jZWlsKGNhbnZhcy5oZWlnaHQgLyByZXNvbHV0aW9uKSAtIGRyb3BTaGFkb3dDb3JyZWN0aW9uIC0gKHBhZGRpbmcgKiAyKTtcbiAgICAvLyBtYWtlIGEgY29weSBvZiB0aGUgc3R5bGUgc2V0dGluZ3MsIHNvIHdlIGNhbiBtYW5pcHVsYXRlIHRoZW0gbGF0ZXJcbiAgICB2YXIgZmlsbCA9IGZpbGxTdHlsZS5zbGljZSgpO1xuICAgIHZhciBmaWxsR3JhZGllbnRTdG9wcyA9IHN0eWxlLmZpbGxHcmFkaWVudFN0b3BzLnNsaWNlKCk7XG4gICAgLy8gd2FudGluZyB0byBldmVubHkgZGlzdHJpYnV0ZSB0aGUgZmlsbHMuIFNvIGFuIGFycmF5IG9mIDQgY29sb3VycyBzaG91bGQgZ2l2ZSBmaWxscyBvZiAwLjI1LCAwLjUgYW5kIDAuNzVcbiAgICBpZiAoIWZpbGxHcmFkaWVudFN0b3BzLmxlbmd0aCkge1xuICAgICAgICB2YXIgbGVuZ3RoUGx1czEgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoUGx1czE7ICsraSkge1xuICAgICAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMucHVzaChpIC8gbGVuZ3RoUGx1czEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHN0b3AgdGhlIGJsZWVkaW5nIG9mIHRoZSBsYXN0IGdyYWRpZW50IG9uIHRoZSBsaW5lIGFib3ZlIHRvIHRoZSB0b3AgZ3JhZGllbnQgb2YgdGhlIHRoaXMgbGluZVxuICAgIC8vIGJ5IGhhcmQgZGVmaW5pbmcgdGhlIGZpcnN0IGdyYWRpZW50IGNvbG91ciBhdCBwb2ludCAwLCBhbmQgbGFzdCBncmFkaWVudCBjb2xvdXIgYXQgcG9pbnQgMVxuICAgIGZpbGwudW5zaGlmdChmaWxsU3R5bGVbMF0pO1xuICAgIGZpbGxHcmFkaWVudFN0b3BzLnVuc2hpZnQoMCk7XG4gICAgZmlsbC5wdXNoKGZpbGxTdHlsZVtmaWxsU3R5bGUubGVuZ3RoIC0gMV0pO1xuICAgIGZpbGxHcmFkaWVudFN0b3BzLnB1c2goMSk7XG4gICAgaWYgKHN0eWxlLmZpbGxHcmFkaWVudFR5cGUgPT09IFRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMKSB7XG4gICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgdG9wIGNlbnRlciBvZiB0aGUgY2FudmFzLCBhbmQgZW5kIGF0IHRoZSBib3R0b20gbWlkZGxlIG9mIHRoZSBjYW52YXNcbiAgICAgICAgZ3JhZGllbnQgPSBjb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHdpZHRoIC8gMiwgcGFkZGluZywgd2lkdGggLyAyLCBoZWlnaHQgKyBwYWRkaW5nKTtcbiAgICAgICAgLy8gd2UgbmVlZCB0byByZXBlYXQgdGhlIGdyYWRpZW50IHNvIHRoYXQgZWFjaCBpbmRpdmlkdWFsIGxpbmUgb2YgdGV4dCBoYXMgdGhlIHNhbWUgdmVydGljYWwgZ3JhZGllbnQgZWZmZWN0XG4gICAgICAgIC8vIFsnI0ZGMDAwMCcsICcjMDBGRjAwJywgJyMwMDAwRkYnXSBvdmVyIDIgbGluZXMgd291bGQgY3JlYXRlIHN0b3BzIGF0IDAuMTI1LCAwLjI1LCAwLjM3NSwgMC42MjUsIDAuNzUsIDAuODc1XG4gICAgICAgIC8vIFRoZXJlJ3MgcG90ZW50aWFsIGZvciBmbG9hdGluZyBwb2ludCBwcmVjaXNpb24gaXNzdWVzIGF0IHRoZSBzZWFtcyBiZXR3ZWVuIGdyYWRpZW50IHJlcGVhdHMuXG4gICAgICAgIC8vIFRoZSBsb29wIGJlbG93IGdlbmVyYXRlcyB0aGUgc3RvcHMgaW4gb3JkZXIsIHNvIHRyYWNrIHRoZSBsYXN0IGdlbmVyYXRlZCBvbmUgdG8gcHJldmVudFxuICAgICAgICAvLyBmbG9hdGluZyBwb2ludCBwcmVjaXNpb24gZnJvbSBtYWtpbmcgdXMgZ28gdGhlIHRlZW5pZXN0IGJpdCBiYWNrd2FyZHMsIHJlc3VsdGluZyBpblxuICAgICAgICAvLyB0aGUgZmlyc3QgYW5kIGxhc3QgY29sb3JzIGdldHRpbmcgc3dhcHBlZC5cbiAgICAgICAgdmFyIGxhc3RJdGVyYXRpb25TdG9wID0gMDtcbiAgICAgICAgLy8gQWN0dWFsIGhlaWdodCBvZiB0aGUgdGV4dCBpdHNlbGYsIG5vdCBjb3VudGluZyBzcGFjaW5nIGZvciBsaW5lSGVpZ2h0L2xlYWRpbmcvZHJvcFNoYWRvdyBldGNcbiAgICAgICAgdmFyIHRleHRIZWlnaHQgPSBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICAvLyB0ZXh0SGVpZ2h0LCBidXQgYXMgYSAwLTEgc2l6ZSBpbiBnbG9iYWwgZ3JhZGllbnQgc3RvcCBzcGFjZVxuICAgICAgICB2YXIgZ3JhZFN0b3BMaW5lSGVpZ2h0ID0gdGV4dEhlaWdodCAvIGhlaWdodDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRoaXNMaW5lVG9wID0gbWV0cmljcy5saW5lSGVpZ2h0ICogaTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZmlsbC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIC8vIDAtMSBzdG9wIHBvaW50IGZvciB0aGUgY3VycmVudCBsaW5lLCBtdWx0aXBsaWVkIHRvIGdsb2JhbCBzcGFjZSBhZnRlcndhcmRzXG4gICAgICAgICAgICAgICAgdmFyIGxpbmVTdG9wID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2pdID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBsaW5lU3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW2pdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVN0b3AgPSBqIC8gZmlsbC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBnbG9iYWxTdG9wID0gKHRoaXNMaW5lVG9wIC8gaGVpZ2h0KSArIChsaW5lU3RvcCAqIGdyYWRTdG9wTGluZUhlaWdodCk7XG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCBjb2xvciBzdG9wIGdlbmVyYXRpb24gZ29pbmcgYmFja3dhcmRzIGZyb20gZmxvYXRpbmcgcG9pbnQgaW1wcmVjaXNpb25cbiAgICAgICAgICAgICAgICB2YXIgY2xhbXBlZFN0b3AgPSBNYXRoLm1heChsYXN0SXRlcmF0aW9uU3RvcCwgZ2xvYmFsU3RvcCk7XG4gICAgICAgICAgICAgICAgY2xhbXBlZFN0b3AgPSBNYXRoLm1pbihjbGFtcGVkU3RvcCwgMSk7IC8vIENhcCBhdCAxIGFzIHdlbGwgZm9yIHNhZmV0eSdzIHNha2UgdG8gYXZvaWQgYSBwb3NzaWJsZSB0aHJvdy5cbiAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoY2xhbXBlZFN0b3AsIGZpbGxbal0pO1xuICAgICAgICAgICAgICAgIGxhc3RJdGVyYXRpb25TdG9wID0gY2xhbXBlZFN0b3A7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgY2VudGVyIGxlZnQgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgY2VudGVyIHJpZ2h0IG9mIHRoZSBjYW52YXNcbiAgICAgICAgZ3JhZGllbnQgPSBjb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHBhZGRpbmcsIGhlaWdodCAvIDIsIHdpZHRoICsgcGFkZGluZywgaGVpZ2h0IC8gMik7XG4gICAgICAgIC8vIGNhbiBqdXN0IGV2ZW5seSBzcGFjZSBvdXQgdGhlIGdyYWRpZW50cyBpbiB0aGlzIGNhc2UsIGFzIG11bHRpcGxlIGxpbmVzIG1ha2VzIG5vIGRpZmZlcmVuY2VcbiAgICAgICAgLy8gdG8gYW4gZXZlbiBsZWZ0IHRvIHJpZ2h0IGdyYWRpZW50XG4gICAgICAgIHZhciB0b3RhbEl0ZXJhdGlvbnMgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgIHZhciBjdXJyZW50SXRlcmF0aW9uID0gMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3RvcCA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbaV0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgc3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RvcCA9IGN1cnJlbnRJdGVyYXRpb24gLyB0b3RhbEl0ZXJhdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3Aoc3RvcCwgZmlsbFtpXSk7XG4gICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGdyYWRpZW50O1xufVxuXG4vLyBUT0RPOiBQcmV2ZW50IGNvZGUgZHVwbGljYXRpb24gYi93IGRyYXdHbHlwaCAmIFRleHQjdXBkYXRlVGV4dFxuLyoqXG4gKiBEcmF3cyB0aGUgZ2x5cGggYG1ldHJpY3MudGV4dGAgb24gdGhlIGdpdmVuIGNhbnZhcy5cbiAqXG4gKiBJZ25vcmVkIGJlY2F1c2Ugbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzXG4gKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dFxuICogQHBhcmFtIHtUZXh0TWV0cmljc30gbWV0cmljc1xuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvblxuICogQHBhcmFtIHtUZXh0U3R5bGV9IHN0eWxlXG4gKi9cbmZ1bmN0aW9uIGRyYXdHbHlwaChjYW52YXMsIGNvbnRleHQsIG1ldHJpY3MsIHgsIHksIHJlc29sdXRpb24sIHN0eWxlKSB7XG4gICAgdmFyIGNoYXIgPSBtZXRyaWNzLnRleHQ7XG4gICAgdmFyIGZvbnRQcm9wZXJ0aWVzID0gbWV0cmljcy5mb250UHJvcGVydGllcztcbiAgICBjb250ZXh0LnRyYW5zbGF0ZSh4LCB5KTtcbiAgICBjb250ZXh0LnNjYWxlKHJlc29sdXRpb24sIHJlc29sdXRpb24pO1xuICAgIHZhciB0eCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDI7XG4gICAgdmFyIHR5ID0gLShzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyKTtcbiAgICBjb250ZXh0LmZvbnQgPSBzdHlsZS50b0ZvbnRTdHJpbmcoKTtcbiAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IHN0eWxlLnRleHRCYXNlbGluZTtcbiAgICBjb250ZXh0LmxpbmVKb2luID0gc3R5bGUubGluZUpvaW47XG4gICAgY29udGV4dC5taXRlckxpbWl0ID0gc3R5bGUubWl0ZXJMaW1pdDtcbiAgICAvLyBzZXQgY2FudmFzIHRleHQgc3R5bGVzXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBnZW5lcmF0ZUZpbGxTdHlsZShjYW52YXMsIGNvbnRleHQsIHN0eWxlLCByZXNvbHV0aW9uLCBbY2hhcl0sIG1ldHJpY3MpO1xuICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5zdHJva2U7XG4gICAgY29udGV4dC5mb250ID0gc3R5bGUudG9Gb250U3RyaW5nKCk7XG4gICAgY29udGV4dC5saW5lV2lkdGggPSBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSBzdHlsZS50ZXh0QmFzZWxpbmU7XG4gICAgY29udGV4dC5saW5lSm9pbiA9IHN0eWxlLmxpbmVKb2luO1xuICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHN0eWxlLm1pdGVyTGltaXQ7XG4gICAgLy8gc2V0IGNhbnZhcyB0ZXh0IHN0eWxlc1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZ2VuZXJhdGVGaWxsU3R5bGUoY2FudmFzLCBjb250ZXh0LCBzdHlsZSwgcmVzb2x1dGlvbiwgW2NoYXJdLCBtZXRyaWNzKTtcbiAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3R5bGUuc3Ryb2tlO1xuICAgIHZhciBkcm9wU2hhZG93Q29sb3IgPSBzdHlsZS5kcm9wU2hhZG93Q29sb3I7XG4gICAgdmFyIHJnYiA9IGhleDJyZ2IodHlwZW9mIGRyb3BTaGFkb3dDb2xvciA9PT0gJ251bWJlcicgPyBkcm9wU2hhZG93Q29sb3IgOiBzdHJpbmcyaGV4KGRyb3BTaGFkb3dDb2xvcikpO1xuICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBcInJnYmEoXCIgKyByZ2JbMF0gKiAyNTUgKyBcIixcIiArIHJnYlsxXSAqIDI1NSArIFwiLFwiICsgcmdiWzJdICogMjU1ICsgXCIsXCIgKyBzdHlsZS5kcm9wU2hhZG93QWxwaGEgKyBcIilcIjtcbiAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gc3R5bGUuZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IE1hdGguY29zKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IE1hdGguc2luKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gJ2JsYWNrJztcbiAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gMDtcbiAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gMDtcbiAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gMDtcbiAgICB9XG4gICAgaWYgKHN0eWxlLnN0cm9rZSAmJiBzdHlsZS5zdHJva2VUaGlja25lc3MpIHtcbiAgICAgICAgY29udGV4dC5zdHJva2VUZXh0KGNoYXIsIHR4LCB0eSArIG1ldHJpY3MubGluZUhlaWdodCAtIGZvbnRQcm9wZXJ0aWVzLmRlc2NlbnQpO1xuICAgIH1cbiAgICBpZiAoc3R5bGUuZmlsbCkge1xuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KGNoYXIsIHR4LCB0eSArIG1ldHJpY3MubGluZUhlaWdodCAtIGZvbnRQcm9wZXJ0aWVzLmRlc2NlbnQpO1xuICAgIH1cbiAgICBjb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTsgLy8gZGVmYXVsdHMgbmVlZGVkIGZvciBvbGRlciBicm93c2VycyAoZS5nLiBPcGVyYSAyOSlcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICdyZ2JhKDAsIDAsIDAsIDApJztcbn1cblxuLyoqXG4gKiBQcm9jZXNzZXMgdGhlIHBhc3NlZCBjaGFyYWN0ZXIgc2V0IGRhdGEgYW5kIHJldHVybnMgYSBmbGF0dGVuZWQgYXJyYXkgb2YgYWxsIHRoZSBjaGFyYWN0ZXJzLlxuICpcbiAqIElnbm9yZWQgYmVjYXVzZSBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge3N0cmluZyB8IHN0cmluZ1tdIHwgc3RyaW5nW11bXSB9IGNoYXJzXG4gKiBAcmV0dXJucyB7c3RyaW5nW119XG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVDaGFyYWN0ZXJzKGNoYXJzKSB7XG4gICAgLy8gU3BsaXQgdGhlIGNoYXJzIHN0cmluZyBpbnRvIGluZGl2aWR1YWwgY2hhcmFjdGVyc1xuICAgIGlmICh0eXBlb2YgY2hhcnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNoYXJzID0gW2NoYXJzXTtcbiAgICB9XG4gICAgLy8gSGFuZGxlIGFuIGFycmF5IG9mIGNoYXJhY3RlcnMrcmFuZ2VzXG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gY2hhcnMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgIHZhciBpdGVtID0gY2hhcnNbaV07XG4gICAgICAgIC8vIEhhbmRsZSByYW5nZSBkZWxpbWl0ZWQgYnkgc3RhcnQvZW5kIGNoYXJzXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZW0pKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbQml0bWFwRm9udF06IEludmFsaWQgY2hhcmFjdGVyIHJhbmdlIGxlbmd0aCwgZXhwZWN0aW5nIDIgZ290IFwiICsgaXRlbS5sZW5ndGggKyBcIi5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3RhcnRDb2RlID0gaXRlbVswXS5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgdmFyIGVuZENvZGUgPSBpdGVtWzFdLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICBpZiAoZW5kQ29kZSA8IHN0YXJ0Q29kZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW0JpdG1hcEZvbnRdOiBJbnZhbGlkIGNoYXJhY3RlciByYW5nZS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGlfMSA9IHN0YXJ0Q29kZSwgal8xID0gZW5kQ29kZTsgaV8xIDw9IGpfMTsgaV8xKyspIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGlfMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEhhbmRsZSBhIGNoYXJhY3RlciBzZXQgc3RyaW5nXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2guYXBwbHkocmVzdWx0LCBpdGVtLnNwbGl0KCcnKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbQml0bWFwRm9udF06IEVtcHR5IHNldCB3aGVuIHJlc29sdmluZyBjaGFyYWN0ZXJzLicpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEJpdG1hcEZvbnQgcmVwcmVzZW50cyBhIHR5cGVmYWNlIGF2YWlsYWJsZSBmb3IgdXNlIHdpdGggdGhlIEJpdG1hcFRleHQgY2xhc3MuIFVzZSB0aGUgYGluc3RhbGxgXG4gKiBtZXRob2QgZm9yIGFkZGluZyBhIGZvbnQgdG8gYmUgdXNlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCaXRtYXBGb250ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CaXRtYXBGb250RGF0YX0gZGF0YVxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlW118T2JqZWN0LjxzdHJpbmcsIFBJWEkuVGV4dHVyZT59IHRleHR1cmVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gQml0bWFwRm9udChkYXRhLCB0ZXh0dXJlcykge1xuICAgICAgICB2YXIgaW5mbyA9IGRhdGEuaW5mb1swXTtcbiAgICAgICAgdmFyIGNvbW1vbiA9IGRhdGEuY29tbW9uWzBdO1xuICAgICAgICB2YXIgcGFnZSA9IGRhdGEucGFnZVswXTtcbiAgICAgICAgdmFyIHJlcyA9IGdldFJlc29sdXRpb25PZlVybChwYWdlLmZpbGUpO1xuICAgICAgICB2YXIgcGFnZVRleHR1cmVzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZm9udCBmYWNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mb250ID0gaW5mby5mYWNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNpemUgb2YgdGhlIGZvbnQgZmFjZSBpbiBwaXhlbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNpemUgPSBpbmZvLnNpemU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGluZS1oZWlnaHQgb2YgdGhlIGZvbnQgZmFjZSBpbiBwaXhlbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVIZWlnaHQgPSBjb21tb24ubGluZUhlaWdodCAvIHJlcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXAgb2YgY2hhcmFjdGVycyBieSBjaGFyYWN0ZXIgY29kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hhcnMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXAgb2YgYmFzZSBwYWdlIHRleHR1cmVzIChpLmUuLCBzaGVldHMgb2YgZ2x5cGhzKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGFnZVRleHR1cmVzID0gcGFnZVRleHR1cmVzO1xuICAgICAgICAvLyBDb252ZXJ0IHRoZSBpbnB1dCBUZXh0dXJlLCBUZXh0dXJlcyBvciBvYmplY3RcbiAgICAgICAgLy8gaW50byBhIHBhZ2UgVGV4dHVyZSBsb29rdXAgYnkgXCJpZFwiXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5wYWdlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBkYXRhLnBhZ2VbaV0sIGlkID0gX2EuaWQsIGZpbGUgPSBfYS5maWxlO1xuICAgICAgICAgICAgcGFnZVRleHR1cmVzW2lkXSA9IHRleHR1cmVzIGluc3RhbmNlb2YgQXJyYXlcbiAgICAgICAgICAgICAgICA/IHRleHR1cmVzW2ldIDogdGV4dHVyZXNbZmlsZV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGFyc2UgbGV0dGVyc1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuY2hhci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIF9iID0gZGF0YS5jaGFyW2ldLCBpZCA9IF9iLmlkLCBwYWdlXzEgPSBfYi5wYWdlO1xuICAgICAgICAgICAgdmFyIF9jID0gZGF0YS5jaGFyW2ldLCB4ID0gX2MueCwgeSA9IF9jLnksIHdpZHRoID0gX2Mud2lkdGgsIGhlaWdodCA9IF9jLmhlaWdodCwgeG9mZnNldCA9IF9jLnhvZmZzZXQsIHlvZmZzZXQgPSBfYy55b2Zmc2V0LCB4YWR2YW5jZSA9IF9jLnhhZHZhbmNlO1xuICAgICAgICAgICAgeCAvPSByZXM7XG4gICAgICAgICAgICB5IC89IHJlcztcbiAgICAgICAgICAgIHdpZHRoIC89IHJlcztcbiAgICAgICAgICAgIGhlaWdodCAvPSByZXM7XG4gICAgICAgICAgICB4b2Zmc2V0IC89IHJlcztcbiAgICAgICAgICAgIHlvZmZzZXQgLz0gcmVzO1xuICAgICAgICAgICAgeGFkdmFuY2UgLz0gcmVzO1xuICAgICAgICAgICAgdmFyIHJlY3QgPSBuZXcgUmVjdGFuZ2xlKHggKyAocGFnZVRleHR1cmVzW3BhZ2VfMV0uZnJhbWUueCAvIHJlcyksIHkgKyAocGFnZVRleHR1cmVzW3BhZ2VfMV0uZnJhbWUueSAvIHJlcyksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5jaGFyc1tpZF0gPSB7XG4gICAgICAgICAgICAgICAgeE9mZnNldDogeG9mZnNldCxcbiAgICAgICAgICAgICAgICB5T2Zmc2V0OiB5b2Zmc2V0LFxuICAgICAgICAgICAgICAgIHhBZHZhbmNlOiB4YWR2YW5jZSxcbiAgICAgICAgICAgICAgICBrZXJuaW5nOiB7fSxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBuZXcgVGV4dHVyZShwYWdlVGV4dHVyZXNbcGFnZV8xXS5iYXNlVGV4dHVyZSwgcmVjdCksXG4gICAgICAgICAgICAgICAgcGFnZTogcGFnZV8xLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwYXJzZSBrZXJuaW5nc1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEua2VybmluZy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIF9kID0gZGF0YS5rZXJuaW5nW2ldLCBmaXJzdCA9IF9kLmZpcnN0LCBzZWNvbmQgPSBfZC5zZWNvbmQsIGFtb3VudCA9IF9kLmFtb3VudDtcbiAgICAgICAgICAgIGZpcnN0IC89IHJlcztcbiAgICAgICAgICAgIHNlY29uZCAvPSByZXM7XG4gICAgICAgICAgICBhbW91bnQgLz0gcmVzO1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hhcnNbc2Vjb25kXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhcnNbc2Vjb25kXS5rZXJuaW5nW2ZpcnN0XSA9IGFtb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgcmVmZXJlbmNlcyB0byBjcmVhdGVkIGdseXBoIHRleHR1cmVzLlxuICAgICAqL1xuICAgIEJpdG1hcEZvbnQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGlkIGluIHRoaXMuY2hhcnMpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhcnNbaWRdLnRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5jaGFyc1tpZF0udGV4dHVyZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5wYWdlVGV4dHVyZXMpIHtcbiAgICAgICAgICAgIHRoaXMucGFnZVRleHR1cmVzW2lkXS5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgdGhpcy5wYWdlVGV4dHVyZXNbaWRdID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgcmVhZG9ubHkgbnVsbC5cbiAgICAgICAgdGhpcy5jaGFycyA9IG51bGw7XG4gICAgICAgIHRoaXMucGFnZVRleHR1cmVzID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgbmV3IGJpdG1hcCBmb250LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7WE1MRG9jdW1lbnR8c3RyaW5nfFBJWEkuQml0bWFwRm9udERhdGF9IGRhdGEgLSBUaGVcbiAgICAgKiAgICAgICAgY2hhcmFjdGVycyBtYXAgdGhhdCBjb3VsZCBiZSBwcm92aWRlZCBhcyB4bWwgb3IgcmF3IHN0cmluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCBQSVhJLlRleHR1cmU+fFBJWEkuVGV4dHVyZXxQSVhJLlRleHR1cmVbXX1cbiAgICAgKiAgICAgICAgdGV4dHVyZXMgLSBMaXN0IG9mIHRleHR1cmVzIGZvciBlYWNoIHBhZ2UuXG4gICAgICogQHJldHVybiB7UElYSS5CaXRtYXBGb250fSBSZXN1bHQgZm9udCBvYmplY3Qgd2l0aCBmb250LCBzaXplLCBsaW5lSGVpZ2h0XG4gICAgICogICAgICAgICBhbmQgY2hhciBmaWVsZHMuXG4gICAgICovXG4gICAgQml0bWFwRm9udC5pbnN0YWxsID0gZnVuY3Rpb24gKGRhdGEsIHRleHR1cmVzKSB7XG4gICAgICAgIHZhciBmb250RGF0YTtcbiAgICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBCaXRtYXBGb250RGF0YSkge1xuICAgICAgICAgICAgZm9udERhdGEgPSBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGZvcm1hdCA9IGF1dG9EZXRlY3RGb3JtYXQoZGF0YSk7XG4gICAgICAgICAgICBpZiAoIWZvcm1hdCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5yZWNvZ25pemVkIGRhdGEgZm9ybWF0IGZvciBmb250LicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9udERhdGEgPSBmb3JtYXQucGFyc2UoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2luZ2xlIHRleHR1cmUsIGNvbnZlcnQgdG8gbGlzdFxuICAgICAgICBpZiAodGV4dHVyZXMgaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICAgICAgICB0ZXh0dXJlcyA9IFt0ZXh0dXJlc107XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZvbnQgPSBuZXcgQml0bWFwRm9udChmb250RGF0YSwgdGV4dHVyZXMpO1xuICAgICAgICBCaXRtYXBGb250LmF2YWlsYWJsZVtmb250LmZvbnRdID0gZm9udDtcbiAgICAgICAgcmV0dXJuIGZvbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYml0bWFwIGZvbnQgYnkgbmFtZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgICAqL1xuICAgIEJpdG1hcEZvbnQudW5pbnN0YWxsID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdmFyIGZvbnQgPSBCaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXTtcbiAgICAgICAgaWYgKCFmb250KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBmb250IGZvdW5kIG5hbWVkICdcIiArIG5hbWUgKyBcIidcIik7XG4gICAgICAgIH1cbiAgICAgICAgZm9udC5kZXN0cm95KCk7XG4gICAgICAgIGRlbGV0ZSBCaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIGJpdG1hcC1mb250IGZvciB0aGUgZ2l2ZW4gc3R5bGUgYW5kIGNoYXJhY3RlciBzZXQuIFRoaXMgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAqIGtlcm5pbmdzIHlldC4gV2l0aCBgc3R5bGVgIHByb3BlcnRpZXMsIG9ubHkgdGhlIGZvbGxvd2luZyBub24tbGF5b3V0IHByb3BlcnRpZXMgYXJlIHVzZWQ6XG4gICAgICpcbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNkcm9wU2hhZG93fGRyb3BTaGFkb3d9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZHJvcFNoYWRvd0Rpc3RhbmNlfGRyb3BTaGFkb3dEaXN0YW5jZX1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNkcm9wU2hhZG93Q29sb3J8ZHJvcFNoYWRvd0NvbG9yfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2Ryb3BTaGFkb3dCbHVyfGRyb3BTaGFkb3dCbHVyfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2Ryb3BTaGFkb3dBbmdsZXxkcm9wU2hhZG93QW5nbGV9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZmlsbHxmaWxsfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2ZpbGxHcmFkaWVudFN0b3BzfGZpbGxHcmFkaWVudFN0b3BzfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2ZpbGxHcmFkaWVudFR5cGV8ZmlsbEdyYWRpZW50VHlwZX1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmb250RmFtaWx5fGZvbnRGYW1pbHl9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZm9udFNpemV8Zm9udFNpemV9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZm9udFZhcmlhbnR8Zm9udFZhcmlhbnR9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZm9udFdlaWdodHxmb250V2VpZ2h0fVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2xpbmVKb2lufGxpbmVKb2lufVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI21pdGVyTGltaXR8bWl0ZXJMaW1pdH1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNzdHJva2V8c3Ryb2tlfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI3N0cm9rZVRoaWNrbmVzc3xzdHJva2VUaGlja25lc3N9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjdGV4dEJhc2VsaW5lfHRleHRCYXNlbGluZX1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGN1c3RvbSBmb250IHRvIHVzZSB3aXRoIEJpdG1hcFRleHQuXG4gICAgICogQHBhcmFtIHtvYmplY3R8UElYSS5UZXh0U3R5bGV9IFtzdHlsZV0gLSBTdHlsZSBvcHRpb25zIHRvIHJlbmRlciB3aXRoIEJpdG1hcEZvbnQuXG4gICAgICogQHBhcmFtIHtQSVhJLklCaXRtYXBGb250T3B0aW9uc30gW29wdGlvbnNdIC0gU2V0dXAgb3B0aW9ucyBmb3IgZm9udCBvciBuYW1lIG9mIHRoZSBmb250LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfHN0cmluZ1tdW119IFtvcHRpb25zLmNoYXJzPVBJWEkuQml0bWFwRm9udC5BTFBIQU5VTUVSSUNdIC0gY2hhcmFjdGVycyBpbmNsdWRlZFxuICAgICAqICAgICAgaW4gdGhlIGZvbnQgc2V0LiBZb3UgY2FuIGFsc28gdXNlIHJhbmdlcy4gRm9yIGV4YW1wbGUsIGBbWydhJywgJ3onXSwgWydBJywgJ1onXSwgXCIhQCMkJV4mKigpfnt9W10gXCJdYC5cbiAgICAgKiAgICAgIERvbid0IGZvcmdldCB0byBpbmNsdWRlIHNwYWNlcyAnICcgaW4geW91ciBjaGFyYWN0ZXIgc2V0IVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gUmVuZGVyIHJlc29sdXRpb24gZm9yIGdseXBocy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudGV4dHVyZVdpZHRoPTUxMl0gLSBPcHRpb25hbCB3aWR0aCBvZiBhdGxhcywgc21hbGxlciB2YWx1ZXMgdG8gcmVkdWNlIG1lbW9yeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudGV4dHVyZUhlaWdodD01MTJdIC0gT3B0aW9uYWwgaGVpZ2h0IG9mIGF0bGFzLCBzbWFsbGVyIHZhbHVlcyB0byByZWR1Y2UgbWVtb3J5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5wYWRkaW5nPTRdIC0gUGFkZGluZyBiZXR3ZWVuIGdseXBocyBvbiB0ZXh0dXJlIGF0bGFzLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQml0bWFwRm9udH0gRm9udCBnZW5lcmF0ZWQgYnkgc3R5bGUgb3B0aW9ucy5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBQSVhJLkJpdG1hcEZvbnQuZnJvbShcIlRpdGxlRm9udFwiLCB7XG4gICAgICogICAgIGZvbnRGYW1pbHk6IFwiQXJpYWxcIixcbiAgICAgKiAgICAgZm9udFNpemU6IDEyLFxuICAgICAqICAgICBzdHJva2VUaGlja25lc3M6IDIsXG4gICAgICogICAgIGZpbGw6IFwicHVycGxlXCJcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGNvbnN0IHRpdGxlID0gbmV3IFBJWEkuQml0bWFwVGV4dChcIlRoaXMgaXMgdGhlIHRpdGxlXCIsIHsgZm9udE5hbWU6IFwiVGl0bGVGb250XCIgfSk7XG4gICAgICovXG4gICAgQml0bWFwRm9udC5mcm9tID0gZnVuY3Rpb24gKG5hbWUsIHRleHRTdHlsZSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW0JpdG1hcEZvbnRdIFByb3BlcnR5IGBuYW1lYCBpcyByZXF1aXJlZC4nKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSBPYmplY3QuYXNzaWduKHt9LCBCaXRtYXBGb250LmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKSwgY2hhcnMgPSBfYS5jaGFycywgcGFkZGluZyA9IF9hLnBhZGRpbmcsIHJlc29sdXRpb24gPSBfYS5yZXNvbHV0aW9uLCB0ZXh0dXJlV2lkdGggPSBfYS50ZXh0dXJlV2lkdGgsIHRleHR1cmVIZWlnaHQgPSBfYS50ZXh0dXJlSGVpZ2h0O1xuICAgICAgICB2YXIgY2hhcnNMaXN0ID0gcmVzb2x2ZUNoYXJhY3RlcnMoY2hhcnMpO1xuICAgICAgICB2YXIgc3R5bGUgPSB0ZXh0U3R5bGUgaW5zdGFuY2VvZiBUZXh0U3R5bGUgPyB0ZXh0U3R5bGUgOiBuZXcgVGV4dFN0eWxlKHRleHRTdHlsZSk7XG4gICAgICAgIHZhciBsaW5lV2lkdGggPSB0ZXh0dXJlV2lkdGg7XG4gICAgICAgIHZhciBmb250RGF0YSA9IG5ldyBCaXRtYXBGb250RGF0YSgpO1xuICAgICAgICBmb250RGF0YS5pbmZvWzBdID0ge1xuICAgICAgICAgICAgZmFjZTogc3R5bGUuZm9udEZhbWlseSxcbiAgICAgICAgICAgIHNpemU6IHN0eWxlLmZvbnRTaXplLFxuICAgICAgICB9O1xuICAgICAgICBmb250RGF0YS5jb21tb25bMF0gPSB7XG4gICAgICAgICAgICBsaW5lSGVpZ2h0OiBzdHlsZS5mb250U2l6ZSxcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHBvc2l0aW9uWCA9IDA7XG4gICAgICAgIHZhciBwb3NpdGlvblkgPSAwO1xuICAgICAgICB2YXIgY2FudmFzO1xuICAgICAgICB2YXIgY29udGV4dDtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgbWF4Q2hhckhlaWdodCA9IDA7XG4gICAgICAgIHZhciB0ZXh0dXJlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFjYW52YXMpIHtcbiAgICAgICAgICAgICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSB0ZXh0dXJlV2lkdGg7XG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IHRleHR1cmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKGNhbnZhcywgeyByZXNvbHV0aW9uOiByZXNvbHV0aW9uIH0pO1xuICAgICAgICAgICAgICAgIHRleHR1cmVzLnB1c2gobmV3IFRleHR1cmUoYmFzZVRleHR1cmUpKTtcbiAgICAgICAgICAgICAgICBmb250RGF0YS5wYWdlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpZDogdGV4dHVyZXMubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgICAgICAgZmlsZTogJycsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBNZWFzdXJlIGdseXBoIGRpbWVuc2lvbnNcbiAgICAgICAgICAgIHZhciBtZXRyaWNzID0gVGV4dE1ldHJpY3MubWVhc3VyZVRleHQoY2hhcnNMaXN0W2ldLCBzdHlsZSwgZmFsc2UsIGNhbnZhcyk7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSBtZXRyaWNzLndpZHRoO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IE1hdGguY2VpbChtZXRyaWNzLmhlaWdodCk7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIHVnbHkgLSBidXQgaXRhbGljcyBhcmUgZ2l2ZW4gbW9yZSBzcGFjZSBzbyB0aGV5IGRvbid0IG92ZXJsYXBcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlR2x5cGhXaWR0aCA9IE1hdGguY2VpbCgoc3R5bGUuZm9udFN0eWxlID09PSAnaXRhbGljJyA/IDIgOiAxKSAqIHdpZHRoKTtcbiAgICAgICAgICAgIC8vIENhbid0IGZpdCBjaGFyIGFueW1vcmU6IG5leHQgY2FudmFzIHBsZWFzZSFcbiAgICAgICAgICAgIGlmIChwb3NpdGlvblkgPj0gdGV4dHVyZUhlaWdodCAtIChoZWlnaHQgKiByZXNvbHV0aW9uKSkge1xuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvblkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB1c2VyIGRlYnVnZ2luZyBhbiBpbmZpbml0ZSBsb29wIChvciBkbyB3ZT8gOilcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW0JpdG1hcEZvbnRdIHRleHR1cmVIZWlnaHQgXCIgKyB0ZXh0dXJlSGVpZ2h0ICsgXCJweCBpcyBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoXCJ0b28gc21hbGwgZm9yIFwiICsgc3R5bGUuZm9udFNpemUgKyBcInB4IGZvbnRzXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLS1pO1xuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBuZXcgYXRsYXMgb25jZSBjdXJyZW50IGhhcyBmaWxsZWQgdXBcbiAgICAgICAgICAgICAgICBjYW52YXMgPSBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblkgPSAwO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWCA9IDA7XG4gICAgICAgICAgICAgICAgbWF4Q2hhckhlaWdodCA9IDA7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXhDaGFySGVpZ2h0ID0gTWF0aC5tYXgoaGVpZ2h0ICsgbWV0cmljcy5mb250UHJvcGVydGllcy5kZXNjZW50LCBtYXhDaGFySGVpZ2h0KTtcbiAgICAgICAgICAgIC8vIFdyYXAgbGluZSBvbmNlIGZ1bGwgcm93IGhhcyBiZWVuIHJlbmRlcmVkXG4gICAgICAgICAgICBpZiAoKHRleHR1cmVHbHlwaFdpZHRoICogcmVzb2x1dGlvbikgKyBwb3NpdGlvblggPj0gbGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgLS1pO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWSArPSBtYXhDaGFySGVpZ2h0ICogcmVzb2x1dGlvbjtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblkgPSBNYXRoLmNlaWwocG9zaXRpb25ZKTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblggPSAwO1xuICAgICAgICAgICAgICAgIG1heENoYXJIZWlnaHQgPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZHJhd0dseXBoKGNhbnZhcywgY29udGV4dCwgbWV0cmljcywgcG9zaXRpb25YLCBwb3NpdGlvblksIHJlc29sdXRpb24sIHN0eWxlKTtcbiAgICAgICAgICAgIC8vIFVuaXF1ZSAobnVtZXJpYykgSUQgbWFwcGluZyB0byB0aGlzIGdseXBoXG4gICAgICAgICAgICB2YXIgaWQgPSBtZXRyaWNzLnRleHQuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIHRleHR1cmUgaG9sZGluZyBqdXN0IHRoZSBnbHlwaFxuICAgICAgICAgICAgZm9udERhdGEuY2hhci5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgcGFnZTogdGV4dHVyZXMubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgICB4OiBwb3NpdGlvblggLyByZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgIHk6IHBvc2l0aW9uWSAvIHJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRleHR1cmVHbHlwaFdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHhvZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgeW9mZnNldDogMCxcbiAgICAgICAgICAgICAgICB4YWR2YW5jZTogTWF0aC5jZWlsKHdpZHRoXG4gICAgICAgICAgICAgICAgICAgIC0gKHN0eWxlLmRyb3BTaGFkb3cgPyBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2UgOiAwKVxuICAgICAgICAgICAgICAgICAgICAtIChzdHlsZS5zdHJva2UgPyBzdHlsZS5zdHJva2VUaGlja25lc3MgOiAwKSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBvc2l0aW9uWCArPSAodGV4dHVyZUdseXBoV2lkdGggKyAoMiAqIHBhZGRpbmcpKSAqIHJlc29sdXRpb247XG4gICAgICAgICAgICBwb3NpdGlvblggPSBNYXRoLmNlaWwocG9zaXRpb25YKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCcnV0ZS1mb3JjZSBrZXJuaW5nIGluZm8sIHRoaXMgY2FuIGJlIGV4cGVuc2l2ZSBiL2MgaXQncyBhbiBPKG7CsiksXG4gICAgICAgIC8vIGJ1dCB3ZSdyZSB1c2luZyBtZWFzdXJlVGV4dCB3aGljaCBpcyBuYXRpdmUgYW5kIGZhc3QuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjaGFyc0xpc3QubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBmaXJzdCA9IGNoYXJzTGlzdFtpXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgc2Vjb25kID0gY2hhcnNMaXN0W2pdO1xuICAgICAgICAgICAgICAgIHZhciBjMSA9IGNvbnRleHQubWVhc3VyZVRleHQoZmlyc3QpLndpZHRoO1xuICAgICAgICAgICAgICAgIHZhciBjMiA9IGNvbnRleHQubWVhc3VyZVRleHQoc2Vjb25kKS53aWR0aDtcbiAgICAgICAgICAgICAgICB2YXIgdG90YWwgPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGZpcnN0ICsgc2Vjb25kKS53aWR0aDtcbiAgICAgICAgICAgICAgICB2YXIgYW1vdW50ID0gdG90YWwgLSAoYzEgKyBjMik7XG4gICAgICAgICAgICAgICAgaWYgKGFtb3VudCkge1xuICAgICAgICAgICAgICAgICAgICBmb250RGF0YS5rZXJuaW5nLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3Q6IGZpcnN0LmNoYXJDb2RlQXQoMCksXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmQ6IHNlY29uZC5jaGFyQ29kZUF0KDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgZm9udCA9IG5ldyBCaXRtYXBGb250KGZvbnREYXRhLCB0ZXh0dXJlcyk7XG4gICAgICAgIC8vIE1ha2UgaXQgZWFzaWVyIHRvIHJlcGxhY2UgYSBmb250XG4gICAgICAgIGlmIChCaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBCaXRtYXBGb250LnVuaW5zdGFsbChuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBCaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXSA9IGZvbnQ7XG4gICAgICAgIHJldHVybiBmb250O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBjaGFyYWN0ZXIgc2V0IGluY2x1ZGVzIGFsbCB0aGUgbGV0dGVycyBpbiB0aGUgYWxwaGFiZXQgKGJvdGggbG93ZXItIGFuZCB1cHBlci0gY2FzZSkuXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge3N0cmluZ1tdW119XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBCaXRtYXBGb250LmZyb20oXCJFeGFtcGxlRm9udFwiLCBzdHlsZSwgeyBjaGFyczogQml0bWFwRm9udC5BTFBIQSB9KVxuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuQUxQSEEgPSBbWydhJywgJ3onXSwgWydBJywgJ1onXSwgJyAnXTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGNoYXJhY3RlciBzZXQgaW5jbHVkZXMgYWxsIGRlY2ltYWwgZGlnaXRzIChmcm9tIDAgdG8gOSkuXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge3N0cmluZ1tdW119XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBCaXRtYXBGb250LmZyb20oXCJFeGFtcGxlRm9udFwiLCBzdHlsZSwgeyBjaGFyczogQml0bWFwRm9udC5OVU1FUklDIH0pXG4gICAgICovXG4gICAgQml0bWFwRm9udC5OVU1FUklDID0gW1snMCcsICc5J11dO1xuICAgIC8qKlxuICAgICAqIFRoaXMgY2hhcmFjdGVyIHNldCBpcyB0aGUgdW5pb24gb2YgYEJpdG1hcEZvbnQuQUxQSEFgIGFuZCBgQml0bWFwRm9udC5OVU1FUklDYC5cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7c3RyaW5nW11bXX1cbiAgICAgKi9cbiAgICBCaXRtYXBGb250LkFMUEhBTlVNRVJJQyA9IFtbJ2EnLCAneiddLCBbJ0EnLCAnWiddLCBbJzAnLCAnOSddLCAnICddO1xuICAgIC8qKlxuICAgICAqIFRoaXMgY2hhcmFjdGVyIHNldCBjb25zaXN0cyBvZiBhbGwgdGhlIEFTQ0lJIHRhYmxlLlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXVtdfVxuICAgICAqIEBzZWUgaHR0cDovL3d3dy5hc2NpaXRhYmxlLmNvbS9cbiAgICAgKi9cbiAgICBCaXRtYXBGb250LkFTQ0lJID0gW1snICcsICd+J11dO1xuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgZGVmYXVsdCBvcHRpb25zIHdoZW4gdXNpbmcgYEJpdG1hcEZvbnQuZnJvbWAuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7UElYSS5JQml0bWFwRm9udE9wdGlvbnN9XG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHJlc29sdXRpb249MVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0ZXh0dXJlV2lkdGg9NTEyXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHRleHR1cmVIZWlnaHQ9NTEyXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHBhZGRpbmc9NFxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfHN0cmluZ1tdfHN0cmluZ1tdW119IGNoYXJzID0gUElYSS5CaXRtYXBGb250LkFMUEhBTlVNRVJJQ1xuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICAgIHRleHR1cmVXaWR0aDogNTEyLFxuICAgICAgICB0ZXh0dXJlSGVpZ2h0OiA1MTIsXG4gICAgICAgIHBhZGRpbmc6IDQsXG4gICAgICAgIGNoYXJzOiBCaXRtYXBGb250LkFMUEhBTlVNRVJJQyxcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgYXZhaWxhYmxlL2luc3RhbGxlZCBmb250cy5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtPYmplY3QuPHN0cmluZywgUElYSS5CaXRtYXBGb250Pn1cbiAgICAgKi9cbiAgICBCaXRtYXBGb250LmF2YWlsYWJsZSA9IHt9O1xuICAgIHJldHVybiBCaXRtYXBGb250O1xufSgpKTtcbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbnRlcmZhY2UgSUJpdG1hcEZvbnRPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZyB8IHN0cmluZ1tdIHwgc3RyaW5nW11bXX0gW2NoYXJzPVBJWEkuQml0bWFwRm9udC5BTFBIQU5VTUVSSUNdIC0gdGhlIGNoYXJhY3RlciBzZXQgdG8gZ2VuZXJhdGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIHRoZSByZXNvbHV0aW9uIGZvciByZW5kZXJpbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcGFkZGluZz00XSAtIHRoZSBwYWRkaW5nIGJldHdlZW4gZ2x5cGhzIGluIHRoZSBhdGxhc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0ZXh0dXJlV2lkdGg9NTEyXSAtIHRoZSB3aWR0aCBvZiB0aGUgdGV4dHVyZSBhdGxhc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0ZXh0dXJlSGVpZ2h0PTUxMl0gLSB0aGUgaGVpZ2h0IG9mIHRoZSB0ZXh0dXJlIGF0bGFzXG4gKi9cblxudmFyIHBhZ2VNZXNoRGF0YVBvb2wgPSBbXTtcbnZhciBjaGFyUmVuZGVyRGF0YVBvb2wgPSBbXTtcbi8qKlxuICogQSBCaXRtYXBUZXh0IG9iamVjdCB3aWxsIGNyZWF0ZSBhIGxpbmUgb3IgbXVsdGlwbGUgbGluZXMgb2YgdGV4dCB1c2luZyBiaXRtYXAgZm9udC5cbiAqXG4gKiBUaGUgcHJpbWFyeSBhZHZhbnRhZ2Ugb2YgdGhpcyBjbGFzcyBvdmVyIFRleHQgaXMgdGhhdCBhbGwgb2YgeW91ciB0ZXh0dXJlcyBhcmUgcHJlLWdlbmVyYXRlZCBhbmQgbG9hZGluZyxcbiAqIG1lYW5pbmcgdGhhdCByZW5kZXJpbmcgaXMgZmFzdCwgYW5kIGNoYW5naW5nIHRleHQgaGFzIG5vIHBlcmZvcm1hbmNlIGltcGxpY2F0aW9ucy5cbiAqXG4gKiBTdXBwb3J0aW5nIGNoYXJhY3RlciBzZXRzIG90aGVyIHRoYW4gbGF0aW4sIHN1Y2ggYXMgQ0pLIGxhbmd1YWdlcywgbWF5IGJlIGltcHJhY3RpY2FsIGR1ZSB0byB0aGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMuXG4gKlxuICogVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nLCAnXFxyJyBvciAnXFxyXFxuJyBpbiB5b3VyIHN0cmluZy5cbiAqXG4gKiBQaXhpSlMgY2FuIGF1dG8tZ2VuZXJhdGUgZm9udHMgb24tdGhlLWZseSB1c2luZyBCaXRtYXBGb250IG9yIHVzZSBmbnQgZmlsZXMgcHJvdmlkZWQgYnk6XG4gKiBodHRwOi8vd3d3LmFuZ2VsY29kZS5jb20vcHJvZHVjdHMvYm1mb250LyBmb3IgV2luZG93cyBvclxuICogaHR0cDovL3d3dy5ibWdseXBoLmNvbS8gZm9yIE1hYy5cbiAqXG4gKiBBIEJpdG1hcFRleHQgY2FuIG9ubHkgYmUgY3JlYXRlZCB3aGVuIHRoZSBmb250IGlzIGxvYWRlZC5cbiAqXG4gKiBgYGBqc1xuICogLy8gaW4gdGhpcyBjYXNlIHRoZSBmb250IGlzIGluIGEgZmlsZSBjYWxsZWQgJ2Rlc3lyZWwuZm50J1xuICogbGV0IGJpdG1hcFRleHQgPSBuZXcgUElYSS5CaXRtYXBUZXh0KFwidGV4dCB1c2luZyBhIGZhbmN5IGZvbnQhXCIsIHtmb250OiBcIjM1cHggRGVzeXJlbFwiLCBhbGlnbjogXCJyaWdodFwifSk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQml0bWFwVGV4dCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQml0bWFwVGV4dCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIEEgc3RyaW5nIHRoYXQgeW91IHdvdWxkIGxpa2UgdGhlIHRleHQgdG8gZGlzcGxheS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3R5bGUgLSBUaGUgc3R5bGUgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3R5bGUuZm9udE5hbWUgLSBUaGUgaW5zdGFsbGVkIEJpdG1hcEZvbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmZvbnRTaXplXSAtIFRoZSBzaXplIG9mIHRoZSBmb250IGluIHBpeGVscywgZS5nLiAyNC4gSWYgdW5kZWZpbmVkLFxuICAgICAqLiAgICAgdGhpcyB3aWxsIGRlZmF1bHQgdG8gdGhlIEJpdG1hcEZvbnQgc2l6ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmFsaWduPSdsZWZ0J10gLSBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0ICgnbGVmdCcsICdjZW50ZXInLCAncmlnaHQnIG9yICdqdXN0aWZ5JyksXG4gICAgICogICAgICBkb2VzIG5vdCBhZmZlY3Qgc2luZ2xlIGxpbmUgdGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnRpbnQ9MHhGRkZGRkZdIC0gVGhlIHRpbnQgY29sb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5sZXR0ZXJTcGFjaW5nPTBdIC0gVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gbGV0dGVycy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLm1heFdpZHRoPTBdIC0gVGhlIG1heCB3aWR0aCBvZiB0aGUgdGV4dCBiZWZvcmUgbGluZSB3cmFwcGluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCaXRtYXBUZXh0KHRleHQsIHN0eWxlKSB7XG4gICAgICAgIGlmIChzdHlsZSA9PT0gdm9pZCAwKSB7IHN0eWxlID0ge307IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3RpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgLy8gQXBwbHkgdGhlIGRlZmF1bHRzXG4gICAgICAgIHZhciBfYSA9IE9iamVjdC5hc3NpZ24oe30sIEJpdG1hcFRleHQuc3R5bGVEZWZhdWx0cywgc3R5bGUpLCBhbGlnbiA9IF9hLmFsaWduLCB0aW50ID0gX2EudGludCwgbWF4V2lkdGggPSBfYS5tYXhXaWR0aCwgbGV0dGVyU3BhY2luZyA9IF9hLmxldHRlclNwYWNpbmcsIGZvbnROYW1lID0gX2EuZm9udE5hbWUsIGZvbnRTaXplID0gX2EuZm9udFNpemU7XG4gICAgICAgIGlmICghQml0bWFwRm9udC5hdmFpbGFibGVbZm9udE5hbWVdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIEJpdG1hcEZvbnQgXFxcIlwiICsgZm9udE5hbWUgKyBcIlxcXCJcIik7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgcGFnZSBtZXNoIGRhdGEuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSB3aWR0aCBvZiB0aGUgb3ZlcmFsbCB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0V2lkdGggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgaGVpZ2h0IG9mIHRoZSBvdmVyYWxsIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHRIZWlnaHQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCB0ZXh0IGFsaWduLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYWxpZ24gPSBhbGlnbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGludC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RpbnQgPSB0aW50O1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBmb250IG5hbWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9mb250TmFtZSA9IGZvbnROYW1lO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBmb250IHNpemUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9mb250U2l6ZSA9IGZvbnRTaXplIHx8IEJpdG1hcEZvbnQuYXZhaWxhYmxlW2ZvbnROYW1lXS5zaXplO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dCA9IHRleHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IHdpZHRoIG9mIHRoaXMgYml0bWFwIHRleHQgaW4gcGl4ZWxzLiBJZiB0aGUgdGV4dCBwcm92aWRlZCBpcyBsb25nZXIgdGhhbiB0aGVcbiAgICAgICAgICogdmFsdWUgcHJvdmlkZWQsIGxpbmUgYnJlYWtzIHdpbGwgYmUgYXV0b21hdGljYWxseSBpbnNlcnRlZCBpbiB0aGUgbGFzdCB3aGl0ZXNwYWNlLlxuICAgICAgICAgKiBEaXNhYmxlIGJ5IHNldHRpbmcgdmFsdWUgdG8gMFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbWF4V2lkdGggPSBtYXhXaWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggbGluZSBoZWlnaHQuIFRoaXMgaXMgdXNlZnVsIHdoZW4gdHJ5aW5nIHRvIHVzZSB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBUZXh0LFxuICAgICAgICAgKiBpZTogd2hlbiB0cnlpbmcgdG8gdmVydGljYWxseSBhbGlnbi4gKEludGVybmFsbHkgdXNlZClcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX21heExpbmVIZWlnaHQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogTGV0dGVyIHNwYWNpbmcuIFRoaXMgaXMgdXNlZnVsIGZvciBzZXR0aW5nIHRoZSBzcGFjZSBiZXR3ZWVuIGNoYXJhY3RlcnMuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sZXR0ZXJTcGFjaW5nID0gbGV0dGVyU3BhY2luZztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHQgYW5jaG9yLiByZWFkLW9ubHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYW5jaG9yID0gbmV3IE9ic2VydmFibGVQb2ludChmdW5jdGlvbiAoKSB7IF90aGlzLmRpcnR5ID0gdHJ1ZTsgfSwgX3RoaXMsIDAsIDApO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLlJPVU5EX1BJWEVMU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3JvdW5kUGl4ZWxzID0gc2V0dGluZ3MuUk9VTkRfUElYRUxTO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRvIGB0cnVlYCBpZiB0aGUgQml0bWFwVGV4dCBuZWVkcyB0byBiZSByZWRyYXduLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGVkIGNoYXIgdGV4dHVyZSBpcyBkZXN0cm95ZWQgd2hlbiBCaXRtYXBUZXh0IGlzIGRlc3Ryb3llZFxuICAgICAgICAgKiBAbWVtYmVyIHtSZWNvcmQ8bnVtYmVyLCBUZXh0dXJlPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0dXJlQ2FjaGUgPSB7fTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRleHQgYW5kIHVwZGF0ZXMgaXQgd2hlbiBuZWVkZWQuIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkXG4gICAgICogaWYgdGhlIEJpdG1hcEZvbnQgaXMgcmVnZW5lcmF0ZWQuXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgZGF0YSA9IEJpdG1hcEZvbnQuYXZhaWxhYmxlW3RoaXMuX2ZvbnROYW1lXTtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5fZm9udFNpemUgLyBkYXRhLnNpemU7XG4gICAgICAgIHZhciBwb3MgPSBuZXcgUG9pbnQoKTtcbiAgICAgICAgdmFyIGNoYXJzID0gW107XG4gICAgICAgIHZhciBsaW5lV2lkdGhzID0gW107XG4gICAgICAgIHZhciBsaW5lU3BhY2VzID0gW107XG4gICAgICAgIHZhciB0ZXh0ID0gdGhpcy5fdGV4dC5yZXBsYWNlKC8oPzpcXHJcXG58XFxyKS9nLCAnXFxuJykgfHwgJyAnO1xuICAgICAgICB2YXIgdGV4dExlbmd0aCA9IHRleHQubGVuZ3RoO1xuICAgICAgICB2YXIgbWF4V2lkdGggPSB0aGlzLl9tYXhXaWR0aCAqIGRhdGEuc2l6ZSAvIHRoaXMuX2ZvbnRTaXplO1xuICAgICAgICB2YXIgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgdmFyIGxhc3RMaW5lV2lkdGggPSAwO1xuICAgICAgICB2YXIgbWF4TGluZVdpZHRoID0gMDtcbiAgICAgICAgdmFyIGxpbmUgPSAwO1xuICAgICAgICB2YXIgbGFzdEJyZWFrUG9zID0gLTE7XG4gICAgICAgIHZhciBsYXN0QnJlYWtXaWR0aCA9IDA7XG4gICAgICAgIHZhciBzcGFjZXNSZW1vdmVkID0gMDtcbiAgICAgICAgdmFyIG1heExpbmVIZWlnaHQgPSAwO1xuICAgICAgICB2YXIgc3BhY2VDb3VudCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hhckNvZGUgPSB0ZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICB2YXIgY2hhciA9IHRleHQuY2hhckF0KGkpO1xuICAgICAgICAgICAgaWYgKCgvKD86XFxzKS8pLnRlc3QoY2hhcikpIHtcbiAgICAgICAgICAgICAgICBsYXN0QnJlYWtQb3MgPSBpO1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1dpZHRoID0gbGFzdExpbmVXaWR0aDtcbiAgICAgICAgICAgICAgICBzcGFjZUNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hhciA9PT0gJ1xccicgfHwgY2hhciA9PT0gJ1xcbicpIHtcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICAgICAgbGluZVNwYWNlcy5wdXNoKC0xKTtcbiAgICAgICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgICAgICsrbGluZTtcbiAgICAgICAgICAgICAgICArK3NwYWNlc1JlbW92ZWQ7XG4gICAgICAgICAgICAgICAgcG9zLnggPSAwO1xuICAgICAgICAgICAgICAgIHBvcy55ICs9IGRhdGEubGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHNwYWNlQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNoYXJEYXRhID0gZGF0YS5jaGFyc1tjaGFyQ29kZV07XG4gICAgICAgICAgICBpZiAoIWNoYXJEYXRhKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJldkNoYXJDb2RlICYmIGNoYXJEYXRhLmtlcm5pbmdbcHJldkNoYXJDb2RlXSkge1xuICAgICAgICAgICAgICAgIHBvcy54ICs9IGNoYXJEYXRhLmtlcm5pbmdbcHJldkNoYXJDb2RlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjaGFyUmVuZGVyRGF0YSA9IGNoYXJSZW5kZXJEYXRhUG9vbC5wb3AoKSB8fCB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZTogVGV4dHVyZS5FTVBUWSxcbiAgICAgICAgICAgICAgICBsaW5lOiAwLFxuICAgICAgICAgICAgICAgIGNoYXJDb2RlOiAwLFxuICAgICAgICAgICAgICAgIHByZXZTcGFjZXM6IDAsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBQb2ludCgpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNoYXJSZW5kZXJEYXRhLnRleHR1cmUgPSBjaGFyRGF0YS50ZXh0dXJlO1xuICAgICAgICAgICAgY2hhclJlbmRlckRhdGEubGluZSA9IGxpbmU7XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YS5jaGFyQ29kZSA9IGNoYXJDb2RlO1xuICAgICAgICAgICAgY2hhclJlbmRlckRhdGEucG9zaXRpb24ueCA9IHBvcy54ICsgY2hhckRhdGEueE9mZnNldCArICh0aGlzLl9sZXR0ZXJTcGFjaW5nIC8gMik7XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YS5wb3NpdGlvbi55ID0gcG9zLnkgKyBjaGFyRGF0YS55T2Zmc2V0O1xuICAgICAgICAgICAgY2hhclJlbmRlckRhdGEucHJldlNwYWNlcyA9IHNwYWNlQ291bnQ7XG4gICAgICAgICAgICBjaGFycy5wdXNoKGNoYXJSZW5kZXJEYXRhKTtcbiAgICAgICAgICAgIHBvcy54ICs9IGNoYXJEYXRhLnhBZHZhbmNlICsgdGhpcy5fbGV0dGVyU3BhY2luZztcbiAgICAgICAgICAgIGxhc3RMaW5lV2lkdGggPSBwb3MueDtcbiAgICAgICAgICAgIG1heExpbmVIZWlnaHQgPSBNYXRoLm1heChtYXhMaW5lSGVpZ2h0LCAoY2hhckRhdGEueU9mZnNldCArIGNoYXJEYXRhLnRleHR1cmUuaGVpZ2h0KSk7XG4gICAgICAgICAgICBwcmV2Q2hhckNvZGUgPSBjaGFyQ29kZTtcbiAgICAgICAgICAgIGlmIChsYXN0QnJlYWtQb3MgIT09IC0xICYmIG1heFdpZHRoID4gMCAmJiBwb3MueCA+IG1heFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgKytzcGFjZXNSZW1vdmVkO1xuICAgICAgICAgICAgICAgIHJlbW92ZUl0ZW1zKGNoYXJzLCAxICsgbGFzdEJyZWFrUG9zIC0gc3BhY2VzUmVtb3ZlZCwgMSArIGkgLSBsYXN0QnJlYWtQb3MpO1xuICAgICAgICAgICAgICAgIGkgPSBsYXN0QnJlYWtQb3M7XG4gICAgICAgICAgICAgICAgbGFzdEJyZWFrUG9zID0gLTE7XG4gICAgICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RCcmVha1dpZHRoKTtcbiAgICAgICAgICAgICAgICBsaW5lU3BhY2VzLnB1c2goY2hhcnMubGVuZ3RoID4gMCA/IGNoYXJzW2NoYXJzLmxlbmd0aCAtIDFdLnByZXZTcGFjZXMgOiAwKTtcbiAgICAgICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RCcmVha1dpZHRoKTtcbiAgICAgICAgICAgICAgICBsaW5lKys7XG4gICAgICAgICAgICAgICAgcG9zLnggPSAwO1xuICAgICAgICAgICAgICAgIHBvcy55ICs9IGRhdGEubGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHNwYWNlQ291bnQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBsYXN0Q2hhciA9IHRleHQuY2hhckF0KHRleHQubGVuZ3RoIC0gMSk7XG4gICAgICAgIGlmIChsYXN0Q2hhciAhPT0gJ1xccicgJiYgbGFzdENoYXIgIT09ICdcXG4nKSB7XG4gICAgICAgICAgICBpZiAoKC8oPzpcXHMpLykudGVzdChsYXN0Q2hhcikpIHtcbiAgICAgICAgICAgICAgICBsYXN0TGluZVdpZHRoID0gbGFzdEJyZWFrV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgbGluZVNwYWNlcy5wdXNoKC0xKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGluZUFsaWduT2Zmc2V0cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBsaW5lOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBhbGlnbk9mZnNldCA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgICAgICBhbGlnbk9mZnNldCA9IG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9hbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgICAgICBhbGlnbk9mZnNldCA9IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2ldKSAvIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9hbGlnbiA9PT0gJ2p1c3RpZnknKSB7XG4gICAgICAgICAgICAgICAgYWxpZ25PZmZzZXQgPSBsaW5lU3BhY2VzW2ldIDwgMCA/IDAgOiAobWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpXSkgLyBsaW5lU3BhY2VzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGluZUFsaWduT2Zmc2V0cy5wdXNoKGFsaWduT2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGVuQ2hhcnMgPSBjaGFycy5sZW5ndGg7XG4gICAgICAgIHZhciBwYWdlc01lc2hEYXRhID0ge307XG4gICAgICAgIHZhciBuZXdQYWdlc01lc2hEYXRhID0gW107XG4gICAgICAgIHZhciBhY3RpdmVQYWdlc01lc2hEYXRhID0gdGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhY3RpdmVQYWdlc01lc2hEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYWdlTWVzaERhdGFQb29sLnB1c2goYWN0aXZlUGFnZXNNZXNoRGF0YVtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5DaGFyczsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IGNoYXJzW2ldLnRleHR1cmU7XG4gICAgICAgICAgICB2YXIgYmFzZVRleHR1cmVVaWQgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlLnVpZDtcbiAgICAgICAgICAgIGlmICghcGFnZXNNZXNoRGF0YVtiYXNlVGV4dHVyZVVpZF0pIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFnZU1lc2hEYXRhID0gcGFnZU1lc2hEYXRhUG9vbC5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhZ2VNZXNoRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSBuZXcgTWVzaEdlb21ldHJ5KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwoVGV4dHVyZS5FTVBUWSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNoID0gbmV3IE1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKTtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleENvdW50OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGV4Q291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB1dnNDb3VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzaDogbWVzaCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXZzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kaWNlczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcmVzZXQgZGF0YS4uXG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLmluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEuaW5kZXhDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRleENvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudXZzQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS50b3RhbCA9IDA7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyBuZWVkIHRvIGdldCBwYWdlIHRleHR1cmUgaGVyZSBzb21laG93Li5cbiAgICAgICAgICAgICAgICB2YXIgX3RleHR1cmVDYWNoZSA9IHRoaXMuX3RleHR1cmVDYWNoZTtcbiAgICAgICAgICAgICAgICBfdGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlVWlkXSA9IF90ZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVVaWRdIHx8IG5ldyBUZXh0dXJlKHRleHR1cmUuYmFzZVRleHR1cmUpO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS5tZXNoLnRleHR1cmUgPSBfdGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlVWlkXTtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEubWVzaC50aW50ID0gdGhpcy5fdGludDtcbiAgICAgICAgICAgICAgICBuZXdQYWdlc01lc2hEYXRhLnB1c2gocGFnZU1lc2hEYXRhKTtcbiAgICAgICAgICAgICAgICBwYWdlc01lc2hEYXRhW2Jhc2VUZXh0dXJlVWlkXSA9IHBhZ2VNZXNoRGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhZ2VzTWVzaERhdGFbYmFzZVRleHR1cmVVaWRdLnRvdGFsKys7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbGV0cyBmaW5kIGFueSBwcmV2aW91c2x5IGFjdGl2ZSBwYWdlTWVzaERhdGFzIHRoYXQgYXJlIG5vIGxvbmdlciByZXF1aXJlZCBmb3JcbiAgICAgICAgLy8gdGhlIHVwZGF0ZWQgdGV4dCAoaWYgYW55KSwgcmVtb3ZlZCBhbmQgcmV0dXJuIHRoZW0gdG8gdGhlIHBvb2wuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWN0aXZlUGFnZXNNZXNoRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKG5ld1BhZ2VzTWVzaERhdGEuaW5kZXhPZihhY3RpdmVQYWdlc01lc2hEYXRhW2ldKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKGFjdGl2ZVBhZ2VzTWVzaERhdGFbaV0ubWVzaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmV4dCBsZXRzIGFkZCBhbnkgbmV3IG1lc2hlcywgdGhhdCBoYXZlIG5vdCB5ZXQgYmVlbiBhZGRlZCB0byB0aGlzIEJpdG1hcFRleHRcbiAgICAgICAgLy8gd2Ugb25seSBhZGQgaWYgaXRzIG5vdCBhbHJlYWR5IGEgY2hpbGQgb2YgdGhpcyBCaXRtYXBPYmplY3RcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdQYWdlc01lc2hEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobmV3UGFnZXNNZXNoRGF0YVtpXS5tZXNoLnBhcmVudCAhPT0gdGhpcykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3UGFnZXNNZXNoRGF0YVtpXS5tZXNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBhY3RpdmUgcGFnZSBtZXNoIGRhdGFzIGFyZSBzZXQgdG8gYmUgdGhlIG5ldyBwYWdlcyBhZGRlZC5cbiAgICAgICAgdGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YSA9IG5ld1BhZ2VzTWVzaERhdGE7XG4gICAgICAgIGZvciAodmFyIGkgaW4gcGFnZXNNZXNoRGF0YSkge1xuICAgICAgICAgICAgdmFyIHBhZ2VNZXNoRGF0YSA9IHBhZ2VzTWVzaERhdGFbaV07XG4gICAgICAgICAgICB2YXIgdG90YWwgPSBwYWdlTWVzaERhdGEudG90YWw7XG4gICAgICAgICAgICAvLyBsZXRzIG9ubHkgYWxsb2NhdGUgbmV3IGJ1ZmZlcnMgaWYgd2UgY2FuIGZpdCB0aGUgbmV3IHRleHQgaW4gdGhlIGN1cnJlbnQgb25lcy4uXG4gICAgICAgICAgICAvLyB1bmxlc3MgdGhhdCBpcywgd2Ugd2lsbCBiZSBiYXRjaGluZy4gQ3VycmVudGx5IGJhdGNoaW5nIGRvc2Ugbm90IHJlc3BlY3QgdGhlIHNpemUgcHJvcGVydHkgb2YgbWVzaFxuICAgICAgICAgICAgaWYgKCEoKChfYSA9IHBhZ2VNZXNoRGF0YS5pbmRpY2VzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSA+IDYgKiB0b3RhbCkgfHwgcGFnZU1lc2hEYXRhLnZlcnRpY2VzLmxlbmd0aCA8IE1lc2guQkFUQ0hBQkxFX1NJWkUgKiAyKSB7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheSg0ICogMiAqIHRvdGFsKTtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudXZzID0gbmV3IEZsb2F0MzJBcnJheSg0ICogMiAqIHRvdGFsKTtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEuaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheSg2ICogdG90YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHRvdGFsXzEgPSBwYWdlTWVzaERhdGEudG90YWw7XG4gICAgICAgICAgICAgICAgdmFyIHZlcnRpY2VzID0gcGFnZU1lc2hEYXRhLnZlcnRpY2VzO1xuICAgICAgICAgICAgICAgIC8vIENsZWFyIHRoZSBnYXJiYWdlIGF0IHRoZSBlbmQgb2YgdGhlIHZlcnRpY2VzIGJ1ZmZlci4gVGhpcyB3aWxsIHByZXZlbnQgdGhlIGJvdW5kcyBtaXNjYWxjdWxhdGlvbi5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpXzEgPSB0b3RhbF8xICogNCAqIDI7IGlfMSA8IHZlcnRpY2VzLmxlbmd0aDsgaV8xKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydGljZXNbaV8xXSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYXMgYSBidWZmZXIgbWF5YmUgYmlnZ2VyIHRoYW4gdGhlIGN1cnJlbnQgd29yZCwgd2Ugc2V0IHRoZSBzaXplIG9mIHRoZSBtZXNoTWF0ZXJpYWxcbiAgICAgICAgICAgIC8vIHRvIG1hdGNoIHRoZSBudW1iZXIgb2YgbGV0dGVycyBuZWVkZWRcbiAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS5tZXNoLnNpemUgPSA2ICogdG90YWw7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5DaGFyczsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hhciA9IGNoYXJzW2ldO1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9IGNoYXIucG9zaXRpb24ueCArIChsaW5lQWxpZ25PZmZzZXRzW2NoYXIubGluZV0gKiAodGhpcy5fYWxpZ24gPT09ICdqdXN0aWZ5JyA/IGNoYXIucHJldlNwYWNlcyA6IDEpKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscykge1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IE1hdGgucm91bmQob2Zmc2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB4UG9zID0gb2Zmc2V0ICogc2NhbGU7XG4gICAgICAgICAgICB2YXIgeVBvcyA9IGNoYXIucG9zaXRpb24ueSAqIHNjYWxlO1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBjaGFyLnRleHR1cmU7XG4gICAgICAgICAgICB2YXIgcGFnZU1lc2ggPSBwYWdlc01lc2hEYXRhW3RleHR1cmUuYmFzZVRleHR1cmUudWlkXTtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlRnJhbWUgPSB0ZXh0dXJlLmZyYW1lO1xuICAgICAgICAgICAgdmFyIHRleHR1cmVVdnMgPSB0ZXh0dXJlLl91dnM7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBwYWdlTWVzaC5pbmRleCsrO1xuICAgICAgICAgICAgcGFnZU1lc2guaW5kaWNlc1soaW5kZXggKiA2KSArIDBdID0gMCArIChpbmRleCAqIDQpO1xuICAgICAgICAgICAgcGFnZU1lc2guaW5kaWNlc1soaW5kZXggKiA2KSArIDFdID0gMSArIChpbmRleCAqIDQpO1xuICAgICAgICAgICAgcGFnZU1lc2guaW5kaWNlc1soaW5kZXggKiA2KSArIDJdID0gMiArIChpbmRleCAqIDQpO1xuICAgICAgICAgICAgcGFnZU1lc2guaW5kaWNlc1soaW5kZXggKiA2KSArIDNdID0gMCArIChpbmRleCAqIDQpO1xuICAgICAgICAgICAgcGFnZU1lc2guaW5kaWNlc1soaW5kZXggKiA2KSArIDRdID0gMiArIChpbmRleCAqIDQpO1xuICAgICAgICAgICAgcGFnZU1lc2guaW5kaWNlc1soaW5kZXggKiA2KSArIDVdID0gMyArIChpbmRleCAqIDQpO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyAwXSA9IHhQb3M7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDFdID0geVBvcztcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgMl0gPSB4UG9zICsgKHRleHR1cmVGcmFtZS53aWR0aCAqIHNjYWxlKTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgM10gPSB5UG9zO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyA0XSA9IHhQb3MgKyAodGV4dHVyZUZyYW1lLndpZHRoICogc2NhbGUpO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyA1XSA9IHlQb3MgKyAodGV4dHVyZUZyYW1lLmhlaWdodCAqIHNjYWxlKTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgNl0gPSB4UG9zO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyA3XSA9IHlQb3MgKyAodGV4dHVyZUZyYW1lLmhlaWdodCAqIHNjYWxlKTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDBdID0gdGV4dHVyZVV2cy54MDtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDFdID0gdGV4dHVyZVV2cy55MDtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDJdID0gdGV4dHVyZVV2cy54MTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDNdID0gdGV4dHVyZVV2cy55MTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDRdID0gdGV4dHVyZVV2cy54MjtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDVdID0gdGV4dHVyZVV2cy55MjtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDZdID0gdGV4dHVyZVV2cy54MztcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDddID0gdGV4dHVyZVV2cy55MztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZXh0V2lkdGggPSBtYXhMaW5lV2lkdGggKiBzY2FsZTtcbiAgICAgICAgdGhpcy5fdGV4dEhlaWdodCA9IChwb3MueSArIGRhdGEubGluZUhlaWdodCkgKiBzY2FsZTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBwYWdlc01lc2hEYXRhKSB7XG4gICAgICAgICAgICB2YXIgcGFnZU1lc2hEYXRhID0gcGFnZXNNZXNoRGF0YVtpXTtcbiAgICAgICAgICAgIC8vIGFwcGx5IGFuY2hvclxuICAgICAgICAgICAgaWYgKHRoaXMuYW5jaG9yLnggIT09IDAgfHwgdGhpcy5hbmNob3IueSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHZhciB2ZXJ0ZXhDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIGFuY2hvck9mZnNldFggPSB0aGlzLl90ZXh0V2lkdGggKiB0aGlzLmFuY2hvci54O1xuICAgICAgICAgICAgICAgIHZhciBhbmNob3JPZmZzZXRZID0gdGhpcy5fdGV4dEhlaWdodCAqIHRoaXMuYW5jaG9yLnk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaV8yID0gMDsgaV8yIDwgcGFnZU1lc2hEYXRhLnRvdGFsOyBpXzIrKykge1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WDtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFk7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRYO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WTtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFg7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRZO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WDtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbWF4TGluZUhlaWdodCA9IG1heExpbmVIZWlnaHQgKiBzY2FsZTtcbiAgICAgICAgICAgIHZhciB2ZXJ0ZXhCdWZmZXIgPSBwYWdlTWVzaERhdGEubWVzaC5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpO1xuICAgICAgICAgICAgdmFyIHRleHR1cmVCdWZmZXIgPSBwYWdlTWVzaERhdGEubWVzaC5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FUZXh0dXJlQ29vcmQnKTtcbiAgICAgICAgICAgIHZhciBpbmRleEJ1ZmZlciA9IHBhZ2VNZXNoRGF0YS5tZXNoLmdlb21ldHJ5LmdldEluZGV4KCk7XG4gICAgICAgICAgICB2ZXJ0ZXhCdWZmZXIuZGF0YSA9IHBhZ2VNZXNoRGF0YS52ZXJ0aWNlcztcbiAgICAgICAgICAgIHRleHR1cmVCdWZmZXIuZGF0YSA9IHBhZ2VNZXNoRGF0YS51dnM7XG4gICAgICAgICAgICBpbmRleEJ1ZmZlci5kYXRhID0gcGFnZU1lc2hEYXRhLmluZGljZXM7XG4gICAgICAgICAgICB2ZXJ0ZXhCdWZmZXIudXBkYXRlKCk7XG4gICAgICAgICAgICB0ZXh0dXJlQnVmZmVyLnVwZGF0ZSgpO1xuICAgICAgICAgICAgaW5kZXhCdWZmZXIudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2hhclJlbmRlckRhdGFQb29sLnB1c2goY2hhcnNbaV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB0cmFuc2Zvcm0gb2YgdGhpcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZXMgdGV4dCBiZWZvcmUgY2FsbGluZyBwYXJlbnQncyBnZXRMb2NhbEJvdW5kc1xuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGV4dCB3aGVuIG5lZWRlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCgpO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwidGludFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhmZmZmZmZcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGludCA9PT0gdmFsdWUpXG4gICAgICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGFbaV0ubWVzaC50aW50ID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwiYWxpZ25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFsaWdubWVudCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ2xlZnQnXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbGlnbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hbGlnbiAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbGlnbiA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcImZvbnROYW1lXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSBCaXRtYXBGb250LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250TmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghQml0bWFwRm9udC5hdmFpbGFibGVbdmFsdWVdKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBCaXRtYXBGb250IFxcXCJcIiArIHZhbHVlICsgXCJcXFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnROYW1lICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnROYW1lID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwiZm9udFNpemVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNpemUgb2YgdGhlIGZvbnQgdG8gZGlzcGxheS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFNpemU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFNpemUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFNpemUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJhbmNob3JcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFuY2hvciBzZXRzIHRoZSBvcmlnaW4gcG9pbnQgb2YgdGhlIHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IGlzIGAoMCwwKWAsIHRoaXMgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgdGhlIHRvcCBsZWZ0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gYCgwLjUsMC41KWAgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgY2VudGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byBgKDEsMSlgIHdvdWxkIG1lYW4gdGhlIHRleHQncyBvcmlnaW4gcG9pbnQgd2lsbCBiZSB0aGUgYm90dG9tIHJpZ2h0IGNvcm5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludCB8IG51bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FuY2hvcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYW5jaG9yLnNldCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbmNob3IuY29weUZyb20odmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcInRleHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHQgb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgICAgICB0ZXh0ID0gU3RyaW5nKHRleHQgPT09IG51bGwgfHwgdGV4dCA9PT0gdW5kZWZpbmVkID8gJycgOiB0ZXh0KTtcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0ID09PSB0ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJtYXhXaWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IHdpZHRoIG9mIHRoaXMgYml0bWFwIHRleHQgaW4gcGl4ZWxzLiBJZiB0aGUgdGV4dCBwcm92aWRlZCBpcyBsb25nZXIgdGhhbiB0aGVcbiAgICAgICAgICogdmFsdWUgcHJvdmlkZWQsIGxpbmUgYnJlYWtzIHdpbGwgYmUgYXV0b21hdGljYWxseSBpbnNlcnRlZCBpbiB0aGUgbGFzdCB3aGl0ZXNwYWNlLlxuICAgICAgICAgKiBEaXNhYmxlIGJ5IHNldHRpbmcgdGhlIHZhbHVlIHRvIDAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21heFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21heFdpZHRoID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21heFdpZHRoID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJtYXhMaW5lSGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggbGluZSBoZWlnaHQuIFRoaXMgaXMgdXNlZnVsIHdoZW4gdHJ5aW5nIHRvIHVzZSB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBUZXh0LFxuICAgICAgICAgKiBpLmUuIHdoZW4gdHJ5aW5nIHRvIHZlcnRpY2FsbHkgYWxpZ24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXhMaW5lSGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcInRleHRXaWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIG92ZXJhbGwgdGV4dCwgZGlmZmVyZW50IGZyb20gZm9udFNpemUsXG4gICAgICAgICAqIHdoaWNoIGlzIGRlZmluZWQgaW4gdGhlIHN0eWxlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJsZXR0ZXJTcGFjaW5nXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZGl0aW9uYWwgc3BhY2UgYmV0d2VlbiBjaGFyYWN0ZXJzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xldHRlclNwYWNpbmcgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGV0dGVyU3BhY2luZyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcInJvdW5kUGl4ZWxzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICAgICAqIEFkdmFudGFnZXMgY2FuIGluY2x1ZGUgc2hhcnBlciBpbWFnZSBxdWFsaXR5IChsaWtlIHRleHQpIGFuZCBmYXN0ZXIgcmVuZGVyaW5nIG9uIGNhbnZhcy5cbiAgICAgICAgICogVGhlIG1haW4gZGlzYWR2YW50YWdlIGlzIG1vdmVtZW50IG9mIG9iamVjdHMgbWF5IGFwcGVhciBsZXNzIHNtb290aC5cbiAgICAgICAgICogVG8gc2V0IHRoZSBnbG9iYWwgZGVmYXVsdCwgY2hhbmdlIHtAbGluayBQSVhJLnNldHRpbmdzLlJPVU5EX1BJWEVMU31cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFNcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JvdW5kUGl4ZWxzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl9yb3VuZFBpeGVscykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JvdW5kUGl4ZWxzID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwidGV4dEhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBvdmVyYWxsIHRleHQsIGRpZmZlcmVudCBmcm9tIGZvbnRTaXplLFxuICAgICAgICAgKiB3aGljaCBpcyBkZWZpbmVkIGluIHRoZSBzdHlsZSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0SGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGV4dHVyZUNhY2hlID0gdGhpcy5fdGV4dHVyZUNhY2hlO1xuICAgICAgICBmb3IgKHZhciBpZCBpbiBfdGV4dHVyZUNhY2hlKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IF90ZXh0dXJlQ2FjaGVbaWRdO1xuICAgICAgICAgICAgdGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICBkZWxldGUgX3RleHR1cmVDYWNoZVtpZF07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGV4dHVyZUNhY2hlID0gbnVsbDtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBCaXRtYXBUZXh0LnN0eWxlRGVmYXVsdHMgPSB7XG4gICAgICAgIGFsaWduOiAnbGVmdCcsXG4gICAgICAgIHRpbnQ6IDB4RkZGRkZGLFxuICAgICAgICBtYXhXaWR0aDogMCxcbiAgICAgICAgbGV0dGVyU3BhY2luZzogMCxcbiAgICB9O1xuICAgIHJldHVybiBCaXRtYXBUZXh0O1xufShDb250YWluZXIpKTtcblxuLyoqXG4gKiB7QGxpbmsgUElYSS5Mb2FkZXIgTG9hZGVyfSBtaWRkbGV3YXJlIGZvciBsb2FkaW5nXG4gKiBiaXRtYXAtYmFzZWQgZm9udHMgc3VpdGFibGUgZm9yIHVzaW5nIHdpdGgge0BsaW5rIFBJWEkuQml0bWFwVGV4dH0uXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBQSVhJLklMb2FkZXJQbHVnaW5cbiAqL1xudmFyIEJpdG1hcEZvbnRMb2FkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQml0bWFwRm9udExvYWRlcigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIHBsdWdpbiBpcyBpbnN0YWxsZWQuXG4gICAgICpcbiAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luXG4gICAgICovXG4gICAgQml0bWFwRm9udExvYWRlci5hZGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExvYWRlclJlc291cmNlLnNldEV4dGVuc2lvblhoclR5cGUoJ2ZudCcsIExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGFmdGVyIGEgcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAqIEBzZWUgUElYSS5Mb2FkZXIubG9hZGVyTWlkZGxld2FyZVxuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBuZXh0XG4gICAgICovXG4gICAgQml0bWFwRm9udExvYWRlci51c2UgPSBmdW5jdGlvbiAocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgdmFyIGZvcm1hdCA9IGF1dG9EZXRlY3RGb3JtYXQocmVzb3VyY2UuZGF0YSk7XG4gICAgICAgIC8vIFJlc291cmNlIHdhcyBub3QgcmVjb2duaXNlZCBhcyBhbnkgb2YgdGhlIGV4cGVjdGVkIGZvbnQgZGF0YSBmb3JtYXRcbiAgICAgICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmFzZVVybCA9IEJpdG1hcEZvbnRMb2FkZXIuZ2V0QmFzZVVybCh0aGlzLCByZXNvdXJjZSk7XG4gICAgICAgIHZhciBkYXRhID0gZm9ybWF0LnBhcnNlKHJlc291cmNlLmRhdGEpO1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSB7fTtcbiAgICAgICAgLy8gSGFuZGxlIGNvbXBsZXRlZCwgd2hlbiB0aGUgbnVtYmVyIG9mIHRleHR1cmVzXG4gICAgICAgIC8vIGxvYWQgaXMgdGhlIHNhbWUgbnVtYmVyIGFzIHJlZmVyZW5jZXMgaW4gdGhlIGZudCBmaWxlXG4gICAgICAgIHZhciBjb21wbGV0ZWQgPSBmdW5jdGlvbiAocGFnZSkge1xuICAgICAgICAgICAgdGV4dHVyZXNbcGFnZS5tZXRhZGF0YS5wYWdlRmlsZV0gPSBwYWdlLnRleHR1cmU7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXModGV4dHVyZXMpLmxlbmd0aCA9PT0gZGF0YS5wYWdlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJlc291cmNlLmJpdG1hcEZvbnQgPSBCaXRtYXBGb250Lmluc3RhbGwoZGF0YSwgdGV4dHVyZXMpO1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLnBhZ2UubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwYWdlRmlsZSA9IGRhdGEucGFnZVtpXS5maWxlO1xuICAgICAgICAgICAgdmFyIHVybCA9IGJhc2VVcmwgKyBwYWdlRmlsZTtcbiAgICAgICAgICAgIHZhciBleGlzdHMgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIGluY2FzZSB0aGUgaW1hZ2UgaXMgbG9hZGVkIG91dHNpZGVcbiAgICAgICAgICAgIC8vIHVzaW5nIHRoZSBzYW1lIGxvYWRlciwgcmVzb3VyY2Ugd2lsbCBiZSBhdmFpbGFibGVcbiAgICAgICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcy5yZXNvdXJjZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgYml0bWFwUmVzb3VyY2UgPSB0aGlzLnJlc291cmNlc1tuYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoYml0bWFwUmVzb3VyY2UudXJsID09PSB1cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgYml0bWFwUmVzb3VyY2UubWV0YWRhdGEucGFnZUZpbGUgPSBwYWdlRmlsZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJpdG1hcFJlc291cmNlLnRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZChiaXRtYXBSZXNvdXJjZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiaXRtYXBSZXNvdXJjZS5vbkFmdGVyTWlkZGxld2FyZS5hZGQoY29tcGxldGVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBleGlzdHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0ZXh0dXJlIGlzIG5vdCBsb2FkZWQsIHdlJ2xsIGF0dGVtcHQgdG8gYWRkXG4gICAgICAgICAgICAvLyBpdCB0byB0aGUgbG9hZCBhbmQgYWRkIHRoZSB0ZXh0dXJlIHRvIHRoZSBsaXN0XG4gICAgICAgICAgICBpZiAoIWV4aXN0cykge1xuICAgICAgICAgICAgICAgIC8vIFN0YW5kYXJkIGxvYWRpbmcgb3B0aW9ucyBmb3IgaW1hZ2VzXG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNyb3NzT3JpZ2luOiByZXNvdXJjZS5jcm9zc09yaWdpbixcbiAgICAgICAgICAgICAgICAgICAgbG9hZFR5cGU6IExvYWRlclJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IE9iamVjdC5hc3NpZ24oeyBwYWdlRmlsZTogcGFnZUZpbGUgfSwgcmVzb3VyY2UubWV0YWRhdGEuaW1hZ2VNZXRhZGF0YSksXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudFJlc291cmNlOiByZXNvdXJjZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKHVybCwgb3B0aW9ucywgY29tcGxldGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGZvbGRlciBwYXRoIGZyb20gYSByZXNvdXJjZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlcn0gbG9hZGVyXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBCaXRtYXBGb250TG9hZGVyLmdldEJhc2VVcmwgPSBmdW5jdGlvbiAobG9hZGVyLCByZXNvdXJjZSkge1xuICAgICAgICB2YXIgcmVzVXJsID0gIXJlc291cmNlLmlzRGF0YVVybCA/IEJpdG1hcEZvbnRMb2FkZXIuZGlybmFtZShyZXNvdXJjZS51cmwpIDogJyc7XG4gICAgICAgIGlmIChyZXNvdXJjZS5pc0RhdGFVcmwpIHtcbiAgICAgICAgICAgIGlmIChyZXNVcmwgPT09ICcuJykge1xuICAgICAgICAgICAgICAgIHJlc1VybCA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxvYWRlci5iYXNlVXJsICYmIHJlc1VybCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIGJhc2V1cmwgaGFzIGEgdHJhaWxpbmcgc2xhc2ggdGhlbiBhZGQgb25lIHRvIHJlc1VybCBzbyB0aGUgcmVwbGFjZSB3b3JrcyBiZWxvd1xuICAgICAgICAgICAgICAgIGlmIChsb2FkZXIuYmFzZVVybC5jaGFyQXQobG9hZGVyLmJhc2VVcmwubGVuZ3RoIC0gMSkgPT09ICcvJykge1xuICAgICAgICAgICAgICAgICAgICByZXNVcmwgKz0gJy8nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyByZW1vdmUgYmFzZVVybCBmcm9tIHJlc1VybFxuICAgICAgICByZXNVcmwgPSByZXNVcmwucmVwbGFjZShsb2FkZXIuYmFzZVVybCwgJycpO1xuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbiByZXNVcmwgbm93LCBpdCBuZWVkcyBhIHRyYWlsaW5nIHNsYXNoLiBFbnN1cmUgdGhhdCBpdCBkb2VzIGlmIHRoZSBzdHJpbmcgaXNuJ3QgZW1wdHkuXG4gICAgICAgIGlmIChyZXNVcmwgJiYgcmVzVXJsLmNoYXJBdChyZXNVcmwubGVuZ3RoIC0gMSkgIT09ICcvJykge1xuICAgICAgICAgICAgcmVzVXJsICs9ICcvJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzVXJsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVwbGFjZW1lbnQgZm9yIE5vZGVKUydzIHBhdGguZGlybmFtZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFBhdGggdG8gZ2V0IGRpcmVjdG9yeSBmb3JcbiAgICAgKi9cbiAgICBCaXRtYXBGb250TG9hZGVyLmRpcm5hbWUgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHZhciBkaXIgPSB1cmxcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcL2csICcvJykgLy8gY29udmVydCB3aW5kb3dzIG5vdGF0aW9uIHRvIFVOSVggbm90YXRpb24sIFVSTC1zYWZlIGJlY2F1c2UgaXQncyBhIGZvcmJpZGRlbiBjaGFyYWN0ZXJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXC8kLywgJycpIC8vIHJlcGxhY2UgdHJhaWxpbmcgc2xhc2hcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXC9bXlxcL10qJC8sICcnKTsgLy8gcmVtb3ZlIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGxhc3RcbiAgICAgICAgLy8gRmlsZSByZXF1ZXN0IGlzIHJlbGF0aXZlLCB1c2UgY3VycmVudCBkaXJlY3RvcnlcbiAgICAgICAgaWYgKGRpciA9PT0gdXJsKSB7XG4gICAgICAgICAgICByZXR1cm4gJy4nO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN0YXJ0ZWQgd2l0aCBhIHNsYXNoXG4gICAgICAgIGVsc2UgaWYgKGRpciA9PT0gJycpIHtcbiAgICAgICAgICAgIHJldHVybiAnLyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpcjtcbiAgICB9O1xuICAgIHJldHVybiBCaXRtYXBGb250TG9hZGVyO1xufSgpKTtcblxuZXhwb3J0IHsgQml0bWFwRm9udCwgQml0bWFwRm9udERhdGEsIEJpdG1hcEZvbnRMb2FkZXIsIEJpdG1hcFRleHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHQtYml0bWFwLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9maWx0ZXItYWxwaGEgLSB2Ni4wLjBcbiAqIENvbXBpbGVkIFR1ZSwgMDIgTWFyIDIwMjEgMjE6NDU6MDMgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLWFscGhhIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgZGVmYXVsdFZlcnRleCwgRmlsdGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gZmxvYXQgdUFscGhhO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpICogdUFscGhhO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBTaW1wbGVzdCBmaWx0ZXIgLSBhcHBsaWVzIGFscGhhLlxuICpcbiAqIFVzZSB0aGlzIGluc3RlYWQgb2YgQ29udGFpbmVyJ3MgYWxwaGEgcHJvcGVydHkgdG8gYXZvaWQgdmlzdWFsIGxheWVyaW5nIG9mIGluZGl2aWR1YWwgZWxlbWVudHMuXG4gKiBBbHBoYUZpbHRlciBhcHBsaWVzIGFscGhhIGV2ZW5seSBhY3Jvc3MgdGhlIGVudGlyZSBkaXNwbGF5IG9iamVjdCBhbmQgYW55IG9wYXF1ZSBlbGVtZW50cyBpdCBjb250YWlucy5cbiAqIElmIGVsZW1lbnRzIGFyZSBub3Qgb3BhcXVlLCB0aGV5IHdpbGwgYmxlbmQgd2l0aCBlYWNoIG90aGVyIGFueXdheS5cbiAqXG4gKiBWZXJ5IGhhbmR5IGlmIHlvdSB3YW50IHRvIHVzZSBjb21tb24gZmVhdHVyZXMgb2YgYWxsIGZpbHRlcnM6XG4gKlxuICogMS4gQXNzaWduIGEgYmxlbmRNb2RlIHRvIHRoaXMgZmlsdGVyLCBibGVuZCBhbGwgZWxlbWVudHMgaW5zaWRlIGRpc3BsYXkgb2JqZWN0IHdpdGggYmFja2dyb3VuZC5cbiAqXG4gKiAyLiBUbyB1c2UgY2xpcHBpbmcgaW4gZGlzcGxheSBjb29yZGluYXRlcywgYXNzaWduIGEgZmlsdGVyQXJlYSB0byB0aGUgc2FtZSBjb250YWluZXIgdGhhdCBoYXMgdGhpcyBmaWx0ZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgQWxwaGFGaWx0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFscGhhRmlsdGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxwaGE9MV0gLSBBbW91bnQgb2YgYWxwaGEgZnJvbSAwIHRvIDEsIHdoZXJlIDAgaXMgdHJhbnNwYXJlbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBbHBoYUZpbHRlcihhbHBoYSkge1xuICAgICAgICBpZiAoYWxwaGEgPT09IHZvaWQgMCkgeyBhbHBoYSA9IDEuMDsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZWZhdWx0VmVydGV4LCBmcmFnbWVudCwgeyB1QWxwaGE6IDEgfSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWxwaGEgPSBhbHBoYTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWxwaGFGaWx0ZXIucHJvdG90eXBlLCBcImFscGhhXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvZWZmaWNpZW50IGZvciBhbHBoYSBtdWx0aXBsaWNhdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudUFscGhhO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51QWxwaGEgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBBbHBoYUZpbHRlcjtcbn0oRmlsdGVyKSk7XG5cbmV4cG9ydCB7IEFscGhhRmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXItYWxwaGEuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1ibHVyIC0gdjYuMC4wXG4gKiBDb21waWxlZCBUdWUsIDAyIE1hciAyMDIxIDIxOjQ1OjAzIFVUQ1xuICpcbiAqIEBwaXhpL2ZpbHRlci1ibHVyIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciB2ZXJ0VGVtcGxhdGUgPSBcIlxcbiAgICBhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuXFxuICAgIHVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbiAgICB1bmlmb3JtIGZsb2F0IHN0cmVuZ3RoO1xcblxcbiAgICB2YXJ5aW5nIHZlYzIgdkJsdXJUZXhDb29yZHNbJXNpemUlXTtcXG5cXG4gICAgdW5pZm9ybSB2ZWM0IGlucHV0U2l6ZTtcXG4gICAgdW5pZm9ybSB2ZWM0IG91dHB1dEZyYW1lO1xcblxcbiAgICB2ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG4gICAge1xcbiAgICAgICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XFxuXFxuICAgICAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgIH1cXG5cXG4gICAgdmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxcbiAgICB7XFxuICAgICAgICByZXR1cm4gYVZlcnRleFBvc2l0aW9uICogKG91dHB1dEZyYW1lLnp3ICogaW5wdXRTaXplLnp3KTtcXG4gICAgfVxcblxcbiAgICB2b2lkIG1haW4odm9pZClcXG4gICAge1xcbiAgICAgICAgZ2xfUG9zaXRpb24gPSBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbigpO1xcblxcbiAgICAgICAgdmVjMiB0ZXh0dXJlQ29vcmQgPSBmaWx0ZXJUZXh0dXJlQ29vcmQoKTtcXG4gICAgICAgICVibHVyJVxcbiAgICB9XCI7XG5mdW5jdGlvbiBnZW5lcmF0ZUJsdXJWZXJ0U291cmNlKGtlcm5lbFNpemUsIHgpIHtcbiAgICB2YXIgaGFsZkxlbmd0aCA9IE1hdGguY2VpbChrZXJuZWxTaXplIC8gMik7XG4gICAgdmFyIHZlcnRTb3VyY2UgPSB2ZXJ0VGVtcGxhdGU7XG4gICAgdmFyIGJsdXJMb29wID0gJyc7XG4gICAgdmFyIHRlbXBsYXRlO1xuICAgIGlmICh4KSB7XG4gICAgICAgIHRlbXBsYXRlID0gJ3ZCbHVyVGV4Q29vcmRzWyVpbmRleCVdID0gIHRleHR1cmVDb29yZCArIHZlYzIoJXNhbXBsZUluZGV4JSAqIHN0cmVuZ3RoLCAwLjApOyc7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0ZW1wbGF0ZSA9ICd2Qmx1clRleENvb3Jkc1slaW5kZXglXSA9ICB0ZXh0dXJlQ29vcmQgKyB2ZWMyKDAuMCwgJXNhbXBsZUluZGV4JSAqIHN0cmVuZ3RoKTsnO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtlcm5lbFNpemU7IGkrKykge1xuICAgICAgICB2YXIgYmx1ciA9IHRlbXBsYXRlLnJlcGxhY2UoJyVpbmRleCUnLCBpLnRvU3RyaW5nKCkpO1xuICAgICAgICBibHVyID0gYmx1ci5yZXBsYWNlKCclc2FtcGxlSW5kZXglJywgaSAtIChoYWxmTGVuZ3RoIC0gMSkgKyBcIi4wXCIpO1xuICAgICAgICBibHVyTG9vcCArPSBibHVyO1xuICAgICAgICBibHVyTG9vcCArPSAnXFxuJztcbiAgICB9XG4gICAgdmVydFNvdXJjZSA9IHZlcnRTb3VyY2UucmVwbGFjZSgnJWJsdXIlJywgYmx1ckxvb3ApO1xuICAgIHZlcnRTb3VyY2UgPSB2ZXJ0U291cmNlLnJlcGxhY2UoJyVzaXplJScsIGtlcm5lbFNpemUudG9TdHJpbmcoKSk7XG4gICAgcmV0dXJuIHZlcnRTb3VyY2U7XG59XG5cbnZhciBHQVVTU0lBTl9WQUxVRVMgPSB7XG4gICAgNTogWzAuMTUzMzg4LCAwLjIyMTQ2MSwgMC4yNTAzMDFdLFxuICAgIDc6IFswLjA3MTMwMywgMC4xMzE1MTQsIDAuMTg5ODc5LCAwLjIxNDYwN10sXG4gICAgOTogWzAuMDI4NTMyLCAwLjA2NzIzNCwgMC4xMjQwMDksIDAuMTc5MDQ0LCAwLjIwMjM2XSxcbiAgICAxMTogWzAuMDA5MywgMC4wMjgwMDIsIDAuMDY1OTg0LCAwLjEyMTcwMywgMC4xNzU3MTMsIDAuMTk4NTk2XSxcbiAgICAxMzogWzAuMDAyNDA2LCAwLjAwOTI1NSwgMC4wMjc4NjcsIDAuMDY1NjY2LCAwLjEyMTExNywgMC4xNzQ4NjgsIDAuMTk3NjQxXSxcbiAgICAxNTogWzAuMDAwNDg5LCAwLjAwMjQwMywgMC4wMDkyNDYsIDAuMDI3ODQsIDAuMDY1NjAyLCAwLjEyMDk5OSwgMC4xNzQ2OTcsIDAuMTk3NDQ4XSxcbn07XG52YXIgZnJhZ1RlbXBsYXRlID0gW1xuICAgICd2YXJ5aW5nIHZlYzIgdkJsdXJUZXhDb29yZHNbJXNpemUlXTsnLFxuICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjsnLFxuICAgICd2b2lkIG1haW4odm9pZCknLFxuICAgICd7JyxcbiAgICAnICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMC4wKTsnLFxuICAgICcgICAgJWJsdXIlJyxcbiAgICAnfScgXS5qb2luKCdcXG4nKTtcbmZ1bmN0aW9uIGdlbmVyYXRlQmx1ckZyYWdTb3VyY2Uoa2VybmVsU2l6ZSkge1xuICAgIHZhciBrZXJuZWwgPSBHQVVTU0lBTl9WQUxVRVNba2VybmVsU2l6ZV07XG4gICAgdmFyIGhhbGZMZW5ndGggPSBrZXJuZWwubGVuZ3RoO1xuICAgIHZhciBmcmFnU291cmNlID0gZnJhZ1RlbXBsYXRlO1xuICAgIHZhciBibHVyTG9vcCA9ICcnO1xuICAgIHZhciB0ZW1wbGF0ZSA9ICdnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2Qmx1clRleENvb3Jkc1slaW5kZXglXSkgKiAldmFsdWUlOyc7XG4gICAgdmFyIHZhbHVlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2VybmVsU2l6ZTsgaSsrKSB7XG4gICAgICAgIHZhciBibHVyID0gdGVtcGxhdGUucmVwbGFjZSgnJWluZGV4JScsIGkudG9TdHJpbmcoKSk7XG4gICAgICAgIHZhbHVlID0gaTtcbiAgICAgICAgaWYgKGkgPj0gaGFsZkxlbmd0aCkge1xuICAgICAgICAgICAgdmFsdWUgPSBrZXJuZWxTaXplIC0gaSAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgYmx1ciA9IGJsdXIucmVwbGFjZSgnJXZhbHVlJScsIGtlcm5lbFt2YWx1ZV0udG9TdHJpbmcoKSk7XG4gICAgICAgIGJsdXJMb29wICs9IGJsdXI7XG4gICAgICAgIGJsdXJMb29wICs9ICdcXG4nO1xuICAgIH1cbiAgICBmcmFnU291cmNlID0gZnJhZ1NvdXJjZS5yZXBsYWNlKCclYmx1ciUnLCBibHVyTG9vcCk7XG4gICAgZnJhZ1NvdXJjZSA9IGZyYWdTb3VyY2UucmVwbGFjZSgnJXNpemUlJywga2VybmVsU2l6ZS50b1N0cmluZygpKTtcbiAgICByZXR1cm4gZnJhZ1NvdXJjZTtcbn1cblxuLyoqXG4gKiBEaWZmZXJlbnQgdHlwZXMgb2YgZW52aXJvbm1lbnRzIGZvciBXZWJHTC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgRU5WXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMX0xFR0FDWSAtIFVzZWQgZm9yIG9sZGVyIHYxIFdlYkdMIGRldmljZXMuIFBpeGlKUyB3aWxsIGFpbSB0byBlbnN1cmUgY29tcGF0aWJpbGl0eVxuICogIHdpdGggb2xkZXIgLyBsZXNzIGFkdmFuY2VkIGRldmljZXMuIElmIHlvdSBleHBlcmllbmNlIHVuZXhwbGFpbmVkIGZsaWNrZXJpbmcgcHJlZmVyIHRoaXMgZW52aXJvbm1lbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0wgLSBWZXJzaW9uIDEgb2YgV2ViR0xcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTDIgLSBWZXJzaW9uIDIgb2YgV2ViR0xcbiAqL1xudmFyIEVOVjtcbihmdW5jdGlvbiAoRU5WKSB7XG4gICAgRU5WW0VOVltcIldFQkdMX0xFR0FDWVwiXSA9IDBdID0gXCJXRUJHTF9MRUdBQ1lcIjtcbiAgICBFTlZbRU5WW1wiV0VCR0xcIl0gPSAxXSA9IFwiV0VCR0xcIjtcbiAgICBFTlZbRU5WW1wiV0VCR0wyXCJdID0gMl0gPSBcIldFQkdMMlwiO1xufSkoRU5WIHx8IChFTlYgPSB7fSkpO1xuLyoqXG4gKiBDb25zdGFudCB0byBpZGVudGlmeSB0aGUgUmVuZGVyZXIgVHlwZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgUkVOREVSRVJfVFlQRVxuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTktOT1dOIC0gVW5rbm93biByZW5kZXIgdHlwZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTCAtIFdlYkdMIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENBTlZBUyAtIENhbnZhcyByZW5kZXIgdHlwZS5cbiAqL1xudmFyIFJFTkRFUkVSX1RZUEU7XG4oZnVuY3Rpb24gKFJFTkRFUkVSX1RZUEUpIHtcbiAgICBSRU5ERVJFUl9UWVBFW1JFTkRFUkVSX1RZUEVbXCJVTktOT1dOXCJdID0gMF0gPSBcIlVOS05PV05cIjtcbiAgICBSRU5ERVJFUl9UWVBFW1JFTkRFUkVSX1RZUEVbXCJXRUJHTFwiXSA9IDFdID0gXCJXRUJHTFwiO1xuICAgIFJFTkRFUkVSX1RZUEVbUkVOREVSRVJfVFlQRVtcIkNBTlZBU1wiXSA9IDJdID0gXCJDQU5WQVNcIjtcbn0pKFJFTkRFUkVSX1RZUEUgfHwgKFJFTkRFUkVSX1RZUEUgPSB7fSkpO1xuLyoqXG4gKiBCaXR3aXNlIE9SIG9mIG1hc2tzIHRoYXQgaW5kaWNhdGUgdGhlIGJ1ZmZlcnMgdG8gYmUgY2xlYXJlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgQlVGRkVSX0JJVFNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1IgLSBJbmRpY2F0ZXMgdGhlIGJ1ZmZlcnMgY3VycmVudGx5IGVuYWJsZWQgZm9yIGNvbG9yIHdyaXRpbmcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gREVQVEggLSBJbmRpY2F0ZXMgdGhlIGRlcHRoIGJ1ZmZlci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTVEVOQ0lMIC0gSW5kaWNhdGVzIHRoZSBzdGVuY2lsIGJ1ZmZlci5cbiAqL1xudmFyIEJVRkZFUl9CSVRTO1xuKGZ1bmN0aW9uIChCVUZGRVJfQklUUykge1xuICAgIEJVRkZFUl9CSVRTW0JVRkZFUl9CSVRTW1wiQ09MT1JcIl0gPSAxNjM4NF0gPSBcIkNPTE9SXCI7XG4gICAgQlVGRkVSX0JJVFNbQlVGRkVSX0JJVFNbXCJERVBUSFwiXSA9IDI1Nl0gPSBcIkRFUFRIXCI7XG4gICAgQlVGRkVSX0JJVFNbQlVGRkVSX0JJVFNbXCJTVEVOQ0lMXCJdID0gMTAyNF0gPSBcIlNURU5DSUxcIjtcbn0pKEJVRkZFUl9CSVRTIHx8IChCVUZGRVJfQklUUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgYmxlbmQgbW9kZXMgc3VwcG9ydGVkIGJ5IFBJWEkuXG4gKlxuICogSU1QT1JUQU5UIC0gVGhlIFdlYkdMIHJlbmRlcmVyIG9ubHkgc3VwcG9ydHMgdGhlIE5PUk1BTCwgQURELCBNVUxUSVBMWSBhbmQgU0NSRUVOIGJsZW5kIG1vZGVzLlxuICogQW55dGhpbmcgZWxzZSB3aWxsIHNpbGVudGx5IGFjdCBsaWtlIE5PUk1BTC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgQkxFTkRfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9STUFMXG4gKiBAcHJvcGVydHkge251bWJlcn0gQUREXG4gKiBAcHJvcGVydHkge251bWJlcn0gTVVMVElQTFlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ1JFRU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPVkVSTEFZXG4gKiBAcHJvcGVydHkge251bWJlcn0gREFSS0VOXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElHSFRFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SX0RPREdFXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JfQlVSTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhBUkRfTElHSFRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTT0ZUX0xJR0hUXG4gKiBAcHJvcGVydHkge251bWJlcn0gRElGRkVSRU5DRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVYQ0xVU0lPTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhVRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNBVFVSQVRJT05cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOT1NJVFlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUxfTlBNXG4gKiBAcHJvcGVydHkge251bWJlcn0gQUREX05QTVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDUkVFTl9OUE1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT05FXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX0lOXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX09VVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19BVE9QXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFNUX09WRVJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfSU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfT1VUXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFNUX0FUT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTVUJUUkFDVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19PVkVSXG4gKiBAcHJvcGVydHkge251bWJlcn0gRVJBU0VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBYT1JcbiAqL1xudmFyIEJMRU5EX01PREVTO1xuKGZ1bmN0aW9uIChCTEVORF9NT0RFUykge1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTk9STUFMXCJdID0gMF0gPSBcIk5PUk1BTFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiQUREXCJdID0gMV0gPSBcIkFERFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTVVMVElQTFlcIl0gPSAyXSA9IFwiTVVMVElQTFlcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNDUkVFTlwiXSA9IDNdID0gXCJTQ1JFRU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk9WRVJMQVlcIl0gPSA0XSA9IFwiT1ZFUkxBWVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiREFSS0VOXCJdID0gNV0gPSBcIkRBUktFTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTElHSFRFTlwiXSA9IDZdID0gXCJMSUdIVEVOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJDT0xPUl9ET0RHRVwiXSA9IDddID0gXCJDT0xPUl9ET0RHRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiQ09MT1JfQlVSTlwiXSA9IDhdID0gXCJDT0xPUl9CVVJOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJIQVJEX0xJR0hUXCJdID0gOV0gPSBcIkhBUkRfTElHSFRcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNPRlRfTElHSFRcIl0gPSAxMF0gPSBcIlNPRlRfTElHSFRcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRJRkZFUkVOQ0VcIl0gPSAxMV0gPSBcIkRJRkZFUkVOQ0VcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkVYQ0xVU0lPTlwiXSA9IDEyXSA9IFwiRVhDTFVTSU9OXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJIVUVcIl0gPSAxM10gPSBcIkhVRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU0FUVVJBVElPTlwiXSA9IDE0XSA9IFwiU0FUVVJBVElPTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiQ09MT1JcIl0gPSAxNV0gPSBcIkNPTE9SXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJMVU1JTk9TSVRZXCJdID0gMTZdID0gXCJMVU1JTk9TSVRZXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJOT1JNQUxfTlBNXCJdID0gMTddID0gXCJOT1JNQUxfTlBNXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJBRERfTlBNXCJdID0gMThdID0gXCJBRERfTlBNXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTQ1JFRU5fTlBNXCJdID0gMTldID0gXCJTQ1JFRU5fTlBNXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJOT05FXCJdID0gMjBdID0gXCJOT05FXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTUkNfT1ZFUlwiXSA9IDBdID0gXCJTUkNfT1ZFUlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX0lOXCJdID0gMjFdID0gXCJTUkNfSU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNSQ19PVVRcIl0gPSAyMl0gPSBcIlNSQ19PVVRcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNSQ19BVE9QXCJdID0gMjNdID0gXCJTUkNfQVRPUFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRFNUX09WRVJcIl0gPSAyNF0gPSBcIkRTVF9PVkVSXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfSU5cIl0gPSAyNV0gPSBcIkRTVF9JTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRFNUX09VVFwiXSA9IDI2XSA9IFwiRFNUX09VVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRFNUX0FUT1BcIl0gPSAyN10gPSBcIkRTVF9BVE9QXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJFUkFTRVwiXSA9IDI2XSA9IFwiRVJBU0VcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNVQlRSQUNUXCJdID0gMjhdID0gXCJTVUJUUkFDVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiWE9SXCJdID0gMjldID0gXCJYT1JcIjtcbn0pKEJMRU5EX01PREVTIHx8IChCTEVORF9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgd2ViZ2wgZHJhdyBtb2Rlcy4gVGhlc2UgY2FuIGJlIHVzZWQgdG8gc3BlY2lmeSB3aGljaCBHTCBkcmF3TW9kZSB0byB1c2VcbiAqIHVuZGVyIGNlcnRhaW4gc2l0dWF0aW9ucyBhbmQgcmVuZGVyZXJzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBEUkFXX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBPSU5UU1xuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVTXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORV9MT09QXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORV9TVFJJUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFU1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFX1NUUklQXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVfRkFOXG4gKi9cbnZhciBEUkFXX01PREVTO1xuKGZ1bmN0aW9uIChEUkFXX01PREVTKSB7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiUE9JTlRTXCJdID0gMF0gPSBcIlBPSU5UU1wiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIkxJTkVTXCJdID0gMV0gPSBcIkxJTkVTXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiTElORV9MT09QXCJdID0gMl0gPSBcIkxJTkVfTE9PUFwiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIkxJTkVfU1RSSVBcIl0gPSAzXSA9IFwiTElORV9TVFJJUFwiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIlRSSUFOR0xFU1wiXSA9IDRdID0gXCJUUklBTkdMRVNcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJUUklBTkdMRV9TVFJJUFwiXSA9IDVdID0gXCJUUklBTkdMRV9TVFJJUFwiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIlRSSUFOR0xFX0ZBTlwiXSA9IDZdID0gXCJUUklBTkdMRV9GQU5cIjtcbn0pKERSQVdfTU9ERVMgfHwgKERSQVdfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBWYXJpb3VzIEdMIHRleHR1cmUvcmVzb3VyY2VzIGZvcm1hdHMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIEZPUk1BVFNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUkdCQT02NDA4XG4gKiBAcHJvcGVydHkge251bWJlcn0gUkdCPTY0MDdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBTFBIQT02NDA2XG4gKiBAcHJvcGVydHkge251bWJlcn0gTFVNSU5BTkNFPTY0MDlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMVU1JTkFOQ0VfQUxQSEE9NjQxMFxuICogQHByb3BlcnR5IHtudW1iZXJ9IERFUFRIX0NPTVBPTkVOVD02NDAyXG4gKiBAcHJvcGVydHkge251bWJlcn0gREVQVEhfU1RFTkNJTD0zNDA0MVxuICovXG52YXIgRk9STUFUUztcbihmdW5jdGlvbiAoRk9STUFUUykge1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIlJHQkFcIl0gPSA2NDA4XSA9IFwiUkdCQVwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIlJHQlwiXSA9IDY0MDddID0gXCJSR0JcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJBTFBIQVwiXSA9IDY0MDZdID0gXCJBTFBIQVwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkxVTUlOQU5DRVwiXSA9IDY0MDldID0gXCJMVU1JTkFOQ0VcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJMVU1JTkFOQ0VfQUxQSEFcIl0gPSA2NDEwXSA9IFwiTFVNSU5BTkNFX0FMUEhBXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiREVQVEhfQ09NUE9ORU5UXCJdID0gNjQwMl0gPSBcIkRFUFRIX0NPTVBPTkVOVFwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkRFUFRIX1NURU5DSUxcIl0gPSAzNDA0MV0gPSBcIkRFUFRIX1NURU5DSUxcIjtcbn0pKEZPUk1BVFMgfHwgKEZPUk1BVFMgPSB7fSkpO1xuLyoqXG4gKiBWYXJpb3VzIEdMIHRhcmdldCB0eXBlcy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgVEFSR0VUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFXzJEPTM1NTNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQPTM0MDY3XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV8yRF9BUlJBWT0zNTg2NlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWD0zNDA2OVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWD0zNDA3MFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWT0zNDA3MVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWT0zNDA3MlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWj0zNDA3M1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWj0zNDA3NFxuICovXG52YXIgVEFSR0VUUztcbihmdW5jdGlvbiAoVEFSR0VUUykge1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfMkRcIl0gPSAzNTUzXSA9IFwiVEVYVFVSRV8yRFwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBcIl0gPSAzNDA2N10gPSBcIlRFWFRVUkVfQ1VCRV9NQVBcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFXzJEX0FSUkFZXCJdID0gMzU4NjZdID0gXCJURVhUVVJFXzJEX0FSUkFZXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YXCJdID0gMzQwNjldID0gXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1hcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1hcIl0gPSAzNDA3MF0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWFwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWVwiXSA9IDM0MDcxXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZXCJdID0gMzQwNzJdID0gXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1lcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1pcIl0gPSAzNDA3M10gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWlwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWlwiXSA9IDM0MDc0XSA9IFwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aXCI7XG59KShUQVJHRVRTIHx8IChUQVJHRVRTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBHTCBkYXRhIGZvcm1hdCB0eXBlcy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgVFlQRVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfQllURT01MTIxXG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlQ9NTEyM1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX1NIT1JUXzVfNl81PTMzNjM1XG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNF80XzRfND0zMjgxOVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX1NIT1JUXzVfNV81XzE9MzI4MjBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBGTE9BVD01MTI2XG4gKiBAcHJvcGVydHkge251bWJlcn0gSEFMRl9GTE9BVD0zNjE5M1xuICovXG52YXIgVFlQRVM7XG4oZnVuY3Rpb24gKFRZUEVTKSB7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9CWVRFXCJdID0gNTEyMV0gPSBcIlVOU0lHTkVEX0JZVEVcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX1NIT1JUXCJdID0gNTEyM10gPSBcIlVOU0lHTkVEX1NIT1JUXCI7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9TSE9SVF81XzZfNVwiXSA9IDMzNjM1XSA9IFwiVU5TSUdORURfU0hPUlRfNV82XzVcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX1NIT1JUXzRfNF80XzRcIl0gPSAzMjgxOV0gPSBcIlVOU0lHTkVEX1NIT1JUXzRfNF80XzRcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX1NIT1JUXzVfNV81XzFcIl0gPSAzMjgyMF0gPSBcIlVOU0lHTkVEX1NIT1JUXzVfNV81XzFcIjtcbiAgICBUWVBFU1tUWVBFU1tcIkZMT0FUXCJdID0gNTEyNl0gPSBcIkZMT0FUXCI7XG4gICAgVFlQRVNbVFlQRVNbXCJIQUxGX0ZMT0FUXCJdID0gMzYxOTNdID0gXCJIQUxGX0ZMT0FUXCI7XG59KShUWVBFUyB8fCAoVFlQRVMgPSB7fSkpO1xuLyoqXG4gKiBUaGUgc2NhbGUgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLlNDQUxFX01PREV9IHNjYWxlIG1vZGUgYWZmZWN0cyB0aGUgZGVmYXVsdCBzY2FsaW5nIG1vZGUgb2YgZnV0dXJlIG9wZXJhdGlvbnMuXG4gKiBJdCBjYW4gYmUgcmUtYXNzaWduZWQgdG8gZWl0aGVyIExJTkVBUiBvciBORUFSRVNULCBkZXBlbmRpbmcgdXBvbiBzdWl0YWJpbGl0eS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgU0NBTEVfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORUFSIFNtb290aCBzY2FsaW5nXG4gKiBAcHJvcGVydHkge251bWJlcn0gTkVBUkVTVCBQaXhlbGF0aW5nIHNjYWxpbmdcbiAqL1xudmFyIFNDQUxFX01PREVTO1xuKGZ1bmN0aW9uIChTQ0FMRV9NT0RFUykge1xuICAgIFNDQUxFX01PREVTW1NDQUxFX01PREVTW1wiTkVBUkVTVFwiXSA9IDBdID0gXCJORUFSRVNUXCI7XG4gICAgU0NBTEVfTU9ERVNbU0NBTEVfTU9ERVNbXCJMSU5FQVJcIl0gPSAxXSA9IFwiTElORUFSXCI7XG59KShTQ0FMRV9NT0RFUyB8fCAoU0NBTEVfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBUaGUgd3JhcCBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuV1JBUF9NT0RFfSB3cmFwIG1vZGUgYWZmZWN0cyB0aGUgZGVmYXVsdCB3cmFwcGluZyBtb2RlIG9mIGZ1dHVyZSBvcGVyYXRpb25zLlxuICogSXQgY2FuIGJlIHJlLWFzc2lnbmVkIHRvIGVpdGhlciBDTEFNUCBvciBSRVBFQVQsIGRlcGVuZGluZyB1cG9uIHN1aXRhYmlsaXR5LlxuICogSWYgdGhlIHRleHR1cmUgaXMgbm9uIHBvd2VyIG9mIHR3byB0aGVuIGNsYW1wIHdpbGwgYmUgdXNlZCByZWdhcmRsZXNzIGFzIFdlYkdMIGNhblxuICogb25seSB1c2UgUkVQRUFUIGlmIHRoZSB0ZXh0dXJlIGlzIHBvMi5cbiAqXG4gKiBUaGlzIHByb3BlcnR5IG9ubHkgYWZmZWN0cyBXZWJHTC5cbiAqXG4gKiBAbmFtZSBXUkFQX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDTEFNUCAtIFRoZSB0ZXh0dXJlcyB1dnMgYXJlIGNsYW1wZWRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSRVBFQVQgLSBUaGUgdGV4dHVyZSB1dnMgdGlsZSBhbmQgcmVwZWF0XG4gKiBAcHJvcGVydHkge251bWJlcn0gTUlSUk9SRURfUkVQRUFUIC0gVGhlIHRleHR1cmUgdXZzIHRpbGUgYW5kIHJlcGVhdCB3aXRoIG1pcnJvcmluZ1xuICovXG52YXIgV1JBUF9NT0RFUztcbihmdW5jdGlvbiAoV1JBUF9NT0RFUykge1xuICAgIFdSQVBfTU9ERVNbV1JBUF9NT0RFU1tcIkNMQU1QXCJdID0gMzMwNzFdID0gXCJDTEFNUFwiO1xuICAgIFdSQVBfTU9ERVNbV1JBUF9NT0RFU1tcIlJFUEVBVFwiXSA9IDEwNDk3XSA9IFwiUkVQRUFUXCI7XG4gICAgV1JBUF9NT0RFU1tXUkFQX01PREVTW1wiTUlSUk9SRURfUkVQRUFUXCJdID0gMzM2NDhdID0gXCJNSVJST1JFRF9SRVBFQVRcIjtcbn0pKFdSQVBfTU9ERVMgfHwgKFdSQVBfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBNaXBtYXAgZmlsdGVyaW5nIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVN9IGFmZmVjdHMgZGVmYXVsdCB0ZXh0dXJlIGZpbHRlcmluZy5cbiAqIE1pcG1hcHMgYXJlIGdlbmVyYXRlZCBmb3IgYSBiYXNlVGV4dHVyZSBpZiBpdHMgYG1pcG1hcGAgZmllbGQgaXMgYE9OYCxcbiAqIG9yIGl0cyBgUE9XMmAgYW5kIHRleHR1cmUgZGltZW5zaW9ucyBhcmUgcG93ZXJzIG9mIDIuXG4gKiBEdWUgdG8gcGxhdGZvcm0gcmVzdHJpY3Rpb24sIGBPTmAgb3B0aW9uIHdpbGwgd29yayBsaWtlIGBQT1cyYCBmb3Igd2ViZ2wtMS5cbiAqXG4gKiBUaGlzIHByb3BlcnR5IG9ubHkgYWZmZWN0cyBXZWJHTC5cbiAqXG4gKiBAbmFtZSBNSVBNQVBfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9GRiAtIE5vIG1pcG1hcHNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT1cyIC0gR2VuZXJhdGUgbWlwbWFwcyBpZiB0ZXh0dXJlIGRpbWVuc2lvbnMgYXJlIHBvdzJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPTiAtIEFsd2F5cyBnZW5lcmF0ZSBtaXBtYXBzXG4gKiBAcHJvcGVydHkge251bWJlcn0gT05fTUFOVUFMIC0gVXNlIG1pcG1hcHMsIGJ1dCBkbyBub3QgYXV0by1nZW5lcmF0ZSB0aGVtOyB0aGlzIGlzIHVzZWQgd2l0aCBhIHJlc291cmNlXG4gKiAgIHRoYXQgc3VwcG9ydHMgYnVmZmVyaW5nIGVhY2ggbGV2ZWwtb2YtZGV0YWlsLlxuICovXG52YXIgTUlQTUFQX01PREVTO1xuKGZ1bmN0aW9uIChNSVBNQVBfTU9ERVMpIHtcbiAgICBNSVBNQVBfTU9ERVNbTUlQTUFQX01PREVTW1wiT0ZGXCJdID0gMF0gPSBcIk9GRlwiO1xuICAgIE1JUE1BUF9NT0RFU1tNSVBNQVBfTU9ERVNbXCJQT1cyXCJdID0gMV0gPSBcIlBPVzJcIjtcbiAgICBNSVBNQVBfTU9ERVNbTUlQTUFQX01PREVTW1wiT05cIl0gPSAyXSA9IFwiT05cIjtcbiAgICBNSVBNQVBfTU9ERVNbTUlQTUFQX01PREVTW1wiT05fTUFOVUFMXCJdID0gM10gPSBcIk9OX01BTlVBTFwiO1xufSkoTUlQTUFQX01PREVTIHx8IChNSVBNQVBfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBIb3cgdG8gdHJlYXQgdGV4dHVyZXMgd2l0aCBwcmVtdWx0aXBsaWVkIGFscGhhXG4gKlxuICogQG5hbWUgQUxQSEFfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PX1BSRU1VTFRJUExJRURfQUxQSEEgLSBTb3VyY2UgaXMgbm90IHByZW11bHRpcGxpZWQsIGxlYXZlIGl0IGxpa2UgdGhhdC5cbiAqICBPcHRpb24gZm9yIGNvbXByZXNzZWQgYW5kIGRhdGEgdGV4dHVyZXMgdGhhdCBhcmUgY3JlYXRlZCBmcm9tIHR5cGVkIGFycmF5cy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQUkVNVUxUSVBMWV9PTl9VUExPQUQgLSBTb3VyY2UgaXMgbm90IHByZW11bHRpcGxpZWQsIHByZW11bHRpcGx5IG9uIHVwbG9hZC5cbiAqICBEZWZhdWx0IG9wdGlvbiwgdXNlZCBmb3IgYWxsIGxvYWRlZCBpbWFnZXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gUFJFTVVMVElQTElFRF9BTFBIQSAtIFNvdXJjZSBpcyBhbHJlYWR5IHByZW11bHRpcGxpZWRcbiAqICBFeGFtcGxlOiBzcGluZSBhdGxhc2VzIHdpdGggYF9wbWFgIHN1ZmZpeC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOUE0gLSBBbGlhcyBmb3IgTk9fUFJFTVVMVElQTElFRF9BTFBIQS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlBBQ0sgLSBEZWZhdWx0IG9wdGlvbiwgYWxpYXMgZm9yIFBSRU1VTFRJUExZX09OX1VQTE9BRC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQTUEgLSBBbGlhcyBmb3IgUFJFTVVMVElQTElFRF9BTFBIQS5cbiAqL1xudmFyIEFMUEhBX01PREVTO1xuKGZ1bmN0aW9uIChBTFBIQV9NT0RFUykge1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiTlBNXCJdID0gMF0gPSBcIk5QTVwiO1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiVU5QQUNLXCJdID0gMV0gPSBcIlVOUEFDS1wiO1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiUE1BXCJdID0gMl0gPSBcIlBNQVwiO1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiTk9fUFJFTVVMVElQTElFRF9BTFBIQVwiXSA9IDBdID0gXCJOT19QUkVNVUxUSVBMSUVEX0FMUEhBXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJQUkVNVUxUSVBMWV9PTl9VUExPQURcIl0gPSAxXSA9IFwiUFJFTVVMVElQTFlfT05fVVBMT0FEXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJQUkVNVUxUSVBMWV9BTFBIQVwiXSA9IDJdID0gXCJQUkVNVUxUSVBMWV9BTFBIQVwiO1xufSkoQUxQSEFfTU9ERVMgfHwgKEFMUEhBX01PREVTID0ge30pKTtcbi8qKlxuICogQ29uZmlndXJlIHdoZXRoZXIgZmlsdGVyIHRleHR1cmVzIGFyZSBjbGVhcmVkIGFmdGVyIGJpbmRpbmcuXG4gKlxuICogRmlsdGVyIHRleHR1cmVzIG5lZWQgbm90IGJlIGNsZWFyZWQgaWYgdGhlIGZpbHRlciBkb2VzIG5vdCB1c2UgcGl4ZWwgYmxlbmRpbmcuIHtAbGluayBDTEVBUl9NT0RFUy5CTElUfSB3aWxsIGRldGVjdFxuICogdGhpcyBhbmQgc2tpcCBjbGVhcmluZyBhcyBhbiBvcHRpbWl6YXRpb24uXG4gKlxuICogQG5hbWUgQ0xFQVJfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEJMRU5EIC0gRG8gbm90IGNsZWFyIHRoZSBmaWx0ZXIgdGV4dHVyZS4gVGhlIGZpbHRlcidzIG91dHB1dCB3aWxsIGJsZW5kIG9uIHRvcCBvZiB0aGUgb3V0cHV0IHRleHR1cmUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0xFQVIgLSBBbHdheXMgY2xlYXIgdGhlIGZpbHRlciB0ZXh0dXJlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEJMSVQgLSBDbGVhciBvbmx5IGlmIHtAbGluayBGaWx0ZXJTeXN0ZW0uZm9yY2VDbGVhcn0gaXMgc2V0IG9yIGlmIHRoZSBmaWx0ZXIgdXNlcyBwaXhlbCBibGVuZGluZy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOTyAtIEFsaWFzIGZvciBCTEVORCwgc2FtZSBhcyBgZmFsc2VgIGluIGVhcmxpZXIgdmVyc2lvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBZRVMgLSBBbGlhcyBmb3IgQ0xFQVIsIHNhbWUgYXMgYHRydWVgIGluIGVhcmxpZXIgdmVyc2lvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBVVRPIC0gQWxpYXMgZm9yIEJMSVRcbiAqL1xudmFyIENMRUFSX01PREVTO1xuKGZ1bmN0aW9uIChDTEVBUl9NT0RFUykge1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiTk9cIl0gPSAwXSA9IFwiTk9cIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIllFU1wiXSA9IDFdID0gXCJZRVNcIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIkFVVE9cIl0gPSAyXSA9IFwiQVVUT1wiO1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiQkxFTkRcIl0gPSAwXSA9IFwiQkxFTkRcIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIkNMRUFSXCJdID0gMV0gPSBcIkNMRUFSXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJCTElUXCJdID0gMl0gPSBcIkJMSVRcIjtcbn0pKENMRUFSX01PREVTIHx8IChDTEVBUl9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFRoZSBnYyBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuR0NfTU9ERX0gR2FyYmFnZSBDb2xsZWN0aW9uIG1vZGUgZm9yIFBpeGlKUyB0ZXh0dXJlcyBpcyBBVVRPXG4gKiBJZiBzZXQgdG8gR0NfTU9ERSwgdGhlIHJlbmRlcmVyIHdpbGwgb2NjYXNpb25hbGx5IGNoZWNrIHRleHR1cmVzIHVzYWdlLiBJZiB0aGV5IGFyZSBub3RcbiAqIHVzZWQgZm9yIGEgc3BlY2lmaWVkIHBlcmlvZCBvZiB0aW1lIHRoZXkgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVS4gVGhleSB3aWxsIG9mIGNvdXJzZVxuICogYmUgdXBsb2FkZWQgYWdhaW4gd2hlbiB0aGV5IGFyZSByZXF1aXJlZC4gVGhpcyBpcyBhIHNpbGVudCBiZWhpbmQgdGhlIHNjZW5lcyBwcm9jZXNzIHRoYXRcbiAqIHNob3VsZCBlbnN1cmUgdGhhdCB0aGUgR1BVIGRvZXMgbm90ICBnZXQgZmlsbGVkIHVwLlxuICpcbiAqIEhhbmR5IGZvciBtb2JpbGUgZGV2aWNlcyFcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIEdDX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBVVRPIC0gR2FyYmFnZSBjb2xsZWN0aW9uIHdpbGwgaGFwcGVuIHBlcmlvZGljYWxseSBhdXRvbWF0aWNhbGx5XG4gKiBAcHJvcGVydHkge251bWJlcn0gTUFOVUFMIC0gR2FyYmFnZSBjb2xsZWN0aW9uIHdpbGwgbmVlZCB0byBiZSBjYWxsZWQgbWFudWFsbHlcbiAqL1xudmFyIEdDX01PREVTO1xuKGZ1bmN0aW9uIChHQ19NT0RFUykge1xuICAgIEdDX01PREVTW0dDX01PREVTW1wiQVVUT1wiXSA9IDBdID0gXCJBVVRPXCI7XG4gICAgR0NfTU9ERVNbR0NfTU9ERVNbXCJNQU5VQUxcIl0gPSAxXSA9IFwiTUFOVUFMXCI7XG59KShHQ19NT0RFUyB8fCAoR0NfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBzcGVjaWZ5IGZsb2F0IHByZWNpc2lvbiBpbiBzaGFkZXJzLlxuICpcbiAqIEBuYW1lIFBSRUNJU0lPTlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBjb25zdGFudFxuICogQHN0YXRpY1xuICogQGVudW0ge3N0cmluZ31cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBMT1c9J2xvd3AnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gTUVESVVNPSdtZWRpdW1wJ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IEhJR0g9J2hpZ2hwJ1xuICovXG52YXIgUFJFQ0lTSU9OO1xuKGZ1bmN0aW9uIChQUkVDSVNJT04pIHtcbiAgICBQUkVDSVNJT05bXCJMT1dcIl0gPSBcImxvd3BcIjtcbiAgICBQUkVDSVNJT05bXCJNRURJVU1cIl0gPSBcIm1lZGl1bXBcIjtcbiAgICBQUkVDSVNJT05bXCJISUdIXCJdID0gXCJoaWdocFwiO1xufSkoUFJFQ0lTSU9OIHx8IChQUkVDSVNJT04gPSB7fSkpO1xuLyoqXG4gKiBDb25zdGFudHMgZm9yIG1hc2sgaW1wbGVtZW50YXRpb25zLlxuICogV2UgdXNlIGB0eXBlYCBzdWZmaXggYmVjYXVzZSBpdCBsZWFkcyB0byB2ZXJ5IGRpZmZlcmVudCBiZWhhdmlvdXJzXG4gKlxuICogQG5hbWUgTUFTS19UWVBFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9ORSAtIE1hc2sgaXMgaWdub3JlZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDSVNTT1IgLSBTY2lzc29yIG1hc2ssIHJlY3RhbmdsZSBvbiBzY3JlZW4sIGNoZWFwXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1RFTkNJTCAtIFN0ZW5jaWwgbWFzaywgMS1iaXQsIG1lZGl1bSwgd29ya3Mgb25seSBpZiByZW5kZXJlciBzdXBwb3J0cyBzdGVuY2lsXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1BSSVRFIC0gTWFzayB0aGF0IHVzZXMgU3ByaXRlTWFza0ZpbHRlciwgdXNlcyB0ZW1wb3JhcnkgUmVuZGVyVGV4dHVyZVxuICovXG52YXIgTUFTS19UWVBFUztcbihmdW5jdGlvbiAoTUFTS19UWVBFUykge1xuICAgIE1BU0tfVFlQRVNbTUFTS19UWVBFU1tcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICAgIE1BU0tfVFlQRVNbTUFTS19UWVBFU1tcIlNDSVNTT1JcIl0gPSAxXSA9IFwiU0NJU1NPUlwiO1xuICAgIE1BU0tfVFlQRVNbTUFTS19UWVBFU1tcIlNURU5DSUxcIl0gPSAyXSA9IFwiU1RFTkNJTFwiO1xuICAgIE1BU0tfVFlQRVNbTUFTS19UWVBFU1tcIlNQUklURVwiXSA9IDNdID0gXCJTUFJJVEVcIjtcbn0pKE1BU0tfVFlQRVMgfHwgKE1BU0tfVFlQRVMgPSB7fSkpO1xuLyoqXG4gKiBDb25zdGFudHMgZm9yIG11bHRpLXNhbXBsaW5nIGFudGlhbGlhc2luZy5cbiAqXG4gKiBAc2VlIFBJWEkuRnJhbWVidWZmZXIjbXVsdGlzYW1wbGVcbiAqXG4gKiBAbmFtZSBNU0FBX1FVQUxJVFlcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkUgLSBObyBtdWx0aXNhbXBsaW5nIGZvciB0aGlzIHJlbmRlclRleHR1cmVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMT1cgLSBUcnkgMiBzYW1wbGVzXG4gKiBAcHJvcGVydHkge251bWJlcn0gTUVESVVNIC0gVHJ5IDQgc2FtcGxlc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IEhJR0ggLSBUcnkgOCBzYW1wbGVzXG4gKi9cbnZhciBNU0FBX1FVQUxJVFk7XG4oZnVuY3Rpb24gKE1TQUFfUVVBTElUWSkge1xuICAgIE1TQUFfUVVBTElUWVtNU0FBX1FVQUxJVFlbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiTE9XXCJdID0gMl0gPSBcIkxPV1wiO1xuICAgIE1TQUFfUVVBTElUWVtNU0FBX1FVQUxJVFlbXCJNRURJVU1cIl0gPSA0XSA9IFwiTUVESVVNXCI7XG4gICAgTVNBQV9RVUFMSVRZW01TQUFfUVVBTElUWVtcIkhJR0hcIl0gPSA4XSA9IFwiSElHSFwiO1xufSkoTVNBQV9RVUFMSVRZIHx8IChNU0FBX1FVQUxJVFkgPSB7fSkpO1xuXG4vKipcbiAqIFRoZSBCbHVyRmlsdGVyUGFzcyBhcHBsaWVzIGEgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCBHYXVzc2lhbiBibHVyIHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBCbHVyRmlsdGVyUGFzcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmx1ckZpbHRlclBhc3MsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBob3Jpem9udGFsIC0gRG8gcGFzcyBhbG9uZyB0aGUgeC1heGlzIChgdHJ1ZWApIG9yIHktYXhpcyAoYGZhbHNlYCkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHJlbmd0aD04XSAtIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtxdWFsaXR5PTRdIC0gVGhlIHF1YWxpdHkgb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj1QSVhJLnNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OXSAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2tlcm5lbFNpemU9NV0gLSBUaGUga2VybmVsU2l6ZSBvZiB0aGUgYmx1ciBmaWx0ZXIuT3B0aW9uczogNSwgNywgOSwgMTEsIDEzLCAxNS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCbHVyRmlsdGVyUGFzcyhob3Jpem9udGFsLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSkge1xuICAgICAgICBpZiAoc3RyZW5ndGggPT09IHZvaWQgMCkgeyBzdHJlbmd0aCA9IDg7IH1cbiAgICAgICAgaWYgKHF1YWxpdHkgPT09IHZvaWQgMCkgeyBxdWFsaXR5ID0gNDsgfVxuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb24gPSBzZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTjsgfVxuICAgICAgICBpZiAoa2VybmVsU2l6ZSA9PT0gdm9pZCAwKSB7IGtlcm5lbFNpemUgPSA1OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB2ZXJ0U3JjID0gZ2VuZXJhdGVCbHVyVmVydFNvdXJjZShrZXJuZWxTaXplLCBob3Jpem9udGFsKTtcbiAgICAgICAgdmFyIGZyYWdTcmMgPSBnZW5lcmF0ZUJsdXJGcmFnU291cmNlKGtlcm5lbFNpemUpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFxuICAgICAgICAvLyB2ZXJ0ZXggc2hhZGVyXG4gICAgICAgIHZlcnRTcmMsIFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgZnJhZ1NyYykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaG9yaXpvbnRhbCA9IGhvcml6b250YWw7XG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICBfdGhpcy5fcXVhbGl0eSA9IDA7XG4gICAgICAgIF90aGlzLnF1YWxpdHkgPSBxdWFsaXR5O1xuICAgICAgICBfdGhpcy5ibHVyID0gc3RyZW5ndGg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlclN5c3RlbX0gZmlsdGVyTWFuYWdlciAtIFRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IG91dHB1dCAtIFRoZSBvdXRwdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5DTEVBUl9NT0RFU30gY2xlYXJNb2RlIC0gSG93IHRvIGNsZWFyXG4gICAgICovXG4gICAgQmx1ckZpbHRlclBhc3MucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gKGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSkge1xuICAgICAgICBpZiAob3V0cHV0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ob3Jpem9udGFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gb3V0cHV0LndpZHRoKSAqIChvdXRwdXQud2lkdGggLyBpbnB1dC53aWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gKDEgLyBvdXRwdXQuaGVpZ2h0KSAqIChvdXRwdXQuaGVpZ2h0IC8gaW5wdXQuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhvcml6b250YWwpIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gZmlsdGVyTWFuYWdlci5yZW5kZXJlci53aWR0aCkgKiAoZmlsdGVyTWFuYWdlci5yZW5kZXJlci53aWR0aCAvIGlucHV0LndpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAoMSAvIGZpbHRlck1hbmFnZXIucmVuZGVyZXIuaGVpZ2h0KSAqIChmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLmhlaWdodCAvIGlucHV0LmhlaWdodCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzY3JlZW4gc3BhY2UhXG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggKj0gdGhpcy5zdHJlbmd0aDtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCAvPSB0aGlzLnBhc3NlcztcbiAgICAgICAgaWYgKHRoaXMucGFzc2VzID09PSAxKSB7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gZmlsdGVyTWFuYWdlci5nZXRGaWx0ZXJUZXh0dXJlKCk7XG4gICAgICAgICAgICB2YXIgcmVuZGVyZXIgPSBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyO1xuICAgICAgICAgICAgdmFyIGZsaXAgPSBpbnB1dDtcbiAgICAgICAgICAgIHZhciBmbG9wID0gcmVuZGVyVGFyZ2V0O1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZCA9IGZhbHNlO1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBmbGlwLCBmbG9wLCBDTEVBUl9NT0RFUy5DTEVBUik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRoaXMucGFzc2VzIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5iaW5kQW5kQ2xlYXIoZmxpcCwgQ0xFQVJfTU9ERVMuQkxJVCk7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51U2FtcGxlciA9IGZsb3A7XG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBmbG9wO1xuICAgICAgICAgICAgICAgIGZsb3AgPSBmbGlwO1xuICAgICAgICAgICAgICAgIGZsaXAgPSB0ZW1wO1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcoNSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmJsZW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgZmxvcCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5yZXR1cm5GaWx0ZXJUZXh0dXJlKHJlbmRlclRhcmdldCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCbHVyRmlsdGVyUGFzcy5wcm90b3R5cGUsIFwiYmx1clwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiBib3RoIHRoZSBibHVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDE2XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0cmVuZ3RoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nID0gMSArIChNYXRoLmFicyh2YWx1ZSkgKiAyKTtcbiAgICAgICAgICAgIHRoaXMuc3RyZW5ndGggPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCbHVyRmlsdGVyUGFzcy5wcm90b3R5cGUsIFwicXVhbGl0eVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGJ5IG1vZGlmeWluZyB0aGUgbnVtYmVyIG9mIHBhc3Nlcy4gTW9yZSBwYXNzZXMgbWVhbnMgaGlnaGVyXG4gICAgICAgICAqIHF1YWxpdHkgYmx1cmluZyBidXQgdGhlIGxvd2VyIHRoZSBwZXJmb3JtYW5jZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCA0XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9xdWFsaXR5O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcXVhbGl0eSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5wYXNzZXMgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBCbHVyRmlsdGVyUGFzcztcbn0oRmlsdGVyKSk7XG5cbi8qKlxuICogVGhlIEJsdXJGaWx0ZXIgYXBwbGllcyBhIEdhdXNzaWFuIGJsdXIgdG8gYW4gb2JqZWN0LlxuICpcbiAqIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBjYW4gYmUgc2V0IGZvciB0aGUgeC1heGlzIGFuZCB5LWF4aXMgc2VwYXJhdGVseS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBCbHVyRmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCbHVyRmlsdGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RyZW5ndGg9OF0gLSBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcXVhbGl0eT00XSAtIFRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249UElYSS5zZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTl0gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtrZXJuZWxTaXplPTVdIC0gVGhlIGtlcm5lbFNpemUgb2YgdGhlIGJsdXIgZmlsdGVyLk9wdGlvbnM6IDUsIDcsIDksIDExLCAxMywgMTUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmx1ckZpbHRlcihzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSkge1xuICAgICAgICBpZiAoc3RyZW5ndGggPT09IHZvaWQgMCkgeyBzdHJlbmd0aCA9IDg7IH1cbiAgICAgICAgaWYgKHF1YWxpdHkgPT09IHZvaWQgMCkgeyBxdWFsaXR5ID0gNDsgfVxuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb24gPSBzZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTjsgfVxuICAgICAgICBpZiAoa2VybmVsU2l6ZSA9PT0gdm9pZCAwKSB7IGtlcm5lbFNpemUgPSA1OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmJsdXJYRmlsdGVyID0gbmV3IEJsdXJGaWx0ZXJQYXNzKHRydWUsIHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKTtcbiAgICAgICAgX3RoaXMuYmx1cllGaWx0ZXIgPSBuZXcgQmx1ckZpbHRlclBhc3MoZmFsc2UsIHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKTtcbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIF90aGlzLnF1YWxpdHkgPSBxdWFsaXR5O1xuICAgICAgICBfdGhpcy5ibHVyID0gc3RyZW5ndGg7XG4gICAgICAgIF90aGlzLnJlcGVhdEVkZ2VQaXhlbHMgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLkNMRUFSX01PREVTfSBjbGVhck1vZGUgLSBIb3cgdG8gY2xlYXJcbiAgICAgKi9cbiAgICBCbHVyRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIChmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICAgICAgdmFyIHhTdHJlbmd0aCA9IE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpO1xuICAgICAgICB2YXIgeVN0cmVuZ3RoID0gTWF0aC5hYnModGhpcy5ibHVyWUZpbHRlci5zdHJlbmd0aCk7XG4gICAgICAgIGlmICh4U3RyZW5ndGggJiYgeVN0cmVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gZmlsdGVyTWFuYWdlci5nZXRGaWx0ZXJUZXh0dXJlKCk7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCByZW5kZXJUYXJnZXQsIENMRUFSX01PREVTLkNMRUFSKTtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgcmVuZGVyVGFyZ2V0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLnJldHVybkZpbHRlclRleHR1cmUocmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh5U3RyZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQmx1ckZpbHRlci5wcm90b3R5cGUudXBkYXRlUGFkZGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcGVhdEVkZ2VQaXhlbHMpIHtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSBNYXRoLm1heChNYXRoLmFicyh0aGlzLmJsdXJYRmlsdGVyLnN0cmVuZ3RoKSwgTWF0aC5hYnModGhpcy5ibHVyWUZpbHRlci5zdHJlbmd0aCkpICogMjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXIucHJvdG90eXBlLCBcImJsdXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgYm90aCB0aGUgYmx1clggYW5kIGJsdXJZIHByb3BlcnRpZXMgc2ltdWx0YW5lb3VzbHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAyXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsdXJYRmlsdGVyLmJsdXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmJsdXIgPSB0aGlzLmJsdXJZRmlsdGVyLmJsdXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXIucHJvdG90eXBlLCBcInF1YWxpdHlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgbnVtYmVyIG9mIHBhc3NlcyBmb3IgYmx1ci4gTW9yZSBwYXNzZXMgbWVhbnMgaGlnaGVyIHF1YWxpdHkgYmx1cmluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsdXJYRmlsdGVyLnF1YWxpdHk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLnF1YWxpdHkgPSB0aGlzLmJsdXJZRmlsdGVyLnF1YWxpdHkgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCbHVyRmlsdGVyLnByb3RvdHlwZSwgXCJibHVyWFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1clggcHJvcGVydHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAyXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsdXJYRmlsdGVyLmJsdXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmJsdXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXIucHJvdG90eXBlLCBcImJsdXJZXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyWSBwcm9wZXJ0eVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDJcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmx1cllGaWx0ZXIuYmx1cjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQYWRkaW5nKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmx1ckZpbHRlci5wcm90b3R5cGUsIFwiYmxlbmRNb2RlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGJsZW5kbW9kZSBvZiB0aGUgZmlsdGVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmx1cllGaWx0ZXIuYmxlbmRNb2RlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5ibHVyWUZpbHRlci5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCbHVyRmlsdGVyLnByb3RvdHlwZSwgXCJyZXBlYXRFZGdlUGl4ZWxzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHNldCB0byB0cnVlIHRoZSBlZGdlIG9mIHRoZSB0YXJnZXQgd2lsbCBiZSBjbGFtcGVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXBlYXRFZGdlUGl4ZWxzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVwZWF0RWRnZVBpeGVscyA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQYWRkaW5nKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQmx1ckZpbHRlcjtcbn0oRmlsdGVyKSk7XG5cbmV4cG9ydCB7IEJsdXJGaWx0ZXIsIEJsdXJGaWx0ZXJQYXNzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXItYmx1ci5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLWNvbG9yLW1hdHJpeCAtIHY2LjAuMFxuICogQ29tcGlsZWQgVHVlLCAwMiBNYXIgMjAyMSAyMTo0NTowMyBVVENcbiAqXG4gKiBAcGl4aS9maWx0ZXItY29sb3ItbWF0cml4IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgZGVmYXVsdEZpbHRlclZlcnRleCwgRmlsdGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gZmxvYXQgbVsyMF07XFxudW5pZm9ybSBmbG9hdCB1QWxwaGE7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICB2ZWM0IGMgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcblxcbiAgICBpZiAodUFscGhhID09IDAuMCkge1xcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gYztcXG4gICAgICAgIHJldHVybjtcXG4gICAgfVxcblxcbiAgICAvLyBVbi1wcmVtdWx0aXBseSBhbHBoYSBiZWZvcmUgYXBwbHlpbmcgdGhlIGNvbG9yIG1hdHJpeC4gU2VlIGlzc3VlICMzNTM5LlxcbiAgICBpZiAoYy5hID4gMC4wKSB7XFxuICAgICAgYy5yZ2IgLz0gYy5hO1xcbiAgICB9XFxuXFxuICAgIHZlYzQgcmVzdWx0O1xcblxcbiAgICByZXN1bHQuciA9IChtWzBdICogYy5yKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IChtWzFdICogYy5nKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IChtWzJdICogYy5iKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IChtWzNdICogYy5hKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IG1bNF07XFxuXFxuICAgIHJlc3VsdC5nID0gKG1bNV0gKiBjLnIpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gKG1bNl0gKiBjLmcpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gKG1bN10gKiBjLmIpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gKG1bOF0gKiBjLmEpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gbVs5XTtcXG5cXG4gICAgcmVzdWx0LmIgPSAobVsxMF0gKiBjLnIpO1xcbiAgICAgICByZXN1bHQuYiArPSAobVsxMV0gKiBjLmcpO1xcbiAgICAgICByZXN1bHQuYiArPSAobVsxMl0gKiBjLmIpO1xcbiAgICAgICByZXN1bHQuYiArPSAobVsxM10gKiBjLmEpO1xcbiAgICAgICByZXN1bHQuYiArPSBtWzE0XTtcXG5cXG4gICAgcmVzdWx0LmEgPSAobVsxNV0gKiBjLnIpO1xcbiAgICAgICByZXN1bHQuYSArPSAobVsxNl0gKiBjLmcpO1xcbiAgICAgICByZXN1bHQuYSArPSAobVsxN10gKiBjLmIpO1xcbiAgICAgICByZXN1bHQuYSArPSAobVsxOF0gKiBjLmEpO1xcbiAgICAgICByZXN1bHQuYSArPSBtWzE5XTtcXG5cXG4gICAgdmVjMyByZ2IgPSBtaXgoYy5yZ2IsIHJlc3VsdC5yZ2IsIHVBbHBoYSk7XFxuXFxuICAgIC8vIFByZW11bHRpcGx5IGFscGhhIGFnYWluLlxcbiAgICByZ2IgKj0gcmVzdWx0LmE7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQocmdiLCByZXN1bHQuYSk7XFxufVxcblwiO1xuXG4vKipcbiAqIFRoZSBDb2xvck1hdHJpeEZpbHRlciBjbGFzcyBsZXRzIHlvdSBhcHBseSBhIDV4NCBtYXRyaXggdHJhbnNmb3JtYXRpb24gb24gdGhlIFJHQkFcbiAqIGNvbG9yIGFuZCBhbHBoYSB2YWx1ZXMgb2YgZXZlcnkgcGl4ZWwgb24geW91ciBkaXNwbGF5T2JqZWN0IHRvIHByb2R1Y2UgYSByZXN1bHRcbiAqIHdpdGggYSBuZXcgc2V0IG9mIFJHQkEgY29sb3IgYW5kIGFscGhhIHZhbHVlcy4gSXQncyBwcmV0dHkgcG93ZXJmdWwhXG4gKlxuICogYGBganNcbiAqICBsZXQgY29sb3JNYXRyaXggPSBuZXcgUElYSS5maWx0ZXJzLkNvbG9yTWF0cml4RmlsdGVyKCk7XG4gKiAgY29udGFpbmVyLmZpbHRlcnMgPSBbY29sb3JNYXRyaXhdO1xuICogIGNvbG9yTWF0cml4LmNvbnRyYXN0KDIpO1xuICogYGBgXG4gKiBAYXV0aG9yIENsw6ltZW50IENoZW5lYmF1bHQgPGNsZW1lbnRAZ29vZGJveWRpZ2l0YWwuY29tPlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgQ29sb3JNYXRyaXhGaWx0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbG9yTWF0cml4RmlsdGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbG9yTWF0cml4RmlsdGVyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICBtOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDEsIDAsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAwLCAxLCAwXSksXG4gICAgICAgICAgICB1QWxwaGE6IDEsXG4gICAgICAgIH07XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVmYXVsdEZpbHRlclZlcnRleCwgZnJhZ21lbnQsIHVuaWZvcm1zKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hbHBoYSA9IDE7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtcyBjdXJyZW50IG1hdHJpeCBhbmQgc2V0IHRoZSBuZXcgb25lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBtYXRyaXggLSA1eDQgbWF0cml4XG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLl9sb2FkTWF0cml4ID0gZnVuY3Rpb24gKG1hdHJpeCwgbXVsdGlwbHkpIHtcbiAgICAgICAgaWYgKG11bHRpcGx5ID09PSB2b2lkIDApIHsgbXVsdGlwbHkgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgbmV3TWF0cml4ID0gbWF0cml4O1xuICAgICAgICBpZiAobXVsdGlwbHkpIHtcbiAgICAgICAgICAgIHRoaXMuX211bHRpcGx5KG5ld01hdHJpeCwgdGhpcy51bmlmb3Jtcy5tLCBtYXRyaXgpO1xuICAgICAgICAgICAgbmV3TWF0cml4ID0gdGhpcy5fY29sb3JNYXRyaXgobmV3TWF0cml4KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgdGhlIG5ldyBtYXRyaXhcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tID0gbmV3TWF0cml4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB0d28gbWF0NSdzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IG91dCAtIDV4NCBtYXRyaXggdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhIC0gNXg0IG1hdHJpeCB0aGUgZmlyc3Qgb3BlcmFuZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGIgLSA1eDQgbWF0cml4IHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJbXX0gNXg0IG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5fbXVsdGlwbHkgPSBmdW5jdGlvbiAob3V0LCBhLCBiKSB7XG4gICAgICAgIC8vIFJlZCBDaGFubmVsXG4gICAgICAgIG91dFswXSA9IChhWzBdICogYlswXSkgKyAoYVsxXSAqIGJbNV0pICsgKGFbMl0gKiBiWzEwXSkgKyAoYVszXSAqIGJbMTVdKTtcbiAgICAgICAgb3V0WzFdID0gKGFbMF0gKiBiWzFdKSArIChhWzFdICogYls2XSkgKyAoYVsyXSAqIGJbMTFdKSArIChhWzNdICogYlsxNl0pO1xuICAgICAgICBvdXRbMl0gPSAoYVswXSAqIGJbMl0pICsgKGFbMV0gKiBiWzddKSArIChhWzJdICogYlsxMl0pICsgKGFbM10gKiBiWzE3XSk7XG4gICAgICAgIG91dFszXSA9IChhWzBdICogYlszXSkgKyAoYVsxXSAqIGJbOF0pICsgKGFbMl0gKiBiWzEzXSkgKyAoYVszXSAqIGJbMThdKTtcbiAgICAgICAgb3V0WzRdID0gKGFbMF0gKiBiWzRdKSArIChhWzFdICogYls5XSkgKyAoYVsyXSAqIGJbMTRdKSArIChhWzNdICogYlsxOV0pICsgYVs0XTtcbiAgICAgICAgLy8gR3JlZW4gQ2hhbm5lbFxuICAgICAgICBvdXRbNV0gPSAoYVs1XSAqIGJbMF0pICsgKGFbNl0gKiBiWzVdKSArIChhWzddICogYlsxMF0pICsgKGFbOF0gKiBiWzE1XSk7XG4gICAgICAgIG91dFs2XSA9IChhWzVdICogYlsxXSkgKyAoYVs2XSAqIGJbNl0pICsgKGFbN10gKiBiWzExXSkgKyAoYVs4XSAqIGJbMTZdKTtcbiAgICAgICAgb3V0WzddID0gKGFbNV0gKiBiWzJdKSArIChhWzZdICogYls3XSkgKyAoYVs3XSAqIGJbMTJdKSArIChhWzhdICogYlsxN10pO1xuICAgICAgICBvdXRbOF0gPSAoYVs1XSAqIGJbM10pICsgKGFbNl0gKiBiWzhdKSArIChhWzddICogYlsxM10pICsgKGFbOF0gKiBiWzE4XSk7XG4gICAgICAgIG91dFs5XSA9IChhWzVdICogYls0XSkgKyAoYVs2XSAqIGJbOV0pICsgKGFbN10gKiBiWzE0XSkgKyAoYVs4XSAqIGJbMTldKSArIGFbOV07XG4gICAgICAgIC8vIEJsdWUgQ2hhbm5lbFxuICAgICAgICBvdXRbMTBdID0gKGFbMTBdICogYlswXSkgKyAoYVsxMV0gKiBiWzVdKSArIChhWzEyXSAqIGJbMTBdKSArIChhWzEzXSAqIGJbMTVdKTtcbiAgICAgICAgb3V0WzExXSA9IChhWzEwXSAqIGJbMV0pICsgKGFbMTFdICogYls2XSkgKyAoYVsxMl0gKiBiWzExXSkgKyAoYVsxM10gKiBiWzE2XSk7XG4gICAgICAgIG91dFsxMl0gPSAoYVsxMF0gKiBiWzJdKSArIChhWzExXSAqIGJbN10pICsgKGFbMTJdICogYlsxMl0pICsgKGFbMTNdICogYlsxN10pO1xuICAgICAgICBvdXRbMTNdID0gKGFbMTBdICogYlszXSkgKyAoYVsxMV0gKiBiWzhdKSArIChhWzEyXSAqIGJbMTNdKSArIChhWzEzXSAqIGJbMThdKTtcbiAgICAgICAgb3V0WzE0XSA9IChhWzEwXSAqIGJbNF0pICsgKGFbMTFdICogYls5XSkgKyAoYVsxMl0gKiBiWzE0XSkgKyAoYVsxM10gKiBiWzE5XSkgKyBhWzE0XTtcbiAgICAgICAgLy8gQWxwaGEgQ2hhbm5lbFxuICAgICAgICBvdXRbMTVdID0gKGFbMTVdICogYlswXSkgKyAoYVsxNl0gKiBiWzVdKSArIChhWzE3XSAqIGJbMTBdKSArIChhWzE4XSAqIGJbMTVdKTtcbiAgICAgICAgb3V0WzE2XSA9IChhWzE1XSAqIGJbMV0pICsgKGFbMTZdICogYls2XSkgKyAoYVsxN10gKiBiWzExXSkgKyAoYVsxOF0gKiBiWzE2XSk7XG4gICAgICAgIG91dFsxN10gPSAoYVsxNV0gKiBiWzJdKSArIChhWzE2XSAqIGJbN10pICsgKGFbMTddICogYlsxMl0pICsgKGFbMThdICogYlsxN10pO1xuICAgICAgICBvdXRbMThdID0gKGFbMTVdICogYlszXSkgKyAoYVsxNl0gKiBiWzhdKSArIChhWzE3XSAqIGJbMTNdKSArIChhWzE4XSAqIGJbMThdKTtcbiAgICAgICAgb3V0WzE5XSA9IChhWzE1XSAqIGJbNF0pICsgKGFbMTZdICogYls5XSkgKyAoYVsxN10gKiBiWzE0XSkgKyAoYVsxOF0gKiBiWzE5XSkgKyBhWzE5XTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIEZsb2F0MzIgQXJyYXkgYW5kIG5vcm1hbGl6ZSB0aGUgb2Zmc2V0IGNvbXBvbmVudCB0byAwLTFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gbWF0cml4IC0gNXg0IG1hdHJpeFxuICAgICAqIEByZXR1cm4ge251bWJlcltdfSA1eDQgbWF0cml4IHdpdGggYWxsIHZhbHVlcyBiZXR3ZWVuIDAtMVxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5fY29sb3JNYXRyaXggPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIEZsb2F0MzIgQXJyYXkgYW5kIG5vcm1hbGl6ZSB0aGUgb2Zmc2V0IGNvbXBvbmVudCB0byAwLTFcbiAgICAgICAgdmFyIG0gPSBuZXcgRmxvYXQzMkFycmF5KG1hdHJpeCk7XG4gICAgICAgIG1bNF0gLz0gMjU1O1xuICAgICAgICBtWzldIC89IDI1NTtcbiAgICAgICAgbVsxNF0gLz0gMjU1O1xuICAgICAgICBtWzE5XSAvPSAyNTU7XG4gICAgICAgIHJldHVybiBtO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRqdXN0cyBicmlnaHRuZXNzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYiAtIHZhbHVlIG9mIHRoZSBicmlndGhuZXNzICgwLTEsIHdoZXJlIDAgaXMgYmxhY2spXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmJyaWdodG5lc3MgPSBmdW5jdGlvbiAoYiwgbXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIGIsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCBiLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgYiwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbWF0cmljZXMgaW4gZ3JleSBzY2FsZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSAtIHZhbHVlIG9mIHRoZSBncmV5ICgwLTEsIHdoZXJlIDAgaXMgYmxhY2spXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmdyZXlzY2FsZSA9IGZ1bmN0aW9uIChzY2FsZSwgbXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIHNjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsXG4gICAgICAgICAgICBzY2FsZSwgc2NhbGUsIHNjYWxlLCAwLCAwLFxuICAgICAgICAgICAgc2NhbGUsIHNjYWxlLCBzY2FsZSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYmxhY2sgYW5kIHdoaXRlIG1hdHJpY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuYmxhY2tBbmRXaGl0ZSA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC4zLCAwLjYsIDAuMSwgMCwgMCxcbiAgICAgICAgICAgIDAuMywgMC42LCAwLjEsIDAsIDAsXG4gICAgICAgICAgICAwLjMsIDAuNiwgMC4xLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBodWUgcHJvcGVydHkgb2YgdGhlIGNvbG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBpbiBkZWdyZWVzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmh1ZSA9IGZ1bmN0aW9uIChyb3RhdGlvbiwgbXVsdGlwbHkpIHtcbiAgICAgICAgcm90YXRpb24gPSAocm90YXRpb24gfHwgMCkgLyAxODAgKiBNYXRoLlBJO1xuICAgICAgICB2YXIgY29zUiA9IE1hdGguY29zKHJvdGF0aW9uKTtcbiAgICAgICAgdmFyIHNpblIgPSBNYXRoLnNpbihyb3RhdGlvbik7XG4gICAgICAgIHZhciBzcXJ0ID0gTWF0aC5zcXJ0O1xuICAgICAgICAvKiBhIGdvb2QgYXBwcm94aW1hdGlvbiBmb3IgaHVlIHJvdGF0aW9uXG4gICAgICAgICBUaGlzIG1hdHJpeCBpcyBmYXIgYmV0dGVyIHRoYW4gdGhlIHZlcnNpb25zIHdpdGggbWFnaWMgbHVtaW5hbmNlIGNvbnN0YW50c1xuICAgICAgICAgZm9ybWVybHkgdXNlZCBoZXJlLCBidXQgYWxzbyB1c2VkIGluIHRoZSBzdGFybGluZyBmcmFtZXdvcmsgKGZsYXNoKSBhbmQga25vd24gZnJvbSB0aGlzXG4gICAgICAgICBvbGQgcGFydCBvZiB0aGUgaW50ZXJuZXQ6IHF1YXNpbW9uZG8uY29tL2FyY2hpdmVzLzAwMDU2NS5waHBcblxuICAgICAgICAgVGhpcyBuZXcgbWF0cml4IGlzIGJhc2VkIG9uIHJnYiBjdWJlIHJvdGF0aW9uIGluIHNwYWNlLiBMb29rIGhlcmUgZm9yIGEgbW9yZSBkZXNjcmlwdGl2ZVxuICAgICAgICAgaW1wbGVtZW50YXRpb24gYXMgYSBzaGFkZXIgbm90IGEgZ2VuZXJhbCBtYXRyaXg6XG4gICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vZXZhbncvZ2xmeC5qcy9ibG9iLzU4ODQxYzIzOTE5YmQ1OTc4N2VmZmMwMzMzYTQ4OTdiNDM4MzU0MTIvc3JjL2ZpbHRlcnMvYWRqdXN0L2h1ZXNhdHVyYXRpb24uanNcblxuICAgICAgICAgVGhpcyBpcyB0aGUgc291cmNlIGZvciB0aGUgY29kZTpcbiAgICAgICAgIHNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzg1MDc4ODUvc2hpZnQtaHVlLW9mLWFuLXJnYi1jb2xvci84NTEwNzUxIzg1MTA3NTFcbiAgICAgICAgICovXG4gICAgICAgIHZhciB3ID0gMSAvIDM7XG4gICAgICAgIHZhciBzcXJXID0gc3FydCh3KTsgLy8gd2VpZ2h0IGlzXG4gICAgICAgIHZhciBhMDAgPSBjb3NSICsgKCgxLjAgLSBjb3NSKSAqIHcpO1xuICAgICAgICB2YXIgYTAxID0gKHcgKiAoMS4wIC0gY29zUikpIC0gKHNxclcgKiBzaW5SKTtcbiAgICAgICAgdmFyIGEwMiA9ICh3ICogKDEuMCAtIGNvc1IpKSArIChzcXJXICogc2luUik7XG4gICAgICAgIHZhciBhMTAgPSAodyAqICgxLjAgLSBjb3NSKSkgKyAoc3FyVyAqIHNpblIpO1xuICAgICAgICB2YXIgYTExID0gY29zUiArICh3ICogKDEuMCAtIGNvc1IpKTtcbiAgICAgICAgdmFyIGExMiA9ICh3ICogKDEuMCAtIGNvc1IpKSAtIChzcXJXICogc2luUik7XG4gICAgICAgIHZhciBhMjAgPSAodyAqICgxLjAgLSBjb3NSKSkgLSAoc3FyVyAqIHNpblIpO1xuICAgICAgICB2YXIgYTIxID0gKHcgKiAoMS4wIC0gY29zUikpICsgKHNxclcgKiBzaW5SKTtcbiAgICAgICAgdmFyIGEyMiA9IGNvc1IgKyAodyAqICgxLjAgLSBjb3NSKSk7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICBhMDAsIGEwMSwgYTAyLCAwLCAwLFxuICAgICAgICAgICAgYTEwLCBhMTEsIGExMiwgMCwgMCxcbiAgICAgICAgICAgIGEyMCwgYTIxLCBhMjIsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvbnRyYXN0IG1hdHJpeCwgaW5jcmVhc2UgdGhlIHNlcGFyYXRpb24gYmV0d2VlbiBkYXJrIGFuZCBicmlnaHRcbiAgICAgKiBJbmNyZWFzZSBjb250cmFzdCA6IHNoYWRvd3MgZGFya2VyIGFuZCBoaWdobGlnaHRzIGJyaWdodGVyXG4gICAgICogRGVjcmVhc2UgY29udHJhc3QgOiBicmluZyB0aGUgc2hhZG93cyB1cCBhbmQgdGhlIGhpZ2hsaWdodHMgZG93blxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHZhbHVlIG9mIHRoZSBjb250cmFzdCAoMC0xKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5jb250cmFzdCA9IGZ1bmN0aW9uIChhbW91bnQsIG11bHRpcGx5KSB7XG4gICAgICAgIHZhciB2ID0gKGFtb3VudCB8fCAwKSArIDE7XG4gICAgICAgIHZhciBvID0gLTAuNSAqICh2IC0gMSk7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICB2LCAwLCAwLCAwLCBvLFxuICAgICAgICAgICAgMCwgdiwgMCwgMCwgbyxcbiAgICAgICAgICAgIDAsIDAsIHYsIDAsIG8sXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHNhdHVyYXRpb24gbWF0cml4LCBpbmNyZWFzZSB0aGUgc2VwYXJhdGlvbiBiZXR3ZWVuIGNvbG9yc1xuICAgICAqIEluY3JlYXNlIHNhdHVyYXRpb24gOiBpbmNyZWFzZSBjb250cmFzdCwgYnJpZ2h0bmVzcywgYW5kIHNoYXJwbmVzc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIFRoZSBzYXR1cmF0aW9uIGFtb3VudCAoMC0xKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW211bHRpcGx5XSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnNhdHVyYXRlID0gZnVuY3Rpb24gKGFtb3VudCwgbXVsdGlwbHkpIHtcbiAgICAgICAgaWYgKGFtb3VudCA9PT0gdm9pZCAwKSB7IGFtb3VudCA9IDA7IH1cbiAgICAgICAgdmFyIHggPSAoYW1vdW50ICogMiAvIDMpICsgMTtcbiAgICAgICAgdmFyIHkgPSAoKHggLSAxKSAqIC0wLjUpO1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgeCwgeSwgeSwgMCwgMCxcbiAgICAgICAgICAgIHksIHgsIHksIDAsIDAsXG4gICAgICAgICAgICB5LCB5LCB4LCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzYXR1cmF0ZSBpbWFnZSAocmVtb3ZlIGNvbG9yKVxuICAgICAqXG4gICAgICogQ2FsbCB0aGUgc2F0dXJhdGUgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5kZXNhdHVyYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNhdHVyYXRlKC0xKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE5lZ2F0aXZlIGltYWdlIChpbnZlcnNlIG9mIGNsYXNzaWMgcmdiIG1hdHJpeClcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5uZWdhdGl2ZSA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgLTEsIDAsIDAsIDEsIDAsXG4gICAgICAgICAgICAwLCAtMSwgMCwgMSwgMCxcbiAgICAgICAgICAgIDAsIDAsIC0xLCAxLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VwaWEgaW1hZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5zZXBpYSA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC4zOTMsIDAuNzY4OTk5OSwgMC4xODg5OTk5OSwgMCwgMCxcbiAgICAgICAgICAgIDAuMzQ5LCAwLjY4NTk5OTksIDAuMTY3OTk5OTksIDAsIDAsXG4gICAgICAgICAgICAwLjI3MiwgMC41MzM5OTk5LCAwLjEzMDk5OTk5LCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29sb3IgbW90aW9uIHBpY3R1cmUgcHJvY2VzcyBpbnZlbnRlZCBpbiAxOTE2ICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnRlY2huaWNvbG9yID0gZnVuY3Rpb24gKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAxLjkxMjUyNzc4OTE0NTYwODMsIC0wLjg1NDUzNDQ5NzY5NTE2NDUsIC0wLjA5MTU1NTA4NDgyNzU1NTg1LCAwLCAxMS43OTM2MDM0MzQzNzczMzcsXG4gICAgICAgICAgICAtMC4zMDg3ODMzMzg1OTI4MDk3LCAxLjc2NTg5MDg1NTU0NTg0MjgsIC0wLjEwNjAxNzQzMDc0NzIyMjQ1LCAwLCAtNzAuMzUyMDUxNjE0NjEzOTgsXG4gICAgICAgICAgICAtMC4yMzExMDMzNzc1NDg2MTYsIC0wLjc1MDE4OTkxOTc0NDAyMTIsIDEuODQ3NTk3ODE2MTA4MTg5LCAwLCAzMC45NTA5NDA4Njk0OTExMzgsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQb2xhcm9pZCBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5wb2xhcm9pZCA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMS40MzgsIC0wLjA2MiwgLTAuMDYyLCAwLCAwLFxuICAgICAgICAgICAgLTAuMTIyLCAxLjM3OCwgLTAuMTIyLCAwLCAwLFxuICAgICAgICAgICAgLTAuMDE2LCAtMC4wMTYsIDEuNDgzLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRmlsdGVyIHdobyB0cmFuc2Zvcm1zIDogUmVkIC0+IEJsdWUgYW5kIEJsdWUgLT4gUmVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUudG9CR1IgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAsIDAsIDEsIDAsIDAsXG4gICAgICAgICAgICAwLCAxLCAwLCAwLCAwLFxuICAgICAgICAgICAgMSwgMCwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbG9yIHJldmVyc2FsIGZpbG0gaW50cm9kdWNlZCBieSBFYXN0bWFuIEtvZGFrIGluIDE5MzUuICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmtvZGFjaHJvbWUgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDEuMTI4NTU4MjM5NjU5MzUyNSwgLTAuMzk2NzM4MjI4MzYwMTM0OCwgLTAuMDM5OTI1NTkxNzI5MjE3OTMsIDAsIDYzLjcyOTU4NzYyMTk2NTAyLFxuICAgICAgICAgICAgLTAuMTY0MDQzMzk5NjIyNDQ2MTYsIDEuMDgzNTI1MTU2NjI5MTMwNCwgLTAuMDU0OTg4MDUxMTU2MzMxMzIsIDAsIDI0LjczMjQwNzg5NjcwNjIwMyxcbiAgICAgICAgICAgIC0wLjE2Nzg2MDEwNzA2MTU1NzYzLCAtMC41NjAzNDE2Mjc3Njk1MjQ4LCAxLjYwMTQ4NTA3NjE5NjQ5NDMsIDAsIDM1LjYyOTgyODA3NDYwOTQ2LFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQnJvd24gZGVsaWNpb3VzIGJyb3duaSBmaWx0ZXIgKHRoYW5rcyBEb21pbmljIFN6YWJsZXdza2kpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuYnJvd25pID0gZnVuY3Rpb24gKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLjU5OTcwMjM0OTgxNTk3MTUsIDAuMzQ1NTMyNDMwNDgzOTEyNjMsIC0wLjI3MDgyOTg2NzQ1MzgwNDIsIDAsIDQ3LjQzMTkyODU1NjAwODczLFxuICAgICAgICAgICAgLTAuMDM3NzAzMjQ5ODM3NzgzMTU3LCAwLjg2MDk1Nzc1ODc5OTI2NDEsIDAuMTUwNTk1NTIzODg0NTk5MTMsIDAsIC0zNi45Njg0MTQ5ODMxOTEyNyxcbiAgICAgICAgICAgIDAuMjQxMTM2MzUxMjgxNTMzMzUsIC0wLjA3NDQxMDM3OTA4NDIyNDkyLCAwLjQ0OTcyMTgyMDY0ODc3MTUzLCAwLCAtNy41NjIwNzUyNzc1OTEyODMsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBWaW50YWdlIGZpbHRlciAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS52aW50YWdlID0gZnVuY3Rpb24gKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLjYyNzkzNDU2MzU2MDU5OTQsIDAuMzIwMjE4MzQyMDgxOTM2NywgLTAuMDM5NjU0MDgyMTEzMTI0NTMsIDAsIDkuNjUxMjg1ODM1Mjk0MTIzLFxuICAgICAgICAgICAgMC4wMjU3ODM5NzcwNDgwODg2OCwgMC42NDQxMTg4NjQ0Mzc0NzcxLCAwLjAzMjU5MTI3NjE2MTQ5Mjk0LCAwLCA3LjQ2MjgyOTE3NjQ3MDU5MSxcbiAgICAgICAgICAgIDAuMDQ2NjA1NTU1Njc4MjcxOSwgLTAuMDg1MTIzMjk4NzI0Nzg5MSwgMC41MjQxNjQ4MDE4NzAwNDY1LCAwLCA1LjE1OTE5MDU4ODIzNTI5NixcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdlIGRvbid0IGtub3cgZXhhY3RseSB3aGF0IGl0IGRvZXMsIGtpbmQgb2YgZ3JhZGllbnQgbWFwLCBidXQgZnVubnkgdG8gcGxheSB3aXRoIVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlc2F0dXJhdGlvbiAtIFRvbmUgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b25lZCAtIFRvbmUgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsaWdodENvbG9yIC0gVG9uZSB2YWx1ZXMsIGV4YW1wbGU6IGAweEZGRTU4MGBcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGFya0NvbG9yIC0gVG9uZSB2YWx1ZXMsIGV4YW1wbGU6IGAweEZGRTU4MGBcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuY29sb3JUb25lID0gZnVuY3Rpb24gKGRlc2F0dXJhdGlvbiwgdG9uZWQsIGxpZ2h0Q29sb3IsIGRhcmtDb2xvciwgbXVsdGlwbHkpIHtcbiAgICAgICAgZGVzYXR1cmF0aW9uID0gZGVzYXR1cmF0aW9uIHx8IDAuMjtcbiAgICAgICAgdG9uZWQgPSB0b25lZCB8fCAwLjE1O1xuICAgICAgICBsaWdodENvbG9yID0gbGlnaHRDb2xvciB8fCAweEZGRTU4MDtcbiAgICAgICAgZGFya0NvbG9yID0gZGFya0NvbG9yIHx8IDB4MzM4MDAwO1xuICAgICAgICB2YXIgbFIgPSAoKGxpZ2h0Q29sb3IgPj4gMTYpICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBsRyA9ICgobGlnaHRDb2xvciA+PiA4KSAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgbEIgPSAobGlnaHRDb2xvciAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgZFIgPSAoKGRhcmtDb2xvciA+PiAxNikgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGRHID0gKChkYXJrQ29sb3IgPj4gOCkgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGRCID0gKGRhcmtDb2xvciAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC4zLCAwLjU5LCAwLjExLCAwLCAwLFxuICAgICAgICAgICAgbFIsIGxHLCBsQiwgZGVzYXR1cmF0aW9uLCAwLFxuICAgICAgICAgICAgZFIsIGRHLCBkQiwgdG9uZWQsIDAsXG4gICAgICAgICAgICBsUiAtIGRSLCBsRyAtIGRHLCBsQiAtIGRCLCAwLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBOaWdodCBlZmZlY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbnRlbnNpdHkgLSBUaGUgaW50ZW5zaXR5IG9mIHRoZSBuaWdodCBlZmZlY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLm5pZ2h0ID0gZnVuY3Rpb24gKGludGVuc2l0eSwgbXVsdGlwbHkpIHtcbiAgICAgICAgaW50ZW5zaXR5ID0gaW50ZW5zaXR5IHx8IDAuMTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIGludGVuc2l0eSAqICgtMi4wKSwgLWludGVuc2l0eSwgMCwgMCwgMCxcbiAgICAgICAgICAgIC1pbnRlbnNpdHksIDAsIGludGVuc2l0eSwgMCwgMCxcbiAgICAgICAgICAgIDAsIGludGVuc2l0eSwgaW50ZW5zaXR5ICogMi4wLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJlZGF0b3IgZWZmZWN0XG4gICAgICpcbiAgICAgKiBFcmFzZSB0aGUgY3VycmVudCBtYXRyaXggYnkgc2V0dGluZyBhIG5ldyBpbmRlcGVudCBvbmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBob3cgbXVjaCB0aGUgcHJlZGF0b3IgZmVlbHMgaGlzIGZ1dHVyZSB2aWN0aW1cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUucHJlZGF0b3IgPSBmdW5jdGlvbiAoYW1vdW50LCBtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgLy8gcm93IDFcbiAgICAgICAgICAgIDExLjIyNDEzMDYzMDQ5MzE2NCAqIGFtb3VudCxcbiAgICAgICAgICAgIC00Ljc5NDQ4Njk5OTUxMTcxOSAqIGFtb3VudCxcbiAgICAgICAgICAgIC0yLjg3NDYxMTg1NDU1MzIyMjcgKiBhbW91bnQsXG4gICAgICAgICAgICAwICogYW1vdW50LFxuICAgICAgICAgICAgMC40MDM0MjQzODIyMDk3Nzc4MyAqIGFtb3VudCxcbiAgICAgICAgICAgIC8vIHJvdyAyXG4gICAgICAgICAgICAtMy42MzMwNjk3NTM2NDY4NTA2ICogYW1vdW50LFxuICAgICAgICAgICAgOS4xOTMxNTcxOTYwNDQ5MjIgKiBhbW91bnQsXG4gICAgICAgICAgICAtMi45NTE4MTA4MzY3OTE5OTIgKiBhbW91bnQsXG4gICAgICAgICAgICAwICogYW1vdW50LFxuICAgICAgICAgICAgLTEuMzE2MTM1MDQ4ODY2MjcyICogYW1vdW50LFxuICAgICAgICAgICAgLy8gcm93IDNcbiAgICAgICAgICAgIC0zLjIxODQxOTc5MDI2Nzk0NDMgKiBhbW91bnQsXG4gICAgICAgICAgICAtNC4yMzc1MDMwNTE3NTc4MTI1ICogYW1vdW50LFxuICAgICAgICAgICAgNy40NzY0NDgwNTkwODIwMzEgKiBhbW91bnQsXG4gICAgICAgICAgICAwICogYW1vdW50LFxuICAgICAgICAgICAgMC44MDQ0NDU5MjIzNzQ3MjUzICogYW1vdW50LFxuICAgICAgICAgICAgLy8gcm93IDRcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExTRCBlZmZlY3RcbiAgICAgKlxuICAgICAqIE11bHRpcGx5IHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmxzZCA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMiwgLTAuNCwgMC41LCAwLCAwLFxuICAgICAgICAgICAgLTAuNSwgMiwgLTAuNCwgMCwgMCxcbiAgICAgICAgICAgIC0wLjQsIC0wLjUsIDMsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFcmFzZSB0aGUgY3VycmVudCBtYXRyaXggYnkgc2V0dGluZyB0aGUgZGVmYXVsdCBvbmVcbiAgICAgKlxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDEsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAxLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIGZhbHNlKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUsIFwibWF0cml4XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXRyaXggb2YgdGhlIGNvbG9yIG1hdHJpeCBmaWx0ZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBkZWZhdWx0IFsxLCAwLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAxLCAwXVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5tO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5tID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLCBcImFscGhhXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcGFjaXR5IHZhbHVlIHRvIHVzZSB3aGVuIG1peGluZyB0aGUgb3JpZ2luYWwgYW5kIHJlc3VsdGFudCBjb2xvcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFdoZW4gdGhlIHZhbHVlIGlzIDAsIHRoZSBvcmlnaW5hbCBjb2xvciBpcyB1c2VkIHdpdGhvdXQgbW9kaWZpY2F0aW9uLlxuICAgICAgICAgKiBXaGVuIHRoZSB2YWx1ZSBpcyAxLCB0aGUgcmVzdWx0IGNvbG9yIGlzIHVzZWQuXG4gICAgICAgICAqIFdoZW4gaW4gdGhlIHJhbmdlICgwLCAxKSB0aGUgY29sb3IgaXMgaW50ZXJwb2xhdGVkIGJldHdlZW4gdGhlIG9yaWdpbmFsIGFuZCByZXN1bHQgYnkgdGhpcyBhbW91bnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51QWxwaGE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIENvbG9yTWF0cml4RmlsdGVyO1xufShGaWx0ZXIpKTtcbi8vIEFtZXJpY2FuaXplZCBhbGlhc1xuQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmdyYXlzY2FsZSA9IENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ncmV5c2NhbGU7XG5cbmV4cG9ydCB7IENvbG9yTWF0cml4RmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXItY29sb3ItbWF0cml4LmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9maWx0ZXItZGlzcGxhY2VtZW50IC0gdjYuMC4wXG4gKiBDb21waWxlZCBUdWUsIDAyIE1hciAyMDIxIDIxOjQ1OjAzIFVUQ1xuICpcbiAqIEBwaXhpL2ZpbHRlci1kaXNwbGFjZW1lbnQgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IE1hdHJpeCwgUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZGaWx0ZXJDb29yZDtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHZlYzIgc2NhbGU7XFxudW5pZm9ybSBtYXQyIHJvdGF0aW9uO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gc2FtcGxlcjJEIG1hcFNhbXBsZXI7XFxuXFxudW5pZm9ybSBoaWdocCB2ZWM0IGlucHV0U2l6ZTtcXG51bmlmb3JtIHZlYzQgaW5wdXRDbGFtcDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICB2ZWM0IG1hcCA9ICB0ZXh0dXJlMkQobWFwU2FtcGxlciwgdkZpbHRlckNvb3JkKTtcXG5cXG4gIG1hcCAtPSAwLjU7XFxuICBtYXAueHkgPSBzY2FsZSAqIGlucHV0U2l6ZS56dyAqIChyb3RhdGlvbiAqIG1hcC54eSk7XFxuXFxuICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIGNsYW1wKHZlYzIodlRleHR1cmVDb29yZC54ICsgbWFwLngsIHZUZXh0dXJlQ29vcmQueSArIG1hcC55KSwgaW5wdXRDbGFtcC54eSwgaW5wdXRDbGFtcC56dykpO1xcbn1cXG5cIjtcblxudmFyIHZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyBmaWx0ZXJNYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZGaWx0ZXJDb29yZDtcXG5cXG51bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG57XFxuICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxufVxcblxcbnZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcXG57XFxuICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuXFx0Z2xfUG9zaXRpb24gPSBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbigpO1xcblxcdHZUZXh0dXJlQ29vcmQgPSBmaWx0ZXJUZXh0dXJlQ29vcmQoKTtcXG5cXHR2RmlsdGVyQ29vcmQgPSAoIGZpbHRlck1hdHJpeCAqIHZlYzMoIHZUZXh0dXJlQ29vcmQsIDEuMCkgICkueHk7XFxufVxcblwiO1xuXG4vKipcbiAqIFRoZSBEaXNwbGFjZW1lbnRGaWx0ZXIgY2xhc3MgdXNlcyB0aGUgcGl4ZWwgdmFsdWVzIGZyb20gdGhlIHNwZWNpZmllZCB0ZXh0dXJlXG4gKiAoY2FsbGVkIHRoZSBkaXNwbGFjZW1lbnQgbWFwKSB0byBwZXJmb3JtIGEgZGlzcGxhY2VtZW50IG9mIGFuIG9iamVjdC5cbiAqXG4gKiBZb3UgY2FuIHVzZSB0aGlzIGZpbHRlciB0byBhcHBseSBhbGwgbWFub3Igb2YgY3Jhenkgd2FycGluZyBlZmZlY3RzLlxuICogQ3VycmVudGx5IHRoZSBgcmAgcHJvcGVydHkgb2YgdGhlIHRleHR1cmUgaXMgdXNlZCB0byBvZmZzZXQgdGhlIGB4YFxuICogYW5kIHRoZSBgZ2AgcHJvcGVydHkgb2YgdGhlIHRleHR1cmUgaXMgdXNlZCB0byBvZmZzZXQgdGhlIGB5YC5cbiAqXG4gKiBUaGUgd2F5IGl0IHdvcmtzIGlzIGl0IHVzZXMgdGhlIHZhbHVlcyBvZiB0aGUgZGlzcGxhY2VtZW50IG1hcCB0byBsb29rIHVwIHRoZVxuICogY29ycmVjdCBwaXhlbHMgdG8gb3V0cHV0LiBUaGlzIG1lYW5zIGl0J3Mgbm90IHRlY2huaWNhbGx5IG1vdmluZyB0aGUgb3JpZ2luYWwuXG4gKiBJbnN0ZWFkLCBpdCdzIHN0YXJ0aW5nIGF0IHRoZSBvdXRwdXQgYW5kIGFza2luZyBcIndoaWNoIHBpeGVsIGZyb20gdGhlIG9yaWdpbmFsIGdvZXMgaGVyZVwiLlxuICogRm9yIGV4YW1wbGUsIGlmIGEgZGlzcGxhY2VtZW50IG1hcCBwaXhlbCBoYXMgYHJlZCA9IDFgIGFuZCB0aGUgZmlsdGVyIHNjYWxlIGlzIGAyMGAsXG4gKiB0aGlzIGZpbHRlciB3aWxsIG91dHB1dCB0aGUgcGl4ZWwgYXBwcm94aW1hdGVseSAyMCBwaXhlbHMgdG8gdGhlIHJpZ2h0IG9mIHRoZSBvcmlnaW5hbC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBEaXNwbGFjZW1lbnRGaWx0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERpc3BsYWNlbWVudEZpbHRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSBUaGUgc3ByaXRlIHVzZWQgZm9yIHRoZSBkaXNwbGFjZW1lbnQgbWFwLiAobWFrZSBzdXJlIGl0cyBhZGRlZCB0byB0aGUgc2NlbmUhKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVdIC0gVGhlIHNjYWxlIG9mIHRoZSBkaXNwbGFjZW1lbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEaXNwbGFjZW1lbnRGaWx0ZXIoc3ByaXRlLCBzY2FsZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbWFza01hdHJpeCA9IG5ldyBNYXRyaXgoKTtcbiAgICAgICAgc3ByaXRlLnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB2ZXJ0ZXgsIGZyYWdtZW50LCB7XG4gICAgICAgICAgICBtYXBTYW1wbGVyOiBzcHJpdGUuX3RleHR1cmUsXG4gICAgICAgICAgICBmaWx0ZXJNYXRyaXg6IG1hc2tNYXRyaXgsXG4gICAgICAgICAgICBzY2FsZTogeyB4OiAxLCB5OiAxIH0sXG4gICAgICAgICAgICByb3RhdGlvbjogbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCwgMV0pLFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5tYXNrU3ByaXRlID0gc3ByaXRlO1xuICAgICAgICBfdGhpcy5tYXNrTWF0cml4ID0gbWFza01hdHJpeDtcbiAgICAgICAgaWYgKHNjYWxlID09PSBudWxsIHx8IHNjYWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNjYWxlID0gMjA7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNjYWxlWCwgc2NhbGVZIGZvciBkaXNwbGFjZW1lbnRzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zY2FsZSA9IG5ldyBQb2ludChzY2FsZSwgc2NhbGUpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJTeXN0ZW19IGZpbHRlck1hbmFnZXIgLSBUaGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSBUaGUgaW5wdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgb3V0cHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ0xFQVJfTU9ERVN9IGNsZWFyTW9kZSAtIGNsZWFyTW9kZS5cbiAgICAgKi9cbiAgICBEaXNwbGFjZW1lbnRGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gKGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSkge1xuICAgICAgICAvLyBmaWxsIG1hc2tNYXRyaXggd2l0aCBfbm9ybWFsaXplZCBzcHJpdGUgdGV4dHVyZSBjb29yZHNfXG4gICAgICAgIHRoaXMudW5pZm9ybXMuZmlsdGVyTWF0cml4ID0gZmlsdGVyTWFuYWdlci5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodGhpcy5tYXNrTWF0cml4LCB0aGlzLm1hc2tTcHJpdGUpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnNjYWxlLnggPSB0aGlzLnNjYWxlLng7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc2NhbGUueSA9IHRoaXMuc2NhbGUueTtcbiAgICAgICAgLy8gRXh0cmFjdCByb3RhdGlvbiBmcm9tIHdvcmxkIHRyYW5zZm9ybVxuICAgICAgICB2YXIgd3QgPSB0aGlzLm1hc2tTcHJpdGUud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBsZW5YID0gTWF0aC5zcXJ0KCh3dC5hICogd3QuYSkgKyAod3QuYiAqIHd0LmIpKTtcbiAgICAgICAgdmFyIGxlblkgPSBNYXRoLnNxcnQoKHd0LmMgKiB3dC5jKSArICh3dC5kICogd3QuZCkpO1xuICAgICAgICBpZiAobGVuWCAhPT0gMCAmJiBsZW5ZICE9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzBdID0gd3QuYSAvIGxlblg7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzFdID0gd3QuYiAvIGxlblg7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzJdID0gd3QuYyAvIGxlblk7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzNdID0gd3QuZCAvIGxlblk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZHJhdyB0aGUgZmlsdGVyLi4uXG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGFjZW1lbnRGaWx0ZXIucHJvdG90eXBlLCBcIm1hcFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB1c2VkIGZvciB0aGUgZGlzcGxhY2VtZW50IG1hcC4gTXVzdCBiZSBwb3dlciBvZiAyIHNpemVkIHRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMubWFwU2FtcGxlcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMubWFwU2FtcGxlciA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIERpc3BsYWNlbWVudEZpbHRlcjtcbn0oRmlsdGVyKSk7XG5cbmV4cG9ydCB7IERpc3BsYWNlbWVudEZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLWRpc3BsYWNlbWVudC5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLWZ4YWEgLSB2Ni4wLjBcbiAqIENvbXBpbGVkIFR1ZSwgMDIgTWFyIDIwMjEgMjE6NDU6MDMgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLWZ4YWEgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciB2ZXJ0ZXggPSBcIlxcbmF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdl9yZ2JOVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JORTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTRTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JNO1xcblxcbnZhcnlpbmcgdmVjMiB2RnJhZ0Nvb3JkO1xcblxcbnVuaWZvcm0gdmVjNCBpbnB1dFBpeGVsO1xcbnVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG57XFxuICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxufVxcblxcbnZvaWQgdGV4Y29vcmRzKHZlYzIgZnJhZ0Nvb3JkLCB2ZWMyIGludmVyc2VWUCxcXG4gICAgICAgICAgICAgICBvdXQgdmVjMiB2X3JnYk5XLCBvdXQgdmVjMiB2X3JnYk5FLFxcbiAgICAgICAgICAgICAgIG91dCB2ZWMyIHZfcmdiU1csIG91dCB2ZWMyIHZfcmdiU0UsXFxuICAgICAgICAgICAgICAgb3V0IHZlYzIgdl9yZ2JNKSB7XFxuICAgIHZfcmdiTlcgPSAoZnJhZ0Nvb3JkICsgdmVjMigtMS4wLCAtMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiTkUgPSAoZnJhZ0Nvb3JkICsgdmVjMigxLjAsIC0xLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JTVyA9IChmcmFnQ29vcmQgKyB2ZWMyKC0xLjAsIDEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYlNFID0gKGZyYWdDb29yZCArIHZlYzIoMS4wLCAxLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JNID0gdmVjMihmcmFnQ29vcmQgKiBpbnZlcnNlVlApO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZCkge1xcblxcbiAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG5cXG4gICB2RnJhZ0Nvb3JkID0gYVZlcnRleFBvc2l0aW9uICogb3V0cHV0RnJhbWUuenc7XFxuXFxuICAgdGV4Y29vcmRzKHZGcmFnQ29vcmQsIGlucHV0UGl4ZWwuencsIHZfcmdiTlcsIHZfcmdiTkUsIHZfcmdiU1csIHZfcmdiU0UsIHZfcmdiTSk7XFxufVxcblwiO1xuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2X3JnYk5XO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk5FO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNXO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNFO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk07XFxuXFxudmFyeWluZyB2ZWMyIHZGcmFnQ29vcmQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBoaWdocCB2ZWM0IGlucHV0UGl4ZWw7XFxuXFxuXFxuLyoqXFxuIEJhc2ljIEZYQUEgaW1wbGVtZW50YXRpb24gYmFzZWQgb24gdGhlIGNvZGUgb24gZ2Vla3MzZC5jb20gd2l0aCB0aGVcXG4gbW9kaWZpY2F0aW9uIHRoYXQgdGhlIHRleHR1cmUyRExvZCBzdHVmZiB3YXMgcmVtb3ZlZCBzaW5jZSBpdCdzXFxuIHVuc3VwcG9ydGVkIGJ5IFdlYkdMLlxcblxcbiAtLVxcblxcbiBGcm9tOlxcbiBodHRwczovL2dpdGh1Yi5jb20vbWl0c3VoaWtvL3dlYmdsLW1laW5jcmFmdFxcblxcbiBDb3B5cmlnaHQgKGMpIDIwMTEgYnkgQXJtaW4gUm9uYWNoZXIuXFxuXFxuIFNvbWUgcmlnaHRzIHJlc2VydmVkLlxcblxcbiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcXG4gbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxcbiBtZXQ6XFxuXFxuICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcXG4gbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxcblxcbiAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmVcXG4gY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmdcXG4gZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkXFxuIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cXG5cXG4gKiBUaGUgbmFtZXMgb2YgdGhlIGNvbnRyaWJ1dG9ycyBtYXkgbm90IGJlIHVzZWQgdG8gZW5kb3JzZSBvclxcbiBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWNcXG4gcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxcblxcbiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXFxuIFxcXCJBUyBJU1xcXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXFxuIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUlxcbiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxcbiBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCxcXG4gU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVFxcbiBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSxcXG4gREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZXFxuIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlRcXG4gKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFXFxuIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXFxuICovXFxuXFxuI2lmbmRlZiBGWEFBX1JFRFVDRV9NSU5cXG4jZGVmaW5lIEZYQUFfUkVEVUNFX01JTiAgICgxLjAvIDEyOC4wKVxcbiNlbmRpZlxcbiNpZm5kZWYgRlhBQV9SRURVQ0VfTVVMXFxuI2RlZmluZSBGWEFBX1JFRFVDRV9NVUwgICAoMS4wIC8gOC4wKVxcbiNlbmRpZlxcbiNpZm5kZWYgRlhBQV9TUEFOX01BWFxcbiNkZWZpbmUgRlhBQV9TUEFOX01BWCAgICAgOC4wXFxuI2VuZGlmXFxuXFxuLy9vcHRpbWl6ZWQgdmVyc2lvbiBmb3IgbW9iaWxlLCB3aGVyZSBkZXBlbmRlbnRcXG4vL3RleHR1cmUgcmVhZHMgY2FuIGJlIGEgYm90dGxlbmVja1xcbnZlYzQgZnhhYShzYW1wbGVyMkQgdGV4LCB2ZWMyIGZyYWdDb29yZCwgdmVjMiBpbnZlcnNlVlAsXFxuICAgICAgICAgIHZlYzIgdl9yZ2JOVywgdmVjMiB2X3JnYk5FLFxcbiAgICAgICAgICB2ZWMyIHZfcmdiU1csIHZlYzIgdl9yZ2JTRSxcXG4gICAgICAgICAgdmVjMiB2X3JnYk0pIHtcXG4gICAgdmVjNCBjb2xvcjtcXG4gICAgdmVjMyByZ2JOVyA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiTlcpLnh5ejtcXG4gICAgdmVjMyByZ2JORSA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiTkUpLnh5ejtcXG4gICAgdmVjMyByZ2JTVyA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiU1cpLnh5ejtcXG4gICAgdmVjMyByZ2JTRSA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiU0UpLnh5ejtcXG4gICAgdmVjNCB0ZXhDb2xvciA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiTSk7XFxuICAgIHZlYzMgcmdiTSAgPSB0ZXhDb2xvci54eXo7XFxuICAgIHZlYzMgbHVtYSA9IHZlYzMoMC4yOTksIDAuNTg3LCAwLjExNCk7XFxuICAgIGZsb2F0IGx1bWFOVyA9IGRvdChyZ2JOVywgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFORSA9IGRvdChyZ2JORSwgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFTVyA9IGRvdChyZ2JTVywgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFTRSA9IGRvdChyZ2JTRSwgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFNICA9IGRvdChyZ2JNLCAgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFNaW4gPSBtaW4obHVtYU0sIG1pbihtaW4obHVtYU5XLCBsdW1hTkUpLCBtaW4obHVtYVNXLCBsdW1hU0UpKSk7XFxuICAgIGZsb2F0IGx1bWFNYXggPSBtYXgobHVtYU0sIG1heChtYXgobHVtYU5XLCBsdW1hTkUpLCBtYXgobHVtYVNXLCBsdW1hU0UpKSk7XFxuXFxuICAgIG1lZGl1bXAgdmVjMiBkaXI7XFxuICAgIGRpci54ID0gLSgobHVtYU5XICsgbHVtYU5FKSAtIChsdW1hU1cgKyBsdW1hU0UpKTtcXG4gICAgZGlyLnkgPSAgKChsdW1hTlcgKyBsdW1hU1cpIC0gKGx1bWFORSArIGx1bWFTRSkpO1xcblxcbiAgICBmbG9hdCBkaXJSZWR1Y2UgPSBtYXgoKGx1bWFOVyArIGx1bWFORSArIGx1bWFTVyArIGx1bWFTRSkgKlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKDAuMjUgKiBGWEFBX1JFRFVDRV9NVUwpLCBGWEFBX1JFRFVDRV9NSU4pO1xcblxcbiAgICBmbG9hdCByY3BEaXJNaW4gPSAxLjAgLyAobWluKGFicyhkaXIueCksIGFicyhkaXIueSkpICsgZGlyUmVkdWNlKTtcXG4gICAgZGlyID0gbWluKHZlYzIoRlhBQV9TUEFOX01BWCwgRlhBQV9TUEFOX01BWCksXFxuICAgICAgICAgICAgICBtYXgodmVjMigtRlhBQV9TUEFOX01BWCwgLUZYQUFfU1BBTl9NQVgpLFxcbiAgICAgICAgICAgICAgICAgIGRpciAqIHJjcERpck1pbikpICogaW52ZXJzZVZQO1xcblxcbiAgICB2ZWMzIHJnYkEgPSAwLjUgKiAoXFxuICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAoMS4wIC8gMy4wIC0gMC41KSkueHl6ICtcXG4gICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqICgyLjAgLyAzLjAgLSAwLjUpKS54eXopO1xcbiAgICB2ZWMzIHJnYkIgPSByZ2JBICogMC41ICsgMC4yNSAqIChcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogLTAuNSkueHl6ICtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogMC41KS54eXopO1xcblxcbiAgICBmbG9hdCBsdW1hQiA9IGRvdChyZ2JCLCBsdW1hKTtcXG4gICAgaWYgKChsdW1hQiA8IGx1bWFNaW4pIHx8IChsdW1hQiA+IGx1bWFNYXgpKVxcbiAgICAgICAgY29sb3IgPSB2ZWM0KHJnYkEsIHRleENvbG9yLmEpO1xcbiAgICBlbHNlXFxuICAgICAgICBjb2xvciA9IHZlYzQocmdiQiwgdGV4Q29sb3IuYSk7XFxuICAgIHJldHVybiBjb2xvcjtcXG59XFxuXFxudm9pZCBtYWluKCkge1xcblxcbiAgICAgIHZlYzQgY29sb3I7XFxuXFxuICAgICAgY29sb3IgPSBmeGFhKHVTYW1wbGVyLCB2RnJhZ0Nvb3JkLCBpbnB1dFBpeGVsLnp3LCB2X3JnYk5XLCB2X3JnYk5FLCB2X3JnYlNXLCB2X3JnYlNFLCB2X3JnYk0pO1xcblxcbiAgICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBCYXNpYyBGWEFBIChGYXN0IEFwcHJveGltYXRlIEFudGktQWxpYXNpbmcpIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uIHRoZSBjb2RlIG9uIGdlZWtzM2QuY29tXG4gKiB3aXRoIHRoZSBtb2RpZmljYXRpb24gdGhhdCB0aGUgdGV4dHVyZTJETG9kIHN0dWZmIHdhcyByZW1vdmVkIHNpbmNlIGl0IGlzIHVuc3VwcG9ydGVkIGJ5IFdlYkdMLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21pdHN1aGlrby93ZWJnbC1tZWluY3JhZnRcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKlxuICovXG52YXIgRlhBQUZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRlhBQUZpbHRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBGWEFBRmlsdGVyKCkge1xuICAgICAgICAvLyBUT0RPIC0gbmVlZHMgd29ya1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgdmVydGV4LCBmcmFnbWVudCkgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEZYQUFGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG5leHBvcnQgeyBGWEFBRmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXItZnhhYS5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLW5vaXNlIC0gdjYuMC4wXG4gKiBDb21waWxlZCBUdWUsIDAyIE1hciAyMDIxIDIxOjQ1OjAzIFVUQ1xuICpcbiAqIEBwaXhpL2ZpbHRlci1ub2lzZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIGZyYWdtZW50ID0gXCJwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG51bmlmb3JtIGZsb2F0IHVOb2lzZTtcXG51bmlmb3JtIGZsb2F0IHVTZWVkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbmZsb2F0IHJhbmQodmVjMiBjbylcXG57XFxuICAgIHJldHVybiBmcmFjdChzaW4oZG90KGNvLnh5LCB2ZWMyKDEyLjk4OTgsIDc4LjIzMykpKSAqIDQzNzU4LjU0NTMpO1xcbn1cXG5cXG52b2lkIG1haW4oKVxcbntcXG4gICAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuICAgIGZsb2F0IHJhbmRvbVZhbHVlID0gcmFuZChnbF9GcmFnQ29vcmQueHkgKiB1U2VlZCk7XFxuICAgIGZsb2F0IGRpZmYgPSAocmFuZG9tVmFsdWUgLSAwLjUpICogdU5vaXNlO1xcblxcbiAgICAvLyBVbi1wcmVtdWx0aXBseSBhbHBoYSBiZWZvcmUgYXBwbHlpbmcgdGhlIGNvbG9yIG1hdHJpeC4gU2VlIGlzc3VlICMzNTM5LlxcbiAgICBpZiAoY29sb3IuYSA+IDAuMCkge1xcbiAgICAgICAgY29sb3IucmdiIC89IGNvbG9yLmE7XFxuICAgIH1cXG5cXG4gICAgY29sb3IuciArPSBkaWZmO1xcbiAgICBjb2xvci5nICs9IGRpZmY7XFxuICAgIGNvbG9yLmIgKz0gZGlmZjtcXG5cXG4gICAgLy8gUHJlbXVsdGlwbHkgYWxwaGEgYWdhaW4uXFxuICAgIGNvbG9yLnJnYiAqPSBjb2xvci5hO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG59XFxuXCI7XG5cbi8qKlxuICogQSBOb2lzZSBlZmZlY3QgZmlsdGVyLlxuICpcbiAqIG9yaWdpbmFsIGZpbHRlcjogaHR0cHM6Ly9naXRodWIuY29tL2V2YW53L2dsZnguanMvYmxvYi9tYXN0ZXIvc3JjL2ZpbHRlcnMvYWRqdXN0L25vaXNlLmpzXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICogQGF1dGhvciBWaWNvIEB2aWNvY290ZWFcbiAqL1xudmFyIE5vaXNlRmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOb2lzZUZpbHRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW25vaXNlPTAuNV0gLSBUaGUgbm9pc2UgaW50ZW5zaXR5LCBzaG91bGQgYmUgYSBub3JtYWxpemVkIHZhbHVlIGluIHRoZSByYW5nZSBbMCwgMV0uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzZWVkXSAtIEEgcmFuZG9tIHNlZWQgZm9yIHRoZSBub2lzZSBnZW5lcmF0aW9uLiBEZWZhdWx0IGlzIGBNYXRoLnJhbmRvbSgpYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBOb2lzZUZpbHRlcihub2lzZSwgc2VlZCkge1xuICAgICAgICBpZiAobm9pc2UgPT09IHZvaWQgMCkgeyBub2lzZSA9IDAuNTsgfVxuICAgICAgICBpZiAoc2VlZCA9PT0gdm9pZCAwKSB7IHNlZWQgPSBNYXRoLnJhbmRvbSgpOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIGZyYWdtZW50LCB7XG4gICAgICAgICAgICB1Tm9pc2U6IDAsXG4gICAgICAgICAgICB1U2VlZDogMCxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubm9pc2UgPSBub2lzZTtcbiAgICAgICAgX3RoaXMuc2VlZCA9IHNlZWQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vaXNlRmlsdGVyLnByb3RvdHlwZSwgXCJub2lzZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW1vdW50IG9mIG5vaXNlIHRvIGFwcGx5LCB0aGlzIHZhbHVlIHNob3VsZCBiZSBpbiB0aGUgcmFuZ2UgKDAsIDFdLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51Tm9pc2U7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVOb2lzZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vaXNlRmlsdGVyLnByb3RvdHlwZSwgXCJzZWVkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgc2VlZCB2YWx1ZSB0byBhcHBseSB0byB0aGUgcmFuZG9tIG5vaXNlIGdlbmVyYXRpb24uIGBNYXRoLnJhbmRvbSgpYCBpcyBhIGdvb2QgdmFsdWUgdG8gdXNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVTZWVkO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51U2VlZCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIE5vaXNlRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuZXhwb3J0IHsgTm9pc2VGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1ub2lzZS5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWl4aW4tY2FjaGUtYXMtYml0bWFwIC0gdjYuMC4wXG4gKiBDb21waWxlZCBUdWUsIDAyIE1hciAyMDIxIDIxOjQ1OjAzIFVUQ1xuICpcbiAqIEBwaXhpL21peGluLWNhY2hlLWFzLWJpdG1hcCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFJlbmRlclRleHR1cmUsIEJhc2VUZXh0dXJlLCBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyB1aWQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxudmFyIF90ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXAgPSBmYWxzZTtcbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWNoZURhdGEgPSBudWxsO1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXBSZXNvbHV0aW9uID0gbnVsbDtcbi8vIGZpZ3VyZWQgdGhlcmUncyBubyBwb2ludCBhZGRpbmcgQUxMIHRoZSBleHRyYSB2YXJpYWJsZXMgdG8gcHJvdG90eXBlLlxuLy8gdGhpcyBtb2RlbCBjYW4gaG9sZCB0aGUgaW5mb3JtYXRpb24gbmVlZGVkLiBUaGlzIGNhbiBhbHNvIGJlIGdlbmVyYXRlZCBvbiBkZW1hbmQgYXNcbi8vIG1vc3Qgb2JqZWN0cyBhcmUgbm90IGNhY2hlZCBhcyBiaXRtYXBzLlxuLyoqXG4gKiBAY2xhc3NcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBDYWNoZURhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2FjaGVEYXRhKCkge1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFJlbmRlciA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxSZW5kZXJDYW52YXMgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEdldExvY2FsQm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxEZXN0cm95ID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbE1hc2sgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsRmlsdGVyQXJlYSA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxDb250YWluc1BvaW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zcHJpdGUgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gQ2FjaGVEYXRhO1xufSgpKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKERpc3BsYXlPYmplY3QucHJvdG90eXBlLCB7XG4gICAgLyoqXG4gICAgICogVGhlIHJlc29sdXRpb24gdG8gdXNlIGZvciBjYWNoZUFzQml0bWFwLiBCeSBkZWZhdWx0IHRoaXMgd2lsbCB1c2UgdGhlIHJlbmRlcmVyJ3MgcmVzb2x1dGlvblxuICAgICAqIGJ1dCBjYW4gYmUgb3ZlcnJpZGVuIGZvciBwZXJmb3JtYW5jZS4gTG93ZXIgdmFsdWVzIHdpbGwgcmVkdWNlIG1lbW9yeSB1c2FnZSBhdCB0aGUgZXhwZW5zZVxuICAgICAqIG9mIHJlbmRlciBxdWFsaXR5LiBBIGZhbHNleSB2YWx1ZSBvZiBgbnVsbGAgb3IgYDBgIHdpbGwgZGVmYXVsdCB0byB0aGUgcmVuZGVyZXIncyByZXNvbHV0aW9uLlxuICAgICAqIElmIGBjYWNoZUFzQml0bWFwYCBpcyBzZXQgdG8gYHRydWVgLCB0aGlzIHdpbGwgcmUtcmVuZGVyIHdpdGggdGhlIG5ldyByZXNvbHV0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfSBjYWNoZUFzQml0bWFwUmVzb2x1dGlvblxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIGNhY2hlQXNCaXRtYXBSZXNvbHV0aW9uOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlQXNCaXRtYXBSZXNvbHV0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChyZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gdGhpcy5fY2FjaGVBc0JpdG1hcFJlc29sdXRpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9jYWNoZUFzQml0bWFwUmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgICAgICBpZiAodGhpcy5jYWNoZUFzQml0bWFwKSB7XG4gICAgICAgICAgICAgICAgLy8gVG9nZ2xlIHRvIHJlLXJlbmRlciBhdCB0aGUgbmV3IHJlc29sdXRpb25cbiAgICAgICAgICAgICAgICB0aGlzLmNhY2hlQXNCaXRtYXAgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhY2hlQXNCaXRtYXAgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0sXG4gICAgLyoqXG4gICAgICogU2V0IHRoaXMgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0aGlzIGRpc3BsYXkgb2JqZWN0IHRvIGJlIGNhY2hlZCBhcyBhIGJpdG1hcC5cbiAgICAgKiBUaGlzIGJhc2ljYWxseSB0YWtlcyBhIHNuYXAgc2hvdCBvZiB0aGUgZGlzcGxheSBvYmplY3QgYXMgaXQgaXMgYXQgdGhhdCBtb21lbnQuIEl0IGNhblxuICAgICAqIHByb3ZpZGUgYSBwZXJmb3JtYW5jZSBiZW5lZml0IGZvciBjb21wbGV4IHN0YXRpYyBkaXNwbGF5T2JqZWN0cy5cbiAgICAgKiBUbyByZW1vdmUgc2ltcGx5IHNldCB0aGlzIHByb3BlcnR5IHRvIGBmYWxzZWBcbiAgICAgKlxuICAgICAqIElNUE9SVEFOVCBHT1RDSEEgLSBNYWtlIHN1cmUgdGhhdCBhbGwgeW91ciB0ZXh0dXJlcyBhcmUgcHJlbG9hZGVkIEJFRk9SRSBzZXR0aW5nIHRoaXMgcHJvcGVydHkgdG8gdHJ1ZVxuICAgICAqIGFzIGl0IHdpbGwgdGFrZSBhIHNuYXBzaG90IG9mIHdoYXQgaXMgY3VycmVudGx5IHRoZXJlLiBJZiB0aGUgdGV4dHVyZXMgaGF2ZSBub3QgbG9hZGVkIHRoZW4gdGhleSB3aWxsIG5vdCBhcHBlYXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgY2FjaGVBc0JpdG1hcDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZUFzQml0bWFwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlQXNCaXRtYXAgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fY2FjaGVBc0JpdG1hcCA9IHZhbHVlO1xuICAgICAgICAgICAgdmFyIGRhdGE7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2NhY2hlRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZURhdGEgPSBuZXcgQ2FjaGVEYXRhKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9jYWNoZURhdGE7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbFJlbmRlciA9IHRoaXMucmVuZGVyO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxSZW5kZXJDYW52YXMgPSB0aGlzLnJlbmRlckNhbnZhcztcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtID0gdGhpcy51cGRhdGVUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuY2FsY3VsYXRlQm91bmRzO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxHZXRMb2NhbEJvdW5kcyA9IHRoaXMuZ2V0TG9jYWxCb3VuZHM7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbERlc3Ryb3kgPSB0aGlzLmRlc3Ryb3k7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbENvbnRhaW5zUG9pbnQgPSB0aGlzLmNvbnRhaW5zUG9pbnQ7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbE1hc2sgPSB0aGlzLl9tYXNrO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxGaWx0ZXJBcmVhID0gdGhpcy5maWx0ZXJBcmVhO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyID0gdGhpcy5fcmVuZGVyQ2FjaGVkO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fcmVuZGVyQ2FjaGVkQ2FudmFzO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSA9IHRoaXMuX2NhY2hlQXNCaXRtYXBEZXN0cm95O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2NhY2hlRGF0YTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zcHJpdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIgPSBkYXRhLm9yaWdpbmFsUmVuZGVyO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FudmFzID0gZGF0YS5vcmlnaW5hbFJlbmRlckNhbnZhcztcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcyA9IGRhdGEub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHM7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRMb2NhbEJvdW5kcyA9IGRhdGEub3JpZ2luYWxHZXRMb2NhbEJvdW5kcztcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3kgPSBkYXRhLm9yaWdpbmFsRGVzdHJveTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IGRhdGEub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluc1BvaW50ID0gZGF0YS5vcmlnaW5hbENvbnRhaW5zUG9pbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFzayA9IGRhdGEub3JpZ2luYWxNYXNrO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyQXJlYSA9IGRhdGEub3JpZ2luYWxGaWx0ZXJBcmVhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0sXG59KTtcbi8qKlxuICogUmVuZGVycyBhIGNhY2hlZCB2ZXJzaW9uIG9mIHRoZSBzcHJpdGUgd2l0aCBXZWJHTFxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWV0aG9kIF9yZW5kZXJDYWNoZWRcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9yZW5kZXJDYWNoZWQgPSBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkKHJlbmRlcmVyKSB7XG4gICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0KHJlbmRlcmVyKTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLnRyYW5zZm9ybS5fd29ybGRJRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUud29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9yZW5kZXIocmVuZGVyZXIpO1xufTtcbi8qKlxuICogUHJlcGFyZXMgdGhlIFdlYkdMIHJlbmRlcmVyIHRvIGNhY2hlIHRoZSBzcHJpdGVcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1ldGhvZCBfaW5pdENhY2hlZERpc3BsYXlPYmplY3RcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdCA9IGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdChyZW5kZXJlcikge1xuICAgIGlmICh0aGlzLl9jYWNoZURhdGEgJiYgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIG1ha2Ugc3VyZSBhbHBoYSBpcyBzZXQgdG8gMSBvdGhlcndpc2UgaXQgd2lsbCBnZXQgcmVuZGVyZWQgYXMgaW52aXNpYmxlIVxuICAgIHZhciBjYWNoZUFscGhhID0gdGhpcy5hbHBoYTtcbiAgICB0aGlzLmFscGhhID0gMTtcbiAgICAvLyBmaXJzdCB3ZSBmbHVzaCBhbnl0aGluZyBsZWZ0IGluIHRoZSByZW5kZXJlciAob3RoZXJ3aXNlIGl0IHdvdWxkIGdldCByZW5kZXJlZCB0byB0aGUgY2FjaGVkIHRleHR1cmUpXG4gICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAvLyB0aGlzLmZpbHRlcnM9IFtdO1xuICAgIC8vIG5leHQgd2UgZmluZCB0aGUgZGltZW5zaW9ucyBvZiB0aGUgdW50cmFuc2Zvcm1lZCBvYmplY3RcbiAgICAvLyB0aGlzIGZ1bmN0aW9uIGFsc28gY2FsbHMgdXBkYXRldHJhbnNmb3JtIG9uIGFsbCBpdHMgY2hpbGRyZW4gYXMgcGFydCBvZiB0aGUgbWVhc3VyaW5nLlxuICAgIC8vIFRoaXMgbWVhbnMgd2UgZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIHRyYW5zZm9ybSBhZ2FpbiBpbiB0aGlzIGZ1bmN0aW9uXG4gICAgLy8gVE9ETyBwYXNzIGFuIG9iamVjdCB0byBjbG9uZSB0b28/IHNhdmVzIGhhdmluZyB0byBjcmVhdGUgYSBuZXcgb25lIGVhY2ggdGltZSFcbiAgICB2YXIgYm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcyhudWxsLCB0cnVlKS5jbG9uZSgpO1xuICAgIC8vIGFkZCBzb21lIHBhZGRpbmchXG4gICAgaWYgKHRoaXMuZmlsdGVycykge1xuICAgICAgICB2YXIgcGFkZGluZyA9IHRoaXMuZmlsdGVyc1swXS5wYWRkaW5nO1xuICAgICAgICBib3VuZHMucGFkKHBhZGRpbmcpO1xuICAgIH1cbiAgICBib3VuZHMuY2VpbChzZXR0aW5ncy5SRVNPTFVUSU9OKTtcbiAgICAvLyBmb3Igbm93IHdlIGNhY2hlIHRoZSBjdXJyZW50IHJlbmRlclRhcmdldCB0aGF0IHRoZSBXZWJHTCByZW5kZXJlciBpcyBjdXJyZW50bHkgdXNpbmcuXG4gICAgLy8gdGhpcyBjb3VsZCBiZSBtb3JlIGVsZWdhbnQuLlxuICAgIHZhciBjYWNoZWRSZW5kZXJUZXh0dXJlID0gcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jdXJyZW50O1xuICAgIHZhciBjYWNoZWRTb3VyY2VGcmFtZSA9IHJlbmRlcmVyLnJlbmRlclRleHR1cmUuc291cmNlRnJhbWUuY2xvbmUoKTtcbiAgICB2YXIgY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybSA9IHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtO1xuICAgIC8vIFdlIGFsc28gc3RvcmUgdGhlIGZpbHRlciBzdGFjayAtIEkgd2lsbCBkZWZpbml0ZWx5IGxvb2sgdG8gY2hhbmdlIGhvdyB0aGlzIHdvcmtzIGEgbGl0dGxlIGxhdGVyIGRvd24gdGhlIGxpbmUuXG4gICAgLy8gY29uc3Qgc3RhY2sgPSByZW5kZXJlci5maWx0ZXJNYW5hZ2VyLmZpbHRlclN0YWNrO1xuICAgIC8vIHRoaXMgcmVuZGVyVGV4dHVyZSB3aWxsIGJlIHVzZWQgdG8gc3RvcmUgdGhlIGNhY2hlZCBEaXNwbGF5T2JqZWN0XG4gICAgdmFyIHJlbmRlclRleHR1cmUgPSBSZW5kZXJUZXh0dXJlLmNyZWF0ZSh7XG4gICAgICAgIHdpZHRoOiBib3VuZHMud2lkdGgsXG4gICAgICAgIGhlaWdodDogYm91bmRzLmhlaWdodCxcbiAgICAgICAgcmVzb2x1dGlvbjogdGhpcy5jYWNoZUFzQml0bWFwUmVzb2x1dGlvbiB8fCByZW5kZXJlci5yZXNvbHV0aW9uLFxuICAgIH0pO1xuICAgIHZhciB0ZXh0dXJlQ2FjaGVJZCA9IFwiY2FjaGVBc0JpdG1hcF9cIiArIHVpZCgpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IHRleHR1cmVDYWNoZUlkO1xuICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuICAgIFRleHR1cmUuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG4gICAgLy8gbmVlZCB0byBzZXQgLy9cbiAgICB2YXIgbSA9IHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtLmNvcHlUbyhfdGVtcE1hdHJpeCkuaW52ZXJ0KCkudHJhbnNsYXRlKC1ib3VuZHMueCwgLWJvdW5kcy55KTtcbiAgICAvLyBzZXQgYWxsIHByb3BlcnRpZXMgdG8gdGhlcmUgb3JpZ2luYWwgc28gd2UgY2FuIHJlbmRlciB0byBhIHRleHR1cmVcbiAgICB0aGlzLnJlbmRlciA9IHRoaXMuX2NhY2hlRGF0YS5vcmlnaW5hbFJlbmRlcjtcbiAgICByZW5kZXJlci5yZW5kZXIodGhpcywgeyByZW5kZXJUZXh0dXJlOiByZW5kZXJUZXh0dXJlLCBjbGVhcjogdHJ1ZSwgdHJhbnNmb3JtOiBtLCBza2lwVXBkYXRlVHJhbnNmb3JtOiBmYWxzZSB9KTtcbiAgICAvLyBub3cgcmVzdG9yZSB0aGUgc3RhdGUgYmUgc2V0dGluZyB0aGUgbmV3IHByb3BlcnRpZXNcbiAgICByZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IGNhY2hlZFByb2plY3Rpb25UcmFuc2Zvcm07XG4gICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKGNhY2hlZFJlbmRlclRleHR1cmUsIGNhY2hlZFNvdXJjZUZyYW1lKTtcbiAgICAvLyByZW5kZXJlci5maWx0ZXJNYW5hZ2VyLmZpbHRlclN0YWNrID0gc3RhY2s7XG4gICAgdGhpcy5yZW5kZXIgPSB0aGlzLl9yZW5kZXJDYWNoZWQ7XG4gICAgLy8gdGhlIHJlc3QgaXMgdGhlIHNhbWUgYXMgZm9yIENhbnZhc1xuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtO1xuICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzID0gdGhpcy5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzO1xuICAgIHRoaXMuZ2V0TG9jYWxCb3VuZHMgPSB0aGlzLl9nZXRDYWNoZWRMb2NhbEJvdW5kcztcbiAgICB0aGlzLl9tYXNrID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuICAgIC8vIGNyZWF0ZSBvdXIgY2FjaGVkIHNwcml0ZVxuICAgIHZhciBjYWNoZWRTcHJpdGUgPSBuZXcgU3ByaXRlKHJlbmRlclRleHR1cmUpO1xuICAgIGNhY2hlZFNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnggPSAtKGJvdW5kcy54IC8gYm91bmRzLndpZHRoKTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnkgPSAtKGJvdW5kcy55IC8gYm91bmRzLmhlaWdodCk7XG4gICAgY2FjaGVkU3ByaXRlLmFscGhhID0gY2FjaGVBbHBoYTtcbiAgICBjYWNoZWRTcHJpdGUuX2JvdW5kcyA9IHRoaXMuX2JvdW5kcztcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gY2FjaGVkU3ByaXRlO1xuICAgIHRoaXMudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgIC8vIHJlc3RvcmUgdGhlIHRyYW5zZm9ybSBvZiB0aGUgY2FjaGVkIHNwcml0ZSB0byBhdm9pZCB0aGUgbmFzdHkgZmxpY2tlci4uXG4gICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICB0aGlzLmVuYWJsZVRlbXBQYXJlbnQoKTtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5kaXNhYmxlVGVtcFBhcmVudChudWxsKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfVxuICAgIC8vIG1hcCB0aGUgaGl0IHRlc3QuLlxuICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGNhY2hlZFNwcml0ZS5jb250YWluc1BvaW50LmJpbmQoY2FjaGVkU3ByaXRlKTtcbn07XG4vKipcbiAqIFJlbmRlcnMgYSBjYWNoZWQgdmVyc2lvbiBvZiB0aGUgc3ByaXRlIHdpdGggY2FudmFzXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZXRob2QgX3JlbmRlckNhY2hlZENhbnZhc1xuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgY2FudmFzIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9yZW5kZXJDYWNoZWRDYW52YXMgPSBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkQ2FudmFzKHJlbmRlcmVyKSB7XG4gICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzKHJlbmRlcmVyKTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLndvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fcmVuZGVyQ2FudmFzKHJlbmRlcmVyKTtcbn07XG4vLyBUT0RPIHRoaXMgY2FuIGJlIHRoZSBzYW1lIGFzIHRoZSBXZWJHTCB2ZXJzaW9uLi4gd2lsbCBuZWVkIHRvIGRvIGEgbGl0dGxlIHR3ZWFraW5nIGZpcnN0IHRob3VnaC4uXG4vKipcbiAqIFByZXBhcmVzIHRoZSBDYW52YXMgcmVuZGVyZXIgdG8gY2FjaGUgdGhlIHNwcml0ZVxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWV0aG9kIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhc1xuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgY2FudmFzIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyA9IGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyhyZW5kZXJlcikge1xuICAgIGlmICh0aGlzLl9jYWNoZURhdGEgJiYgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGdldCBib3VuZHMgYWN0dWFsbHkgdHJhbnNmb3JtcyB0aGUgb2JqZWN0IGZvciB1cyBhbHJlYWR5IVxuICAgIHZhciBib3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzKG51bGwsIHRydWUpO1xuICAgIHZhciBjYWNoZUFscGhhID0gdGhpcy5hbHBoYTtcbiAgICB0aGlzLmFscGhhID0gMTtcbiAgICB2YXIgY2FjaGVkUmVuZGVyVGFyZ2V0ID0gcmVuZGVyZXIuY29udGV4dDtcbiAgICB2YXIgY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybSA9IHJlbmRlcmVyLl9wcm9qVHJhbnNmb3JtO1xuICAgIGJvdW5kcy5jZWlsKHNldHRpbmdzLlJFU09MVVRJT04pO1xuICAgIHZhciByZW5kZXJUZXh0dXJlID0gUmVuZGVyVGV4dHVyZS5jcmVhdGUoeyB3aWR0aDogYm91bmRzLndpZHRoLCBoZWlnaHQ6IGJvdW5kcy5oZWlnaHQgfSk7XG4gICAgdmFyIHRleHR1cmVDYWNoZUlkID0gXCJjYWNoZUFzQml0bWFwX1wiICsgdWlkKCk7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkID0gdGV4dHVyZUNhY2hlSWQ7XG4gICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG4gICAgVGV4dHVyZS5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcbiAgICAvLyBuZWVkIHRvIHNldCAvL1xuICAgIHZhciBtID0gX3RlbXBNYXRyaXg7XG4gICAgdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm0uY29weVRvKG0pO1xuICAgIG0uaW52ZXJ0KCk7XG4gICAgbS50eCAtPSBib3VuZHMueDtcbiAgICBtLnR5IC09IGJvdW5kcy55O1xuICAgIC8vIG0uYXBwZW5kKHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLilcbiAgICAvLyBzZXQgYWxsIHByb3BlcnRpZXMgdG8gdGhlcmUgb3JpZ2luYWwgc28gd2UgY2FuIHJlbmRlciB0byBhIHRleHR1cmVcbiAgICB0aGlzLnJlbmRlckNhbnZhcyA9IHRoaXMuX2NhY2hlRGF0YS5vcmlnaW5hbFJlbmRlckNhbnZhcztcbiAgICByZW5kZXJlci5yZW5kZXIodGhpcywgeyByZW5kZXJUZXh0dXJlOiByZW5kZXJUZXh0dXJlLCBjbGVhcjogdHJ1ZSwgdHJhbnNmb3JtOiBtLCBza2lwVXBkYXRlVHJhbnNmb3JtOiBmYWxzZSB9KTtcbiAgICAvLyBub3cgcmVzdG9yZSB0aGUgc3RhdGUgYmUgc2V0dGluZyB0aGUgbmV3IHByb3BlcnRpZXNcbiAgICByZW5kZXJlci5jb250ZXh0ID0gY2FjaGVkUmVuZGVyVGFyZ2V0O1xuICAgIHJlbmRlcmVyLl9wcm9qVHJhbnNmb3JtID0gY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybTtcbiAgICB0aGlzLnJlbmRlckNhbnZhcyA9IHRoaXMuX3JlbmRlckNhY2hlZENhbnZhcztcbiAgICAvLyB0aGUgcmVzdCBpcyB0aGUgc2FtZSBhcyBmb3IgV2ViR0xcbiAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybTtcbiAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcztcbiAgICB0aGlzLmdldExvY2FsQm91bmRzID0gdGhpcy5fZ2V0Q2FjaGVkTG9jYWxCb3VuZHM7XG4gICAgdGhpcy5fbWFzayA9IG51bGw7XG4gICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcbiAgICAvLyBjcmVhdGUgb3VyIGNhY2hlZCBzcHJpdGVcbiAgICB2YXIgY2FjaGVkU3ByaXRlID0gbmV3IFNwcml0ZShyZW5kZXJUZXh0dXJlKTtcbiAgICBjYWNoZWRTcHJpdGUudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci54ID0gLShib3VuZHMueCAvIGJvdW5kcy53aWR0aCk7XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci55ID0gLShib3VuZHMueSAvIGJvdW5kcy5oZWlnaHQpO1xuICAgIGNhY2hlZFNwcml0ZS5hbHBoYSA9IGNhY2hlQWxwaGE7XG4gICAgY2FjaGVkU3ByaXRlLl9ib3VuZHMgPSB0aGlzLl9ib3VuZHM7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSA9IGNhY2hlZFNwcml0ZTtcbiAgICB0aGlzLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAvLyByZXN0b3JlIHRoZSB0cmFuc2Zvcm0gb2YgdGhlIGNhY2hlZCBzcHJpdGUgdG8gYXZvaWQgdGhlIG5hc3R5IGZsaWNrZXIuLlxuICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSByZW5kZXJlci5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfVxuICAgIC8vIG1hcCB0aGUgaGl0IHRlc3QuLlxuICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGNhY2hlZFNwcml0ZS5jb250YWluc1BvaW50LmJpbmQoY2FjaGVkU3ByaXRlKTtcbn07XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgY2FjaGVkIHNwcml0ZVxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWV0aG9kXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQ2FjaGVkQm91bmRzKCkge1xuICAgIHRoaXMuX2JvdW5kcy5jbGVhcigpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUudHJhbnNmb3JtLl93b3JsZElEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEID0gdGhpcy5fYm91bmRzSUQ7XG59O1xuLyoqXG4gKiBHZXRzIHRoZSBib3VuZHMgb2YgdGhlIGNhY2hlZCBzcHJpdGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZXRob2RcbiAqIEByZXR1cm4ge1JlY3RhbmdsZX0gVGhlIGxvY2FsIGJvdW5kcy5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2dldENhY2hlZExvY2FsQm91bmRzID0gZnVuY3Rpb24gX2dldENhY2hlZExvY2FsQm91bmRzKCkge1xuICAgIHJldHVybiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLmdldExvY2FsQm91bmRzKG51bGwpO1xufTtcbi8qKlxuICogRGVzdHJveXMgdGhlIGNhY2hlZCBzcHJpdGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZXRob2RcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0ID0gZnVuY3Rpb24gX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0KCkge1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3RleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gbnVsbDtcbiAgICBCYXNlVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkKTtcbiAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IG51bGw7XG59O1xuLyoqXG4gKiBEZXN0cm95cyB0aGUgY2FjaGVkIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1ldGhvZFxuICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZS5cbiAqICBVc2VkIHdoZW4gZGVzdHJveWluZyBjb250YWluZXJzLCBzZWUgdGhlIENvbnRhaW5lci5kZXN0cm95IG1ldGhvZC5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXBEZXN0cm95ID0gZnVuY3Rpb24gX2NhY2hlQXNCaXRtYXBEZXN0cm95KG9wdGlvbnMpIHtcbiAgICB0aGlzLmNhY2hlQXNCaXRtYXAgPSBmYWxzZTtcbiAgICB0aGlzLmRlc3Ryb3kob3B0aW9ucyk7XG59O1xuXG5leHBvcnQgeyBDYWNoZURhdGEgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1peGluLWNhY2hlLWFzLWJpdG1hcC5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUgLSB2Ni4wLjBcbiAqIENvbXBpbGVkIFR1ZSwgMDIgTWFyIDIwMjEgMjE6NDU6MDMgVVRDXG4gKlxuICogQHBpeGkvbWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0LCBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcblxuLyoqXG4gKiBUaGUgaW5zdGFuY2UgbmFtZSBvZiB0aGUgb2JqZWN0LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAbWVtYmVyIHtzdHJpbmd9IG5hbWVcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUubmFtZSA9IG51bGw7XG4vKipcbiAqIFJldHVybnMgdGhlIGRpc3BsYXkgb2JqZWN0IGluIHRoZSBjb250YWluZXIuXG4gKlxuICogUmVjdXJzaXZlIHNlYXJjaGVzIGFyZSBkb25lIGluIGEgcHJlb3JkZXIgdHJhdmVyc2FsLlxuICpcbiAqIEBtZXRob2QgZ2V0Q2hpbGRCeU5hbWVcbiAqIEBtZW1iZXJvZiBQSVhJLkNvbnRhaW5lciNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gSW5zdGFuY2UgbmFtZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn1bZGVlcD1mYWxzZV0gLSBXaGV0aGVyIHRvIHNlYXJjaCByZWN1cnNpdmVseVxuICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUuXG4gKi9cbkNvbnRhaW5lci5wcm90b3R5cGUuZ2V0Q2hpbGRCeU5hbWUgPSBmdW5jdGlvbiBnZXRDaGlsZEJ5TmFtZShuYW1lLCBkZWVwKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbltpXS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoZGVlcCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgaWYgKCFjaGlsZC5nZXRDaGlsZEJ5TmFtZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRhcmdldCA9IHRoaXMuY2hpbGRyZW5baV0uZ2V0Q2hpbGRCeU5hbWUobmFtZSwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1taXhpbi1nZXQtY2hpbGQtYnktbmFtZS5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbiAtIHY2LjAuMFxuICogQ29tcGlsZWQgVHVlLCAwMiBNYXIgMjAyMSAyMTo0NTowMyBVVENcbiAqXG4gKiBAcGl4aS9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBnbG9iYWwgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3QuIERvZXMgbm90IGRlcGVuZCBvbiBvYmplY3Qgc2NhbGUsIHJvdGF0aW9uIGFuZCBwaXZvdC5cbiAqXG4gKiBAbWV0aG9kIGdldEdsb2JhbFBvc2l0aW9uXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLlBvaW50fSBbcG9pbnQ9bmV3IFBJWEkuUG9pbnQoKV0gLSBUaGUgcG9pbnQgdG8gd3JpdGUgdGhlIGdsb2JhbCB2YWx1ZSB0by5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGU9ZmFsc2VdIC0gU2V0dGluZyB0byB0cnVlIHdpbGwgc3RvcCB0aGUgdHJhbnNmb3JtcyBvZiB0aGUgc2NlbmUgZ3JhcGggZnJvbVxuICogIGJlaW5nIHVwZGF0ZWQuIFRoaXMgbWVhbnMgdGhlIGNhbGN1bGF0aW9uIHJldHVybmVkIE1BWSBiZSBvdXQgb2YgZGF0ZSBCVVQgd2lsbCBnaXZlIHlvdSBhXG4gKiAgbmljZSBwZXJmb3JtYW5jZSBib29zdC5cbiAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IFRoZSB1cGRhdGVkIHBvaW50LlxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5nZXRHbG9iYWxQb3NpdGlvbiA9IGZ1bmN0aW9uIGdldEdsb2JhbFBvc2l0aW9uKHBvaW50LCBza2lwVXBkYXRlKSB7XG4gICAgaWYgKHBvaW50ID09PSB2b2lkIDApIHsgcG9pbnQgPSBuZXcgUG9pbnQoKTsgfVxuICAgIGlmIChza2lwVXBkYXRlID09PSB2b2lkIDApIHsgc2tpcFVwZGF0ZSA9IGZhbHNlOyB9XG4gICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50LnRvR2xvYmFsKHRoaXMucG9zaXRpb24sIHBvaW50LCBza2lwVXBkYXRlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHBvaW50LnggPSB0aGlzLnBvc2l0aW9uLng7XG4gICAgICAgIHBvaW50LnkgPSB0aGlzLnBvc2l0aW9uLnk7XG4gICAgfVxuICAgIHJldHVybiBwb2ludDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9tZXNoLWV4dHJhcyAtIHY2LjAuMFxuICogQ29tcGlsZWQgVHVlLCAwMiBNYXIgMjAyMSAyMTo0NTowMyBVVENcbiAqXG4gKiBAcGl4aS9tZXNoLWV4dHJhcyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IE1lc2hHZW9tZXRyeSwgTWVzaCwgTWVzaE1hdGVyaWFsIH0gZnJvbSAnQHBpeGkvbWVzaCc7XG5pbXBvcnQgeyBXUkFQX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciBQbGFuZUdlb21ldHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQbGFuZUdlb21ldHJ5LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFBsYW5lR2VvbWV0cnkod2lkdGgsIGhlaWdodCwgc2VnV2lkdGgsIHNlZ0hlaWdodCkge1xuICAgICAgICBpZiAod2lkdGggPT09IHZvaWQgMCkgeyB3aWR0aCA9IDEwMDsgfVxuICAgICAgICBpZiAoaGVpZ2h0ID09PSB2b2lkIDApIHsgaGVpZ2h0ID0gMTAwOyB9XG4gICAgICAgIGlmIChzZWdXaWR0aCA9PT0gdm9pZCAwKSB7IHNlZ1dpZHRoID0gMTA7IH1cbiAgICAgICAgaWYgKHNlZ0hlaWdodCA9PT0gdm9pZCAwKSB7IHNlZ0hlaWdodCA9IDEwOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNlZ1dpZHRoID0gc2VnV2lkdGg7XG4gICAgICAgIF90aGlzLnNlZ0hlaWdodCA9IHNlZ0hlaWdodDtcbiAgICAgICAgX3RoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgX3RoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBfdGhpcy5idWlsZCgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlcyBwbGFuZSBjb29yZGluYXRlc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGxhbmVHZW9tZXRyeS5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0b3RhbCA9IHRoaXMuc2VnV2lkdGggKiB0aGlzLnNlZ0hlaWdodDtcbiAgICAgICAgdmFyIHZlcnRzID0gW107XG4gICAgICAgIHZhciB1dnMgPSBbXTtcbiAgICAgICAgdmFyIGluZGljZXMgPSBbXTtcbiAgICAgICAgdmFyIHNlZ21lbnRzWCA9IHRoaXMuc2VnV2lkdGggLSAxO1xuICAgICAgICB2YXIgc2VnbWVudHNZID0gdGhpcy5zZWdIZWlnaHQgLSAxO1xuICAgICAgICB2YXIgc2l6ZVggPSAodGhpcy53aWR0aCkgLyBzZWdtZW50c1g7XG4gICAgICAgIHZhciBzaXplWSA9ICh0aGlzLmhlaWdodCkgLyBzZWdtZW50c1k7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWw7IGkrKykge1xuICAgICAgICAgICAgdmFyIHggPSAoaSAlIHRoaXMuc2VnV2lkdGgpO1xuICAgICAgICAgICAgdmFyIHkgPSAoKGkgLyB0aGlzLnNlZ1dpZHRoKSB8IDApO1xuICAgICAgICAgICAgdmVydHMucHVzaCh4ICogc2l6ZVgsIHkgKiBzaXplWSk7XG4gICAgICAgICAgICB1dnMucHVzaCh4IC8gc2VnbWVudHNYLCB5IC8gc2VnbWVudHNZKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdG90YWxTdWIgPSBzZWdtZW50c1ggKiBzZWdtZW50c1k7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxTdWI7IGkrKykge1xuICAgICAgICAgICAgdmFyIHhwb3MgPSBpICUgc2VnbWVudHNYO1xuICAgICAgICAgICAgdmFyIHlwb3MgPSAoaSAvIHNlZ21lbnRzWCkgfCAwO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gKHlwb3MgKiB0aGlzLnNlZ1dpZHRoKSArIHhwb3M7XG4gICAgICAgICAgICB2YXIgdmFsdWUyID0gKHlwb3MgKiB0aGlzLnNlZ1dpZHRoKSArIHhwb3MgKyAxO1xuICAgICAgICAgICAgdmFyIHZhbHVlMyA9ICgoeXBvcyArIDEpICogdGhpcy5zZWdXaWR0aCkgKyB4cG9zO1xuICAgICAgICAgICAgdmFyIHZhbHVlNCA9ICgoeXBvcyArIDEpICogdGhpcy5zZWdXaWR0aCkgKyB4cG9zICsgMTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh2YWx1ZSwgdmFsdWUyLCB2YWx1ZTMsIHZhbHVlMiwgdmFsdWU0LCB2YWx1ZTMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnVmZmVyc1swXS5kYXRhID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0cyk7XG4gICAgICAgIHRoaXMuYnVmZmVyc1sxXS5kYXRhID0gbmV3IEZsb2F0MzJBcnJheSh1dnMpO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyLmRhdGEgPSBuZXcgVWludDE2QXJyYXkoaW5kaWNlcyk7XG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IHRoZSBjaGFuZ2VzIGFyZSB1cGxvYWRlZFxuICAgICAgICB0aGlzLmJ1ZmZlcnNbMF0udXBkYXRlKCk7XG4gICAgICAgIHRoaXMuYnVmZmVyc1sxXS51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci51cGRhdGUoKTtcbiAgICB9O1xuICAgIHJldHVybiBQbGFuZUdlb21ldHJ5O1xufShNZXNoR2VvbWV0cnkpKTtcblxuLyoqXG4gKiBSb3BlR2VvbWV0cnkgYWxsb3dzIHlvdSB0byBkcmF3IGEgZ2VvbWV0cnkgYWNyb3NzIHNldmVyYWwgcG9pbnRzIGFuZCB0aGVuIG1hbmlwdWxhdGUgdGhlc2UgcG9pbnRzLlxuICpcbiAqIGBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBjb25zdCByb3BlID0gbmV3IFBJWEkuUm9wZUdlb21ldHJ5KDEwMCwgcG9pbnRzKTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5NZXNoR2VvbWV0cnlcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG52YXIgUm9wZUdlb21ldHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSb3BlR2VvbWV0cnksIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0yMDBdIC0gVGhlIHdpZHRoIChpLmUuLCB0aGlja25lc3MpIG9mIHRoZSByb3BlLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludFtdfSBbcG9pbnRzXSAtIEFuIGFycmF5IG9mIHtAbGluayBQSVhJLlBvaW50fSBvYmplY3RzIHRvIGNvbnN0cnVjdCB0aGlzIHJvcGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0ZXh0dXJlU2NhbGU9MF0gLSBCeSBkZWZhdWx0IHRoZSByb3BlIHRleHR1cmUgd2lsbCBiZSBzdHJldGNoZWQgdG8gbWF0Y2hcbiAgICAgKiAgICAgcm9wZSBsZW5ndGguIElmIHRleHR1cmVTY2FsZSBpcyBwb3NpdGl2ZSB0aGlzIHZhbHVlIHdpbGwgYmUgdHJlYXRlZCBhcyBhIHNjYWxpbmdcbiAgICAgKiAgICAgZmFjdG9yIGFuZCB0aGUgdGV4dHVyZSB3aWxsIHByZXNlcnZlIGl0cyBhc3BlY3QgcmF0aW8gaW5zdGVhZC4gVG8gY3JlYXRlIGEgdGlsaW5nIHJvcGVcbiAgICAgKiAgICAgc2V0IGJhc2VUZXh0dXJlLndyYXBNb2RlIHRvIHtAbGluayBQSVhJLldSQVBfTU9ERVMuUkVQRUFUfSBhbmQgdXNlIGEgcG93ZXIgb2YgdHdvIHRleHR1cmUsXG4gICAgICogICAgIHRoZW4gc2V0IHRleHR1cmVTY2FsZT0xIHRvIGtlZXAgdGhlIG9yaWdpbmFsIHRleHR1cmUgcGl4ZWwgc2l6ZS5cbiAgICAgKiAgICAgSW4gb3JkZXIgdG8gcmVkdWNlIGFscGhhIGNoYW5uZWwgYXJ0aWZhY3RzIHByb3ZpZGUgYSBsYXJnZXIgdGV4dHVyZSBhbmQgZG93bnNhbXBsZSAtXG4gICAgICogICAgIGkuZS4gc2V0IHRleHR1cmVTY2FsZT0wLjUgdG8gc2NhbGUgaXQgZG93biB0d2ljZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSb3BlR2VvbWV0cnkod2lkdGgsIHBvaW50cywgdGV4dHVyZVNjYWxlKSB7XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdm9pZCAwKSB7IHdpZHRoID0gMjAwOyB9XG4gICAgICAgIGlmICh0ZXh0dXJlU2NhbGUgPT09IHZvaWQgMCkgeyB0ZXh0dXJlU2NhbGUgPSAwOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpLCBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KSwgbmV3IFVpbnQxNkFycmF5KChwb2ludHMubGVuZ3RoIC0gMSkgKiA2KSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHBvaW50cyB0aGF0IGRldGVybWluZSB0aGUgcm9wZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50W119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wb2ludHMgPSBwb2ludHM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggKGkuZS4sIHRoaWNrbmVzcykgb2YgdGhlIHJvcGUuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fd2lkdGggPSB3aWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJvcGUgdGV4dHVyZSBzY2FsZSwgaWYgemVybyB0aGVuIHRoZSByb3BlIHRleHR1cmUgaXMgc3RyZXRjaGVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dHVyZVNjYWxlID0gdGV4dHVyZVNjYWxlO1xuICAgICAgICBfdGhpcy5idWlsZCgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSb3BlR2VvbWV0cnkucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCAoaS5lLiwgdGhpY2tuZXNzKSBvZiB0aGUgcm9wZS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzIFJvcGUgaW5kaWNlcyBhbmQgdXZzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBSb3BlR2VvbWV0cnkucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHM7XG4gICAgICAgIGlmICghcG9pbnRzKVxuICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgdmFyIHZlcnRleEJ1ZmZlciA9IHRoaXMuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKTtcbiAgICAgICAgdmFyIHV2QnVmZmVyID0gdGhpcy5nZXRCdWZmZXIoJ2FUZXh0dXJlQ29vcmQnKTtcbiAgICAgICAgdmFyIGluZGV4QnVmZmVyID0gdGhpcy5nZXRJbmRleCgpO1xuICAgICAgICAvLyBpZiB0b28gbGl0dGxlIHBvaW50cywgb3IgdGV4dHVyZSBoYXNuJ3QgZ290IFVWcyBzZXQgeWV0IGp1c3QgbW92ZSBvbi5cbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhlIG51bWJlciBvZiBwb2ludHMgaGFzIGNoYW5nZWQgd2Ugd2lsbCBuZWVkIHRvIHJlY3JlYXRlIHRoZSBhcnJheWJ1ZmZlcnNcbiAgICAgICAgaWYgKHZlcnRleEJ1ZmZlci5kYXRhLmxlbmd0aCAvIDQgIT09IHBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci5kYXRhID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCk7XG4gICAgICAgICAgICB1dkJ1ZmZlci5kYXRhID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCk7XG4gICAgICAgICAgICBpbmRleEJ1ZmZlci5kYXRhID0gbmV3IFVpbnQxNkFycmF5KChwb2ludHMubGVuZ3RoIC0gMSkgKiA2KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdXZzID0gdXZCdWZmZXIuZGF0YTtcbiAgICAgICAgdmFyIGluZGljZXMgPSBpbmRleEJ1ZmZlci5kYXRhO1xuICAgICAgICB1dnNbMF0gPSAwO1xuICAgICAgICB1dnNbMV0gPSAwO1xuICAgICAgICB1dnNbMl0gPSAwO1xuICAgICAgICB1dnNbM10gPSAxO1xuICAgICAgICB2YXIgYW1vdW50ID0gMDtcbiAgICAgICAgdmFyIHByZXYgPSBwb2ludHNbMF07XG4gICAgICAgIHZhciB0ZXh0dXJlV2lkdGggPSB0aGlzLl93aWR0aCAqIHRoaXMudGV4dHVyZVNjYWxlO1xuICAgICAgICB2YXIgdG90YWwgPSBwb2ludHMubGVuZ3RoOyAvLyAtIDE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWw7IGkrKykge1xuICAgICAgICAgICAgLy8gdGltZSB0byBkbyBzb21lIHNtYXJ0IGRyYXdpbmchXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpICogNDtcbiAgICAgICAgICAgIGlmICh0aGlzLnRleHR1cmVTY2FsZSA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBjYWxjdWxhdGUgcGl4ZWwgZGlzdGFuY2UgZnJvbSBwcmV2aW91cyBwb2ludFxuICAgICAgICAgICAgICAgIHZhciBkeCA9IHByZXYueCAtIHBvaW50c1tpXS54O1xuICAgICAgICAgICAgICAgIHZhciBkeSA9IHByZXYueSAtIHBvaW50c1tpXS55O1xuICAgICAgICAgICAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydCgoZHggKiBkeCkgKyAoZHkgKiBkeSkpO1xuICAgICAgICAgICAgICAgIHByZXYgPSBwb2ludHNbaV07XG4gICAgICAgICAgICAgICAgYW1vdW50ICs9IGRpc3RhbmNlIC8gdGV4dHVyZVdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gc3RyZXRjaCB0ZXh0dXJlXG4gICAgICAgICAgICAgICAgYW1vdW50ID0gaSAvICh0b3RhbCAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXZzW2luZGV4XSA9IGFtb3VudDtcbiAgICAgICAgICAgIHV2c1tpbmRleCArIDFdID0gMDtcbiAgICAgICAgICAgIHV2c1tpbmRleCArIDJdID0gYW1vdW50O1xuICAgICAgICAgICAgdXZzW2luZGV4ICsgM10gPSAxO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleENvdW50ID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbCAtIDE7IGkrKykge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gaSAqIDI7XG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4Q291bnQrK10gPSBpbmRleDtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMTtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMjtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMjtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMTtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMztcbiAgICAgICAgfVxuICAgICAgICAvLyBlbnN1cmUgdGhhdCB0aGUgY2hhbmdlcyBhcmUgdXBsb2FkZWRcbiAgICAgICAgdXZCdWZmZXIudXBkYXRlKCk7XG4gICAgICAgIGluZGV4QnVmZmVyLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZlcnRpY2VzKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiByZWZyZXNoZXMgdmVydGljZXMgb2YgUm9wZSBtZXNoXG4gICAgICovXG4gICAgUm9wZUdlb21ldHJ5LnByb3RvdHlwZS51cGRhdGVWZXJ0aWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGFzdFBvaW50ID0gcG9pbnRzWzBdO1xuICAgICAgICB2YXIgbmV4dFBvaW50O1xuICAgICAgICB2YXIgcGVycFggPSAwO1xuICAgICAgICB2YXIgcGVycFkgPSAwO1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLmJ1ZmZlcnNbMF0uZGF0YTtcbiAgICAgICAgdmFyIHRvdGFsID0gcG9pbnRzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcG9pbnQgPSBwb2ludHNbaV07XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpICogNDtcbiAgICAgICAgICAgIGlmIChpIDwgcG9pbnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBuZXh0UG9pbnQgPSBwb2ludHNbaSArIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV4dFBvaW50ID0gcG9pbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwZXJwWSA9IC0obmV4dFBvaW50LnggLSBsYXN0UG9pbnQueCk7XG4gICAgICAgICAgICBwZXJwWCA9IG5leHRQb2ludC55IC0gbGFzdFBvaW50Lnk7XG4gICAgICAgICAgICB2YXIgcGVycExlbmd0aCA9IE1hdGguc3FydCgocGVycFggKiBwZXJwWCkgKyAocGVycFkgKiBwZXJwWSkpO1xuICAgICAgICAgICAgdmFyIG51bSA9IHRoaXMudGV4dHVyZVNjYWxlID4gMCA/IHRoaXMudGV4dHVyZVNjYWxlICogdGhpcy5fd2lkdGggLyAyIDogdGhpcy5fd2lkdGggLyAyO1xuICAgICAgICAgICAgcGVycFggLz0gcGVycExlbmd0aDtcbiAgICAgICAgICAgIHBlcnBZIC89IHBlcnBMZW5ndGg7XG4gICAgICAgICAgICBwZXJwWCAqPSBudW07XG4gICAgICAgICAgICBwZXJwWSAqPSBudW07XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleF0gPSBwb2ludC54ICsgcGVycFg7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleCArIDFdID0gcG9pbnQueSArIHBlcnBZO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXggKyAyXSA9IHBvaW50LnggLSBwZXJwWDtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4ICsgM10gPSBwb2ludC55IC0gcGVycFk7XG4gICAgICAgICAgICBsYXN0UG9pbnQgPSBwb2ludDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1ZmZlcnNbMF0udXBkYXRlKCk7XG4gICAgfTtcbiAgICBSb3BlR2VvbWV0cnkucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudGV4dHVyZVNjYWxlID4gMCkge1xuICAgICAgICAgICAgdGhpcy5idWlsZCgpOyAvLyB3ZSBuZWVkIHRvIHVwZGF0ZSBVVnNcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmVydGljZXMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFJvcGVHZW9tZXRyeTtcbn0oTWVzaEdlb21ldHJ5KSk7XG5cbi8qKlxuICogVGhlIHJvcGUgYWxsb3dzIHlvdSB0byBkcmF3IGEgdGV4dHVyZSBhY3Jvc3Mgc2V2ZXJhbCBwb2ludHMgYW5kIHRoZW4gbWFuaXB1bGF0ZSB0aGVzZSBwb2ludHNcbiAqXG4gKmBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBsZXQgcm9wZSA9IG5ldyBQSVhJLlNpbXBsZVJvcGUoUElYSS5UZXh0dXJlLmZyb20oXCJzbmFrZS5wbmdcIiksIHBvaW50cyk7XG4gKiAgYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLk1lc2hcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG52YXIgU2ltcGxlUm9wZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2ltcGxlUm9wZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB0ZXh0dXJlIHRvIHVzZSBvbiB0aGUgcm9wZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnRbXX0gcG9pbnRzIC0gQW4gYXJyYXkgb2Yge0BsaW5rIFBJWEkuUG9pbnR9IG9iamVjdHMgdG8gY29uc3RydWN0IHRoaXMgcm9wZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3RleHR1cmVTY2FsZT0wXSAtIE9wdGlvbmFsLiBQb3NpdGl2ZSB2YWx1ZXMgc2NhbGUgcm9wZSB0ZXh0dXJlXG4gICAgICoga2VlcGluZyBpdHMgYXNwZWN0IHJhdGlvLiBZb3UgY2FuIHJlZHVjZSBhbHBoYSBjaGFubmVsIGFydGlmYWN0cyBieSBwcm92aWRpbmcgYSBsYXJnZXIgdGV4dHVyZVxuICAgICAqIGFuZCBkb3duc2FtcGxpbmcgaGVyZS4gSWYgc2V0IHRvIHplcm8sIHRleHR1cmUgd2lsbCBiZSBzdHJldGNoZWQgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTaW1wbGVSb3BlKHRleHR1cmUsIHBvaW50cywgdGV4dHVyZVNjYWxlKSB7XG4gICAgICAgIGlmICh0ZXh0dXJlU2NhbGUgPT09IHZvaWQgMCkgeyB0ZXh0dXJlU2NhbGUgPSAwOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciByb3BlR2VvbWV0cnkgPSBuZXcgUm9wZUdlb21ldHJ5KHRleHR1cmUuaGVpZ2h0LCBwb2ludHMsIHRleHR1cmVTY2FsZSk7XG4gICAgICAgIHZhciBtZXNoTWF0ZXJpYWwgPSBuZXcgTWVzaE1hdGVyaWFsKHRleHR1cmUpO1xuICAgICAgICBpZiAodGV4dHVyZVNjYWxlID4gMCkge1xuICAgICAgICAgICAgLy8gYXR0ZW1wdCB0byBzZXQgVVYgd3JhcHBpbmcsIHdpbGwgZmFpbCBvbiBub24tcG93ZXIgb2YgdHdvIHRleHR1cmVzXG4gICAgICAgICAgICB0ZXh0dXJlLmJhc2VUZXh0dXJlLndyYXBNb2RlID0gV1JBUF9NT0RFUy5SRVBFQVQ7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByb3BlR2VvbWV0cnksIG1lc2hNYXRlcmlhbCkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJlLWNhbGN1bGF0ZSB2ZXJ0aWNlcyBieSByb3BlIHBvaW50cyBlYWNoIGZyYW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTaW1wbGVSb3BlLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgICAgIGlmICh0aGlzLmF1dG9VcGRhdGUgfHwgZ2VvbWV0cnkuX3dpZHRoICE9PSB0aGlzLnNoYWRlci50ZXh0dXJlLmhlaWdodCkge1xuICAgICAgICAgICAgZ2VvbWV0cnkuX3dpZHRoID0gdGhpcy5zaGFkZXIudGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgICAgICBnZW9tZXRyeS51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9yZW5kZXIuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcbiAgICByZXR1cm4gU2ltcGxlUm9wZTtcbn0oTWVzaCkpO1xuXG4vKipcbiAqIFRoZSBTaW1wbGVQbGFuZSBhbGxvd3MgeW91IHRvIGRyYXcgYSB0ZXh0dXJlIGFjcm9zcyBzZXZlcmFsIHBvaW50cyBhbmQgdGhlbiBtYW5pcHVsYXRlIHRoZXNlIHBvaW50c1xuICpcbiAqYGBganNcbiAqIGZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykge1xuICogICAgIHBvaW50cy5wdXNoKG5ldyBQSVhJLlBvaW50KGkgKiA1MCwgMCkpO1xuICogfTtcbiAqIGxldCBTaW1wbGVQbGFuZSA9IG5ldyBQSVhJLlNpbXBsZVBsYW5lKFBJWEkuVGV4dHVyZS5mcm9tKFwic25ha2UucG5nXCIpLCBwb2ludHMpO1xuICogIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5NZXNoXG4gKiBAbWVtYmVyb2YgUElYSVxuICpcbiAqL1xudmFyIFNpbXBsZVBsYW5lID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTaW1wbGVQbGFuZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB0ZXh0dXJlIHRvIHVzZSBvbiB0aGUgU2ltcGxlUGxhbmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZlcnRpY2VzWCAtIFRoZSBudW1iZXIgb2YgdmVydGljZXMgaW4gdGhlIHgtYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2ZXJ0aWNlc1kgLSBUaGUgbnVtYmVyIG9mIHZlcnRpY2VzIGluIHRoZSB5LWF4aXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTaW1wbGVQbGFuZSh0ZXh0dXJlLCB2ZXJ0aWNlc1gsIHZlcnRpY2VzWSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcGxhbmVHZW9tZXRyeSA9IG5ldyBQbGFuZUdlb21ldHJ5KHRleHR1cmUud2lkdGgsIHRleHR1cmUuaGVpZ2h0LCB2ZXJ0aWNlc1gsIHZlcnRpY2VzWSk7XG4gICAgICAgIHZhciBtZXNoTWF0ZXJpYWwgPSBuZXcgTWVzaE1hdGVyaWFsKFRleHR1cmUuV0hJVEUpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHBsYW5lR2VvbWV0cnksIG1lc2hNYXRlcmlhbCkgfHwgdGhpcztcbiAgICAgICAgLy8gbGV0cyBjYWxsIHRoZSBzZXR0ZXIgdG8gZW5zdXJlIGFsbCBuZWNlc3NhcnkgdXBkYXRlcyBhcmUgcGVyZm9ybWVkXG4gICAgICAgIF90aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB1c2VkIGZvciBvdmVycmlkZXMsIHRvIGRvIHNvbWV0aGluZyBpbiBjYXNlIHRleHR1cmUgZnJhbWUgd2FzIGNoYW5nZWQuXG4gICAgICogTWVzaGVzIGJhc2VkIG9uIHBsYW5lIGNhbiBvdmVycmlkZSBpdCBhbmQgY2hhbmdlIG1vcmUgZGV0YWlscyBiYXNlZCBvbiB0ZXh0dXJlLlxuICAgICAqL1xuICAgIFNpbXBsZVBsYW5lLnByb3RvdHlwZS50ZXh0dXJlVXBkYXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gdGhpcy5zaGFkZXIudGV4dHVyZS5fdXBkYXRlSUQ7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgICAgIGdlb21ldHJ5LndpZHRoID0gdGhpcy5zaGFkZXIudGV4dHVyZS53aWR0aDtcbiAgICAgICAgZ2VvbWV0cnkuaGVpZ2h0ID0gdGhpcy5zaGFkZXIudGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgIGdlb21ldHJ5LmJ1aWxkKCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2ltcGxlUGxhbmUucHJvdG90eXBlLCBcInRleHR1cmVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNoYWRlci50ZXh0dXJlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgLy8gVHJhY2sgdGV4dHVyZSBzYW1lIHdheSBzcHJpdGUgZG9lcy5cbiAgICAgICAgICAgIC8vIEZvciBnZW5lcmF0ZWQgbWVzaGVzIGxpa2UgTmluZVNsaWNlUGxhbmUgaXQgY2FuIGNoYW5nZSB0aGUgZ2VvbWV0cnkuXG4gICAgICAgICAgICAvLyBVbmZvcnR1bmF0ZWx5LCB0aGlzIG1ldGhvZCBtaWdodCBub3Qgd29yayBpZiB5b3UgZGlyZWN0bHkgY2hhbmdlIHRleHR1cmUgaW4gbWF0ZXJpYWwuXG4gICAgICAgICAgICBpZiAodGhpcy5zaGFkZXIudGV4dHVyZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNoYWRlci50ZXh0dXJlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5iYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dHVyZVVwZGF0ZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlLm9uY2UoJ3VwZGF0ZScsIHRoaXMudGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU2ltcGxlUGxhbmUucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RleHR1cmVJRCAhPT0gdGhpcy5zaGFkZXIudGV4dHVyZS5fdXBkYXRlSUQpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZVVwZGF0ZWQoKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9yZW5kZXIuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcbiAgICBTaW1wbGVQbGFuZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuc2hhZGVyLnRleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLnRleHR1cmVVcGRhdGVkLCB0aGlzKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICByZXR1cm4gU2ltcGxlUGxhbmU7XG59KE1lc2gpKTtcblxuLyoqXG4gKiBUaGUgU2ltcGxlIE1lc2ggY2xhc3MgbWltaWNzIE1lc2ggaW4gUGl4aUpTIHY0LCBwcm92aWRpbmcgZWFzeS10by11c2UgY29uc3RydWN0b3IgYXJndW1lbnRzLlxuICogRm9yIG1vcmUgcm9idXN0IGN1c3RvbWl6YXRpb24sIHVzZSB7QGxpbmsgUElYSS5NZXNofS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuTWVzaFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNpbXBsZU1lc2ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNpbXBsZU1lc2gsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IFt0ZXh0dXJlPVRleHR1cmUuRU1QVFldIC0gVGhlIHRleHR1cmUgdG8gdXNlXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFt2ZXJ0aWNlc10gLSBpZiB5b3Ugd2FudCB0byBzcGVjaWZ5IHRoZSB2ZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbdXZzXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIHV2c1xuICAgICAqIEBwYXJhbSB7VWludDE2QXJyYXl9IFtpbmRpY2VzXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIGluZGljZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RyYXdNb2RlXSAtIHRoZSBkcmF3TW9kZSwgY2FuIGJlIGFueSBvZiB0aGUgTWVzaC5EUkFXX01PREVTIGNvbnN0c1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNpbXBsZU1lc2godGV4dHVyZSwgdmVydGljZXMsIHV2cywgaW5kaWNlcywgZHJhd01vZGUpIHtcbiAgICAgICAgaWYgKHRleHR1cmUgPT09IHZvaWQgMCkgeyB0ZXh0dXJlID0gVGV4dHVyZS5FTVBUWTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSBuZXcgTWVzaEdlb21ldHJ5KHZlcnRpY2VzLCB1dnMsIGluZGljZXMpO1xuICAgICAgICBnZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLnN0YXRpYyA9IGZhbHNlO1xuICAgICAgICB2YXIgbWVzaE1hdGVyaWFsID0gbmV3IE1lc2hNYXRlcmlhbCh0ZXh0dXJlKTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBnZW9tZXRyeSwgbWVzaE1hdGVyaWFsLCBudWxsLCBkcmF3TW9kZSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHVwbG9hZCB2ZXJ0aWNlcyBidWZmZXIgZWFjaCBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b1VwZGF0ZSA9IHRydWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNpbXBsZU1lc2gucHJvdG90eXBlLCBcInZlcnRpY2VzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgdmVydGljZXMgZGF0YS5cbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLmRhdGE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU2ltcGxlTWVzaC5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICBpZiAodGhpcy5hdXRvVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fcmVuZGVyLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuICAgIH07XG4gICAgcmV0dXJuIFNpbXBsZU1lc2g7XG59KE1lc2gpKTtcblxudmFyIERFRkFVTFRfQk9SREVSX1NJWkUgPSAxMDtcbi8qKlxuICogVGhlIE5pbmVTbGljZVBsYW5lIGFsbG93cyB5b3UgdG8gc3RyZXRjaCBhIHRleHR1cmUgdXNpbmcgOS1zbGljZSBzY2FsaW5nLiBUaGUgY29ybmVycyB3aWxsIHJlbWFpbiB1bnNjYWxlZCAodXNlZnVsXG4gKiBmb3IgYnV0dG9ucyB3aXRoIHJvdW5kZWQgY29ybmVycyBmb3IgZXhhbXBsZSkgYW5kIHRoZSBvdGhlciBhcmVhcyB3aWxsIGJlIHNjYWxlZCBob3Jpem9udGFsbHkgYW5kIG9yIHZlcnRpY2FsbHlcbiAqXG4gKmBgYGpzXG4gKiBsZXQgUGxhbmU5ID0gbmV3IFBJWEkuTmluZVNsaWNlUGxhbmUoUElYSS5UZXh0dXJlLmZyb20oJ0JveFdpdGhSb3VuZGVkQ29ybmVycy5wbmcnKSwgMTUsIDE1LCAxNSwgMTUpO1xuICogIGBgYFxuICogPHByZT5cbiAqICAgICAgQSAgICAgICAgICAgICAgICAgICAgICAgICAgQlxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcbiAqICBDIHwgMSB8ICAgICAgICAgIDIgICAgICAgICAgIHwgMyB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogICAgfCAgIHwgICAgICAgICAgICAgICAgICAgICAgfCAgIHxcbiAqICAgIHwgNCB8ICAgICAgICAgIDUgICAgICAgICAgIHwgNiB8XG4gKiAgICB8ICAgfCAgICAgICAgICAgICAgICAgICAgICB8ICAgfFxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcbiAqICBEIHwgNyB8ICAgICAgICAgIDggICAgICAgICAgIHwgOSB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuXG4gKiAgV2hlbiBjaGFuZ2luZyB0aGlzIG9iamVjdHMgd2lkdGggYW5kL29yIGhlaWdodDpcbiAqICAgICBhcmVhcyAxIDMgNyBhbmQgOSB3aWxsIHJlbWFpbiB1bnNjYWxlZC5cbiAqICAgICBhcmVhcyAyIGFuZCA4IHdpbGwgYmUgc3RyZXRjaGVkIGhvcml6b250YWxseVxuICogICAgIGFyZWFzIDQgYW5kIDYgd2lsbCBiZSBzdHJldGNoZWQgdmVydGljYWxseVxuICogICAgIGFyZWEgNSB3aWxsIGJlIHN0cmV0Y2hlZCBib3RoIGhvcml6b250YWxseSBhbmQgdmVydGljYWxseVxuICogPC9wcmU+XG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNpbXBsZVBsYW5lXG4gKiBAbWVtYmVyb2YgUElYSVxuICpcbiAqL1xudmFyIE5pbmVTbGljZVBsYW5lID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOaW5lU2xpY2VQbGFuZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB0ZXh0dXJlIHRvIHVzZSBvbiB0aGUgTmluZVNsaWNlUGxhbmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZWZ0V2lkdGg9MTBdIC0gc2l6ZSBvZiB0aGUgbGVmdCB2ZXJ0aWNhbCBiYXIgKEEpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0b3BIZWlnaHQ9MTBdIC0gc2l6ZSBvZiB0aGUgdG9wIGhvcml6b250YWwgYmFyIChDKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmlnaHRXaWR0aD0xMF0gLSBzaXplIG9mIHRoZSByaWdodCB2ZXJ0aWNhbCBiYXIgKEIpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtib3R0b21IZWlnaHQ9MTBdIC0gc2l6ZSBvZiB0aGUgYm90dG9tIGhvcml6b250YWwgYmFyIChEKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE5pbmVTbGljZVBsYW5lKHRleHR1cmUsIGxlZnRXaWR0aCwgdG9wSGVpZ2h0LCByaWdodFdpZHRoLCBib3R0b21IZWlnaHQpIHtcbiAgICAgICAgaWYgKGxlZnRXaWR0aCA9PT0gdm9pZCAwKSB7IGxlZnRXaWR0aCA9IERFRkFVTFRfQk9SREVSX1NJWkU7IH1cbiAgICAgICAgaWYgKHRvcEhlaWdodCA9PT0gdm9pZCAwKSB7IHRvcEhlaWdodCA9IERFRkFVTFRfQk9SREVSX1NJWkU7IH1cbiAgICAgICAgaWYgKHJpZ2h0V2lkdGggPT09IHZvaWQgMCkgeyByaWdodFdpZHRoID0gREVGQVVMVF9CT1JERVJfU0laRTsgfVxuICAgICAgICBpZiAoYm90dG9tSGVpZ2h0ID09PSB2b2lkIDApIHsgYm90dG9tSGVpZ2h0ID0gREVGQVVMVF9CT1JERVJfU0laRTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBUZXh0dXJlLldISVRFLCA0LCA0KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fb3JpZ1dpZHRoID0gdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICBfdGhpcy5fb3JpZ0hlaWdodCA9IHRleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl93aWR0aCA9IF90aGlzLl9vcmlnV2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faGVpZ2h0ID0gX3RoaXMuX29yaWdIZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGxlZnQgY29sdW1uIChhKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbGVmdFdpZHRoID0gbGVmdFdpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSByaWdodCBjb2x1bW4gKGIpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9yaWdodFdpZHRoID0gcmlnaHRXaWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRvcCByb3cgKGMpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90b3BIZWlnaHQgPSB0b3BIZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBib3R0b20gcm93IChkKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYm90dG9tSGVpZ2h0ID0gYm90dG9tSGVpZ2h0O1xuICAgICAgICAvLyBsZXRzIGNhbGwgdGhlIHNldHRlciB0byBlbnN1cmUgYWxsIG5lY2Vzc2FyeSB1cGRhdGVzIGFyZSBwZXJmb3JtZWRcbiAgICAgICAgX3RoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLnRleHR1cmVVcGRhdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0aGlzLnNoYWRlci50ZXh0dXJlLl91cGRhdGVJRDtcbiAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZSwgXCJ2ZXJ0aWNlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLmRhdGEgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGhvcml6b250YWwgdmVydGljZXMuXG4gICAgICpcbiAgICAgKi9cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUudXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLl9nZXRNaW5TY2FsZSgpO1xuICAgICAgICB2ZXJ0aWNlc1s5XSA9IHZlcnRpY2VzWzExXSA9IHZlcnRpY2VzWzEzXSA9IHZlcnRpY2VzWzE1XSA9IHRoaXMuX3RvcEhlaWdodCAqIHNjYWxlO1xuICAgICAgICB2ZXJ0aWNlc1sxN10gPSB2ZXJ0aWNlc1sxOV0gPSB2ZXJ0aWNlc1syMV0gPSB2ZXJ0aWNlc1syM10gPSB0aGlzLl9oZWlnaHQgLSAodGhpcy5fYm90dG9tSGVpZ2h0ICogc2NhbGUpO1xuICAgICAgICB2ZXJ0aWNlc1syNV0gPSB2ZXJ0aWNlc1syN10gPSB2ZXJ0aWNlc1syOV0gPSB2ZXJ0aWNlc1szMV0gPSB0aGlzLl9oZWlnaHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB2ZXJ0aWNhbCB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqL1xuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS51cGRhdGVWZXJ0aWNhbFZlcnRpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLl9nZXRNaW5TY2FsZSgpO1xuICAgICAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzEwXSA9IHZlcnRpY2VzWzE4XSA9IHZlcnRpY2VzWzI2XSA9IHRoaXMuX2xlZnRXaWR0aCAqIHNjYWxlO1xuICAgICAgICB2ZXJ0aWNlc1s0XSA9IHZlcnRpY2VzWzEyXSA9IHZlcnRpY2VzWzIwXSA9IHZlcnRpY2VzWzI4XSA9IHRoaXMuX3dpZHRoIC0gKHRoaXMuX3JpZ2h0V2lkdGggKiBzY2FsZSk7XG4gICAgICAgIHZlcnRpY2VzWzZdID0gdmVydGljZXNbMTRdID0gdmVydGljZXNbMjJdID0gdmVydGljZXNbMzBdID0gdGhpcy5fd2lkdGg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzbWFsbGVyIG9mIGEgc2V0IG9mIHZlcnRpY2FsIGFuZCBob3Jpem9udGFsIHNjYWxlIG9mIG5pbmUgc2xpY2UgY29ybmVycy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gU21hbGxlciBudW1iZXIgb2YgdmVydGljYWwgYW5kIGhvcml6b250YWwgc2NhbGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUuX2dldE1pblNjYWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdyA9IHRoaXMuX2xlZnRXaWR0aCArIHRoaXMuX3JpZ2h0V2lkdGg7XG4gICAgICAgIHZhciBzY2FsZVcgPSB0aGlzLl93aWR0aCA+IHcgPyAxLjAgOiB0aGlzLl93aWR0aCAvIHc7XG4gICAgICAgIHZhciBoID0gdGhpcy5fdG9wSGVpZ2h0ICsgdGhpcy5fYm90dG9tSGVpZ2h0O1xuICAgICAgICB2YXIgc2NhbGVIID0gdGhpcy5faGVpZ2h0ID4gaCA/IDEuMCA6IHRoaXMuX2hlaWdodCAvIGg7XG4gICAgICAgIHZhciBzY2FsZSA9IE1hdGgubWluKHNjYWxlVywgc2NhbGVIKTtcbiAgICAgICAgcmV0dXJuIHNjYWxlO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZSwgXCJoZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUsIFwibGVmdFdpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgbGVmdCBjb2x1bW5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGVmdFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fbGVmdFdpZHRoID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLCBcInJpZ2h0V2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSByaWdodCBjb2x1bW5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmlnaHRXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JpZ2h0V2lkdGggPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUsIFwidG9wSGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRvcCByb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdG9wSGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fdG9wSGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLCBcImJvdHRvbUhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBib3R0b20gcm93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvdHRvbUhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2JvdHRvbUhlaWdodCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzIE5pbmVTbGljZVBsYW5lIGNvb3Jkcy4gQWxsIG9mIHRoZW0uXG4gICAgICovXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLl9yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMudGV4dHVyZTtcbiAgICAgICAgdmFyIHV2cyA9IHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1sxXS5kYXRhO1xuICAgICAgICB0aGlzLl9vcmlnV2lkdGggPSB0ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIHRoaXMuX29yaWdIZWlnaHQgPSB0ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB2YXIgX3V2dyA9IDEuMCAvIHRoaXMuX29yaWdXaWR0aDtcbiAgICAgICAgdmFyIF91dmggPSAxLjAgLyB0aGlzLl9vcmlnSGVpZ2h0O1xuICAgICAgICB1dnNbMF0gPSB1dnNbOF0gPSB1dnNbMTZdID0gdXZzWzI0XSA9IDA7XG4gICAgICAgIHV2c1sxXSA9IHV2c1szXSA9IHV2c1s1XSA9IHV2c1s3XSA9IDA7XG4gICAgICAgIHV2c1s2XSA9IHV2c1sxNF0gPSB1dnNbMjJdID0gdXZzWzMwXSA9IDE7XG4gICAgICAgIHV2c1syNV0gPSB1dnNbMjddID0gdXZzWzI5XSA9IHV2c1szMV0gPSAxO1xuICAgICAgICB1dnNbMl0gPSB1dnNbMTBdID0gdXZzWzE4XSA9IHV2c1syNl0gPSBfdXZ3ICogdGhpcy5fbGVmdFdpZHRoO1xuICAgICAgICB1dnNbNF0gPSB1dnNbMTJdID0gdXZzWzIwXSA9IHV2c1syOF0gPSAxIC0gKF91dncgKiB0aGlzLl9yaWdodFdpZHRoKTtcbiAgICAgICAgdXZzWzldID0gdXZzWzExXSA9IHV2c1sxM10gPSB1dnNbMTVdID0gX3V2aCAqIHRoaXMuX3RvcEhlaWdodDtcbiAgICAgICAgdXZzWzE3XSA9IHV2c1sxOV0gPSB1dnNbMjFdID0gdXZzWzIzXSA9IDEgLSAoX3V2aCAqIHRoaXMuX2JvdHRvbUhlaWdodCk7XG4gICAgICAgIHRoaXMudXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlVmVydGljYWxWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMF0udXBkYXRlKCk7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1sxXS51cGRhdGUoKTtcbiAgICB9O1xuICAgIHJldHVybiBOaW5lU2xpY2VQbGFuZTtcbn0oU2ltcGxlUGxhbmUpKTtcblxuZXhwb3J0IHsgTmluZVNsaWNlUGxhbmUsIFBsYW5lR2VvbWV0cnksIFJvcGVHZW9tZXRyeSwgU2ltcGxlTWVzaCwgU2ltcGxlUGxhbmUsIFNpbXBsZVJvcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lc2gtZXh0cmFzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9zcHJpdGUtYW5pbWF0ZWQgLSB2Ni4wLjBcbiAqIENvbXBpbGVkIFR1ZSwgMDIgTWFyIDIwMjEgMjE6NDU6MDMgVVRDXG4gKlxuICogQHBpeGkvc3ByaXRlLWFuaW1hdGVkIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IFRpY2tlciwgVVBEQVRFX1BSSU9SSVRZIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogQW4gQW5pbWF0ZWRTcHJpdGUgaXMgYSBzaW1wbGUgd2F5IHRvIGRpc3BsYXkgYW4gYW5pbWF0aW9uIGRlcGljdGVkIGJ5IGEgbGlzdCBvZiB0ZXh0dXJlcy5cbiAqXG4gKiBgYGBqc1xuICogbGV0IGFsaWVuSW1hZ2VzID0gW1wiaW1hZ2Vfc2VxdWVuY2VfMDEucG5nXCIsXCJpbWFnZV9zZXF1ZW5jZV8wMi5wbmdcIixcImltYWdlX3NlcXVlbmNlXzAzLnBuZ1wiLFwiaW1hZ2Vfc2VxdWVuY2VfMDQucG5nXCJdO1xuICogbGV0IHRleHR1cmVBcnJheSA9IFtdO1xuICpcbiAqIGZvciAobGV0IGk9MDsgaSA8IDQ7IGkrKylcbiAqIHtcbiAqICAgICAgbGV0IHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbShhbGllbkltYWdlc1tpXSk7XG4gKiAgICAgIHRleHR1cmVBcnJheS5wdXNoKHRleHR1cmUpO1xuICogfTtcbiAqXG4gKiBsZXQgYW5pbWF0ZWRTcHJpdGUgPSBuZXcgUElYSS5BbmltYXRlZFNwcml0ZSh0ZXh0dXJlQXJyYXkpO1xuICogYGBgXG4gKlxuICogVGhlIG1vcmUgZWZmaWNpZW50IGFuZCBzaW1wbGVyIHdheSB0byBjcmVhdGUgYW4gYW5pbWF0ZWQgc3ByaXRlIGlzIHVzaW5nIGEge0BsaW5rIFBJWEkuU3ByaXRlc2hlZXR9XG4gKiBjb250YWluaW5nIHRoZSBhbmltYXRpb24gZGVmaW5pdGlvbnM6XG4gKlxuICogYGBganNcbiAqIFBJWEkuTG9hZGVyLnNoYXJlZC5hZGQoXCJhc3NldHMvc3ByaXRlc2hlZXQuanNvblwiKS5sb2FkKHNldHVwKTtcbiAqXG4gKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAqICAgbGV0IHNoZWV0ID0gUElYSS5Mb2FkZXIuc2hhcmVkLnJlc291cmNlc1tcImFzc2V0cy9zcHJpdGVzaGVldC5qc29uXCJdLnNwcml0ZXNoZWV0O1xuICogICBhbmltYXRlZFNwcml0ZSA9IG5ldyBQSVhJLkFuaW1hdGVkU3ByaXRlKHNoZWV0LmFuaW1hdGlvbnNbXCJpbWFnZV9zZXF1ZW5jZVwiXSk7XG4gKiAgIC4uLlxuICogfVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNwcml0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEFuaW1hdGVkU3ByaXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBbmltYXRlZFNwcml0ZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZVtdfFBJWEkuQW5pbWF0ZWRTcHJpdGUuRnJhbWVPYmplY3RbXX0gdGV4dHVyZXMgLSBBbiBhcnJheSBvZiB7QGxpbmsgUElYSS5UZXh0dXJlfSBvciBmcmFtZVxuICAgICAqICBvYmplY3RzIHRoYXQgbWFrZSB1cCB0aGUgYW5pbWF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2F1dG9VcGRhdGU9dHJ1ZV0gLSBXaGV0aGVyIHRvIHVzZSBQSVhJLlRpY2tlci5zaGFyZWQgdG8gYXV0byB1cGRhdGUgYW5pbWF0aW9uIHRpbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQW5pbWF0ZWRTcHJpdGUodGV4dHVyZXMsIGF1dG9VcGRhdGUpIHtcbiAgICAgICAgaWYgKGF1dG9VcGRhdGUgPT09IHZvaWQgMCkgeyBhdXRvVXBkYXRlID0gdHJ1ZTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0ZXh0dXJlc1swXSBpbnN0YW5jZW9mIFRleHR1cmUgPyB0ZXh0dXJlc1swXSA6IHRleHR1cmVzWzBdLnRleHR1cmUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5UZXh0dXJlW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dHVyZXMgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2R1cmF0aW9ucyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgdXNlcyBQSVhJLlRpY2tlci5zaGFyZWQgdG8gYXV0byB1cGRhdGUgYW5pbWF0aW9uIHRpbWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYXV0b1VwZGF0ZSA9IGF1dG9VcGRhdGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgdGhlIGluc3RhbmNlIGlzIGN1cnJlbnRseSBjb25uZWN0ZWQgdG8gUElYSS5UaWNrZXIuc2hhcmVkIHRvIGF1dG8gdXBkYXRlIGFuaW1hdGlvbiB0aW1lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3BlZWQgdGhhdCB0aGUgQW5pbWF0ZWRTcHJpdGUgd2lsbCBwbGF5IGF0LiBIaWdoZXIgaXMgZmFzdGVyLCBsb3dlciBpcyBzbG93ZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYW5pbWF0aW9uU3BlZWQgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhlIGFuaW1hdGUgc3ByaXRlIHJlcGVhdHMgYWZ0ZXIgcGxheWluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubG9vcCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgYW5jaG9yIHRvIFtUZXh0dXJlJ3MgZGVmYXVsdEFuY2hvcl17QGxpbmsgUElYSS5UZXh0dXJlI2RlZmF1bHRBbmNob3J9IHdoZW4gZnJhbWUgY2hhbmdlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogVXNlZnVsIHdpdGggW3Nwcml0ZSBzaGVldCBhbmltYXRpb25zXXtAbGluayBQSVhJLlNwcml0ZXNoZWV0I2FuaW1hdGlvbnN9IGNyZWF0ZWQgd2l0aCB0b29scy5cbiAgICAgICAgICogQ2hhbmdpbmcgYW5jaG9yIGZvciBlYWNoIGZyYW1lIGFsbG93cyB0byBwaW4gc3ByaXRlIG9yaWdpbiB0byBjZXJ0YWluIG1vdmluZyBmZWF0dXJlXG4gICAgICAgICAqIG9mIHRoZSBmcmFtZSAoZS5nLiBsZWZ0IGZvb3QpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBOb3RlOiBFbmFibGluZyB0aGlzIHdpbGwgb3ZlcnJpZGUgYW55IHByZXZpb3VzbHkgc2V0IGBhbmNob3JgIG9uIGVhY2ggZnJhbWUgY2hhbmdlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXBkYXRlQW5jaG9yID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VyLWFzc2lnbmVkIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBhbiBBbmltYXRlZFNwcml0ZSBmaW5pc2hlcyBwbGF5aW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBhbmltYXRpb24ub25Db21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICogICAvLyBmaW5pc2hlZCFcbiAgICAgICAgICogfTtcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbkNvbXBsZXRlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZXItYXNzaWduZWQgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGFuIEFuaW1hdGVkU3ByaXRlIGNoYW5nZXMgd2hpY2ggdGV4dHVyZSBpcyBiZWluZyByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogYW5pbWF0aW9uLm9uRnJhbWVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAqICAgLy8gdXBkYXRlZCFcbiAgICAgICAgICogfTtcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbkZyYW1lQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZXItYXNzaWduZWQgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGBsb29wYCBpcyB0cnVlLCBhbmQgYW4gQW5pbWF0ZWRTcHJpdGUgaXMgcGxheWVkIGFuZFxuICAgICAgICAgKiBsb29wcyBhcm91bmQgdG8gc3RhcnQgYWdhaW4uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGFuaW1hdGlvbi5vbkxvb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAqICAgLy8gbG9vcGVkIVxuICAgICAgICAgKiB9O1xuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uTG9vcCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbGFwc2VkIHRpbWUgc2luY2UgYW5pbWF0aW9uIGhhcyBiZWVuIHN0YXJ0ZWQsIHVzZWQgaW50ZXJuYWxseSB0byBkaXNwbGF5IGN1cnJlbnQgdGV4dHVyZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2N1cnJlbnRUaW1lID0gMDtcbiAgICAgICAgX3RoaXMuX3BsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIGluZGV4IHRoYXQgd2FzIGRpc3BsYXllZCBsYXN0IHRpbWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3ByZXZpb3VzRnJhbWUgPSBudWxsO1xuICAgICAgICBfdGhpcy50ZXh0dXJlcyA9IHRleHR1cmVzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSBBbmltYXRlZFNwcml0ZS5cbiAgICAgKlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3BsYXlpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvVXBkYXRlICYmIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIpIHtcbiAgICAgICAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUGxheXMgdGhlIEFuaW1hdGVkU3ByaXRlLlxuICAgICAqXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLnBsYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9wbGF5aW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcGxheWluZyA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvVXBkYXRlICYmICF0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcywgVVBEQVRFX1BSSU9SSVRZLkhJR0gpO1xuICAgICAgICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSBBbmltYXRlZFNwcml0ZSBhbmQgZ29lcyB0byBhIHNwZWNpZmljIGZyYW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyYW1lTnVtYmVyIC0gRnJhbWUgaW5kZXggdG8gc3RvcCBhdC5cbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuZ290b0FuZFN0b3AgPSBmdW5jdGlvbiAoZnJhbWVOdW1iZXIpIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIHZhciBwcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gZnJhbWVOdW1iZXI7XG4gICAgICAgIGlmIChwcmV2aW91c0ZyYW1lICE9PSB0aGlzLmN1cnJlbnRGcmFtZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdvZXMgdG8gYSBzcGVjaWZpYyBmcmFtZSBhbmQgYmVnaW5zIHBsYXlpbmcgdGhlIEFuaW1hdGVkU3ByaXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyYW1lTnVtYmVyIC0gRnJhbWUgaW5kZXggdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLmdvdG9BbmRQbGF5ID0gZnVuY3Rpb24gKGZyYW1lTnVtYmVyKSB7XG4gICAgICAgIHZhciBwcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gZnJhbWVOdW1iZXI7XG4gICAgICAgIGlmIChwcmV2aW91c0ZyYW1lICE9PSB0aGlzLmN1cnJlbnRGcmFtZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBvYmplY3QgdHJhbnNmb3JtIGZvciByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFUaW1lIC0gVGltZSBzaW5jZSBsYXN0IHRpY2suXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkZWx0YVRpbWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wbGF5aW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVsYXBzZWQgPSB0aGlzLmFuaW1hdGlvblNwZWVkICogZGVsdGFUaW1lO1xuICAgICAgICB2YXIgcHJldmlvdXNGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuICAgICAgICBpZiAodGhpcy5fZHVyYXRpb25zICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgbGFnID0gdGhpcy5fY3VycmVudFRpbWUgJSAxICogdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcbiAgICAgICAgICAgIGxhZyArPSBlbGFwc2VkIC8gNjAgKiAxMDAwO1xuICAgICAgICAgICAgd2hpbGUgKGxhZyA8IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZS0tO1xuICAgICAgICAgICAgICAgIGxhZyArPSB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHNpZ24gPSBNYXRoLnNpZ24odGhpcy5hbmltYXRpb25TcGVlZCAqIGRlbHRhVGltZSk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSA9IE1hdGguZmxvb3IodGhpcy5fY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgd2hpbGUgKGxhZyA+PSB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdKSB7XG4gICAgICAgICAgICAgICAgbGFnIC09IHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV0gKiBzaWduO1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IHNpZ247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSArPSBsYWcgLyB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gZWxhcHNlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fY3VycmVudFRpbWUgPCAwICYmICF0aGlzLmxvb3ApIHtcbiAgICAgICAgICAgIHRoaXMuZ290b0FuZFN0b3AoMCk7XG4gICAgICAgICAgICBpZiAodGhpcy5vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fY3VycmVudFRpbWUgPj0gdGhpcy5fdGV4dHVyZXMubGVuZ3RoICYmICF0aGlzLmxvb3ApIHtcbiAgICAgICAgICAgIHRoaXMuZ290b0FuZFN0b3AodGhpcy5fdGV4dHVyZXMubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICBpZiAodGhpcy5vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxvb3AgJiYgdGhpcy5vbkxvb3ApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TcGVlZCA+IDAgJiYgdGhpcy5jdXJyZW50RnJhbWUgPCBwcmV2aW91c0ZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Mb29wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYW5pbWF0aW9uU3BlZWQgPCAwICYmIHRoaXMuY3VycmVudEZyYW1lID4gcHJldmlvdXNGcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTG9vcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBkaXNwbGF5ZWQgdGV4dHVyZSB0byBtYXRjaCB0aGUgY3VycmVudCBmcmFtZSBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLnVwZGF0ZVRleHR1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjdXJyZW50RnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcbiAgICAgICAgaWYgKHRoaXMuX3ByZXZpb3VzRnJhbWUgPT09IGN1cnJlbnRGcmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzRnJhbWUgPSBjdXJyZW50RnJhbWU7XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB0aGlzLl90ZXh0dXJlc1tjdXJyZW50RnJhbWVdO1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuICAgICAgICB0aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG4gICAgICAgIHRoaXMudXZzID0gdGhpcy5fdGV4dHVyZS5fdXZzLnV2c0Zsb2F0MzI7XG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZUFuY2hvcikge1xuICAgICAgICAgICAgdGhpcy5fYW5jaG9yLmNvcHlGcm9tKHRoaXMuX3RleHR1cmUuZGVmYXVsdEFuY2hvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub25GcmFtZUNoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5vbkZyYW1lQ2hhbmdlKHRoaXMuY3VycmVudEZyYW1lKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIEFuaW1hdGVkU3ByaXRlIGFuZCBkZXN0cm95cyBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gSWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgICAgIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsLlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUgPSBudWxsO1xuICAgICAgICB0aGlzLm9uRnJhbWVDaGFuZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLm9uTG9vcCA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgd2F5IG9mIGNyZWF0aW5nIGFuIEFuaW1hdGVkU3ByaXRlIGZyb20gYW4gYXJyYXkgb2YgZnJhbWUgaWRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGZyYW1lcyAtIFRoZSBhcnJheSBvZiBmcmFtZXMgaWRzIHRoZSBBbmltYXRlZFNwcml0ZSB3aWxsIHVzZSBhcyBpdHMgdGV4dHVyZSBmcmFtZXMuXG4gICAgICogQHJldHVybiB7UElYSS5BbmltYXRlZFNwcml0ZX0gVGhlIG5ldyBhbmltYXRlZCBzcHJpdGUgd2l0aCB0aGUgc3BlY2lmaWVkIGZyYW1lcy5cbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5mcm9tRnJhbWVzID0gZnVuY3Rpb24gKGZyYW1lcykge1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmcmFtZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRleHR1cmVzLnB1c2goVGV4dHVyZS5mcm9tKGZyYW1lc1tpXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQW5pbWF0ZWRTcHJpdGUodGV4dHVyZXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhbiBBbmltYXRlZFNwcml0ZSBmcm9tIGFuIGFycmF5IG9mIGltYWdlIGlkcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBpbWFnZXMgLSBUaGUgYXJyYXkgb2YgaW1hZ2UgdXJscyB0aGUgQW5pbWF0ZWRTcHJpdGUgd2lsbCB1c2UgYXMgaXRzIHRleHR1cmUgZnJhbWVzLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQW5pbWF0ZWRTcHJpdGV9IFRoZSBuZXcgYW5pbWF0ZSBzcHJpdGUgd2l0aCB0aGUgc3BlY2lmaWVkIGltYWdlcyBhcyBmcmFtZXMuXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUuZnJvbUltYWdlcyA9IGZ1bmN0aW9uIChpbWFnZXMpIHtcbiAgICAgICAgdmFyIHRleHR1cmVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0ZXh0dXJlcy5wdXNoKFRleHR1cmUuZnJvbShpbWFnZXNbaV0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGVkU3ByaXRlKHRleHR1cmVzKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUsIFwidG90YWxGcmFtZXNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRvdGFsIG51bWJlciBvZiBmcmFtZXMgaW4gdGhlIEFuaW1hdGVkU3ByaXRlLiBUaGlzIGlzIHRoZSBzYW1lIGFzIG51bWJlciBvZiB0ZXh0dXJlc1xuICAgICAgICAgKiBhc3NpZ25lZCB0byB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmVzLmxlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUsIFwidGV4dHVyZXNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFycmF5IG9mIHRleHR1cmVzIHVzZWQgZm9yIHRoaXMgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZXM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWVbMF0gaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kdXJhdGlvbnMgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kdXJhdGlvbnMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RleHR1cmVzLnB1c2godmFsdWVbaV0udGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucy5wdXNoKHZhbHVlW2ldLnRpbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3ByZXZpb3VzRnJhbWUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5nb3RvQW5kU3RvcCgwKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZSwgXCJjdXJyZW50RnJhbWVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgKiBUaGUgQW5pbWF0ZWRTcHJpdGVzIGN1cnJlbnQgZnJhbWUgaW5kZXguXG4gICAgICAgICpcbiAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRGcmFtZSA9IE1hdGguZmxvb3IodGhpcy5fY3VycmVudFRpbWUpICUgdGhpcy5fdGV4dHVyZXMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRGcmFtZSA8IDApIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50RnJhbWUgKz0gdGhpcy5fdGV4dHVyZXMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRGcmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUsIFwicGxheWluZ1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIEFuaW1hdGVkU3ByaXRlIGlzIGN1cnJlbnRseSBwbGF5aW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BsYXlpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLCBcImF1dG9VcGRhdGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0byB1c2UgUElYSS5UaWNrZXIuc2hhcmVkIHRvIGF1dG8gdXBkYXRlIGFuaW1hdGlvbiB0aW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hdXRvVXBkYXRlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl9hdXRvVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXV0b1VwZGF0ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fYXV0b1VwZGF0ZSAmJiB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9hdXRvVXBkYXRlICYmICF0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyICYmIHRoaXMuX3BsYXlpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQW5pbWF0ZWRTcHJpdGU7XG59KFNwcml0ZSkpO1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5BbmltYXRlZFNwcml0ZVxuICogQHR5cGVkZWYge29iamVjdH0gRnJhbWVPYmplY3RcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB7QGxpbmsgUElYSS5UZXh0dXJlfSBvZiB0aGUgZnJhbWVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lIC0gdGhlIGR1cmF0aW9uIG9mIHRoZSBmcmFtZSBpbiBtc1xuICovXG5cbmV4cG9ydCB7IEFuaW1hdGVkU3ByaXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcHJpdGUtYW5pbWF0ZWQuanMubWFwXG4iLCIvKiFcbiAqIHBpeGkuanMgLSB2Ni4wLjBcbiAqIENvbXBpbGVkIFR1ZSwgMDIgTWFyIDIwMjEgMjE6NDU6MDMgVVRDXG4gKlxuICogcGl4aS5qcyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCAnQHBpeGkvcG9seWZpbGwnO1xuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSAnQHBpeGkvdXRpbHMnO1xuZXhwb3J0IHsgdXRpbHMgfTtcbmltcG9ydCB7IEFjY2Vzc2liaWxpdHlNYW5hZ2VyIH0gZnJvbSAnQHBpeGkvYWNjZXNzaWJpbGl0eSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9hY2Nlc3NpYmlsaXR5JztcbmltcG9ydCB7IEludGVyYWN0aW9uTWFuYWdlciB9IGZyb20gJ0BwaXhpL2ludGVyYWN0aW9uJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2ludGVyYWN0aW9uJztcbmltcG9ydCB7IEFwcGxpY2F0aW9uIH0gZnJvbSAnQHBpeGkvYXBwJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2FwcCc7XG5pbXBvcnQgeyBSZW5kZXJlciwgQmF0Y2hSZW5kZXJlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBFeHRyYWN0IH0gZnJvbSAnQHBpeGkvZXh0cmFjdCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9leHRyYWN0JztcbmltcG9ydCB7IExvYWRlciwgQXBwTG9hZGVyUGx1Z2luIH0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9sb2FkZXJzJztcbmltcG9ydCB7IENvbXByZXNzZWRUZXh0dXJlTG9hZGVyLCBERFNMb2FkZXIsIEtUWExvYWRlciB9IGZyb20gJ0BwaXhpL2NvbXByZXNzZWQtdGV4dHVyZXMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvY29tcHJlc3NlZC10ZXh0dXJlcyc7XG5pbXBvcnQgeyBQYXJ0aWNsZVJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvcGFydGljbGVzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3BhcnRpY2xlcyc7XG5pbXBvcnQgeyBQcmVwYXJlIH0gZnJvbSAnQHBpeGkvcHJlcGFyZSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9wcmVwYXJlJztcbmltcG9ydCB7IFNwcml0ZXNoZWV0TG9hZGVyIH0gZnJvbSAnQHBpeGkvc3ByaXRlc2hlZXQnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlc2hlZXQnO1xuaW1wb3J0IHsgVGlsaW5nU3ByaXRlUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9zcHJpdGUtdGlsaW5nJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZS10aWxpbmcnO1xuaW1wb3J0IHsgQml0bWFwRm9udExvYWRlciB9IGZyb20gJ0BwaXhpL3RleHQtYml0bWFwJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3RleHQtYml0bWFwJztcbmltcG9ydCB7IFRpY2tlclBsdWdpbiB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5leHBvcnQgKiBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0IHsgQWxwaGFGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItYWxwaGEnO1xuaW1wb3J0IHsgQmx1ckZpbHRlciwgQmx1ckZpbHRlclBhc3MgfSBmcm9tICdAcGl4aS9maWx0ZXItYmx1cic7XG5pbXBvcnQgeyBDb2xvck1hdHJpeEZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1jb2xvci1tYXRyaXgnO1xuaW1wb3J0IHsgRGlzcGxhY2VtZW50RmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudCc7XG5pbXBvcnQgeyBGWEFBRmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWZ4YWEnO1xuaW1wb3J0IHsgTm9pc2VGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItbm9pc2UnO1xuaW1wb3J0ICdAcGl4aS9taXhpbi1jYWNoZS1hcy1iaXRtYXAnO1xuaW1wb3J0ICdAcGl4aS9taXhpbi1nZXQtY2hpbGQtYnktbmFtZSc7XG5pbXBvcnQgJ0BwaXhpL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24nO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvZ3JhcGhpY3MnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvbWF0aCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9tZXNoJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL21lc2gtZXh0cmFzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3J1bm5lcic7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zcHJpdGUnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlLWFuaW1hdGVkJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3RleHQnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG4vLyBJbnN0YWxsIHJlbmRlcmVyIHBsdWdpbnNcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdhY2Nlc3NpYmlsaXR5JywgQWNjZXNzaWJpbGl0eU1hbmFnZXIpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2V4dHJhY3QnLCBFeHRyYWN0KTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdpbnRlcmFjdGlvbicsIEludGVyYWN0aW9uTWFuYWdlcik7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbigncGFydGljbGUnLCBQYXJ0aWNsZVJlbmRlcmVyKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdwcmVwYXJlJywgUHJlcGFyZSk7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignYmF0Y2gnLCBCYXRjaFJlbmRlcmVyKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCd0aWxpbmdTcHJpdGUnLCBUaWxpbmdTcHJpdGVSZW5kZXJlcik7XG4vLyBJbnN0YWxsIGxvYWRlciBwbHVnaW5zXG5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oQml0bWFwRm9udExvYWRlcik7XG5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oQ29tcHJlc3NlZFRleHR1cmVMb2FkZXIpO1xuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKEREU0xvYWRlcik7XG5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oS1RYTG9hZGVyKTtcbkxvYWRlci5yZWdpc3RlclBsdWdpbihTcHJpdGVzaGVldExvYWRlcik7XG4vLyBJbnN0YWxsIGFwcGxpY2F0aW9uIHBsdWdpbnNcbkFwcGxpY2F0aW9uLnJlZ2lzdGVyUGx1Z2luKFRpY2tlclBsdWdpbik7XG5BcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihBcHBMb2FkZXJQbHVnaW4pO1xuLyoqXG4gKiBTdHJpbmcgb2YgdGhlIGN1cnJlbnQgUElYSSB2ZXJzaW9uLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIFZFUlNJT05cbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbnZhciBWRVJTSU9OID0gJzYuMC4wJztcbi8qKlxuICogQG5hbWVzcGFjZSBQSVhJXG4gKi9cbi8qKlxuICogVGhpcyBuYW1lc3BhY2UgY29udGFpbnMgV2ViR0wtb25seSBkaXNwbGF5IGZpbHRlcnMgdGhhdCBjYW4gYmUgYXBwbGllZFxuICogdG8gRGlzcGxheU9iamVjdHMgdXNpbmcgdGhlIHtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZmlsdGVycyBmaWx0ZXJzfSBwcm9wZXJ0eS5cbiAqXG4gKiBTaW5jZSBQaXhpSlMgb25seSBoYWQgYSBoYW5kZnVsIG9mIGJ1aWx0LWluIGZpbHRlcnMsIGFkZGl0aW9uYWwgZmlsdGVyc1xuICogY2FuIGJlIGRvd25sb2FkZWQge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS1maWx0ZXJzIGhlcmV9IGZyb20gdGhlXG4gKiBQaXhpSlMgRmlsdGVycyByZXBvc2l0b3J5LlxuICpcbiAqIEFsbCBmaWx0ZXJzIG11c3QgZXh0ZW5kIHtAbGluayBQSVhJLkZpbHRlcn0uXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSBhIG5ldyBhcHBsaWNhdGlvblxuICogY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oKTtcbiAqXG4gKiAvLyBEcmF3IGEgZ3JlZW4gcmVjdGFuZ2xlXG4gKiBjb25zdCByZWN0ID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICogICAgIC5iZWdpbkZpbGwoMHgwMGZmMDApXG4gKiAgICAgLmRyYXdSZWN0KDQwLCA0MCwgMjAwLCAyMDApO1xuICpcbiAqIC8vIEFkZCBhIGJsdXIgZmlsdGVyXG4gKiByZWN0LmZpbHRlcnMgPSBbbmV3IFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyKCldO1xuICpcbiAqIC8vIERpc3BsYXkgcmVjdGFuZ2xlXG4gKiBhcHAuc3RhZ2UuYWRkQ2hpbGQocmVjdCk7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFwcC52aWV3KTtcbiAqIEBuYW1lc3BhY2UgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBmaWx0ZXJzID0ge1xuICAgIEFscGhhRmlsdGVyOiBBbHBoYUZpbHRlcixcbiAgICBCbHVyRmlsdGVyOiBCbHVyRmlsdGVyLFxuICAgIEJsdXJGaWx0ZXJQYXNzOiBCbHVyRmlsdGVyUGFzcyxcbiAgICBDb2xvck1hdHJpeEZpbHRlcjogQ29sb3JNYXRyaXhGaWx0ZXIsXG4gICAgRGlzcGxhY2VtZW50RmlsdGVyOiBEaXNwbGFjZW1lbnRGaWx0ZXIsXG4gICAgRlhBQUZpbHRlcjogRlhBQUZpbHRlcixcbiAgICBOb2lzZUZpbHRlcjogTm9pc2VGaWx0ZXIsXG59O1xuXG5leHBvcnQgeyBWRVJTSU9OLCBmaWx0ZXJzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXhpLmpzLm1hcFxuIiwiLyohIGh0dHBzOi8vbXRocy5iZS9wdW55Y29kZSB2MS4zLjIgYnkgQG1hdGhpYXMgKi9cbjsoZnVuY3Rpb24ocm9vdCkge1xuXG5cdC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZXMgKi9cblx0dmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJlxuXHRcdCFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cdHZhciBmcmVlTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiZcblx0XHQhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblx0dmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbDtcblx0aWYgKFxuXHRcdGZyZWVHbG9iYWwuZ2xvYmFsID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC53aW5kb3cgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLnNlbGYgPT09IGZyZWVHbG9iYWxcblx0KSB7XG5cdFx0cm9vdCA9IGZyZWVHbG9iYWw7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIGBwdW55Y29kZWAgb2JqZWN0LlxuXHQgKiBAbmFtZSBwdW55Y29kZVxuXHQgKiBAdHlwZSBPYmplY3Rcblx0ICovXG5cdHZhciBwdW55Y29kZSxcblxuXHQvKiogSGlnaGVzdCBwb3NpdGl2ZSBzaWduZWQgMzItYml0IGZsb2F0IHZhbHVlICovXG5cdG1heEludCA9IDIxNDc0ODM2NDcsIC8vIGFrYS4gMHg3RkZGRkZGRiBvciAyXjMxLTFcblxuXHQvKiogQm9vdHN0cmluZyBwYXJhbWV0ZXJzICovXG5cdGJhc2UgPSAzNixcblx0dE1pbiA9IDEsXG5cdHRNYXggPSAyNixcblx0c2tldyA9IDM4LFxuXHRkYW1wID0gNzAwLFxuXHRpbml0aWFsQmlhcyA9IDcyLFxuXHRpbml0aWFsTiA9IDEyOCwgLy8gMHg4MFxuXHRkZWxpbWl0ZXIgPSAnLScsIC8vICdcXHgyRCdcblxuXHQvKiogUmVndWxhciBleHByZXNzaW9ucyAqL1xuXHRyZWdleFB1bnljb2RlID0gL154bi0tLyxcblx0cmVnZXhOb25BU0NJSSA9IC9bXlxceDIwLVxceDdFXS8sIC8vIHVucHJpbnRhYmxlIEFTQ0lJIGNoYXJzICsgbm9uLUFTQ0lJIGNoYXJzXG5cdHJlZ2V4U2VwYXJhdG9ycyA9IC9bXFx4MkVcXHUzMDAyXFx1RkYwRVxcdUZGNjFdL2csIC8vIFJGQyAzNDkwIHNlcGFyYXRvcnNcblxuXHQvKiogRXJyb3IgbWVzc2FnZXMgKi9cblx0ZXJyb3JzID0ge1xuXHRcdCdvdmVyZmxvdyc6ICdPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2VzcycsXG5cdFx0J25vdC1iYXNpYyc6ICdJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpJyxcblx0XHQnaW52YWxpZC1pbnB1dCc6ICdJbnZhbGlkIGlucHV0J1xuXHR9LFxuXG5cdC8qKiBDb252ZW5pZW5jZSBzaG9ydGN1dHMgKi9cblx0YmFzZU1pbnVzVE1pbiA9IGJhc2UgLSB0TWluLFxuXHRmbG9vciA9IE1hdGguZmxvb3IsXG5cdHN0cmluZ0Zyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUsXG5cblx0LyoqIFRlbXBvcmFyeSB2YXJpYWJsZSAqL1xuXHRrZXk7XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJpYyBlcnJvciB1dGlsaXR5IGZ1bmN0aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgZXJyb3IgdHlwZS5cblx0ICogQHJldHVybnMge0Vycm9yfSBUaHJvd3MgYSBgUmFuZ2VFcnJvcmAgd2l0aCB0aGUgYXBwbGljYWJsZSBlcnJvciBtZXNzYWdlLlxuXHQgKi9cblx0ZnVuY3Rpb24gZXJyb3IodHlwZSkge1xuXHRcdHRocm93IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgYEFycmF5I21hcGAgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5IGFycmF5XG5cdCAqIGl0ZW0uXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgYXJyYXkgb2YgdmFsdWVzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHtcblx0XHR2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXHRcdHZhciByZXN1bHQgPSBbXTtcblx0XHR3aGlsZSAobGVuZ3RoLS0pIHtcblx0XHRcdHJlc3VsdFtsZW5ndGhdID0gZm4oYXJyYXlbbGVuZ3RoXSk7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHQvKipcblx0ICogQSBzaW1wbGUgYEFycmF5I21hcGAtbGlrZSB3cmFwcGVyIHRvIHdvcmsgd2l0aCBkb21haW4gbmFtZSBzdHJpbmdzIG9yIGVtYWlsXG5cdCAqIGFkZHJlc3Nlcy5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcy5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5XG5cdCAqIGNoYXJhY3Rlci5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBzdHJpbmcgb2YgY2hhcmFjdGVycyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2tcblx0ICogZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXBEb21haW4oc3RyaW5nLCBmbikge1xuXHRcdHZhciBwYXJ0cyA9IHN0cmluZy5zcGxpdCgnQCcpO1xuXHRcdHZhciByZXN1bHQgPSAnJztcblx0XHRpZiAocGFydHMubGVuZ3RoID4gMSkge1xuXHRcdFx0Ly8gSW4gZW1haWwgYWRkcmVzc2VzLCBvbmx5IHRoZSBkb21haW4gbmFtZSBzaG91bGQgYmUgcHVueWNvZGVkLiBMZWF2ZVxuXHRcdFx0Ly8gdGhlIGxvY2FsIHBhcnQgKGkuZS4gZXZlcnl0aGluZyB1cCB0byBgQGApIGludGFjdC5cblx0XHRcdHJlc3VsdCA9IHBhcnRzWzBdICsgJ0AnO1xuXHRcdFx0c3RyaW5nID0gcGFydHNbMV07XG5cdFx0fVxuXHRcdC8vIEF2b2lkIGBzcGxpdChyZWdleClgIGZvciBJRTggY29tcGF0aWJpbGl0eS4gU2VlICMxNy5cblx0XHRzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleFNlcGFyYXRvcnMsICdcXHgyRScpO1xuXHRcdHZhciBsYWJlbHMgPSBzdHJpbmcuc3BsaXQoJy4nKTtcblx0XHR2YXIgZW5jb2RlZCA9IG1hcChsYWJlbHMsIGZuKS5qb2luKCcuJyk7XG5cdFx0cmV0dXJuIHJlc3VsdCArIGVuY29kZWQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBudW1lcmljIGNvZGUgcG9pbnRzIG9mIGVhY2ggVW5pY29kZVxuXHQgKiBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZy4gV2hpbGUgSmF2YVNjcmlwdCB1c2VzIFVDUy0yIGludGVybmFsbHksXG5cdCAqIHRoaXMgZnVuY3Rpb24gd2lsbCBjb252ZXJ0IGEgcGFpciBvZiBzdXJyb2dhdGUgaGFsdmVzIChlYWNoIG9mIHdoaWNoXG5cdCAqIFVDUy0yIGV4cG9zZXMgYXMgc2VwYXJhdGUgY2hhcmFjdGVycykgaW50byBhIHNpbmdsZSBjb2RlIHBvaW50LFxuXHQgKiBtYXRjaGluZyBVVEYtMTYuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZW5jb2RlYFxuXHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZGVjb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgVGhlIFVuaWNvZGUgaW5wdXQgc3RyaW5nIChVQ1MtMikuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gVGhlIG5ldyBhcnJheSBvZiBjb2RlIHBvaW50cy5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJkZWNvZGUoc3RyaW5nKSB7XG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBjb3VudGVyID0gMCxcblx0XHQgICAgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcblx0XHQgICAgdmFsdWUsXG5cdFx0ICAgIGV4dHJhO1xuXHRcdHdoaWxlIChjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHR2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRpZiAodmFsdWUgPj0gMHhEODAwICYmIHZhbHVlIDw9IDB4REJGRiAmJiBjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHRcdC8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlclxuXHRcdFx0XHRleHRyYSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRcdGlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgeyAvLyBsb3cgc3Vycm9nYXRlXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goKCh2YWx1ZSAmIDB4M0ZGKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNGRikgKyAweDEwMDAwKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dFxuXHRcdFx0XHRcdC8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpclxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdFx0XHRjb3VudGVyLS07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgc3RyaW5nIGJhc2VkIG9uIGFuIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYFxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBlbmNvZGVcblx0ICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIG5ldyBVbmljb2RlIHN0cmluZyAoVUNTLTIpLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkge1xuXHRcdHJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHR2YXIgb3V0cHV0ID0gJyc7XG5cdFx0XHRpZiAodmFsdWUgPiAweEZGRkYpIHtcblx0XHRcdFx0dmFsdWUgLT0gMHgxMDAwMDtcblx0XHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7XG5cdFx0XHRcdHZhbHVlID0gMHhEQzAwIHwgdmFsdWUgJiAweDNGRjtcblx0XHRcdH1cblx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUpO1xuXHRcdFx0cmV0dXJuIG91dHB1dDtcblx0XHR9KS5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGJhc2ljIGNvZGUgcG9pbnQgaW50byBhIGRpZ2l0L2ludGVnZXIuXG5cdCAqIEBzZWUgYGRpZ2l0VG9CYXNpYygpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gY29kZVBvaW50IFRoZSBiYXNpYyBudW1lcmljIGNvZGUgcG9pbnQgdmFsdWUuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludCAoZm9yIHVzZSBpblxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGluIHRoZSByYW5nZSBgMGAgdG8gYGJhc2UgLSAxYCwgb3IgYGJhc2VgIGlmXG5cdCAqIHRoZSBjb2RlIHBvaW50IGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbHVlLlxuXHQgKi9cblx0ZnVuY3Rpb24gYmFzaWNUb0RpZ2l0KGNvZGVQb2ludCkge1xuXHRcdGlmIChjb2RlUG9pbnQgLSA0OCA8IDEwKSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gMjI7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA2NSA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gNjU7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA5NyA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gOTc7XG5cdFx0fVxuXHRcdHJldHVybiBiYXNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgZGlnaXQvaW50ZWdlciBpbnRvIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHNlZSBgYmFzaWNUb0RpZ2l0KClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBkaWdpdCBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBiYXNpYyBjb2RlIHBvaW50IHdob3NlIHZhbHVlICh3aGVuIHVzZWQgZm9yXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlXG5cdCAqIGAwYCB0byBgYmFzZSAtIDFgLiBJZiBgZmxhZ2AgaXMgbm9uLXplcm8sIHRoZSB1cHBlcmNhc2UgZm9ybSBpc1xuXHQgKiB1c2VkOyBlbHNlLCB0aGUgbG93ZXJjYXNlIGZvcm0gaXMgdXNlZC4gVGhlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZFxuXHQgKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGlnaXRUb0Jhc2ljKGRpZ2l0LCBmbGFnKSB7XG5cdFx0Ly8gIDAuLjI1IG1hcCB0byBBU0NJSSBhLi56IG9yIEEuLlpcblx0XHQvLyAyNi4uMzUgbWFwIHRvIEFTQ0lJIDAuLjlcblx0XHRyZXR1cm4gZGlnaXQgKyAyMiArIDc1ICogKGRpZ2l0IDwgMjYpIC0gKChmbGFnICE9IDApIDw8IDUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEJpYXMgYWRhcHRhdGlvbiBmdW5jdGlvbiBhcyBwZXIgc2VjdGlvbiAzLjQgb2YgUkZDIDM0OTIuXG5cdCAqIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0OTIjc2VjdGlvbi0zLjRcblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIGFkYXB0KGRlbHRhLCBudW1Qb2ludHMsIGZpcnN0VGltZSkge1xuXHRcdHZhciBrID0gMDtcblx0XHRkZWx0YSA9IGZpcnN0VGltZSA/IGZsb29yKGRlbHRhIC8gZGFtcCkgOiBkZWx0YSA+PiAxO1xuXHRcdGRlbHRhICs9IGZsb29yKGRlbHRhIC8gbnVtUG9pbnRzKTtcblx0XHRmb3IgKC8qIG5vIGluaXRpYWxpemF0aW9uICovOyBkZWx0YSA+IGJhc2VNaW51c1RNaW4gKiB0TWF4ID4+IDE7IGsgKz0gYmFzZSkge1xuXHRcdFx0ZGVsdGEgPSBmbG9vcihkZWx0YSAvIGJhc2VNaW51c1RNaW4pO1xuXHRcdH1cblx0XHRyZXR1cm4gZmxvb3IoayArIChiYXNlTWludXNUTWluICsgMSkgKiBkZWx0YSAvIChkZWx0YSArIHNrZXcpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMgdG8gYSBzdHJpbmcgb2YgVW5pY29kZVxuXHQgKiBzeW1ib2xzLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBkZWNvZGUoaW5wdXQpIHtcblx0XHQvLyBEb24ndCB1c2UgVUNTLTJcblx0XHR2YXIgb3V0cHV0ID0gW10sXG5cdFx0ICAgIGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoLFxuXHRcdCAgICBvdXQsXG5cdFx0ICAgIGkgPSAwLFxuXHRcdCAgICBuID0gaW5pdGlhbE4sXG5cdFx0ICAgIGJpYXMgPSBpbml0aWFsQmlhcyxcblx0XHQgICAgYmFzaWMsXG5cdFx0ICAgIGosXG5cdFx0ICAgIGluZGV4LFxuXHRcdCAgICBvbGRpLFxuXHRcdCAgICB3LFxuXHRcdCAgICBrLFxuXHRcdCAgICBkaWdpdCxcblx0XHQgICAgdCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGJhc2VNaW51c1Q7XG5cblx0XHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzOiBsZXQgYGJhc2ljYCBiZSB0aGUgbnVtYmVyIG9mIGlucHV0IGNvZGVcblx0XHQvLyBwb2ludHMgYmVmb3JlIHRoZSBsYXN0IGRlbGltaXRlciwgb3IgYDBgIGlmIHRoZXJlIGlzIG5vbmUsIHRoZW4gY29weVxuXHRcdC8vIHRoZSBmaXJzdCBiYXNpYyBjb2RlIHBvaW50cyB0byB0aGUgb3V0cHV0LlxuXG5cdFx0YmFzaWMgPSBpbnB1dC5sYXN0SW5kZXhPZihkZWxpbWl0ZXIpO1xuXHRcdGlmIChiYXNpYyA8IDApIHtcblx0XHRcdGJhc2ljID0gMDtcblx0XHR9XG5cblx0XHRmb3IgKGogPSAwOyBqIDwgYmFzaWM7ICsraikge1xuXHRcdFx0Ly8gaWYgaXQncyBub3QgYSBiYXNpYyBjb2RlIHBvaW50XG5cdFx0XHRpZiAoaW5wdXQuY2hhckNvZGVBdChqKSA+PSAweDgwKSB7XG5cdFx0XHRcdGVycm9yKCdub3QtYmFzaWMnKTtcblx0XHRcdH1cblx0XHRcdG91dHB1dC5wdXNoKGlucHV0LmNoYXJDb2RlQXQoaikpO1xuXHRcdH1cblxuXHRcdC8vIE1haW4gZGVjb2RpbmcgbG9vcDogc3RhcnQganVzdCBhZnRlciB0aGUgbGFzdCBkZWxpbWl0ZXIgaWYgYW55IGJhc2ljIGNvZGVcblx0XHQvLyBwb2ludHMgd2VyZSBjb3BpZWQ7IHN0YXJ0IGF0IHRoZSBiZWdpbm5pbmcgb3RoZXJ3aXNlLlxuXG5cdFx0Zm9yIChpbmRleCA9IGJhc2ljID4gMCA/IGJhc2ljICsgMSA6IDA7IGluZGV4IDwgaW5wdXRMZW5ndGg7IC8qIG5vIGZpbmFsIGV4cHJlc3Npb24gKi8pIHtcblxuXHRcdFx0Ly8gYGluZGV4YCBpcyB0aGUgaW5kZXggb2YgdGhlIG5leHQgY2hhcmFjdGVyIHRvIGJlIGNvbnN1bWVkLlxuXHRcdFx0Ly8gRGVjb2RlIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXIgaW50byBgZGVsdGFgLFxuXHRcdFx0Ly8gd2hpY2ggZ2V0cyBhZGRlZCB0byBgaWAuIFRoZSBvdmVyZmxvdyBjaGVja2luZyBpcyBlYXNpZXJcblx0XHRcdC8vIGlmIHdlIGluY3JlYXNlIGBpYCBhcyB3ZSBnbywgdGhlbiBzdWJ0cmFjdCBvZmYgaXRzIHN0YXJ0aW5nXG5cdFx0XHQvLyB2YWx1ZSBhdCB0aGUgZW5kIHRvIG9idGFpbiBgZGVsdGFgLlxuXHRcdFx0Zm9yIChvbGRpID0gaSwgdyA9IDEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkge1xuXG5cdFx0XHRcdGlmIChpbmRleCA+PSBpbnB1dExlbmd0aCkge1xuXHRcdFx0XHRcdGVycm9yKCdpbnZhbGlkLWlucHV0Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkaWdpdCA9IGJhc2ljVG9EaWdpdChpbnB1dC5jaGFyQ29kZUF0KGluZGV4KyspKTtcblxuXHRcdFx0XHRpZiAoZGlnaXQgPj0gYmFzZSB8fCBkaWdpdCA+IGZsb29yKChtYXhJbnQgLSBpKSAvIHcpKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpICs9IGRpZ2l0ICogdztcblx0XHRcdFx0dCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0IDwgdCkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRpZiAodyA+IGZsb29yKG1heEludCAvIGJhc2VNaW51c1QpKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR3ICo9IGJhc2VNaW51c1Q7XG5cblx0XHRcdH1cblxuXHRcdFx0b3V0ID0gb3V0cHV0Lmxlbmd0aCArIDE7XG5cdFx0XHRiaWFzID0gYWRhcHQoaSAtIG9sZGksIG91dCwgb2xkaSA9PSAwKTtcblxuXHRcdFx0Ly8gYGlgIHdhcyBzdXBwb3NlZCB0byB3cmFwIGFyb3VuZCBmcm9tIGBvdXRgIHRvIGAwYCxcblx0XHRcdC8vIGluY3JlbWVudGluZyBgbmAgZWFjaCB0aW1lLCBzbyB3ZSdsbCBmaXggdGhhdCBub3c6XG5cdFx0XHRpZiAoZmxvb3IoaSAvIG91dCkgPiBtYXhJbnQgLSBuKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHRuICs9IGZsb29yKGkgLyBvdXQpO1xuXHRcdFx0aSAlPSBvdXQ7XG5cblx0XHRcdC8vIEluc2VydCBgbmAgYXQgcG9zaXRpb24gYGlgIG9mIHRoZSBvdXRwdXRcblx0XHRcdG91dHB1dC5zcGxpY2UoaSsrLCAwLCBuKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB1Y3MyZW5jb2RlKG91dHB1dCk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzIChlLmcuIGEgZG9tYWluIG5hbWUgbGFiZWwpIHRvIGFcblx0ICogUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZW5jb2RlKGlucHV0KSB7XG5cdFx0dmFyIG4sXG5cdFx0ICAgIGRlbHRhLFxuXHRcdCAgICBoYW5kbGVkQ1BDb3VudCxcblx0XHQgICAgYmFzaWNMZW5ndGgsXG5cdFx0ICAgIGJpYXMsXG5cdFx0ICAgIGosXG5cdFx0ICAgIG0sXG5cdFx0ICAgIHEsXG5cdFx0ICAgIGssXG5cdFx0ICAgIHQsXG5cdFx0ICAgIGN1cnJlbnRWYWx1ZSxcblx0XHQgICAgb3V0cHV0ID0gW10sXG5cdFx0ICAgIC8qKiBgaW5wdXRMZW5ndGhgIHdpbGwgaG9sZCB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIGluIGBpbnB1dGAuICovXG5cdFx0ICAgIGlucHV0TGVuZ3RoLFxuXHRcdCAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi9cblx0XHQgICAgaGFuZGxlZENQQ291bnRQbHVzT25lLFxuXHRcdCAgICBiYXNlTWludXNULFxuXHRcdCAgICBxTWludXNUO1xuXG5cdFx0Ly8gQ29udmVydCB0aGUgaW5wdXQgaW4gVUNTLTIgdG8gVW5pY29kZVxuXHRcdGlucHV0ID0gdWNzMmRlY29kZShpbnB1dCk7XG5cblx0XHQvLyBDYWNoZSB0aGUgbGVuZ3RoXG5cdFx0aW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGg7XG5cblx0XHQvLyBJbml0aWFsaXplIHRoZSBzdGF0ZVxuXHRcdG4gPSBpbml0aWFsTjtcblx0XHRkZWx0YSA9IDA7XG5cdFx0YmlhcyA9IGluaXRpYWxCaWFzO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50c1xuXHRcdGZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdGlmIChjdXJyZW50VmFsdWUgPCAweDgwKSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShjdXJyZW50VmFsdWUpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRoYW5kbGVkQ1BDb3VudCA9IGJhc2ljTGVuZ3RoID0gb3V0cHV0Lmxlbmd0aDtcblxuXHRcdC8vIGBoYW5kbGVkQ1BDb3VudGAgaXMgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyB0aGF0IGhhdmUgYmVlbiBoYW5kbGVkO1xuXHRcdC8vIGBiYXNpY0xlbmd0aGAgaXMgdGhlIG51bWJlciBvZiBiYXNpYyBjb2RlIHBvaW50cy5cblxuXHRcdC8vIEZpbmlzaCB0aGUgYmFzaWMgc3RyaW5nIC0gaWYgaXQgaXMgbm90IGVtcHR5IC0gd2l0aCBhIGRlbGltaXRlclxuXHRcdGlmIChiYXNpY0xlbmd0aCkge1xuXHRcdFx0b3V0cHV0LnB1c2goZGVsaW1pdGVyKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGVuY29kaW5nIGxvb3A6XG5cdFx0d2hpbGUgKGhhbmRsZWRDUENvdW50IDwgaW5wdXRMZW5ndGgpIHtcblxuXHRcdFx0Ly8gQWxsIG5vbi1iYXNpYyBjb2RlIHBvaW50cyA8IG4gaGF2ZSBiZWVuIGhhbmRsZWQgYWxyZWFkeS4gRmluZCB0aGUgbmV4dFxuXHRcdFx0Ly8gbGFyZ2VyIG9uZTpcblx0XHRcdGZvciAobSA9IG1heEludCwgaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID49IG4gJiYgY3VycmVudFZhbHVlIDwgbSkge1xuXHRcdFx0XHRcdG0gPSBjdXJyZW50VmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gSW5jcmVhc2UgYGRlbHRhYCBlbm91Z2ggdG8gYWR2YW5jZSB0aGUgZGVjb2RlcidzIDxuLGk+IHN0YXRlIHRvIDxtLDA+LFxuXHRcdFx0Ly8gYnV0IGd1YXJkIGFnYWluc3Qgb3ZlcmZsb3dcblx0XHRcdGhhbmRsZWRDUENvdW50UGx1c09uZSA9IGhhbmRsZWRDUENvdW50ICsgMTtcblx0XHRcdGlmIChtIC0gbiA+IGZsb29yKChtYXhJbnQgLSBkZWx0YSkgLyBoYW5kbGVkQ1BDb3VudFBsdXNPbmUpKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWx0YSArPSAobSAtIG4pICogaGFuZGxlZENQQ291bnRQbHVzT25lO1xuXHRcdFx0biA9IG07XG5cblx0XHRcdGZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPCBuICYmICsrZGVsdGEgPiBtYXhJbnQpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPT0gbikge1xuXHRcdFx0XHRcdC8vIFJlcHJlc2VudCBkZWx0YSBhcyBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyXG5cdFx0XHRcdFx0Zm9yIChxID0gZGVsdGEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkge1xuXHRcdFx0XHRcdFx0dCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7XG5cdFx0XHRcdFx0XHRpZiAocSA8IHQpIHtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRxTWludXNUID0gcSAtIHQ7XG5cdFx0XHRcdFx0XHRiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRcdFx0XHRvdXRwdXQucHVzaChcblx0XHRcdFx0XHRcdFx0c3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyh0ICsgcU1pbnVzVCAlIGJhc2VNaW51c1QsIDApKVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdHEgPSBmbG9vcihxTWludXNUIC8gYmFzZU1pbnVzVCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyhxLCAwKSkpO1xuXHRcdFx0XHRcdGJpYXMgPSBhZGFwdChkZWx0YSwgaGFuZGxlZENQQ291bnRQbHVzT25lLCBoYW5kbGVkQ1BDb3VudCA9PSBiYXNpY0xlbmd0aCk7XG5cdFx0XHRcdFx0ZGVsdGEgPSAwO1xuXHRcdFx0XHRcdCsraGFuZGxlZENQQ291bnQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0KytkZWx0YTtcblx0XHRcdCsrbjtcblxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0LmpvaW4oJycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3Ncblx0ICogdG8gVW5pY29kZS4gT25seSB0aGUgUHVueWNvZGVkIHBhcnRzIG9mIHRoZSBpbnB1dCB3aWxsIGJlIGNvbnZlcnRlZCwgaS5lLlxuXHQgKiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCBvbiBhIHN0cmluZyB0aGF0IGhhcyBhbHJlYWR5IGJlZW5cblx0ICogY29udmVydGVkIHRvIFVuaWNvZGUuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlZCBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIGNvbnZlcnQgdG8gVW5pY29kZS5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFVuaWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIFB1bnljb2RlXG5cdCAqIHN0cmluZy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvVW5pY29kZShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4UHVueWNvZGUudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gZGVjb2RlKHN0cmluZy5zbGljZSg0KS50b0xvd2VyQ2FzZSgpKVxuXHRcdFx0XHQ6IHN0cmluZztcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFVuaWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MgdG9cblx0ICogUHVueWNvZGUuIE9ubHkgdGhlIG5vbi1BU0NJSSBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgd2lsbCBiZSBjb252ZXJ0ZWQsXG5cdCAqIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0J3MgYWxyZWFkeSBpblxuXHQgKiBBU0NJSS5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0byBjb252ZXJ0LCBhcyBhXG5cdCAqIFVuaWNvZGUgc3RyaW5nLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgUHVueWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIGRvbWFpbiBuYW1lIG9yXG5cdCAqIGVtYWlsIGFkZHJlc3MuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b0FTQ0lJKGlucHV0KSB7XG5cdFx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gcmVnZXhOb25BU0NJSS50ZXN0KHN0cmluZylcblx0XHRcdFx0PyAneG4tLScgKyBlbmNvZGUoc3RyaW5nKVxuXHRcdFx0XHQ6IHN0cmluZztcblx0XHR9KTtcblx0fVxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKiBEZWZpbmUgdGhlIHB1YmxpYyBBUEkgKi9cblx0cHVueWNvZGUgPSB7XG5cdFx0LyoqXG5cdFx0ICogQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IFB1bnljb2RlLmpzIHZlcnNpb24gbnVtYmVyLlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIFN0cmluZ1xuXHRcdCAqL1xuXHRcdCd2ZXJzaW9uJzogJzEuMy4yJyxcblx0XHQvKipcblx0XHQgKiBBbiBvYmplY3Qgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGZyb20gSmF2YVNjcmlwdCdzIGludGVybmFsIGNoYXJhY3RlclxuXHRcdCAqIHJlcHJlc2VudGF0aW9uIChVQ1MtMikgdG8gVW5pY29kZSBjb2RlIHBvaW50cywgYW5kIGJhY2suXG5cdFx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdFx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdFx0ICogQHR5cGUgT2JqZWN0XG5cdFx0ICovXG5cdFx0J3VjczInOiB7XG5cdFx0XHQnZGVjb2RlJzogdWNzMmRlY29kZSxcblx0XHRcdCdlbmNvZGUnOiB1Y3MyZW5jb2RlXG5cdFx0fSxcblx0XHQnZGVjb2RlJzogZGVjb2RlLFxuXHRcdCdlbmNvZGUnOiBlbmNvZGUsXG5cdFx0J3RvQVNDSUknOiB0b0FTQ0lJLFxuXHRcdCd0b1VuaWNvZGUnOiB0b1VuaWNvZGVcblx0fTtcblxuXHQvKiogRXhwb3NlIGBwdW55Y29kZWAgKi9cblx0Ly8gU29tZSBBTUQgYnVpbGQgb3B0aW1pemVycywgbGlrZSByLmpzLCBjaGVjayBmb3Igc3BlY2lmaWMgY29uZGl0aW9uIHBhdHRlcm5zXG5cdC8vIGxpa2UgdGhlIGZvbGxvd2luZzpcblx0aWYgKFxuXHRcdHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJlxuXHRcdHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmXG5cdFx0ZGVmaW5lLmFtZFxuXHQpIHtcblx0XHRkZWZpbmUoJ3B1bnljb2RlJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gcHVueWNvZGU7XG5cdFx0fSk7XG5cdH0gZWxzZSBpZiAoZnJlZUV4cG9ydHMgJiYgZnJlZU1vZHVsZSkge1xuXHRcdGlmIChtb2R1bGUuZXhwb3J0cyA9PSBmcmVlRXhwb3J0cykgeyAvLyBpbiBOb2RlLmpzIG9yIFJpbmdvSlMgdjAuOC4wK1xuXHRcdFx0ZnJlZU1vZHVsZS5leHBvcnRzID0gcHVueWNvZGU7XG5cdFx0fSBlbHNlIHsgLy8gaW4gTmFyd2hhbCBvciBSaW5nb0pTIHYwLjcuMC1cblx0XHRcdGZvciAoa2V5IGluIHB1bnljb2RlKSB7XG5cdFx0XHRcdHB1bnljb2RlLmhhc093blByb3BlcnR5KGtleSkgJiYgKGZyZWVFeHBvcnRzW2tleV0gPSBwdW55Y29kZVtrZXldKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSB7IC8vIGluIFJoaW5vIG9yIGEgd2ViIGJyb3dzZXJcblx0XHRyb290LnB1bnljb2RlID0gcHVueWNvZGU7XG5cdH1cblxufSh0aGlzKSk7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyBJZiBvYmouaGFzT3duUHJvcGVydHkgaGFzIGJlZW4gb3ZlcnJpZGRlbiwgdGhlbiBjYWxsaW5nXG4vLyBvYmouaGFzT3duUHJvcGVydHkocHJvcCkgd2lsbCBicmVhay5cbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL2lzc3Vlcy8xNzA3XG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHFzLCBzZXAsIGVxLCBvcHRpb25zKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICB2YXIgb2JqID0ge307XG5cbiAgaWYgKHR5cGVvZiBxcyAhPT0gJ3N0cmluZycgfHwgcXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciByZWdleHAgPSAvXFwrL2c7XG4gIHFzID0gcXMuc3BsaXQoc2VwKTtcblxuICB2YXIgbWF4S2V5cyA9IDEwMDA7XG4gIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLm1heEtleXMgPT09ICdudW1iZXInKSB7XG4gICAgbWF4S2V5cyA9IG9wdGlvbnMubWF4S2V5cztcbiAgfVxuXG4gIHZhciBsZW4gPSBxcy5sZW5ndGg7XG4gIC8vIG1heEtleXMgPD0gMCBtZWFucyB0aGF0IHdlIHNob3VsZCBub3QgbGltaXQga2V5cyBjb3VudFxuICBpZiAobWF4S2V5cyA+IDAgJiYgbGVuID4gbWF4S2V5cykge1xuICAgIGxlbiA9IG1heEtleXM7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgdmFyIHggPSBxc1tpXS5yZXBsYWNlKHJlZ2V4cCwgJyUyMCcpLFxuICAgICAgICBpZHggPSB4LmluZGV4T2YoZXEpLFxuICAgICAgICBrc3RyLCB2c3RyLCBrLCB2O1xuXG4gICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICBrc3RyID0geC5zdWJzdHIoMCwgaWR4KTtcbiAgICAgIHZzdHIgPSB4LnN1YnN0cihpZHggKyAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAga3N0ciA9IHg7XG4gICAgICB2c3RyID0gJyc7XG4gICAgfVxuXG4gICAgayA9IGRlY29kZVVSSUNvbXBvbmVudChrc3RyKTtcbiAgICB2ID0gZGVjb2RlVVJJQ29tcG9uZW50KHZzdHIpO1xuXG4gICAgaWYgKCFoYXNPd25Qcm9wZXJ0eShvYmosIGspKSB7XG4gICAgICBvYmpba10gPSB2O1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvYmpba10pKSB7XG4gICAgICBvYmpba10ucHVzaCh2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tdID0gW29ialtrXSwgdl07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn07XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgc3RyaW5naWZ5UHJpbWl0aXZlID0gZnVuY3Rpb24odikge1xuICBzd2l0Y2ggKHR5cGVvZiB2KSB7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIHJldHVybiB2O1xuXG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICByZXR1cm4gdiA/ICd0cnVlJyA6ICdmYWxzZSc7XG5cbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgcmV0dXJuIGlzRmluaXRlKHYpID8gdiA6ICcnO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAnJztcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmosIHNlcCwgZXEsIG5hbWUpIHtcbiAgc2VwID0gc2VwIHx8ICcmJztcbiAgZXEgPSBlcSB8fCAnPSc7XG4gIGlmIChvYmogPT09IG51bGwpIHtcbiAgICBvYmogPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5tYXAoZnVuY3Rpb24oaykge1xuICAgICAgdmFyIGtzID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShrKSkgKyBlcTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG9ialtrXSkpIHtcbiAgICAgICAgcmV0dXJuIG9ialtrXS5tYXAoZnVuY3Rpb24odikge1xuICAgICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUodikpO1xuICAgICAgICB9KS5qb2luKHNlcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9ialtrXSkpO1xuICAgICAgfVxuICAgIH0pLmpvaW4oc2VwKTtcblxuICB9XG5cbiAgaWYgKCFuYW1lKSByZXR1cm4gJyc7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG5hbWUpKSArIGVxICtcbiAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqKSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLmRlY29kZSA9IGV4cG9ydHMucGFyc2UgPSByZXF1aXJlKCcuL2RlY29kZScpO1xuZXhwb3J0cy5lbmNvZGUgPSBleHBvcnRzLnN0cmluZ2lmeSA9IHJlcXVpcmUoJy4vZW5jb2RlJyk7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgcHVueWNvZGUgPSByZXF1aXJlKCdwdW55Y29kZScpO1xudmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuZXhwb3J0cy5wYXJzZSA9IHVybFBhcnNlO1xuZXhwb3J0cy5yZXNvbHZlID0gdXJsUmVzb2x2ZTtcbmV4cG9ydHMucmVzb2x2ZU9iamVjdCA9IHVybFJlc29sdmVPYmplY3Q7XG5leHBvcnRzLmZvcm1hdCA9IHVybEZvcm1hdDtcblxuZXhwb3J0cy5VcmwgPSBVcmw7XG5cbmZ1bmN0aW9uIFVybCgpIHtcbiAgdGhpcy5wcm90b2NvbCA9IG51bGw7XG4gIHRoaXMuc2xhc2hlcyA9IG51bGw7XG4gIHRoaXMuYXV0aCA9IG51bGw7XG4gIHRoaXMuaG9zdCA9IG51bGw7XG4gIHRoaXMucG9ydCA9IG51bGw7XG4gIHRoaXMuaG9zdG5hbWUgPSBudWxsO1xuICB0aGlzLmhhc2ggPSBudWxsO1xuICB0aGlzLnNlYXJjaCA9IG51bGw7XG4gIHRoaXMucXVlcnkgPSBudWxsO1xuICB0aGlzLnBhdGhuYW1lID0gbnVsbDtcbiAgdGhpcy5wYXRoID0gbnVsbDtcbiAgdGhpcy5ocmVmID0gbnVsbDtcbn1cblxuLy8gUmVmZXJlbmNlOiBSRkMgMzk4NiwgUkZDIDE4MDgsIFJGQyAyMzk2XG5cbi8vIGRlZmluZSB0aGVzZSBoZXJlIHNvIGF0IGxlYXN0IHRoZXkgb25seSBoYXZlIHRvIGJlXG4vLyBjb21waWxlZCBvbmNlIG9uIHRoZSBmaXJzdCBtb2R1bGUgbG9hZC5cbnZhciBwcm90b2NvbFBhdHRlcm4gPSAvXihbYS16MC05ListXSs6KS9pLFxuICAgIHBvcnRQYXR0ZXJuID0gLzpbMC05XSokLyxcblxuICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgYSBzaW1wbGUgcGF0aCBVUkxcbiAgICBzaW1wbGVQYXRoUGF0dGVybiA9IC9eKFxcL1xcLz8oPyFcXC8pW15cXD9cXHNdKikoXFw/W15cXHNdKik/JC8sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyByZXNlcnZlZCBmb3IgZGVsaW1pdGluZyBVUkxzLlxuICAgIC8vIFdlIGFjdHVhbGx5IGp1c3QgYXV0by1lc2NhcGUgdGhlc2UuXG4gICAgZGVsaW1zID0gWyc8JywgJz4nLCAnXCInLCAnYCcsICcgJywgJ1xccicsICdcXG4nLCAnXFx0J10sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyBub3QgYWxsb3dlZCBmb3IgdmFyaW91cyByZWFzb25zLlxuICAgIHVud2lzZSA9IFsneycsICd9JywgJ3wnLCAnXFxcXCcsICdeJywgJ2AnXS5jb25jYXQoZGVsaW1zKSxcblxuICAgIC8vIEFsbG93ZWQgYnkgUkZDcywgYnV0IGNhdXNlIG9mIFhTUyBhdHRhY2tzLiAgQWx3YXlzIGVzY2FwZSB0aGVzZS5cbiAgICBhdXRvRXNjYXBlID0gWydcXCcnXS5jb25jYXQodW53aXNlKSxcbiAgICAvLyBDaGFyYWN0ZXJzIHRoYXQgYXJlIG5ldmVyIGV2ZXIgYWxsb3dlZCBpbiBhIGhvc3RuYW1lLlxuICAgIC8vIE5vdGUgdGhhdCBhbnkgaW52YWxpZCBjaGFycyBhcmUgYWxzbyBoYW5kbGVkLCBidXQgdGhlc2VcbiAgICAvLyBhcmUgdGhlIG9uZXMgdGhhdCBhcmUgKmV4cGVjdGVkKiB0byBiZSBzZWVuLCBzbyB3ZSBmYXN0LXBhdGhcbiAgICAvLyB0aGVtLlxuICAgIG5vbkhvc3RDaGFycyA9IFsnJScsICcvJywgJz8nLCAnOycsICcjJ10uY29uY2F0KGF1dG9Fc2NhcGUpLFxuICAgIGhvc3RFbmRpbmdDaGFycyA9IFsnLycsICc/JywgJyMnXSxcbiAgICBob3N0bmFtZU1heExlbiA9IDI1NSxcbiAgICBob3N0bmFtZVBhcnRQYXR0ZXJuID0gL15bK2EtejAtOUEtWl8tXXswLDYzfSQvLFxuICAgIGhvc3RuYW1lUGFydFN0YXJ0ID0gL14oWythLXowLTlBLVpfLV17MCw2M30pKC4qKSQvLFxuICAgIC8vIHByb3RvY29scyB0aGF0IGNhbiBhbGxvdyBcInVuc2FmZVwiIGFuZCBcInVud2lzZVwiIGNoYXJzLlxuICAgIHVuc2FmZVByb3RvY29sID0ge1xuICAgICAgJ2phdmFzY3JpcHQnOiB0cnVlLFxuICAgICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZVxuICAgIH0sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgbmV2ZXIgaGF2ZSBhIGhvc3RuYW1lLlxuICAgIGhvc3RsZXNzUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBhbHdheXMgY29udGFpbiBhIC8vIGJpdC5cbiAgICBzbGFzaGVkUHJvdG9jb2wgPSB7XG4gICAgICAnaHR0cCc6IHRydWUsXG4gICAgICAnaHR0cHMnOiB0cnVlLFxuICAgICAgJ2Z0cCc6IHRydWUsXG4gICAgICAnZ29waGVyJzogdHJ1ZSxcbiAgICAgICdmaWxlJzogdHJ1ZSxcbiAgICAgICdodHRwOic6IHRydWUsXG4gICAgICAnaHR0cHM6JzogdHJ1ZSxcbiAgICAgICdmdHA6JzogdHJ1ZSxcbiAgICAgICdnb3BoZXI6JzogdHJ1ZSxcbiAgICAgICdmaWxlOic6IHRydWVcbiAgICB9LFxuICAgIHF1ZXJ5c3RyaW5nID0gcmVxdWlyZSgncXVlcnlzdHJpbmcnKTtcblxuZnVuY3Rpb24gdXJsUGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAodXJsICYmIHV0aWwuaXNPYmplY3QodXJsKSAmJiB1cmwgaW5zdGFuY2VvZiBVcmwpIHJldHVybiB1cmw7XG5cbiAgdmFyIHUgPSBuZXcgVXJsO1xuICB1LnBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpO1xuICByZXR1cm4gdTtcbn1cblxuVXJsLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKCF1dGlsLmlzU3RyaW5nKHVybCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUGFyYW1ldGVyICd1cmwnIG11c3QgYmUgYSBzdHJpbmcsIG5vdCBcIiArIHR5cGVvZiB1cmwpO1xuICB9XG5cbiAgLy8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuXG4gIC8vIEJhY2sgc2xhc2hlcyBiZWZvcmUgdGhlIHF1ZXJ5IHN0cmluZyBnZXQgY29udmVydGVkIHRvIGZvcndhcmQgc2xhc2hlc1xuICAvLyBTZWU6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yNTkxNlxuICB2YXIgcXVlcnlJbmRleCA9IHVybC5pbmRleE9mKCc/JyksXG4gICAgICBzcGxpdHRlciA9XG4gICAgICAgICAgKHF1ZXJ5SW5kZXggIT09IC0xICYmIHF1ZXJ5SW5kZXggPCB1cmwuaW5kZXhPZignIycpKSA/ICc/JyA6ICcjJyxcbiAgICAgIHVTcGxpdCA9IHVybC5zcGxpdChzcGxpdHRlciksXG4gICAgICBzbGFzaFJlZ2V4ID0gL1xcXFwvZztcbiAgdVNwbGl0WzBdID0gdVNwbGl0WzBdLnJlcGxhY2Uoc2xhc2hSZWdleCwgJy8nKTtcbiAgdXJsID0gdVNwbGl0LmpvaW4oc3BsaXR0ZXIpO1xuXG4gIHZhciByZXN0ID0gdXJsO1xuXG4gIC8vIHRyaW0gYmVmb3JlIHByb2NlZWRpbmcuXG4gIC8vIFRoaXMgaXMgdG8gc3VwcG9ydCBwYXJzZSBzdHVmZiBsaWtlIFwiICBodHRwOi8vZm9vLmNvbSAgXFxuXCJcbiAgcmVzdCA9IHJlc3QudHJpbSgpO1xuXG4gIGlmICghc2xhc2hlc0Rlbm90ZUhvc3QgJiYgdXJsLnNwbGl0KCcjJykubGVuZ3RoID09PSAxKSB7XG4gICAgLy8gVHJ5IGZhc3QgcGF0aCByZWdleHBcbiAgICB2YXIgc2ltcGxlUGF0aCA9IHNpbXBsZVBhdGhQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gICAgaWYgKHNpbXBsZVBhdGgpIHtcbiAgICAgIHRoaXMucGF0aCA9IHJlc3Q7XG4gICAgICB0aGlzLmhyZWYgPSByZXN0O1xuICAgICAgdGhpcy5wYXRobmFtZSA9IHNpbXBsZVBhdGhbMV07XG4gICAgICBpZiAoc2ltcGxlUGF0aFsyXSkge1xuICAgICAgICB0aGlzLnNlYXJjaCA9IHNpbXBsZVBhdGhbMl07XG4gICAgICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMuc2VhcmNoLnN1YnN0cigxKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHRoaXMuc2VhcmNoLnN1YnN0cigxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwcm90byA9IHByb3RvY29sUGF0dGVybi5leGVjKHJlc3QpO1xuICBpZiAocHJvdG8pIHtcbiAgICBwcm90byA9IHByb3RvWzBdO1xuICAgIHZhciBsb3dlclByb3RvID0gcHJvdG8udG9Mb3dlckNhc2UoKTtcbiAgICB0aGlzLnByb3RvY29sID0gbG93ZXJQcm90bztcbiAgICByZXN0ID0gcmVzdC5zdWJzdHIocHJvdG8ubGVuZ3RoKTtcbiAgfVxuXG4gIC8vIGZpZ3VyZSBvdXQgaWYgaXQncyBnb3QgYSBob3N0XG4gIC8vIHVzZXJAc2VydmVyIGlzICphbHdheXMqIGludGVycHJldGVkIGFzIGEgaG9zdG5hbWUsIGFuZCB1cmxcbiAgLy8gcmVzb2x1dGlvbiB3aWxsIHRyZWF0IC8vZm9vL2JhciBhcyBob3N0PWZvbyxwYXRoPWJhciBiZWNhdXNlIHRoYXQnc1xuICAvLyBob3cgdGhlIGJyb3dzZXIgcmVzb2x2ZXMgcmVsYXRpdmUgVVJMcy5cbiAgaWYgKHNsYXNoZXNEZW5vdGVIb3N0IHx8IHByb3RvIHx8IHJlc3QubWF0Y2goL15cXC9cXC9bXkBcXC9dK0BbXkBcXC9dKy8pKSB7XG4gICAgdmFyIHNsYXNoZXMgPSByZXN0LnN1YnN0cigwLCAyKSA9PT0gJy8vJztcbiAgICBpZiAoc2xhc2hlcyAmJiAhKHByb3RvICYmIGhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dKSkge1xuICAgICAgcmVzdCA9IHJlc3Quc3Vic3RyKDIpO1xuICAgICAgdGhpcy5zbGFzaGVzID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dICYmXG4gICAgICAoc2xhc2hlcyB8fCAocHJvdG8gJiYgIXNsYXNoZWRQcm90b2NvbFtwcm90b10pKSkge1xuXG4gICAgLy8gdGhlcmUncyBhIGhvc3RuYW1lLlxuICAgIC8vIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiAvLCA/LCA7LCBvciAjIGVuZHMgdGhlIGhvc3QuXG4gICAgLy9cbiAgICAvLyBJZiB0aGVyZSBpcyBhbiBAIGluIHRoZSBob3N0bmFtZSwgdGhlbiBub24taG9zdCBjaGFycyAqYXJlKiBhbGxvd2VkXG4gICAgLy8gdG8gdGhlIGxlZnQgb2YgdGhlIGxhc3QgQCBzaWduLCB1bmxlc3Mgc29tZSBob3N0LWVuZGluZyBjaGFyYWN0ZXJcbiAgICAvLyBjb21lcyAqYmVmb3JlKiB0aGUgQC1zaWduLlxuICAgIC8vIFVSTHMgYXJlIG9ibm94aW91cy5cbiAgICAvL1xuICAgIC8vIGV4OlxuICAgIC8vIGh0dHA6Ly9hQGJAYy8gPT4gdXNlcjphQGIgaG9zdDpjXG4gICAgLy8gaHR0cDovL2FAYj9AYyA9PiB1c2VyOmEgaG9zdDpjIHBhdGg6Lz9AY1xuXG4gICAgLy8gdjAuMTIgVE9ETyhpc2FhY3MpOiBUaGlzIGlzIG5vdCBxdWl0ZSBob3cgQ2hyb21lIGRvZXMgdGhpbmdzLlxuICAgIC8vIFJldmlldyBvdXIgdGVzdCBjYXNlIGFnYWluc3QgYnJvd3NlcnMgbW9yZSBjb21wcmVoZW5zaXZlbHkuXG5cbiAgICAvLyBmaW5kIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiBhbnkgaG9zdEVuZGluZ0NoYXJzXG4gICAgdmFyIGhvc3RFbmQgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvc3RFbmRpbmdDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGhlYyA9IHJlc3QuaW5kZXhPZihob3N0RW5kaW5nQ2hhcnNbaV0pO1xuICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKVxuICAgICAgICBob3N0RW5kID0gaGVjO1xuICAgIH1cblxuICAgIC8vIGF0IHRoaXMgcG9pbnQsIGVpdGhlciB3ZSBoYXZlIGFuIGV4cGxpY2l0IHBvaW50IHdoZXJlIHRoZVxuICAgIC8vIGF1dGggcG9ydGlvbiBjYW5ub3QgZ28gcGFzdCwgb3IgdGhlIGxhc3QgQCBjaGFyIGlzIHRoZSBkZWNpZGVyLlxuICAgIHZhciBhdXRoLCBhdFNpZ247XG4gICAgaWYgKGhvc3RFbmQgPT09IC0xKSB7XG4gICAgICAvLyBhdFNpZ24gY2FuIGJlIGFueXdoZXJlLlxuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhdFNpZ24gbXVzdCBiZSBpbiBhdXRoIHBvcnRpb24uXG4gICAgICAvLyBodHRwOi8vYUBiL2NAZCA9PiBob3N0OmIgYXV0aDphIHBhdGg6L2NAZFxuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcsIGhvc3RFbmQpO1xuICAgIH1cblxuICAgIC8vIE5vdyB3ZSBoYXZlIGEgcG9ydGlvbiB3aGljaCBpcyBkZWZpbml0ZWx5IHRoZSBhdXRoLlxuICAgIC8vIFB1bGwgdGhhdCBvZmYuXG4gICAgaWYgKGF0U2lnbiAhPT0gLTEpIHtcbiAgICAgIGF1dGggPSByZXN0LnNsaWNlKDAsIGF0U2lnbik7XG4gICAgICByZXN0ID0gcmVzdC5zbGljZShhdFNpZ24gKyAxKTtcbiAgICAgIHRoaXMuYXV0aCA9IGRlY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICB9XG5cbiAgICAvLyB0aGUgaG9zdCBpcyB0aGUgcmVtYWluaW5nIHRvIHRoZSBsZWZ0IG9mIHRoZSBmaXJzdCBub24taG9zdCBjaGFyXG4gICAgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9uSG9zdENoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKG5vbkhvc3RDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuICAgIC8vIGlmIHdlIHN0aWxsIGhhdmUgbm90IGhpdCBpdCwgdGhlbiB0aGUgZW50aXJlIHRoaW5nIGlzIGEgaG9zdC5cbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpXG4gICAgICBob3N0RW5kID0gcmVzdC5sZW5ndGg7XG5cbiAgICB0aGlzLmhvc3QgPSByZXN0LnNsaWNlKDAsIGhvc3RFbmQpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKGhvc3RFbmQpO1xuXG4gICAgLy8gcHVsbCBvdXQgcG9ydC5cbiAgICB0aGlzLnBhcnNlSG9zdCgpO1xuXG4gICAgLy8gd2UndmUgaW5kaWNhdGVkIHRoYXQgdGhlcmUgaXMgYSBob3N0bmFtZSxcbiAgICAvLyBzbyBldmVuIGlmIGl0J3MgZW1wdHksIGl0IGhhcyB0byBiZSBwcmVzZW50LlxuICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuXG4gICAgLy8gaWYgaG9zdG5hbWUgYmVnaW5zIHdpdGggWyBhbmQgZW5kcyB3aXRoIF1cbiAgICAvLyBhc3N1bWUgdGhhdCBpdCdzIGFuIElQdjYgYWRkcmVzcy5cbiAgICB2YXIgaXB2Nkhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZVswXSA9PT0gJ1snICYmXG4gICAgICAgIHRoaXMuaG9zdG5hbWVbdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAxXSA9PT0gJ10nO1xuXG4gICAgLy8gdmFsaWRhdGUgYSBsaXR0bGUuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHZhciBob3N0cGFydHMgPSB0aGlzLmhvc3RuYW1lLnNwbGl0KC9cXC4vKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gaG9zdHBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIgcGFydCA9IGhvc3RwYXJ0c1tpXTtcbiAgICAgICAgaWYgKCFwYXJ0KSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFBhdHRlcm4pKSB7XG4gICAgICAgICAgdmFyIG5ld3BhcnQgPSAnJztcbiAgICAgICAgICBmb3IgKHZhciBqID0gMCwgayA9IHBhcnQubGVuZ3RoOyBqIDwgazsgaisrKSB7XG4gICAgICAgICAgICBpZiAocGFydC5jaGFyQ29kZUF0KGopID4gMTI3KSB7XG4gICAgICAgICAgICAgIC8vIHdlIHJlcGxhY2Ugbm9uLUFTQ0lJIGNoYXIgd2l0aCBhIHRlbXBvcmFyeSBwbGFjZWhvbGRlclxuICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRoaXMgdG8gbWFrZSBzdXJlIHNpemUgb2YgaG9zdG5hbWUgaXMgbm90XG4gICAgICAgICAgICAgIC8vIGJyb2tlbiBieSByZXBsYWNpbmcgbm9uLUFTQ0lJIGJ5IG5vdGhpbmdcbiAgICAgICAgICAgICAgbmV3cGFydCArPSAneCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9IHBhcnRbal07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHdlIHRlc3QgYWdhaW4gd2l0aCBBU0NJSSBjaGFyIG9ubHlcbiAgICAgICAgICBpZiAoIW5ld3BhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICAgIHZhciB2YWxpZFBhcnRzID0gaG9zdHBhcnRzLnNsaWNlKDAsIGkpO1xuICAgICAgICAgICAgdmFyIG5vdEhvc3QgPSBob3N0cGFydHMuc2xpY2UoaSArIDEpO1xuICAgICAgICAgICAgdmFyIGJpdCA9IHBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0U3RhcnQpO1xuICAgICAgICAgICAgaWYgKGJpdCkge1xuICAgICAgICAgICAgICB2YWxpZFBhcnRzLnB1c2goYml0WzFdKTtcbiAgICAgICAgICAgICAgbm90SG9zdC51bnNoaWZ0KGJpdFsyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm90SG9zdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcmVzdCA9ICcvJyArIG5vdEhvc3Quam9pbignLicpICsgcmVzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaG9zdG5hbWUgPSB2YWxpZFBhcnRzLmpvaW4oJy4nKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmhvc3RuYW1lLmxlbmd0aCA+IGhvc3RuYW1lTWF4TGVuKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGhvc3RuYW1lcyBhcmUgYWx3YXlzIGxvd2VyIGNhc2UuXG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7XG4gICAgICAvLyBJRE5BIFN1cHBvcnQ6IFJldHVybnMgYSBwdW55Y29kZWQgcmVwcmVzZW50YXRpb24gb2YgXCJkb21haW5cIi5cbiAgICAgIC8vIEl0IG9ubHkgY29udmVydHMgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHRoYXRcbiAgICAgIC8vIGhhdmUgbm9uLUFTQ0lJIGNoYXJhY3RlcnMsIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWZcbiAgICAgIC8vIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCBhbHJlYWR5IGlzIEFTQ0lJLW9ubHkuXG4gICAgICB0aGlzLmhvc3RuYW1lID0gcHVueWNvZGUudG9BU0NJSSh0aGlzLmhvc3RuYW1lKTtcbiAgICB9XG5cbiAgICB2YXIgcCA9IHRoaXMucG9ydCA/ICc6JyArIHRoaXMucG9ydCA6ICcnO1xuICAgIHZhciBoID0gdGhpcy5ob3N0bmFtZSB8fCAnJztcbiAgICB0aGlzLmhvc3QgPSBoICsgcDtcbiAgICB0aGlzLmhyZWYgKz0gdGhpcy5ob3N0O1xuXG4gICAgLy8gc3RyaXAgWyBhbmQgXSBmcm9tIHRoZSBob3N0bmFtZVxuICAgIC8vIHRoZSBob3N0IGZpZWxkIHN0aWxsIHJldGFpbnMgdGhlbSwgdGhvdWdoXG4gICAgaWYgKGlwdjZIb3N0bmFtZSkge1xuICAgICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUuc3Vic3RyKDEsIHRoaXMuaG9zdG5hbWUubGVuZ3RoIC0gMik7XG4gICAgICBpZiAocmVzdFswXSAhPT0gJy8nKSB7XG4gICAgICAgIHJlc3QgPSAnLycgKyByZXN0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIG5vdyByZXN0IGlzIHNldCB0byB0aGUgcG9zdC1ob3N0IHN0dWZmLlxuICAvLyBjaG9wIG9mZiBhbnkgZGVsaW0gY2hhcnMuXG4gIGlmICghdW5zYWZlUHJvdG9jb2xbbG93ZXJQcm90b10pIHtcblxuICAgIC8vIEZpcnN0LCBtYWtlIDEwMCUgc3VyZSB0aGF0IGFueSBcImF1dG9Fc2NhcGVcIiBjaGFycyBnZXRcbiAgICAvLyBlc2NhcGVkLCBldmVuIGlmIGVuY29kZVVSSUNvbXBvbmVudCBkb2Vzbid0IHRoaW5rIHRoZXlcbiAgICAvLyBuZWVkIHRvIGJlLlxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXV0b0VzY2FwZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBhZSA9IGF1dG9Fc2NhcGVbaV07XG4gICAgICBpZiAocmVzdC5pbmRleE9mKGFlKSA9PT0gLTEpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgdmFyIGVzYyA9IGVuY29kZVVSSUNvbXBvbmVudChhZSk7XG4gICAgICBpZiAoZXNjID09PSBhZSkge1xuICAgICAgICBlc2MgPSBlc2NhcGUoYWUpO1xuICAgICAgfVxuICAgICAgcmVzdCA9IHJlc3Quc3BsaXQoYWUpLmpvaW4oZXNjKTtcbiAgICB9XG4gIH1cblxuXG4gIC8vIGNob3Agb2ZmIGZyb20gdGhlIHRhaWwgZmlyc3QuXG4gIHZhciBoYXNoID0gcmVzdC5pbmRleE9mKCcjJyk7XG4gIGlmIChoYXNoICE9PSAtMSkge1xuICAgIC8vIGdvdCBhIGZyYWdtZW50IHN0cmluZy5cbiAgICB0aGlzLmhhc2ggPSByZXN0LnN1YnN0cihoYXNoKTtcbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBoYXNoKTtcbiAgfVxuICB2YXIgcW0gPSByZXN0LmluZGV4T2YoJz8nKTtcbiAgaWYgKHFtICE9PSAtMSkge1xuICAgIHRoaXMuc2VhcmNoID0gcmVzdC5zdWJzdHIocW0pO1xuICAgIHRoaXMucXVlcnkgPSByZXN0LnN1YnN0cihxbSArIDEpO1xuICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5xdWVyeSk7XG4gICAgfVxuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIHFtKTtcbiAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgLy8gbm8gcXVlcnkgc3RyaW5nLCBidXQgcGFyc2VRdWVyeVN0cmluZyBzdGlsbCByZXF1ZXN0ZWRcbiAgICB0aGlzLnNlYXJjaCA9ICcnO1xuICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgfVxuICBpZiAocmVzdCkgdGhpcy5wYXRobmFtZSA9IHJlc3Q7XG4gIGlmIChzbGFzaGVkUHJvdG9jb2xbbG93ZXJQcm90b10gJiZcbiAgICAgIHRoaXMuaG9zdG5hbWUgJiYgIXRoaXMucGF0aG5hbWUpIHtcbiAgICB0aGlzLnBhdGhuYW1lID0gJy8nO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICBpZiAodGhpcy5wYXRobmFtZSB8fCB0aGlzLnNlYXJjaCkge1xuICAgIHZhciBwID0gdGhpcy5wYXRobmFtZSB8fCAnJztcbiAgICB2YXIgcyA9IHRoaXMuc2VhcmNoIHx8ICcnO1xuICAgIHRoaXMucGF0aCA9IHAgKyBzO1xuICB9XG5cbiAgLy8gZmluYWxseSwgcmVjb25zdHJ1Y3QgdGhlIGhyZWYgYmFzZWQgb24gd2hhdCBoYXMgYmVlbiB2YWxpZGF0ZWQuXG4gIHRoaXMuaHJlZiA9IHRoaXMuZm9ybWF0KCk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZm9ybWF0IGEgcGFyc2VkIG9iamVjdCBpbnRvIGEgdXJsIHN0cmluZ1xuZnVuY3Rpb24gdXJsRm9ybWF0KG9iaikge1xuICAvLyBlbnN1cmUgaXQncyBhbiBvYmplY3QsIGFuZCBub3QgYSBzdHJpbmcgdXJsLlxuICAvLyBJZiBpdCdzIGFuIG9iaiwgdGhpcyBpcyBhIG5vLW9wLlxuICAvLyB0aGlzIHdheSwgeW91IGNhbiBjYWxsIHVybF9mb3JtYXQoKSBvbiBzdHJpbmdzXG4gIC8vIHRvIGNsZWFuIHVwIHBvdGVudGlhbGx5IHdvbmt5IHVybHMuXG4gIGlmICh1dGlsLmlzU3RyaW5nKG9iaikpIG9iaiA9IHVybFBhcnNlKG9iaik7XG4gIGlmICghKG9iaiBpbnN0YW5jZW9mIFVybCkpIHJldHVybiBVcmwucHJvdG90eXBlLmZvcm1hdC5jYWxsKG9iaik7XG4gIHJldHVybiBvYmouZm9ybWF0KCk7XG59XG5cblVybC5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBhdXRoID0gdGhpcy5hdXRoIHx8ICcnO1xuICBpZiAoYXV0aCkge1xuICAgIGF1dGggPSBlbmNvZGVVUklDb21wb25lbnQoYXV0aCk7XG4gICAgYXV0aCA9IGF1dGgucmVwbGFjZSgvJTNBL2ksICc6Jyk7XG4gICAgYXV0aCArPSAnQCc7XG4gIH1cblxuICB2YXIgcHJvdG9jb2wgPSB0aGlzLnByb3RvY29sIHx8ICcnLFxuICAgICAgcGF0aG5hbWUgPSB0aGlzLnBhdGhuYW1lIHx8ICcnLFxuICAgICAgaGFzaCA9IHRoaXMuaGFzaCB8fCAnJyxcbiAgICAgIGhvc3QgPSBmYWxzZSxcbiAgICAgIHF1ZXJ5ID0gJyc7XG5cbiAgaWYgKHRoaXMuaG9zdCkge1xuICAgIGhvc3QgPSBhdXRoICsgdGhpcy5ob3N0O1xuICB9IGVsc2UgaWYgKHRoaXMuaG9zdG5hbWUpIHtcbiAgICBob3N0ID0gYXV0aCArICh0aGlzLmhvc3RuYW1lLmluZGV4T2YoJzonKSA9PT0gLTEgP1xuICAgICAgICB0aGlzLmhvc3RuYW1lIDpcbiAgICAgICAgJ1snICsgdGhpcy5ob3N0bmFtZSArICddJyk7XG4gICAgaWYgKHRoaXMucG9ydCkge1xuICAgICAgaG9zdCArPSAnOicgKyB0aGlzLnBvcnQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKHRoaXMucXVlcnkgJiZcbiAgICAgIHV0aWwuaXNPYmplY3QodGhpcy5xdWVyeSkgJiZcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMucXVlcnkpLmxlbmd0aCkge1xuICAgIHF1ZXJ5ID0gcXVlcnlzdHJpbmcuc3RyaW5naWZ5KHRoaXMucXVlcnkpO1xuICB9XG5cbiAgdmFyIHNlYXJjaCA9IHRoaXMuc2VhcmNoIHx8IChxdWVyeSAmJiAoJz8nICsgcXVlcnkpKSB8fCAnJztcblxuICBpZiAocHJvdG9jb2wgJiYgcHJvdG9jb2wuc3Vic3RyKC0xKSAhPT0gJzonKSBwcm90b2NvbCArPSAnOic7XG5cbiAgLy8gb25seSB0aGUgc2xhc2hlZFByb3RvY29scyBnZXQgdGhlIC8vLiAgTm90IG1haWx0bzosIHhtcHA6LCBldGMuXG4gIC8vIHVubGVzcyB0aGV5IGhhZCB0aGVtIHRvIGJlZ2luIHdpdGguXG4gIGlmICh0aGlzLnNsYXNoZXMgfHxcbiAgICAgICghcHJvdG9jb2wgfHwgc2xhc2hlZFByb3RvY29sW3Byb3RvY29sXSkgJiYgaG9zdCAhPT0gZmFsc2UpIHtcbiAgICBob3N0ID0gJy8vJyArIChob3N0IHx8ICcnKTtcbiAgICBpZiAocGF0aG5hbWUgJiYgcGF0aG5hbWUuY2hhckF0KDApICE9PSAnLycpIHBhdGhuYW1lID0gJy8nICsgcGF0aG5hbWU7XG4gIH0gZWxzZSBpZiAoIWhvc3QpIHtcbiAgICBob3N0ID0gJyc7XG4gIH1cblxuICBpZiAoaGFzaCAmJiBoYXNoLmNoYXJBdCgwKSAhPT0gJyMnKSBoYXNoID0gJyMnICsgaGFzaDtcbiAgaWYgKHNlYXJjaCAmJiBzZWFyY2guY2hhckF0KDApICE9PSAnPycpIHNlYXJjaCA9ICc/JyArIHNlYXJjaDtcblxuICBwYXRobmFtZSA9IHBhdGhuYW1lLnJlcGxhY2UoL1s/I10vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KG1hdGNoKTtcbiAgfSk7XG4gIHNlYXJjaCA9IHNlYXJjaC5yZXBsYWNlKCcjJywgJyUyMycpO1xuXG4gIHJldHVybiBwcm90b2NvbCArIGhvc3QgKyBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlKHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmUocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICByZXR1cm4gdGhpcy5yZXNvbHZlT2JqZWN0KHVybFBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSkpLmZvcm1hdCgpO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZU9iamVjdChzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIGlmICghc291cmNlKSByZXR1cm4gcmVsYXRpdmU7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlT2JqZWN0KHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlT2JqZWN0ID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgaWYgKHV0aWwuaXNTdHJpbmcocmVsYXRpdmUpKSB7XG4gICAgdmFyIHJlbCA9IG5ldyBVcmwoKTtcbiAgICByZWwucGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKTtcbiAgICByZWxhdGl2ZSA9IHJlbDtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSBuZXcgVXJsKCk7XG4gIHZhciB0a2V5cyA9IE9iamVjdC5rZXlzKHRoaXMpO1xuICBmb3IgKHZhciB0ayA9IDA7IHRrIDwgdGtleXMubGVuZ3RoOyB0aysrKSB7XG4gICAgdmFyIHRrZXkgPSB0a2V5c1t0a107XG4gICAgcmVzdWx0W3RrZXldID0gdGhpc1t0a2V5XTtcbiAgfVxuXG4gIC8vIGhhc2ggaXMgYWx3YXlzIG92ZXJyaWRkZW4sIG5vIG1hdHRlciB3aGF0LlxuICAvLyBldmVuIGhyZWY9XCJcIiB3aWxsIHJlbW92ZSBpdC5cbiAgcmVzdWx0Lmhhc2ggPSByZWxhdGl2ZS5oYXNoO1xuXG4gIC8vIGlmIHRoZSByZWxhdGl2ZSB1cmwgaXMgZW1wdHksIHRoZW4gdGhlcmUncyBub3RoaW5nIGxlZnQgdG8gZG8gaGVyZS5cbiAgaWYgKHJlbGF0aXZlLmhyZWYgPT09ICcnKSB7XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGhyZWZzIGxpa2UgLy9mb28vYmFyIGFsd2F5cyBjdXQgdG8gdGhlIHByb3RvY29sLlxuICBpZiAocmVsYXRpdmUuc2xhc2hlcyAmJiAhcmVsYXRpdmUucHJvdG9jb2wpIHtcbiAgICAvLyB0YWtlIGV2ZXJ5dGhpbmcgZXhjZXB0IHRoZSBwcm90b2NvbCBmcm9tIHJlbGF0aXZlXG4gICAgdmFyIHJrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgIGZvciAodmFyIHJrID0gMDsgcmsgPCBya2V5cy5sZW5ndGg7IHJrKyspIHtcbiAgICAgIHZhciBya2V5ID0gcmtleXNbcmtdO1xuICAgICAgaWYgKHJrZXkgIT09ICdwcm90b2NvbCcpXG4gICAgICAgIHJlc3VsdFtya2V5XSA9IHJlbGF0aXZlW3JrZXldO1xuICAgIH1cblxuICAgIC8vdXJsUGFyc2UgYXBwZW5kcyB0cmFpbGluZyAvIHRvIHVybHMgbGlrZSBodHRwOi8vd3d3LmV4YW1wbGUuY29tXG4gICAgaWYgKHNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdICYmXG4gICAgICAgIHJlc3VsdC5ob3N0bmFtZSAmJiAhcmVzdWx0LnBhdGhuYW1lKSB7XG4gICAgICByZXN1bHQucGF0aCA9IHJlc3VsdC5wYXRobmFtZSA9ICcvJztcbiAgICB9XG5cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKHJlbGF0aXZlLnByb3RvY29sICYmIHJlbGF0aXZlLnByb3RvY29sICE9PSByZXN1bHQucHJvdG9jb2wpIHtcbiAgICAvLyBpZiBpdCdzIGEga25vd24gdXJsIHByb3RvY29sLCB0aGVuIGNoYW5naW5nXG4gICAgLy8gdGhlIHByb3RvY29sIGRvZXMgd2VpcmQgdGhpbmdzXG4gICAgLy8gZmlyc3QsIGlmIGl0J3Mgbm90IGZpbGU6LCB0aGVuIHdlIE1VU1QgaGF2ZSBhIGhvc3QsXG4gICAgLy8gYW5kIGlmIHRoZXJlIHdhcyBhIHBhdGhcbiAgICAvLyB0byBiZWdpbiB3aXRoLCB0aGVuIHdlIE1VU1QgaGF2ZSBhIHBhdGguXG4gICAgLy8gaWYgaXQgaXMgZmlsZTosIHRoZW4gdGhlIGhvc3QgaXMgZHJvcHBlZCxcbiAgICAvLyBiZWNhdXNlIHRoYXQncyBrbm93biB0byBiZSBob3N0bGVzcy5cbiAgICAvLyBhbnl0aGluZyBlbHNlIGlzIGFzc3VtZWQgdG8gYmUgYWJzb2x1dGUuXG4gICAgaWYgKCFzbGFzaGVkUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICAgIGZvciAodmFyIHYgPSAwOyB2IDwga2V5cy5sZW5ndGg7IHYrKykge1xuICAgICAgICB2YXIgayA9IGtleXNbdl07XG4gICAgICAgIHJlc3VsdFtrXSA9IHJlbGF0aXZlW2tdO1xuICAgICAgfVxuICAgICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlc3VsdC5wcm90b2NvbCA9IHJlbGF0aXZlLnByb3RvY29sO1xuICAgIGlmICghcmVsYXRpdmUuaG9zdCAmJiAhaG9zdGxlc3NQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciByZWxQYXRoID0gKHJlbGF0aXZlLnBhdGhuYW1lIHx8ICcnKS5zcGxpdCgnLycpO1xuICAgICAgd2hpbGUgKHJlbFBhdGgubGVuZ3RoICYmICEocmVsYXRpdmUuaG9zdCA9IHJlbFBhdGguc2hpZnQoKSkpO1xuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0KSByZWxhdGl2ZS5ob3N0ID0gJyc7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3RuYW1lKSByZWxhdGl2ZS5ob3N0bmFtZSA9ICcnO1xuICAgICAgaWYgKHJlbFBhdGhbMF0gIT09ICcnKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgaWYgKHJlbFBhdGgubGVuZ3RoIDwgMikgcmVsUGF0aC51bnNoaWZ0KCcnKTtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbFBhdGguam9pbignLycpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxhdGl2ZS5wYXRobmFtZTtcbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICByZXN1bHQuaG9zdCA9IHJlbGF0aXZlLmhvc3QgfHwgJyc7XG4gICAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoO1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3Q7XG4gICAgcmVzdWx0LnBvcnQgPSByZWxhdGl2ZS5wb3J0O1xuICAgIC8vIHRvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5wYXRobmFtZSB8fCByZXN1bHQuc2VhcmNoKSB7XG4gICAgICB2YXIgcCA9IHJlc3VsdC5wYXRobmFtZSB8fCAnJztcbiAgICAgIHZhciBzID0gcmVzdWx0LnNlYXJjaCB8fCAnJztcbiAgICAgIHJlc3VsdC5wYXRoID0gcCArIHM7XG4gICAgfVxuICAgIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgdmFyIGlzU291cmNlQWJzID0gKHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpLFxuICAgICAgaXNSZWxBYnMgPSAoXG4gICAgICAgICAgcmVsYXRpdmUuaG9zdCB8fFxuICAgICAgICAgIHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nXG4gICAgICApLFxuICAgICAgbXVzdEVuZEFicyA9IChpc1JlbEFicyB8fCBpc1NvdXJjZUFicyB8fFxuICAgICAgICAgICAgICAgICAgICAocmVzdWx0Lmhvc3QgJiYgcmVsYXRpdmUucGF0aG5hbWUpKSxcbiAgICAgIHJlbW92ZUFsbERvdHMgPSBtdXN0RW5kQWJzLFxuICAgICAgc3JjUGF0aCA9IHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuc3BsaXQoJy8nKSB8fCBbXSxcbiAgICAgIHJlbFBhdGggPSByZWxhdGl2ZS5wYXRobmFtZSAmJiByZWxhdGl2ZS5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcHN5Y2hvdGljID0gcmVzdWx0LnByb3RvY29sICYmICFzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXTtcblxuICAvLyBpZiB0aGUgdXJsIGlzIGEgbm9uLXNsYXNoZWQgdXJsLCB0aGVuIHJlbGF0aXZlXG4gIC8vIGxpbmtzIGxpa2UgLi4vLi4gc2hvdWxkIGJlIGFibGVcbiAgLy8gdG8gY3Jhd2wgdXAgdG8gdGhlIGhvc3RuYW1lLCBhcyB3ZWxsLiAgVGhpcyBpcyBzdHJhbmdlLlxuICAvLyByZXN1bHQucHJvdG9jb2wgaGFzIGFscmVhZHkgYmVlbiBzZXQgYnkgbm93LlxuICAvLyBMYXRlciBvbiwgcHV0IHRoZSBmaXJzdCBwYXRoIHBhcnQgaW50byB0aGUgaG9zdCBmaWVsZC5cbiAgaWYgKHBzeWNob3RpYykge1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9ICcnO1xuICAgIHJlc3VsdC5wb3J0ID0gbnVsbDtcbiAgICBpZiAocmVzdWx0Lmhvc3QpIHtcbiAgICAgIGlmIChzcmNQYXRoWzBdID09PSAnJykgc3JjUGF0aFswXSA9IHJlc3VsdC5ob3N0O1xuICAgICAgZWxzZSBzcmNQYXRoLnVuc2hpZnQocmVzdWx0Lmhvc3QpO1xuICAgIH1cbiAgICByZXN1bHQuaG9zdCA9ICcnO1xuICAgIGlmIChyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgPSBudWxsO1xuICAgICAgcmVsYXRpdmUucG9ydCA9IG51bGw7XG4gICAgICBpZiAocmVsYXRpdmUuaG9zdCkge1xuICAgICAgICBpZiAocmVsUGF0aFswXSA9PT0gJycpIHJlbFBhdGhbMF0gPSByZWxhdGl2ZS5ob3N0O1xuICAgICAgICBlbHNlIHJlbFBhdGgudW5zaGlmdChyZWxhdGl2ZS5ob3N0KTtcbiAgICAgIH1cbiAgICAgIHJlbGF0aXZlLmhvc3QgPSBudWxsO1xuICAgIH1cbiAgICBtdXN0RW5kQWJzID0gbXVzdEVuZEFicyAmJiAocmVsUGF0aFswXSA9PT0gJycgfHwgc3JjUGF0aFswXSA9PT0gJycpO1xuICB9XG5cbiAgaWYgKGlzUmVsQWJzKSB7XG4gICAgLy8gaXQncyBhYnNvbHV0ZS5cbiAgICByZXN1bHQuaG9zdCA9IChyZWxhdGl2ZS5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICByZWxhdGl2ZS5ob3N0IDogcmVzdWx0Lmhvc3Q7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gKHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3RuYW1lID09PSAnJykgP1xuICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3RuYW1lIDogcmVzdWx0Lmhvc3RuYW1lO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgc3JjUGF0aCA9IHJlbFBhdGg7XG4gICAgLy8gZmFsbCB0aHJvdWdoIHRvIHRoZSBkb3QtaGFuZGxpbmcgYmVsb3cuXG4gIH0gZWxzZSBpZiAocmVsUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBpdCdzIHJlbGF0aXZlXG4gICAgLy8gdGhyb3cgYXdheSB0aGUgZXhpc3RpbmcgZmlsZSwgYW5kIHRha2UgdGhlIG5ldyBwYXRoIGluc3RlYWQuXG4gICAgaWYgKCFzcmNQYXRoKSBzcmNQYXRoID0gW107XG4gICAgc3JjUGF0aC5wb3AoKTtcbiAgICBzcmNQYXRoID0gc3JjUGF0aC5jb25jYXQocmVsUGF0aCk7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgfSBlbHNlIGlmICghdXRpbC5pc051bGxPclVuZGVmaW5lZChyZWxhdGl2ZS5zZWFyY2gpKSB7XG4gICAgLy8ganVzdCBwdWxsIG91dCB0aGUgc2VhcmNoLlxuICAgIC8vIGxpa2UgaHJlZj0nP2ZvbycuXG4gICAgLy8gUHV0IHRoaXMgYWZ0ZXIgdGhlIG90aGVyIHR3byBjYXNlcyBiZWNhdXNlIGl0IHNpbXBsaWZpZXMgdGhlIGJvb2xlYW5zXG4gICAgaWYgKHBzeWNob3RpYykge1xuICAgICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBzcmNQYXRoLnNoaWZ0KCk7XG4gICAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAgIC8vdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgICB2YXIgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmICghc3JjUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBubyBwYXRoIGF0IGFsbC4gIGVhc3kuXG4gICAgLy8gd2UndmUgYWxyZWFkeSBoYW5kbGVkIHRoZSBvdGhlciBzdHVmZiBhYm92ZS5cbiAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnNlYXJjaCkge1xuICAgICAgcmVzdWx0LnBhdGggPSAnLycgKyByZXN1bHQuc2VhcmNoO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gICAgfVxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBpZiBhIHVybCBFTkRzIGluIC4gb3IgLi4sIHRoZW4gaXQgbXVzdCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgLy8gaG93ZXZlciwgaWYgaXQgZW5kcyBpbiBhbnl0aGluZyBlbHNlIG5vbi1zbGFzaHksXG4gIC8vIHRoZW4gaXQgbXVzdCBOT1QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gIHZhciBsYXN0ID0gc3JjUGF0aC5zbGljZSgtMSlbMF07XG4gIHZhciBoYXNUcmFpbGluZ1NsYXNoID0gKFxuICAgICAgKHJlc3VsdC5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgfHwgc3JjUGF0aC5sZW5ndGggPiAxKSAmJlxuICAgICAgKGxhc3QgPT09ICcuJyB8fCBsYXN0ID09PSAnLi4nKSB8fCBsYXN0ID09PSAnJyk7XG5cbiAgLy8gc3RyaXAgc2luZ2xlIGRvdHMsIHJlc29sdmUgZG91YmxlIGRvdHMgdG8gcGFyZW50IGRpclxuICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMFxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gc3JjUGF0aC5sZW5ndGg7IGkgPj0gMDsgaS0tKSB7XG4gICAgbGFzdCA9IHNyY1BhdGhbaV07XG4gICAgaWYgKGxhc3QgPT09ICcuJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnNcbiAgaWYgKCFtdXN0RW5kQWJzICYmICFyZW1vdmVBbGxEb3RzKSB7XG4gICAgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgICBzcmNQYXRoLnVuc2hpZnQoJy4uJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG11c3RFbmRBYnMgJiYgc3JjUGF0aFswXSAhPT0gJycgJiZcbiAgICAgICghc3JjUGF0aFswXSB8fCBzcmNQYXRoWzBdLmNoYXJBdCgwKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoaGFzVHJhaWxpbmdTbGFzaCAmJiAoc3JjUGF0aC5qb2luKCcvJykuc3Vic3RyKC0xKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgucHVzaCgnJyk7XG4gIH1cblxuICB2YXIgaXNBYnNvbHV0ZSA9IHNyY1BhdGhbMF0gPT09ICcnIHx8XG4gICAgICAoc3JjUGF0aFswXSAmJiBzcmNQYXRoWzBdLmNoYXJBdCgwKSA9PT0gJy8nKTtcblxuICAvLyBwdXQgdGhlIGhvc3QgYmFja1xuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBpc0Fic29sdXRlID8gJycgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjUGF0aC5sZW5ndGggPyBzcmNQYXRoLnNoaWZ0KCkgOiAnJztcbiAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICB2YXIgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlO1xuICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgIH1cbiAgfVxuXG4gIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzIHx8IChyZXN1bHQuaG9zdCAmJiBzcmNQYXRoLmxlbmd0aCk7XG5cbiAgaWYgKG11c3RFbmRBYnMgJiYgIWlzQWJzb2x1dGUpIHtcbiAgICBzcmNQYXRoLnVuc2hpZnQoJycpO1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IHNyY1BhdGguam9pbignLycpO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IHJlcXVlc3QuaHR0cFxuICBpZiAoIXV0aWwuaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIXV0aWwuaXNOdWxsKHJlc3VsdC5zZWFyY2gpKSB7XG4gICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTtcbiAgfVxuICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGggfHwgcmVzdWx0LmF1dGg7XG4gIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5VcmwucHJvdG90eXBlLnBhcnNlSG9zdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaG9zdCA9IHRoaXMuaG9zdDtcbiAgdmFyIHBvcnQgPSBwb3J0UGF0dGVybi5leGVjKGhvc3QpO1xuICBpZiAocG9ydCkge1xuICAgIHBvcnQgPSBwb3J0WzBdO1xuICAgIGlmIChwb3J0ICE9PSAnOicpIHtcbiAgICAgIHRoaXMucG9ydCA9IHBvcnQuc3Vic3RyKDEpO1xuICAgIH1cbiAgICBob3N0ID0gaG9zdC5zdWJzdHIoMCwgaG9zdC5sZW5ndGggLSBwb3J0Lmxlbmd0aCk7XG4gIH1cbiAgaWYgKGhvc3QpIHRoaXMuaG9zdG5hbWUgPSBob3N0O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzU3RyaW5nOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdzdHJpbmcnO1xuICB9LFxuICBpc09iamVjdDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsT3JVbmRlZmluZWQ6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT0gbnVsbDtcbiAgfVxufTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHRsb2FkZWQ6IGZhbHNlLFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcblx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubm1kID0gKG1vZHVsZSkgPT4ge1xuXHRtb2R1bGUucGF0aHMgPSBbXTtcblx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRyZXR1cm4gbW9kdWxlO1xufTsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oODkyKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=